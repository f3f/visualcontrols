{"version":3,"sources":["webpack:///static/js/app.eae7271ae4f11bfe9641.js","webpack:///./src/assets/js/three.ShaderLibExp.js","webpack:///./src/pages/galaxy/index.vue?ca0f","webpack:///./src/assets/js/Map3D.Area.js","webpack:///./src/assets/js/Nebula.js","webpack:///src/pages/map3d/dataRange.vue","webpack:///./src/assets/js/Galaxy.js","webpack:///src/pages/galaxy/index.vue","webpack:///./src/pages/map3d/drill.vue?dbb4","webpack:///./src/pages/map3d/world.vue?1be2","webpack:///./src/App.vue?5b3e","webpack:///./src/assets/js/util.js","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/pages/map3d/debug.vue?3135","webpack:///src/pages/map3d/debug.vue","webpack:///./src/pages/index/index.vue","webpack:///./src/pages/index/index.vue?2ad6","webpack:///./src/pages/map3d/dataRange.vue","webpack:///./src/assets/js/jquery-1.9.0.js","webpack:///./src/assets/js/Map3D.Mark.js","webpack:///./src/router/index.js","webpack:///./src/pages/nebula/index.vue","webpack:///src/pages/map3d/line.vue","webpack:///./src/pages/map3d/line.vue","webpack:///./src/assets/js/OrbitControls.js","webpack:///./src/assets/img/logo.png","webpack:///./src/pages/map3d/mark.vue?0efa","webpack:///src/pages/nebula/index.vue","webpack:///./src/pages/map3d/mark.vue","webpack:///src/pages/map3d/mark.vue","webpack:///./src/pages/map3d/world.vue","webpack:///./src/assets/js/Map3D.DataRange.js","webpack:///./src/pages/map3d/dataRange.vue?6870","webpack:///./src/pages/galaxy/index.vue","webpack:///./src/pages/nebula/index.vue?0721","webpack:///./src/assets/js/tween.min.js","webpack:///./src/assets/js/Event.js","webpack:///./src/pages/map3d/line.vue?8bb7","webpack:///./src/assets/js/stats.js","webpack:///./src/pages/map3d/drill.vue","webpack:///./src/assets/js/Font3D.js","webpack:///./src/assets/js/three.js","webpack:///./src/pages/map3d/debug.vue","webpack:///./src/assets/js/Detector.js","webpack:///src/pages/index/index.vue","webpack:///./src/assets/js/Map3D.Line.js","webpack:///src/App.vue","webpack:///./src/assets/js/Map3D.js","webpack:///src/pages/map3d/drill.vue","webpack:///src/pages/map3d/world.vue"],"names":["webpackJsonp","+5pT","module","exports","+j2c","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__three_js__","line","uniforms","amplitude","value","color","texture","vertexShader","join","fragmentShader","edgelight","s","type","b","p","glowColor","createShaderMaterial","shader","side","blending","transparent","console","log","/rLR","render","_vm","this","_h","$createElement","_self","_c","ref","staticClass","staticRenderFns","esExports","0","0lfP","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn__","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn___default","__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits__","__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits___default","__WEBPACK_IMPORTED_MODULE_7__three_js__","__WEBPACK_IMPORTED_MODULE_8__tween_min_js__","__WEBPACK_IMPORTED_MODULE_9__util__","Area","_THREE$Object3D","pros","_this","__proto__","call","name","userData","coords","_mesh","getMesh","_line","getLine","add","loadEffect","setPosition","x","y","z","count","Easing","Quartic","Out","key","_this2","geo","forEach","coord","pts","getGeoPoints","g","getExtrudeGeometry","merge","matrix","getGeoMesh","e","warn","message","_this3","material","opacity","linewidth","polygonOffset","polygonOffsetFactor","lineColor","lines","i","l","length","vertices","push","extrude","amount","lineMesh","shape","mateOption","Math","random","shininess","computeFlatVertexNormals","update","hasPhong","time","delay","easing","callback","mesh","set","v3","position","PI","rotation","easingcallback","scale","dispatcher","event","hasHoverHeight","Tween","to","hoverAnimaTime","start","dispatchEvent","target","orgEvent","hoverColor","get","3pOn","Nebula","o","renderScene","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","undefined","_step2","_iterator2","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","self","pointsCloudObjects","next","done","pco","offset","err","return","requestAnimationFrame","__WEBPACK_IMPORTED_MODULE_4__tween_min_js__","renderer","scene","camera","controls","opt","wireframe","el","document","body","pointsCloud","__WEBPACK_IMPORTED_MODULE_2__Detector_js___default","a","webgl","render_w","window","innerWidth","render_h","innerHeight","__WEBPACK_IMPORTED_MODULE_3__three_js__","alpha","lookAt","setSize","rotateV","boxGeom","boxMate","box","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","pc","pcObject","createPointsCloud","domElement","style","top","appendChild","userPan","autoRotate","addEventListener","onWindowResize","getTexture","img","w","h","canvas","createElement","width","height","ctx","getContext","drawImage","gradient","createRadialGradient","addColorStop","fillStyle","fillRect","beginPath","needsUpdate","size","map","starsGeometry","star","randFloatSpread","fog","starsMaterial","depthWrite","aspect","updateProjectionMatrix","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_2__Detector_js__","prototype","rotate","rotateValue","3rnE","__WEBPACK_IMPORTED_MODULE_0_assets_js_Map3D_js__","title","data","isOverMap","mapName","mapTitlePositon","left","methods","mounted","$","getJSON","geoData","$refs","area","mark","dataRange","min","max","features","properties","setCameraPosition","obj","fromName","toName","scrollLeft","clientX","scrollTop","clientY","4otN","initStats","stats","__WEBPACK_IMPORTED_MODULE_7__stats_js___default","setMode","right","stars","__WEBPACK_IMPORTED_MODULE_4__three_js__","starVector","sizeAttenuation","alphaTest","starsPoint","createStar","dist","emissive","mateType","revspeed","rotspeed","positionOffset","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","mate","getMateByType","isStar","div","className","starTextClass","innerHTML","txt","track","emissiveMap","getXY","world_vector","vector","project","halfWidth","halfHeight","round","showName","isShow","isSelectedStar","parent","xy","indexOf","starTextHoverClass","replace","_onResize","_onMouseMove","preventDefault","mouse","offsetX","offsetY","raycaster","setFromCamera","intersects","intersectObjects","children","mouseOverObj","mouseOverObjMate","object","Shaders","clone","_onMouseDown","selectObj","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_3__Detector_js__","__WEBPACK_IMPORTED_MODULE_3__Detector_js___default","__WEBPACK_IMPORTED_MODULE_5__tween_min_js__","__WEBPACK_IMPORTED_MODULE_7__stats_js__","earth","atmosphere","Galaxy","antialias","clear","spotLight","spotLighth","al","sun","loadTexture","suixin","jinxin","s2","s21","s3","s4","s5","tu_huan_geometry","tu_huan_material","tu_huan","s6","s7","s8","starOpt","sin","cos","bind","8cm3","B0R6","__WEBPACK_IMPORTED_MODULE_1_assets_js_Galaxy_js__","created","wrap","starOpts","D9gg","class","mapActiveLevel","attrs","id","_v","on","click","openChinaMap","_s","EEzz","Ez1z","Gb5I","ITh+","$event","setTitle","staticStyle","display","src","_m","isMax","_l","item","params","tag","nativeOn","menuIcon","href","LOkV","colorToHex","parseInt","__WEBPACK_IMPORTED_MODULE_1__three_js__","getHex","transition","from","__WEBPACK_IMPORTED_MODULE_2__tween_min_js__","Linear","None","onComplete","d","extend","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default","copyIsArray","toString","Object","hasOwn","hasOwnProperty","class2type","[object Boolean]","[object Number]","[object String]","[object Function]","[object Array]","[object Date]","[object RegExp]","[object Object]","String","isWindow","isArray","Array","isPlainObject","nodeType","constructor","deep","options","copy","M93x","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_ff210290_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","__vue_styles__","Component","NHnr","defineProperty","__WEBPACK_IMPORTED_MODULE_0_babel_polyfill__","__WEBPACK_IMPORTED_MODULE_1_vue__","__WEBPACK_IMPORTED_MODULE_2__App__","__WEBPACK_IMPORTED_MODULE_3__router__","__WEBPACK_IMPORTED_MODULE_4__assets_css_index_sass__","config","productionTip","router","template","components","App","P+U6","P73I","openProvMap","disable","map1","debugger","setColor","Qt9A","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_09efdbad_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__","SJxh","UkRF","W3s/","XStf","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_dataRange_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6bc9cb56_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_dataRange_vue__","XcOq","isArraylike","jQuery","createOptions","optionsCache","each","match","core_rnotwhite","_","flag","internalData","elem","pvt","acceptData","thisCache","ret","internalKey","expando","getByName","isNode","cache","core_deletedIds","pop","guid","toJSON","noop","camelCase","internalRemoveData","concat","split","isEmptyDataObject","isEmptyObject","cleanData","support","deleteExpando","dataAttr","rmultiDash","toLowerCase","getAttribute","rbrace","test","parseJSON","returnTrue","returnFalse","sibling","cur","dir","winnow","elements","qualifier","keep","isFunction","grep","filtered","isSimple","filter","inArray","createSafeFragment","list","nodeNames","safeFrag","createDocumentFragment","findOrAppend","getElementsByTagName","ownerDocument","disableScript","attr","getAttributeNode","specified","restoreScript","rscriptTypeMasked","exec","removeAttribute","setGlobalEval","elems","refElements","_data","cloneCopyEvent","dest","hasData","oldData","curData","events","handle","fixCloneNodeIssues","nodeName","noCloneEvent","removeEvent","text","parentNode","outerHTML","html5Clone","trim","manipulation_rcheckableType","defaultChecked","checked","defaultSelected","selected","defaultValue","getAll","context","found","querySelectorAll","childNodes","fixDefaultChecked","vendorPropName","capName","charAt","toUpperCase","slice","origName","cssPrefixes","isHidden","css","contains","showHide","show","values","index","css_defaultDisplay","setPositiveNumber","subtract","matches","rnumsplit","augmentWidthOrHeight","extra","isBorderBox","styles","val","cssExpand","getWidthOrHeight","valueIsBorderBox","offsetWidth","offsetHeight","getStyles","boxSizing","curCSS","rnumnonpx","boxSizingReliable","parseFloat","doc","elemdisplay","actualDisplay","iframe","appendTo","documentElement","contentWindow","contentDocument","write","close","detach","remove","buildParams","prefix","traditional","v","rbracket","addToPrefiltersOrTransports","structure","dataTypeExpression","func","dataType","dataTypes","unshift","inspectPrefiltersOrTransports","originalOptions","jqXHR","inspect","inspected","prefilterOrFactory","dataTypeOrTransport","seekingTransport","transports","ajaxExtend","flatOptions","ajaxSettings","ajaxHandleResponses","responses","ct","finalDataType","firstDataType","contents","responseFields","shift","mimeType","getResponseHeader","converters","ajaxConvert","response","conv","conv2","current","tmp","prev","dataFilter","splice","state","error","createStandardXHR","XMLHttpRequest","createActiveXHR","ActiveXObject","createFxNow","setTimeout","fxNow","now","createTweens","animation","props","prop","collection","tweeners","Animation","result","stopped","animationPrefilters","deferred","Deferred","always","tick","currentTime","remaining","startTime","duration","temp","percent","tweens","run","notifyWith","resolveWith","promise","opts","specialEasing","originalProperties","createTween","end","tween","stop","gotoEnd","rejectWith","propFilter","fx","timer","anim","queue","progress","complete","fail","hooks","cssHooks","expand","defaultPrefilter","dataShow","toggle","oldfire","orig","handled","hidden","_queueHooks","unqueued","empty","fire","overflow","overflowX","overflowY","inlineBlockNeedsLayout","zoom","shrinkWrapBlocks","rfxtypes","hide","_removeData","init","genFx","includeWidth","which","getWindow","defaultView","parentWindow","rootjQuery","readyList","location","_jQuery","_$","core_concat","core_push","core_slice","core_indexOf","core_toString","core_hasOwn","core_trim","selector","fn","core_pnum","source","rtrim","rquickExpr","rsingleTag","rvalidchars","rvalidbraces","rvalidescape","rvalidtokens","rmsPrefix","rdashAlpha","fcamelCase","all","letter","DOMContentLoaded","removeEventListener","ready","readyState","detachEvent","jquery","find","parseHTML","getElementById","makeArray","toArray","num","pushStack","prevObject","args","apply","arguments","first","eq","last","len","j","sort","noConflict","isReady","readyWait","holdReady","hold","wait","trigger","off","isNumeric","isNaN","isFinite","msg","Error","keepScripts","parsed","scripts","buildFragment","JSON","parse","Function","parseXML","xml","DOMParser","parseFromString","async","loadXML","globalEval","execScript","string","arr","results","second","inv","retVal","arg","proxy","access","chainable","emptyGet","raw","bulk","Date","getTime","attachEvent","frameElement","doScroll","doScrollCheck","Callbacks","memory","fired","firing","firingStart","firingLength","firingIndex","stack","once","stopOnFalse","unique","has","disabled","lock","locked","fireWith","tuples","then","fns","newDefer","tuple","action","returned","resolve","reject","notify","pipe","stateString","when","subordinate","progressValues","progressContexts","resolveContexts","resolveValues","updateFunc","contexts","select","input","fragment","eventName","isSupported","setAttribute","cssText","getSetAttribute","leadingWhitespace","firstChild","tbody","htmlSerialize","hrefNormalized","cssFloat","checkOn","optSelected","enctype","cloneNode","boxModel","compatMode","reliableMarginRight","pixelPosition","noCloneChecked","optDisabled","radioValue","appendChecked","checkClone","lastChild","submit","change","focusin","attributes","backgroundClip","clearCloneStyle","container","marginDiv","tds","divReset","reliableHiddenOffsets","doesNotIncludeMarginInBodyOffset","offsetTop","getComputedStyle","marginRight","removeChild","noData","embed","applet","removeData","substring","dequeue","startLength","setter","speeds","timeout","clearTimeout","clearQueue","defer","nodeHook","boolHook","rclass","rreturn","rfocusable","rclickable","rboolean","ruseDefault","getSetInput","removeAttr","removeProp","propFix","addClass","classes","clazz","proceed","removeClass","toggleClass","stateVal","isBool","classNames","hasClass","valHooks","option","selectedIndex","one","notxml","nType","isXMLDoc","attrHooks","propName","attrNames","tabindex","readonly","for","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","propHooks","tabIndex","attributeNode","detail","button","setAttributeNode","createAttribute","rformElems","rkeyEvent","rmouseEvent","rfocusMorph","rtypenamespace","global","types","handler","handleObjIn","eventHandle","t","handleObj","special","handlers","namespaces","origType","elemData","triggered","dispatch","delegateType","bindType","needsContext","expr","namespace","delegateCount","setup","mappedTypes","origCount","RegExp","teardown","onlyHandlers","bubbleType","ontype","eventPath","Event","isTrigger","namespace_re","noBubble","isPropagationStopped","isDefaultPrevented","_default","fix","matched","handlerQueue","delegateTarget","preDispatch","currentTarget","isImmediatePropagationStopped","stopPropagation","postDispatch","sel","originalEvent","fixHook","fixHooks","srcElement","metaKey","keyHooks","original","charCode","keyCode","mouseHooks","eventDoc","fromElement","pageX","clientLeft","pageY","clientTop","relatedTarget","toElement","load","focus","activeElement","blur","beforeunload","returnValue","simulate","bubble","isSimulated","defaultPrevented","getPreventDefault","timeStamp","cancelBubble","stopImmediatePropagation","mouseenter","mouseleave","related","submitBubbles","form","_submit_bubble","changeBubbles","propertyName","_just_changed","focusinBubbles","attaches","origFn","unbind","delegate","undelegate","triggerHandler","hover","fnOver","fnOut","isNative","rnative","createCache","keys","Expr","cacheLength","markFunction","assert","Sizzle","seed","m","groups","old","nid","newContext","newSelector","preferredDoc","setDocument","documentIsXML","getByClassName","getElementsByClassName","qsa","rbuggyQSA","tokenize","rescape","toSelector","rsibling","qsaError","siblingCheck","nextSibling","createPositionalPseudo","argument","matchIndexes","parseOnly","tokens","soFar","preFilters","cached","tokenCache","preFilter","rcomma","rcombinators","matchExpr","addCombinator","matcher","combinator","base","checkNonElements","doneName","outerCache","dirkey","dirruns","cachedruns","elementMatcher","matchers","condense","unmatched","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","preMap","postMap","preexisting","multipleContexts","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","relative","implicitRelative","matchContext","matchAnyContext","outermostContext","matcherFromGroupMatchers","elementMatchers","setMatchers","matcherCachedRuns","bySet","byElement","superMatcher","expandContext","setMatched","matchedCount","outermost","contextBackup","dirrunsUnique","E","uniqueSort","token","runescape","funescape","compile","setFilters","getText","isXML","hasDuplicate","docElem","rbuggyMatches","sortOrder","classCache","compilerCache","whitespace","characterEncoding","identifier","pseudos","rpseudo","ridentifier","ID","CLASS","NAME","TAG","ATTR","PSEUDO","CHILD","rinputs","rheader","rattributeQuotes","escaped","high","fromCharCode","node","tagNameNoComments","createComment","insertBefore","pass","getElementsByName","getIdNotName","attrHandle","attrId","matchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","aup","ap","bp","sourceIndex","detectDuplicates","duplicates","textContent","nodeValue","selectors","createPseudo",">"," ","+","~","excess","unquoted","pattern","operator","check","substr","what","simple","forward","ofType","diff","nodeIndex","useCache","pseudo","idx","not","innerText","lang","elemLang","hash","root","hasFocus","enabled","header","even","odd","lt","gt","radio","checkbox","file","password","image","reset","group","filters","runtil","rparentsprev","rneedsContext","guaranteedUnique","targets","is","closest","pos","prevAll","addBack","andSelf","parents","parentsUntil","until","nextAll","nextUntil","prevUntil","siblings","reverse","r","rinlinejQuery","rnoshimcache","rleadingWhitespace","rxhtmlTag","rtagName","rtbody","rhtml","rnoInnerhtml","rchecked","rscriptType","rcleanScript","wrapMap","legend","param","thead","tr","col","td","safeFragment","fragmentDiv","optgroup","tfoot","colgroup","caption","th","createTextNode","wrapAll","html","wrapInner","unwrap","replaceWith","append","domManip","prepend","before","after","keepData","dataAndEvents","deepDataAndEvents","table","hasScripts","iNoClone","ajax","url","throws","prependTo","insertAfter","replaceAll","insert","destElements","srcElements","inPage","selection","safe","nodes","ralpha","ropacity","rposition","rdisplayswap","rmargin","rrelNum","BODY","cssShow","visibility","cssNormalTransform","letterSpacing","fontWeight","bool","computed","cssNumber","columnCount","fillOpacity","lineHeight","orphans","widows","zIndex","cssProps","float","swap","_computed","minWidth","maxWidth","getPropertyValue","currentStyle","rs","rsLeft","runtimeStyle","pixelLeft","$1","visible","margin","padding","border","suffix","expanded","parts","r20","rCRLF","rsubmitterTypes","rsubmittable","serialize","serializeArray","encodeURIComponent","ajaxLocParts","ajaxLocation","ajax_nonce","ajax_rquery","rhash","rts","rheaders","rlocalProtocol","rnoContent","rprotocol","rurl","_load","prefilters","allTypes","responseText","status","method","success","active","lastModified","etag","isLocal","processData","contentType","accepts","*","json","* text","text html","text json","text xml","ajaxSetup","settings","ajaxPrefilter","ajaxTransport","nativeStatusText","headers","isSuccess","modified","statusText","timeoutTimer","transport","responseHeadersString","ifModified","cacheURL","callbackContext","statusCode","fireGlobals","globalEventContext","completeDeferred","responseHeaders","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","setRequestHeader","lname","overrideMimeType","code","abort","finalText","crossDomain","hasContent","beforeSend","send","getScript","script","text script","head","scriptCharset","charset","onload","onreadystatechange","isAbort","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","xhrCallbacks","xhrSupported","xhrId","xhrOnUnloadAbort","xhr","cors","username","open","xhrFields","responseXML","firefoxAccessException","unload","timerId","rfxnum","rrun","unit","maxIterations","tweener","prefilter","eased","step","cssFn","speed","animate","fadeTo","optall","doAnimation","finish","stopQueue","timers","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","linear","swing","interval","setInterval","clearInterval","slow","fast","animated","setOffset","win","getBoundingClientRect","pageYOffset","pageXOffset","curTop","curLeft","curElem","curOffset","curCSSTop","curCSSLeft","calculatePosition","curPosition","using","offsetParent","parentOffset","scrollTo","Height","Width","content","","defaultExtra","funcName","define","Y5xE","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default","__WEBPACK_IMPORTED_MODULE_6__three_js__","__WEBPACK_IMPORTED_MODULE_7__tween_min_js__","__WEBPACK_IMPORTED_MODULE_8__util__","Mark","_THREE$Sprite","abs","clearRect","arc","fill","_texture","draw","YaEn","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__pages_index__","__WEBPACK_IMPORTED_MODULE_3__pages_nebula__","__WEBPACK_IMPORTED_MODULE_4__pages_galaxy__","__WEBPACK_IMPORTED_MODULE_5__pages_map3d_dataRange__","__WEBPACK_IMPORTED_MODULE_6__pages_map3d_world__","__WEBPACK_IMPORTED_MODULE_7__pages_map3d_debug__","__WEBPACK_IMPORTED_MODULE_8__pages_map3d_mark__","__WEBPACK_IMPORTED_MODULE_9__pages_map3d_line__","__WEBPACK_IMPORTED_MODULE_10__pages_map3d_drill__","use","routes","path","redirect","isMenu","component","ZUlz","a+ex","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_31537f88_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__","bGv6","hoverExclusive","cp","haloDensity","hasHalo","hasHaloAnimate","spaceHeight","haloColor","haloSize","haloRunRate","initLine","bWYS","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_line_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_cdb111d6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_line_vue__","bZxG","OrbitControls","getAutoRotationAngle","scope","autoRotateSpeed","getZoomScale","pow","zoomSpeed","rotateLeft","angle","sphericalDelta","theta","rotateUp","phi","dollyIn","dollyScale","isPerspectiveCamera","isOrthographicCamera","minZoom","maxZoom","zoomChanged","enableZoom","dollyOut","handleMouseDownRotate","rotateStart","handleMouseDownDolly","dollyStart","handleMouseDownPan","panStart","handleMouseMoveRotate","rotateEnd","rotateDelta","subVectors","element","clientWidth","rotateSpeed","clientHeight","handleMouseMoveDolly","dollyEnd","dollyDelta","handleMouseMovePan","panEnd","panDelta","pan","handleMouseUp","handleMouseWheel","deltaY","handleKeyDown","UP","keyPanSpeed","BOTTOM","LEFT","RIGHT","handleTouchStartRotate","touches","handleTouchStartDolly","dx","dy","distance","sqrt","handleTouchStartPan","handleTouchMoveRotate","handleTouchMoveDolly","handleTouchMovePan","handleTouchEnd","onMouseDown","mouseButtons","ORBIT","enableRotate","STATE","ROTATE","ZOOM","DOLLY","PAN","enablePan","NONE","onMouseMove","onMouseUp","startEvent","endEvent","onMouseWheel","onKeyDown","enableKeys","onTouchStart","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","onTouchMove","onTouchEnd","onContextMenu","__WEBPACK_IMPORTED_MODULE_2__three_js__","minDistance","maxDistance","Infinity","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","MIDDLE","target0","position0","zoom0","getPolarAngle","spherical","getAzimuthalAngle","saveState","changeEvent","quat","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","sub","applyQuaternion","setFromVector3","makeSafe","radius","panOffset","setFromSpherical","distanceToSquared","EPS","dot","quaternion","dispose","panLeft","objectMatrix","setFromMatrixColumn","multiplyScalar","panUp","deltaX","targetDistance","tan","fov","bottom","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default","center","noZoom","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","dLd/","dOvh","e6mY","__WEBPACK_IMPORTED_MODULE_0_assets_js_Nebula_js__","$route","$data","gVf+","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_mark_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_78bf1d33_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_mark_vue__","iUfB","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default","__WEBPACK_IMPORTED_MODULE_1_assets_js_Map3D_js__","irRU","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_world_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_9b7a517e_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_world_vue__","j7Vc","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default","DataRange","boxGeo","extrudeHeight","range","spacing","Font3D","create","namePosition","rangeAreas","unselect","hasEvent","jt5Y","k1rJ","kDvs","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_a638251e_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__","kEL9","m84q","mHXv","valueOf","TWEEN","REVISION","removeAll","performance","u","f","c","Interpolation","I","M","O","stopChainedTweens","repeat","yoyo","interpolation","chain","onStart","onUpdate","onStop","N","T","W","Quadratic","In","InOut","Cubic","Quintic","Sinusoidal","Exponential","Circular","Elastic","asin","Back","Bounce","floor","Utils","Bezier","Bernstein","CatmullRom","Factorial","nHYM","__raycaster","__mouse","__resize","__mousemove","__mousedown","__resize__","__mousemove__","onDocumentMouseMove","__touchstart__","onDocumentTouchStart","__mousedown__","onDocumentMouseDown","mousemove_timer","mousemove_interval","enable","oEnh","pjjz","Stats","prevTime","ms","msMin","msMax","fps","fpsMin","fpsMax","frames","mode","fpsDiv","fpsText","fpsGraph","bar","msDiv","msText","msGraph","updateGraph","dom","begin","r7H9","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_drill_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6f4f8ef6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_drill_vue__","rWyd","rpgj","getText2D","font","family","textAlign","fillText","canvas_height","strokeStyle","borderColor","strokeText","textObj","follow","spriteMaterial","geometry","weight","tqxb","EventDispatcher","Vector2","Texture","mapping","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","textureId","uuid","_Math","generateUUID","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","ClampToEdgeWrapping","LinearFilter","LinearMipMapLinearFilter","RGBAFormat","UnsignedByteType","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","LinearEncoding","version","Vector4","WebGLRenderTarget","scissor","scissorTest","viewport","depthBuffer","stencilBuffer","depthTexture","WebGLRenderTargetCube","activeCubeFace","activeMipMapLevel","Quaternion","_x","_y","_z","_w","Vector3","Matrix4","DataTexture","NearestFilter","CubeTexture","images","CubeReflectionMapping","UniformContainer","seq","flatten","array","nBlocks","blockSize","firstElem","arrayCacheF32","Float32Array","allocTexUnits","arrayCacheI32","Int32Array","allocTextureUnit","setValue1f","gl","uniform1f","addr","setValue1i","uniform1i","setValue2fv","uniform2fv","uniform2f","setValue3fv","uniform3f","uniform3fv","setValue4fv","uniform4fv","uniform4f","setValue2fm","uniformMatrix2fv","setValue3fm","uniformMatrix3fv","mat3array","setValue4fm","uniformMatrix4fv","mat4array","setValueT1","setTexture2D","emptyTexture","setValueT6","setTextureCube","emptyCubeTexture","setValue2iv","uniform2iv","setValue3iv","uniform3iv","setValue4iv","uniform4iv","getSingularSetter","setValue1fv","uniform1fv","setValue1iv","uniform1iv","setValueV2a","setValueV3a","setValueV4a","setValueM2a","setValueM3a","setValueM4a","setValueT1a","units","setValueT6a","getPureArraySetter","SingleUniform","activeInfo","setValue","PureArrayUniform","StructuredUniform","addUniform","uniformObject","parseUniform","pathLength","RePathPart","lastIndex","matchEnd","idIsIndex","subscript","WebGLUniforms","program","getProgramParameter","ACTIVE_UNIFORMS","info","getActiveUniform","getUniformLocation","Color","setRGB","Box2","WebGLFlareRenderer","textures","capabilities","faces","Uint16Array","vertexBuffer","createBuffer","elementBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","tempTexture","createTexture","occlusionTexture","bindTexture","TEXTURE_2D","texImage2D","RGB","UNSIGNED_BYTE","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","RGBA","createProgram","vertex","getAttribLocation","uv","renderType","occlusionMap","screenPosition","createShader","FRAGMENT_SHADER","VERTEX_SHADER","precision","shaderSource","compileShader","attachShader","linkProgram","flares","tempPosition","invAspect","halfViewportWidth","halfViewportHeight","screenPositionPixels","validArea","useProgram","initAttributes","enableAttribute","disableUnusedAttributes","vertexAttribPointer","FLOAT","CULL_FACE","buffers","depth","setMask","flare","matrixWorld","applyMatrix4","matrixWorldInverse","projectionMatrix","containsPoint","activeTexture","TEXTURE0","TEXTURE1","copyTexImage2D","BLEND","DEPTH_TEST","drawElements","TRIANGLES","UNSIGNED_SHORT","positionScreen","customUpdateCallback","updateLensFlares","jl","lensFlares","sprite","setBlending","blendEquation","blendSrc","blendDst","CanvasTexture","WebGLSpriteRenderer","uvOffset","uvScale","modelViewMatrix","fogType","fogDensity","fogNear","fogFar","fogColor","createElementNS","painterSortStable","renderOrder","spritePosition","spriteRotation","spriteScale","sprites","oldFogType","sceneFogType","isFog","near","far","isFogExp2","density","multiplyMatrices","onBeforeRender","decompose","blendEquationAlpha","blendSrcAlpha","blendDstAlpha","premultipliedAlpha","setTest","depthTest","onAfterRender","Material","materialId","lights","NormalBlending","FrontSide","flatShading","vertexColors","NoColors","SrcAlphaFactor","OneMinusSrcAlphaFactor","AddEquation","depthFunc","LessEqualDepth","clippingPlanes","clipIntersection","clipShadows","colorWrite","polygonOffsetUnits","dithering","overdraw","ShaderMaterial","parameters","defines","wireframeLinewidth","clipping","skinning","morphTargets","morphNormals","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","uv2","index0AttributeName","setValues","MeshDepthMaterial","depthPacking","BasicDepthPacking","alphaMap","displacementMap","displacementScale","displacementBias","MeshDistanceMaterial","referencePosition","nearDistance","farDistance","Box3","Sphere","Matrix3","Plane","normal","constant","Frustum","p0","p1","p2","p3","p4","p5","planes","WebGLShadowMap","_renderer","_objects","maxTextureSize","getDepthMaterial","isPointLight","lightPositionWorld","shadowCameraNear","shadowCameraFar","materialVariants","_depthMaterials","customMaterial","customDepthMaterial","_distanceMaterials","customDistanceMaterial","useMorphing","isBufferGeometry","morphAttributes","isGeometry","isSkinnedMesh","useSkinning","variantIndex","_MorphingFlag","_SkinningFlag","localClippingEnabled","keyA","keyB","materialsForVariant","_materialCache","cachedMaterial","renderSingleSided","DoubleSide","renderReverseSided","BackSide","isMeshDistanceMaterial","renderObject","shadowCamera","layers","isMesh","isLine","isPoints","castShadow","frustumCulled","_frustum","intersectsObject","k","kl","groupMaterial","materialIndex","depthMaterial","_lightPositionWorld","renderBufferDirect","_projScreenMatrix","_shadowMapSize","_maxShadowMapSize","_lookTarget","_NumberOfMaterialVariants","cubeDirections","cubeUps","cube2DViewPorts","RGBADepthPacking","distanceMaterial","autoUpdate","PCFShadowMap","_gl","_state","setClear","setScissorTest","faceCount","il","light","shadow","mapSize","vpWidth","vpHeight","pars","isSpotLightShadow","shadowMap","shadowMatrix","setFromMatrixPosition","makeTranslation","updateMatrixWorld","multiply","setRenderTarget","face","vpDimensions","setFromMatrix","WebGLAttributes","attribute","bufferType","usage","dynamic","DYNAMIC_DRAW","buffer","onUploadCallback","Float64Array","Int16Array","SHORT","Uint32Array","UNSIGNED_INT","INT","Int8Array","BYTE","Uint8Array","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","updateRange","bufferSubData","subarray","isInterleavedBufferAttribute","deleteBuffer","Euler","order","_order","DefaultOrder","Layers","mask","Object3D","onRotationChange","setFromEuler","onQuaternionChange","setFromQuaternion","object3DId","DefaultUp","onChange","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default","enumerable","normalMatrix","matrixAutoUpdate","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","receiveShadow","Camera","OrthographicCamera","view","PerspectiveCamera","filmGauge","filmOffset","Face3","isVector3","vertexNormals","isColor","GeometryIdCount","Geometry","colors","faceVertexUvs","skinWeights","skinIndices","lineDistances","boundingBox","boundingSphere","elementsNeedUpdate","verticesNeedUpdate","uvsNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","lineDistancesNeedUpdate","groupsNeedUpdate","BufferAttribute","itemSize","normalized","TypeError","Int8BufferAttribute","Uint8BufferAttribute","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Uint16BufferAttribute","Int32BufferAttribute","Uint32BufferAttribute","Float32BufferAttribute","Float64BufferAttribute","DirectGeometry","indices","normals","uvs","uvs2","arrayMax","BufferGeometry","drawRange","BoxGeometry","widthSegments","heightSegments","depthSegments","fromBufferGeometry","BoxBufferGeometry","mergeVertices","buildPlane","udir","vdir","gridX","gridY","ix","iy","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","numberOfVertices","addGroup","groupStart","setIndex","addAttribute","PlaneGeometry","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","MeshBasicMaterial","lightMap","lightMapIntensity","aoMap","aoMapIntensity","specularMap","envMap","combine","MultiplyOperation","reflectivity","refractionRatio","wireframeLinecap","wireframeLinejoin","Ray","origin","direction","Line3","Triangle","Mesh","drawMode","TrianglesDrawMode","updateMorphTargets","WebGLBackground","geometries","renderList","forceClear","background","clearColor","clearAlpha","autoClear","autoClearColor","autoClearDepth","autoClearStencil","isCubeTexture","boxMesh","ShaderLib","cube","makeScale","copyPosition","tCube","isTexture","planeCamera","planeMesh","getClearColor","setClearColor","getClearAlpha","setClearAlpha","reversePainterSortStable","WebGLRenderList","renderItemsIndex","opaque","renderItem","renderItems","WebGLRenderLists","lists","absNumericalSort","WebGLMorphtargets","objectInfluences","morphTargetInfluences","influences","influencesList","influence","morphInfluences","getUniforms","WebGLIndexedBufferRenderer","infoRender","calls","POINTS","points","renderInstances","extension","drawElementsInstancedANGLE","maxInstancedCount","WebGLBufferRenderer","drawArrays","drawArraysInstancedANGLE","WebGLGeometries","infoMemory","onGeometryDispose","buffergeometry","wireframeAttributes","_bufferGeometry","setFromObject","geometryAttributes","getWireframeAttribute","geometryIndex","UniformsCache","shadowBias","shadowRadius","shadowMapSize","coneCos","penumbraCos","decay","skyColor","groundColor","WebGLLights","shadows","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","viewMatrix","intensity","isAmbientLight","isDirectionalLight","vector3","transformDirection","bias","directionalShadowMap","directionalShadowMatrix","directional","isSpotLight","penumbra","spotShadowMap","spotShadowMatrix","spot","isRectAreaLight","matrix42","identity","matrix4","premultiply","extractRotation","rectArea","pointShadowMap","pointShadowMatrix","point","isHemisphereLight","normalize","hemi","ambient","WebGLObjects","frame","updateList","updateFromObject","addLineNumbers","WebGLShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","getEncodingComponents","sRGBEncoding","RGBEEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","GammaEncoding","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMapping","toneMappingName","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","generateExtensions","rendererExtensions","envMapCubeUV","bumpMap","normalMap","logarithmicDepthBuffer","filterEmptyLine","generateDefines","chunks","fetchAttributeLocations","identifiers","ACTIVE_ATTRIBUTES","getActiveAttrib","replaceLightNums","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","parseIncludes","include","ShaderChunk","unrollLoops","snippet","unroll","WebGLProgram","shadowMapTypeDefine","shadowMapType","PCFSoftShadowMap","envMapTypeDefine","envMapModeDefine","envMapBlendingDefine","CubeRefractionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","MixOperation","AddOperation","prefixVertex","prefixFragment","gammaFactorDefine","gammaFactor","customExtensions","customDefines","isRawShaderMaterial","supportsVertexTextures","maxBones","useFog","fogExp","roughnessMap","metalnessMap","useVertexTexture","doubleSided","flipSided","numClippingPlanes","shadowMapEnabled","gradientMap","numClipIntersection","physicallyCorrectLights","NoToneMapping","outputEncoding","mapEncoding","envMapEncoding","emissiveMapEncoding","isShaderMaterial","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","bindAttribLocation","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","LINK_STATUS","getError","VALIDATE_STATUS","diagnostics","deleteShader","cachedUniforms","cachedAttributes","getAttributes","destroy","deleteProgram","programIdCount","usedTimes","WebGLPrograms","allocateBones","skeleton","bones","floatVertexTextures","nVertexUniforms","maxVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","gammaOverrideLinear","isWebGLRenderTarget","programs","shaderIDs","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","parameterNames","getParameters","nClipPlanes","nClipIntersection","shaderID","getMaxPrecision","currentRenderTarget","getRenderTarget","vertexTextures","gammaOutput","gammaInput","envMapMode","maxMorphTargets","maxMorphNormals","getProgramCode","onBeforeCompile","acquireProgram","pl","programInfo","releaseProgram","WebGLTextures","utils","clampToMaxSize","maxSize","isPowerOfTwo","makePowerOfTwo","HTMLImageElement","HTMLCanvasElement","nearestPowerOfTwo","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","filterFallback","NearestMipMapNearestFilter","NearestMipMapLinearFilter","LINEAR","onTextureDispose","deallocateTexture","onRenderTargetDispose","renderTarget","deallocateRenderTarget","textureProperties","__image__webglTextureCube","deleteTexture","__webglInit","__webglTexture","renderTargetProperties","isWebGLRenderTargetCube","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","slot","__version","uploadTexture","TEXTURE_CUBE_MAP","pixelStorei","UNPACK_FLIP_Y_WEBGL","isCompressed","isCompressedTexture","isDataTexture","cubeImage","maxCubemapSize","isPowerOfTwoImage","glFormat","convert","glType","setTextureParameters","mipmap","RGBFormat","getCompressedTextureFormats","compressedTexImage2D","TEXTURE_CUBE_MAP_POSITIVE_X","generateMipmap","setTextureCubeDynamic","textureType","FloatType","HalfFloatType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","getMaxAnisotropy","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_ALIGNMENT","isDepthTexture","internalFormat","DEPTH_COMPONENT","_isWebGL2","DEPTH_COMPONENT32F","DEPTH_COMPONENT16","DepthFormat","UnsignedShortType","UnsignedIntType","DepthStencilFormat","DEPTH_STENCIL","UnsignedInt248Type","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","framebufferRenderbuffer","DEPTH_ATTACHMENT","DEPTH_STENCIL_ATTACHMENT","RGBA4","setupDepthTexture","webglDepthTexture","setupDepthRenderbuffer","isCube","createRenderbuffer","setupRenderTarget","isTargetPowerOfTwo","createFramebuffer","COLOR_ATTACHMENT0","updateRenderTargetMipmap","webglTexture","WebGL2RenderingContext","WebGLProperties","WebGLState","ColorBuffer","currentColorMask","currentColorClear","colorMask","setLocked","equals","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","NeverDepth","NEVER","AlwaysDepth","ALWAYS","LessDepth","LESS","LEQUAL","EqualDepth","EQUAL","GreaterEqualDepth","GEQUAL","GreaterDepth","GREATER","NotEqualDepth","NOTEQUAL","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","STENCIL_TEST","stencilMask","stencilFunc","stencilRef","setOp","stencilFail","stencilZFail","stencilZPass","stencilOp","stencil","clearStencil","newAttributes","enabledAttributes","enableVertexAttribArray","attributeDivisors","vertexAttribDivisorANGLE","enableAttributeAndDivisor","meshPerAttribute","disableVertexAttribArray","compressedTextureFormats","formats","getParameter","COMPRESSED_TEXTURE_FORMATS","currentProgram","NoBlending","CustomBlending","currentBlending","currentPremultipledAlpha","AdditiveBlending","blendEquationSeparate","FUNC_ADD","blendFuncSeparate","ONE","blendFunc","SRC_ALPHA","SubtractiveBlending","ZERO","ONE_MINUS_SRC_COLOR","ONE_MINUS_SRC_ALPHA","MultiplyBlending","SRC_COLOR","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","setMaterial","setFlipSided","colorBuffer","setPolygonOffset","currentFlipSided","frontFace","CW","CCW","setCullFace","cullFace","CullFaceNone","currentCullFace","CullFaceBack","BACK","CullFaceFront","FRONT","FRONT_AND_BACK","setLineWidth","currentLineWidth","lineWidthAvailable","lineWidth","factor","POLYGON_OFFSET_FILL","currentPolygonOffsetFactor","currentPolygonOffsetUnits","SCISSOR_TEST","webglSlot","maxTextures","currentTextureSlot","webglType","boundTexture","currentBoundTextures","emptyTextures","currentScissor","currentViewport","maxVertexAttributes","MAX_VERTEX_ATTRIBS","MAX_COMBINED_TEXTURE_IMAGE_UNITS","VERSION","WebGLCapabilities","maxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getShaderPrecisionFormat","HIGH_FLOAT","MEDIUM_FLOAT","maxPrecision","MAX_TEXTURE_IMAGE_UNITS","maxVertexTextures","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE","maxAttributes","MAX_VERTEX_UNIFORM_VECTORS","maxVaryings","MAX_VARYING_VECTORS","maxFragmentUniforms","MAX_FRAGMENT_UNIFORM_VECTORS","floatFragmentTextures","ArrayCamera","cameras","WebVRManager","onVRDisplayPresentChange","device","isPresenting","eyeParameters","getEyeParameters","renderWidth","renderHeight","currentPixelRatio","getPixelRatio","currentSize","getSize","setDrawingBufferSize","frameData","VRFrameData","standingMatrix","standingMatrixInverse","cameraL","bounds","cameraR","cameraVR","standing","getDevice","setDevice","getCamera","depthNear","depthFar","getFrameData","pose","fromArray","orientation","stageParameters","sittingToStandingTransform","getInverse","leftViewMatrix","rightViewMatrix","leftProjectionMatrix","rightProjectionMatrix","getLayers","layer","leftBounds","rightBounds","getStandingMatrix","submitFrame","WebGLExtensions","getExtension","WebGLClipping","resetGlobalState","uniform","globalState","numGlobalPlanes","numPlanes","numIntersection","projectPlanes","dstOffset","skipTransform","nPlanes","dstArray","flatSize","viewNormalMatrix","getNormalMatrix","i4","plane","renderingShadows","enableLocalClipping","beginShadows","endShadows","setState","fromCache","nGlobal","lGlobal","clippingState","WebGLUtils","RepeatWrapping","REPEAT","MirroredRepeatWrapping","MIRRORED_REPEAT","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LinearMipMapNearestFilter","LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_LINEAR","UnsignedShort4444Type","UNSIGNED_SHORT_4_4_4_4","UnsignedShort5551Type","UNSIGNED_SHORT_5_5_5_1","UnsignedShort565Type","UNSIGNED_SHORT_5_6_5","ByteType","ShortType","IntType","HALF_FLOAT_OES","AlphaFormat","ALPHA","LuminanceFormat","LUMINANCE","LuminanceAlphaFormat","LUMINANCE_ALPHA","SubtractEquation","FUNC_SUBTRACT","ReverseSubtractEquation","FUNC_REVERSE_SUBTRACT","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","DstAlphaFactor","DST_ALPHA","OneMinusDstAlphaFactor","ONE_MINUS_DST_ALPHA","DstColorFactor","DST_COLOR","OneMinusDstColorFactor","ONE_MINUS_DST_COLOR","SrcAlphaSaturateFactor","SRC_ALPHA_SATURATE","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","RGB_ETC1_Format","COMPRESSED_RGB_ETC1_WEBGL","MinEquation","MaxEquation","MIN_EXT","MAX_EXT","UNSIGNED_INT_24_8_WEBGL","WebGLRenderer","getTargetPixelRatio","_currentRenderTarget","_pixelRatio","initGLContext","MaxIndex","_currentScissor","_scissor","_currentViewport","_viewport","_infoMemory","objects","_infoRender","morphtargets","programCache","renderLists","_premultipliedAlpha","bufferRenderer","indexedBufferRenderer","flareRenderer","spriteRenderer","onContextLost","_isContextLost","onContextRestore","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","renderObjectImmediate","renderBufferImmediate","setupVertexAttributes","startIndex","isInstancedBufferGeometry","programAttributes","materialDefaultAttributeValues","programAttribute","geometryAttribute","stride","isInstancedInterleavedBuffer","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","isAnimating","vr","loop","onAnimationFrame","projectObject","sortObjects","isLight","lightsArray","shadowsArray","isSprite","intersectsSprite","spritesArray","isLensFlare","flaresArray","isImmediateRenderObject","_vector3","currentRenderList","renderObjects","overrideMaterial","isArrayCamera","_currentArrayCamera","camera2","_width","_height","setProgram","_currentGeometryProgram","initMaterial","materialProperties","_clipping","programChange","UniformsUtils","numSupportedMorphTargets","numSupportedMorphNormals","lightsHash","ambientLightColor","directionalLights","spotLights","rectAreaLights","pointLights","hemisphereLights","progUniforms","uniformsList","seqWithValue","_usedTextureUnits","_clippingEnabled","_localClippingEnabled","_currentCamera","_currentMaterialId","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","LN2","isMeshPhongMaterial","isMeshStandardMaterial","uCamPos","cameraPosition","isMeshLambertMaterial","isMeshBasicMaterial","setOptional","boneTexture","nextPowerOfTwo","ceil","boneMatrices","boneTextureSize","toneMappingExposure","toneMappingWhitePoint","markUniformsLightsNeedsUpdate","refreshUniformsFog","refreshUniformsCommon","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshDepthMaterial","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isShadowMaterial","ltcMat","UniformsLib","LTC_MAT_TEXTURE","ltcMag","LTC_MAG_TEXTURE","upload","diffuse","emissiveIntensity","flipEnvMap","uvScaleMap","offsetRepeat","dashSize","totalSize","gapSize","specular","bumpScale","normalScale","roughness","metalness","envMapIntensity","clearCoat","clearCoatRoughness","textureUnit","_canvas","_context","_alpha","_depth","_stencil","_antialias","_preserveDrawingBuffer","preserveDrawingBuffer","_currentFramebuffer","_currentScissorTest","_scissorTest","contextAttributes","rangeMin","rangeMax","getContextAttributes","forceContextLoss","loseContext","forceContextRestore","restoreContext","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","pixelRatio","setScissor","boolean","bits","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","clearTarget","hasPositions","hasNormals","hasUvs","hasColors","positionArray","normalArray","nx","ny","nz","uvArray","colorArray","geometryProgram","updateBuffers","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","LINES","TriangleStripDrawMode","TRIANGLE_STRIP","TriangleFanDrawMode","TRIANGLE_FAN","isLineSegments","isLineLoop","LINE_LOOP","LINE_STRIP","traverse","isCamera","opaqueObjects","transparentObjects","setFaceCulling","frontFaceDirection","FrontFaceDirectionCW","warned","setTexture","readRenderTargetPixels","restore","textureFormat","IMPLEMENTATION_COLOR_READ_FORMAT","IMPLEMENTATION_COLOR_READ_TYPE","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","readPixels","FogExp2","Fog","Scene","LensFlare","SpriteMaterial","Sprite","LOD","levels","Skeleton","boneInverses","calculateInverses","Bone","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","initBones","normalizeSkinWeights","linecap","linejoin","Line","LineSegments","LineLoop","Points","Group","VideoTexture","video","HAVE_CURRENT_DATA","CompressedTexture","DepthTexture","WireframeGeometry","ol","edge1","edge2","edge","edges","index1","index2","getX","fromBufferAttribute","ParametricGeometry","slices","stacks","ParametricBufferGeometry","pu","pv","sliceCount","crossVectors","PolyhedronGeometry","PolyhedronBufferGeometry","subdivideFace","cols","aj","lerp","bj","rows","pushVertex","correctSeam","uvBuffer","x0","x1","x2","getVertexByIndex","correctUVs","centroid","uvA","uvB","uvC","divideScalar","azi","azimuth","correctUV","atan2","inclination","computeVertexNormals","normalizeNormals","TetrahedronGeometry","TetrahedronBufferGeometry","OctahedronGeometry","OctahedronBufferGeometry","IcosahedronGeometry","IcosahedronBufferGeometry","DodecahedronGeometry","DodecahedronBufferGeometry","TubeGeometry","tubularSegments","radialSegments","closed","taper","bufferGeometry","TubeBufferGeometry","tangents","binormals","generateSegment","P","getPointAt","B","generateIndices","generateUVs","computeFrenetFrames","TorusKnotGeometry","tube","q","heightScale","TorusKnotBufferGeometry","calculatePositionOnCurve","cu","su","quOverP","cs","P1","P2","addVectors","cx","cy","TorusGeometry","TorusBufferGeometry","ExtrudeGeometry","shapes","ExtrudeBufferGeometry","addShapeList","TextGeometry","TextBufferGeometry","isFont","generateShapes","curveSegments","bevelThickness","bevelSize","bevelEnabled","SphereGeometry","phiStart","phiLength","thetaStart","thetaLength","SphereBufferGeometry","thetaEnd","grid","verticesRow","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","RingBufferGeometry","segment","radiusStep","thetaSegmentLevel","LatheGeometry","segments","LatheBufferGeometry","clamp","inverseSegments","n1","n2","ShapeGeometry","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default","ShapeBufferGeometry","addShape","shapeHole","indexOffset","extractPoints","shapeVertices","shapeHoles","holes","ShapeUtils","isClockWise","triangulateShape","EdgesGeometry","thresholdAngle","geometry2","thresholdDot","DEG2RAD","computeFaceNormals","sourceVertices","face1","face2","CylinderGeometry","radiusTop","radiusBottom","openEnded","CylinderBufferGeometry","generateCap","centerIndexStart","centerIndexEnd","sign","cosTheta","sinTheta","indexArray","slope","indexRow","ConeGeometry","ConeBufferGeometry","CircleGeometry","CircleBufferGeometry","RawShaderMaterial","STANDARD","PHYSICAL","TOON","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","itemStart","itemEnd","itemError","FileLoader","manager","DefaultLoadingManager","CompressedTextureLoader","_parser","DataTextureLoader","ImageLoader","CubeTextureLoader","TextureLoader","Light","HemisphereLight","updateMatrix","LightShadow","SpotLightShadow","SpotLight","power","PointLight","DirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","_cachedIndex","valueSize","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","LinearInterpolant","DiscreteInterpolant","KeyframeTrackConstructor","times","AnimationUtils","convertArray","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","validate","optimize","VectorKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","NumberKeyframeTrack","StringKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","KeyframeTrack","AnimationClip","tracks","resetDuration","MaterialLoader","BufferGeometryLoader","Loader","onLoadStart","onLoadProgress","onLoadComplete","JSONLoader","withCredentials","ObjectLoader","texturePath","v0","v1","t2","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","Curve","arcLengthDivisions","LineCurve","v2","CurvePath","curves","autoClose","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","SplineCurve","CubicBezierCurve","QuadraticBezierCurve","Path","currentPoint","fromPoints","Shape","ShapePath","subPaths","currentPath","Font","FontLoader","AudioLoader","StereoCamera","eyeSep","CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","AudioListener","AudioContext","gain","createGain","connect","destination","Audio","listener","getInput","autoplay","playbackRate","isPlaying","hasPlaybackControl","sourceType","PositionalAudio","panner","createPanner","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getOutput","PropertyMixer","binding","typeName","mixFunction","_slerp","_select","_lerp","_mixBufferRegion","cumulativeWeight","useCount","referenceCount","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","rootNode","findNode","AnimationObjectGroup","var_args","nCachedObjects_","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","total","inUse","bindingsPerObject","AnimationAction","mixer","clip","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","endingStart","ZeroCurvatureEnding","endingEnd","interpolant","createInterpolant","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","LoopRepeat","_loopCount","_startTime","timeScale","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","AnimationMixer","_root","_initMemoryManager","_accuIndex","Uniform","InstancedBufferGeometry","InterleavedBufferAttribute","interleavedBuffer","InterleavedBuffer","InstancedInterleavedBuffer","InstancedBufferAttribute","Raycaster","ray","threshold","PointCloud","ascSort","intersectObject","recursive","raycast","Clock","autoStart","oldTime","elapsedTime","running","Spherical","Cylindrical","ImmediateRenderObject","renderCallback","VertexNormalsHelper","hex","nNormals","objGeometry","positions","SpotLightHelper","cone","getBoneList","boneList","isBone","SkeletonHelper","color1","color2","bone","VertexColors","PointLightHelper","sphereSize","RectAreaLightHelper","HemisphereLightHelper","rotateY","GridHelper","divisions","halfSize","PolarGridHelper","radials","circles","FaceNormalsHelper","DirectionalLightHelper","lightPlane","targetLine","CameraHelper","addLine","addPoint","pointMap","FaceColors","colorFrustum","colorCone","colorUp","colorTarget","colorCross","BoxHelper","Box3Helper","computeBoundingSphere","PlaneHelper","positions2","ArrowHelper","headLength","headWidth","lineGeometry","coneGeometry","translate","setDirection","setLength","AxisHelper","CubicPoly","t0","t1","c0","c1","c2","c3","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","CatmullRomCurve3","CubicBezierCurve3","QuadraticBezierCurve3","LineCurve3","ArcCurve","aRadius","ClosedSplineCurve3","SplineCurve3","Spline","MOUSE","ImageUtils","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties__","__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_math_sign__","__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_math_sign___default","__WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_number_is_integer__","__WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_number_is_integer___default","__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon__","__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default","Number","EPSILON","isInteger","assign","output","nextKey","_listeners","listeners","hasEventListener","listenerArray","RAD2DEG","chars","rnd","euclideanModulo","mapLinear","a1","a2","b1","b2","smoothstep","smootherstep","randInt","low","randFloat","degToRad","degrees","radToDeg","radians","isVector2","setScalar","scalar","setX","setY","setComponent","getComponent","addScalar","addScaledVector","subScalar","divide","clampScalar","minVal","maxVal","clampLength","roundToZero","negate","lengthSq","lengthManhattan","distanceTo","distanceToManhattan","lerpVectors","getY","rotateAround","meta","metadata","generator","ImageData","putImageData","toDataURL","transformUv","isVector4","setZ","setW","setAxisAngleFromQuaternion","acos","setAxisAngleFromRotationMatrix","te","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xz","yz","getZ","getW","slerp","qa","qb","qm","slerpFlat","dst","src0","srcOffset0","src1","srcOffset1","y0","z0","w0","y1","z1","w1","sqrSin","tDir","onChangeCallback","euler","isEuler","s1","setFromAxisAngle","axis","halfAngle","setFromRotationMatrix","trace","vFrom","vTo","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","multiplyVectors","applyEuler","applyAxisAngle","applyMatrix3","qx","qy","qz","qw","iz","iw","unproject","cross","ax","ay","az","bx","by","bz","projectOnVector","projectOnPlane","planeNormal","reflect","angleTo","dz","sinPhiRadius","setFromCylindrical","setFromMatrixScale","sx","sy","sz","isMatrix4","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","me","extractBasis","xAxis","yAxis","zAxis","makeBasis","scaleX","scaleY","scaleZ","makeRotationFromEuler","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","y2","z2","wx","wy","wz","eye","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","applyToBufferAttribute","setXYZ","determinant","transpose","throwOnDegenerate","t11","t12","t13","t14","det","detInv","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","tx","ty","makeShear","compose","invSX","invSY","invSZ","makePerspective","makeOrthographic","ColorKeywords","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","setHex","setStyle","setHSL","hue2rgb","handleAlpha","copyGammaToLinear","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","getHexString","getHSL","optionalTarget","hue","saturation","hsl","lightness","delta","getStyle","offsetHSL","addColors","common","specularmap","envmap","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","merged","uniforms_src","uniforms_dst","parameter_src","isMatrix3","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_template","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment","normalmap_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","basic","lambert","phong","standard","dashed","tFlip","equirect","tEquirect","distanceRGBA","physical","setFromPoints","makeEmpty","expandByPoint","setFromCenterAndSize","isEmpty","getCenter","expandByVector","expandByScalar","containsBox","intersectsBox","clampPoint","distanceToPoint","intersect","union","isMaterial","newValue","currentValue","extractFromCache","isRoot","srcPlanes","dstPlanes","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","expandByObject","intersectsSphere","closestPoint","sphere","intersectsPlane","getBoundingSphere","optionalCenter","maxRadiusSq","radiusSum","deltaLengthSq","getBoundingBox","setFromMatrix4","transposeIntoArray","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","denominator","intersectsLine","startSign","endSign","coplanarPoint","m1","optionalNormalMatrix","referencePoint","frustum","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","negRadius","d1","d2","RotationOrders","reorder","newOrder","toVector3","optionalResult","channel","isObject3D","applyMatrix","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","q1","rotateX","rotateZ","translateOnAxis","translateX","translateY","translateZ","localToWorld","worldToLocal","getObjectById","getObjectByProperty","getObjectByName","child","getWorldPosition","getWorldQuaternion","getWorldRotation","getWorldScale","getWorldDirection","traverseVisible","traverseAncestors","force","library","isRootObject","materials","uuids","setViewOffset","fullWidth","fullHeight","clearViewOffset","zoomW","zoomH","scaleW","scaleH","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","getEffectiveFOV","getFilmWidth","skew","computeBoundingBox","addFace","tempNormals","tempUVs","tempUVs2","cb","ab","fl","vA","vB","vC","areaWeighted","vl","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","faceNormal","dstNormalsFace","dstNormalsVertex","computeLineDistances","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","uvs1","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","uvCopy","mergeMesh","verticesMap","changes","faceIndicesToRemove","sortFacesByMaterialIndex","materialIndexSort","_id","newUvs1","newUvs2","setBit","getNormalIndex","normalsHash","getColorIndex","colorsHash","getUvIndex","uvsHash","hasFaceVertexUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","uvsCopy","morphTarget","morphNormal","srcVertexNormal","destVertexNormal","isBufferAttribute","setArray","setDynamic","copyAt","copyArray","copyColorsArray","copyIndicesArray","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXY","setXYZW","onUpload","computeGroups","fromGeometry","morphTargetsPosition","hasFaceVertexUv2","morphTargetsLength","morphTargetsNormal","morphNormalsLength","hasSkinIndices","hasSkinWeights","vertexUvs","getIndex","clearGroups","setDrawRange","direct","__directGeometry","lineDistance","fromDirectGeometry","TypeArray","pA","pB","pC","attribute1","attributeArray1","attribute2","attributeArray2","attributeSize","toNonIndexed","array2","morphAttribute","at","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","segCenter","segDir","optionalPointOnRay","optionalPointOnSegment","s0","sqrDist","extDet","segExtent","a01","b0","invDet","intersectSphere","tca","radius2","thc","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","distanceSq","closestPointToPointParameter","startP","startEnd","clampToLine","startEnd2","startEnd_startP","resultLengthSq","barycoordFromPoint","dot00","dot01","dot02","dot11","dot12","denom","invDenom","setFromPointsAndIndices","i0","i1","i2","triangle","midpoint","edgeList","projectedPoint","setDrawMode","ml","morphTargetDictionary","uvIntersection","uv1","uv3","barycoord","checkIntersection","intersectionPointWorld","checkBufferGeometryIntersection","intersection","intersectionPoint","faceIndex","inverseMatrix","tempA","tempB","tempC","fvA","fvB","fvC","isMultiMaterial","faceMaterial","tl","uvs_f","vecX","vecY","wantedRotation","isSpriteMaterial","intersectPoint","worldPosition","worldScale","guessSizeSq","level","addLevel","getObjectForDistance","matrixPosition","offsetMatrix","identityMatrix","gbone","rotq","scl","sw","vec","skinWeight","linePrecision","precisionSq","vStart","vEnd","interSegment","interRay","distSq","nbVertices","testPoint","rayPointDistanceSq","localThresholdSq","distanceToRay","localThreshold","contour","triangulate","snip","verts","px","py","bX","bY","cX","cY","apx","apy","bpx","bpy","cpx","cpy","cCROSSap","bCROSScp","aCROSSbp","vertIndices","nv","removeDupEndPts","point_in_segment_2D_colin","inSegPt1","inSegPt2","inOtherPt","intersect_segments_2D","inSeg1Pt1","inSeg1Pt2","inSeg2Pt1","inSeg2Pt2","inExcludeAdjacentSegs","seg1dx","seg1dy","seg2dx","seg2dy","seg1seg2dx","seg1seg2dy","limit","perpSeg1","perpSeg2","factorSeg1","seg1Pt","seg2Pt","seg1min","seg1max","seg1minVal","seg1maxVal","seg2min","seg2max","seg2minVal","seg2maxVal","isPointInsideAngle","inVertex","inLegFromPt","inLegToPt","legFromPtX","legFromPtY","legToPtX","legToPtY","otherPtX","otherPtY","from2toAngle","from2otherAngle","other2toAngle","allPointsMap","allpoints","hl","shapeWithoutHoles","hole","holeIndex","shapeIndex","shapePt","holePt","holeIdx","cutKey","tmpShape1","tmpShape2","tmpHole1","tmpHole2","indepHoles","failedCuts","minShapeIndex","counter","h2","inShapeIdx","inHoleIdx","lastShapeIdx","prevShapeIdx","nextShapeIdx","insideAngle","lastHoleIdx","prevHoleIdx","nextHoleIdx","inShapePt","inHolePt","sIdx","nextIdx","ihIdx","chkHole","hIdx","triangles","getArrays","positionAttribute","verticesArray","uvAttribute","IndexAttribute","sl","arrays","scalePt2","pt","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","sidewalls","layeroffset","steps","bevelSegments","slen1","vlen","slen2","f4","placeholder","f3","addVertex","nextIndex","uvgen","generateTopUV","addUV","wallContour","stepIndex","stepsLength","contourIndex1","contourIndex2","generateSideWallUV","indicesArray","vector2","extrudePts","splineTube","binormal","position2","extrudePath","extrudeByPath","UVGenerator","WorldUVGenerator","getSpacedPoints","ahole","shapePoints","bs","vert","flen","contourMovements","oneHoleMovements","holesMovements","verticesMovements","extrudeMaterial","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","Geometries","Materials","Cache","files","dataUriRegex","dataUriRegexResult","isBase64","decodeURIComponent","atob","responseType","ArrayBuffer","charCodeAt","Blob","parser","request","requestHeader","setPath","setResponseType","setWithCredentials","setMimeType","loader","loaded","texDatas","mipmapCount","isCubemap","texData","crossOrigin","setCrossOrigin","urls","isJPEG","search","arraySlice","isTypedArray","forceClone","isView","DataView","getKeyframeOrder","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","evaluate","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","DefaultSettings_","getSettings_","copySampleValue_","iPrev","iNext","tPrev","tNext","halfDt","o1","o0","oP","oN","wP","wN","ppp","sP","sN","offset1","offset0","weight1","weight0","KeyframeTrackPrototype","InterpolantFactoryMethodDiscrete","getValueSize","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","ValueTypeName","getInterpolation","timeOffset","endTime","nKeys","valid","currTime","smoothInterpolation","writeIndex","offsetP","offsetN","readOffset","writeOffset","trackType","_getTrackTypeForValueTypeName","jsonTracks","frameTime","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","animations","CreateClipsFromMorphTargetSequences","animationToMorphTargets","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","setTextures","shading","typedArray","TYPED_ARRAYS","drawcalls","offsets","Handlers","regex","extractUrlBase","initMaterials","createMaterial","BlendingMode","textureLoader","materialLoader","fullPath","mapDiffuseRepeat","mapDiffuseOffset","mapDiffuseWrap","mapDiffuseAnisotropy","mapEmissiveRepeat","mapEmissiveOffset","mapEmissiveWrap","mapEmissiveAnisotropy","mapLightRepeat","mapLightOffset","mapLightWrap","mapLightAnisotropy","mapAORepeat","mapAOOffset","mapAOWrap","mapAOAnisotropy","mapBumpRepeat","mapBumpOffset","mapBumpWrap","mapBumpAnisotropy","mapNormalRepeat","mapNormalOffset","mapNormalWrap","mapNormalAnisotropy","mapSpecularRepeat","mapSpecularOffset","mapSpecularWrap","mapSpecularAnisotropy","mapMetalnessRepeat","mapMetalnessOffset","mapMetalnessWrap","mapMetalnessAnisotropy","mapRoughnessRepeat","mapRoughnessOffset","mapRoughnessWrap","mapRoughnessAnisotropy","mapAlphaRepeat","mapAlphaOffset","mapAlphaWrap","mapAlphaAnisotropy","setTexturePath","parseModel","isBitSet","fi","zLength","colorIndex","normalIndex","uvIndex","isQuad","hasMaterial","faceA","faceB","uvLayer","nUvLayers","parseSkin","influencesPerVertex","parseMorphing","dstVertices","srcVertices","morphColors","parseAnimations","outputAnimations","morphAnimationClips","lastIndexOf","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","geometryLoader","bufferGeometryLoader","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","UVMapping","getPoint","getUtoTmapping","getPoints","getLength","lengths","getLengths","cacheArcLengths","sum","updateArcLengths","targetArcLength","arcLengths","comparison","lengthBefore","getTangent","pt1","getTangentAt","mat","MAX_VALUE","tz","isLineCurve","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","segmentLength","lens","cacheLengths","sums","resolution","isEllipseCurve","isSplineCurve","createPointsGeometry","createGeometry","createSpacedPointsGeometry","twoPi","deltaAngle","samePoints","intPoint","point0","point1","point2","point3","PathPrototype","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","getPointsHoles","holesPts","extractAllPoints","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","solid","holesFirst","tmpPoints","betterShapeHoles","newShapes","newShapeHoles","mainIdx","ambiguous","toChange","sLen","sho","ho","hole_unassigned","s2Idx","inPolygon","polyLen","inside","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","froms","tos","tmpHoles","createPath","glyph","glyphs","cpx0","cpy0","cpx1","cpy1","cpx2","cpy2","laste","outline","_cachedOutline","ha","paths","line_height","yMax","yMin","underlineThickness","char","webkitAudioContext","setContext","decodeAudioData","audioBuffer","instance","eyeRight","eyeLeft","xmin","xmax","eyeSepOnProjection","ymax","removeFilter","disconnect","getFilter","setFilter","getMasterVolume","setMasterVolume","positionX","setValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","setNodeSource","audioNode","setBuffer","play","createBufferSource","onended","onEnded","pause","getFilters","setPlaybackRate","getPlaybackRate","getLoop","setLoop","getVolume","setVolume","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","setMaxDistance","getFrequencyData","getByteFrequencyData","getAverageFrequency","accumulate","accuIndex","currentWeight","mix","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","firstValidIndex","bindings","isAnimationObjectGroup","sanitizeNodeName","directoryRe","nodeRe","objectRe","propertyRe","trackRe","supportedObjectNames","objectName","objectIndex","propertyIndex","lastDot","subTreeNode","searchNodeSubtree","childNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","resolvedProperty","SetterByBindingTypeAndVersioning","targetObject","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","nObjects","nCachedObjects","indicesByUUID","parsedPaths","nBindings","knownObject","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","_scheduleFading","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","_setEndings","handle_stop","pingPong","loopDelta","pending","atStart","atEnd","weightNow","weightThen","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","remove_empty_map","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","isInterleavedBuffer","getElapsedTime","getDelta","newTime","other","vec3","objPos","objNorm","coneLength","coneWidth","boneMatrix","matrixWorldInv","hx","hy","setPoint","pz","construct","initFromArray","getControlPointsArray","reparametrizeByArcLength","samplingCoef","setColors","isIntersectionBox","isIntersectionSphere","random16","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBuffer","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","makeGeometry","fromAttribute","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","getChildByName","renderDepth","eulerOrder","useQuaternion","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","addIndex","addDrawCall","clearDrawCalls","computeOffsets","wrapAround","wrapRGB","metal","getCurrentRenderTarget","getPrecision","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","shadowMapCullFace","getData","updateCubeMap","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","u3uG","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_debug_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_e8539e3e_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_debug_vue__","uJJO","Detector","CanvasRenderingContext2D","WebGLRenderingContext","workers","Worker","fileapi","File","FileReader","FileList","getWebGLErrorMessage","fontFamily","fontSize","addGetWebGLMessage","vMps","x2x/","xEjv","_THREE$Line","fromCoord","toCoord","xdiff","ydiff","dif","v3s","initHalo","sizes","psBufferGeometry","shaderMaterial","halo","decayColor","xJD8","items","$router","route","xM6Q","xRke","Map3D","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default","__WEBPACK_IMPORTED_MODULE_4__Detector_js__","__WEBPACK_IMPORTED_MODULE_4__Detector_js___default","__WEBPACK_IMPORTED_MODULE_5__three_js__","__WEBPACK_IMPORTED_MODULE_6__util__","__WEBPACK_IMPORTED_MODULE_7__Font3D_js__","__WEBPACK_IMPORTED_MODULE_11__stats_js__","__WEBPACK_IMPORTED_MODULE_11__stats_js___default","__WEBPACK_IMPORTED_MODULE_12__Map3D_Area__","__WEBPACK_IMPORTED_MODULE_13__Map3D_DataRange__","__WEBPACK_IMPORTED_MODULE_14__Map3D_Mark__","__WEBPACK_IMPORTED_MODULE_15__Map3D_Line__","extrudeOption","hasStats","hasControls","ambientColor","directionalColor","hasLoadEffect","textColor","mapObject","areaGroup","lineGroup","markGroup","areaCount","__event","timeEnd","initEvent","devicePixelRatio","dirLight","dirLightDown","initControls","initDebug","initArea","initMark","inintDataRange","areaOpt","_areaGroup","itemUserData","createArea","dataRangeOpt","dataRangeOptClone","dataRangeGroup","_dataRangeGroup","tempArea","getArea","markOpt","markClone","_markGroup","lineOpt","_this4","lineClone","_lineGroup","pointerEvents","userPanSpeed","helper","spotLightHelper","gridHelper","axisHelper","infoPlane","contentEditable","borderRadius","toFixed","getMark","areaName","markName","printCameraPosition","preSelectedObjID","selectedObj","preSelectedObj","onmouseout","onmouseover","onmousedown","coordinates","yJqe","yf+M"],"mappings":"AAAAA,cAAc,IAERC,OACA,SAAUC,EAAQC,KAMlBC,OACA,SAAUF,EAAQG,EAAqBC,GAE7C,YCZA,IAAAC,GAAAD,EAAA,OAcAC,GAAA,EAAgBC,MACRC,UACQC,WAAaC,MAAO,GACpBC,OAASD,MAAO,UAChBE,SAAWF,MAAO,OAE1BG,cACQ,2BACA,wBACA,8BACA,uBACA,gBACA,wBACA,6DACA,uBACA,+CACA,KACNC,KAAK,MACPC,gBACQ,sBACA,6BACA,uBACA,gBACA,8CACA,qEACA,KACND,KAAK,OAMfR,EAAA,EAAgBU,WACRR,UAEQS,GAAOC,KAAM,IAAKR,OAAQ,GAC1BS,GAAOD,KAAM,IAAKR,MAAO,GACzBU,GAAOF,KAAM,IAAKR,MAAO,GACzBW,WAAaH,KAAM,IAAKR,MAAO,GAAIJ,GAAA,EAAY,SAEvDO,cACQ,wBACA,gCACA,gBACA,iDACA,8EACA,4EACA,KACNC,KAAK,MACPC,gBACQ,0BACA,mBACA,mBACA,mBACA,wBACA,gCACA,eACA,IACA,oEACA,yCACA,KACND,KAAK,OASfR,EAAA,EAAgBgB,qBAAuB,SAAUC,EAAOC,EAAKC,GASrD,MARqB,IAAInB,GAAA,GACjBE,SAASe,EAAOf,SAChBK,aAAcU,EAAOV,aACrBE,eAAgBQ,EAAOR,eACvBS,KAAMA,GAAMlB,EAAA,EACZmB,SAAUA,GAAUnB,EAAA,EACpBoB,aAAa,KAM7BC,QAAQC,IAAItB,EAAA,IDxBNuB,OACA,SAAU5B,EAAQG,EAAqBC,GAE7C,YE5EA,IAAAyB,GAAA,WAA0B,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,cAAkD,QAAxBH,EAAAI,MAAAC,IAAAH,GAAwB,OAAiBI,IAAA,OAAAC,YAAA,UAC1GC,KACAC,GAAiBV,SAAAS,kBACjBnC,GAAA,KFiFMqC,EACA,SAAUxC,EAAQC,EAASG,GAEjCA,EAAoB,QACpBJ,EAAOC,QAAUG,EAAoB,SAK/BqC,OACA,SAAUzC,EAAQG,EAAqBC,GAE7C,YACqB,IAAIsC,GAAqEtC,EAAoB,QACzFuC,EAA6EvC,EAAoBwC,EAAEF,GACnGG,EAAoEzC,EAAoB,QACxF0C,EAA4E1C,EAAoBwC,EAAEC,GAClGE,EAA8E3C,EAAoB,QAClG4C,EAAsF5C,EAAoBwC,EAAEG,GAC5GE,EAAqE7C,EAAoB,QACzF8C,EAA6E9C,EAAoBwC,EAAEK,GACnGE,EAAkE/C,EAAoB,QACtFgD,EAA0EhD,EAAoBwC,EAAEO,GAChGE,EAAgFjD,EAAoB,QACpGkD,EAAwFlD,EAAoBwC,EAAES,GAC9GE,EAA+DnD,EAAoB,QACnFoD,EAAuEpD,EAAoBwC,EAAEW,GAC7FE,EAA0CrD,EAAoB,QAC9DsD,EAA8CtD,EAAoB,QAClEuD,EAAsCvD,EAAoB,QG7E7EwD,GH8EwExD,EAAoB,QA4CvF,SAAUyD,GGrHjB,QAAAD,GAAYE,GAAKZ,IAAAnB,KAAA6B,EAAA,IAAAG,GAAAT,IAAAvB,MAAA6B,EAAAI,WAAAhB,IAAAY,IAAAK,KAAAlC,KAET+B,GACNC,GAAK9C,KAAK,OACV8C,EAAKG,KAAKJ,EAAKI,KACfpB,IAAciB,EAAKI,SAASL,EAC5B,IAAIM,GAASN,EAAKM,MANH,OAOfL,GAAKM,MAAQN,EAAKO,QAAQF,EAAON,GACjCC,EAAKQ,MAAQR,EAAKS,QAAQJ,EAAON,GAEjCC,EAAKU,IAAIV,EAAKM,OACdN,EAAKU,IAAIV,EAAKQ,OAcXT,EAAKY,aACNX,EAAKY,aAAaC,EAAE,EAAEC,GAAG,GAAGC,GAAG,MAC/Bf,EAAKY,aAAaC,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAAI,IAAgB,GAAXlB,EAAKmB,MAAUrB,EAAA,EAAMsB,OAAOC,QAAQC,MAE3EtB,EAAKmB,QA7BUhB,EHqenB,MA/WAP,KAAuEI,EAAMC,GAkD7ET,IAA0EQ,IACxEuB,IAAK,UACL1E,MAAO,SGnIC2D,EAAON,GAAK,GAAAsB,GAAArD,IAClB,IAAIqC,EACJ,IACE,GAAIiB,GAAI,GAAI5B,GAAA,CAOZ,OANAW,GAAOkB,QAAQ,SAACC,GACd,GAAIC,GAAIJ,EAAKK,aAAaF,GACtBG,EAAEN,EAAKO,mBAAmBH,EAC9BH,GAAIO,MAAMF,EAAGA,EAAEG,UAGV9D,KAAK+D,WAAWT,EAAIvB,GAC5B,MAAMiC,GAELrE,QAAQsE,KAAK,gBAAgBD,EAAEE,aHgJnCd,IAAK,UACL1E,MAAO,SGvIC2D,EAAON,GAAK,GAAAoC,GAAAnE,IAClB,IAAIqC,EAAJ,CAGA,GAAI+B,GAAW,GAAI1C,GAAA,GACjB2C,QAAS,EACTC,UAAW,EACXC,eAAc,EAAKC,oBAAoB,EACvC7F,MAAMqB,KAAKoC,SAASqC,YAIlBC,EAAQ,GAAIhD,GAAA,CAahB,OAZAW,GAAOkB,QAAQ,SAACC,GAGd,IAAI,GAFAC,GAAIU,EAAKT,aAAaF,GACtBjF,EAAO,GAAImD,GAAA,EACPiD,EAAE,EAAEC,EAAEnB,EAAIoB,OAAOF,EAAEC,EAAED,IAC3BpG,EAAKuG,SAASC,KAAK,GAAIrD,GAAA,GAAc+B,EAAIkB,GAAG9B,EAAEY,EAAIkB,GAAG7B,EAAEqB,EAAK/B,SAAS4C,QAAQC,OAASd,EAAK/B,SAAS4C,QAAQC,OAAO,KAGrH,IAAIC,GAAS,GAAIxD,GAAA,EAAWnD,EAAM6F,EAElCM,GAAMhC,IAAIwC,KAGLR,MHoJTtB,IAAK,eACL1E,MAAO,SG5IM8E,GACX,IAEE,IAAI,GADAC,MACIkB,EAAE,EAAEC,EAAEpB,EAAMqB,OAAOF,EAAEC,EAAED,IAC7BlB,EAAIsB,KAAK,GAAIrD,GAAA,EAAc8B,EAAMmB,GAAG,GAAGnB,EAAMmB,GAAG,IAElD,OAAOlB,GACR,MAAMO,GAELrE,QAAQC,IAAI,kCAAkCgB,IAAe4C,QHuJjEJ,IAAK,qBACL1E,MAAO,SG9IY+E,GACjB,GAAI0B,GAAQ,GAAIzD,GAAA,EAAY+B,GACxBuB,EAASjE,OAAiBf,KAAKoC,SAAS4C,QAE5C,OADU,IAAItD,GAAA,EAAsByD,EAAOH,MH0J7C5B,IAAK,aACL1E,MAAO,SGjJI4E,EAAIvB,GACb,GAAIqD,KACJA,GAAWzG,MAAoB,MAAZoD,EAAKpD,MAAciD,EAAA,EAAaG,EAAKpD,OAAyB,SAAhB0G,KAAKC,SACtEF,EAAWG,UAAWxD,EAAKwD,WAAa,IACxCH,EAAW1F,aAAa,EACxB0F,EAAWf,YAAmC,KAAjBtC,EAAKsC,QAA2BrE,KAAKoC,SAASiC,QAAUtC,EAAKsC,QAE1Ff,EAAIkC,0BAgDJ,OATFxF,MAAKyF,OAAO,aAGPzF,KAAKoC,SAASsD,SACN,GAAIhE,GAAA,EAAW4B,EAAK,GAAI5B,GAAA,EAAwB0D,IAE/C,GAAI1D,GAAA,EAAW4B,EAAK,GAAI5B,GAAA,EAA0B0D,OH0JhEhC,IAAK,WAWL1E,MAAO,SGvIEC,EAAMgH,EAAKC,EAAMC,EAAOC,GAC/B9F,KAAKoC,SAASzD,MAAMiD,EAAA,EAAajD,GAC9BgH,GAAsB,gBAAPA,IAChBhH,EAAM,GAAI+C,GAAA,EAAYE,EAAA,EAAajD,IACnCiD,EAAA,EAAa5B,KAAK+F,KAAK3B,SAASzF,MAAMA,EAAMgH,EAAKC,EAAMC,EAAOC,IAG9D9F,KAAK+F,KAAK3B,SAASzF,MAAMqH,IAAIpE,EAAA,EAAajD,OHoJ9CyE,IAAK,cACL1E,MAAO,SGzIKuH,EAAGN,EAAKC,EAAMC,EAAOC,GAC5BH,GAAsB,gBAAPA,GAChB/D,EAAA,EAAa5B,KAAKkG,SAASD,EAAGN,EAAKC,EAAMC,EAAOC,GAEhD9F,KAAKkG,SAASF,IAAIC,EAAGpD,EAAEoD,EAAGnD,EAAEmD,EAAGlD,MHkJnCK,IAAK,cACL1E,MAAO,SGzIKuH,EAAGN,EAAKC,EAAMC,EAAOC,GAC/BG,EAAGpD,EAAEoD,EAAGpD,GAAKwC,KAAKc,GAAK,KACvBF,EAAGnD,EAAEmD,EAAGnD,GAAKuC,KAAKc,GAAK,KACvBF,EAAGlD,EAAEkD,EAAGlD,GAAKsC,KAAKc,GAAK,KACvBvE,EAAA,EAAa5B,KAAKoG,SAASH,EAAGN,EAAKC,EAAMC,EAAOC,MHqJlD1C,IAAK,WACL1E,MAAO,SG5IEuH,EAAGN,EAAKC,EAAMS,GAClBV,GAAsB,gBAAPA,GAChB/D,EAAA,EAAa5B,KAAKsG,MAAML,EAAGN,EAAKC,EAAMC,OAAOC,UAE7C9F,KAAKsG,MAAMN,IAAIC,EAAGpD,EAAEoD,EAAGnD,EAAEmD,EAAGlD,MHyJhCK,IAAK,aACL1E,MAAO,SG5II6H,EAAWC,GACjBxG,KAAKoC,SAASqE,gBACf,GAAI9E,GAAA,EAAM+E,MAAO1G,KAAKkG,UAAWS,IAAI5D,EAAG,GAAK/C,KAAKoC,SAASwE,gBAE1DC,QACH,GAAIlF,GAAA,EAAM+E,MAAM1G,KAAK+F,KAAK3B,SAASzF,OAAOgI,GAAG,GAAIjF,GAAA,EAAYE,EAAA,EAAa5B,KAAKoC,SAASzD,QAASqB,KAAKoC,SAASwE,gBAE9GC,QACDN,EAAWO,eAAgB5H,KAAM,WAAY6H,OAAO/G,KAAMgH,SAASR,OH0JrEpD,IAAK,cACL1E,MAAO,SG7IK6H,EAAWC,GAGlBxG,KAAKoC,SAASqE,gBACf,GAAI9E,GAAA,EAAM+E,MAAO1G,KAAKkG,UAAWS,IAAI5D,EAAG/C,KAAKoC,SAAS4C,QAAQC,OAAO,GAAKjF,KAAKoC,SAASwE,gBAEvFC,QAEH,GAAIlF,GAAA,EAAM+E,MAAM1G,KAAK+F,KAAK3B,SAASzF,OAAOgI,GAAG,GAAIjF,GAAA,EAAYE,EAAA,EAAa5B,KAAKoC,SAAS6E,aAAcjH,KAAKoC,SAASwE,gBAEnHC,QACDN,EAAWO,eAAgB5H,KAAM,YAAa6H,OAAO/G,KAAMgH,SAASR,OH2JtEpD,IAAK,cACL1E,MAAO,SG/IK6H,EAAWC,GACrBD,EAAWO,eAAgB5H,KAAM,YAAa6H,OAAO/G,KAAMgH,SAASR,OHkJtEpD,IAAK,OACL8D,IAAK,WGtRH,MAAOlH,MAAKsC,SHgSdc,IAAK,OACL8D,IAAK,WGzRH,MAAOlH,MAAKwC,UH8RTX,GG1eUH,EAAA,GA+UjBG,GAAKmB,MAAM,EAEX5E,EAAA,KHwKI+I,OACA,SAAUlJ,EAAQG,EAAqBC,GAE7C,cAC4B,SAASJ,GIlgBrC,QAASmJ,GAAOC,GA8DZ,QAASC,KAAa,GAAAC,IAAA,EAAAC,GAAA,EAAAC,MAAAC,EAAA,KAClB,OAAAC,GAAAC,EAAAC,IAAeC,EAAKC,sBAApBR,GAAAI,EAAAC,EAAAI,QAAAC,MAAAV,GAAA,EAAuC,IAA/BW,GAA+BP,EAAAjJ,KACnCwJ,GAAI9B,SAAStD,GAAGoF,EAAIC,QAFN,MAAAC,GAAAZ,GAAA,EAAAC,EAAAW,EAAA,aAAAb,GAAAK,EAAAS,QAAAT,EAAAS,SAAA,WAAAb,EAAA,KAAAC,IAKlBa,sBAAsBhB,GACtBiB,EAAA,EAAM9C,SACN+C,EAAS1I,OAAO2I,EAAMC,GACtBC,EAASlD,SArEb,GAAImD,IACAC,WAAU,EACVC,GAAGC,SAASC,KACZC,eAEJlI,KAAc6H,EAAIvB,GAClBrH,KAAK4I,IAAIA,CACT,IAAId,GAAK9H,IAET,KAAIkJ,EAAAC,EAASC,MAET,WADAzJ,SAAQC,IAAI,qBAIhBI,MAAK+H,sBACLsB,EAASC,OAAOC,WAChBC,EAASF,OAAOG,YAEhBhB,EAAQ,GAAIiB,GAAA,EACZhB,EAAS,GAAIgB,GAAA,EAAwB,GAAIL,EAASG,EAAU,EAAG,KAC/DhB,EAAW,GAAIkB,GAAA,IAAqBC,OAAM,IAC1CjB,EAAOxC,SAASF,IAAI,GAAG,GAAG,KAC1B0C,EAAOkB,OAAOnB,EAAMvC,UACpBsC,EAASqB,QAAQR,EAASG,EAG1B,IAAIM,IACAjH,EAAE,IAAKwC,KAAKc,GACZrD,EAAE,GAAIuC,KAAKc,GACXpD,EAAE,EAEN,IAAG6F,EAAIC,UAAU,CACb,GAAIkB,GAAU,GAAIL,GAAA,EAAkB,IAAI,IAAI,KACxCM,EAAU,GAAIN,GAAA,GAAyBb,WAAU,IACjDoB,EAAM,GAAIP,GAAA,EAAWK,EAAQC,EACjCC,GAAI7D,SAASJ,IAAI8D,EAAQjH,EAAEiH,EAAQhH,EAAEgH,EAAQ/G,GAC7C0F,EAAM/F,IAAIuH,GArCA,GAAAC,IAAA,EAAAC,GAAA,EAAAC,MAAA1C,EAAA,KAyCd,OAAA2C,GAAAC,EAAAzC,IAAce,EAAIK,eAAlBiB,GAAAG,EAAAC,EAAAtC,QAAAC,MAAAiC,GAAA,EAA8B,IAAtBK,GAAsBF,EAAA3L,MACtB8L,EAASC,EAAkBF,EAC/BC,GAASrC,OAAOoC,EAAGpC,OACnBnI,KAAK+H,mBAAmBhD,KAAKyF,GAC7B/B,EAAM/F,IAAI8H,IA7CA,MAAApC,GAAA+B,GAAA,EAAAC,EAAAhC,EAAA,aAAA8B,GAAAI,EAAAjC,QAAAiC,EAAAjC,SAAA,WAAA8B,EAAA,KAAAC,IAiDd1B,EAAOkB,OAAOnB,EAAMvC,UACpBsC,EAASkC,WAAWC,MAAMzE,SAAS,WACnCsC,EAASkC,WAAWC,MAAMC,IAAI,IAC9BhC,EAAIE,GAAG+B,YAAYrC,EAASkC,YAE5B/B,EAAY,GAAIe,GAAA,cAAoBhB,EAAOF,EAASkC,YACpD/B,EAASmC,SAAQ,EACjBnC,EAASoC,YAAW,EAGpBzD,IACAgC,OAAO0B,iBAAiB,SAAUC,GAAgB,GAsCtD,QAASC,GAAWC,GAChB,GAAIC,GAAE,IACFC,EAAE,IACFC,EAASvC,SAASwC,cAAc,SACpCD,GAAOE,MAAQJ,EACfE,EAAOG,OAASJ,CAChB,IAAIK,GAAMJ,EAAOK,WAAW,KAE5B,IAAGR,EACCO,EAAIE,UAAUT,EAAI,EAAE,OAEpB,CACA,GAAIU,GAAWH,EAAII,qBAAqBV,GAAOC,GAAO,EAAGD,GAAOC,GAAOD,GACvES,GAASE,aAAa,EAAG,uBACzBF,EAASE,aAAa,EAAG,uBAEzBL,EAAIM,UAAYH,EAChBH,EAAIO,SAAS,EAAG,EAAGb,EAAGC,GACtBK,EAAIQ,YAGR,GAAItN,GAAU,GAAI8K,GAAA,EAAc4B,EAEhC,OADA1M,GAAQuN,aAAc,EACfvN,EAGX,QAAS6L,GAAkBpD,GACvB,GAAIuB,IACAwD,KAAK,EACLzN,MAAM,SACN0F,QAAQ,EACRrB,MAAM,EACNqJ,IAAI,KAERtL,KAAc6H,EAAIvB,EAIlB,KAAM,GADFiF,GAAgB,GAAI5C,GAAA,EACd/E,EAAI,EAAGA,EAAIiE,EAAI5F,MAAO2B,IAAO,CACnC,GAAI4H,GAAO,GAAI7C,GAAA,EACf6C,GAAK1J,EAAI6G,EAAA,EAAW8C,gBAAiB,KACrCD,EAAKzJ,EAAI4G,EAAA,EAAW8C,gBAAiB,KACrCD,EAAKxJ,EAAI2G,EAAA,EAAW8C,gBAAiB,KACrCD,EAAKE,KAAI,EACTH,EAAcxH,SAASC,KAAMwH,GAGjC,GAAIG,GAAgB,GAAIhD,GAAA,GACpB0C,KAAKxD,EAAIwD,KAETzN,MAAOiK,EAAIjK,MACXe,aAAa,EACbD,SAASiK,EAAA,EACTiD,YAAY,EACZtI,QAASuE,EAAIvE,QACbgI,IAAInB,EAAWtC,EAAIyD,MAIvB,OADgB,IAAI3C,GAAA,EAAc4C,EAAeI,GAOrD,QAASzB,KACL5B,EAASC,OAAOC,WAChBC,EAASF,OAAOG,YAChBf,EAAOkE,OAASvD,EAAUG,EAC1Bd,EAAOmE,yBACPrE,EAASqB,QAASR,EAAUG,GAC5B7J,QAAQC,IAAI,UJyVmD,GAAIkN,GAAmEzO,EAAoB,QACrIwJ,EAA2ExJ,EAAoBwC,EAAEiM,GACjGhM,EAAoEzC,EAAoB,QACxF0C,EAA4E1C,EAAoBwC,EAAEC,GAClGiM,EAA6C1O,EAAoB,QACjE6K,EAAqD7K,EAAoBwC,EAAEkM,GAC3ErD,EAA0CrL,EAAoB,QAC9DkK,EAA8ClK,EAAoB,QI9hBvFoK,GJ+hBuEpK,EAAoB,YI/hB3FoK,IACAC,SACAF,SACAa,SACAG,SACAb,QA0FJvB,GAAO4F,WASHC,OAAO,SAASrE,EAAIjD,GAChB,GAAIuD,EAAAC,EAASC,MAAb,CACAzD,EAAKA,GAAM,IACX5E,IAAc6H,GAAK/F,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAAG6F,EAChC,IAAIsE,IACArK,EAAE4F,EAAMrC,SAASvD,EAAE+F,EAAI/F,EACvBC,EAAE2F,EAAMrC,SAAStD,EAAE8F,EAAI9F,EACvBC,EAAE0F,EAAMrC,SAASrD,EAAE6F,EAAI7F,EAG3B,IAAIwF,GAAA,EAAM7B,MAAM+B,EAAMrC,UAAUO,GAAGuG,EAAYvH,GAAMkB,eA+E7D,KAAsB5I,GAAUA,EAAOC,UAAYD,EAAOC,QAAUkJ,GACpEhJ,EAAA,MJilB6B8D,KAAK9D,EAAqBC,EAAoB,QAAQJ,KAI7EkP,OACA,SAAUlP,EAAQG,EAAqBC,GAE7C,YACqB,IAAI+O,GAAmD/O,EAAoB,OK1xBhGD,GAAA,GLuyBE+D,KKryBF,QLsyBEkL,MKpyBF,ULsyBEC,KAAM,WACJ,OACEC,WKryBN,ELsyBMC,QKryBN,GLsyBMC,iBACEC,KKryBR,QLsyBQ9C,IKnyBR,WLwyBE+C,WACAC,QAAS,WACP9F,KKryBJ9H,KLuyBI6N,EAAEC,QAAQ,8BAA+B,SAAUC,GACjD,GAAInF,IACFzG,KKtyBR,OLuyBQ2G,GAAIhB,KAAKkG,MKtyBjB3B,IACA0B,ULwyBQE,MACEX,QACA3O,MKtyBV,OLuyBU8F,UKryBV,SLuyBQyJ,MACEZ,QACA3O,MKryBV,ULuyBQJ,MACE+O,SAEFa,WACEb,OKtyBVnL,KAAA,IAAAiM,IAAA,GAAAzP,MACA,QAAAwD,KAAA,IAAAiM,IAAA,GAAAC,IAAA,GAAA1P,MACA,UAAAwD,KAAA,IAAAiM,IAAA,GAAAC,IAAA,GAAA1P,MACA,UAAAwD,KAAA,IAAAkM,IAAA,GAAAD,IAAA,GAAAzP,MAKA,WLmyBMoP,GAAQO,SAAS/K,QAAQ,SAAUoB,GAEjCiE,EAAIqF,KAAKX,KAAKvI,MACZ5C,KAAMwC,EAAE4J,WKjyBlBpM,KLkyBUzD,MKjyBV,ILiyBiB2G,KAAKC,SACZ3G,MKjyBV,WLsyBM,IAAI0N,GAAM,GAAIe,GAAkE,EKjyBtFxE,ELkyBMyD,GAAImC,mBAAoB3L,GAAI,EAAGC,GAAI,GAAIC,EAAG,IAAM,IKhyBtD,KLkyBMsJ,EAAIrB,iBAAiB,YAAa,SAAUxE,GAC/BA,EKjyBnBO,OLkyBiB7H,OAOXmN,EAAIrB,iBAAiB,WAAY,SAAUxE,GAC/BA,EKjyBlBO,MLkyBQe,MAAKyF,WKjyBb,GLoyBMlB,GAAIrB,iBAAiB,YAAa,SAAUxE,GAC1C,GAAIiI,GAAMjI,EKjyBlBO,MLkyBQ,QAAQ0H,EKjyBhBvP,MLkyBU,IKjyBV,OLkyBY4I,KAAK0F,QAAUiB,EAAIrM,SAASsM,SAAW,IAAMD,EAAIrM,SKjyB7DuM,MACA,MLkyBU,KKjyBV,OACA,KLkyBU,KKjyBV,YLkyBY7G,KKjyBZ0F,QAAAiB,EAAArM,SACAD,KACA,KAAAsM,EAAArM,SAAAgM,KACA,IACA,KAAAK,EAAArM,SAAAiM,KACA,GACA,ML6xBU,KK5xBV,OAGA,QL6xBYvG,KAAK0F,QAAUiB,EAAIrM,SK5xB/BD,KLgyBQ2F,KAAKyF,WK5xBb,EL6xBQzF,KAAK2F,gBK5xBbC,KAAAG,EAAAvE,QAAAsF,aAAApI,EAAAqI,QAAA,GACA,KL4xBQ/G,KAAK2F,gBK3xBb7C,IAAAiD,EAAAvE,QAAAwF,YAAAtI,EAAAuI,QAAA,GACA,OL6xBM1C,EAAIrB,iBAAiB,SAAU,SAAUxE,GACvC7G,QAAQC,IK1xBhB,wBLoyBMoP,OACA,SAAU/Q,EAAQG,EAAqBC,GAE7C,YMl1BA,SAAS4Q,KACL,GAAIC,GAAQ,GAAIC,GAAAhG,CAMhB,OALA+F,GAAME,QAAQ,GACdF,EAAMxE,WAAWC,MAAMzE,SAAS,WAChCgJ,EAAMxE,WAAWC,MAAMC,IAAI,OAC3BsE,EAAMxE,WAAWC,MAAM0E,MAAM,MAC7BvG,EAAG+B,YAAYqE,EAAMxE,YACdwE,EAMX,QAASI,KAEL,IAAK,GADDhD,GAAgB,GAAIiD,GAAA,EACf5K,EAAI,EAAGA,EAAI,IAAOA,IAAM,CAC7B,GAAI6K,GAAa,GAAID,GAAA,GACjBA,EAAA,EAAW/C,gBAAgB,KAC3B+C,EAAA,EAAW/C,gBAAgB,KAC3B+C,EAAA,EAAW/C,gBAAgB,KAE/BF,GAAcxH,SAASC,KAAKyK,GAEhC,GAAI9C,GAAgB,GAAI6C,GAAA,GAAwB5Q,MAAM,QAAUyN,KAAM,EAAGqD,iBAAiB,EAAQC,UAAW,GAAKhQ,aAAa,GAC/HiQ,GAAa,GAAIJ,GAAA,EAAajD,EAAeI,GAC7CjE,EAAM/F,IAAIiN,GAoLd,QAASC,GAAWvI,GAChB,GAAIuB,IACAzG,KAAK,GACLiK,KAAK,GACLyD,KAAK,EACLlR,MAAM,SACNmR,SAAS,EACTvR,MAAK,EACLwR,SAAS,EACT1D,IAAI,KACJ7M,KAAM+P,EAAA,EACNS,SAAS,IACTC,SAAS,IACTC,eAAe,EAEnBC,KAAcvH,EAAIvB,EAElB,IAAI/D,GAAM,GAAIiM,GAAA,EAAqB3G,EAAIwD,KAAM,GAAI,IAC7CgE,EAAOC,EAAczH,EAAImH,UAAUnH,GACnC7C,EAAO,GAAIwJ,GAAA,EAAWjM,EAAI8M,EAC9BrK,GAAKG,SAASF,IAAI4C,EAAIiH,KAAK,EAAE,GAC7B9J,EAAK6C,IAAMA,EACX7C,EAAKuK,QAAO,CAGZ,IAAIC,GAAMxH,SAASwC,cAAc,MAOjC,IANAgF,EAAIC,UAAYC,EAChBF,EAAIG,UAAY9H,EAAIzG,KACpBoO,EAAI5F,MAAMzE,SAAW,WACrB4C,EAAG+B,YAAY0F,GACfxK,EAAK4K,IAAIJ,EAEN3H,EAAIrK,KAAK,CAEZ,GAAIqS,GAAQ,GAAIrB,GAAA,EAAY,GAAIA,GAAA,EAAoB3G,EAAIiH,KAAK,GAAKjH,EAAIiH,KAAK,GAAK,GAAG,GAC/E,GAAIN,GAAA,GAA2B5Q,MAAO,QAAUa,KAAM+P,EAAA,EAAkB7P,aAAY,EAAK2E,QAAQ,KAErGuM,GAAMxK,SAASvD,GAAMwC,KAAKc,GAAK,EAC/BJ,EAAKxH,KAAKqS,EAGV,MAAO7K,GAIX,QAASsK,GAAcnR,GACnB,GAAIkR,GAAK,IACT,QAAQlR,GAEJ,IAAK,GACDkR,EAAO,SAASxH,GAEZ,MADAA,GAAIiI,YAAYjI,EAAIyD,IACb,GAAIkD,GAAA,EAA0B3G,GAEzC,MAEJ,KAAK,GACDwH,EAAO,SAASxH,GACZ,MAAO,IAAI2G,GAAA,EAA0B3G,GAEzC,MAEJ,KAAK,GACDwH,EAAO,SAASxH,GAEZ,MADAA,GAAIrD,UAAU,IACP,GAAIgK,GAAA,EAAwB3G,IAI/C,MAAOwH,GAIX,QAASU,GAAMC,GACX,GAAIC,GAASD,EAAaE,QAAQvI,GAC9BwI,EAAY5H,OAAOC,WAAa,EAChC4H,EAAa7H,OAAOG,YAAc,CAKrC,QAHG5G,EAAGwC,KAAK+L,MAAMJ,EAAOnO,EAAIqO,EAAYA,GACrCpO,EAAGuC,KAAK+L,OAAOJ,EAAOlO,EAAIqO,EAAaA,IAM/C,QAASE,GAAS9E,EAAK+E,GACnB,GAAI/E,EAAJ,CACAgF,EAAeD,CAEf,IAAIrL,GAAGsG,EAAKrG,QACTqG,GAAK3D,IAAI4I,SACRvL,EAAGsG,EAAK3D,IAAI4I,OAAOtL,SAEvB,IAAIuL,GAAGX,EAAM,GAAIvB,GAAA,GAActJ,EAAGpD,EAAEoD,EAAGnD,EAAEyJ,EAAK3D,IAAIwD,KAAKnG,EAAGlD,GAC1DwJ,GAAKoE,IAAIhG,MAAMC,IAAK6G,EAAG3O,EAAI,GAAI,KAC/ByJ,EAAKoE,IAAIhG,MAAM+C,KAAM+D,EAAG5O,EAAI,GAAI,IAChC,IAAI2N,GAAYjE,EAAKoE,IAAIH,SACtBc,IAC4C,GAAxCd,EAAUkB,QAAQC,KACjBpF,EAAKoE,IAAIH,UAAUA,EAAY,IAAMmB,GAGzCpF,EAAKoE,IAAIH,UAAUA,EAAUoB,QAAQ,IAAID,EAAmB,KAKpE,QAASE,KAELnJ,EAAOkE,OAAStD,OAAOC,WAAYD,OAAOG,YAC1Cf,EAAOmE,yBACPrE,EAASqB,QAASP,OAAOC,WAAYD,OAAOG,aAMhD,QAASqI,KACLtL,MAAMuL,iBACNC,EAAMnP,EAAM2D,MAAMyL,QAAW3I,OAAOC,WAAe,EAAI,EACvDyI,EAAMlP,GAAQ0D,MAAM0L,QAAW5I,OAAOG,YAAgB,EAAI,EAE1D0I,EAAUC,cAAeJ,EAAOtJ,EAChC,IAAI2J,GAAaF,EAAUG,iBAAkB7J,EAAM8J,UAAU,EAG7D,IAAKF,EAAWxN,OAAS,EAAG,CAErB2N,IACCnB,EAASmB,GAAa,GACtBA,EAAapO,SAASqO,EAG1B,KAAI,GAAI9N,GAAE,EAAEA,EAAE0N,EAAWxN,OAAOF,IAC5B,GAAG0N,EAAW1N,GAAG+N,iBAAkBnD,GAAA,GAAc8C,EAAY1N,GAAI+N,OAAOpC,OACxE,CACIkC,EAAaH,EAAY1N,GAAI+N,MAC7B,OAGR,IAAIF,EAAa,MAGjBnB,GAASmB,GAAa,EAEtB,IAAIjT,GAASoT,EAAA,MACTnU,EAAW+Q,EAAA,EAAoBqD,MAAOrT,EAAOf,SACjDA,GAASI,QAAQF,MAAQ8T,EAAa5J,IAAIyD,GAC1C,IAAIjI,GAAW,GAAImL,GAAA,GACf/Q,SAAUA,EACVK,aAAcU,EAAOV,aACrBE,eAAgBQ,EAAOR,eACvBW,aAAY,EACZ2E,QAAQ,GAEZoO,GAAiBD,EAAapO,SAC9BoO,EAAapO,SAASA,MAGnBoO,KACCnB,EAASmB,GAAa,GACtBA,EAAapO,SAASqO,EACtBD,EAAa,MAMzB,QAASK,KACLrM,MAAMuL,iBACNI,EAAUC,cAAeJ,EAAOtJ,EAChC,IAAI2J,GAAaF,EAAUG,iBAAkB7J,EAAM8J,UAAU,EAEzD,IAAKF,EAAWxN,OAAS,EAAI,CAEzB,IAAI,GAAIF,GAAE,EAAEA,EAAE0N,EAAWxN,OAAOF,IAC5B,GAAG0N,EAAW1N,GAAG+N,iBAAkBnD,GAAA,GAAc8C,EAAY1N,GAAI+N,OAAOpC,OACxE,CACIwC,EAAUT,EAAY1N,GAAI+N,MAC1B,OAGR,IAAII,EAAU,QNgdL,GAAIC,GAAoE1U,EAAoB,QACxF8R,EAA4E9R,EAAoBwC,EAAEkS,GAClGC,EAAqE3U,EAAoB,QACzF4U,EAA6E5U,EAAoBwC,EAAEmS,GACnGE,EAAkE7U,EAAoB,QACtF8U,EAA0E9U,EAAoBwC,EAAEqS,GAChGE,EAA6C/U,EAAoB,QACjEgV,EAAqDhV,EAAoBwC,EAAEuS,GAC3E7D,EAA0ClR,EAAoB,QAC9DiV,EAA8CjV,EAAoB,QAElEkV,GADkDlV,EAAoB,QAC5BA,EAAoB,SAC9D8Q,EAAkD9Q,EAAoBwC,EAAE0S,GMh6B7F9K,SAEAC,SACAF,SACAG,SACAwJ,EAAY,GAAI5C,GAAA,EAChByC,EAAQ,GAAIzC,GAAA,EACZL,SAEAuB,EAAc,YACdkB,EAAmB,kBACnB7I,SAEA6J,GACAa,OACIhV,UACII,SAAaM,KAAK,IAAIN,QAAS,OAEnCC,cACI,wBACA,oBACA,gBACA,4EACA,gDACA,YACA,KACFC,KAAK,MACPC,gBACI,6BACA,wBACA,oBACA,gBACA,gDACA,kEACA,kEACA,oDACA,KACFD,KAAK,OAEX2U,YACIjV,YACAK,cACI,wBAEA,gBAEA,gDAEA,4EAEA,KACFC,KAAK,MACPC,gBACI,wBAEA,gBAEA,0EAEA,yDAEA,KACFD,KAAK,QAeX6Q,SAgBE+D,ENm4BO,WMl4BT,QAAAA,GAAYrM,GAGR,GAHW4L,IAAAjT,KAAA0T,IAGPL,EAAAlK,EAASC,MAET,WADAzJ,SAAQC,IAAI,iBAIhBI,MAAKsP,QAEL,IAAI1G,IACAE,GAAGC,SAASC,KAEhBmH,KAAcvH,EAAIvB,GAClByB,EAAGF,EAAIE,GAEPoG,EAAMD,IAENxG,EAAQ,GAAI8G,GAAA,GAAeoE,WAAW,IACtCjL,EAAS,GAAI6G,GAAA,EAAwB,GAAIjG,OAAOC,WAAWD,OAAOG,YAAa,EAAG,KAClFjB,EAAW,GAAI+G,GAAA,IAAqB5F,OAAM,IAC1CnB,EAASoL,QACTpL,EAASqB,QAASP,OAAOC,WAAYD,OAAOG,aAC5Cf,EAAOxC,SAASF,IAAI,GAAG,IAAI,MAC3B0C,EAAOkB,OAAOnB,EAAMvC,UACpByC,EAAY,GAAI4G,GAAA,cAAoB7G,EAAOF,EAASkC,YACpD/B,EAASmC,SAAQ,EACjBnC,EAASoC,YAAW,EAEpBuE,GAEA,IAAIuE,GAAY,GAAItE,GAAA,EAAiB,SAAU,EAAG,EAAG,EACrD9G,GAAM/F,IAAImR,EAEV,IAAIC,GAAa,GAAIvE,GAAA,EAAiBsE,EACtCpL,GAAM/F,IAAIoR,EAEV,IAAIC,GAAK,GAAIxE,GAAA,EAAmB,QAChC9G,GAAM/F,IAAIqR,EAGV,IAAIC,GAAMpE,GAAYzN,KAAK,KAAKiK,KAAK,GAAG0D,SAAS,SAASzD,IAAIkD,EAAA,EAAiB0E,YAAY,kBACvFjE,SAAS,IACTC,SAAS,KAEbjQ,MAAKsP,MAAMvK,KAAKiP,EAGhB,IAAIE,GAAStE,GAAYzN,KAAK,KAAKiK,KAAK,EAAEyD,KAAK,GAAGC,SAAS,SAASzD,IAAIkD,EAAA,EAAiB0E,YAAY,sBACjGjE,SAAS,IACTC,SAAS,KAEbjQ,MAAKsP,MAAMvK,KAAKmP,EAEhB,IAAIC,GAAQvE,GAAYzN,KAAK,KAAKxD,MAAM,SAASkR,MAAM,GAAGE,SAAS,EAAE1D,IAAIkD,EAAA,EAAiB0E,YAAY,qBAClGjE,SAAS,KACTC,SAAS,KAEbjQ,MAAKsP,MAAMvK,KAAKoP,EAEhB,IAAIC,GAAIxE,GAAYzN,KAAK,KAAKxD,MAAM,SAASkR,KAAK,GAAGE,SAAS,EAAE1D,IAAIkD,EAAA,EAAiB0E,YAAY,oBAC7FjE,SAAS,KACTC,SAAS,KAEbmE,GAAGhO,SAASvD,EAAE,GACd7C,KAAKsP,MAAMvK,KAAKqP,EAEhB,IAAIC,GAAKzE,GAAYzN,KAAK,KAAKxD,MAAM,QAASyN,KAAK,EAAEyD,KAAK,GAAGE,SAAS,EAAEyB,OAAO4C,EAC3EpE,SAAS,IACTC,SAAS,KAEbjQ,MAAKsP,MAAMvK,KAAKsP,EAGhB,IAAIC,GAAI1E,GAAYzN,KAAK,KAAKxD,MAAM,SAASyN,KAAK,EAAEyD,MAAM,IAAIE,SAAS,EAAE1D,IAAIkD,EAAA,EAAiB0E,YAAY,gBACtGjE,SAAS,KACTC,SAAS,KAEbjQ,MAAKsP,MAAMvK,KAAKuP,EAEhB,IAAIC,GAAI3E,GAAYzN,KAAK,KAAKxD,MAAM,SAASyN,KAAK,GAAGyD,KAAK,IAAIE,SAAS,EAAE1D,IAAIkD,EAAA,EAAiB0E,YAAY,oBACtGjE,SAAS,KACTC,SAAS,KAEbjQ,MAAKsP,MAAMvK,KAAKwP,EAEhB,IAAIC,GAAI5E,GAAYzN,KAAK,KAAKxD,MAAM,QAASyN,KAAK,GAAGyD,MAAM,IAAIE,SAAS,EAAE1D,IAAIkD,EAAA,EAAiB0E,YAAY,oBACvGjE,SAAS,IACTC,SAAS,KAEbjQ,MAAKsP,MAAMvK,KAAKyP,EAEhB,IAAIC,GAAmB,GAAIlF,GAAA,EAAuB,GAAI,GAAI,EAAG,GAAI,KAAK,GAClEmF,EAAmB,GAAInF,GAAA,GACvBO,SAAS,QACTzD,IAAKkD,EAAA,EAAiB0E,YAAY,qBAClCzU,KAAM+P,EAAA,IAENoF,EAAU,GAAIpF,GAAA,EAAWkF,EAAkBC,EAC/CC,GAAQvO,SAASJ,IAAI,GAAK,EAAG,GAC7BwO,EAAG9R,IAAIiS,EAIP,IAAIC,GAAIhF,GAAYzN,KAAK,MAAMxD,MAAM,QAASyN,KAAK,GAAGyD,KAAK,IAAIE,SAAS,EAAE1D,IAAIkD,EAAA,EAAiB0E,YAAY,0BACvGjE,SAAS,IACTC,SAAS,KAEbjQ,MAAKsP,MAAMvK,KAAK6P,EAEhB,IAAIC,GAAIjF,GAAYzN,KAAK,MAAMxD,MAAM,QAASyN,KAAK,EAAEyD,MAAM,IAAIE,SAAS,EAAE1D,IAAIkD,EAAA,EAAiB0E,YAAY,yBACvGjE,SAAS,KACTC,SAAS,KAEbjQ,MAAKsP,MAAMvK,KAAK8P,EAEhB,IAAIC,GAAIlF,GAAYzN,KAAK,MAAMxD,MAAM,QAASyN,KAAK,EAAEyD,KAAK,IAAIE,SAAS,EACnEC,SAAS,KACTC,SAAS,KAEbjQ,MAAKsP,MAAMvK,KAAK+P,GAEhB9U,KAAKsP,MAAM/L,QAAQ,SAACgJ,GACZA,EAAK3D,IAAI4I,QAKTjF,EAAK3D,IAAI4I,OAAO9O,IAAI6J,GACpBA,EAAK3D,IAAI4I,OAAO9O,IAAI6J,EAAKhO,QALzBkK,EAAM/F,IAAI6J,GACV9D,EAAM/F,IAAI6J,EAAKhO,SASvBiK,EAASkC,WAAWC,MAAMzE,SAAS,WACnCsC,EAASkC,WAAWC,MAAMC,IAAI,IAC9BhC,EAAIE,GAAG+B,YAAYrC,EAASkC,YAC5B1K,KAAKsH,cAELgC,OAAO0B,iBAAiB,SAAU6G,GAAU,GAC5C/I,EAAGkC,iBAAiB,YAAa8G,GAAc,GAC/ChJ,EAAGkC,iBAAiB,YAAa6H,GAAc,EAE/C,IAAI3F,IACArK,EAAE4F,EAAMrC,SAASvD,EACjBC,EAAE2F,EAAMrC,SAAStD,EAAE,EAAEuC,KAAKc,GAC1BpD,EAAE0F,EAAMrC,SAASrD,EAGrB,IAAIuQ,GAAA,EAAM5M,MAAM+B,EAAMrC,UAAUO,GAAGuG,EAAY,KAAMrG,QACrD,GAAIyM,GAAA,EAAM5M,MAAMgC,EAAOxC,UAAUS,IAAI9D,EAAE,GAAGC,EAAE,GAAGC,EAAE,KAAK,KAAM8D,QNo5BhE,MArBAsM,KAA0EO,IACtEtQ,IAAK,cACL1E,MAAO,WM73BPiR,EAAWvJ,SAAStD,GAAG,KACnByO,GACAvR,KAAKsP,MAAM/L,QAAQ,SAACgJ,GAChB,GAAIwI,GAAUxI,EAAK3D,GACnB2D,GAAKnG,SAAStD,EAAIyJ,EAAKnG,SAAStD,EAAIiS,EAAQ9E,SAC5C8E,EAAQ7E,eAAiB6E,EAAQ7E,eAAe6E,EAAQ/E,SACxDzD,EAAKrG,SAASF,IAAI+O,EAAQlF,KAAOxK,KAAK2P,IAAID,EAAQ7E,gBAAiB,EAAG6E,EAAQlF,KAAOxK,KAAK4P,IAAIF,EAAQ7E,mBAI9G5H,sBAAsBtI,KAAKsH,YAAY4N,KAAKlV,OAC5CsT,EAAA,EAAM7N,SACNyJ,EAAMzJ,SACNkD,EAASlD,SACT+C,EAAS1I,OAAO2I,EAAMC,ONk4BnBgL,KMtyBPnC,GAAe,EAgCfiB,SAAaC,SAmDbK,QAyCJ1U,GAAA,KNm3BM+W,OACA,SAAUlX,EAAQC,KAMlBkX,KACA,SAAUnX,EAAQG,EAAqBC,GAE7C,YACqB,IACIgX,IADoDhX,EAAoB,QACpBA,EAAoB,QAUpED,GAAuB,GAClD+D,KOv2CF,iBPw2CEkL,MOt2CF,MPw2CEiI,QAAS,aAGT1H,QAAS,WA8DM,GAAIyH,GAAmE,GAAIvM,GAAI9I,KAAKgO,MAAMuH,KAAMC,iBAM3GC,KACA,SAAUxX,EAAQG,EAAqBC,GAE7C,YQ/7CA,IAAAyB,GAAA,WAA0B,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BE,EAAAL,EAAAI,MAAAC,IAAAH,CAAwB,OAAAG,GAAA,OAAiBE,YAAA,SAAmBF,EAAA,OAAYC,IAAA,MAAAqV,OAAA,eAAA3V,EAAA4V,eAAA,cAAAC,OAAwEC,GAAA,SAAY9V,EAAA+V,GAAA,KAAA1V,EAAA,OAAwBsV,OAAA,mBAAA3V,EAAA4V,eAAA,iBAA4DvV,EAAA,OAAYC,IAAA,OAAAC,YAAA,YAAAsV,OAA0CC,GAAA,UAAa9V,EAAA+V,GAAA,KAAA1V,EAAA,OAAwBE,YAAA,gBAAAsV,OAAmCC,GAAA,OAAWE,IAAKC,MAAAjW,EAAAkW,gBAA0BlW,EAAA+V,GAAA,UAAA/V,EAAA+V,GAAA,KAAA1V,EAAA,OAAyCsV,OAAA,YAAA3V,EAAAwN,UAAA,qBAAA5C,MAAA5K,EAAA,gBAAA6V,OAA6FC,GAAA,MAAS9V,EAAA+V,GAAA/V,EAAAmW,GAAAnW,EAAAyN,eACxmBjN,KACAC,GAAiBV,SAAAS,kBACjBnC,GAAA,KRo8CM+X,KACA,SAAUlY,EAAQC,KAMlBkY,KACA,SAAUnY,EAAQG,EAAqBC,GAE7C,YSj9CA,IAAAyB,GAAA,WAA0B,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BE,EAAAL,EAAAI,MAAAC,IAAAH,CAAwB,OAAAG,GAAA,OAAiBE,YAAA,SAAmBF,EAAA,OAAYC,IAAA,MAAAC,YAAA,QAA4BP,EAAA+V,GAAA,KAAA1V,EAAA,OAAwBsV,OAAA,YAAA3V,EAAAwN,UAAA,qBAAA5C,MAAA5K,EAAA,gBAAA6V,OAA6FC,GAAA,MAAS9V,EAAA+V,GAAA/V,EAAAmW,GAAAnW,EAAAyN,eACnSjN,KACAC,GAAiBV,SAAAS,kBACjBnC,GAAA,KTs9CMiY,KACA,SAAUpY,EAAQC,KAMlBoY,OACA,SAAUrY,EAAQG,EAAqBC,GAE7C,YUn+CA,IAAAyB,GAAA,WAA0B,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BE,EAAAL,EAAAI,MAAAC,IAAAH,CAAwB,OAAAG,GAAA,OAAiBE,YAAA,MAAAsV,OAAyBC,GAAA,SAAYzV,EAAA,UAAAA,EAAA,OAAyBE,YAAA,UAAoBF,EAAA,MAAWE,YAAA,WAAAyV,IAA2BC,MAAA,SAAAO,GAAyBxW,EAAAyW,eAAiBpW,EAAA,OAAYE,YAAA,OAAAmW,aAAgCC,QAAA,QAAiBd,OAAQe,IAAAtY,EAAA,WAAwC0B,EAAA+V,GAAA,WAAA/V,EAAAmW,GAAAnW,EAAAsN,MAAA,MAAAtN,EAAAsN,MAAA,OAAAtN,EAAA+V,GAAA,KAAA1V,EAAA,MAAiFE,YAAA,WAAAyV,IAA2BC,MAAA,SAAAO,GAAyBxW,EAAAyW,eAAiBpW,EAAA,OAAYE,YAAA,OAAAmW,aAAgCC,QAAA,QAAiBd,OAAQe,IAAAtY,EAAA,WAAwC0B,EAAA+V,GAAA/V,EAAAmW,GAAAnW,EAAAsN,UAAAtN,EAAA+V,GAAA,KAAA/V,EAAA6W,GAAA,OAAA7W,EAAA+V,GAAA,KAAA1V,EAAA,MAA6EsV,MAAA3V,EAAA8W,MAAA,8BAA4CzW,EAAA,OAAYE,YAAA,kBAA6BP,EAAA+W,GAAA/W,EAAA,eAAAgX,GAAmC,MAAA3W,GAAA,eAAyBE,YAAA,YAAAsV,OAA+BjP,IAAMxE,KAAA4U,EAAA5U,KAAA6U,QAAuB3J,MAAA0J,EAAA1J,QAAkB4J,IAAA,MAAYC,UAAWlB,MAAA,SAAAO,GAAyBxW,EAAAyW,SAAAD,OAAuBnW,EAAA,KAAUsV,MAAAqB,EAAAI,WAAoBpX,EAAA+V,GAAA/V,EAAAmW,GAAAa,EAAA1J,OAAA,eAAwCtN,EAAA+V,GAAA,KAAA1V,EAAA,OAAyBE,YAAA,UAAAyV,IAA0BC,MAAA,SAAAO,GAAyBxW,EAAA8W,OAAA9W,EAAA8W,UAAuBzW,EAAA,KAAUE,YAAA,6BAAmCP,EAAA+V,GAAA,KAAA1V,EAAA,eAAoCE,YAAA,OAAAyV,IAAuBS,SAAAzW,EAAAyW,YAAyBzW,EAAA+V,GAAA,KAAA1V,EAAA,eACzxCG,GAAA,WAAoC,GAAAR,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BE,EAAAL,EAAAI,MAAAC,IAAAH,CAAwB,OAAAG,GAAA,OAAiBE,YAAA,cAAwBF,EAAA,KAAUwV,OAAOwB,KAAA,2BAAArQ,OAAA,YAAqDhH,EAAA+V,GAAA,gBAClNtV,GAAiBV,SAAAS,kBACjBnC,GAAA,KVw+CMiZ,KACA,SAAUpZ,EAAQG,EAAqBC,GAE7C,YWv+CA,SAASiZ,GAAW3Y,GAQlB,MAPkB,gBAARA,KAGNA,GADuB,IAAtBA,EAAM+S,QAAQ,KACP6F,SAAS5Y,EAAMiT,QAAQ,IAAI,IAAI,IAE/B,GAAI4F,GAAA,EAAY7Y,GAAO8Y,UAE5B9Y,EAcN,QAAS+Y,GAAWC,EAAKhR,EAAGhB,EAAKC,EAAMC,EAAOC,GAC3B,gBAARH,KACRA,EAAK,KAEHG,IAASA,EAAS,cAEtB,GAAI8R,GAAA,EAAMlR,MAAMiR,GAAMhR,GAAGA,EAAGhB,GAAMC,MAAMA,GAAO,GAC9CC,OAAOA,GAAQ+R,EAAA,EAAM3U,OAAO4U,OAAOC,MACnCjR,QAAQkR,WAAWjS,GX08COzH,EAAoB2Z,EAAE5Z,EAAqB,IAAK,WAAa,MAAOkZ,KACpEjZ,EAAoB2Z,EAAE5Z,EAAqB,IAAK,WAAa,MAAO6Z,KACpE5Z,EAAoB2Z,EAAE5Z,EAAqB,IAAK,WAAa,MAAOsZ,IAC9E,IAAIQ,GAA6D7Z,EAAoB,QACjF8Z,EAAqE9Z,EAAoBwC,EAAEqX,GAC3FV,EAA0CnZ,EAAoB,QAC9DuZ,EAA8CvZ,EAAoB,QW78CrF4Z,EAAS,WACb,GAAIG,GACFC,EAAWC,OAAOtL,UAAUqL,SAC5BE,EAASD,OAAOtL,UAAUwL,eAE1BC,GACEC,mBAAoB,UACpBC,kBAAmB,SACnBC,kBAAmB,SACnBC,oBAAqB,WACrBC,iBAAkB,QAClBC,gBAAiB,OACjBC,kBAAmB,SACnBC,kBAAmB,UAGrB/Z,EAAO,SAASuP,GACd,MAAc,OAAPA,EAAcyK,OAAOzK,GAAOgK,EAAWJ,EAASnW,KAAKuM,KAAS,UAGvE0K,EAAW,SAAS1K,GAClB,MAAOA,IAAsB,gBAAf,KAAOA,EAAP,YAAA0J,IAAO1J,KAAoB,eAAiBA,IAG5D2K,EAAUC,MAAMD,SAAW,SAAS3K,GAChC,MAAqB,UAAdvP,EAAKuP,IAGhB6K,EAAgB,SAAS7K,GACvB,IAAKA,GAAqB,WAAdvP,EAAKuP,IAAqBA,EAAI8K,UAAYJ,EAAS1K,GAC7D,OAAO,CAGT,IAAIA,EAAI+K,cAAgBjB,EAAOrW,KAAKuM,EAAK,iBACtC8J,EAAOrW,KAAKuM,EAAI+K,YAAYxM,UAAW,iBACxC,OAAO,CAGT,IAAI5J,EACJ,KAAKA,IAAOqL,IAEZ,WAAe/G,KAARtE,GAAqBmV,EAAOrW,KAAKuM,EAAKrL,GA+BjD,OA5BW,SAAT6U,GAAkBwB,EAAM1S,EAAQ2S,GAC9B,IAAK,GAAIvX,KAAQuX,GAAS,CACxB,GAAI/C,GAAM5P,EAAO5E,GACbwX,EAAOD,EAAQvX,EAEnB,IAAI4E,IAAW4S,EAIf,GAAIF,GAAQE,IACTL,EAAcK,KAAUvB,EAAcgB,EAAQO,KAAS,CACxD,GAAIvB,EAAa,CACfA,GAAc,CACd,IAAIxF,GAAQ+D,GAAOyC,EAAQzC,GAAOA,SAGlC,IAAI/D,GAAQ+D,GAAO2C,EAAc3C,GAAOA,IAG1C5P,GAAO5E,GAAQ8V,EAAOwB,EAAM7G,EAAO+G,YACjBjS,KAATiS,IACT5S,EAAO5E,GAAQwX,GAInB,MAAO5S,QXk/CP6S,KACA,SAAU3b,EAAQG,EAAqBC,GAE7C,YYlmDA,SAAAwb,GAAAC,GACAzb,EAAA,QZkmDqB,GAAI0b,GAA+G1b,EAAoB,QYnmD5J2b,EAAA3b,EAAA,QAGA4b,EAAA5b,EAAA,QAQA6b,EAAAL,EAKAM,EAAAF,EACAF,EAAA,EACAC,EAAA,GATA,EAWAE,EAPA,kBAEA,KAUA9b,GAAA,EAAA+b,EAAA,SZ0mDMC,KACA,SAAUnc,EAAQG,EAAqBC,GAE7C,YACAia,QAAO+B,eAAejc,EAAqB,cAAgBM,OAAO,GAC7C,IAAI4b,GAA+Cjc,EAAoB,QAEnEkc,GADuDlc,EAAoBwC,EAAEyZ,GACzCjc,EAAoB,SACxDmc,EAAqCnc,EAAoB,QACzDoc,EAAwCpc,EAAoB,Qa5oDrFqc,EAAArc,EAAA,OAAAA,GAAAwC,EAAA6Z,EAeAH,GAAA,EAAII,OAAOC,eAAgB,EAG3B,GAAIL,GAAA,GACFzR,GAAI,OACJ+R,OAAAJ,EAAA,EACAK,SAAU,SACVC,YAAcC,IAAAR,EAAA,MbopDVS,OACA,SAAUhd,EAAQG,EAAqBC,GAE7C,Yc7qDA,IAAAyB,GAAA,WAA0B,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BE,EAAAL,EAAAI,MAAAC,IAAAH,CAAwB,OAAAG,GAAA,OAAiBE,YAAA,SAAmBF,EAAA,OAAYC,IAAA,MAAAC,YAAA,QAA4BP,EAAA+V,GAAA,KAAA1V,EAAA,OAAwBsV,OAAA,YAAA3V,EAAAwN,UAAA,qBAAA5C,MAAA5K,EAAA,gBAAA6V,OAA6FC,GAAA,MAAS9V,EAAA+V,GAAA/V,EAAAmW,GAAAnW,EAAAyN,eACnSjN,KACAC,GAAiBV,SAAAS,kBACjBnC,GAAA,KdkrDM8c,KACA,SAAUjd,EAAQG,EAAqBC,GAE7C,YACqB,IAAI+O,GAAmD/O,EAAoB,OAYnED,GAAuB,GAClD+D,KexrDF,QfyrDEkL,MevrDF,UfyrDEC,KAAM,WACJ,OACEC,WexrDN,EfyrDMC,QexrDN,GfyrDMC,iBACEC,KexrDR,QfyrDQ9C,IetrDR,Wf2rDE+C,SACEwN,YAAa,WACXrT,KAAK6N,eezrDX,Wf0rDMtJ,IezrDN+O,Uf0rDMC,KAAKD,SezrDX,If2rDInF,aAAc,WACZnO,KAAK6N,eezrDX,Qf0rDM0F,KezrDND,Uf0rDM/O,IAAI+O,SezrDV,Kf4rDExN,QAAS,WACP9F,KexrDJ9H,Kf0rDI6N,EAAEC,QAAQ,8BAA+B,SAAUC,GAIjD,GAAInF,IACFzG,KezrDR,Of0rDQ2G,GAAIhB,KAAKkG,MezrDjB3B,IACA0B,Uf0rDQuN,UAAU,EAGVrN,MACEtL,YezrDV,Ef0rDU2K,OezrDVnL,KAAA,KAAAxD,MAAA,SAAAD,MACA,KAAAyD,KAAA,MAAAxD,MAAA,kBAAAD,MACA,KAAAyD,KAAA,KAAAxD,MAAA,UAAAD,MACA,MAAAyD,KAAA,KAAAxD,MAAA,UAAAD,MAAA,IAAAuI,WAGA,YforDUtI,MenrDV,QforDU8F,UehrDV,WforDU4H,EAAM,GAAIe,GAAkE,EelrDtFxE,EforDMyD,GAAIrB,iBAAiB,YAAa,SAAUxE,GAC/BA,EenrDnBO,OforDawU,SAAS,UenrDtB,OfsrDMlP,EAAIrB,iBAAiB,WAAY,SAAUxE,GACzCsB,KAAKyF,WenrDb,IfsrDMlB,EAAIrB,iBAAiB,YAAa,SAAUxE,GAC1C,GAAIyH,GAAOzH,EenrDnBO,MfsrDQe,MAAK0F,QAAUS,EAAK7L,SenrD5BD,KforDQ2F,KAAKyF,WenrDb,EforDQzF,KAAK2F,gBAAgBC,KAAOG,EAAEvE,QAAQsF,aAAepI,EAAMqI,QAAU,GenrD7E,KforDQ/G,KAAK2F,gBAAgB7C,IAAMiD,EAAEvE,QAAQwF,YAActI,EAAMuI,QAAU,GelrD3E,OfqrDM1C,EAAIrB,iBAAiB,SAAU,SAAUxE,GACvC7G,QAAQC,IejrDhB,mBfqrDMyM,EAAImC,mBAAoB3L,GAAI,GAAIC,GAAI,GAAIC,EejrD9C,UfwrDMyY,KACA,SAAUvd,EAAQG,EAAqBC,GAE7C,YgB1xDA,SAAAwb,GAAAC,GACAzb,EAAA,QhB0xDqB,GAAIod,GAAiHpd,EAAoB,QgB3xD9Jqd,EAAArd,EAAA,QAGA4b,EAAA5b,EAAA,QAQA6b,EAAAL,EAKAM,EAAAF,EACAwB,EAAA,EACAC,EAAA,GATA,EAWAxB,EAPA,kBAEA,KAUA9b,GAAA,EAAA+b,EAAA,ShBkyDMwB,KACA,SAAU1d,EAAQG,EAAqBC,GAE7C,YiB9zDA,IAAAyB,GAAA,WAA0B,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,cAA0BH,GAAAI,MAAAC,EAAwB,OAAAL,GAAA6W,GAAA,IACzFrW,GAAA,WAAoC,GAAAR,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BE,EAAAL,EAAAI,MAAAC,IAAAH,CAAwB,OAAAG,GAAA,OAAiBE,YAAA,QAAkBF,EAAA,OAAYE,YAAA,UAAoBF,EAAA,MAAAL,EAAA+V,GAAA,UAAA/V,EAAA+V,GAAA,KAAA1V,EAAA,MAAAL,EAAA+V,GAAA,4BAAA1V,EAAA,MAAAL,EAAA+V,GAAA,gCAAA1V,EAAA,MAAAL,EAAA+V,GAAA,kCAAA1V,EAAA,MAAAA,EAAA,MAAAA,EAAA,KAAgNE,YAAA,MAAAsV,OAAyBwB,KAAA,mCAAArQ,OAAA,YAA6DhH,EAAA+V,GAAA,gBAC5ctV,GAAiBV,SAAAS,kBACjBnC,GAAA,KjBm0DMwd,KACA,SAAU3d,EAAQC,KAMlB2d,OACA,SAAU5d,EAAQC,KAMlB4d,KACA,SAAU7d,EAAQG,EAAqBC,GAE7C,YkBv1DA,SAAAwb,GAAAC,GACAzb,EAAA,QlBu1DqB,GAAI0d,GAAqH1d,EAAoB,QkBx1DlK2d,EAAA3d,EAAA,QAGA4b,EAAA5b,EAAA,QAQA6b,EAAAL,EAKAM,EAAAF,EACA8B,EAAA,EACAC,EAAA,GATA,EAWA9B,EAPA,kBAEA,KAUA9b,GAAA,EAAA+b,EAAA,SlB+1DM8B,KACA,SAAUhe,EAAQG,EAAqBC,GAE7C,YACqB,IAAI6Z,GAA6D7Z,EAAoB,QACjF8Z,EAAqE9Z,EAAoBwC,EAAEqX;;;;;;;;;;;;;CmBh3DpH,SAAW5O,EAAQ5B,GAq5BnB,QAASwU,GAAazN,GACrB,GAAI5J,GAAS4J,EAAI5J,OAChB3F,EAAOid,GAAOjd,KAAMuP,EAErB,QAAK0N,GAAOhD,SAAU1K,OAIA,IAAjBA,EAAI8K,WAAkB1U,KAIX,UAAT3F,GAA6B,aAATA,IACb,IAAX2F,GACgB,gBAAXA,IAAuBA,EAAS,GAAOA,EAAS,IAAO4J,MAShE,QAAS2N,GAAe1C,GACvB,GAAIhH,GAAS2J,GAAc3C,KAI3B,OAHAyC,IAAOG,KAAM5C,EAAQ6C,MAAOC,QAAwB,SAAUC,EAAGC,GAChEhK,EAAQgK,IAAS,IAEXhK,EAsjBR,QAASiK,GAAcC,EAAMza,EAAMmL,EAAMuP,GACxC,GAAMV,GAAOW,WAAYF,GAAzB,CAIA,GAAIG,GAAWC,EACdC,EAAcd,GAAOe,QACrBC,EAA4B,gBAAThb,GAInBib,EAASR,EAAKrD,SAId8D,EAAQD,EAASjB,GAAOkB,MAAQT,EAIhC/G,EAAKuH,EAASR,EAAMK,GAAgBL,EAAMK,IAAiBA,CAI5D,IAAOpH,GAAOwH,EAAMxH,KAASgH,GAAQQ,EAAMxH,GAAIvI,QAAU6P,GAAa7P,IAAS5F,EAoE/E,MAhEMmO,KAGAuH,EACJR,EAAMK,GAAgBpH,EAAKyH,GAAgBC,OAASpB,GAAOqB,OAE3D3H,EAAKoH,GAIDI,EAAOxH,KACZwH,EAAOxH,MAIDuH,IACLC,EAAOxH,GAAK4H,OAAStB,GAAOuB,OAMT,gBAAhB,KAAOvb,EAAP,YAAAgW,IAAOhW,KAAqC,kBAATA,KAClC0a,EACJQ,EAAOxH,GAAOsG,GAAOlE,OAAQoF,EAAOxH,GAAM1T,GAE1Ckb,EAAOxH,GAAKvI,KAAO6O,GAAOlE,OAAQoF,EAAOxH,GAAKvI,KAAMnL,IAItD4a,EAAYM,EAAOxH,GAKbgH,IACCE,EAAUzP,OACfyP,EAAUzP,SAGXyP,EAAYA,EAAUzP,MAGlBA,IAAS5F,IACbqV,EAAWZ,GAAOwB,UAAWxb,IAAWmL,GAKpC6P,EAMQ,OAHZH,EAAMD,EAAW5a,MAMhB6a,EAAMD,EAAWZ,GAAOwB,UAAWxb,KAGpC6a,EAAMD,EAGAC,GAGR,QAASY,GAAoBhB,EAAMza,EAAM0a,GACxC,GAAMV,GAAOW,WAAYF,GAAzB,CAIA,GAAIG,GAAWpY,EAAGC,EAEjBwY,EAASR,EAAKrD,SAGd8D,EAAQD,EAASjB,GAAOkB,MAAQT,EAChC/G,EAAKuH,EAASR,EAAMT,GAAOe,SAAYf,GAAOe,OAI/C,IAAMG,EAAOxH,GAAb,CAIA,GAAK1T,IAEJ4a,EAAYF,EAAMQ,EAAOxH,GAAOwH,EAAOxH,GAAKvI,MAE3B,CAGV6O,GAAO/C,QAASjX,GAsBrBA,EAAOA,EAAK0b,OAAQ1B,GAAO9P,IAAKlK,EAAMga,GAAOwB,YAnBxCxb,IAAQ4a,GACZ5a,GAASA,IAITA,EAAOga,GAAOwB,UAAWxb,GAExBA,EADIA,IAAQ4a,IACH5a,GAEFA,EAAK2b,MAAM,KAarB,KAAMnZ,EAAI,EAAGC,EAAIzC,EAAK0C,OAAQF,EAAIC,EAAGD,UAC7BoY,GAAW5a,EAAKwC,GAKxB,MAAQkY,EAAMkB,EAAoB5B,GAAO6B,eAAiBjB,GACzD,QAMGF,UACEQ,GAAOxH,GAAKvI,KAIbyQ,EAAmBV,EAAOxH,QAM5BuH,EACJjB,GAAO8B,WAAarB,IAAQ,GAGjBT,GAAO+B,QAAQC,eAAiBd,GAASA,EAAM/T,aACnD+T,GAAOxH,GAIdwH,EAAOxH,GAAO,QA4GhB,QAASuI,GAAUxB,EAAMxZ,EAAKkK,GAG7B,GAAKA,IAAS5F,GAA+B,IAAlBkV,EAAKrD,SAAiB,CAEhD,GAAIpX,GAAO,QAAUiB,EAAIwO,QAASyM,GAAY,OAAQC,aAItD,IAAqB,iBAFrBhR,EAAOsP,EAAK2B,aAAcpc,IAEM,CAC/B,IACCmL,EAAgB,SAATA,GACE,UAATA,IACS,SAATA,EAAkB,MAEjBA,EAAO,KAAOA,GAAQA,EACvBkR,GAAOC,KAAMnR,GAAS6O,GAAOuC,UAAWpR,GACvCA,GACA,MAAOtJ,IAGTmY,GAAO7O,KAAMsP,EAAMxZ,EAAKkK,OAGxBA,GAAO5F,EAIT,MAAO4F,GAIR,QAASyQ,GAAmBtP,GAC3B,GAAItM,EACJ,KAAMA,IAAQsM,GAGb,IAAc,SAATtM,IAAmBga,GAAO6B,cAAevP,EAAItM,MAGpC,WAATA,EACJ,OAAO,CAIT,QAAO,EAgzBR,QAASwc,KACR,OAAO,EAGR,QAASC,KACR,OAAO,EAo6FR,QAASC,GAASC,EAAKC,GACtB,GACCD,EAAMA,EAAKC,SACFD,GAAwB,IAAjBA,EAAIvF,SAErB,OAAOuF,GAuGR,QAASE,GAAQC,EAAUC,EAAWC,GAMrC,GAFAD,EAAYA,GAAa,EAEpB/C,GAAOiD,WAAYF,GACvB,MAAO/C,IAAOkD,KAAKJ,EAAU,SAAUrC,EAAMjY,GAE5C,QADeua,EAAUhd,KAAM0a,EAAMjY,EAAGiY,KACtBuC,GAGb,IAAKD,EAAU3F,SACrB,MAAO4C,IAAOkD,KAAKJ,EAAU,SAAUrC,GACtC,MAASA,KAASsC,IAAgBC,GAG7B,IAA0B,gBAAdD,GAAyB,CAC3C,GAAII,GAAWnD,GAAOkD,KAAKJ,EAAU,SAAUrC,GAC9C,MAAyB,KAAlBA,EAAKrD,UAGb,IAAKgG,GAASd,KAAMS,GACnB,MAAO/C,IAAOqD,OAAON,EAAWI,GAAWH,EAE3CD,GAAY/C,GAAOqD,OAAQN,EAAWI,GAIxC,MAAOnD,IAAOkD,KAAKJ,EAAU,SAAUrC,GACtC,MAAST,IAAOsD,QAAS7C,EAAMsC,IAAe,IAAQC,IAGxD,QAASO,GAAoB3W,GAC5B,GAAI4W,GAAOC,GAAU9B,MAAO,KAC3B+B,EAAW9W,EAAS+W,wBAErB,IAAKD,EAAStU,cACb,KAAQoU,EAAK9a,QACZgb,EAAStU,cACRoU,EAAKpC,MAIR,OAAOsC,GAuXR,QAASE,GAAcnD,EAAM3F,GAC5B,MAAO2F,GAAKoD,qBAAsB/I,GAAM,IAAM2F,EAAK/R,YAAa+R,EAAKqD,cAAc1U,cAAe0L,IAInG,QAASiJ,GAAetD,GACvB,GAAIuD,GAAOvD,EAAKwD,iBAAiB,OAEjC,OADAxD,GAAK1d,MAASihB,GAAQA,EAAKE,WAAc,IAAMzD,EAAK1d,KAC7C0d,EAER,QAAS0D,GAAe1D,GACvB,GAAIL,GAAQgE,GAAkBC,KAAM5D,EAAK1d,KAMzC,OALKqd,GACJK,EAAK1d,KAAOqd,EAAM,GAElBK,EAAK6D,gBAAgB,QAEf7D,EAIR,QAAS8D,GAAeC,EAAOC,GAG9B,IAFA,GAAIhE,GACHjY,EAAI,EACwB,OAApBiY,EAAO+D,EAAMhc,IAAaA,IAClCwX,GAAO0E,MAAOjE,EAAM,cAAegE,GAAezE,GAAO0E,MAAOD,EAAYjc,GAAI,eAIlF,QAASmc,GAAgBnK,EAAKoK,GAE7B,GAAuB,IAAlBA,EAAKxH,UAAmB4C,GAAO6E,QAASrK,GAA7C,CAIA,GAAIzX,GAAMyF,EAAGC,EACZqc,EAAU9E,GAAO0E,MAAOlK,GACxBuK,EAAU/E,GAAO0E,MAAOE,EAAME,GAC9BE,EAASF,EAAQE,MAElB,IAAKA,EAAS,OACND,GAAQE,OACfF,EAAQC,SAER,KAAMjiB,IAAQiiB,GACb,IAAMxc,EAAI,EAAGC,EAAIuc,EAAQjiB,GAAO2F,OAAQF,EAAIC,EAAGD,IAC9CwX,GAAO3V,MAAM9D,IAAKqe,EAAM7hB,EAAMiiB,EAAQjiB,GAAQyF,IAM5Cuc,EAAQ5T,OACZ4T,EAAQ5T,KAAO6O,GAAOlE,UAAYiJ,EAAQ5T,QAI5C,QAAS+T,GAAoB1K,EAAKoK,GACjC,GAAIO,GAAUhU,EAAMtJ,CAGpB,IAAuB,IAAlB+c,EAAKxH,SAAV,CAOA,GAHA+H,EAAWP,EAAKO,SAAShD,eAGnBnC,GAAO+B,QAAQqD,cAAgBR,EAAM5E,GAAOe,SAAY,CAC7D5P,EAAO6O,GAAO0E,MAAOE,EAErB,KAAM/c,IAAKsJ,GAAK6T,OACfhF,GAAOqF,YAAaT,EAAM/c,EAAGsJ,EAAK8T,OAInCL,GAAKN,gBAAiBtE,GAAOe,SAIZ,WAAboE,GAAyBP,EAAKU,OAAS9K,EAAI8K,MAC/CvB,EAAea,GAAOU,KAAO9K,EAAI8K,KACjCnB,EAAeS,IAIS,WAAbO,GACNP,EAAKW,aACTX,EAAKY,UAAYhL,EAAIgL,WAOjBxF,GAAO+B,QAAQ0D,YAAgBjL,EAAIjG,YAAcyL,GAAO0F,KAAKd,EAAKrQ,aACtEqQ,EAAKrQ,UAAYiG,EAAIjG,YAGE,UAAb4Q,GAAwBQ,GAA4BrD,KAAM9H,EAAIzX,OAKzE6hB,EAAKgB,eAAiBhB,EAAKiB,QAAUrL,EAAIqL,QAIpCjB,EAAKriB,QAAUiY,EAAIjY,QACvBqiB,EAAKriB,MAAQiY,EAAIjY,QAKM,WAAb4iB,EACXP,EAAKkB,gBAAkBlB,EAAKmB,SAAWvL,EAAIsL,gBAInB,UAAbX,GAAqC,aAAbA,IACnCP,EAAKoB,aAAexL,EAAIwL,eA8B1B,QAASC,GAAQC,EAASpL,GACzB,GAAI0J,GAAO/D,EACVjY,EAAI,EACJ2d,MAAgD,KAAjCD,EAAQrC,qBAAuCqC,EAAQrC,qBAAsB/I,GAAO,SAC9D,KAA7BoL,EAAQE,iBAAmCF,EAAQE,iBAAkBtL,GAAO,KACnFvP,CAEF,KAAM4a,EACL,IAAMA,KAAY3B,EAAQ0B,EAAQG,YAAcH,EAA8B,OAApBzF,EAAO+D,EAAMhc,IAAaA,KAC7EsS,GAAOkF,GAAOmF,SAAU1E,EAAM3F,GACnCqL,EAAMvd,KAAM6X,GAEZT,GAAOtY,MAAOye,EAAOF,EAAQxF,EAAM3F,GAKtC,OAAOA,KAAQvP,GAAauP,GAAOkF,GAAOmF,SAAUe,EAASpL,GAC5DkF,GAAOtY,OAASwe,GAAWC,GAC3BA,EAIF,QAASG,GAAmB7F,GACtBkF,GAA4BrD,KAAM7B,EAAK1d,QAC3C0d,EAAKmF,eAAiBnF,EAAKoF,SAsQ7B,QAASU,GAAgB/X,EAAOxI,GAG/B,GAAKA,IAAQwI,GACZ,MAAOxI,EAQR,KAJA,GAAIwgB,GAAUxgB,EAAKygB,OAAO,GAAGC,cAAgB1gB,EAAK2gB,MAAM,GACvDC,EAAW5gB,EACXwC,EAAIqe,GAAYne,OAETF,KAEP,IADAxC,EAAO6gB,GAAare,GAAMge,IACbhY,GACZ,MAAOxI,EAIT,OAAO4gB,GAGR,QAASE,GAAUrG,EAAM9T,GAIxB,MADA8T,GAAO9T,GAAM8T,EAC4B,SAAlCT,GAAO+G,IAAKtG,EAAM,aAA2BT,GAAOgH,SAAUvG,EAAKqD,cAAerD,GAG1F,QAASwG,GAAUnE,EAAUoE,GAM5B,IALA,GAAIzG,GACH0G,KACAC,EAAQ,EACR1e,EAASoa,EAASpa,OAEX0e,EAAQ1e,EAAQ0e,IACvB3G,EAAOqC,EAAUsE,GACX3G,EAAKjS,QAGX2Y,EAAQC,GAAUpH,GAAO0E,MAAOjE,EAAM,cACjCyG,GAGEC,EAAQC,IAAkC,SAAvB3G,EAAKjS,MAAM+L,UACnCkG,EAAKjS,MAAM+L,QAAU,IAMM,KAAvBkG,EAAKjS,MAAM+L,SAAkBuM,EAAUrG,KAC3C0G,EAAQC,GAAUpH,GAAO0E,MAAOjE,EAAM,aAAc4G,EAAmB5G,EAAK0E,aAEjEgC,EAAQC,IAAYN,EAAUrG,IAC1CT,GAAO0E,MAAOjE,EAAM,aAAcT,GAAO+G,IAAKtG,EAAM,YAMtD,KAAM2G,EAAQ,EAAGA,EAAQ1e,EAAQ0e,IAChC3G,EAAOqC,EAAUsE,GACX3G,EAAKjS,QAGL0Y,GAA+B,SAAvBzG,EAAKjS,MAAM+L,SAA6C,KAAvBkG,EAAKjS,MAAM+L,UACzDkG,EAAKjS,MAAM+L,QAAU2M,EAAOC,EAAQC,IAAW,GAAK,QAItD,OAAOtE,GAwSR,QAASwE,GAAmB7G,EAAMle,EAAOglB,GACxC,GAAIC,GAAUC,GAAUpD,KAAM9hB,EAC9B,OAAOilB,GAENte,KAAKgJ,IAAK,EAAGsV,EAAS,IAAQD,GAAY,KAAUC,EAAS,IAAO,MACpEjlB,EAGF,QAASmlB,GAAsBjH,EAAMza,EAAM2hB,EAAOC,EAAaC,GAS9D,IARA,GAAIrf,GAAImf,KAAYC,EAAc,SAAW,WAE5C,EAES,UAAT5hB,EAAmB,EAAI,EAEvB8hB,EAAM,EAECtf,EAAI,EAAGA,GAAK,EAEJ,WAAVmf,IACJG,GAAO9H,GAAO+G,IAAKtG,EAAMkH,EAAQI,GAAWvf,IAAK,EAAMqf,IAGnDD,GAEW,YAAVD,IACJG,GAAO9H,GAAO+G,IAAKtG,EAAM,UAAYsH,GAAWvf,IAAK,EAAMqf,IAI7C,WAAVF,IACJG,GAAO9H,GAAO+G,IAAKtG,EAAM,SAAWsH,GAAWvf,GAAM,SAAS,EAAMqf,MAIrEC,GAAO9H,GAAO+G,IAAKtG,EAAM,UAAYsH,GAAWvf,IAAK,EAAMqf,GAG5C,YAAVF,IACJG,GAAO9H,GAAO+G,IAAKtG,EAAM,SAAWsH,GAAWvf,GAAM,SAAS,EAAMqf,IAKvE,OAAOC,GAGR,QAASE,GAAkBvH,EAAMza,EAAM2hB,GAGtC,GAAIM,IAAmB,EACtBH,EAAe,UAAT9hB,EAAmBya,EAAKyH,YAAczH,EAAK0H,aACjDN,EAASO,GAAW3H,GACpBmH,EAAc5H,GAAO+B,QAAQsG,WAAgE,eAAnDrI,GAAO+G,IAAKtG,EAAM,aAAa,EAAOoH,EAKjF,IAAKC,GAAO,GAAY,MAAPA,EAAc,CAQ9B,GANAA,EAAMQ,GAAQ7H,EAAMza,EAAM6hB,IACrBC,EAAM,GAAY,MAAPA,KACfA,EAAMrH,EAAKjS,MAAOxI,IAIduiB,GAAUjG,KAAKwF,GACnB,MAAOA,EAKRG,GAAmBL,IAAiB5H,GAAO+B,QAAQyG,mBAAqBV,IAAQrH,EAAKjS,MAAOxI,IAG5F8hB,EAAMW,WAAYX,IAAS,EAI5B,MAASA,GACRJ,EACCjH,EACAza,EACA2hB,IAAWC,EAAc,SAAW,WACpCK,EACAJ,GAEE,KAIL,QAASR,GAAoBlC,GAC5B,GAAIuD,GAAM9b,EACT2N,EAAUoO,GAAaxD,EA0BxB,OAxBM5K,KACLA,EAAUqO,EAAezD,EAAUuD,GAGlB,SAAZnO,GAAuBA,IAE3BsO,IAAWA,IACV7I,GAAO,kDACN+G,IAAK,UAAW,6BAChB+B,SAAUJ,EAAIK,iBAGhBL,GAAQG,GAAO,GAAGG,eAAiBH,GAAO,GAAGI,iBAAkBrc,SAC/D8b,EAAIQ,MAAM,+BACVR,EAAIS,QAEJ5O,EAAUqO,EAAezD,EAAUuD,GACnCG,GAAOO,UAIRT,GAAaxD,GAAa5K,GAGpBA,EAIR,QAASqO,GAAe5iB,EAAM0iB,GAC7B,GAAIjI,GAAOT,GAAQ0I,EAAItZ,cAAepJ,IAAS8iB,SAAUJ,EAAI7b,MAC5D0N,EAAUyF,GAAO+G,IAAKtG,EAAK,GAAI,UAEhC,OADAA,GAAK4I,SACE9O,EA8NR,QAAS+O,GAAaC,EAAQjX,EAAKkX,EAAajjB,GAC/C,GAAIP,EAEJ,IAAKga,GAAO/C,QAAS3K,GAEpB0N,GAAOG,KAAM7N,EAAK,SAAU9J,EAAGihB,GACzBD,GAAeE,GAASpH,KAAMiH,GAElChjB,EAAKgjB,EAAQE,GAIbH,EAAaC,EAAS,KAAqB,gBAAb,KAAOE,EAAP,YAAAzN,IAAOyN,IAAiBjhB,EAAI,IAAO,IAAKihB,EAAGD,EAAajjB,SAIlF,IAAMijB,GAAsC,WAAvBxJ,GAAOjd,KAAMuP,GAQxC/L,EAAKgjB,EAAQjX,OANb,KAAMtM,IAAQsM,GACbgX,EAAaC,EAAS,IAAMvjB,EAAO,IAAKsM,EAAKtM,GAAQwjB,EAAajjB,GAiErE,QAASojB,GAA6BC,GAGrC,MAAO,UAAUC,EAAoBC,GAED,gBAAvBD,KACXC,EAAOD,EACPA,EAAqB,IAGtB,IAAIE,GACHvhB,EAAI,EACJwhB,EAAYH,EAAmB1H,cAAc/B,MAAOC,OAErD,IAAKL,GAAOiD,WAAY6G,GAEvB,KAASC,EAAWC,EAAUxhB,MAER,MAAhBuhB,EAAS,IACbA,EAAWA,EAASpD,MAAO,IAAO,KACjCiD,EAAWG,GAAaH,EAAWG,QAAkBE,QAASH,KAI9DF,EAAWG,GAAaH,EAAWG,QAAkBnhB,KAAMkhB,IAQjE,QAASI,GAA+BN,EAAWrM,EAAS4M,EAAiBC,GAK5E,QAASC,GAASN,GACjB,GAAIhE,EAYJ,OAXAuE,GAAWP,IAAa,EACxB/J,GAAOG,KAAMyJ,EAAWG,OAAkB,SAAUzJ,EAAGiK,GACtD,GAAIC,GAAsBD,EAAoBhN,EAAS4M,EAAiBC,EACxE,OAAmC,gBAAxBI,IAAqCC,GAAqBH,EAAWE,GAIpEC,IACD1E,EAAWyE,OADf,IAHNjN,EAAQyM,UAAUC,QAASO,GAC3BH,EAASG,IACF,KAKFzE,EAhBR,GAAIuE,MACHG,EAAqBb,IAAcc,EAkBpC,OAAOL,GAAS9M,EAAQyM,UAAW,MAAUM,EAAW,MAASD,EAAS,KAM3E,QAASM,GAAY/f,EAAQ4P,GAC5B,GAAIvT,GAAKqW,EACRsN,EAAc5K,GAAO6K,aAAaD,eAEnC,KAAM3jB,IAAOuT,GACPA,EAAKvT,KAAUsE,KACjBqf,EAAa3jB,GAAQ2D,EAAW0S,IAASA,OAAgBrW,GAAQuT,EAAKvT,GAO1E,OAJKqW,IACJ0C,GAAOlE,QAAQ,EAAMlR,EAAQ0S,GAGvB1S,EA2jBR,QAASkgB,GAAqBhoB,EAAGsnB,EAAOW,GAEvC,GAAIC,GAAIjoB,EAAMkoB,EAAeC,EAC5BC,EAAWroB,EAAEqoB,SACbnB,EAAYlnB,EAAEknB,UACdoB,EAAiBtoB,EAAEsoB,cAGpB,KAAMroB,IAAQqoB,GACRroB,IAAQgoB,KACZX,EAAOgB,EAAeroB,IAAUgoB,EAAWhoB,GAK7C,MAA0B,MAAnBinB,EAAW,IACjBA,EAAUqB,QACLL,IAAOzf,IACXyf,EAAKloB,EAAEwoB,UAAYlB,EAAMmB,kBAAkB,gBAK7C,IAAKP,EACJ,IAAMjoB,IAAQooB,GACb,GAAKA,EAAUpoB,IAAUooB,EAAUpoB,GAAOuf,KAAM0I,GAAO,CACtDhB,EAAUC,QAASlnB,EACnB,OAMH,GAAKinB,EAAW,IAAOe,GACtBE,EAAgBjB,EAAW,OACrB,CAEN,IAAMjnB,IAAQgoB,GAAY,CACzB,IAAMf,EAAW,IAAOlnB,EAAE0oB,WAAYzoB,EAAO,IAAMinB,EAAU,IAAO,CACnEiB,EAAgBloB,CAChB,OAEKmoB,IACLA,EAAgBnoB,GAIlBkoB,EAAgBA,GAAiBC,EAMlC,GAAKD,EAIJ,MAHKA,KAAkBjB,EAAW,IACjCA,EAAUC,QAASgB,GAEbF,EAAWE,GAKpB,QAASQ,GAAa3oB,EAAG4oB,GAExB,GAAIC,GAAMC,EAAOC,EAASC,EACzBN,KACAhjB,EAAI,EAEJwhB,EAAYlnB,EAAEknB,UAAUrD,QACxBoF,EAAO/B,EAAW,EAQnB,IALKlnB,EAAEkpB,aACNN,EAAW5oB,EAAEkpB,WAAYN,EAAU5oB,EAAEinB,WAIjCC,EAAW,GACf,IAAM2B,IAAQ7oB,GAAE0oB,WACfA,EAAYG,EAAKxJ,eAAkBrf,EAAE0oB,WAAYG,EAKnD,MAASE,EAAU7B,IAAYxhB,IAG9B,GAAiB,MAAZqjB,EAAkB,CAGtB,GAAc,MAATE,GAAgBA,IAASF,EAAU,CAMvC,KAHAF,EAAOH,EAAYO,EAAO,IAAMF,IAAaL,EAAY,KAAOK,IAI/D,IAAMD,IAASJ,GAId,GADAM,EAAMF,EAAMjK,MAAM,KACbmK,EAAK,KAAQD,IAGjBF,EAAOH,EAAYO,EAAO,IAAMD,EAAK,KACpCN,EAAY,KAAOM,EAAK,KACb,EAEG,IAATH,EACJA,EAAOH,EAAYI,IAGgB,IAAxBJ,EAAYI,KACvBC,EAAUC,EAAK,GACf9B,EAAUiC,OAAQzjB,IAAK,EAAGqjB,GAG3B,OAOJ,IAAc,IAATF,EAGJ,GAAKA,GAAQ7oB,EAAA,OACZ4oB,EAAWC,EAAMD,OAEjB,KACCA,EAAWC,EAAMD,GAChB,MAAQ7jB,GACT,OAASqkB,MAAO,cAAeC,MAAOR,EAAO9jB,EAAI,sBAAwBkkB,EAAO,OAASF,IAO7FE,EAAOF,EAIT,OAASK,MAAO,UAAW/a,KAAMua,GAoLlC,QAASU,KACR,IACC,MAAO,IAAIjf,GAAOkf,eACjB,MAAOxkB,KAGV,QAASykB,KACR,IACC,MAAO,IAAInf,GAAOof,cAAc,qBAC/B,MAAO1kB,KAuPV,QAAS2kB,KAIR,MAHAC,YAAW,WACVC,GAAQnhB,IAEAmhB,GAAQ1M,GAAO2M,MAGzB,QAASC,GAAcC,EAAWC,GACjC9M,GAAOG,KAAM2M,EAAO,SAAUC,EAAMxqB,GAInC,IAHA,GAAIyqB,IAAeC,GAAUF,QAAerL,OAAQuL,GAAU,MAC7D7F,EAAQ,EACR1e,EAASskB,EAAWtkB,OACb0e,EAAQ1e,EAAQ0e,IACvB,GAAK4F,EAAY5F,GAAQrhB,KAAM8mB,EAAWE,EAAMxqB,GAG/C,SAMJ,QAAS2qB,GAAWzM,EAAMrO,EAAYmL,GACrC,GAAI4P,GACHC,EACAhG,EAAQ,EACR1e,EAAS2kB,GAAoB3kB,OAC7B4kB,EAAWtN,GAAOuN,WAAWC,OAAQ,iBAE7BC,GAAKhN,OAEbgN,EAAO,WACN,GAAKL,EACJ,OAAO,CAUR,KARA,GAAIM,GAAchB,IAASF,IAC1BmB,EAAYzkB,KAAKgJ,IAAK,EAAG2a,EAAUe,UAAYf,EAAUgB,SAAWH,GAEpEI,EAAOH,EAAYd,EAAUgB,UAAY,EACzCE,EAAU,EAAID,EACd1G,EAAQ,EACR1e,EAASmkB,EAAUmB,OAAOtlB,OAEnB0e,EAAQ1e,EAAS0e,IACxByF,EAAUmB,OAAQ5G,GAAQ6G,IAAKF,EAKhC,OAFAT,GAASY,WAAYzN,GAAQoM,EAAWkB,EAASJ,IAE5CI,EAAU,GAAKrlB,EACZilB,GAEPL,EAASa,YAAa1N,GAAQoM,KACvB,IAGTA,EAAYS,EAASc,SACpB3N,KAAMA,EACNqM,MAAO9M,GAAOlE,UAAY1J,GAC1Bic,KAAMrO,GAAOlE,QAAQ,GAAQwS,kBAAqB/Q,GAClDgR,mBAAoBnc,EACpB+X,gBAAiB5M,EACjBqQ,UAAWlB,IAASF,IACpBqB,SAAUtQ,EAAQsQ,SAClBG,UACAQ,YAAa,SAAUzB,EAAM0B,GAC5B,GAAIC,GAAQ1O,GAAOzV,MAAOkW,EAAMoM,EAAUwB,KAAMtB,EAAM0B,EACpD5B,EAAUwB,KAAKC,cAAevB,IAAUF,EAAUwB,KAAK3kB,OAEzD,OADAmjB,GAAUmB,OAAOplB,KAAM8lB,GAChBA,GAERC,KAAM,SAAUC,GACf,GAAIxH,GAAQ,EAGX1e,EAASkmB,EAAU/B,EAAUmB,OAAOtlB,OAAS,CAC9C,IAAK0kB,EACJ,MAAOvpB,KAGR,KADAupB,GAAU,EACFhG,EAAQ1e,EAAS0e,IACxByF,EAAUmB,OAAQ5G,GAAQ6G,IAAK,EAUhC,OALKW,GACJtB,EAASa,YAAa1N,GAAQoM,EAAW+B,IAEzCtB,EAASuB,WAAYpO,GAAQoM,EAAW+B,IAElC/qB,QAGTipB,EAAQD,EAAUC,KAInB,KAFAgC,EAAYhC,EAAOD,EAAUwB,KAAKC,eAE1BlH,EAAQ1e,EAAS0e,IAExB,GADA+F,EAASE,GAAqBjG,GAAQrhB,KAAM8mB,EAAWpM,EAAMqM,EAAOD,EAAUwB,MAE7E,MAAOlB,EAmBT,OAfAP,GAAcC,EAAWC,GAEpB9M,GAAOiD,WAAY4J,EAAUwB,KAAK3jB,QACtCmiB,EAAUwB,KAAK3jB,MAAM3E,KAAM0a,EAAMoM,GAGlC7M,GAAO+O,GAAGC,MACThP,GAAOlE,OAAQ2R,GACdhN,KAAMA,EACNwO,KAAMpC,EACNqC,MAAOrC,EAAUwB,KAAKa,SAKjBrC,EAAUsC,SAAUtC,EAAUwB,KAAKc,UACxCrjB,KAAM+gB,EAAUwB,KAAKviB,KAAM+gB,EAAUwB,KAAKe,UAC1CC,KAAMxC,EAAUwB,KAAKgB,MACrB7B,OAAQX,EAAUwB,KAAKb,QAG1B,QAASsB,GAAYhC,EAAOwB,GAC3B,GAAIlH,GAAOphB,EAAM0D,EAAQnH,EAAO+sB,CAGhC,KAAMlI,IAAS0F,GAed,GAdA9mB,EAAOga,GAAOwB,UAAW4F,GACzB1d,EAAS4kB,EAAetoB,GACxBzD,EAAQuqB,EAAO1F,GACVpH,GAAO/C,QAAS1a,KACpBmH,EAASnH,EAAO,GAChBA,EAAQuqB,EAAO1F,GAAU7kB,EAAO,IAG5B6kB,IAAUphB,IACd8mB,EAAO9mB,GAASzD,QACTuqB,GAAO1F,KAGfkI,EAAQtP,GAAOuP,SAAUvpB,KACX,UAAYspB,GAAQ,CACjC/sB,EAAQ+sB,EAAME,OAAQjtB,SACfuqB,GAAO9mB,EAId,KAAMohB,IAAS7kB,GACN6kB,IAAS0F,KAChBA,EAAO1F,GAAU7kB,EAAO6kB,GACxBkH,EAAelH,GAAU1d,OAI3B4kB,GAAetoB,GAAS0D,EAmC3B,QAAS+lB,GAAkBhP,EAAMqM,EAAOuB,GAEvC,GAAIjH,GAAO2F,EAAMxqB,EAAOmG,EAAQgnB,EAAUC,EAAQjB,EAAOY,EAAOM,EAC/DX,EAAOprB,KACP2K,EAAQiS,EAAKjS,MACbqhB,KACAC,KACAC,EAAStP,EAAKrD,UAAY0J,EAAUrG,EAG/B4N,GAAKa,QACVI,EAAQtP,GAAOgQ,YAAavP,EAAM,MACX,MAAlB6O,EAAMW,WACVX,EAAMW,SAAW,EACjBL,EAAUN,EAAMY,MAAMC,KACtBb,EAAMY,MAAMC,KAAO,WACZb,EAAMW,UACXL,MAIHN,EAAMW,WAENhB,EAAKzB,OAAO,WAGXyB,EAAKzB,OAAO,WACX8B,EAAMW,WACAjQ,GAAOkP,MAAOzO,EAAM,MAAO/X,QAChC4mB,EAAMY,MAAMC,YAOO,IAAlB1P,EAAKrD,WAAoB,UAAY0P,IAAS,SAAWA,MAK7DuB,EAAK+B,UAAa5hB,EAAM4hB,SAAU5hB,EAAM6hB,UAAW7hB,EAAM8hB,WAIlB,WAAlCtQ,GAAO+G,IAAKtG,EAAM,YACW,SAAhCT,GAAO+G,IAAKtG,EAAM,WAIbT,GAAO+B,QAAQwO,wBAAkE,WAAxClJ,EAAoB5G,EAAK0E,UAIvE3W,EAAMgiB,KAAO,EAHbhiB,EAAM+L,QAAU,iBAQd8T,EAAK+B,WACT5hB,EAAM4hB,SAAW,SACXpQ,GAAO+B,QAAQ0O,kBACpBxB,EAAKnjB,KAAK,WACT0C,EAAM4hB,SAAW/B,EAAK+B,SAAU,GAChC5hB,EAAM6hB,UAAYhC,EAAK+B,SAAU,GACjC5hB,EAAM8hB,UAAYjC,EAAK+B,SAAU,KAOpC,KAAMhJ,IAAS0F,GAEd,GADAvqB,EAAQuqB,EAAO1F,GACVsJ,GAASrM,KAAM9hB,GAAU,CAG7B,SAFOuqB,GAAO1F,GACduI,EAASA,GAAoB,WAAVptB,EACdA,KAAYwtB,EAAS,OAAS,QAClC,QAEDD,GAAQlnB,KAAMwe,GAKhB,GADA1e,EAASonB,EAAQpnB,OACH,CACbgnB,EAAW1P,GAAO0E,MAAOjE,EAAM,WAAcT,GAAO0E,MAAOjE,EAAM,aAC5D,UAAYiP,KAChBK,EAASL,EAASK,QAIdJ,IACJD,EAASK,QAAUA,GAEfA,EACJ/P,GAAQS,GAAOyG,OAEf+H,EAAKnjB,KAAK,WACTkU,GAAQS,GAAOkQ,SAGjB1B,EAAKnjB,KAAK,WACT,GAAIihB,EACJ/M,IAAO4Q,YAAanQ,EAAM,SAC1B,KAAMsM,IAAQ8C,GACb7P,GAAOxR,MAAOiS,EAAMsM,EAAM8C,EAAM9C,KAGlC,KAAM3F,EAAQ,EAAIA,EAAQ1e,EAAS0e,IAClC2F,EAAO+C,EAAS1I,GAChBsH,EAAQO,EAAKT,YAAazB,EAAMgD,EAASL,EAAU3C,GAAS,GAC5D8C,EAAM9C,GAAS2C,EAAU3C,IAAU/M,GAAOxR,MAAOiS,EAAMsM,GAE/CA,IAAQ2C,KACfA,EAAU3C,GAAS2B,EAAMhkB,MACpBqlB,IACJrB,EAAMD,IAAMC,EAAMhkB,MAClBgkB,EAAMhkB,MAAiB,UAATqiB,GAA6B,WAATA,EAAoB,EAAI,KAO/D,QAASxiB,GAAOkW,EAAMlD,EAASwP,EAAM0B,EAAK/kB,GACzC,MAAO,IAAIa,GAAMsG,UAAUggB,KAAMpQ,EAAMlD,EAASwP,EAAM0B,EAAK/kB,GAiO5D,QAASonB,GAAO/tB,EAAMguB,GACrB,GAAIC,GACHvX,GAAUnK,OAAQvM,GAClByF,EAAI,CAKL,KADAuoB,EAAeA,EAAc,EAAI,EAC1BvoB,EAAI,EAAIA,GAAK,EAAIuoB,EACvBC,EAAQjJ,GAAWvf,GACnBiR,EAAO,SAAWuX,GAAUvX,EAAO,UAAYuX,GAAUjuB,CAO1D,OAJKguB,KACJtX,EAAMvR,QAAUuR,EAAMpK,MAAQtM,GAGxB0W,EAuRR,QAASwX,GAAWxQ,GACnB,MAAOT,IAAOhD,SAAUyD,GACvBA,EACkB,IAAlBA,EAAKrD,WACJqD,EAAKyQ,aAAezQ,EAAK0Q,cAhwS5B,GAECC,GAGAC,EAGAzkB,EAAWO,EAAOP,SAClB0kB,EAAWnkB,EAAOmkB,SAGlBC,EAAUpkB,EAAO6S,OAGjBwR,EAAKrkB,EAAOuE,EAGZ4K,KAGA6E,MAKAsQ,GAActQ,GAAgBO,OAC9BgQ,GAAYvQ,GAAgBvY,KAC5B+oB,GAAaxQ,GAAgBwF,MAC7BiL,GAAezQ,GAAgB5L,QAC/Bsc,GAAgBvV,EAAWJ,SAC3B4V,GAAcxV,EAAWD,eACzB0V,GATe,QASUrM,KAGzB1F,GAAS,QAATA,GAAmBgS,EAAU9L,GAE5B,MAAO,IAAIlG,GAAOiS,GAAGpB,KAAMmB,EAAU9L,EAASkL,IAI/Cc,GAAY,sCAAsCC,OAGlD9R,GAAiB,OAGjB+R,GAAQ,qCAKRC,GAAa,mCAGbC,GAAa,6BAGbC,GAAc,gBACdC,GAAe,uBACfC,GAAe,qCACfC,GAAe,kEAGfC,GAAY,QACZC,GAAa,eAGbC,GAAa,SAAUC,EAAKC,GAC3B,MAAOA,GAAOrM,eAIfsM,GAAmB,QAAnBA,KACMpmB,EAASiC,kBACbjC,EAASqmB,oBAAqB,mBAAoBD,GAAkB,GACpEhT,GAAOkT,SAC4B,aAAxBtmB,EAASumB,aAGpBvmB,EAASwmB,YAAa,qBAAsBJ,GAC5ChT,GAAOkT,SAIVlT,IAAOiS,GAAKjS,GAAOnP,WAElBwiB,OAhEe,QAkEfhW,YAAa2C,GACb6Q,KAAM,SAAUmB,EAAU9L,EAASkL,GAClC,GAAIhR,GAAOK,CAGX,KAAMuR,EACL,MAAOnuB,KAIR,IAAyB,gBAAbmuB,GAAwB,CAUnC,KAPC5R,EAF2B,MAAvB4R,EAASvL,OAAO,IAAyD,MAA3CuL,EAASvL,OAAQuL,EAAStpB,OAAS,IAAespB,EAAStpB,QAAU,GAE7F,KAAMspB,EAAU,MAGlBK,GAAWhO,KAAM2N,MAIX5R,EAAM,IAAO8F,EAqDrB,OAAMA,GAAWA,EAAQmN,QACtBnN,GAAWkL,GAAakC,KAAMtB,GAKhCnuB,KAAKwZ,YAAa6I,GAAUoN,KAAMtB,EAxDzC,IAAK5R,EAAM,GAAK,CAWf,GAVA8F,EAAUA,YAAmBlG,IAASkG,EAAQ,GAAKA,EAGnDlG,GAAOtY,MAAO7D,KAAMmc,GAAOuT,UAC1BnT,EAAM,GACN8F,GAAWA,EAAQ9I,SAAW8I,EAAQpC,eAAiBoC,EAAUtZ,GACjE,IAII0lB,GAAWhQ,KAAMlC,EAAM,KAAQJ,GAAO7C,cAAe+I,GACzD,IAAM9F,IAAS8F,GAETlG,GAAOiD,WAAYpf,KAAMuc,IAC7Bvc,KAAMuc,GAAS8F,EAAS9F,IAIxBvc,KAAKmgB,KAAM5D,EAAO8F,EAAS9F,GAK9B,OAAOvc,MAQP,IAJA4c,EAAO7T,EAAS4mB,eAAgBpT,EAAM,MAIzBK,EAAK8E,WAAa,CAG9B,GAAK9E,EAAK/G,KAAO0G,EAAM,GACtB,MAAOgR,GAAWkC,KAAMtB,EAIzBnuB,MAAK6E,OAAS,EACd7E,KAAK,GAAK4c,EAKX,MAFA5c,MAAKqiB,QAAUtZ,EACf/I,KAAKmuB,SAAWA,EACTnuB,KAcH,MAAKmuB,GAAS5U,UACpBvZ,KAAKqiB,QAAUriB,KAAK,GAAKmuB,EACzBnuB,KAAK6E,OAAS,EACP7E,MAIImc,GAAOiD,WAAY+O,GACvBZ,EAAW8B,MAAOlB,IAGrBA,EAASA,WAAazmB,IAC1B1H,KAAKmuB,SAAWA,EAASA,SACzBnuB,KAAKqiB,QAAU8L,EAAS9L,SAGlBlG,GAAOyT,UAAWzB,EAAUnuB,QAIpCmuB,SAAU,GAGVtpB,OAAQ,EAGRuH,KAAM,WACL,MAAOpM,MAAK6E,QAGbgrB,QAAS,WACR,MAAO/B,IAAW5rB,KAAMlC,OAKzBkH,IAAK,SAAU4oB,GACd,MAAc,OAAPA,EAGN9vB,KAAK6vB,UAGHC,EAAM,EAAI9vB,KAAMA,KAAK6E,OAASirB,GAAQ9vB,KAAM8vB,IAKhDC,UAAW,SAAUpP,GAGpB,GAAI3D,GAAMb,GAAOtY,MAAO7D,KAAKwZ,cAAemH,EAO5C,OAJA3D,GAAIgT,WAAahwB,KACjBgd,EAAIqF,QAAUriB,KAAKqiB,QAGZrF,GAMRV,KAAM,SAAUxW,EAAUmqB,GACzB,MAAO9T,IAAOG,KAAMtc,KAAM8F,EAAUmqB,IAGrCZ,MAAO,SAAUjB,GAIhB,MAFAjS,IAAOkT,MAAM9E,UAAUtiB,KAAMmmB,GAEtBpuB,MAGR8iB,MAAO,WACN,MAAO9iB,MAAK+vB,UAAWjC,GAAWoC,MAAOlwB,KAAMmwB,aAGhDC,MAAO,WACN,MAAOpwB,MAAKqwB,GAAI,IAGjBC,KAAM,WACL,MAAOtwB,MAAKqwB,IAAK,IAGlBA,GAAI,SAAU1rB,GACb,GAAI4rB,GAAMvwB,KAAK6E,OACd2rB,GAAK7rB,GAAMA,EAAI,EAAI4rB,EAAM,EAC1B,OAAOvwB,MAAK+vB,UAAWS,GAAK,GAAKA,EAAID,GAAQvwB,KAAKwwB,SAGnDnkB,IAAK,SAAUvG,GACd,MAAO9F,MAAK+vB,UAAW5T,GAAO9P,IAAIrM,KAAM,SAAU4c,EAAMjY,GACvD,MAAOmB,GAAS5D,KAAM0a,EAAMjY,EAAGiY,OAIjCgO,IAAK,WACJ,MAAO5qB,MAAKgwB,YAAchwB,KAAKwZ,YAAY,OAK5CzU,KAAM8oB,GACN4C,QAASA,KACTrI,UAAWA,QAIZjM,GAAOiS,GAAGpB,KAAKhgB,UAAYmP,GAAOiS,GAElCjS,GAAOlE,OAASkE,GAAOiS,GAAGnW,OAAS,WAClC,GAAIyB,GAASvX,EAAMwU,EAAKgD,EAAMvB,EAAaxF,EAC1C7L,EAASopB,UAAU,OACnBxrB,EAAI,EACJE,EAASsrB,UAAUtrB,OACnB4U,GAAO,CAqBR,KAlBuB,iBAAX1S,KACX0S,EAAO1S,EACPA,EAASopB,UAAU,OAEnBxrB,EAAI,GAIkB,gBAAlB,KAAOoC,EAAP,YAAAoR,IAAOpR,KAAwBoV,GAAOiD,WAAWrY,KACrDA,MAIIlC,IAAWF,IACfoC,EAAS/G,OACP2E,GAGKA,EAAIE,EAAQF,IAEnB,GAAmC,OAA7B+U,EAAUyW,UAAWxrB,IAE1B,IAAMxC,IAAQuX,GACb/C,EAAM5P,EAAQ5E,GACdwX,EAAOD,EAASvX,GAGX4E,IAAW4S,IAKXF,GAAQE,IAAUwC,GAAO7C,cAAcK,KAAUvB,EAAc+D,GAAO/C,QAAQO,MAC7EvB,GACJA,GAAc,EACdxF,EAAQ+D,GAAOwF,GAAO/C,QAAQzC,GAAOA,MAGrC/D,EAAQ+D,GAAOwF,GAAO7C,cAAc3C,GAAOA,KAI5C5P,EAAQ5E,GAASga,GAAOlE,OAAQwB,EAAM7G,EAAO+G,IAGlCA,IAASjS,IACpBX,EAAQ5E,GAASwX,GAOrB,OAAO5S,IAGRoV,GAAOlE,QACNyY,WAAY,SAAUjX,GASrB,MARKnQ,GAAOuE,IAAMsO,KACjB7S,EAAOuE,EAAI8f,GAGPlU,GAAQnQ,EAAO6S,SAAWA,KAC9B7S,EAAO6S,OAASuR,GAGVvR,IAIRwU,SAAS,EAITC,UAAW,EAGXC,UAAW,SAAUC,GACfA,EACJ3U,GAAOyU,YAEPzU,GAAOkT,OAAO,IAKhBA,MAAO,SAAU0B,GAGhB,IAAc,IAATA,KAAkB5U,GAAOyU,WAAYzU,GAAOwU,QAAjD,CAKA,IAAM5nB,EAASC,KACd,MAAO4f,YAAYzM,GAAOkT,MAI3BlT,IAAOwU,SAAU,GAGH,IAATI,KAAmB5U,GAAOyU,UAAY,IAK3CpD,EAAUlD,YAAavhB,GAAYoT,KAG9BA,GAAOiS,GAAG4C,SACd7U,GAAQpT,GAAWioB,QAAQ,SAASC,IAAI,YAO1C7R,WAAY,SAAU3Q,GACrB,MAA4B,aAArB0N,GAAOjd,KAAKuP,IAGpB2K,QAASC,MAAMD,SAAW,SAAU3K,GACnC,MAA4B,UAArB0N,GAAOjd,KAAKuP,IAGpB0K,SAAU,SAAU1K,GACnB,MAAc,OAAPA,GAAeA,GAAOA,EAAInF,QAGlC4nB,UAAW,SAAUziB,GACpB,OAAQ0iB,MAAOvM,WAAWnW,KAAU2iB,SAAU3iB,IAG/CvP,KAAM,SAAUuP,GACf,MAAY,OAAPA,EACGyK,OAAQzK,GAEM,gBAAf,KAAOA,EAAP,YAAA0J,IAAO1J,KAAmC,kBAARA,GACxCgK,EAAYuV,GAAc9rB,KAAKuM,KAAU,aADnC,KAECA,EAFD,YAAA0J,IAEC1J,IAGT6K,cAAe,SAAU7K,GAIxB,IAAMA,GAA4B,WAArB0N,GAAOjd,KAAKuP,IAAqBA,EAAI8K,UAAY4C,GAAOhD,SAAU1K,GAC9E,OAAO,CAGR,KAEC,GAAKA,EAAI+K,cACPyU,GAAY/rB,KAAKuM,EAAK,iBACtBwf,GAAY/rB,KAAKuM,EAAI+K,YAAYxM,UAAW,iBAC7C,OAAO,EAEP,MAAQhJ,GAET,OAAO,EAMR,GAAIZ,EACJ,KAAMA,IAAOqL,IAEb,MAAOrL,KAAQsE,GAAaumB,GAAY/rB,KAAMuM,EAAKrL,IAGpD4a,cAAe,SAAUvP,GACxB,GAAItM,EACJ,KAAMA,IAAQsM,GACb,OAAO,CAER,QAAO,GAGR6Z,MAAO,SAAU+I,GAChB,KAAM,IAAIC,OAAOD,IAMlB3B,UAAW,SAAUpiB,EAAM+U,EAASkP,GACnC,IAAMjkB,GAAwB,gBAATA,GACpB,MAAO,KAEgB,kBAAZ+U,KACXkP,EAAclP,EACdA,GAAU,GAEXA,EAAUA,GAAWtZ,CAErB,IAAIyoB,GAAS/C,GAAWjO,KAAMlT,GAC7BmkB,GAAWF,KAGZ,OAAKC,IACKnP,EAAQ9W,cAAeimB,EAAO,MAGxCA,EAASrV,GAAOuV,eAAiBpkB,GAAQ+U,EAASoP,GAC7CA,GACJtV,GAAQsV,GAAUjM,SAEZrJ,GAAOtY,SAAW2tB,EAAOhP,cAGjC9D,UAAW,SAAUpR,GAEpB,MAAKhE,GAAOqoB,MAAQroB,EAAOqoB,KAAKC,MACxBtoB,EAAOqoB,KAAKC,MAAOtkB,GAGb,OAATA,EACGA,EAGa,gBAATA,KAGXA,EAAO6O,GAAO0F,KAAMvU,KAKdohB,GAAYjQ,KAAMnR,EAAKsE,QAASgd,GAAc,KACjDhd,QAASid,GAAc,KACvBjd,QAAS+c,GAAc,KAEf,GAAIkD,UAAU,UAAYvkB,SAKtC6O,IAAOmM,MAAO,iBAAmBhb,IAIlCwkB,SAAU,SAAUxkB,GACnB,GAAIykB,GAAK9J,CACT,KAAM3a,GAAwB,gBAATA,GACpB,MAAO,KAER,KACMhE,EAAO0oB,WACX/J,EAAM,GAAI+J,WACVD,EAAM9J,EAAIgK,gBAAiB3kB,EAAO,cAElCykB,EAAM,GAAIrJ,eAAe,oBACzBqJ,EAAIG,MAAQ,QACZH,EAAII,QAAS7kB,IAEb,MAAOtJ,GACR+tB,EAAMrqB,EAKP,MAHMqqB,IAAQA,EAAI7M,kBAAmB6M,EAAI/R,qBAAsB,eAAgBnb,QAC9EsX,GAAOmM,MAAO,gBAAkBhb,GAE1BykB,GAGRrU,KAAM,aAKN0U,WAAY,SAAU9kB,GAChBA,GAAQ6O,GAAO0F,KAAMvU,KAIvBhE,EAAO+oB,YAAc,SAAU/kB,GAChChE,EAAA,KAAiBpH,KAAMoH,EAAQgE,KAC3BA,IAMPqQ,UAAW,SAAU2U,GACpB,MAAOA,GAAO1gB,QAASkd,GAAW,OAAQld,QAASmd,GAAYC,KAGhE1N,SAAU,SAAU1E,EAAMza,GACzB,MAAOya,GAAK0E,UAAY1E,EAAK0E,SAAShD,gBAAkBnc,EAAKmc,eAI9DhC,KAAM,SAAU7N,EAAK3I,EAAUmqB,GAC9B,GACCtrB,GAAI,EACJE,EAAS4J,EAAI5J,OACbuU,EAAU8C,EAAazN,EAExB,IAAKwhB,GACJ,GAAK7W,EACJ,KAAQzU,EAAIE,IAGI,IAFPiB,EAASoqB,MAAOzhB,EAAK9J,GAAKsrB,GADftrB,SAQpB,KAAMA,IAAK8J,GAGV,IAAe,IAFP3I,EAASoqB,MAAOzhB,EAAK9J,GAAKsrB,GAGjC,UAOH,IAAK7W,EACJ,KAAQzU,EAAIE,IAGI,IAFPiB,EAAS5D,KAAMuM,EAAK9J,GAAKA,EAAG8J,EAAK9J,IADtBA,SAQpB,KAAMA,IAAK8J,GAGV,IAAe,IAFP3I,EAAS5D,KAAMuM,EAAK9J,GAAKA,EAAG8J,EAAK9J,IAGxC,KAMJ,OAAO8J,IAIRoT,KAAMqM,KAAcA,GAAUhsB,KAAK,WAClC,SAAUuf,GACT,MAAe,OAARA,EACN,GACAyM,GAAUhsB,KAAMuf,IAIlB,SAAUA,GACT,MAAe,OAARA,EACN,IACEA,EAAO,IAAK7P,QAAS2c,GAAO,KAIjCqB,UAAW,SAAU2C,EAAKC,GACzB,GAAIxV,GAAMwV,KAaV,OAXY,OAAPD,IACCrW,EAAa5D,OAAOia,IACxBpW,GAAOtY,MAAOmZ,EACE,gBAARuV,IACLA,GAAQA,GAGX1E,GAAU3rB,KAAM8a,EAAKuV,IAIhBvV,GAGRyC,QAAS,SAAU7C,EAAM2V,EAAK5tB,GAC7B,GAAI4rB,EAEJ,IAAKgC,EAAM,CACV,GAAKxE,GACJ,MAAOA,IAAa7rB,KAAMqwB,EAAK3V,EAAMjY,EAMtC,KAHA4rB,EAAMgC,EAAI1tB,OACVF,EAAIA,EAAIA,EAAI,EAAIU,KAAKgJ,IAAK,EAAGkiB,EAAM5rB,GAAMA,EAAI,EAErCA,EAAI4rB,EAAK5rB,IAEhB,GAAKA,IAAK4tB,IAAOA,EAAK5tB,KAAQiY,EAC7B,MAAOjY,GAKV,OAAQ,GAGTd,MAAO,SAAUusB,EAAOqC,GACvB,GAAI7tB,GAAI6tB,EAAO5tB,OACdF,EAAIyrB,EAAMvrB,OACV2rB,EAAI,CAEL,IAAkB,gBAAN5rB,GACX,KAAQ4rB,EAAI5rB,EAAG4rB,IACdJ,EAAOzrB,KAAQ8tB,EAAQjC,OAGxB,MAAQiC,EAAOjC,KAAO9oB,GACrB0oB,EAAOzrB,KAAQ8tB,EAAQjC,IAMzB,OAFAJ,GAAMvrB,OAASF,EAERyrB,GAGR/Q,KAAM,SAAUsB,EAAO7a,EAAU4sB,GAChC,GAAIC,GACH3V,KACArY,EAAI,EACJE,EAAS8b,EAAM9b,MAKhB,KAJA6tB,IAAQA,EAIA/tB,EAAIE,EAAQF,IACnBguB,IAAW7sB,EAAU6a,EAAOhc,GAAKA,GAC5B+tB,IAAQC,GACZ3V,EAAIjY,KAAM4b,EAAOhc,GAInB,OAAOqY,IAIR3Q,IAAK,SAAUsU,EAAO7a,EAAU8sB,GAC/B,GAAIl0B,GACHiG,EAAI,EACJE,EAAS8b,EAAM9b,OACfuU,EAAU8C,EAAayE,GACvB3D,IAGD,IAAK5D,EACJ,KAAQzU,EAAIE,EAAQF,IAGL,OAFdjG,EAAQoH,EAAU6a,EAAOhc,GAAKA,EAAGiuB,MAGhC5V,EAAKA,EAAInY,QAAWnG,OAMtB,KAAMiG,IAAKgc,GAGI,OAFdjiB,EAAQoH,EAAU6a,EAAOhc,GAAKA,EAAGiuB,MAGhC5V,EAAKA,EAAInY,QAAWnG,EAMvB,OAAOkvB,IAAYsC,SAAWlT,IAI/BQ,KAAM,EAINqV,MAAO,SAAUzE,EAAI/L,GACpB,GAAI4F,GAAKgI,EAAM4C,CAUf,OARwB,gBAAZxQ,KACX4F,EAAMmG,EAAI/L,GACVA,EAAU+L,EACVA,EAAKnG,GAKA9L,GAAOiD,WAAYgP,IAKzB6B,EAAOnC,GAAW5rB,KAAMiuB,UAAW,GACnC0C,EAAQ,WACP,MAAOzE,GAAG8B,MAAO7N,GAAWriB,KAAMiwB,EAAKpS,OAAQiQ,GAAW5rB,KAAMiuB,cAIjE0C,EAAMrV,KAAO4Q,EAAG5Q,KAAO4Q,EAAG5Q,MAAQrB,GAAOqB,OAElCqV,GAZCnrB,GAiBTorB,OAAQ,SAAUnS,EAAOyN,EAAIhrB,EAAK1E,EAAOq0B,EAAWC,EAAUC,GAC7D,GAAItuB,GAAI,EACPE,EAAS8b,EAAM9b,OACfquB,EAAc,MAAP9vB,CAGR,IAA4B,WAAvB+Y,GAAOjd,KAAMkE,GAAqB,CACtC2vB,GAAY,CACZ,KAAMpuB,IAAKvB,GACV+Y,GAAO2W,OAAQnS,EAAOyN,EAAIzpB,EAAGvB,EAAIuB,IAAI,EAAMquB,EAAUC,OAIhD,IAAKv0B,IAAUgJ,IACrBqrB,GAAY,EAEN5W,GAAOiD,WAAY1gB,KACxBu0B,GAAM,GAGFC,IAECD,GACJ7E,EAAGlsB,KAAMye,EAAOjiB,GAChB0vB,EAAK,OAIL8E,EAAO9E,EACPA,EAAK,SAAUxR,EAAMxZ,EAAK1E,GACzB,MAAOw0B,GAAKhxB,KAAMia,GAAQS,GAAQle,MAKhC0vB,GACJ,KAAQzpB,EAAIE,EAAQF,IACnBypB,EAAIzN,EAAMhc,GAAIvB,EAAK6vB,EAAMv0B,EAAQA,EAAMwD,KAAMye,EAAMhc,GAAIA,EAAGypB,EAAIzN,EAAMhc,GAAIvB,IAK3E,OAAO2vB,GACNpS,EAGAuS,EACC9E,EAAGlsB,KAAMye,GACT9b,EAASupB,EAAIzN,EAAM,GAAIvd,GAAQ4vB,GAGlClK,IAAK,WACJ,OAAS,GAAIqK,OAASC,aAIxBjX,GAAOkT,MAAM9E,QAAU,SAAU9b,GAChC,IAAM+e,EAOL,GALAA,EAAYrR,GAAOuN,WAKU,aAAxB3gB,EAASumB,WAEb1G,WAAYzM,GAAOkT,WAGb,IAAKtmB,EAASiC,iBAEpBjC,EAASiC,iBAAkB,mBAAoBmkB,IAAkB,GAGjE7lB,EAAO0B,iBAAkB,OAAQmR,GAAOkT,OAAO,OAGzC,CAENtmB,EAASsqB,YAAa,qBAAsBlE,IAG5C7lB,EAAO+pB,YAAa,SAAUlX,GAAOkT,MAIrC,IAAIzkB,IAAM,CAEV,KACCA,EAA6B,MAAvBtB,EAAOgqB,cAAwBvqB,EAASmc,gBAC7C,MAAMlhB,IAEH4G,GAAOA,EAAI2oB,UACf,QAAUC,KACT,IAAMrX,GAAOwU,QAAU,CAEtB,IAGC/lB,EAAI2oB,SAAS,QACZ,MAAMvvB,GACP,MAAO4kB,YAAY4K,EAAe,IAInCrX,GAAOkT,YAMZ,MAAO7B,GAAUjD,QAAS9b,IAI3B0N,GAAOG,KAAK,gEAAgEwB,MAAM,KAAM,SAASnZ,EAAGxC,GACnGsW,EAAY,WAAatW,EAAO,KAAQA,EAAKmc,gBAqB9CiP,EAAapR,GAAOpT,EAEpB,IAAIsT,MAiCJF,IAAOsX,UAAY,SAAU/Z,GAI5BA,EAA6B,gBAAZA,GACd2C,GAAc3C,IAAa0C,EAAe1C,GAC5CyC,GAAOlE,UAAYyB,EAEpB,IACCga,GAEAC,EAEAC,EAEAC,EAEAC,EAEAC,EAEApU,KAEAqU,GAASta,EAAQua,SAEjB3H,EAAO,QAAPA,GAAiBhf,GAOhB,IANAomB,EAASha,EAAQga,QAAUpmB,EAC3BqmB,GAAQ,EACRI,EAAcF,GAAe,EAC7BA,EAAc,EACdC,EAAenU,EAAK9a,OACpB+uB,GAAS,EACDjU,GAAQoU,EAAcD,EAAcC,IAC3C,IAA2D,IAAtDpU,EAAMoU,GAAc7D,MAAO5iB,EAAM,GAAKA,EAAM,KAAmBoM,EAAQwa,YAAc,CACzFR,GAAS,CACT,OAGFE,GAAS,EACJjU,IACCqU,EACCA,EAAMnvB,QACVynB,EAAM0H,EAAMxM,SAEFkM,EACX/T,KAEA7X,EAAKsT,YAKRtT,GAECpF,IAAK,WACJ,GAAKid,EAAO,CAEX,GAAI9Y,GAAQ8Y,EAAK9a,QACjB,QAAUnC,GAAKutB,GACd9T,GAAOG,KAAM2T,EAAM,SAAUxT,EAAGmW,GAC/B,GAAI1zB,GAAOid,GAAOjd,KAAM0zB,EACV,cAAT1zB,EACEwa,EAAQya,QAAWrsB,EAAKssB,IAAKxB,IAClCjT,EAAK5a,KAAM6tB,GAEDA,GAAOA,EAAI/tB,QAAmB,WAAT3F,GAEhCwD,EAAKkwB,MAGJzC,WAGCyD,EACJE,EAAenU,EAAK9a,OAGT6uB,IACXG,EAAchtB,EACdylB,EAAMoH,IAGR,MAAO1zB,OAGRwlB,OAAQ,WAkBP,MAjBK7F,IACJxD,GAAOG,KAAM6T,UAAW,SAAU1T,EAAGmW,GAEpC,IADA,GAAIrP,IACKA,EAAQpH,GAAOsD,QAASmT,EAAKjT,EAAM4D,KAAa,GACxD5D,EAAKyI,OAAQ7E,EAAO,GAEfqQ,IACCrQ,GAASuQ,GACbA,IAEIvQ,GAASwQ,GACbA,OAME/zB,MAGRo0B,IAAK,SAAUhG,GACd,MAAOjS,IAAOsD,QAAS2O,EAAIzO,IAAU,GAGtC0M,MAAO,WAEN,MADA1M,MACO3f,MAGRob,QAAS,WAER,MADAuE,GAAOqU,EAAQN,EAAShsB,EACjB1H,MAGRq0B,SAAU,WACT,OAAQ1U,GAGT2U,KAAM,WAKL,MAJAN,GAAQtsB,EACFgsB,GACL5rB,EAAKsT,UAECpb,MAGRu0B,OAAQ,WACP,OAAQP,GAGTQ,SAAU,SAAUnS,EAAS4N,GAU5B,MATAA,GAAOA,MACPA,GAAS5N,EAAS4N,EAAKnN,MAAQmN,EAAKnN,QAAUmN,IACzCtQ,GAAWgU,IAASK,IACnBJ,EACJI,EAAMjvB,KAAMkrB,GAEZ3D,EAAM2D,IAGDjwB,MAGRssB,KAAM,WAEL,MADAxkB,GAAK0sB,SAAUx0B,KAAMmwB,WACdnwB,MAGR2zB,MAAO,WACN,QAASA,GAIZ,OAAO7rB,IAERqU,GAAOlE,QAENyR,SAAU,SAAUzD,GACnB,GAAIwO,KAEA,UAAW,OAAQtY,GAAOsX,UAAU,eAAgB,aACpD,SAAU,OAAQtX,GAAOsX,UAAU,eAAgB,aACnD,SAAU,WAAYtX,GAAOsX,UAAU,YAE1CpL,EAAQ,UACRkC,GACClC,MAAO,WACN,MAAOA,IAERsB,OAAQ,WAEP,MADAF,GAASxhB,KAAMkoB,WAAY3E,KAAM2E,WAC1BnwB,MAER00B,KAAM,WACL,GAAIC,GAAMxE,SACV,OAAOhU,IAAOuN,SAAS,SAAUkL,GAChCzY,GAAOG,KAAMmY,EAAQ,SAAU9vB,EAAGkwB,GACjC,GAAIC,GAASD,EAAO,GACnBzG,EAAKjS,GAAOiD,WAAYuV,EAAKhwB,KAASgwB,EAAKhwB,EAE5C8kB,GAAUoL,EAAM,IAAK,WACpB,GAAIE,GAAW3G,GAAMA,EAAG8B,MAAOlwB,KAAMmwB,UAChC4E,IAAY5Y,GAAOiD,WAAY2V,EAASxK,SAC5CwK,EAASxK,UACPtiB,KAAM2sB,EAASI,SACfxJ,KAAMoJ,EAASK,QACf3J,SAAUsJ,EAASM,QAErBN,EAAUE,EAAS,QAAU90B,OAASuqB,EAAUqK,EAASrK,UAAYvqB,KAAMouB,GAAO2G,GAAa5E,eAIlGwE,EAAM,OACJpK,WAIJA,QAAS,SAAU9b,GAClB,MAAc,OAAPA,EAAc0N,GAAOlE,OAAQxJ,EAAK8b,GAAYA,IAGvDd,IAwCD,OArCAc,GAAQ4K,KAAO5K,EAAQmK,KAGvBvY,GAAOG,KAAMmY,EAAQ,SAAU9vB,EAAGkwB,GACjC,GAAIlV,GAAOkV,EAAO,GACjBO,EAAcP,EAAO,EAGtBtK,GAASsK,EAAM,IAAOlV,EAAKjd,IAGtB0yB,GACJzV,EAAKjd,IAAI,WAER2lB,EAAQ+M,GAGNX,EAAY,EAAJ9vB,GAAS,GAAIyW,QAASqZ,EAAQ,GAAK,GAAIH,MAInD7K,EAAUoL,EAAM,IAAO,WAEtB,MADApL,GAAUoL,EAAM,GAAK,QAAU70B,OAASypB,EAAWc,EAAUvqB,KAAMmwB,WAC5DnwB,MAERypB,EAAUoL,EAAM,GAAK,QAAWlV,EAAK6U,WAItCjK,EAAQA,QAASd,GAGZxD,GACJA,EAAK/jB,KAAMunB,EAAUA,GAIfA,GAIR4L,KAAM,SAAUC,GACf,GAuBCC,GAAgBC,EAAkBC,EAvB/B9wB,EAAI,EACP+wB,EAAgB5H,GAAW5rB,KAAMiuB,WACjCtrB,EAAS6wB,EAAc7wB,OAGvBilB,EAAuB,IAAXjlB,GAAkBywB,GAAenZ,GAAOiD,WAAYkW,EAAY/K,SAAc1lB,EAAS,EAGnG4kB,EAAyB,IAAdK,EAAkBwL,EAAcnZ,GAAOuN,WAGlDiM,EAAa,SAAUhxB,EAAGixB,EAAUtS,GACnC,MAAO,UAAU5kB,GAChBk3B,EAAUjxB,GAAM3E,KAChBsjB,EAAQ3e,GAAMwrB,UAAUtrB,OAAS,EAAIipB,GAAW5rB,KAAMiuB,WAAczxB,EAChE4kB,IAAWiS,EACd9L,EAASY,WAAYuL,EAAUtS,KACfwG,GAChBL,EAASa,YAAasL,EAAUtS,IAQpC,IAAKze,EAAS,EAIb,IAHA0wB,EAAiB,GAAIlc,OAAOxU,GAC5B2wB,EAAmB,GAAInc,OAAOxU,GAC9B4wB,EAAkB,GAAIpc,OAAOxU,GACrBF,EAAIE,EAAQF,IACd+wB,EAAe/wB,IAAOwX,GAAOiD,WAAYsW,EAAe/wB,GAAI4lB,SAChEmL,EAAe/wB,GAAI4lB,UACjBtiB,KAAM0tB,EAAYhxB,EAAG8wB,EAAiBC,IACtClK,KAAM/B,EAASwL,QACf3J,SAAUqK,EAAYhxB,EAAG6wB,EAAkBD,MAE3CzL,CAUL,OAJMA,IACLL,EAASa,YAAamL,EAAiBC,GAGjCjM,EAASc,aAGlBpO,GAAO+B,QAAW,WAEjB,GAAIA,GAAS+Q,EAAK9lB,EAAG0sB,EAAQjtB,EAAKktB,EAAOC,EAAUC,EAAWC,EAAatxB,EAC1E4L,EAAMxH,EAASwC,cAAc,MAS9B,IANAgF,EAAI2lB,aAAc,YAAa,KAC/B3lB,EAAIG,UAAY,qEAGhBue,EAAM1e,EAAIyP,qBAAqB,KAC/B7W,EAAIoH,EAAIyP,qBAAqB,KAAM,IAC7BiP,IAAQ9lB,IAAM8lB,EAAIpqB,OACvB,QAIDgxB,GAAS9sB,EAASwC,cAAc,UAChC3C,EAAMitB,EAAOhrB,YAAa9B,EAASwC,cAAc,WACjDuqB,EAAQvlB,EAAIyP,qBAAqB,SAAU,GAE3C7W,EAAEwB,MAAMwrB,QAAU,gCAClBjY,GAECkY,gBAAmC,MAAlB7lB,EAAIC,UAGrB6lB,kBAA+C,IAA5B9lB,EAAI+lB,WAAW/c,SAIlCgd,OAAQhmB,EAAIyP,qBAAqB,SAASnb,OAI1C2xB,gBAAiBjmB,EAAIyP,qBAAqB,QAAQnb,OAIlD8F,MAAO,MAAM8T,KAAMtV,EAAEoV,aAAa,UAIlCkY,eAA2C,OAA3BttB,EAAEoV,aAAa,QAK/Bla,QAAS,OAAOoa,KAAMtV,EAAEwB,MAAMtG,SAI9BqyB,WAAYvtB,EAAEwB,MAAM+rB,SAGpBC,UAAWb,EAAMp3B,MAIjBk4B,YAAahuB,EAAIsZ,SAGjB2U,UAAW9tB,EAASwC,cAAc,QAAQsrB,QAI1CjV,WAA0E,kBAA9D7Y,EAASwC,cAAc,OAAOurB,WAAW,GAAOnV,UAG5DoV,SAAkC,eAAxBhuB,EAASiuB,WAGnB7Y,eAAe,EACfoD,cAAc,EACdmL,wBAAwB,EACxBE,kBAAkB,EAClBqK,qBAAqB,EACrBtS,mBAAmB,EACnBuS,eAAe,GAIhBpB,EAAM9T,SAAU,EAChB9D,EAAQiZ,eAAiBrB,EAAMgB,WAAW,GAAO9U,QAIjD6T,EAAOxB,UAAW,EAClBnW,EAAQkZ,aAAexuB,EAAIyrB,QAG3B,WACQ9jB,GAAIkO,KACV,MAAOza,GACRka,EAAQC,eAAgB,EAIzB2X,EAAQ/sB,EAASwC,cAAc,SAC/BuqB,EAAMI,aAAc,QAAS,IAC7BhY,EAAQ4X,MAA0C,KAAlCA,EAAMvX,aAAc,SAGpCuX,EAAMp3B,MAAQ,IACdo3B,EAAMI,aAAc,OAAQ,SAC5BhY,EAAQmZ,WAA6B,MAAhBvB,EAAMp3B,MAG3Bo3B,EAAMI,aAAc,UAAW,KAC/BJ,EAAMI,aAAc,OAAQ,KAE5BH,EAAWhtB,EAAS+W,yBACpBiW,EAASlrB,YAAairB,GAItB5X,EAAQoZ,cAAgBxB,EAAM9T,QAG9B9D,EAAQqZ,WAAaxB,EAASe,WAAW,GAAOA,WAAW,GAAOU,UAAUxV,QAKvEzR,EAAI8iB,cACR9iB,EAAI8iB,YAAa,UAAW,WAC3BnV,EAAQqD,cAAe,IAGxBhR,EAAIumB,WAAW,GAAO9gB,QAKvB,KAAMrR,KAAO8yB,QAAQ,EAAMC,QAAQ,EAAMC,SAAS,GACjDpnB,EAAI2lB,aAAcF,EAAY,KAAOrxB,EAAG,KAExCuZ,EAASvZ,EAAI,WAAcqxB,IAAa1sB,KAAkD,IAAxCiH,EAAIqnB,WAAY5B,GAAY9Y,OAgG/E,OA7FA3M,GAAI5F,MAAMktB,eAAiB,cAC3BtnB,EAAIumB,WAAW,GAAOnsB,MAAMktB,eAAiB,GAC7C3Z,EAAQ4Z,gBAA+C,gBAA7BvnB,EAAI5F,MAAMktB,eAGpC1b,GAAO,WACN,GAAI4b,GAAWC,EAAWC,EACzBC,EAAW,+HACXlvB,EAAOD,EAASiX,qBAAqB,QAAQ,EAExChX,KAKN+uB,EAAYhvB,EAASwC,cAAc,OACnCwsB,EAAUptB,MAAMwrB,QAAU,gFAE1BntB,EAAK6B,YAAaktB,GAAYltB,YAAa0F,GAS3CA,EAAIG,UAAY,8CAChBunB,EAAM1nB,EAAIyP,qBAAqB,MAC/BiY,EAAK,GAAIttB,MAAMwrB,QAAU,2CACzBF,EAA0C,IAA1BgC,EAAK,GAAI3T,aAEzB2T,EAAK,GAAIttB,MAAM+L,QAAU,GACzBuhB,EAAK,GAAIttB,MAAM+L,QAAU,OAIzBwH,EAAQia,sBAAwBlC,GAA2C,IAA1BgC,EAAK,GAAI3T,aAG1D/T,EAAIG,UAAY,GAChBH,EAAI5F,MAAMwrB,QAAU,wKACpBjY,EAAQsG,UAAkC,IAApBjU,EAAI8T,YAC1BnG,EAAQka,iCAAwD,IAAnBpvB,EAAKqvB,UAG7C/uB,EAAOgvB,mBACXpa,EAAQgZ,cAAuE,QAArD5tB,EAAOgvB,iBAAkB/nB,EAAK,WAAe3F,IACvEsT,EAAQyG,kBAA2F,SAArErb,EAAOgvB,iBAAkB/nB,EAAK,QAAY/E,MAAO,QAAUA,MAMzFwsB,EAAYznB,EAAI1F,YAAa9B,EAASwC,cAAc,QACpDysB,EAAUrtB,MAAMwrB,QAAU5lB,EAAI5F,MAAMwrB,QAAU+B,EAC9CF,EAAUrtB,MAAM4tB,YAAcP,EAAUrtB,MAAMa,MAAQ,IACtD+E,EAAI5F,MAAMa,MAAQ,MAElB0S,EAAQ+Y,qBACNrS,YAActb,EAAOgvB,iBAAkBN,EAAW,WAAeO,kBAGrC,KAAnBhoB,EAAI5F,MAAMgiB,OAKrBpc,EAAIG,UAAY,GAChBH,EAAI5F,MAAMwrB,QAAU+B,EAAW,8CAC/Bha,EAAQwO,uBAA+C,IAApBnc,EAAI8T,YAIvC9T,EAAI5F,MAAM+L,QAAU,QACpBnG,EAAIG,UAAY,cAChBH,EAAI+lB,WAAW3rB,MAAMa,MAAQ,MAC7B0S,EAAQ0O,iBAAyC,IAApBrc,EAAI8T,YAIjCrb,EAAK2B,MAAMgiB,KAAO,GAGnB3jB,EAAKwvB,YAAaT,GAGlBA,EAAYxnB,EAAM0nB,EAAMD,EAAY,QAIrC/I,EAAM4G,EAASE,EAAWntB,EAAMO,EAAI2sB,EAAQ,KAErC5X,IAGR,IAAIM,IAAS,+BACZH,GAAa,UAwLdlC,IAAOlE,QACNoF,SAIAH,QAAS,UAzoDM,QAyoDsB7X,KAAKC,UAAWsM,QAAS,MAAO,IAIrE6mB,QACCC,OAAS,EAEThmB,OAAU,6CACVimB,QAAU,GAGX3X,QAAS,SAAUpE,GAElB,SADAA,EAAOA,EAAKrD,SAAW4C,GAAOkB,MAAOT,EAAKT,GAAOe,UAAaN,EAAMT,GAAOe,YACzDa,EAAmBnB,IAGtCtP,KAAM,SAAUsP,EAAMza,EAAMmL,GAC3B,MAAOqP,GAAcC,EAAMza,EAAMmL,GAAM,IAGxCsrB,WAAY,SAAUhc,EAAMza,GAC3B,MAAOyb,GAAoBhB,EAAMza,GAAM,IAIxC0e,MAAO,SAAUjE,EAAMza,EAAMmL,GAC5B,MAAOqP,GAAcC,EAAMza,EAAMmL,GAAM,IAGxCyf,YAAa,SAAUnQ,EAAMza,GAC5B,MAAOyb,GAAoBhB,EAAMza,GAAM,IAIxC2a,WAAY,SAAUF,GACrB,GAAI6b,GAAS7b,EAAK0E,UAAYnF,GAAOsc,OAAQ7b,EAAK0E,SAAShD,cAG3D,QAAQma,IAAqB,IAAXA,GAAmB7b,EAAK2B,aAAa,aAAeka,KAIxEtc,GAAOiS,GAAGnW,QACT3K,KAAM,SAAUlK,EAAK1E,GACpB,GAAIkX,GAAOzT,EACVya,EAAO5c,KAAK,GACZ2E,EAAI,EACJ2I,EAAO,IAGR,IAAKlK,IAAQsE,EAAY,CACxB,GAAK1H,KAAK6E,SACTyI,EAAO6O,GAAO7O,KAAMsP,GAEG,IAAlBA,EAAKrD,WAAmB4C,GAAO0E,MAAOjE,EAAM,gBAAkB,CAElE,IADAhH,EAAQgH,EAAKgb,WACLjzB,EAAIiR,EAAM/Q,OAAQF,IACzBxC,EAAOyT,EAAMjR,GAAGxC,KAEVA,EAAKuP,QAAS,WACnBvP,EAAOga,GAAOwB,UAAWxb,EAAK02B,UAAU,IAExCza,EAAUxB,EAAMza,EAAMmL,EAAMnL,IAG9Bga,IAAO0E,MAAOjE,EAAM,eAAe,GAIrC,MAAOtP,GAIR,MAAoB,gBAAf,KAAOlK,EAAP,YAAA+U,IAAO/U,IACJpD,KAAKsc,KAAK,WAChBH,GAAO7O,KAAMtN,KAAMoD,KAId+Y,GAAO2W,OAAQ9yB,KAAM,SAAUtB,GAErC,GAAKA,IAAUgJ,EAEd,MAAOkV,GAAOwB,EAAUxB,EAAMxZ,EAAK+Y,GAAO7O,KAAMsP,EAAMxZ,IAAU,IAGjEpD,MAAKsc,KAAK,WACTH,GAAO7O,KAAMtN,KAAMoD,EAAK1E,MAEvB,KAAMA,EAAOyxB,UAAUtrB,OAAS,EAAG,MAAM,IAG7C+zB,WAAY,SAAUx1B,GACrB,MAAOpD,MAAKsc,KAAK,WAChBH,GAAOyc,WAAY54B,KAAMoD,QAoD5B+Y,GAAOlE,QACNoT,MAAO,SAAUzO,EAAM1d,EAAMoO,GAC5B,GAAI+d,EAEJ,IAAKzO,EAYJ,MAXA1d,IAASA,GAAQ,MAAS,QAC1BmsB,EAAQlP,GAAO0E,MAAOjE,EAAM1d,GAGvBoO,KACE+d,GAASlP,GAAO/C,QAAQ9L,GAC7B+d,EAAQlP,GAAO0E,MAAOjE,EAAM1d,EAAMid,GAAOyT,UAAUtiB,IAEnD+d,EAAMtmB,KAAMuI,IAGP+d,OAITyN,QAAS,SAAUlc,EAAM1d,GACxBA,EAAOA,GAAQ,IAEf,IAAImsB,GAAQlP,GAAOkP,MAAOzO,EAAM1d,GAC/B65B,EAAc1N,EAAMxmB,OACpBupB,EAAK/C,EAAM7D,QACXiE,EAAQtP,GAAOgQ,YAAavP,EAAM1d,GAClC8I,EAAO,WACNmU,GAAO2c,QAASlc,EAAM1d,GAIZ,gBAAPkvB,IACJA,EAAK/C,EAAM7D,QACXuR,KAGDtN,EAAM3M,IAAMsP,EACPA,IAIU,OAATlvB,GACJmsB,EAAMjF,QAAS,oBAITqF,GAAMX,KACbsD,EAAGlsB,KAAM0a,EAAM5U,EAAMyjB,KAGhBsN,GAAetN,GACpBA,EAAMY,MAAMC,QAKdH,YAAa,SAAUvP,EAAM1d,GAC5B,GAAIkE,GAAMlE,EAAO,YACjB,OAAOid,IAAO0E,MAAOjE,EAAMxZ,IAAS+Y,GAAO0E,MAAOjE,EAAMxZ,GACvDipB,MAAOlQ,GAAOsX,UAAU,eAAe/wB,IAAI,WAC1CyZ,GAAO4Q,YAAanQ,EAAM1d,EAAO,SACjCid,GAAO4Q,YAAanQ,EAAMxZ,UAM9B+Y,GAAOiS,GAAGnW,QACToT,MAAO,SAAUnsB,EAAMoO,GACtB,GAAI0rB,GAAS,CAQb,OANqB,gBAAT95B,KACXoO,EAAOpO,EACPA,EAAO,KACP85B,KAGI7I,UAAUtrB,OAASm0B,EAChB7c,GAAOkP,MAAOrrB,KAAK,GAAId,GAGxBoO,IAAS5F,EACf1H,KACAA,KAAKsc,KAAK,WACT,GAAI+O,GAAQlP,GAAOkP,MAAOrrB,KAAMd,EAAMoO,EAGtC6O,IAAOgQ,YAAansB,KAAMd,GAEZ,OAATA,GAA8B,eAAbmsB,EAAM,IAC3BlP,GAAO2c,QAAS94B,KAAMd,MAI1B45B,QAAS,SAAU55B,GAClB,MAAOc,MAAKsc,KAAK,WAChBH,GAAO2c,QAAS94B,KAAMd,MAKxB0G,MAAO,SAAUD,EAAMzG,GAItB,MAHAyG,GAAOwW,GAAO+O,GAAK/O,GAAO+O,GAAG+N,OAAQtzB,IAAUA,EAAOA,EACtDzG,EAAOA,GAAQ,KAERc,KAAKqrB,MAAOnsB,EAAM,SAAU8I,EAAMyjB,GACxC,GAAIyN,GAAUtQ,WAAY5gB,EAAMrC,EAChC8lB,GAAMX,KAAO,WACZqO,aAAcD,OAIjBE,WAAY,SAAUl6B,GACrB,MAAOc,MAAKqrB,MAAOnsB,GAAQ,UAI5BqrB,QAAS,SAAUrrB,EAAMuP,GACxB,GAAIwZ,GACHjlB,EAAQ,EACRq2B,EAAQld,GAAOuN,WACfzK,EAAWjf,KACX2E,EAAI3E,KAAK6E,OACTmwB,EAAU,aACChyB,GACTq2B,EAAM/O,YAAarL,GAAYA,IAUlC,KANqB,gBAAT/f,KACXuP,EAAMvP,EACNA,EAAOwI,GAERxI,EAAOA,GAAQ,KAERyF,MACNsjB,EAAM9L,GAAO0E,MAAO5B,EAAUta,GAAKzF,EAAO,gBAC9B+oB,EAAIoE,QACfrpB,IACAilB,EAAIoE,MAAM3pB,IAAKsyB,GAIjB,OADAA,KACOqE,EAAM9O,QAAS9b,KAGxB,IAAI6qB,IAAUC,GACbC,GAAS,YACTC,GAAU,MACVC,GAAa,6CACbC,GAAa,gBACbC,GAAW,8HACXC,GAAc,0BACdzD,GAAkBja,GAAO+B,QAAQkY,gBACjC0D,GAAc3d,GAAO+B,QAAQ4X,KAE9B3Z,IAAOiS,GAAGnW,QACTkI,KAAM,SAAUhe,EAAMzD,GACrB,MAAOyd,IAAO2W,OAAQ9yB,KAAMmc,GAAOgE,KAAMhe,EAAMzD,EAAOyxB,UAAUtrB,OAAS,IAG1Ek1B,WAAY,SAAU53B,GACrB,MAAOnC,MAAKsc,KAAK,WAChBH,GAAO4d,WAAY/5B,KAAMmC,MAI3B+mB,KAAM,SAAU/mB,EAAMzD,GACrB,MAAOyd,IAAO2W,OAAQ9yB,KAAMmc,GAAO+M,KAAM/mB,EAAMzD,EAAOyxB,UAAUtrB,OAAS,IAG1Em1B,WAAY,SAAU73B,GAErB,MADAA,GAAOga,GAAO8d,QAAS93B,IAAUA,EAC1BnC,KAAKsc,KAAK,WAEhB,IACCtc,KAAMmC,GAASuF,QACR1H,MAAMmC,GACZ,MAAO6B,QAIXk2B,SAAU,SAAUx7B,GACnB,GAAIy7B,GAASvd,EAAMkC,EAAKsb,EAAO5J,EAC9B7rB,EAAI,EACJ4rB,EAAMvwB,KAAK6E,OACXw1B,EAA2B,gBAAV37B,IAAsBA,CAExC,IAAKyd,GAAOiD,WAAY1gB,GACvB,MAAOsB,MAAKsc,KAAK,SAAUkU,GAC1BrU,GAAQnc,MAAOk6B,SAAUx7B,EAAMwD,KAAMlC,KAAMwwB,EAAGxwB,KAAKwQ,aAIrD,IAAK6pB,EAIJ,IAFAF,GAAYz7B,GAAS,IAAK6d,MAAOC,QAEzB7X,EAAI4rB,EAAK5rB,IAOhB,GANAiY,EAAO5c,KAAM2E,GACbma,EAAwB,IAAlBlC,EAAKrD,WAAoBqD,EAAKpM,WACjC,IAAMoM,EAAKpM,UAAY,KAAMoB,QAAS4nB,GAAQ,KAChD,KAGU,CAEV,IADAhJ,EAAI,EACK4J,EAAQD,EAAQ3J,MACnB1R,EAAIpN,QAAS,IAAM0oB,EAAQ,KAAQ,IACvCtb,GAAOsb,EAAQ,IAGjBxd,GAAKpM,UAAY2L,GAAO0F,KAAM/C,GAMjC,MAAO9e,OAGRs6B,YAAa,SAAU57B,GACtB,GAAIy7B,GAASvd,EAAMkC,EAAKsb,EAAO5J,EAC9B7rB,EAAI,EACJ4rB,EAAMvwB,KAAK6E,OACXw1B,EAA+B,IAArBlK,UAAUtrB,QAAiC,gBAAVnG,IAAsBA,CAElE,IAAKyd,GAAOiD,WAAY1gB,GACvB,MAAOsB,MAAKsc,KAAK,SAAUkU,GAC1BrU,GAAQnc,MAAOs6B,YAAa57B,EAAMwD,KAAMlC,KAAMwwB,EAAGxwB,KAAKwQ,aAGxD,IAAK6pB,EAGJ,IAFAF,GAAYz7B,GAAS,IAAK6d,MAAOC,QAEzB7X,EAAI4rB,EAAK5rB,IAQhB,GAPAiY,EAAO5c,KAAM2E,GAEbma,EAAwB,IAAlBlC,EAAKrD,WAAoBqD,EAAKpM,WACjC,IAAMoM,EAAKpM,UAAY,KAAMoB,QAAS4nB,GAAQ,KAChD,IAGU,CAEV,IADAhJ,EAAI,EACK4J,EAAQD,EAAQ3J,MAExB,KAAQ1R,EAAIpN,QAAS,IAAM0oB,EAAQ,MAAS,GAC3Ctb,EAAMA,EAAIlN,QAAS,IAAMwoB,EAAQ,IAAK,IAGxCxd,GAAKpM,UAAY9R,EAAQyd,GAAO0F,KAAM/C,GAAQ,GAKjD,MAAO9e,OAGRu6B,YAAa,SAAU77B,EAAO87B,GAC7B,GAAIt7B,OAAA,KAAcR,EAAd,YAAAyZ,IAAczZ,GACjB+7B,EAA6B,iBAAbD,EAEjB,OAAKre,IAAOiD,WAAY1gB,GAChBsB,KAAKsc,KAAK,SAAU3X,GAC1BwX,GAAQnc,MAAOu6B,YAAa77B,EAAMwD,KAAKlC,KAAM2E,EAAG3E,KAAKwQ,UAAWgqB,GAAWA,KAItEx6B,KAAKsc,KAAK,WAChB,GAAc,WAATpd,EAQJ,IANA,GAAIsR,GACH7L,EAAI,EACJmD,EAAOqU,GAAQnc,MACfqoB,EAAQmS,EACRE,EAAah8B,EAAM6d,MAAOC,QAElBhM,EAAYkqB,EAAY/1B,MAEhC0jB,EAAQoS,EAASpS,GAASvgB,EAAK6yB,SAAUnqB,GACzC1I,EAAMugB,EAAQ,WAAa,eAAiB7X,OAIzB,cAATtR,GAAiC,YAATA,IAC9Bc,KAAKwQ,WAET2L,GAAO0E,MAAO7gB,KAAM,gBAAiBA,KAAKwQ,WAO3CxQ,KAAKwQ,UAAYxQ,KAAKwQ,YAAuB,IAAV9R,EAAkB,GAAKyd,GAAO0E,MAAO7gB,KAAM,kBAAqB,OAKtG26B,SAAU,SAAUxM,GAInB,IAHA,GAAI3d,GAAY,IAAM2d,EAAW,IAChCxpB,EAAI,EACJC,EAAI5E,KAAK6E,OACFF,EAAIC,EAAGD,IACd,GAA0B,IAArB3E,KAAK2E,GAAG4U,WAAmB,IAAMvZ,KAAK2E,GAAG6L,UAAY,KAAKoB,QAAQ4nB,GAAQ,KAAK9nB,QAASlB,IAAe,EAC3G,OAAO,CAIT,QAAO,GAGRyT,IAAK,SAAUvlB,GACd,GAAI+sB,GAAOzO,EAAKoC,EACfxC,EAAO5c,KAAK,EAEb,KAAMmwB,UAAUtrB,OAsBhB,MAFAua,GAAajD,GAAOiD,WAAY1gB,GAEzBsB,KAAKsc,KAAK,SAAU3X,GAC1B,GAAIsf,GACHnc,EAAOqU,GAAOnc,KAEQ,KAAlBA,KAAKuZ,WAKT0K,EADI7E,EACE1gB,EAAMwD,KAAMlC,KAAM2E,EAAGmD,EAAKmc,OAE1BvlB,EAIK,MAAPulB,EACJA,EAAM,GACoB,gBAARA,GAClBA,GAAO,GACI9H,GAAO/C,QAAS6K,KAC3BA,EAAM9H,GAAO9P,IAAI4X,EAAK,SAAWvlB,GAChC,MAAgB,OAATA,EAAgB,GAAKA,EAAQ,OAItC+sB,EAAQtP,GAAOye,SAAU56B,KAAKd,OAAUid,GAAOye,SAAU56B,KAAKshB,SAAShD,iBAGtD,OAASmN,IAAUA,EAAMzlB,IAAKhG,KAAMikB,EAAK,WAAcvc,IACvE1H,KAAKtB,MAAQulB,KAlDd,IAAKrH,EAGJ,OAFA6O,EAAQtP,GAAOye,SAAUhe,EAAK1d,OAAUid,GAAOye,SAAUhe,EAAK0E,SAAShD,iBAEzD,OAASmN,KAAUzO,EAAMyO,EAAMvkB,IAAK0V,EAAM,YAAelV,EAC/DsV,GAGRA,EAAMJ,EAAKle,MAEW,gBAARse,GAEbA,EAAIpL,QAAQ6nB,GAAS,IAEd,MAAPzc,EAAc,GAAKA,OA2CxBb,GAAOlE,QACN2iB,UACCC,QACC3zB,IAAK,SAAU0V,GAGd,GAAIqH,GAAMrH,EAAKgb,WAAWl5B,KAC1B,QAAQulB,GAAOA,EAAI5D,UAAYzD,EAAKle,MAAQke,EAAK6E,OAGnDoU,QACC3uB,IAAK,SAAU0V,GAYd,IAXA,GAAIle,GAAOm8B,EACVnhB,EAAUkD,EAAKlD,QACf6J,EAAQ3G,EAAKke,cACbC,EAAoB,eAAdne,EAAK1d,MAAyBqkB,EAAQ,EAC5CD,EAASyX,EAAM,QACf1sB,EAAM0sB,EAAMxX,EAAQ,EAAI7J,EAAQ7U,OAChCF,EAAI4e,EAAQ,EACXlV,EACA0sB,EAAMxX,EAAQ,EAGR5e,EAAI0J,EAAK1J,IAIhB,GAHAk2B,EAASnhB,EAAS/U,IAGXk2B,EAAO3Y,UAAYvd,IAAM4e,KAE5BpH,GAAO+B,QAAQkZ,aAAeyD,EAAOxG,SAA+C,OAApCwG,EAAOtc,aAAa,gBACnEsc,EAAOnZ,WAAW2S,WAAalY,GAAOmF,SAAUuZ,EAAOnZ,WAAY,aAAiB,CAMxF,GAHAhjB,EAAQyd,GAAQ0e,GAAS5W,MAGpB8W,EACJ,MAAOr8B,EAIR4kB,GAAOve,KAAMrG,GAIf,MAAO4kB,IAGRtd,IAAK,SAAU4W,EAAMle,GACpB,GAAI4kB,GAASnH,GAAOyT,UAAWlxB,EAS/B,OAPAyd,IAAOS,GAAM6S,KAAK,UAAUnT,KAAK,WAChCtc,KAAKkiB,SAAW/F,GAAOsD,QAAStD,GAAOnc,MAAMikB,MAAOX,IAAY,IAG3DA,EAAOze,SACZ+X,EAAKke,eAAiB,GAEhBxX,KAKVnD,KAAM,SAAUvD,EAAMza,EAAMzD,GAC3B,GAAIse,GAAKyO,EAAOuP,EACfC,EAAQre,EAAKrD,QAGd,IAAMqD,GAAkB,IAAVqe,GAAyB,IAAVA,GAAyB,IAAVA,EAK5C,WAAkC,KAAtBre,EAAK2B,aACTpC,GAAO+M,KAAMtM,EAAMza,EAAMzD,IAGjCs8B,EAAmB,IAAVC,IAAgB9e,GAAO+e,SAAUte,GAIrCoe,IACJ74B,EAAOA,EAAKmc,cACZmN,EAAQtP,GAAOgf,UAAWh5B,KAAYy3B,GAASnb,KAAMtc,GAASo3B,GAAWD,KAGrE56B,IAAUgJ,EAaH+jB,GAASuP,GAAU,OAASvP,IAA6C,QAAnCzO,EAAMyO,EAAMvkB,IAAK0V,EAAMza,IACjE6a,OAM2B,KAAtBJ,EAAK2B,eAChBvB,EAAOJ,EAAK2B,aAAcpc,IAIb,MAAP6a,EACNtV,EACAsV,GAzBc,OAAVte,EAGO+sB,GAASuP,GAAU,OAASvP,KAAUzO,EAAMyO,EAAMzlB,IAAK4W,EAAMle,EAAOyD,MAAYuF,EACpFsV,GAGPJ,EAAKsZ,aAAc/zB,EAAMzD,EAAQ,IAC1BA,OAPPyd,IAAO4d,WAAYnd,EAAMza,KA4B5B43B,WAAY,SAAUnd,EAAMle,GAC3B,GAAIyD,GAAMi5B,EACTz2B,EAAI,EACJ02B,EAAY38B,GAASA,EAAM6d,MAAOC,GAEnC,IAAK6e,GAA+B,IAAlBze,EAAKrD,SACtB,KAASpX,EAAOk5B,EAAU12B,MACzBy2B,EAAWjf,GAAO8d,QAAS93B,IAAUA,EAGhCy3B,GAASnb,KAAMtc,IAGbi0B,IAAmByD,GAAYpb,KAAMtc,GAC1Cya,EAAMT,GAAOwB,UAAW,WAAaxb,IACpCya,EAAMwe,IAAa,EAEpBxe,EAAMwe,IAAa,EAKpBjf,GAAOgE,KAAMvD,EAAMza,EAAM,IAG1Bya,EAAK6D,gBAAiB2V,GAAkBj0B,EAAOi5B,IAKlDD,WACCj8B,MACC8G,IAAK,SAAU4W,EAAMle,GACpB,IAAMyd,GAAO+B,QAAQmZ,YAAwB,UAAV34B,GAAqByd,GAAOmF,SAAS1E,EAAM,SAAW,CAGxF,GAAIqH,GAAMrH,EAAKle,KAKf,OAJAke,GAAKsZ,aAAc,OAAQx3B,GACtBulB,IACJrH,EAAKle,MAAQulB,GAEPvlB,MAMXu7B,SACCqB,SAAU,WACVC,SAAU,WACVC,IAAO,UACP9lB,MAAS,YACT+lB,UAAW,YACXC,YAAa,cACbC,YAAa,cACbC,QAAS,UACTC,QAAS,UACTC,OAAQ,SACRC,YAAa,cACbC,gBAAiB,mBAGlB9S,KAAM,SAAUtM,EAAMza,EAAMzD,GAC3B,GAAIse,GAAKyO,EAAOuP,EACfC,EAAQre,EAAKrD,QAGd,IAAMqD,GAAkB,IAAVqe,GAAyB,IAAVA,GAAyB,IAAVA,EAY5C,MARAD,GAAmB,IAAVC,IAAgB9e,GAAO+e,SAAUte,GAErCoe,IAEJ74B,EAAOga,GAAO8d,QAAS93B,IAAUA,EACjCspB,EAAQtP,GAAO8f,UAAW95B,IAGtBzD,IAAUgJ,EACT+jB,GAAS,OAASA,KAAUzO,EAAMyO,EAAMzlB,IAAK4W,EAAMle,EAAOyD,MAAYuF,EACnEsV,EAGEJ,EAAMza,GAASzD,EAIpB+sB,GAAS,OAASA,IAA6C,QAAnCzO,EAAMyO,EAAMvkB,IAAK0V,EAAMza,IAChD6a,EAGAJ,EAAMza,IAKhB85B,WACCC,UACCh1B,IAAK,SAAU0V,GAGd,GAAIuf,GAAgBvf,EAAKwD,iBAAiB,WAE1C,OAAO+b,IAAiBA,EAAc9b,UACrC9I,SAAU4kB,EAAcz9B,MAAO,IAC/Bg7B,GAAWjb,KAAM7B,EAAK0E,WAAcqY,GAAWlb,KAAM7B,EAAK0E,WAAc1E,EAAKxF,KAC5E,EACA1P,OAON6xB,IACCryB,IAAK,SAAU0V,EAAMza,GACpB,GAEC+mB,GAAO/M,GAAO+M,KAAMtM,EAAMza,GAG1Bge,EAAuB,iBAAT+I,IAAsBtM,EAAK2B,aAAcpc,GACvDi6B,EAAyB,iBAATlT,GAEf4Q,IAAe1D,GACN,MAARjW,EAGA0Z,GAAYpb,KAAMtc,GACjBya,EAAMT,GAAOwB,UAAW,WAAaxb,MACnCge,EAGJvD,EAAKwD,iBAAkBje,EAEzB,OAAOi6B,KAA2B,IAAjBA,EAAO19B,MACvByD,EAAKmc,cACL5W,GAEF1B,IAAK,SAAU4W,EAAMle,EAAOyD,GAa3B,OAZe,IAAVzD,EAEJyd,GAAO4d,WAAYnd,EAAMza,GACd23B,IAAe1D,KAAoByD,GAAYpb,KAAMtc,GAEhEya,EAAKsZ,cAAeE,IAAmBja,GAAO8d,QAAS93B,IAAUA,EAAMA,GAIvEya,EAAMT,GAAOwB,UAAW,WAAaxb,IAAWya,EAAMza,IAAS,EAGzDA,IAKH23B,IAAgB1D,KACrBja,GAAOgf,UAAUz8B,OAChBwI,IAAK,SAAU0V,EAAMza,GACpB,GAAI6a,GAAMJ,EAAKwD,iBAAkBje,EACjC,OAAOga,IAAOmF,SAAU1E,EAAM,SAG7BA,EAAKuF,aAELnF,GAAOA,EAAIqD,UAAYrD,EAAIte,MAAQgJ,GAErC1B,IAAK,SAAU4W,EAAMle,EAAOyD,GAC3B,IAAKga,GAAOmF,SAAU1E,EAAM,SAK3B,MAAO0c,KAAYA,GAAStzB,IAAK4W,EAAMle,EAAOyD,EAH9Cya,GAAKuF,aAAezjB,KAUlB03B,KAILkD,GAAWnd,GAAOye,SAASyB,QAC1Bn1B,IAAK,SAAU0V,EAAMza,GACpB,GAAI6a,GAAMJ,EAAKwD,iBAAkBje,EACjC,OAAO6a,KAAkB,OAAT7a,GAA0B,SAATA,GAA4B,WAATA,EAAkC,KAAd6a,EAAIte,MAAese,EAAIqD,WAC9FrD,EAAIte,MACJgJ,GAEF1B,IAAK,SAAU4W,EAAMle,EAAOyD,GAE3B,GAAI6a,GAAMJ,EAAKwD,iBAAkBje,EAUjC,OATM6a,IACLJ,EAAK0f,iBACHtf,EAAMJ,EAAKqD,cAAcsc,gBAAiBp6B,IAI7C6a,EAAIte,MAAQA,GAAS,GAGL,UAATyD,GAAoBzD,IAAUke,EAAK2B,aAAcpc,GACvDzD,EACAgJ,IAMHyU,GAAOgf,UAAUa,iBAChB90B,IAAKoyB,GAASpyB,IACdlB,IAAK,SAAU4W,EAAMle,EAAOyD,GAC3Bm3B,GAAStzB,IAAK4W,EAAgB,KAAVle,GAAuBA,EAAOyD,KAMpDga,GAAOG,MAAO,QAAS,UAAY,SAAU3X,EAAGxC,GAC/Cga,GAAOgf,UAAWh5B,GAASga,GAAOlE,OAAQkE,GAAOgf,UAAWh5B,IAC3D6D,IAAK,SAAU4W,EAAMle,GACpB,GAAe,KAAVA,EAEJ,MADAke,GAAKsZ,aAAc/zB,EAAM,QAClBzD,QAUNyd,GAAO+B,QAAQuY,iBACpBta,GAAOG,MAAO,OAAQ,MAAO,QAAS,UAAY,SAAU3X,EAAGxC,GAC9Dga,GAAOgf,UAAWh5B,GAASga,GAAOlE,OAAQkE,GAAOgf,UAAWh5B,IAC3D+E,IAAK,SAAU0V,GACd,GAAII,GAAMJ,EAAK2B,aAAcpc,EAAM,EACnC,OAAc,OAAP6a,EAActV,EAAYsV,OAMpCb,GAAOG,MAAO,OAAQ,OAAS,SAAU3X,EAAGxC,GAC3Cga,GAAO8f,UAAW95B,IACjB+E,IAAK,SAAU0V,GACd,MAAOA,GAAK2B,aAAcpc,EAAM,QAM9Bga,GAAO+B,QAAQvT,QACpBwR,GAAOgf,UAAUxwB,OAChBzD,IAAK,SAAU0V,GAId,MAAOA,GAAKjS,MAAMwrB,SAAWzuB,GAE9B1B,IAAK,SAAU4W,EAAMle,GACpB,MAASke,GAAKjS,MAAMwrB,QAAUz3B,EAAQ,MAOnCyd,GAAO+B,QAAQ0Y,cACpBza,GAAO8f,UAAU/Z,SAAW/F,GAAOlE,OAAQkE,GAAO8f,UAAU/Z,UAC3Dhb,IAAK,SAAU0V,GACd,GAAIpL,GAASoL,EAAK8E,UAUlB,OARKlQ,KACJA,EAAOspB,cAGFtpB,EAAOkQ,YACXlQ,EAAOkQ,WAAWoZ,eAGb,SAMJ3e,GAAO+B,QAAQ2Y,UACpB1a,GAAO8d,QAAQpD,QAAU,YAIpB1a,GAAO+B,QAAQyY,SACpBxa,GAAOG,MAAO,QAAS,YAAc,WACpCH,GAAOye,SAAU56B,OAChBkH,IAAK,SAAU0V,GAEd,MAAsC,QAA/BA,EAAK2B,aAAa,SAAoB,KAAO3B,EAAKle,UAK7Dyd,GAAOG,MAAO,QAAS,YAAc,WACpCH,GAAOye,SAAU56B,MAASmc,GAAOlE,OAAQkE,GAAOye,SAAU56B,OACzDgG,IAAK,SAAU4W,EAAMle,GACpB,GAAKyd,GAAO/C,QAAS1a,GACpB,MAASke,GAAKoF,QAAU7F,GAAOsD,QAAStD,GAAOS,GAAMqH,MAAOvlB,IAAW,MAK3E,IAAI89B,IAAa,+BAChBC,GAAY,OACZC,GAAc,+BACdC,GAAc,kCACdC,GAAiB,sBAclBzgB,IAAO3V,OAENq2B,UAEAn6B,IAAK,SAAUka,EAAMkgB,EAAOC,EAASzvB,EAAM6gB,GAE1C,GAAI6O,GAAaC,EAAahV,EAC7B9G,EAAQ+b,EAAGC,EACXC,EAASC,EAAUn+B,EAAMo+B,EAAYC,EAErCC,EAA6B,IAAlB5gB,EAAKrD,UAAoC,IAAlBqD,EAAKrD,UAAkB4C,GAAO0E,MAAOjE,EAExE,IAAM4gB,EAAN,CAoCA,IA/BKT,EAAQA,UACZC,EAAcD,EACdA,EAAUC,EAAYD,QACtB5O,EAAW6O,EAAY7O,UAIlB4O,EAAQvf,OACbuf,EAAQvf,KAAOrB,GAAOqB,SAIhB2D,EAASqc,EAASrc,UACxBA,EAASqc,EAASrc,YAEZ8b,EAAcO,EAASpc,UAC7B6b,EAAcO,EAASpc,OAAS,SAAUpd,GAGzC,WAAyB,KAAXmY,IAA4BnY,GAAKmY,GAAO3V,MAAMi3B,YAAcz5B,EAAE9E,KAE3EwI,EADAyU,GAAO3V,MAAMk3B,SAASxN,MAAO+M,EAAYrgB,KAAMuT,YAIjD8M,EAAYrgB,KAAOA,GAKpBkgB,GAAUA,GAAS,IAAKvgB,MAAOC,MAAqB,IACpD0gB,EAAIJ,EAAMj4B,OACFq4B,KACPjV,EAAM2U,GAAepc,KAAMsc,EAAMI,QACjCh+B,EAAOq+B,EAAWtV,EAAI,GACtBqV,GAAerV,EAAI,IAAM,IAAKnK,MAAO,KAAM2S,OAG3C2M,EAAUjhB,GAAO3V,MAAM42B,QAASl+B,OAGhCA,GAASivB,EAAWiP,EAAQO,aAAeP,EAAQQ,WAAc1+B,EAGjEk+B,EAAUjhB,GAAO3V,MAAM42B,QAASl+B,OAGhCi+B,EAAYhhB,GAAOlE,QAClB/Y,KAAMA,EACNq+B,SAAUA,EACVjwB,KAAMA,EACNyvB,QAASA,EACTvf,KAAMuf,EAAQvf,KACd2Q,SAAUA,EACV0P,aAAc1P,GAAYhS,GAAO2hB,KAAKvhB,MAAMshB,aAAapf,KAAM0P,GAC/D4P,UAAWT,EAAWx+B,KAAK,MACzBk+B,IAGIK,EAAWlc,EAAQjiB,MACzBm+B,EAAWlc,EAAQjiB,MACnBm+B,EAASW,cAAgB,EAGnBZ,EAAQa,QAAuE,IAA9Db,EAAQa,MAAM/7B,KAAM0a,EAAMtP,EAAMgwB,EAAYL,KAE7DrgB,EAAK5R,iBACT4R,EAAK5R,iBAAkB9L,EAAM+9B,GAAa,GAE/BrgB,EAAKyW,aAChBzW,EAAKyW,YAAa,KAAOn0B,EAAM+9B,KAK7BG,EAAQ16B,MACZ06B,EAAQ16B,IAAIR,KAAM0a,EAAMugB,GAElBA,EAAUJ,QAAQvf,OACvB2f,EAAUJ,QAAQvf,KAAOuf,EAAQvf,OAK9B2Q,EACJkP,EAASjV,OAAQiV,EAASW,gBAAiB,EAAGb,GAE9CE,EAASt4B,KAAMo4B,GAIhBhhB,GAAO3V,MAAMq2B,OAAQ39B,IAAS,CAI/B0d,GAAO,OAIR4I,OAAQ,SAAU5I,EAAMkgB,EAAOC,EAAS5O,EAAU+P,GAEjD,GAAI1N,GAAG2N,EAAWlW,EACjB9G,EAAQ+b,EAAGC,EACXC,EAASC,EAAUn+B,EAAMo+B,EAAYC,EACrCC,EAAWrhB,GAAO6E,QAASpE,IAAUT,GAAO0E,MAAOjE,EAEpD,IAAM4gB,IAAcrc,EAASqc,EAASrc,QAAtC,CAOA,IAFA2b,GAAUA,GAAS,IAAKvgB,MAAOC,MAAqB,IACpD0gB,EAAIJ,EAAMj4B,OACFq4B,KAMP,GALAjV,EAAM2U,GAAepc,KAAMsc,EAAMI,QACjCh+B,EAAOq+B,EAAWtV,EAAI,GACtBqV,GAAerV,EAAI,IAAM,IAAKnK,MAAO,KAAM2S,OAGrCvxB,EAAN,CAcA,IAPAk+B,EAAUjhB,GAAO3V,MAAM42B,QAASl+B,OAChCA,GAASivB,EAAWiP,EAAQO,aAAeP,EAAQQ,WAAc1+B,EACjEm+B,EAAWlc,EAAQjiB,OACnB+oB,EAAMA,EAAI,IAAM,GAAImW,QAAQ,UAAYd,EAAWx+B,KAAK,iBAAmB,WAG3Eq/B,EAAY3N,EAAI6M,EAASx4B,OACjB2rB,KACP2M,EAAYE,EAAU7M,IAEf0N,GAAeX,IAAaJ,EAAUI,UACzCR,GAAWA,EAAQvf,OAAS2f,EAAU3f,MACtCyK,IAAOA,EAAIxJ,KAAM0e,EAAUY,YAC3B5P,GAAYA,IAAagP,EAAUhP,WAAyB,OAAbA,IAAqBgP,EAAUhP,YACjFkP,EAASjV,OAAQoI,EAAG,GAEf2M,EAAUhP,UACdkP,EAASW,gBAELZ,EAAQ5X,QACZ4X,EAAQ5X,OAAOtjB,KAAM0a,EAAMugB,GAOzBgB,KAAcd,EAASx4B,SACrBu4B,EAAQiB,WAA2E,IAA/DjB,EAAQiB,SAASn8B,KAAM0a,EAAM0gB,EAAYE,EAASpc,SAC3EjF,GAAOqF,YAAa5E,EAAM1d,EAAMs+B,EAASpc,cAGnCD,GAAQjiB,QAtCf,KAAMA,IAAQiiB,GACbhF,GAAO3V,MAAMgf,OAAQ5I,EAAM1d,EAAO49B,EAAOI,GAAKH,EAAS5O,GAAU,EA0C/DhS,IAAO6B,cAAemD,WACnBqc,GAASpc,OAIhBjF,GAAO4Q,YAAanQ,EAAM,aAI5BoU,QAAS,SAAUxqB,EAAO8G,EAAMsP,EAAM0hB,GAErC,GAAI35B,GAAGma,EAAKmJ,EAAKsW,EAAYC,EAAQpd,EAAQgc,EAC5CqB,GAAc7hB,GAAQ7T,GACtB7J,EAAOsH,EAAMtH,MAAQsH,EACrB82B,EAAa92B,EAAMu3B,UAAYv3B,EAAMu3B,UAAUjgB,MAAM,OAKtD,IAHAgB,EAAMmJ,EAAMrL,EAAOA,GAAQ7T,EAGJ,IAAlB6T,EAAKrD,UAAoC,IAAlBqD,EAAKrD,WAK5BojB,GAAYle,KAAMvf,EAAOid,GAAO3V,MAAMi3B,aAItCv+B,EAAKwS,QAAQ,MAAQ,IAEzB4rB,EAAap+B,EAAK4e,MAAM,KACxB5e,EAAOo+B,EAAW9V,QAClB8V,EAAW7M,QAEZ+N,EAASt/B,EAAKwS,QAAQ,KAAO,GAAK,KAAOxS,EAGzCsH,EAAQA,EAAO2V,GAAOe,SACrB1W,EACA,GAAI2V,IAAOuiB,MAAOx/B,EAAuB,gBAAjB,KAAOsH,EAAP,YAAA2R,IAAO3R,KAAsBA,GAEtDA,EAAMm4B,WAAY,EAClBn4B,EAAMu3B,UAAYT,EAAWx+B,KAAK,KAClC0H,EAAMo4B,aAAep4B,EAAMu3B,UAC1B,GAAIK,QAAQ,UAAYd,EAAWx+B,KAAK,iBAAmB,WAC3D,KAGD0H,EAAM8iB,OAAS5hB,EACTlB,EAAMO,SACXP,EAAMO,OAAS6V,GAIhBtP,EAAe,MAARA,GACJ9G,GACF2V,GAAOyT,UAAWtiB,GAAQ9G,IAG3B42B,EAAUjhB,GAAO3V,MAAM42B,QAASl+B,OAC1Bo/B,IAAgBlB,EAAQpM,UAAmD,IAAxCoM,EAAQpM,QAAQd,MAAOtT,EAAMtP,IAAtE,CAMA,IAAMgxB,IAAiBlB,EAAQyB,WAAa1iB,GAAOhD,SAAUyD,GAAS,CAMrE,IAJA2hB,EAAanB,EAAQO,cAAgBz+B,EAC/By9B,GAAYle,KAAM8f,EAAar/B,KACpC4f,EAAMA,EAAI4C,YAEH5C,EAAKA,EAAMA,EAAI4C,WACtB+c,EAAU15B,KAAM+Z,GAChBmJ,EAAMnJ,CAIFmJ,MAASrL,EAAKqD,eAAiBlX,IACnC01B,EAAU15B,KAAMkjB,EAAIoF,aAAepF,EAAIqF,cAAgBhkB,GAMzD,IADA3E,EAAI,GACKma,EAAM2f,EAAU95B,QAAU6B,EAAMs4B,wBAExCt4B,EAAMtH,KAAOyF,EAAI,EAChB45B,EACAnB,EAAQQ,UAAY1+B,EAGrBkiB,GAAWjF,GAAO0E,MAAO/B,EAAK,eAAoBtY,EAAMtH,OAAUid,GAAO0E,MAAO/B,EAAK,UAChFsC,GACJA,EAAO8O,MAAOpR,EAAKxR,IAIpB8T,EAASod,GAAU1f,EAAK0f,KACTriB,GAAOW,WAAYgC,IAASsC,EAAO8O,QAAuC,IAA9B9O,EAAO8O,MAAOpR,EAAKxR,IAC7E9G,EAAMuL,gBAMR,IAHAvL,EAAMtH,KAAOA,GAGPo/B,IAAiB93B,EAAMu4B,wBAErB3B,EAAQ4B,WAAmE,IAAvD5B,EAAQ4B,SAAS9O,MAAOtT,EAAKqD,cAAe3S,MAC3D,UAATpO,IAAoBid,GAAOmF,SAAU1E,EAAM,OAAUT,GAAOW,WAAYF,IAKrE4hB,GAAU5hB,EAAM1d,KAAWid,GAAOhD,SAAUyD,GAAS,CAGzDqL,EAAMrL,EAAM4hB,GAEPvW,IACJrL,EAAM4hB,GAAW,MAIlBriB,GAAO3V,MAAMi3B,UAAYv+B,CACzB,KACC0d,EAAM1d,KACL,MAAQ8E,IAIVmY,GAAO3V,MAAMi3B,UAAY/1B,EAEpBugB,IACJrL,EAAM4hB,GAAWvW,GAMrB,MAAOzhB,GAAM8iB,SAGdoU,SAAU,SAAUl3B,GAGnBA,EAAQ2V,GAAO3V,MAAMy4B,IAAKz4B,EAE1B,IAAI7B,GAAG6rB,EAAGxT,EAAKkiB,EAAS/B,EACvBgC,KACAlP,EAAOnC,GAAW5rB,KAAMiuB,WACxBkN,GAAalhB,GAAO0E,MAAO7gB,KAAM,eAAoBwG,EAAMtH,UAC3Dk+B,EAAUjhB,GAAO3V,MAAM42B,QAAS52B,EAAMtH,SAOvC,IAJA+wB,EAAK,GAAKzpB,EACVA,EAAM44B,eAAiBp/B,MAGlBo9B,EAAQiC,cAA2D,IAA5CjC,EAAQiC,YAAYn9B,KAAMlC,KAAMwG,GAA5D,CASA,IAJA24B,EAAehjB,GAAO3V,MAAM62B,SAASn7B,KAAMlC,KAAMwG,EAAO62B,GAGxD14B,EAAI,GACKu6B,EAAUC,EAAcx6B,QAAW6B,EAAMs4B,wBAIjD,IAHAt4B,EAAM84B,cAAgBJ,EAAQtiB,KAE9B4T,EAAI,GACK2M,EAAY+B,EAAQ7B,SAAU7M,QAAWhqB,EAAM+4B,iCAIjD/4B,EAAMo4B,eAAgBp4B,EAAMo4B,aAAangB,KAAM0e,EAAUY,aAE9Dv3B,EAAM22B,UAAYA,EAClB32B,EAAM8G,KAAO6vB,EAAU7vB,MAEvB0P,IAASb,GAAO3V,MAAM42B,QAASD,EAAUI,eAAkBnc,QAAU+b,EAAUJ,SAC5E7M,MAAOgP,EAAQtiB,KAAMqT,MAEXvoB,IACkB,KAAxBlB,EAAM8iB,OAAStM,KACpBxW,EAAMuL,iBACNvL,EAAMg5B,mBAYX,OAJKpC,GAAQqC,cACZrC,EAAQqC,aAAav9B,KAAMlC,KAAMwG,GAG3BA,EAAM8iB,SAGd+T,SAAU,SAAU72B,EAAO62B,GAC1B,GAAI14B,GAAGgf,EAAS+b,EAAKvC,EACpBgC,KACAnB,EAAgBX,EAASW,cACzBlf,EAAMtY,EAAMO,MAKb,IAAKi3B,GAAiBlf,EAAIvF,YAAc/S,EAAM61B,QAAyB,UAAf71B,EAAMtH,MAE7D,KAAQ4f,GAAO9e,KAAM8e,EAAMA,EAAI4C,YAAc1hB,KAG5C,IAAsB,IAAjB8e,EAAIuV,UAAoC,UAAf7tB,EAAMtH,KAAmB,CAEtD,IADAykB,KACMhf,EAAI,EAAGA,EAAIq5B,EAAer5B,IAC/Bw4B,EAAYE,EAAU14B,GAGtB+6B,EAAMvC,EAAUhP,SAAW,IAEtBxK,EAAS+b,KAAUh4B,IACvBic,EAAS+b,GAAQvC,EAAUU,aAC1B1hB,GAAQujB,EAAK1/B,MAAOujB,MAAOzE,IAAS,EACpC3C,GAAOsT,KAAMiQ,EAAK1/B,KAAM,MAAQ8e,IAAQja,QAErC8e,EAAS+b,IACb/b,EAAQ5e,KAAMo4B,EAGXxZ,GAAQ9e,QACZs6B,EAAap6B,MAAO6X,KAAMkC,EAAKue,SAAU1Z,IAW7C,MAJKqa,GAAgBX,EAASx4B,QAC7Bs6B,EAAap6B,MAAO6X,KAAM5c,KAAMq9B,SAAUA,EAASva,MAAOkb,KAGpDmB,GAGRF,IAAK,SAAUz4B,GACd,GAAKA,EAAO2V,GAAOe,SAClB,MAAO1W,EAIR,IAAI7B,GAAGukB,EACNyW,EAAgBn5B,EAChBo5B,EAAUzjB,GAAO3V,MAAMq5B,SAAUr5B,EAAMtH,UACvCya,EAAOimB,EAAQ3W,MAAQjpB,KAAKipB,MAAMpL,OAAQ+hB,EAAQ3W,OAAUjpB,KAAKipB,KAKlE,KAHAziB,EAAQ,GAAI2V,IAAOuiB,MAAOiB,GAE1Bh7B,EAAIgV,EAAK9U,OACDF,KACPukB,EAAOvP,EAAMhV,GACb6B,EAAO0iB,GAASyW,EAAezW,EAmBhC,OAdM1iB,GAAMO,SACXP,EAAMO,OAAS44B,EAAcG,YAAc/2B,GAKb,IAA1BvC,EAAMO,OAAOwS,WACjB/S,EAAMO,OAASP,EAAMO,OAAO2a,YAK7Blb,EAAMu5B,UAAYv5B,EAAMu5B,QAEjBH,EAAQpgB,OAASogB,EAAQpgB,OAAQhZ,EAAOm5B,GAAkBn5B,GAIlEyiB,MAAO,wHAAwHnL,MAAM,KAErI+hB,YAEAG,UACC/W,MAAO,4BAA4BnL,MAAM,KACzC0B,OAAQ,SAAUhZ,EAAOy5B,GAOxB,MAJoB,OAAfz5B,EAAM2mB,QACV3mB,EAAM2mB,MAA6B,MAArB8S,EAASC,SAAmBD,EAASC,SAAWD,EAASE,SAGjE35B,IAIT45B,YACCnX,MAAO,mGAAmGnL,MAAM,KAChH0B,OAAQ,SAAUhZ,EAAOy5B,GACxB,GAAII,GAAUxb,EAAK7b,EAClBqzB,EAAS4D,EAAS5D,OAClBiE,EAAcL,EAASK,WAuBxB,OApBoB,OAAf95B,EAAM+5B,OAAqC,MAApBN,EAASpxB,UACpCwxB,EAAW75B,EAAMO,OAAOkZ,eAAiBlX,EACzC8b,EAAMwb,EAASnb,gBACflc,EAAOq3B,EAASr3B,KAEhBxC,EAAM+5B,MAAQN,EAASpxB,SAAYgW,GAAOA,EAAIjW,YAAc5F,GAAQA,EAAK4F,YAAc,IAAQiW,GAAOA,EAAI2b,YAAcx3B,GAAQA,EAAKw3B,YAAc,GACnJh6B,EAAMi6B,MAAQR,EAASlxB,SAAY8V,GAAOA,EAAI/V,WAAc9F,GAAQA,EAAK8F,WAAc,IAAQ+V,GAAOA,EAAI6b,WAAc13B,GAAQA,EAAK03B,WAAc,KAI9Il6B,EAAMm6B,eAAiBL,IAC5B95B,EAAMm6B,cAAgBL,IAAgB95B,EAAMO,OAASk5B,EAASW,UAAYN,GAKrE95B,EAAM2mB,OAASkP,IAAW30B,IAC/BlB,EAAM2mB,MAAmB,EAATkP,EAAa,EAAe,EAATA,EAAa,EAAe,EAATA,EAAa,EAAI,GAGjE71B,IAIT42B,SACCyD,MAEChC,UAAU,GAEX7oB,OAECgb,QAAS,WACR,GAAK7U,GAAOmF,SAAUthB,KAAM,UAA2B,aAAdA,KAAKd,MAAuBc,KAAKgW,MAEzE,MADAhW,MAAKgW,SACE,IAIV8qB,OAEC9P,QAAS,WACR,GAAKhxB,OAAS+I,EAASg4B,eAAiB/gC,KAAK8gC,MAC5C,IAEC,MADA9gC,MAAK8gC,SACE,EACN,MAAQ98B,MAOZ25B,aAAc,WAEfqD,MACChQ,QAAS,WACR,GAAKhxB,OAAS+I,EAASg4B,eAAiB/gC,KAAKghC,KAE5C,MADAhhC,MAAKghC,QACE,GAGTrD,aAAc,YAGfsD,cACCxB,aAAc,SAAUj5B,GAGlBA,EAAM8iB,SAAW5hB,IACrBlB,EAAMm5B,cAAcuB,YAAc16B,EAAM8iB,WAM5C6X,SAAU,SAAUjiC,EAAM0d,EAAMpW,EAAO46B,GAItC,GAAIp9B,GAAImY,GAAOlE,OACd,GAAIkE,IAAOuiB,MACXl4B,GACEtH,KAAMA,EACPmiC,aAAa,EACb1B,kBAGGyB,GACJjlB,GAAO3V,MAAMwqB,QAAShtB,EAAG,KAAM4Y,GAE/BT,GAAO3V,MAAMk3B,SAASx7B,KAAM0a,EAAM5Y,GAE9BA,EAAE+6B,sBACNv4B,EAAMuL,mBAKToK,GAAOqF,YAAczY,EAASqmB,oBAC7B,SAAUxS,EAAM1d,EAAMkiB,GAChBxE,EAAKwS,qBACTxS,EAAKwS,oBAAqBlwB,EAAMkiB,GAAQ,IAG1C,SAAUxE,EAAM1d,EAAMkiB,GACrB,GAAIjf,GAAO,KAAOjD,CAEb0d,GAAK2S,kBAIoB,KAAjB3S,EAAMza,KACjBya,EAAMza,GAAS,MAGhBya,EAAK2S,YAAaptB,EAAMif,KAI3BjF,GAAOuiB,MAAQ,SAAU/nB,EAAKsS,GAE7B,KAAOjpB,eAAgBmc,IAAOuiB,OAC7B,MAAO,IAAIviB,IAAOuiB,MAAO/nB,EAAKsS,EAI1BtS,IAAOA,EAAIzX,MACfc,KAAK2/B,cAAgBhpB,EACrB3W,KAAKd,KAAOyX,EAAIzX,KAIhBc,KAAK++B,mBAAuBpoB,EAAI2qB,mBAAwC,IAApB3qB,EAAIuqB,aACvDvqB,EAAI4qB,mBAAqB5qB,EAAI4qB,oBAAwB5iB,EAAaC,GAInE5e,KAAKd,KAAOyX,EAIRsS,GACJ9M,GAAOlE,OAAQjY,KAAMipB,GAItBjpB,KAAKwhC,UAAY7qB,GAAOA,EAAI6qB,WAAarlB,GAAO2M,MAGhD9oB,KAAMmc,GAAOe,UAAY,GAK1Bf,GAAOuiB,MAAM1xB,WACZ+xB,mBAAoBngB,EACpBkgB,qBAAsBlgB,EACtB2gB,8BAA+B3gB,EAE/B7M,eAAgB,WACf,GAAI/N,GAAIhE,KAAK2/B,aAEb3/B,MAAK++B,mBAAqBpgB,EACpB3a,IAKDA,EAAE+N,eACN/N,EAAE+N,iBAKF/N,EAAEk9B,aAAc,IAGlB1B,gBAAiB,WAChB,GAAIx7B,GAAIhE,KAAK2/B,aAEb3/B,MAAK8+B,qBAAuBngB,EACtB3a,IAIDA,EAAEw7B,iBACNx7B,EAAEw7B,kBAKHx7B,EAAEy9B,cAAe,IAElBC,yBAA0B,WACzB1hC,KAAKu/B,8BAAgC5gB,EACrC3e,KAAKw/B,oBAKPrjB,GAAOG,MACNqlB,WAAY,YACZC,WAAY,YACV,SAAU5V,EAAMiT,GAClB9iB,GAAO3V,MAAM42B,QAASpR,IACrB2R,aAAcsB,EACdrB,SAAUqB,EAEV7d,OAAQ,SAAU5a,GACjB,GAAIwW,GACHjW,EAAS/G,KACT6hC,EAAUr7B,EAAMm6B,cAChBxD,EAAY32B,EAAM22B,SASnB,OALM0E,KAAYA,IAAY96B,GAAWoV,GAAOgH,SAAUpc,EAAQ86B,MACjEr7B,EAAMtH,KAAOi+B,EAAUI,SACvBvgB,EAAMmgB,EAAUJ,QAAQ7M,MAAOlwB,KAAMmwB,WACrC3pB,EAAMtH,KAAO+/B,GAEPjiB,MAMJb,GAAO+B,QAAQ4jB,gBAEpB3lB,GAAO3V,MAAM42B,QAAQ3F,QACpBwG,MAAO,WAEN,GAAK9hB,GAAOmF,SAAUthB,KAAM,QAC3B,OAAO,CAIRmc,IAAO3V,MAAM9D,IAAK1C,KAAM,iCAAkC,SAAUgE,GAEnE,GAAI4Y,GAAO5Y,EAAE+C,OACZg7B,EAAO5lB,GAAOmF,SAAU1E,EAAM,UAAaT,GAAOmF,SAAU1E,EAAM,UAAaA,EAAKmlB,KAAOr6B,CACvFq6B,KAAS5lB,GAAO0E,MAAOkhB,EAAM,mBACjC5lB,GAAO3V,MAAM9D,IAAKq/B,EAAM,iBAAkB,SAAUv7B,GACnDA,EAAMw7B,gBAAiB,IAExB7lB,GAAO0E,MAAOkhB,EAAM,iBAAiB,OAMxCtC,aAAc,SAAUj5B,GAElBA,EAAMw7B,uBACHx7B,GAAMw7B,eACRhiC,KAAK0hB,aAAelb,EAAMm4B,WAC9BxiB,GAAO3V,MAAM26B,SAAU,SAAUnhC,KAAK0hB,WAAYlb,GAAO,KAK5D63B,SAAU,WAET,GAAKliB,GAAOmF,SAAUthB,KAAM,QAC3B,OAAO,CAIRmc,IAAO3V,MAAMgf,OAAQxlB,KAAM,eAMxBmc,GAAO+B,QAAQ+jB,gBAEpB9lB,GAAO3V,MAAM42B,QAAQ1F,QAEpBuG,MAAO,WAEN,GAAKzB,GAAW/d,KAAMze,KAAKshB,UAkB1B,MAdmB,aAAdthB,KAAKd,MAAqC,UAAdc,KAAKd,OACrCid,GAAO3V,MAAM9D,IAAK1C,KAAM,yBAA0B,SAAUwG,GACjB,YAArCA,EAAMm5B,cAAcuC,eACxBliC,KAAKmiC,eAAgB,KAGvBhmB,GAAO3V,MAAM9D,IAAK1C,KAAM,gBAAiB,SAAUwG,GAC7CxG,KAAKmiC,gBAAkB37B,EAAMm4B,YACjC3+B,KAAKmiC,eAAgB,GAGtBhmB,GAAO3V,MAAM26B,SAAU,SAAUnhC,KAAMwG,GAAO,OAGzC,CAGR2V,IAAO3V,MAAM9D,IAAK1C,KAAM,yBAA0B,SAAUgE,GAC3D,GAAI4Y,GAAO5Y,EAAE+C,MAERy1B,IAAW/d,KAAM7B,EAAK0E,YAAenF,GAAO0E,MAAOjE,EAAM,mBAC7DT,GAAO3V,MAAM9D,IAAKka,EAAM,iBAAkB,SAAUpW,IAC9CxG,KAAK0hB,YAAelb,EAAM66B,aAAgB76B,EAAMm4B,WACpDxiB,GAAO3V,MAAM26B,SAAU,SAAUnhC,KAAK0hB,WAAYlb,GAAO,KAG3D2V,GAAO0E,MAAOjE,EAAM,iBAAiB,OAKxCwE,OAAQ,SAAU5a,GACjB,GAAIoW,GAAOpW,EAAMO,MAGjB,IAAK/G,OAAS4c,GAAQpW,EAAM66B,aAAe76B,EAAMm4B,WAA4B,UAAd/hB,EAAK1d,MAAkC,aAAd0d,EAAK1d,KAC5F,MAAOsH,GAAM22B,UAAUJ,QAAQ7M,MAAOlwB,KAAMmwB,YAI9CkO,SAAU,WAGT,MAFAliB,IAAO3V,MAAMgf,OAAQxlB,KAAM,aAEnBw8B,GAAW/d,KAAMze,KAAKshB,aAM3BnF,GAAO+B,QAAQkkB,gBACpBjmB,GAAOG,MAAOwkB,MAAO,UAAWE,KAAM,YAAc,SAAUhV,EAAMiT,GAGnE,GAAIoD,GAAW,EACdtF,EAAU,SAAUv2B,GACnB2V,GAAO3V,MAAM26B,SAAUlC,EAAKz4B,EAAMO,OAAQoV,GAAO3V,MAAMy4B,IAAKz4B,IAAS,GAGvE2V,IAAO3V,MAAM42B,QAAS6B,IACrBhB,MAAO,WACc,GAAfoE,KACJt5B,EAASiC,iBAAkBghB,EAAM+Q,GAAS,IAG5CsB,SAAU,WACW,KAAbgE,GACNt5B,EAASqmB,oBAAqBpD,EAAM+Q,GAAS,OAOlD5gB,GAAOiS,GAAGnW,QAETlC,GAAI,SAAU+mB,EAAO3O,EAAU7gB,EAAM8gB,EAAiB2M,GACrD,GAAIuH,GAAQpjC,CAGZ,IAAsB,gBAAjB,KAAO49B,EAAP,YAAA3kB,IAAO2kB,IAAqB,CAEP,gBAAb3O,KAEX7gB,EAAOA,GAAQ6gB,EACfA,EAAWzmB,EAEZ,KAAMxI,IAAQ49B,GACb98B,KAAK+V,GAAI7W,EAAMivB,EAAU7gB,EAAMwvB,EAAO59B,GAAQ67B,EAE/C,OAAO/6B,MAmBR,GAhBa,MAARsN,GAAsB,MAAN8gB,GAEpBA,EAAKD,EACL7gB,EAAO6gB,EAAWzmB,GACD,MAAN0mB,IACc,gBAAbD,IAEXC,EAAK9gB,EACLA,EAAO5F,IAGP0mB,EAAK9gB,EACLA,EAAO6gB,EACPA,EAAWzmB,KAGD,IAAP0mB,EACJA,EAAKxP,MACC,KAAMwP,EACZ,MAAOpuB,KAaR,OAVa,KAAR+6B,IACJuH,EAASlU,EACTA,EAAK,SAAU5nB,GAGd,MADA2V,MAAS8U,IAAKzqB,GACP87B,EAAOpS,MAAOlwB,KAAMmwB,YAG5B/B,EAAG5Q,KAAO8kB,EAAO9kB,OAAU8kB,EAAO9kB,KAAOrB,GAAOqB,SAE1Cxd,KAAKsc,KAAM,WACjBH,GAAO3V,MAAM9D,IAAK1C,KAAM88B,EAAO1O,EAAI9gB,EAAM6gB,MAG3C4M,IAAK,SAAU+B,EAAO3O,EAAU7gB,EAAM8gB,GACrC,MAAOpuB,MAAK+V,GAAI+mB,EAAO3O,EAAU7gB,EAAM8gB,EAAI,IAE5C6C,IAAK,SAAU6L,EAAO3O,EAAUC,GAC/B,GAAI+O,GAAWj+B,CACf,IAAK49B,GAASA,EAAM/qB,gBAAkB+qB,EAAMK,UAQ3C,MANAA,GAAYL,EAAMK,UAClBhhB,GAAQ2gB,EAAMsC,gBAAiBnO,IAC9BkM,EAAUY,UAAYZ,EAAUI,SAAW,IAAMJ,EAAUY,UAAYZ,EAAUI,SACjFJ,EAAUhP,SACVgP,EAAUJ,SAEJ/8B,IAER,IAAsB,gBAAjB,KAAO88B,EAAP,YAAA3kB,IAAO2kB,IAAqB,CAEhC,IAAM59B,IAAQ49B,GACb98B,KAAKixB,IAAK/xB,EAAMivB,EAAU2O,EAAO59B,GAElC,OAAOc,MAUR,OARkB,IAAbmuB,GAA0C,kBAAbA,KAEjCC,EAAKD,EACLA,EAAWzmB,IAEA,IAAP0mB,IACJA,EAAKxP,GAEC5e,KAAKsc,KAAK,WAChBH,GAAO3V,MAAMgf,OAAQxlB,KAAM88B,EAAO1O,EAAID,MAIxCjZ,KAAM,SAAU4nB,EAAOxvB,EAAM8gB,GAC5B,MAAOpuB,MAAK+V,GAAI+mB,EAAO,KAAMxvB,EAAM8gB,IAEpCmU,OAAQ,SAAUzF,EAAO1O,GACxB,MAAOpuB,MAAKixB,IAAK6L,EAAO,KAAM1O,IAG/BoU,SAAU,SAAUrU,EAAU2O,EAAOxvB,EAAM8gB,GAC1C,MAAOpuB,MAAK+V,GAAI+mB,EAAO3O,EAAU7gB,EAAM8gB,IAExCqU,WAAY,SAAUtU,EAAU2O,EAAO1O,GAEtC,MAA4B,KAArB+B,UAAUtrB,OAAe7E,KAAKixB,IAAK9C,EAAU,MAASnuB,KAAKixB,IAAK6L,EAAO3O,GAAY,KAAMC,IAGjG4C,QAAS,SAAU9xB,EAAMoO,GACxB,MAAOtN,MAAKsc,KAAK,WAChBH,GAAO3V,MAAMwqB,QAAS9xB,EAAMoO,EAAMtN,SAGpC0iC,eAAgB,SAAUxjC,EAAMoO,GAC/B,GAAIsP,GAAO5c,KAAK,EAChB,IAAK4c,EACJ,MAAOT,IAAO3V,MAAMwqB,QAAS9xB,EAAMoO,EAAMsP,GAAM,IAIjD+lB,MAAO,SAAUC,EAAQC,GACxB,MAAO7iC,MAAK2hC,WAAYiB,GAAShB,WAAYiB,GAASD,MAIxDzmB,GAAOG,KAAM,0MAEqDwB,MAAM,KAAM,SAAUnZ,EAAGxC,GAG1Fga,GAAOiS,GAAIjsB,GAAS,SAAUmL,EAAM8gB,GACnC,MAAO+B,WAAUtrB,OAAS,EACzB7E,KAAK+V,GAAI5T,EAAM,KAAMmL,EAAM8gB,GAC3BpuB,KAAKgxB,QAAS7uB,IAGXs6B,GAAUhe,KAAMtc,KACpBga,GAAO3V,MAAMq5B,SAAU19B,GAASga,GAAO3V,MAAMw5B,UAGzCtD,GAAYje,KAAMtc,KACtBga,GAAO3V,MAAMq5B,SAAU19B,GAASga,GAAO3V,MAAM45B;;;;;;AAS/C,SAAW92B,EAAQ5B,GAoJnB,QAASo7B,GAAU1U,GAClB,MAAO2U,IAAQtkB,KAAM2P,EAAK,IAS3B,QAAS4U,KACR,GAAI3lB,GACH4lB,IAED,OAAQ5lB,GAAQ,SAAUja,EAAK1E,GAM9B,MAJKukC,GAAKl+B,KAAM3B,GAAO,KAAQ8/B,EAAKC,mBAE5B9lB,GAAO4lB,EAAKzb,SAEZnK,EAAOja,GAAQ1E,GAQzB,QAAS0kC,GAAchV,GAEtB,MADAA,GAAIlR,IAAY,EACTkR,EAOR,QAASiV,GAAQjV,GAChB,GAAI7d,GAAMxH,EAASwC,cAAc,MAEjC,KACC,MAAO6iB,GAAI7d,GACV,MAAOvM,GACR,OAAO,EAHR,QAMCuM,EAAM,MAIR,QAAS+yB,GAAQnV,EAAU9L,EAASmQ,EAAS+Q,GAC5C,GAAIhnB,GAAOK,EAAM4mB,EAAGjqB,EAEnB5U,EAAG8+B,EAAQC,EAAKC,EAAKC,EAAYC,CASlC,KAPOxhB,EAAUA,EAAQpC,eAAiBoC,EAAUyhB,KAAmB/6B,GACtEg7B,EAAa1hB,GAGdA,EAAUA,GAAWtZ,EACrBypB,EAAUA,OAEJrE,GAAgC,gBAAbA,GACxB,MAAOqE,EAGR,IAAuC,KAAjCjZ,EAAW8I,EAAQ9I,WAAgC,IAAbA,EAC3C,QAGD,KAAMyqB,IAAkBT,EAAO,CAG9B,GAAMhnB,EAAQiS,GAAWhO,KAAM2N,GAE9B,GAAMqV,EAAIjnB,EAAM,IACf,GAAkB,IAAbhD,EAAiB,CAIrB,KAHAqD,EAAOyF,EAAQsN,eAAgB6T,MAGlB5mB,EAAK8E,WAQjB,MAAO8Q,EALP,IAAK5V,EAAK/G,KAAO2tB,EAEhB,MADAhR,GAAQztB,KAAM6X,GACP4V,MAOT,IAAKnQ,EAAQpC,gBAAkBrD,EAAOyF,EAAQpC,cAAc0P,eAAgB6T,KAC3ErgB,EAAUd,EAASzF,IAAUA,EAAK/G,KAAO2tB,EAEzC,MADAhR,GAAQztB,KAAM6X,GACP4V,MAKH,IAAKjW,EAAM,GAEjB,MADAxX,GAAKmrB,MAAOsC,EAAS1P,EAAM5gB,KAAKmgB,EAAQrC,qBAAsBmO,GAAY,IACnEqE,CAGD,KAAMgR,EAAIjnB,EAAM,KAAO2B,EAAQ+lB,gBAAkB5hB,EAAQ6hB,uBAE/D,MADAn/B,GAAKmrB,MAAOsC,EAAS1P,EAAM5gB,KAAKmgB,EAAQ6hB,uBAAwBV,GAAK,IAC9DhR,EAKT,GAAKtU,EAAQimB,MAAQC,EAAU3lB,KAAK0P,GAAY,CAU/C,GATAuV,GAAM,EACNC,EAAMzmB,EACN0mB,EAAavhB,EACbwhB,EAA2B,IAAbtqB,GAAkB4U,EAMd,IAAb5U,GAAqD,WAAnC8I,EAAQf,SAAShD,cAA6B,CAWpE,IAVAmlB,EAASY,EAAUlW,IAEbuV,EAAMrhB,EAAQ9D,aAAa,OAChColB,EAAMD,EAAI9xB,QAAS0yB,GAAS,QAE5BjiB,EAAQ6T,aAAc,KAAMyN,GAE7BA,EAAM,QAAUA,EAAM,MAEtBh/B,EAAI8+B,EAAO5+B,OACHF,KACP8+B,EAAO9+B,GAAKg/B,EAAMY,EAAYd,EAAO9+B,GAEtCi/B,GAAaY,GAAS/lB,KAAM0P,IAAc9L,EAAQX,YAAcW,EAChEwhB,EAAcJ,EAAO3kC,KAAK,KAG3B,GAAK+kC,EACJ,IAIC,MAHA9+B,GAAKmrB,MAAOsC,EAAS1P,EAAM5gB,KAAM0hC,EAAWrhB,iBAC3CshB,GACE,IACIrR,EACN,MAAMiS,IALR,QAOOf,GACLrhB,EAAQ5B,gBAAgB,QAQ7B,MAAOoV,GAAQ1H,EAASvc,QAAS2c,GAAO,MAAQlM,EAASmQ,EAAS+Q,GAucnE,QAASmB,GAAcv7B,EAAGhK,GAGzB,IAFA,GAAI2f,GAAM3V,GAAKhK,GAAKgK,EAAEw7B,YAEd7lB,EAAKA,EAAMA,EAAI6lB,YACtB,GAAK7lB,IAAQ3f,EACZ,OAAQ,CAIV,OAAOgK,GAAI,GAAK,EAoBjB,QAASy7B,GAAwBxW,GAChC,MAAOgV,GAAa,SAAUyB,GAE7B,MADAA,IAAYA,EACLzB,EAAa,SAAUG,EAAM5f,GAMnC,IALA,GAAI6M,GACHsU,EAAe1W,KAAQmV,EAAK1+B,OAAQggC,GACpClgC,EAAImgC,EAAajgC,OAGVF,KACF4+B,EAAO/S,EAAIsU,EAAangC,MAC5B4+B,EAAK/S,KAAO7M,EAAQ6M,GAAK+S,EAAK/S,SAogBnC,QAAS6T,GAAUlW,EAAU4W,GAC5B,GAAI7F,GAAS3iB,EAAOyoB,EAAQ9lC,EAC3B+lC,EAAOxB,EAAQyB,EACfC,EAASC,EAAYjX,EAAW,IAEjC,IAAKgX,EACJ,MAAOJ,GAAY,EAAII,EAAOriB,MAAO,EAOtC,KAJAmiB,EAAQ9W,EACRsV,KACAyB,EAAahC,EAAKmC,UAEVJ,GAAQ,CAGT/F,KAAY3iB,EAAQ+oB,GAAO9kB,KAAMykB,MACjC1oB,IAEJ0oB,EAAQA,EAAMniB,MAAOvG,EAAM,GAAG1X,SAAYogC,GAE3CxB,EAAO1+B,KAAMigC,OAGd9F,GAAU,GAGJ3iB,EAAQgpB,GAAa/kB,KAAMykB,MAChC/F,EAAU3iB,EAAMiL,QAChBwd,EAAOjgC,MACNrG,MAAOwgC,EAEPhgC,KAAMqd,EAAM,GAAG3K,QAAS2c,GAAO,OAEhC0W,EAAQA,EAAMniB,MAAOoc,EAAQr6B,QAI9B,KAAM3F,IAAQgkC,GAAK1jB,SACZjD,EAAQipB,GAAWtmC,GAAOshB,KAAMykB,KAAcC,EAAYhmC,MAC9Dqd,EAAQ2oB,EAAYhmC,GAAQqd,MAC7B2iB,EAAU3iB,EAAMiL,QAChBwd,EAAOjgC,MACNrG,MAAOwgC,EACPhgC,KAAMA,EACNykB,QAASpH,IAEV0oB,EAAQA,EAAMniB,MAAOoc,EAAQr6B,QAI/B,KAAMq6B,EACL,MAOF,MAAO6F,GACNE,EAAMpgC,OACNogC,EACC3B,EAAOhb,MAAO6F,GAEdiX,EAAYjX,EAAUsV,GAAS3gB,MAAO,GAGzC,QAASyhB,GAAYS,GAIpB,IAHA,GAAIrgC,GAAI,EACP4rB,EAAMyU,EAAOngC,OACbspB,EAAW,GACJxpB,EAAI4rB,EAAK5rB,IAChBwpB,GAAY6W,EAAOrgC,GAAGjG,KAEvB,OAAOyvB,GAGR,QAASsX,GAAeC,EAASC,EAAYC,GAC5C,GAAI7mB,GAAM4mB,EAAW5mB,IACpB8mB,EAAmBD,GAA2B,eAAnBD,EAAW5mB,IACtC+mB,EAAW79B,GAEZ,OAAO09B,GAAWvV,MAEjB,SAAUxT,EAAMyF,EAAS0P,GACxB,KAASnV,EAAOA,EAAMmC,IACrB,GAAuB,IAAlBnC,EAAKrD,UAAkBssB,EAC3B,MAAOH,GAAS9oB,EAAMyF,EAAS0P,IAMlC,SAAUnV,EAAMyF,EAAS0P,GACxB,GAAIzkB,GAAM+P,EAAO0oB,EAChBC,EAASC,EAAU,IAAMH,CAG1B,IAAK/T,GACJ,KAASnV,EAAOA,EAAMmC,IACrB,IAAuB,IAAlBnC,EAAKrD,UAAkBssB,IACtBH,EAAS9oB,EAAMyF,EAAS0P,GAC5B,OAAO,MAKV,MAASnV,EAAOA,EAAMmC,IACrB,GAAuB,IAAlBnC,EAAKrD,UAAkBssB,EAE3B,GADAE,EAAanpB,EAAMM,KAAcN,EAAMM,QACjCG,EAAQ0oB,EAAYhnB,KAAU1B,EAAM,KAAO2oB,GAChD,IAA2B,KAArB14B,EAAO+P,EAAM,KAAgB/P,IAAS44B,EAC3C,OAAgB,IAAT54B,MAKR,IAFA+P,EAAQ0oB,EAAYhnB,IAAUinB,GAC9B3oB,EAAM,GAAKqoB,EAAS9oB,EAAMyF,EAAS0P,IAASmU,GAC1B,IAAb7oB,EAAM,GACV,OAAO,GASf,QAAS8oB,GAAgBC,GACxB,MAAOA,GAASvhC,OAAS,EACxB,SAAU+X,EAAMyF,EAAS0P,GAExB,IADA,GAAIptB,GAAIyhC,EAASvhC,OACTF,KACP,IAAMyhC,EAASzhC,GAAIiY,EAAMyF,EAAS0P,GACjC,OAAO,CAGT,QAAO,GAERqU,EAAS,GAGX,QAASC,GAAUC,EAAWj6B,EAAKmT,EAAQ6C,EAAS0P,GAOnD,IANA,GAAInV,GACH2pB,KACA5hC,EAAI,EACJ4rB,EAAM+V,EAAUzhC,OAChB2hC,EAAgB,MAAPn6B,EAEF1H,EAAI4rB,EAAK5rB,KACViY,EAAO0pB,EAAU3hC,MAChB6a,IAAUA,EAAQ5C,EAAMyF,EAAS0P,KACtCwU,EAAaxhC,KAAM6X,GACd4pB,GACJn6B,EAAItH,KAAMJ,IAMd,OAAO4hC,GAGR,QAASE,GAAYpB,EAAWlX,EAAUuX,EAASgB,EAAYC,EAAYC,GAO1E,MANKF,KAAeA,EAAYxpB,KAC/BwpB,EAAaD,EAAYC,IAErBC,IAAeA,EAAYzpB,KAC/BypB,EAAaF,EAAYE,EAAYC,IAE/BxD,EAAa,SAAUG,EAAM/Q,EAASnQ,EAAS0P,GACrD,GAAI9H,GAAMtlB,EAAGiY,EACZiqB,KACAC,KACAC,EAAcvU,EAAQ3tB,OAGtB8b,EAAQ4iB,GAAQyD,EAAkB7Y,GAAY,IAAK9L,EAAQ9I,UAAa8I,GAAYA,MAGpF4kB,GAAY5B,IAAe9B,GAASpV,EAEnCxN,EADA0lB,EAAU1lB,EAAOkmB,EAAQxB,EAAWhjB,EAAS0P,GAG9CmV,EAAaxB,EAEZiB,IAAgBpD,EAAO8B,EAAY0B,GAAeL,MAMjDlU,EACDyU,CAQF,IALKvB,GACJA,EAASuB,EAAWC,EAAY7kB,EAAS0P,GAIrC2U,EAMJ,IALAzc,EAAOoc,EAAUa,EAAYJ,GAC7BJ,EAAYzc,KAAU5H,EAAS0P,GAG/BptB,EAAIslB,EAAKplB,OACDF,MACDiY,EAAOqN,EAAKtlB,MACjBuiC,EAAYJ,EAAQniC,MAASsiC,EAAWH,EAAQniC,IAAOiY,GAK1D,IAAK2mB,GACJ,GAAKoD,GAActB,EAAY,CAC9B,GAAKsB,EAAa,CAIjB,IAFA1c,KACAtlB,EAAIuiC,EAAWriC,OACPF,MACDiY,EAAOsqB,EAAWviC,KAEvBslB,EAAKllB,KAAOkiC,EAAUtiC,GAAKiY,EAG7B+pB,GAAY,KAAOO,KAAkBjd,EAAM8H,GAK5C,IADAptB,EAAIuiC,EAAWriC,OACPF,MACDiY,EAAOsqB,EAAWviC,MACtBslB,EAAO0c,EAAaj1B,EAAQxP,KAAMqhC,EAAM3mB,GAASiqB,EAAOliC,KAAO,IAEhE4+B,EAAKtZ,KAAUuI,EAAQvI,GAAQrN,SAOlCsqB,GAAab,EACZa,IAAe1U,EACd0U,EAAW9e,OAAQ2e,EAAaG,EAAWriC,QAC3CqiC,GAEGP,EACJA,EAAY,KAAMnU,EAAS0U,EAAYnV,GAEvChtB,EAAKmrB,MAAOsC,EAAS0U,KAMzB,QAASC,GAAmBnC,GAqB3B,IApBA,GAAIoC,GAAc1B,EAASlV,EAC1BD,EAAMyU,EAAOngC,OACbwiC,EAAkBnE,EAAKoE,SAAUtC,EAAO,GAAG9lC,MAC3CqoC,EAAmBF,GAAmBnE,EAAKoE,SAAS,KACpD3iC,EAAI0iC,EAAkB,EAAI,EAG1BG,EAAe/B,EAAe,SAAU7oB,GACvC,MAAOA,KAASwqB,GACdG,GAAkB,GACrBE,EAAkBhC,EAAe,SAAU7oB,GAC1C,MAAOlL,GAAQxP,KAAMklC,EAAcxqB,IAAU,GAC3C2qB,GAAkB,GACrBnB,GAAa,SAAUxpB,EAAMyF,EAAS0P,GACrC,OAAUsV,IAAqBtV,GAAO1P,IAAYqlB,MAChDN,EAAe/kB,GAAS9I,SACxBiuB,EAAc5qB,EAAMyF,EAAS0P,GAC7B0V,EAAiB7qB,EAAMyF,EAAS0P,MAG5BptB,EAAI4rB,EAAK5rB,IAChB,GAAM+gC,EAAUxC,EAAKoE,SAAUtC,EAAOrgC,GAAGzF,MACxCknC,GAAaX,EAAcU,EAAgBC,GAAYV,QACjD,CAIN,GAHAA,EAAUxC,EAAK1jB,OAAQwlB,EAAOrgC,GAAGzF,MAAOgxB,MAAO,KAAM8U,EAAOrgC,GAAGgf,SAG1D+hB,EAASxoB,GAAY,CAGzB,IADAsT,IAAM7rB,EACE6rB,EAAID,IACN2S,EAAKoE,SAAUtC,EAAOxU,GAAGtxB,MADdsxB,KAKjB,MAAOiW,GACN9hC,EAAI,GAAKwhC,EAAgBC,GACzBzhC,EAAI,GAAK4/B,EAAYS,EAAOliB,MAAO,EAAGne,EAAI,IAAMiN,QAAS2c,GAAO,MAChEmX,EACA/gC,EAAI6rB,GAAK2W,EAAmBnC,EAAOliB,MAAOne,EAAG6rB,IAC7CA,EAAID,GAAO4W,EAAoBnC,EAASA,EAAOliB,MAAO0N,IACtDA,EAAID,GAAOgU,EAAYS,IAGzBoB,EAASrhC,KAAM2gC,GAIjB,MAAOS,GAAgBC,GAGxB,QAASuB,GAA0BC,EAAiBC,GAEnD,GAAIC,GAAoB,EACvBC,EAAQF,EAAYhjC,OAAS,EAC7BmjC,EAAYJ,EAAgB/iC,OAAS,EACrCojC,EAAe,SAAU1E,EAAMlhB,EAAS0P,EAAKS,EAAS0V,GACrD,GAAItrB,GAAM4T,EAAGkV,EACZyC,KACAC,EAAe,EACfzjC,EAAI,IACJ2hC,EAAY/C,MACZ8E,EAA6B,MAAjBH,EACZI,EAAgBZ,EAEhB/mB,EAAQ4iB,GAAQyE,GAAa9E,EAAKzT,KAAL,IAAkB,IAAKyY,GAAiB7lB,EAAQX,YAAcW,GAE3FkmB,EAAiBtC,GAA4B,MAAjBqC,EAAwB,EAAIjjC,KAAKmjC,CAQ9D,KANKH,IACJX,EAAmBrlB,IAAYtZ,GAAYsZ,EAC3C6jB,EAAa4B,GAIe,OAApBlrB,EAAO+D,EAAMhc,IAAaA,IAAM,CACxC,GAAKqjC,GAAaprB,EAAO,CACxB,IAAM4T,EAAI,EAAIkV,EAAUkC,EAAgBpX,GAAKA,IAC5C,GAAKkV,EAAS9oB,EAAMyF,EAAS0P,GAAQ,CACpCS,EAAQztB,KAAM6X,EACd,OAGGyrB,IACJpC,EAAUsC,EACVrC,IAAe4B,GAKZC,KAEEnrB,GAAQ8oB,GAAW9oB,IACxBwrB,IAII7E,GACJ+C,EAAUvhC,KAAM6X,IAQnB,GADAwrB,GAAgBzjC,EACXojC,GAASpjC,IAAMyjC,EAAe,CAClC,IAAM5X,EAAI,EAAIkV,EAAUmC,EAAYrX,GAAKA,IACxCkV,EAASY,EAAW6B,EAAY9lB,EAAS0P,EAG1C,IAAKwR,EAAO,CAEX,GAAK6E,EAAe,EACnB,KAAQzjC,KACA2hC,EAAU3hC,IAAMwjC,EAAWxjC,KACjCwjC,EAAWxjC,GAAK4Y,EAAIrb,KAAMswB,GAM7B2V,GAAa9B,EAAU8B,GAIxBpjC,EAAKmrB,MAAOsC,EAAS2V,GAGhBE,IAAc9E,GAAQ4E,EAAWtjC,OAAS,GAC5CujC,EAAeP,EAAYhjC,OAAW,GAExCy+B,EAAOmF,WAAYjW,GAUrB,MALK6V,KACJpC,EAAUsC,EACVb,EAAmBY,GAGbhC,EAGT,OAAOyB,GACN3E,EAAc6E,GACdA,EA8BF,QAASjB,GAAkB7Y,EAAUyH,EAAUpD,GAG9C,IAFA,GAAI7tB,GAAI,EACP4rB,EAAMqF,EAAS/wB,OACRF,EAAI4rB,EAAK5rB,IAChB2+B,EAAQnV,EAAUyH,EAASjxB,GAAI6tB,EAEhC,OAAOA,GAGR,QAASqD,GAAQ1H,EAAU9L,EAASmQ,EAAS+Q,GAC5C,GAAI5+B,GAAGqgC,EAAQ0D,EAAOxpC,EAAMuwB,EAC3BlT,EAAQ8nB,EAAUlW,EAEnB,KAAMoV,GAEiB,IAAjBhnB,EAAM1X,OAAe,CAIzB,GADAmgC,EAASzoB,EAAM,GAAKA,EAAM,GAAGuG,MAAO,GAC/BkiB,EAAOngC,OAAS,GAAkC,QAA5B6jC,EAAQ1D,EAAO,IAAI9lC,MACvB,IAArBmjB,EAAQ9I,WAAmByqB,GAC3Bd,EAAKoE,SAAUtC,EAAO,GAAG9lC,MAAS,CAGnC,KADAmjB,EAAU6gB,EAAKzT,KAAL,GAAiBiZ,EAAM/kB,QAAQ,GAAG/R,QAAS+2B,GAAWC,IAAavmB,GAAU,IAEtF,MAAOmQ,EAGRrE,GAAWA,EAASrL,MAAOkiB,EAAOxd,QAAQ9oB,MAAMmG,QAIjD,IAAMF,EAAI6gC,GAAA,aAA0B/mB,KAAM0P,IAAc,EAAI6W,EAAOngC,OAAS,EAAGF,GAAK,IACnF+jC,EAAQ1D,EAAOrgC,IAGVu+B,EAAKoE,SAAWpoC,EAAOwpC,EAAMxpC,OAJoDyF,IAOtF,IAAM8qB,EAAOyT,EAAKzT,KAAMvwB,MAEjBqkC,EAAO9T,EACZiZ,EAAM/kB,QAAQ,GAAG/R,QAAS+2B,GAAWC,IACrCpE,GAAS/lB,KAAMumB,EAAO,GAAG9lC,OAAUmjB,EAAQX,YAAcW,IACrD,CAKJ,GAFA2iB,EAAO5c,OAAQzjB,EAAG,KAClBwpB,EAAWoV,EAAK1+B,QAAU0/B,EAAYS,IAGrC,MADAjgC,GAAKmrB,MAAOsC,EAAS1P,EAAM5gB,KAAMqhC,EAAM,IAChC/Q,CAGR,QAgBL,MAPAqW,GAAS1a,EAAU5R,GAClBgnB,EACAlhB,EACA2hB,EACAxR,EACAgS,GAAS/lB,KAAM0P,IAETqE,EAOR,QAASsW,MAhyDT,GAAInkC,GACHuhC,EACAhD,EACA6F,EACAC,EACAH,EACAI,EACAvB,EAGA3D,EACAh7B,EACAmgC,EACAlF,EACAI,EACA+E,EACAxlB,EACAR,EACAimB,EAGAlsB,EAAU,UAAa,GAAIiW,MAC3B2Q,EAAex6B,EAAOP,SACtBmV,KACA+nB,EAAU,EACVh+B,EAAO,EACPohC,EAAarG,IACboC,EAAapC,IACbsG,EAAgBtG,IAOhBzQ,KACAhV,EAAMgV,EAAIhV,IACVxY,EAAOwtB,EAAIxtB,KACX+d,EAAQyP,EAAIzP,MAEZpR,EAAU6gB,EAAI7gB,SAAW,SAAUkL,GAGlC,IAFA,GAAIjY,GAAI,EACP4rB,EAAMvwB,KAAK6E,OACJF,EAAI4rB,EAAK5rB,IAChB,GAAK3E,KAAK2E,KAAOiY,EAChB,MAAOjY,EAGT,QAAQ,GAOT4kC,EAAa,sBAEbC,EAAoB,mCAKpBC,EAAaD,EAAkB53B,QAAS,IAAK,MAI7CgmB,GAAa,MAAQ2R,EAAa,KAAOC,EAAoB,IAAMD,EAClE,mBAAqBA,EAAa,wCAA0CE,EAAa,QAAUF,EAAa,OAQjHG,GAAU,KAAOF,EAAoB,mEAAqE5R,GAAWhmB,QAAS,EAAG,GAAM,eAGvI2c,GAAQ,GAAI6P,QAAQ,IAAMmL,EAAa,8BAAgCA,EAAa,KAAM,KAE1FjE,GAAS,GAAIlH,QAAQ,IAAMmL,EAAa,KAAOA,EAAa,KAC5DhE,GAAe,GAAInH,QAAQ,IAAMmL,EAAa,4BAA8BA,EAAa,KACzFI,GAAU,GAAIvL,QAAQsL,IACtBE,GAAc,GAAIxL,QAAQ,IAAMqL,EAAa,KAE7CjE,IACCqE,GAAM,GAAIzL,QAAQ,MAAQoL,EAAoB,KAC9CM,MAAS,GAAI1L,QAAQ,QAAUoL,EAAoB,KACnDO,KAAQ,GAAI3L,QAAQ,mBAAqBoL,EAAoB,cAC7DQ,IAAO,GAAI5L,QAAQ,KAAOoL,EAAkB53B,QAAS,IAAK,MAAS,KACnEq4B,KAAQ,GAAI7L,QAAQ,IAAMxG,IAC1BsS,OAAU,GAAI9L,QAAQ,IAAMsL,IAC5BS,MAAS,GAAI/L,QAAQ,yDAA2DmL,EAC/E,+BAAiCA,EAAa,cAAgBA,EAC9D,aAAeA,EAAa,SAAU,KAGvC1L,aAAgB,GAAIO,QAAQ,IAAMmL,EAAa,mDAC9CA,EAAa,mBAAqBA,EAAa,mBAAoB,MAGrE/E,GAAW,sBAEXzB,GAAU,4BAGVvU,GAAa,mCAEb4b,GAAU,sCACVC,GAAU,SAEV/F,GAAU,QACVgG,GAAmB,gDAGnB3B,GAAY,wCACZC,GAAY,SAAUnsB,EAAG8tB,GACxB,GAAIC,GAAO,KAAOD,EAAU,KAE5B,OAAOC,KAASA,EACfD,EAEAC,EAAO,EACNtxB,OAAOuxB,aAAcD,EAAO,OAE5BtxB,OAAOuxB,aAAcD,GAAQ,GAAK,MAAe,KAAPA,EAAe,OAI7D,KACC1nB,EAAM5gB,KAAMgnC,EAAQ1mB,WAAY,GAAI,GAAGjJ,SACtC,MAAQvV,GACT8e,EAAQ,SAAUne,GAGjB,IAFA,GAAIiY,GACH4V,KACQ5V,EAAO5c,KAAK2E,GAAKA,IACzB6tB,EAAQztB,KAAM6X,EAEf,OAAO4V,IA4KTwW,EAAQ1F,EAAO0F,MAAQ,SAAUpsB,GAGhC,GAAIsI,GAAkBtI,IAASA,EAAKqD,eAAiBrD,GAAMsI,eAC3D,SAAOA,GAA+C,SAA7BA,EAAgB5D,UAQ1CyiB,EAAcT,EAAOS,YAAc,SAAU2G,GAC5C,GAAI7lB,GAAM6lB,EAAOA,EAAKzqB,eAAiByqB,EAAO5G,CAG9C,OAAKjf,KAAQ9b,GAA6B,IAAjB8b,EAAItL,UAAmBsL,EAAIK,iBAKpDnc,EAAW8b,EACXqkB,EAAUrkB,EAAIK,gBAGd8e,EAAgBgF,EAAOnkB,GAGvB3G,EAAQysB,kBAAoBtH,EAAO,SAAU9yB,GAE5C,MADAA,GAAI1F,YAAaga,EAAI+lB,cAAc,MAC3Br6B,EAAIyP,qBAAqB,KAAKnb,SAIvCqZ,EAAQ0Z,WAAayL,EAAO,SAAU9yB,GACrCA,EAAIG,UAAY,mBAChB,IAAIxR,GAAAiZ,IAAc5H,EAAIinB,UAAUjZ,aAAa,YAE7C,OAAgB,YAATrf,GAA+B,WAATA,IAI9Bgf,EAAQ+lB,eAAiBZ,EAAO,SAAU9yB,GAGzC,MADAA,GAAIG,UAAY,4DACVH,EAAI2zB,yBAA2B3zB,EAAI2zB,uBAAuB,KAAKr/B,UAKrE0L,EAAIinB,UAAUhnB,UAAY,IACwB,IAA3CD,EAAI2zB,uBAAuB,KAAKr/B,UAKxCqZ,EAAQf,UAAYkmB,EAAO,SAAU9yB,GAEpCA,EAAIsF,GAAKqH,EAAU,EACnB3M,EAAIG,UAAY,YAAcwM,EAAU,oBAAsBA,EAAU,WACxEgsB,EAAQ2B,aAAct6B,EAAK24B,EAAQ5S,WAGnC,IAAIwU,GAAOjmB,EAAIkmB,mBAEdlmB,EAAIkmB,kBAAmB7tB,GAAUrY,SAAW,EAE5CggB,EAAIkmB,kBAAmB7tB,EAAU,GAAIrY,MAMtC,OALAqZ,GAAQ8sB,cAAgBnmB,EAAI8K,eAAgBzS,GAG5CgsB,EAAQ1Q,YAAajoB,GAEdu6B,IAIR5H,EAAK+H,WAAa5H,EAAO,SAAU9yB,GAElC,MADAA,GAAIG,UAAY,mBACTH,EAAI+lB,YAtWZ,cAsW0Bne,IAAO5H,EAAI+lB,WAAW/X,eACN,MAAxChO,EAAI+lB,WAAW/X,aAAa,cAI5BnH,KAAQ,SAAUwF,GACjB,MAAOA,GAAK2B,aAAc,OAAQ,IAEnCrf,KAAQ,SAAU0d,GACjB,MAAOA,GAAK2B,aAAa,UAKvBL,EAAQ8sB,cACZ9H,EAAKzT,KAAL,GAAkB,SAAU5Z,EAAIwM,GAC/B,GAtXF,cAsXOlK,IAAOkK,EAAQsN,kBAAoCqU,EAAgB,CACvE,GAAIR,GAAInhB,EAAQsN,eAAgB9Z,EAGhC,OAAO2tB,IAAKA,EAAE9hB,YAAc8hB,QAG9BN,EAAK1jB,OAAL,GAAoB,SAAU3J,GAC7B,GAAIq1B,GAASr1B,EAAGjE,QAAS+2B,GAAWC,GACpC,OAAO,UAAUhsB,GAChB,MAAOA,GAAK2B,aAAa,QAAU2sB,MAIrChI,EAAKzT,KAAL,GAAkB,SAAU5Z,EAAIwM,GAC/B,GArYF,cAqYOlK,IAAOkK,EAAQsN,kBAAoCqU,EAAgB,CACvE,GAAIR,GAAInhB,EAAQsN,eAAgB9Z;;;;;;AAEhC,MAAO2tB,GACNA,EAAE3tB,KAAOA,GAzYb,cAyYmBsC,IAAOqrB,EAAEpjB,mBAAqCojB,EAAEpjB,iBAAiB,MAAM1hB,QAAUmX,GAC9F2tB,OA3aP,QAgbEN,EAAK1jB,OAAL,GAAqB,SAAU3J,GAC9B,GAAIq1B,GAASr1B,EAAGjE,QAAS+2B,GAAWC,GACpC,OAAO,UAAUhsB,GAChB,GAAI8tB,GAlZP,cAkZcvyB,IAAOyE,EAAKwD,mBAAqCxD,EAAKwD,iBAAiB,KAClF,OAAOsqB,IAAQA,EAAKhsC,QAAUwsC,KAMjChI,EAAKzT,KAAL,IAAmBvR,EAAQysB,kBAC1B,SAAU1zB,EAAKoL,GACd,GA3ZF,cA2ZOlK,IAAOkK,EAAQrC,sBACnB,MAAOqC,GAAQrC,qBAAsB/I,IAGvC,SAAUA,EAAKoL,GACd,GAAIzF,GACHqL,KACAtjB,EAAI,EACJ6tB,EAAUnQ,EAAQrC,qBAAsB/I,EAGzC,IAAa,MAARA,EAAc,CAClB,KAAS2F,EAAO4V,EAAQ7tB,GAAKA,IACL,IAAlBiY,EAAKrD,UACT0O,EAAIljB,KAAM6X,EAIZ,OAAOqL,GAER,MAAOuK,IAIT0Q,EAAKzT,KAAL,KAAoBvR,EAAQf,WAAa,SAAUlG,EAAKoL,GACvD,GApbD,cAobMlK,IAAOkK,EAAQ0oB,mBACnB,MAAO1oB,GAAQ0oB,kBAAmB5oC,OAKpC+gC,EAAKzT,KAAL,MAAqBvR,EAAQ+lB,gBAAkB,SAAUzzB,EAAW6R,GACnE,GA3bD,cA2bMlK,IAAOkK,EAAQ6hB,0BAA4CF,EAC/D,MAAO3hB,GAAQ6hB,uBAAwB1zB,IAOzC24B,KAKA/E,GAAc,WAERlmB,EAAQimB,IAAMrB,EAASje,EAAItC,qBAGhC8gB,EAAO,SAAU9yB,GAMhBA,EAAIG,UAAY,iDAGVH,EAAIgS,iBAAiB,cAAc1d,QACxCu/B,EAAUr/B,KAAM,MAAQwkC,EAAa,gEAMhCh5B,EAAIgS,iBAAiB,YAAY1d,QACtCu/B,EAAUr/B,KAAK,cAIjBs+B,EAAO,SAAU9yB,GAIhBA,EAAIG,UAAY,8BACXH,EAAIgS,iBAAiB,WAAW1d,QACpCu/B,EAAUr/B,KAAM,SAAWwkC,EAAa,gBAKnCh5B,EAAIgS,iBAAiB,YAAY1d,QACtCu/B,EAAUr/B,KAAM,WAAY,aAI7BwL,EAAIgS,iBAAiB,QACrB6hB,EAAUr/B,KAAK,YAIXmZ,EAAQitB,gBAAkBrI,EAAWnf,EAAUulB,EAAQiC,iBAC5DjC,EAAQkC,oBACRlC,EAAQmC,uBACRnC,EAAQoC,kBACRpC,EAAQqC,qBAERlI,EAAO,SAAU9yB,GAGhB2N,EAAQstB,kBAAoB7nB,EAAQzhB,KAAMqO,EAAK,OAI/CoT,EAAQzhB,KAAMqO,EAAK,aACnB44B,EAAcpkC,KAAM,KAAM2kC,MAI5BtF,EAAY,GAAIhG,QAAQgG,EAAUtlC,KAAK,MACvCqqC,EAAgB,GAAI/K,QAAQ+K,EAAcrqC,KAAK,MAK/CqkB,EAAW2f,EAASoG,EAAQ/lB,WAAa+lB,EAAQuC,wBAChD,SAAUtiC,EAAGhK,GACZ,GAAIusC,GAAuB,IAAfviC,EAAEoQ,SAAiBpQ,EAAE+b,gBAAkB/b,EAClDwiC,EAAMxsC,GAAKA,EAAEuiB,UACd,OAAOvY,KAAMwiC,MAAWA,GAAwB,IAAjBA,EAAIpyB,YAClCmyB,EAAMvoB,SACLuoB,EAAMvoB,SAAUwoB,GAChBxiC,EAAEsiC,yBAA8D,GAAnCtiC,EAAEsiC,wBAAyBE,MAG3D,SAAUxiC,EAAGhK,GACZ,GAAKA,EACJ,KAASA,EAAIA,EAAEuiB,YACd,GAAKviB,IAAMgK,EACV,OAAO,CAIV,QAAO,GAITigC,EAAYF,EAAQuC,wBACpB,SAAUtiC,EAAGhK,GACZ,GAAIysC,EAEJ,OAAKziC,KAAMhK,GACV8pC,GAAe,EACR,IAGF2C,EAAUzsC,EAAEssC,yBAA2BtiC,EAAEsiC,yBAA2BtiC,EAAEsiC,wBAAyBtsC,IACrF,EAAVysC,GAAeziC,EAAEuY,YAAwC,KAA1BvY,EAAEuY,WAAWnI,SAC3CpQ,IAAM0b,GAAO1B,EAAU2gB,EAAc36B,IACjC,EAEJhK,IAAM0lB,GAAO1B,EAAU2gB,EAAc3kC,GAClC,EAED,EAES,EAAVysC,GAAe,EAAI,EAGpBziC,EAAEsiC,yBAA2B,EAAI,GAEzC,SAAUtiC,EAAGhK,GACZ,GAAI2f,GACHna,EAAI,EACJknC,EAAM1iC,EAAEuY,WACRiqB,EAAMxsC,EAAEuiB,WACRoqB,GAAO3iC,GACP4iC,GAAO5sC,EAGR,IAAKgK,IAAMhK,EAEV,MADA8pC,IAAe,EACR,CAGD,IAAK9/B,EAAE6iC,aAAe7sC,EAAE6sC,YAC9B,QAAU7sC,EAAE6sC,aA3kBC,GAAK,KA2kB4B7oB,EAAU2gB,EAAc36B,KAAQA,EAAE6iC,aA3kBnE,GAAK,GA8kBZ,KAAMH,IAAQF,EACpB,MAAOxiC,KAAM0b,GAAO,EACnB1lB,IAAM0lB,EAAM,EACZgnB,GAAO,EACPF,EAAM,EACN,CAGK,IAAKE,IAAQF,EACnB,MAAOjH,GAAcv7B,EAAGhK,EAKzB,KADA2f,EAAM3V,EACG2V,EAAMA,EAAI4C,YAClBoqB,EAAG1lB,QAAStH,EAGb,KADAA,EAAM3f,EACG2f,EAAMA,EAAI4C,YAClBqqB,EAAG3lB,QAAStH,EAIb,MAAQgtB,EAAGnnC,KAAOonC,EAAGpnC,IACpBA,GAGD,OAAOA,GAEN+/B,EAAcoH,EAAGnnC,GAAIonC,EAAGpnC,IAGxBmnC,EAAGnnC,KAAOm/B,GAAgB,EAC1BiI,EAAGpnC,KAAOm/B,EAAe,EACzB,GAKFmF,GAAe,GACd,EAAG,GAAGxY,KAAM2Y,GACblrB,EAAQ+tB,iBAAmBhD,EAEpBlgC,GAlVCA,GAqVTu6B,EAAO3f,QAAU,SAAUma,EAAM7e,GAChC,MAAOqkB,GAAQxF,EAAM,KAAM,KAAM7e,IAGlCqkB,EAAO6H,gBAAkB,SAAUvuB,EAAMkhB,GAUxC,IAROlhB,EAAKqD,eAAiBrD,KAAW7T,GACvCg7B,EAAannB,GAIdkhB,EAAOA,EAAKlsB,QAAS04B,GAAkB,UAGlCpsB,EAAQitB,kBAAoBnH,KAAmBmF,IAAkBA,EAAc1qB,KAAKqf,MAAWsG,EAAU3lB,KAAKqf,GAClH,IACC,GAAI9gB,GAAM2G,EAAQzhB,KAAM0a,EAAMkhB,EAG9B,IAAK9gB,GAAOkB,EAAQstB,mBAGlB5uB,EAAK7T,UAAuC,KAA3B6T,EAAK7T,SAASwQ,SAChC,MAAOyD,GAEP,MAAMhZ,IAGT,MAAOs/B,GAAQxF,EAAM/0B,EAAU,MAAO6T,IAAQ/X,OAAS,GAGxDy+B,EAAOngB,SAAW,SAAUd,EAASzF,GAKpC,OAHOyF,EAAQpC,eAAiBoC,KAActZ,GAC7Cg7B,EAAa1hB,GAEPc,EAAUd,EAASzF,IAG3B0mB,EAAOnjB,KAAO,SAAUvD,EAAMza,GAC7B,GAAI8hB,EAUJ,QAPOrH,EAAKqD,eAAiBrD,KAAW7T,GACvCg7B,EAAannB,GAGRonB,IACL7hC,EAAOA,EAAKmc,gBAEP2F,EAAMif,EAAK+H,WAAY9oC,IACrB8hB,EAAKrH,GAERonB,GAAiB9lB,EAAQ0Z,WACtBhb,EAAK2B,aAAcpc,KAEjB8hB,EAAMrH,EAAKwD,iBAAkBje,KAAWya,EAAK2B,aAAcpc,MAA6B,IAAjBya,EAAMza,GACtFA,EACA8hB,GAAOA,EAAI5D,UAAY4D,EAAIvlB,MAAQ,MAGrC4kC,EAAOhb,MAAQ,SAAU+I,GACxB,KAAM,IAAIC,OAAO,0CAA4CD,IAI9DiS,EAAOmF,WAAa,SAAUjW,GAC7B,GAAI5V,GACHsvB,KACAvnC,EAAI,EACJ6rB,EAAI,CAML,IAHAyY,GAAgB/qB,EAAQ+tB,iBACxBzZ,EAAQ/B,KAAM2Y,GAETH,EAAe,CACnB,KAASrsB,EAAO4V,EAAQ7tB,GAAKA,IACvBiY,IAAS4V,EAAS7tB,EAAI,KAC1B6rB,EAAI0b,EAAWnnC,KAAMJ,GAGvB,MAAQ6rB,KACPgC,EAAQpK,OAAQ8jB,EAAY1b,GAAK,GAInC,MAAOgC,IAsDRuW,EAAUzF,EAAOyF,QAAU,SAAUnsB,GACpC,GAAI8tB,GACH1tB,EAAM,GACNrY,EAAI,EACJ4U,EAAWqD,EAAKrD,QAEjB,IAAMA,GAMC,GAAkB,IAAbA,GAA+B,IAAbA,GAA+B,KAAbA,EAAkB,CAGjE,GAAiC,gBAArBqD,GAAKuvB,YAChB,MAAOvvB,GAAKuvB,WAGZ,KAAMvvB,EAAOA,EAAK0Z,WAAY1Z,EAAMA,EAAOA,EAAK+nB,YAC/C3nB,GAAO+rB,EAASnsB,OAGZ,IAAkB,IAAbrD,GAA+B,IAAbA,EAC7B,MAAOqD,GAAKwvB,cAhBZ,MAAS1B,EAAO9tB,EAAKjY,GAAKA,IAEzBqY,GAAO+rB,EAAS2B,EAkBlB,OAAO1tB,IAGRkmB,EAAOI,EAAO+I,WAGblJ,YAAa,GAEbmJ,aAAclJ,EAEd7mB,MAAOipB,GAEP/V,QAEA6X,UACCiF,KAAOxtB,IAAK,aAAcqR,OAAO,GACjCoc,KAAOztB,IAAK,cACZ0tB,KAAO1tB,IAAK,kBAAmBqR,OAAO,GACtCsc,KAAO3tB,IAAK,oBAGbsmB,WACC4E,KAAQ,SAAU1tB,GAUjB,MATAA,GAAM,GAAKA,EAAM,GAAG3K,QAAS+2B,GAAWC,IAGxCrsB,EAAM,IAAOA,EAAM,IAAMA,EAAM,IAAM,IAAK3K,QAAS+2B,GAAWC,IAE5C,OAAbrsB,EAAM,KACVA,EAAM,GAAK,IAAMA,EAAM,GAAK,KAGtBA,EAAMuG,MAAO,EAAG,IAGxBqnB,MAAS,SAAU5tB,GA6BlB,MAlBAA,GAAM,GAAKA,EAAM,GAAG+B,cAEY,QAA3B/B,EAAM,GAAGuG,MAAO,EAAG,IAEjBvG,EAAM,IACX+mB,EAAOhb,MAAO/L,EAAM,IAKrBA,EAAM,KAAQA,EAAM,GAAKA,EAAM,IAAMA,EAAM,IAAM,GAAK,GAAmB,SAAbA,EAAM,IAA8B,QAAbA,EAAM,KACzFA,EAAM,KAAUA,EAAM,GAAKA,EAAM,IAAqB,QAAbA,EAAM,KAGpCA,EAAM,IACjB+mB,EAAOhb,MAAO/L,EAAM,IAGdA,GAGR2tB,OAAU,SAAU3tB,GACnB,GAAIowB,GACHC,GAAYrwB,EAAM,IAAMA,EAAM,EAE/B,OAAKipB,IAAA,MAAmB/mB,KAAMlC,EAAM,IAC5B,MAIHA,EAAM,GACVA,EAAM,GAAKA,EAAM,GAGNqwB,GAAYjD,GAAQlrB,KAAMmuB,KAEpCD,EAAStI,EAAUuI,GAAU,MAE7BD,EAASC,EAASl7B,QAAS,IAAKk7B,EAAS/nC,OAAS8nC,GAAWC,EAAS/nC,UAGvE0X,EAAM,GAAKA,EAAM,GAAGuG,MAAO,EAAG6pB,GAC9BpwB,EAAM,GAAKqwB,EAAS9pB,MAAO,EAAG6pB,IAIxBpwB,EAAMuG,MAAO,EAAG,MAIzBtD,QAECwqB,IAAO,SAAU1oB,GAChB,MAAkB,MAAbA,EACG,WAAa,OAAO,IAG5BA,EAAWA,EAAS1P,QAAS+2B,GAAWC,IAAYtqB,cAC7C,SAAU1B,GAChB,MAAOA,GAAK0E,UAAY1E,EAAK0E,SAAShD,gBAAkBgD,KAI1DwoB,MAAS,SAAUt5B,GAClB,GAAIq8B,GAAUxD,EAAY74B,EAAY,IAEtC,OAAOq8B,KACLA,EAAU,GAAIzO,QAAQ,MAAQmL,EAAa,IAAM/4B,EAAY,IAAM+4B,EAAa,SACjFF,EAAY74B,EAAW,SAAUoM,GAChC,MAAOiwB,GAAQpuB,KAAM7B,EAAKpM,WAz5B9B,cAy5B4C2H,IAAOyE,EAAK2B,eAAiC3B,EAAK2B,aAAa,UAAa,OAIvH0rB,KAAQ,SAAU9nC,EAAM2qC,EAAUC,GACjC,MAAO,UAAUnwB,GAChB,GAAI0M,GAASga,EAAOnjB,KAAMvD,EAAMza,EAEhC,OAAe,OAAVmnB,EACgB,OAAbwjB,GAEFA,IAINxjB,GAAU,GAEU,MAAbwjB,EAAmBxjB,IAAWyjB,EACvB,OAAbD,EAAoBxjB,IAAWyjB,EAClB,OAAbD,EAAoBC,GAAqC,IAA5BzjB,EAAO5X,QAASq7B,GAChC,OAAbD,EAAoBC,GAASzjB,EAAO5X,QAASq7B,IAAW,EAC3C,OAAbD,EAAoBC,GAASzjB,EAAO0jB,OAAQ1jB,EAAOzkB,OAASkoC,EAAMloC,UAAakoC,EAClE,OAAbD,GAAsB,IAAMxjB,EAAS,KAAM5X,QAASq7B,IAAW,EAClD,OAAbD,IAAoBxjB,IAAWyjB,GAASzjB,EAAO0jB,OAAQ,EAAGD,EAAMloC,OAAS,KAAQkoC,EAAQ,QAK5F5C,MAAS,SAAUjrC,EAAM+tC,EAAMpI,EAAUzU,EAAOE,GAC/C,GAAI4c,GAAgC,QAAvBhuC,EAAK4jB,MAAO,EAAG,GAC3BqqB,EAA+B,SAArBjuC,EAAK4jB,OAAQ,GACvBsqB,EAAkB,YAATH,CAEV,OAAiB,KAAV7c,GAAwB,IAATE,EAGrB,SAAU1T,GACT,QAASA,EAAK8E,YAGf,SAAU9E,EAAMyF,EAAS0P,GACxB,GAAI1U,GAAO0oB,EAAY2E,EAAM2C,EAAMC,EAAWzmC,EAC7CkY,EAAMmuB,IAAWC,EAAU,cAAgB,kBAC3C37B,EAASoL,EAAK8E,WACdvf,EAAOirC,GAAUxwB,EAAK0E,SAAShD,cAC/BivB,GAAYxb,IAAQqb,CAErB,IAAK57B,EAAS,CAGb,GAAK07B,EAAS,CACb,KAAQnuB,GAAM,CAEb,IADA2rB,EAAO9tB,EACE8tB,EAAOA,EAAM3rB,IACrB,GAAKquB,EAAS1C,EAAKppB,SAAShD,gBAAkBnc,EAAyB,IAAlBuoC,EAAKnxB,SACzD,OAAO,CAIT1S,GAAQkY,EAAe,SAAT7f,IAAoB2H,GAAS,cAE5C,OAAO,EAMR,GAHAA,GAAUsmC,EAAU37B,EAAO8kB,WAAa9kB,EAAOgmB,WAG1C2V,GAAWI,GAQf,IANAxH,EAAav0B,EAAQ0L,KAAc1L,EAAQ0L,OAC3CG,EAAQ0oB,EAAY7mC,OACpBouC,EAAYjwB,EAAM,KAAO4oB,GAAW5oB,EAAM,GAC1CgwB,EAAOhwB,EAAM,KAAO4oB,GAAW5oB,EAAM,GACrCqtB,EAAO4C,GAAa97B,EAAOgR,WAAY8qB,GAE9B5C,IAAS4C,GAAa5C,GAAQA,EAAM3rB,KAG3CsuB,EAAOC,EAAY,IAAMzmC,EAAM0W,OAGhC,GAAuB,IAAlBmtB,EAAKnxB,YAAoB8zB,GAAQ3C,IAAS9tB,EAAO,CACrDmpB,EAAY7mC,IAAW+mC,EAASqH,EAAWD,EAC3C,YAKI,IAAKE,IAAalwB,GAAST,EAAMM,KAAcN,EAAMM,QAAkBhe,KAAWme,EAAM,KAAO4oB,EACrGoH,EAAOhwB,EAAM,OAKb,OAASqtB,IAAS4C,GAAa5C,GAAQA,EAAM3rB,KAC3CsuB,EAAOC,EAAY,IAAMzmC,EAAM0W,UAEzB6vB,EAAS1C,EAAKppB,SAAShD,gBAAkBnc,EAAyB,IAAlBuoC,EAAKnxB,cAAsB8zB,IAE5EE,KACH7C,EAAMxtB,KAAcwtB,EAAMxtB,QAAkBhe,IAAW+mC,EAASoH,IAG7D3C,IAAS9tB,MASjB,OADAywB,GAAQ/c,KACQF,GAAWid,EAAOjd,GAAU,GAAKid,EAAOjd,GAAS,KAKrE8Z,OAAU,SAAUsD,EAAQ3I,GAK3B,GAAI5U,GACH7B,EAAK8U,EAAKwG,QAAS8D,IAAYtK,EAAK4F,WAAY0E,EAAOlvB,gBACtDglB,EAAOhb,MAAO,uBAAyBklB,EAKzC,OAAKpf,GAAIlR,GACDkR,EAAIyW,GAIPzW,EAAGvpB,OAAS,GAChBorB,GAASud,EAAQA,EAAQ,GAAI3I,GACtB3B,EAAK4F,WAAWtwB,eAAgBg1B,EAAOlvB,eAC7C8kB,EAAa,SAAUG,EAAM5f,GAI5B,IAHA,GAAI8pB,GACHvO,EAAU9Q,EAAImV,EAAMsB,GACpBlgC,EAAIu6B,EAAQr6B,OACLF,KACP8oC,EAAM/7B,EAAQxP,KAAMqhC,EAAMrE,EAAQv6B,IAClC4+B,EAAMkK,KAAW9pB,EAAS8pB,GAAQvO,EAAQv6B,MAG5C,SAAUiY,GACT,MAAOwR,GAAIxR,EAAM,EAAGqT,KAIhB7B,IAITsb,SAECgE,IAAOtK,EAAa,SAAUjV,GAI7B,GAAI2H,MACHtD,KACAkT,EAAUmD,EAAS1a,EAASvc,QAAS2c,GAAO,MAE7C,OAAOmX,GAASxoB,GACfkmB,EAAa,SAAUG,EAAM5f,EAAStB,EAAS0P,GAM9C,IALA,GAAInV,GACH0pB,EAAYZ,EAASnC,EAAM,KAAMxR,MACjCptB,EAAI4+B,EAAK1+B,OAGFF,MACDiY,EAAO0pB,EAAU3hC,MACtB4+B,EAAK5+B,KAAOgf,EAAQhf,GAAKiY,MAI5B,SAAUA,EAAMyF,EAAS0P,GAGxB,MAFA+D,GAAM,GAAKlZ,EACX8oB,EAAS5P,EAAO,KAAM/D,EAAKS,IACnBA,EAAQjV,SAInB6W,IAAOgP,EAAa,SAAUjV,GAC7B,MAAO,UAAUvR,GAChB,MAAO0mB,GAAQnV,EAAUvR,GAAO/X,OAAS,KAI3Cse,SAAYigB,EAAa,SAAU3hB,GAClC,MAAO,UAAU7E,GAChB,OAASA,EAAKuvB,aAAevvB,EAAK+wB,WAAa5E,EAASnsB,IAASlL,QAAS+P,IAAU,KAWtFmsB,KAAQxK,EAAc,SAAUwK,GAM/B,MAJMhE,IAAYnrB,KAAKmvB,GAAQ,KAC9BtK,EAAOhb,MAAO,qBAAuBslB,GAEtCA,EAAOA,EAAKh8B,QAAS+2B,GAAWC,IAAYtqB,cACrC,SAAU1B,GAChB,GAAIixB,EACJ,IACC,GAAMA,EAAW7J,EAChBpnB,EAAK2B,aAAa,aAAe3B,EAAK2B,aAAa,QACnD3B,EAAKgxB,KAGL,OADAC,EAAWA,EAASvvB,iBACAsvB,GAA2C,IAAnCC,EAASn8B,QAASk8B,EAAO,YAE5ChxB,EAAOA,EAAK8E,aAAiC,IAAlB9E,EAAKrD,SAC3C,QAAO,KAKTxS,OAAU,SAAU6V,GACnB,GAAIkxB,GAAOxkC,EAAOmkB,UAAYnkB,EAAOmkB,SAASqgB,IAC9C,OAAOA,IAAQA,EAAKhrB,MAAO,KAAQlG,EAAK/G,IAGzCk4B,KAAQ,SAAUnxB,GACjB,MAAOA,KAASssB,GAGjBpI,MAAS,SAAUlkB,GAClB,MAAOA,KAAS7T,EAASg4B,iBAAmBh4B,EAASilC,UAAYjlC,EAASilC,gBAAkBpxB,EAAK1d,MAAQ0d,EAAKxF,OAASwF,EAAKsf,WAI7H+R,QAAW,SAAUrxB,GACpB,OAAyB,IAAlBA,EAAKyX,UAGbA,SAAY,SAAUzX,GACrB,OAAyB,IAAlBA,EAAKyX,UAGbrS,QAAW,SAAUpF,GAGpB,GAAI0E,GAAW1E,EAAK0E,SAAShD,aAC7B,OAAqB,UAAbgD,KAA0B1E,EAAKoF,SAA0B,WAAbV,KAA2B1E,EAAKsF,UAGrFA,SAAY,SAAUtF,GAOrB,MAJKA,GAAK8E,YACT9E,EAAK8E,WAAWoZ,eAGQ,IAAlBle,EAAKsF,UAIbmK,MAAS,SAAUzP,GAMlB,IAAMA,EAAOA,EAAK0Z,WAAY1Z,EAAMA,EAAOA,EAAK+nB,YAC/C,GAAK/nB,EAAK0E,SAAW,KAAyB,IAAlB1E,EAAKrD,UAAoC,IAAlBqD,EAAKrD,SACvD,OAAO,CAGT,QAAO,GAGR/H,OAAU,SAAUoL,GACnB,OAAQsmB,EAAKwG,QAAL,MAAuB9sB,IAIhCsxB,OAAU,SAAUtxB,GACnB,MAAOytB,IAAQ5rB,KAAM7B,EAAK0E,WAG3BwU,MAAS,SAAUlZ,GAClB,MAAOwtB,IAAQ3rB,KAAM7B,EAAK0E,WAG3B+a,OAAU,SAAUzf,GACnB,GAAIza,GAAOya,EAAK0E,SAAShD,aACzB,OAAgB,UAATnc,GAAkC,WAAdya,EAAK1d,MAA8B,WAATiD,GAGtDsf,KAAQ,SAAU7E,GACjB,GAAIuD,EAGJ,OAAuC,UAAhCvD,EAAK0E,SAAShD,eACN,SAAd1B,EAAK1d,OACmC,OAArCihB,EAAOvD,EAAK2B,aAAa,UAAoB4B,EAAK7B,gBAAkB1B,EAAK1d,OAI9EkxB,MAASwU,EAAuB,WAC/B,OAAS,KAGVtU,KAAQsU,EAAuB,SAAUE,EAAcjgC,GACtD,OAASA,EAAS,KAGnBwrB,GAAMuU,EAAuB,SAAUE,EAAcjgC,EAAQggC,GAC5D,OAASA,EAAW,EAAIA,EAAWhgC,EAASggC,KAG7CsJ,KAAQvJ,EAAuB,SAAUE,EAAcjgC,GAEtD,IADA,GAAIF,GAAI,EACAA,EAAIE,EAAQF,GAAK,EACxBmgC,EAAa//B,KAAMJ,EAEpB,OAAOmgC,KAGRsJ,IAAOxJ,EAAuB,SAAUE,EAAcjgC,GAErD,IADA,GAAIF,GAAI,EACAA,EAAIE,EAAQF,GAAK,EACxBmgC,EAAa//B,KAAMJ,EAEpB,OAAOmgC,KAGRuJ,GAAMzJ,EAAuB,SAAUE,EAAcjgC,EAAQggC,GAE5D,IADA,GAAIlgC,GAAIkgC,EAAW,EAAIA,EAAWhgC,EAASggC,IACjClgC,GAAK,GACdmgC,EAAa//B,KAAMJ,EAEpB,OAAOmgC,KAGRwJ,GAAM1J,EAAuB,SAAUE,EAAcjgC,EAAQggC,GAE5D,IADA,GAAIlgC,GAAIkgC,EAAW,EAAIA,EAAWhgC,EAASggC,IACjClgC,EAAIE,GACbigC,EAAa//B,KAAMJ,EAEpB,OAAOmgC,MAMV,KAAMngC,KAAO4pC,OAAO,EAAMC,UAAU,EAAMC,MAAM,EAAMC,UAAU,EAAMC,OAAO,GAC5EzL,EAAKwG,QAAS/kC,GAzhBf,SAA4BzF,GAC3B,MAAO,UAAU0d,GAEhB,MAAgB,UADLA,EAAK0E,SAAShD,eACE1B,EAAK1d,OAASA,IAshBHyF,EAExC,KAAMA,KAAO8yB,QAAQ,EAAMmX,OAAO,GACjC1L,EAAKwG,QAAS/kC,GAphBf,SAA6BzF,GAC5B,MAAO,UAAU0d,GAChB,GAAIza,GAAOya,EAAK0E,SAAShD,aACzB,QAAiB,UAATnc,GAA6B,WAATA,IAAsBya,EAAK1d,OAASA,IAihBzByF,EAyZzCkkC,GAAUvF,EAAOuF,QAAU,SAAU1a,EAAU0gB,GAC9C,GAAIlqC,GACHkjC,KACAD,KACAzC,EAASmE,EAAenb,EAAW,IAEpC,KAAMgX,EAAS,CAMd,IAJM0J,IACLA,EAAQxK,EAAUlW,IAEnBxpB,EAAIkqC,EAAMhqC,OACFF,KACPwgC,EAASgC,EAAmB0H,EAAMlqC,IAC7BwgC,EAAQjoB,GACZ2qB,EAAY9iC,KAAMogC,GAElByC,EAAgB7iC,KAAMogC,EAKxBA,GAASmE,EAAenb,EAAUwZ,EAA0BC,EAAiBC,IAE9E,MAAO1C,IA6ERjC,EAAKwG,QAAL,IAAsBxG,EAAKwG,QAAL,GAItBxG,EAAK4L,QAAUhG,EAAW97B,UAAYk2B,EAAKwG,QAC3CxG,EAAK4F,WAAa,GAAIA,GAGtB/E,IAGAT,EAAOnjB,KAAOhE,GAAOgE,KACrBhE,GAAOsT,KAAO6T,EACdnnB,GAAO2hB,KAAOwF,EAAO+I,UACrBlwB,GAAO2hB,KAAK,KAAO3hB,GAAO2hB,KAAK4L,QAC/BvtB,GAAOgY,OAASmP,EAAOmF,WACvBtsB,GAAOsF,KAAO6hB,EAAOyF,QACrB5sB,GAAO+e,SAAWoI,EAAO0F,MACzB7sB,GAAOgH,SAAWmgB,EAAOngB,UAGrB7Z,EACJ,IAAIylC,IAAS,SACZC,GAAe,iCACfzvB,GAAW,iBACX0vB,GAAgB9yB,GAAO2hB,KAAKvhB,MAAMshB,aAElCqR,IACC38B,UAAU,EACV+U,UAAU,EACVtf,MAAM,EACNkgB,MAAM,EAGR/L,IAAOiS,GAAGnW,QACTwX,KAAM,SAAUtB,GACf,GAAIxpB,GAAGqY,EAAKlV,CAEZ,IAAyB,gBAAbqmB,GAEX,MADArmB,GAAO9H,KACAA,KAAK+vB,UAAW5T,GAAQgS,GAAW3O,OAAO,WAChD,IAAM7a,EAAI,EAAGA,EAAImD,EAAKjD,OAAQF,IAC7B,GAAKwX,GAAOgH,SAAUrb,EAAMnD,GAAK3E,MAChC,OAAO,IAOX,KADAgd,KACMrY,EAAI,EAAGA,EAAI3E,KAAK6E,OAAQF,IAC7BwX,GAAOsT,KAAMtB,EAAUnuB,KAAM2E,GAAKqY,EAMnC,OAFAA,GAAMhd,KAAK+vB,UAAW5T,GAAOgY,OAAQnX,IACrCA,EAAImR,UAAanuB,KAAKmuB,SAAWnuB,KAAKmuB,SAAW,IAAM,IAAOA,EACvDnR,GAGRoX,IAAK,SAAUrtB,GACd,GAAIpC,GACHwqC,EAAUhzB,GAAQpV,EAAQ/G,MAC1BuwB,EAAM4e,EAAQtqC,MAEf,OAAO7E,MAAKwf,OAAO,WAClB,IAAM7a,EAAI,EAAGA,EAAI4rB,EAAK5rB,IACrB,GAAKwX,GAAOgH,SAAUnjB,KAAMmvC,EAAQxqC,IACnC,OAAO,KAMX+oC,IAAK,SAAUvf,GACd,MAAOnuB,MAAK+vB,UAAW/Q,EAAOhf,KAAMmuB,GAAU,KAG/C3O,OAAQ,SAAU2O,GACjB,MAAOnuB,MAAK+vB,UAAW/Q,EAAOhf,KAAMmuB,GAAU,KAG/CihB,GAAI,SAAUjhB,GACb,QAASA,IACY,gBAAbA,GAGN8gB,GAAcxwB,KAAM0P,GACnBhS,GAAQgS,EAAUnuB,KAAKqiB,SAAUkB,MAAOvjB,KAAK,KAAQ,EACrDmc,GAAOqD,OAAQ2O,EAAUnuB,MAAO6E,OAAS,EAC1C7E,KAAKwf,OAAQ2O,GAAWtpB,OAAS,IAGpCwqC,QAAS,SAAUhD,EAAWhqB,GAS7B,IARA,GAAIvD,GACHna,EAAI,EACJC,EAAI5E,KAAK6E,OACTmY,KACAsyB,EAAML,GAAcxwB,KAAM4tB,IAAoC,gBAAdA,GAC/ClwB,GAAQkwB,EAAWhqB,GAAWriB,KAAKqiB,SACnC,EAEM1d,EAAIC,EAAGD,IAGd,IAFAma,EAAM9e,KAAK2E,GAEHma,GAAOA,EAAImB,eAAiBnB,IAAQuD,GAA4B,KAAjBvD,EAAIvF,UAAkB,CAC5E,GAAK+1B,EAAMA,EAAI/rB,MAAMzE,IAAQ,EAAI3C,GAAOsT,KAAK0b,gBAAgBrsB,EAAKutB,GAAa,CAC9ErvB,EAAIjY,KAAM+Z,EACV,OAEDA,EAAMA,EAAI4C,WAIZ,MAAO1hB,MAAK+vB,UAAW/S,EAAInY,OAAS,EAAIsX,GAAOgY,OAAQnX,GAAQA,IAKhEuG,MAAO,SAAU3G,GAGhB,MAAMA,GAKe,gBAATA,GACJT,GAAOsD,QAASzf,KAAK,GAAImc,GAAQS,IAIlCT,GAAOsD,QAEb7C,EAAK4S,OAAS5S,EAAK,GAAKA,EAAM5c,MAXrBA,KAAK,IAAMA,KAAK,GAAG0hB,WAAe1hB,KAAKowB,QAAQmf,UAAU1qC,QAAU,GAc9EnC,IAAK,SAAUyrB,EAAU9L,GACxB,GAAIrc,GAA0B,gBAAbmoB,GACfhS,GAAQgS,EAAU9L,GAClBlG,GAAOyT,UAAWzB,GAAYA,EAAS5U,UAAa4U,GAAaA,GAClEc,EAAM9S,GAAOtY,MAAO7D,KAAKkH,MAAOlB,EAEjC,OAAOhG,MAAK+vB,UAAW5T,GAAOgY,OAAOlF,KAGtCugB,QAAS,SAAUrhB,GAClB,MAAOnuB,MAAK0C,IAAiB,MAAZyrB,EAChBnuB,KAAKgwB,WAAahwB,KAAKgwB,WAAWxQ,OAAO2O,OAK5ChS,GAAOiS,GAAGqhB,QAAUtzB,GAAOiS,GAAGohB,QAU9BrzB,GAAOG,MACN9K,OAAQ,SAAUoL,GACjB,GAAIpL,GAASoL,EAAK8E,UAClB,OAAOlQ,IAA8B,KAApBA,EAAO+H,SAAkB/H,EAAS,MAEpDk+B,QAAS,SAAU9yB,GAClB,MAAOT,IAAO4C,IAAKnC,EAAM,eAE1B+yB,aAAc,SAAU/yB,EAAMjY,EAAGirC,GAChC,MAAOzzB,IAAO4C,IAAKnC,EAAM,aAAcgzB,IAExC5nC,KAAM,SAAU4U,GACf,MAAOiC,GAASjC,EAAM,gBAEvBsL,KAAM,SAAUtL,GACf,MAAOiC,GAASjC,EAAM,oBAEvBizB,QAAS,SAAUjzB,GAClB,MAAOT,IAAO4C,IAAKnC,EAAM,gBAE1B2yB,QAAS,SAAU3yB,GAClB,MAAOT,IAAO4C,IAAKnC,EAAM,oBAE1BkzB,UAAW,SAAUlzB,EAAMjY,EAAGirC,GAC7B,MAAOzzB,IAAO4C,IAAKnC,EAAM,cAAegzB,IAEzCG,UAAW,SAAUnzB,EAAMjY,EAAGirC,GAC7B,MAAOzzB,IAAO4C,IAAKnC,EAAM,kBAAmBgzB,IAE7CI,SAAU,SAAUpzB,GACnB,MAAOT,IAAO0C,SAAWjC,EAAK8E,gBAAmB4U,WAAY1Z,IAE9DrK,SAAU,SAAUqK,GACnB,MAAOT,IAAO0C,QAASjC,EAAK0Z,aAE7BhP,SAAU,SAAU1K,GACnB,MAAOT,IAAOmF,SAAU1E,EAAM,UAC7BA,EAAKwI,iBAAmBxI,EAAKuI,cAAcpc,SAC3CoT,GAAOtY,SAAW+Y,EAAK4F,cAEvB,SAAUrgB,EAAMisB,GAClBjS,GAAOiS,GAAIjsB,GAAS,SAAUytC,EAAOzhB,GACpC,GAAInR,GAAMb,GAAO9P,IAAKrM,KAAMouB,EAAIwhB,EAgBhC,OAdMb,IAAOtwB,KAAMtc,KAClBgsB,EAAWyhB,GAGPzhB,GAAgC,gBAAbA,KACvBnR,EAAMb,GAAOqD,OAAQ2O,EAAUnR,IAGhCA,EAAMhd,KAAK6E,OAAS,IAAMqqC,GAAkB/sC,GAASga,GAAOgY,OAAQnX,GAAQA,EAEvEhd,KAAK6E,OAAS,GAAKmqC,GAAavwB,KAAMtc,KAC1C6a,EAAMA,EAAIizB,WAGJjwC,KAAK+vB,UAAW/S,MAIzBb,GAAOlE,QACNuH,OAAQ,SAAUse,EAAMnd,EAAO+sB,GAK9B,MAJKA,KACJ5P,EAAO,QAAUA,EAAO,KAGD,IAAjBnd,EAAM9b,OACZsX,GAAOsT,KAAK0b,gBAAgBxqB,EAAM,GAAImd,IAAUnd,EAAM,OACtDxE,GAAOsT,KAAK9L,QAAQma,EAAMnd,IAG5B5B,IAAK,SAAUnC,EAAMmC,EAAK6wB,GAIzB,IAHA,GAAI1Q,MACHpgB,EAAMlC,EAAMmC,GAELD,GAAwB,IAAjBA,EAAIvF,WAAmBq2B,IAAUloC,GAA8B,IAAjBoX,EAAIvF,WAAmB4C,GAAQ2C,GAAMswB,GAAIQ,KAC/E,IAAjB9wB,EAAIvF,UACR2lB,EAAQn6B,KAAM+Z,GAEfA,EAAMA,EAAIC,EAEX,OAAOmgB,IAGRrgB,QAAS,SAAUhe,EAAG+b,GAGrB,IAFA,GAAIszB,MAEIrvC,EAAGA,EAAIA,EAAE8jC,YACI,IAAf9jC,EAAE0Y,UAAkB1Y,IAAM+b,GAC9BszB,EAAEnrC,KAAMlE,EAIV,OAAOqvC,KAoDT,IAAItwB,IAAY,6JAEfuwB,GAAgB,6BAChBC,GAAe,GAAIhS,QAAO,OAASxe,GAAY,WAAY,KAC3DywB,GAAqB,OACrBC,GAAY,0EACZC,GAAW,YACXC,GAAS,UACTC,GAAQ,YACRC,GAAe,0BACf5uB,GAA8B,wBAE9B6uB,GAAW,oCACXC,GAAc,4BACdrwB,GAAoB,cACpBswB,GAAe,2CAGfC,IACCjW,QAAU,EAAG,+BAAgC,aAC7CkW,QAAU,EAAG,aAAc,eAC3B9iC,MAAQ,EAAG,QAAS,UACpB+iC,OAAS,EAAG,WAAY,aACxBC,OAAS,EAAG,UAAW,YACvBC,IAAM,EAAG,iBAAkB,oBAC3BC,KAAO,EAAG,mCAAoC,uBAC9CC,IAAM,EAAG,qBAAsB,yBAI/BpS,SAAU7iB,GAAO+B,QAAQsY,eAAkB,EAAG,GAAI,KAAS,EAAG,SAAU,WAEzE6a,GAAe3xB,EAAoB3W,GACnCuoC,GAAcD,GAAaxmC,YAAa9B,EAASwC,cAAc,OAEhEulC,IAAQS,SAAWT,GAAQjW,OAC3BiW,GAAQva,MAAQua,GAAQU,MAAQV,GAAQW,SAAWX,GAAQY,QAAUZ,GAAQG,MAC7EH,GAAQa,GAAKb,GAAQM,GAErBj1B,GAAOiS,GAAGnW,QACTwJ,KAAM,SAAU/iB,GACf,MAAOyd,IAAO2W,OAAQ9yB,KAAM,SAAUtB,GACrC,MAAOA,KAAUgJ,EAChByU,GAAOsF,KAAMzhB,MACbA,KAAKqsB,QAAQxhB,aAAe7K,KAAK,IAAMA,KAAK,GAAGigB,eAAiBlX,GAAW6oC,eAAgBlzC,KAC1F,KAAMA,EAAOyxB,UAAUtrB,SAG3BgtC,QAAS,SAAUC,GAClB,GAAK31B,GAAOiD,WAAY0yB,GACvB,MAAO9xC,MAAKsc,KAAK,SAAS3X,GACzBwX,GAAOnc,MAAM6xC,QAASC,EAAK5vC,KAAKlC,KAAM2E,KAIxC,IAAK3E,KAAK,GAAK,CAEd,GAAIuV,GAAO4G,GAAQ21B,EAAM9xC,KAAK,GAAGigB,eAAgBoQ,GAAG,GAAGzd,OAAM,EAExD5S,MAAK,GAAG0hB,YACZnM,EAAKs1B,aAAc7qC,KAAK,IAGzBuV,EAAKlJ,IAAI,WAGR,IAFA,GAAIuQ,GAAO5c,KAEH4c,EAAK0Z,YAA2C,IAA7B1Z,EAAK0Z,WAAW/c,UAC1CqD,EAAOA,EAAK0Z,UAGb,OAAO1Z,KACL/R,YAAa7K,MAGjB,MAAOA,OAGR+xC,UAAW,SAAUD,GACpB,MAAK31B,IAAOiD,WAAY0yB,GAChB9xC,KAAKsc,KAAK,SAAS3X,GACzBwX,GAAOnc,MAAM+xC,UAAWD,EAAK5vC,KAAKlC,KAAM2E,MAInC3E,KAAKsc,KAAK,WAChB,GAAIxU,GAAOqU,GAAQnc,MAClBsnB,EAAWxf,EAAKwf,UAEZA,GAASziB,OACbyiB,EAASuqB,QAASC,GAGlBhqC,EAAK+C,YAAainC,MAKrBv8B,KAAM,SAAUu8B,GACf,GAAI1yB,GAAajD,GAAOiD,WAAY0yB,EAEpC,OAAO9xC,MAAKsc,KAAK,SAAS3X,GACzBwX,GAAQnc,MAAO6xC,QAASzyB,EAAa0yB,EAAK5vC,KAAKlC,KAAM2E,GAAKmtC,MAI5DE,OAAQ,WACP,MAAOhyC,MAAKwR,SAAS8K,KAAK,WACnBH,GAAOmF,SAAUthB,KAAM,SAC5Bmc,GAAQnc,MAAOiyC,YAAajyC,KAAKwiB,cAEhCoI,OAGJsnB,OAAQ,WACP,MAAOlyC,MAAKmyC,SAAShiB,WAAW,EAAM,SAAUvT,GACxB,IAAlB5c,KAAKuZ,UAAoC,KAAlBvZ,KAAKuZ,UAAqC,IAAlBvZ,KAAKuZ,UACxDvZ,KAAK6K,YAAa+R,MAKrBw1B,QAAS,WACR,MAAOpyC,MAAKmyC,SAAShiB,WAAW,EAAM,SAAUvT,GACxB,IAAlB5c,KAAKuZ,UAAoC,KAAlBvZ,KAAKuZ,UAAqC,IAAlBvZ,KAAKuZ,UACxDvZ,KAAK6qC,aAAcjuB,EAAM5c,KAAKs2B,eAKjC+b,OAAQ,WACP,MAAOryC,MAAKmyC,SAAUhiB,WAAW,EAAO,SAAUvT,GAC5C5c,KAAK0hB,YACT1hB,KAAK0hB,WAAWmpB,aAAcjuB,EAAM5c,SAKvCsyC,MAAO,WACN,MAAOtyC,MAAKmyC,SAAUhiB,WAAW,EAAO,SAAUvT,GAC5C5c,KAAK0hB,YACT1hB,KAAK0hB,WAAWmpB,aAAcjuB,EAAM5c,KAAK2kC,gBAM5Cnf,OAAQ,SAAU2I,EAAUokB,GAI3B,IAHA,GAAI31B,GACHjY,EAAI,EAEuB,OAAnBiY,EAAO5c,KAAK2E,IAAaA,MAC3BwpB,GAAYhS,GAAOqD,OAAQ2O,GAAYvR,IAAS/X,OAAS,KACxD0tC,GAA8B,IAAlB31B,EAAKrD,UACtB4C,GAAO8B,UAAWmE,EAAQxF,IAGtBA,EAAK8E,aACJ6wB,GAAYp2B,GAAOgH,SAAUvG,EAAKqD,cAAerD,IACrD8D,EAAe0B,EAAQxF,EAAM,WAE9BA,EAAK8E,WAAW8W,YAAa5b,IAKhC,OAAO5c,OAGRqsB,MAAO,WAIN,IAHA,GAAIzP,GACHjY,EAAI,EAEuB,OAAnBiY,EAAO5c,KAAK2E,IAAaA,IAAM,CAOvC,IALuB,IAAlBiY,EAAKrD,UACT4C,GAAO8B,UAAWmE,EAAQxF,GAAM,IAIzBA,EAAK0Z,YACZ1Z,EAAK4b,YAAa5b,EAAK0Z,WAKnB1Z,GAAKlD,SAAWyC,GAAOmF,SAAU1E,EAAM,YAC3CA,EAAKlD,QAAQ7U,OAAS,GAIxB,MAAO7E,OAGR4S,MAAO,SAAU4/B,EAAeC,GAI/B,MAHAD,GAAiC,MAAjBA,GAAgCA,EAChDC,EAAyC,MAArBA,EAA4BD,EAAgBC,EAEzDzyC,KAAKqM,IAAK,WAChB,MAAO8P,IAAOvJ,MAAO5S,KAAMwyC,EAAeC,MAI5CX,KAAM,SAAUpzC,GACf,MAAOyd,IAAO2W,OAAQ9yB,KAAM,SAAUtB,GACrC,GAAIke,GAAO5c,KAAK,OACf2E,EAAI,EACJC,EAAI5E,KAAK6E,MAEV,IAAKnG,IAAUgJ,EACd,MAAyB,KAAlBkV,EAAKrD,SACXqD,EAAKlM,UAAUkB,QAASu+B,GAAe,IACvCzoC,CAIF,IAAsB,gBAAVhJ,KAAuBgyC,GAAajyB,KAAM/f,KACnDyd,GAAO+B,QAAQsY,gBAAkB4Z,GAAa3xB,KAAM/f,MACpDyd,GAAO+B,QAAQmY,oBAAsBga,GAAmB5xB,KAAM/f,MAC/DoyC,IAAWP,GAAS/vB,KAAM9hB,KAAY,GAAI,KAAM,GAAG4f,eAAkB,CAEtE5f,EAAQA,EAAMkT,QAAS0+B,GAAW,YAElC,KACC,KAAO3rC,EAAIC,EAAGD,IAEbiY,EAAO5c,KAAK2E,OACW,IAAlBiY,EAAKrD,WACT4C,GAAO8B,UAAWmE,EAAQxF,GAAM,IAChCA,EAAKlM,UAAYhS,EAInBke,GAAO,EAGN,MAAM5Y,KAGJ4Y,GACJ5c,KAAKqsB,QAAQxhB,YAAanM,IAEzB,KAAMA,EAAOyxB,UAAUtrB,SAG3BotC,YAAa,SAAUvzC,GAStB,MARayd,IAAOiD,WAAY1gB,IAIC,gBAAVA,KACtBA,EAAQyd,GAAQzd,GAAQgvC,IAAK1tC,MAAOulB,UAG9BvlB,KAAKmyC,UAAYzzC,IAAS,EAAM,SAAUke,GAChD,GAAI5U,GAAOhI,KAAK2kC,YACfnzB,EAASxR,KAAK0hB,YAEVlQ,GAA4B,IAAlBxR,KAAKuZ,UAAoC,KAAlBvZ,KAAKuZ,YAE1C4C,GAAQnc,MAAOwlB,SAEVxd,EACJA,EAAK0Z,WAAWmpB,aAAcjuB,EAAM5U,GAEpCwJ,EAAO3G,YAAa+R,OAMxB2I,OAAQ,SAAU4I,GACjB,MAAOnuB,MAAKwlB,OAAQ2I,GAAU,IAG/BgkB,SAAU,SAAUliB,EAAMyiB,EAAO5sC,GAGhCmqB,EAAOrC,GAAYsC,SAAWD,EAE9B,IAAI8F,GAAU3F,EAAOqB,EAASkhB,EAAYjI,EAAM7lB,EAC/ClgB,EAAI,EACJC,EAAI5E,KAAK6E,OACTmB,EAAMhG,KACN4yC,EAAWhuC,EAAI,EACflG,EAAQuxB,EAAK,GACb7Q,EAAajD,GAAOiD,WAAY1gB,EAGjC,IAAK0gB,KAAiBxa,GAAK,GAAsB,gBAAVlG,IAAsByd,GAAO+B,QAAQqZ,aAAeoZ,GAASlyB,KAAM/f,GACzG,MAAOsB,MAAKsc,KAAK,SAAUiH,GAC1B,GAAIzb,GAAO9B,EAAIqqB,GAAI9M,EACdnE,KACJ6Q,EAAK,GAAKvxB,EAAMwD,KAAMlC,KAAMujB,EAAOmvB,EAAQ5qC,EAAKgqC,OAASpqC,IAE1DI,EAAKqqC,SAAUliB,EAAMyiB,EAAO5sC,IAI9B,IAAKlB,IACJmxB,EAAW5Z,GAAOuV,cAAezB,EAAMjwB,KAAM,GAAIigB,eAAe,EAAOjgB,MACvEowB,EAAQ2F,EAASO,WAEmB,IAA/BP,EAASvT,WAAW3d,SACxBkxB,EAAW3F,GAGPA,GAAQ,CAOZ,IANAsiB,EAAQA,GAASv2B,GAAOmF,SAAU8O,EAAO,MACzCqB,EAAUtV,GAAO9P,IAAK+V,EAAQ2T,EAAU,UAAY7V,GACpDyyB,EAAalhB,EAAQ5sB,OAIbF,EAAIC,EAAGD,IACd+lC,EAAO3U,EAEFpxB,IAAMiuC,IACVlI,EAAOvuB,GAAOvJ,MAAO83B,GAAM,GAAM,GAG5BiI,GACJx2B,GAAOtY,MAAO4tB,EAASrP,EAAQsoB,EAAM,YAIvC5kC,EAAS5D,KACRwwC,GAASv2B,GAAOmF,SAAUthB,KAAK2E,GAAI,SAClCob,EAAc/f,KAAK2E,GAAI,SACvB3E,KAAK2E,GACN+lC,EACA/lC,EAIF,IAAKguC,EAOJ,IANA9tB,EAAM4M,EAASA,EAAQ5sB,OAAS,GAAIob,cAGpC9D,GAAO9P,IAAKolB,EAASnR,GAGf3b,EAAI,EAAGA,EAAIguC,EAAYhuC,IAC5B+lC,EAAOjZ,EAAS9sB,GACXisC,GAAYnyB,KAAMisB,EAAKxrC,MAAQ,MAClCid,GAAO0E,MAAO6pB,EAAM,eAAkBvuB,GAAOgH,SAAU0B,EAAK6lB,KAExDA,EAAK/zB,IAETwF,GAAO02B,MACNC,IAAKpI,EAAK/zB,IACVzX,KAAM,MACNgnB,SAAU,SACVgM,OAAO,EACP2K,QAAQ,EACRkW,QAAU,IAGX52B,GAAOiW,YAAcsY,EAAKjpB,MAAQipB,EAAKyB,aAAezB,EAAKh6B,WAAa,IAAKkB,QAASi/B,GAAc,KAOxG9a,GAAW3F,EAAQ,KAIrB,MAAOpwB,SAgITmc,GAAOG,MACN2I,SAAU,SACV+tB,UAAW,UACXnI,aAAc,SACdoI,YAAa,QACbC,WAAY,eACV,SAAU/wC,EAAM89B,GAClB9jB,GAAOiS,GAAIjsB,GAAS,SAAUgsB,GAO7B,IANA,GAAIxN,GACHhc,EAAI,EACJqY,KACAm2B,EAASh3B,GAAQgS,GACjBmC,EAAO6iB,EAAOtuC,OAAS,EAEhBF,GAAK2rB,EAAM3rB,IAClBgc,EAAQhc,IAAM2rB,EAAOtwB,KAAOA,KAAK4S,OAAM,GACvCuJ,GAAQg3B,EAAOxuC,IAAMs7B,GAAYtf,GAGjCkN,GAAUqC,MAAOlT,EAAK2D,EAAMzZ,MAG7B,OAAOlH,MAAK+vB,UAAW/S,MAiCzBb,GAAOlE,QACNrF,MAAO,SAAUgK,EAAM41B,EAAeC,GACrC,GAAIW,GAAcC,EAAa3I,EAAM/lC,EAAGiO,EACvC0gC,EAASn3B,GAAOgH,SAAUvG,EAAKqD,cAAerD,EAW/C,IATKT,GAAO+B,QAAQ0D,YAAczF,GAAO+e,SAASte,KAAUwzB,GAAa3xB,KAAM,IAAM7B,EAAK0E,SAAW,KACpG1O,EAAQgK,EAAKka,WAAW,IAIxBwa,GAAY5gC,UAAYkM,EAAK+E,UAC7B2vB,GAAY9Y,YAAa5lB,EAAQ0+B,GAAYhb,eAGvCna,GAAO+B,QAAQqD,cAAiBpF,GAAO+B,QAAQiZ,gBACjC,IAAlBva,EAAKrD,UAAoC,KAAlBqD,EAAKrD,UAAqB4C,GAAO+e,SAASte,IAOnE,IAJAw2B,EAAehxB,EAAQxP,GACvBygC,EAAcjxB,EAAQxF,GAGhBjY,EAAI,EAA8B,OAA1B+lC,EAAO2I,EAAY1uC,MAAeA,EAE1CyuC,EAAazuC,IACjB0c,EAAoBqpB,EAAM0I,EAAazuC,GAM1C,IAAK6tC,EACJ,GAAKC,EAIJ,IAHAY,EAAcA,GAAejxB,EAAQxF,GACrCw2B,EAAeA,GAAgBhxB,EAAQxP,GAEjCjO,EAAI,EAA8B,OAA1B+lC,EAAO2I,EAAY1uC,IAAaA,IAC7Cmc,EAAgB4pB,EAAM0I,EAAazuC,QAGpCmc,GAAgBlE,EAAMhK,EAaxB,OARAwgC,GAAehxB,EAAQxP,EAAO,UACzBwgC,EAAavuC,OAAS,GAC1B6b,EAAe0yB,GAAeE,GAAUlxB,EAAQxF,EAAM,WAGvDw2B,EAAeC,EAAc3I,EAAO,KAG7B93B,GAGR8e,cAAe,SAAU/Q,EAAO0B,EAASoP,EAAS8hB,GAUjD,IATA,GAAIpwB,GAAUvG,EAAM3F,EAAKgR,EAAK1S,EAAMghB,EAAO/F,EAC1C5rB,EAAI+b,EAAM9b,OAGV2uC,EAAO9zB,EAAoB2C,GAE3BoxB,KACA9uC,EAAI,EAEGA,EAAIC,EAAGD,IAGd,IAFAiY,EAAO+D,EAAOhc,KAEQ,IAATiY,EAGZ,GAA6B,WAAxBT,GAAOjd,KAAM0d,GACjBT,GAAOtY,MAAO4vC,EAAO72B,EAAKrD,UAAaqD,GAASA,OAG1C,IAAM6zB,GAAMhyB,KAAM7B,GAIlB,CAWN,IAVAqL,EAAMA,GAAOurB,EAAK3oC,YAAawX,EAAQ9W,cAAc,QAGrD0L,GAAQs5B,GAAS/vB,KAAM5D,KAAW,GAAI,KAAM,GAAG0B,cAC/C/I,EAAOu7B,GAAS75B,IAAS65B,GAAQ9R,SAEjC/W,EAAIvX,UAAY6E,EAAK,GAAKqH,EAAKhL,QAAS0+B,GAAW,aAAgB/6B,EAAK,GAGxEib,EAAIjb,EAAK,GACDib,KACPvI,EAAMA,EAAIuP,SASX,KALMrb,GAAO+B,QAAQmY,mBAAqBga,GAAmB5xB,KAAM7B,IAClE62B,EAAM1uC,KAAMsd,EAAQuvB,eAAgBvB,GAAmB7vB,KAAM5D,GAAO,MAI/DT,GAAO+B,QAAQqY,MAYpB,IATA3Z,EAAe,UAAR3F,GAAoBu5B,GAAO/xB,KAAM7B,GAI3B,YAAZrH,EAAK,IAAqBi7B,GAAO/xB,KAAM7B,GAEtC,EADAqL,EAJDA,EAAIqO,WAOL9F,EAAI5T,GAAQA,EAAK4F,WAAW3d,OACpB2rB,KACFrU,GAAOmF,SAAWiV,EAAQ3Z,EAAK4F,WAAWgO,GAAK,WAAc+F,EAAM/T,WAAW3d,QAClF+X,EAAK4b,YAAajC,EAWrB,KANApa,GAAOtY,MAAO4vC,EAAOxrB,EAAIzF,YAGzByF,EAAIkkB,YAAc,GAGVlkB,EAAIqO,YACXrO,EAAIuQ,YAAavQ,EAAIqO,WAItBrO,GAAMurB,EAAKhc,cAtDXic,GAAM1uC,KAAMsd,EAAQuvB,eAAgBh1B,GAuEvC,KAXKqL,GACJurB,EAAKhb,YAAavQ,GAKb9L,GAAO+B,QAAQoZ,eACpBnb,GAAOkD,KAAM+C,EAAQqxB,EAAO,SAAWhxB,GAGxC9d,EAAI,EACKiY,EAAO62B,EAAO9uC,MAItB,KAAK4uC,IAAoD,IAAvCp3B,GAAOsD,QAAS7C,EAAM22B,MAIxCpwB,EAAWhH,GAAOgH,SAAUvG,EAAKqD,cAAerD,GAGhDqL,EAAM7F,EAAQoxB,EAAK3oC,YAAa+R,GAAQ,UAGnCuG,GACJzC,EAAeuH,GAIXwJ,GAEJ,IADAjB,EAAI,EACK5T,EAAOqL,EAAKuI,MACfogB,GAAYnyB,KAAM7B,EAAK1d,MAAQ,KACnCuyB,EAAQ1sB,KAAM6X,EAQlB,OAFAqL,GAAM,KAECurB,GAGRv1B,UAAW,SAAU0C,EAAsB7D,GAQ1C,IAPA,GAAIxP,GAAMuI,EAAI+G,EAAM1d,EACnByF,EAAI,EACJsY,EAAcd,GAAOe,QACrBG,EAAQlB,GAAOkB,MACfc,EAAgBhC,GAAO+B,QAAQC,cAC/Bif,EAAUjhB,GAAO3V,MAAM42B,QAEK,OAApBxgB,EAAO+D,EAAMhc,IAAaA,IAElC,IAAKmY,GAAcX,GAAOW,WAAYF,MAErC/G,EAAK+G,EAAMK,GACX3P,EAAOuI,GAAMwH,EAAOxH,IAER,CACX,GAAKvI,EAAK6T,OACT,IAAMjiB,IAAQoO,GAAK6T,OACbic,EAASl+B,GACbid,GAAO3V,MAAMgf,OAAQ5I,EAAM1d,GAI3Bid,GAAOqF,YAAa5E,EAAM1d,EAAMoO,EAAK8T,OAMnC/D,GAAOxH,WAEJwH,GAAOxH,GAKTsI,QACGvB,GAAMK,OAE8B,KAAzBL,EAAK6D,gBACvB7D,EAAK6D,gBAAiBxD,GAGtBL,EAAMK,GAAgB,KAGvBK,GAAgBvY,KAAM8Q,OAO5B,IAAI4O,IAAQF,GAAWS,GACtB0uB,GAAS,kBACTC,GAAW,wBACXC,GAAY,4BAGZC,GAAe,4BACfC,GAAU,UACVlwB,GAAY,GAAIwa,QAAQ,KAAO/P,GAAY,SAAU,KACrD3J,GAAY,GAAI0Z,QAAQ,KAAO/P,GAAY,kBAAmB,KAC9D0lB,GAAU,GAAI3V,QAAQ,YAAc/P,GAAY,IAAK,KACrDvJ,IAAgBkvB,KAAM,SAEtBC,IAAY/tC,SAAU,WAAYguC,WAAY,SAAUx9B,QAAS,SACjEy9B,IACCC,cAAe,EACfC,WAAY,KAGbnwB,IAAc,MAAO,QAAS,SAAU,QACxClB,IAAgB,SAAU,IAAK,MAAO,KA6EvC7G,IAAOiS,GAAGnW,QACTiL,IAAK,SAAU/gB,EAAMzD,GACpB,MAAOyd,IAAO2W,OAAQ9yB,KAAM,SAAU4c,EAAMza,EAAMzD,GACjD,GAAIslB,GAAQuM,EACXlkB,KACA1H,EAAI,CAEL,IAAKwX,GAAO/C,QAASjX,GAAS,CAI7B,IAHA6hB,EAASO,GAAW3H,GACpB2T,EAAMpuB,EAAK0C,OAEHF,EAAI4rB,EAAK5rB,IAChB0H,EAAKlK,EAAMwC,IAAQwX,GAAO+G,IAAKtG,EAAMza,EAAMwC,IAAK,EAAOqf,EAGxD,OAAO3X,GAGR,MAAO3N,KAAUgJ,EAChByU,GAAOxR,MAAOiS,EAAMza,EAAMzD,GAC1Byd,GAAO+G,IAAKtG,EAAMza,IACjBA,EAAMzD,EAAOyxB,UAAUtrB,OAAS,IAEpCwe,KAAM,WACL,MAAOD,GAAUpjB,MAAM,IAExB8sB,KAAM,WACL,MAAO1J,GAAUpjB,OAElB8rB,OAAQ,SAAUzD,GACjB,GAAIisB,GAAwB,iBAAVjsB,EAElB,OAAOroB,MAAKsc,KAAK,YACXg4B,EAAOjsB,EAAQpF,EAAUjjB,OAC7Bmc,GAAQnc,MAAOqjB,OAEflH,GAAQnc,MAAO8sB,YAMnB3Q,GAAOlE,QAGNyT,UACCrnB,SACC6C,IAAK,SAAU0V,EAAM23B,GACpB,GAAKA,EAAW,CAEf,GAAIv3B,GAAMyH,GAAQ7H,EAAM,UACxB,OAAe,KAARI,EAAa,IAAMA,MAO9Bw3B,WACCC,aAAe,EACfC,aAAe,EACfL,YAAc,EACdM,YAAc,EACdtwC,SAAW,EACXuwC,SAAW,EACXC,QAAU,EACVC,QAAU,EACVnoB,MAAQ,GAKTooB,UAECC,MAAS74B,GAAO+B,QAAQwY,SAAW,WAAa,cAIjD/rB,MAAO,SAAUiS,EAAMza,EAAMzD,EAAOolB,GAEnC,GAAMlH,GAA0B,IAAlBA,EAAKrD,UAAoC,IAAlBqD,EAAKrD,UAAmBqD,EAAKjS,MAAlE,CAKA,GAAIqS,GAAK9d,EAAMusB,EACd1I,EAAW5G,GAAOwB,UAAWxb,GAC7BwI,EAAQiS,EAAKjS,KASd,IAPAxI,EAAOga,GAAO44B,SAAUhyB,KAAgB5G,GAAO44B,SAAUhyB,GAAaL,EAAgB/X,EAAOoY,IAI7F0I,EAAQtP,GAAOuP,SAAUvpB,IAAUga,GAAOuP,SAAU3I,GAG/CrkB,IAAUgJ,EAsCd,MAAK+jB,IAAS,OAASA,KAAUzO,EAAMyO,EAAMvkB,IAAK0V,GAAM,EAAOkH,MAAapc,EACpEsV,EAIDrS,EAAOxI,EAhCd,MAVAjD,MAAA,KAAcR,EAAd,YAAAyZ,IAAczZ,GAGA,WAATQ,IAAsB8d,EAAM+2B,GAAQvzB,KAAM9hB,MAC9CA,GAAUse,EAAI,GAAK,GAAMA,EAAI,GAAK4H,WAAYzI,GAAO+G,IAAKtG,EAAMza,IAEhEjD,EAAO,UAIM,MAATR,GAA0B,WAATQ,GAAqBiyB,MAAOzyB,KAKpC,WAATQ,GAAsBid,GAAOq4B,UAAWzxB,KAC5CrkB,GAAS,MAKJyd,GAAO+B,QAAQ4Z,iBAA6B,KAAVp5B,GAA+C,IAA/ByD,EAAKuP,QAAQ,gBACpE/G,EAAOxI,GAAS,WAIXspB,GAAW,OAASA,KAAW/sB,EAAQ+sB,EAAMzlB,IAAK4W,EAAMle,EAAOolB,MAAapc,IAIjF,IACCiD,EAAOxI,GAASzD,EACf,MAAMsF,OAcXkf,IAAK,SAAUtG,EAAMza,EAAM2hB,EAAOE,GACjC,GAAIC,GAAK6L,EAAKrE,EACb1I,EAAW5G,GAAOwB,UAAWxb,EAyB9B,OAtBAA,GAAOga,GAAO44B,SAAUhyB,KAAgB5G,GAAO44B,SAAUhyB,GAAaL,EAAgB9F,EAAKjS,MAAOoY,IAIlG0I,EAAQtP,GAAOuP,SAAUvpB,IAAUga,GAAOuP,SAAU3I,GAG/C0I,GAAS,OAASA,KACtBxH,EAAMwH,EAAMvkB,IAAK0V,GAAM,EAAMkH,IAIzBG,IAAQvc,IACZuc,EAAMQ,GAAQ7H,EAAMza,EAAM6hB,IAId,WAARC,GAAoB9hB,IAAQgyC,MAChClwB,EAAMkwB,GAAoBhyC,IAItB2hB,GACJgM,EAAMlL,WAAYX,IACD,IAAVH,GAAkB3H,GAAO+U,UAAWpB,GAAQA,GAAO,EAAI7L,GAExDA,GAIRgxB,KAAM,SAAUr4B,EAAMlD,EAAS5T,EAAUmqB,GACxC,GAAIjT,GAAK7a,EACRuhC,IAGD,KAAMvhC,IAAQuX,GACbgqB,EAAKvhC,GAASya,EAAKjS,MAAOxI,GAC1Bya,EAAKjS,MAAOxI,GAASuX,EAASvX,EAG/B6a,GAAMlX,EAASoqB,MAAOtT,EAAMqT,MAG5B,KAAM9tB,IAAQuX,GACbkD,EAAKjS,MAAOxI,GAASuhC,EAAKvhC,EAG3B,OAAO6a,MAMJ1T,EAAOgvB,kBACX/T,GAAY,SAAU3H,GACrB,MAAOtT,GAAOgvB,iBAAkB1b,EAAM,OAGvC6H,GAAS,SAAU7H,EAAMza,EAAM+yC,GAC9B,GAAI1pC,GAAO2pC,EAAUC,EACpBb,EAAWW,GAAa3wB,GAAW3H,GAGnCI,EAAMu3B,EAAWA,EAASc,iBAAkBlzC,IAAUoyC,EAAUpyC,GAASuF,EACzEiD,EAAQiS,EAAKjS,KA8Bd,OA5BK4pC,KAES,KAARv3B,GAAeb,GAAOgH,SAAUvG,EAAKqD,cAAerD,KACxDI,EAAMb,GAAOxR,MAAOiS,EAAMza,IAOtBuiB,GAAUjG,KAAMzB,IAAS82B,GAAQr1B,KAAMtc,KAG3CqJ,EAAQb,EAAMa,MACd2pC,EAAWxqC,EAAMwqC,SACjBC,EAAWzqC,EAAMyqC,SAGjBzqC,EAAMwqC,SAAWxqC,EAAMyqC,SAAWzqC,EAAMa,MAAQwR,EAChDA,EAAMu3B,EAAS/oC,MAGfb,EAAMa,MAAQA,EACdb,EAAMwqC,SAAWA,EACjBxqC,EAAMyqC,SAAWA,IAIZp4B,IAEGjU,EAASmc,gBAAgBowB,eACpC/wB,GAAY,SAAU3H,GACrB,MAAOA,GAAK04B,cAGb7wB,GAAS,SAAU7H,EAAMza,EAAM+yC,GAC9B,GAAIxnC,GAAM6nC,EAAIC,EACbjB,EAAWW,GAAa3wB,GAAW3H,GACnCI,EAAMu3B,EAAWA,EAAUpyC,GAASuF,EACpCiD,EAAQiS,EAAKjS,KAoCd,OAhCY,OAAPqS,GAAerS,GAASA,EAAOxI,KACnC6a,EAAMrS,EAAOxI,IAUTuiB,GAAUjG,KAAMzB,KAAU42B,GAAUn1B,KAAMtc,KAG9CuL,EAAO/C,EAAM+C,KACb6nC,EAAK34B,EAAK64B,aACVD,EAASD,GAAMA,EAAG7nC,KAGb8nC,IACJD,EAAG7nC,KAAOkP,EAAK04B,aAAa5nC,MAE7B/C,EAAM+C,KAAgB,aAATvL,EAAsB,MAAQ6a,EAC3CA,EAAMrS,EAAM+qC,UAAY,KAGxB/qC,EAAM+C,KAAOA,EACR8nC,IACJD,EAAG7nC,KAAO8nC,IAIG,KAARx4B,EAAa,OAASA,IAsI/Bb,GAAOG,MAAO,SAAU,SAAW,SAAU3X,EAAGxC,GAC/Cga,GAAOuP,SAAUvpB,IAChB+E,IAAK,SAAU0V,EAAM23B,EAAUzwB,GAC9B,GAAKywB,EAGJ,MAA4B,KAArB33B,EAAKyH,aAAqBwvB,GAAap1B,KAAMtC,GAAO+G,IAAKtG,EAAM,YACrET,GAAO84B,KAAMr4B,EAAMq3B,GAAS,WAC3B,MAAO9vB,GAAkBvH,EAAMza,EAAM2hB,KAEtCK,EAAkBvH,EAAMza,EAAM2hB,IAIjC9d,IAAK,SAAU4W,EAAMle,EAAOolB,GAC3B,GAAIE,GAASF,GAASS,GAAW3H,EACjC,OAAO6G,GAAmB7G,EAAMle,EAAOolB,EACtCD,EACCjH,EACAza,EACA2hB,EACA3H,GAAO+B,QAAQsG,WAAgE,eAAnDrI,GAAO+G,IAAKtG,EAAM,aAAa,EAAOoH,GAClEA,GACG,OAMF7H,GAAO+B,QAAQ7Z,UACpB8X,GAAOuP,SAASrnB,SACf6C,IAAK,SAAU0V,EAAM23B,GAEpB,MAAOZ,IAASl1B,MAAO81B,GAAY33B,EAAK04B,aAAe14B,EAAK04B,aAAa91B,OAAS5C,EAAKjS,MAAM6U,SAAW,IACrG,IAAOoF,WAAYwZ,OAAOuX,IAAS,GACrCpB,EAAW,IAAM,IAGnBvuC,IAAK,SAAU4W,EAAMle,GACpB,GAAIiM,GAAQiS,EAAKjS,MAChB2qC,EAAe14B,EAAK04B,aACpBjxC,EAAU8X,GAAO+U,UAAWxyB,GAAU,iBAA2B,IAARA,EAAc,IAAM,GAC7E8gB,EAAS81B,GAAgBA,EAAa91B,QAAU7U,EAAM6U,QAAU,EAIjE7U,GAAMgiB,KAAO,GAINjuB,GAAS,GAAe,KAAVA,IAC6B,KAAhDyd,GAAO0F,KAAMrC,EAAO5N,QAAS8hC,GAAQ,MACrC/oC,EAAM8V,kBAKP9V,EAAM8V,gBAAiB,UAGR,KAAV/hB,GAAgB42C,IAAiBA,EAAa91B,UAMpD7U,EAAM6U,OAASk0B,GAAOj1B,KAAMe,GAC3BA,EAAO5N,QAAS8hC,GAAQrvC,GACxBmb,EAAS,IAAMnb,MAOnB8X,GAAO,WACAA,GAAO+B,QAAQ+Y,sBACpB9a,GAAOuP,SAAS6M,aACfrxB,IAAK,SAAU0V,EAAM23B,GACpB,GAAKA,EAGJ,MAAOp4B,IAAO84B,KAAMr4B,GAAQlG,QAAW,gBACtC+N,IAAU7H,EAAM,oBASfT,GAAO+B,QAAQgZ,eAAiB/a,GAAOiS,GAAGloB,UAC/CiW,GAAOG,MAAQ,MAAO,QAAU,SAAU3X,EAAGukB,GAC5C/M,GAAOuP,SAAUxC,IAChBhiB,IAAK,SAAU0V,EAAM23B,GACpB,GAAKA,EAGJ,MAFAA,GAAW9vB,GAAQ7H,EAAMsM,GAElBxE,GAAUjG,KAAM81B,GACtBp4B,GAAQS,GAAO1W,WAAYgjB,GAAS,KACpCqrB,QASFp4B,GAAO2hB,MAAQ3hB,GAAO2hB,KAAKgR,UAC/B3yB,GAAO2hB,KAAKgR,QAAQ5iB,OAAS,SAAUtP,GACtC,MAA8B,KAArBA,EAAKyH,aAA2C,IAAtBzH,EAAK0H,eAA0BnI,GAAO+B,QAAQia,uBAAmG,UAAxEvb,EAAKjS,OAASiS,EAAKjS,MAAM+L,SAAYyF,GAAO+G,IAAKtG,EAAM,aAGpKT,GAAO2hB,KAAKgR,QAAQ8G,QAAU,SAAUh5B,GACvC,OAAQT,GAAO2hB,KAAKgR,QAAQ5iB,OAAQtP,KAKtCT,GAAOG,MACNu5B,OAAQ,GACRC,QAAS,GACTC,OAAQ,SACN,SAAUrwB,EAAQswB,GACpB75B,GAAOuP,SAAUhG,EAASswB,IACzBrqB,OAAQ,SAAUjtB,GAOjB,IANA,GAAIiG,GAAI,EACPsxC,KAGAC,EAAyB,gBAAVx3C,GAAqBA,EAAMof,MAAM,MAASpf,GAElDiG,EAAI,EAAGA,IACdsxC,EAAUvwB,EAASxB,GAAWvf,GAAMqxC,GACnCE,EAAOvxC,IAAOuxC,EAAOvxC,EAAI,IAAOuxC,EAAO,EAGzC,OAAOD,KAIHnC,GAAQr1B,KAAMiH,KACnBvJ,GAAOuP,SAAUhG,EAASswB,GAAShwC,IAAMyd,IAG3C,IAAI0yB,IAAM,OACTtwB,GAAW,QACXuwB,GAAQ,SACRC,GAAkB,mCAClBC,GAAe,oCAEhBn6B,IAAOiS,GAAGnW,QACTs+B,UAAW,WACV,MAAOp6B,IAAO60B,MAAOhxC,KAAKw2C,mBAE3BA,eAAgB,WACf,MAAOx2C,MAAKqM,IAAI,WAEf,GAAI4S,GAAW9C,GAAO+M,KAAMlpB,KAAM,WAClC,OAAOif,GAAW9C,GAAOyT,UAAW3Q,GAAajf,OAEjDwf,OAAO,WACP,GAAItgB,GAAOc,KAAKd,IAEhB,OAAOc,MAAKmC,OAASga,GAAQnc,MAAOovC,GAAI,cACvCkH,GAAa73B,KAAMze,KAAKshB,YAAe+0B,GAAgB53B,KAAMvf,KAC3Dc,KAAKgiB,UAAYF,GAA4BrD,KAAMvf,MAEtDmN,IAAI,SAAU1H,EAAGiY,GACjB,GAAIqH,GAAM9H,GAAQnc,MAAOikB,KAEzB,OAAc,OAAPA,EACN,KACA9H,GAAO/C,QAAS6K,GACf9H,GAAO9P,IAAK4X,EAAK,SAAUA,GAC1B,OAAS9hB,KAAMya,EAAKza,KAAMzD,MAAOulB,EAAIrS,QAASwkC,GAAO,YAEpDj0C,KAAMya,EAAKza,KAAMzD,MAAOulB,EAAIrS,QAASwkC,GAAO,WAC9ClvC,SAMLiV,GAAO60B,MAAQ,SAAU7nC,EAAGwc,GAC3B,GAAID,GACHzmB,KACAyD,EAAM,SAAUU,EAAK1E,GAEpBA,EAAQyd,GAAOiD,WAAY1gB,GAAUA,IAAqB,MAATA,EAAgB,GAAKA,EACtEO,EAAGA,EAAE4F,QAAW4xC,mBAAoBrzC,GAAQ,IAAMqzC,mBAAoB/3C,GASxE,IALKinB,IAAgBje,IACpBie,EAAcxJ,GAAO6K,cAAgB7K,GAAO6K,aAAarB,aAIrDxJ,GAAO/C,QAASjQ,IAASA,EAAEqmB,SAAWrT,GAAO7C,cAAenQ,GAEhEgT,GAAOG,KAAMnT,EAAG,WACfzG,EAAK1C,KAAKmC,KAAMnC,KAAKtB,aAMtB,KAAMgnB,IAAUvc,GACfsc,EAAaC,EAAQvc,EAAGuc,GAAUC,EAAajjB,EAKjD,OAAOzD,GAAEH,KAAM,KAAM8S,QAASukC,GAAK,KA8BpC,IAECO,IACAC,GAEAC,GAAaz6B,GAAO2M,MAEpB+tB,GAAc,KACdC,GAAQ,OACRC,GAAM,gBACNC,GAAW,gCAEXC,GAAiB,4DACjBC,GAAa,iBACbC,GAAY,QACZC,GAAO,8CAGPC,GAAQl7B,GAAOiS,GAAGyS,KAWlByW,MAOAzwB,MAGA0wB,GAAW,KAAK15B,OAAO,IAIxB,KACC84B,GAAelpB,EAASrW,KACvB,MAAOpT,GAGR2yC,GAAe5tC,EAASwC,cAAe,KACvCorC,GAAav/B,KAAO,GACpBu/B,GAAeA,GAAav/B,KAI7Bs/B,GAAeU,GAAK52B,KAAMm2B,GAAar4B,mBA8EvCnC,GAAOiS,GAAGyS,KAAO,SAAUiS,EAAK97B,EAAQlR,GACvC,GAAoB,gBAARgtC,IAAoBuE,GAC/B,MAAOA,IAAMnnB,MAAOlwB,KAAMmwB,UAG3B,IAAIhC,GAAUjvB,EAAM2oB,EACnB/f,EAAO9H,KACPixB,EAAM6hB,EAAIphC,QAAQ,IA+CnB,OA7CKuf,IAAO,IACX9C,EAAW2kB,EAAIhwB,MAAOmO,EAAK6hB,EAAIjuC,QAC/BiuC,EAAMA,EAAIhwB,MAAO,EAAGmO,IAIhB9U,GAAOiD,WAAYpI,IAGvBlR,EAAWkR,EACXA,EAAStP,GAGEsP,GAA4B,gBAAlB,KAAOA,EAAP,YAAAmB,IAAOnB,MAC5B9X,EAAO,QAIH4I,EAAKjD,OAAS,GAClBsX,GAAO02B,MACNC,IAAKA,EAGL5zC,KAAMA,EACNgnB,SAAU,OACV5Y,KAAM0J,IACJ/O,KAAK,SAAUuvC,GAGjB3vB,EAAWsI,UAEXroB,EAAKgqC,KAAM3jB,EAIVhS,GAAO,SAAStR,YAAasR,GAAOuT,UAAW8nB,IAAiB/nB,KAAMtB,GAGtEqpB,KAECjsB,SAAUzlB,GAAY,SAAUygB,EAAOkxB,GACzC3vC,EAAKwU,KAAMxW,EAAU+hB,IAActB,EAAMixB,aAAcC,EAAQlxB,MAI1DvmB,MAIRmc,GAAOG,MAAQ,YAAa,WAAY,eAAgB,YAAa,cAAe,YAAc,SAAU3X,EAAGzF,GAC9Gid,GAAOiS,GAAIlvB,GAAS,SAAUkvB,GAC7B,MAAOpuB,MAAK+V,GAAI7W,EAAMkvB,MAIxBjS,GAAOG,MAAQ,MAAO,QAAU,SAAU3X,EAAG+yC,GAC5Cv7B,GAAQu7B,GAAW,SAAU5E,EAAKxlC,EAAMxH,EAAU5G,GAQjD,MANKid,IAAOiD,WAAY9R,KACvBpO,EAAOA,GAAQ4G,EACfA,EAAWwH,EACXA,EAAO5F,GAGDyU,GAAO02B,MACbC,IAAKA,EACL5zC,KAAMw4C,EACNxxB,SAAUhnB,EACVoO,KAAMA,EACNqqC,QAAS7xC,OAKZqW,GAAOlE,QAGN2/B,OAAQ,EAGRC,gBACAC,QAEA9wB,cACC8rB,IAAK6D,GACLz3C,KAAM,MACN64C,QAASd,GAAex4B,KAAMi4B,GAAc,IAC5C7Z,QAAQ,EACRmb,aAAa,EACb9lB,OAAO,EACP+lB,YAAa,mDAabC,SACCC,IAAKZ,GACL91B,KAAM,aACNqwB,KAAM,YACN/f,IAAK,4BACLqmB,KAAM,qCAGP9wB,UACCyK,IAAK,MACL+f,KAAM,OACNsG,KAAM,QAGP7wB,gBACCwK,IAAK,cACLtQ,KAAM,gBAKPkG,YAGC0wB,SAAU/uC,EAAO4P,OAGjBo/B,aAAa,EAGbC,YAAap8B,GAAOuC,UAGpB85B,WAAYr8B,GAAO2V,UAOpB/K,aACC+rB,KAAK,EACLzwB,SAAS,IAOXo2B,UAAW,SAAU1xC,EAAQ2xC,GAC5B,MAAOA,GAGN5xB,EAAYA,EAAY/f,EAAQoV,GAAO6K,cAAgB0xB,GAGvD5xB,EAAY3K,GAAO6K,aAAcjgB,IAGnC4xC,cAAe7yB,EAA6BwxB,IAC5CsB,cAAe9yB,EAA6Be,IAG5CgsB,KAAM,SAAUC,EAAKp5B,GAgRpB,QAASzR,GAAMwvC,EAAQoB,EAAkB3xB,EAAW4xB,GACnD,GAAIC,GAAWpB,EAASrvB,EAAOT,EAAUmxB,EACxCC,EAAaJ,CAGC,KAAVxwB,IAKLA,EAAQ,EAGH6wB,GACJ/f,aAAc+f,GAKfC,EAAYzxC,EAGZ0xC,EAAwBN,GAAW,GAGnCvyB,EAAM+I,WAAamoB,EAAS,EAAI,EAAI,EAG/BvwB,IACJW,EAAWZ,EAAqBhoB,EAAGsnB,EAAOW,IAItCuwB,GAAU,KAAOA,EAAS,KAAkB,MAAXA,GAGhCx4C,EAAEo6C,aACNL,EAAWzyB,EAAMmB,kBAAkB,iBAC9BsxB,IACJ78B,GAAO07B,aAAcyB,GAAaN,IAEnCA,EAAWzyB,EAAMmB,kBAAkB,WAElCvL,GAAO27B,KAAMwB,GAAaN,IAKZ,MAAXvB,GACJsB,GAAY,EACZE,EAAa,gBAIbF,EAAYnxB,EAAa3oB,EAAG4oB,GAC5BoxB,EAAaF,EAAU1wB,MACvBsvB,EAAUoB,EAAUzrC,KACpBgb,EAAQywB,EAAUzwB,MAClBywB,GAAazwB,KAKdA,EAAQ2wB,GACHxB,GAAWwB,IACfA,EAAa,QACRxB,EAAS,IACbA,EAAS,KAMZlxB,EAAMkxB,OAASA,EACflxB,EAAM0yB,YAAeJ,GAAoBI,GAAe,GAGnDF,EACJtvB,EAASa,YAAaivB,GAAmB5B,EAASsB,EAAY1yB,IAE9DkD,EAASuB,WAAYuuB,GAAmBhzB,EAAO0yB,EAAY3wB,IAI5D/B,EAAMizB,WAAYA,GAClBA,EAAa9xC,EAER+xC,GACJC,EAAmB1oB,QAAS+nB,EAAY,cAAgB,aACrDxyB,EAAOtnB,EAAG85C,EAAYpB,EAAUrvB,IAIpCqxB,EAAiBnlB,SAAU+kB,GAAmBhzB,EAAO0yB,IAEhDQ,IACJC,EAAmB1oB,QAAS,gBAAkBzK,EAAOtnB,MAE3Ckd,GAAOy7B,QAChBz7B,GAAO3V,MAAMwqB,QAAQ,cAhXJ,gBAAf,KAAO8hB,EAAP,YAAA36B,IAAO26B,MACXp5B,EAAUo5B,EACVA,EAAMprC,GAIPgS,EAAUA,KAEV,IAAIy/B,GAEHG,EAEAF,EACAQ,EAEAV,EAEAhD,EAEAuD,EAEA90C,EAEA1F,EAAIkd,GAAOs8B,aAAe/+B,GAE1B6/B,EAAkBt6C,EAAEojB,SAAWpjB,EAE/By6C,EAAqBz6C,EAAEojB,UAAak3B,EAAgBhgC,UAAYggC,EAAgB/pB,QAC/ErT,GAAQo9B,GACRp9B,GAAO3V,MAERijB,EAAWtN,GAAOuN,WAClBiwB,EAAmBx9B,GAAOsX,UAAU,eAEpC+lB,EAAav6C,EAAEu6C,eAEfK,KACAC,KAEAzxB,EAAQ,EAER0xB,EAAW,WAEXxzB,GACC+I,WAAY,EAGZ5H,kBAAmB,SAAUtkB,GAC5B,GAAImZ,EACJ,IAAe,IAAV8L,EAAc,CAClB,IAAMuxB,EAEL,IADAA,KACSr9B,EAAQy6B,GAASx2B,KAAM44B,IAC/BQ,EAAiBr9B,EAAM,GAAG+B,eAAkB/B,EAAO,EAGrDA,GAAQq9B,EAAiBx2C,EAAIkb,eAE9B,MAAgB,OAAT/B,EAAgB,KAAOA,GAI/By9B,sBAAuB,WACtB,MAAiB,KAAV3xB,EAAc+wB,EAAwB,MAI9Ca,iBAAkB,SAAU93C,EAAMzD,GACjC,GAAIw7C,GAAQ/3C,EAAKmc,aAKjB,OAJM+J,KACLlmB,EAAO23C,EAAqBI,GAAUJ,EAAqBI,IAAW/3C,EACtE03C,EAAgB13C,GAASzD,GAEnBsB,MAIRm6C,iBAAkB,SAAUj7C,GAI3B,MAHMmpB,KACLppB,EAAEwoB,SAAWvoB,GAEPc,MAIRw5C,WAAY,SAAUntC,GACrB,GAAI+tC,EACJ,IAAK/tC,EACJ,GAAKgc,EAAQ,EACZ,IAAM+xB,IAAQ/tC,GAEbmtC,EAAYY,IAAWZ,EAAYY,GAAQ/tC,EAAK+tC,QAIjD7zB,GAAMoD,OAAQtd,EAAKka,EAAMkxB,QAG3B,OAAOz3C,OAIRq6C,MAAO,SAAUpB,GAChB,GAAIqB,GAAYrB,GAAcc,CAK9B,OAJKZ,IACJA,EAAUkB,MAAOC,GAElBryC,EAAM,EAAGqyC,GACFt6C,MAwCV,IAnCAypB,EAASc,QAAShE,GAAQgF,SAAWouB,EAAiBj3C,IACtD6jB,EAAMoxB,QAAUpxB,EAAMte,KACtBse,EAAM+B,MAAQ/B,EAAMiF,KAMpBvsB,EAAE6zC,MAAUA,GAAO7zC,EAAE6zC,KAAO6D,IAAiB,IAAK/kC,QAASklC,GAAO,IAAKllC,QAASulC,GAAWT,GAAc,GAAM,MAG/Gz3C,EAAEC,KAAOwa,EAAQg+B,QAAUh+B,EAAQxa,MAAQD,EAAEy4C,QAAUz4C,EAAEC,KAGzDD,EAAEknB,UAAYhK,GAAO0F,KAAM5iB,EAAEinB,UAAY,KAAM5H,cAAc/B,MAAOC,MAAqB,IAGnE,MAAjBvd,EAAEs7C,cACNrE,EAAQkB,GAAK52B,KAAMvhB,EAAE6zC,IAAIx0B,eACzBrf,EAAEs7C,eAAkBrE,GACjBA,EAAO,KAAQQ,GAAc,IAAOR,EAAO,KAAQQ,GAAc,KAChER,EAAO,KAAwB,UAAfA,EAAO,GAAkB,GAAK,QAC7CQ,GAAc,KAA+B,UAAtBA,GAAc,GAAkB,GAAK,QAK7Dz3C,EAAEqO,MAAQrO,EAAE+4C,aAAiC,gBAAX/4C,GAAEqO,OACxCrO,EAAEqO,KAAO6O,GAAO60B,MAAO/xC,EAAEqO,KAAMrO,EAAE0mB,cAIlCU,EAA+BixB,GAAYr4C,EAAGya,EAAS6M,GAGxC,IAAV8B,EACJ,MAAO9B,EAIRkzB,GAAcx6C,EAAE49B,OAGX4c,GAAmC,GAApBt9B,GAAOy7B,UAC1Bz7B,GAAO3V,MAAMwqB,QAAQ,aAItB/xB,EAAEC,KAAOD,EAAEC,KAAK2jB,cAGhB5jB,EAAEu7C,YAActD,GAAWz4B,KAAMxf,EAAEC,MAInCo6C,EAAWr6C,EAAE6zC,IAGP7zC,EAAEu7C,aAGFv7C,EAAEqO,OACNgsC,EAAar6C,EAAE6zC,MAAS+D,GAAYp4B,KAAM66B,GAAa,IAAM,KAAQr6C,EAAEqO,WAEhErO,GAAEqO,OAIO,IAAZrO,EAAEoe,QACNpe,EAAE6zC,IAAMiE,GAAIt4B,KAAM66B,GAGjBA,EAAS1nC,QAASmlC,GAAK,OAASH,MAGhC0C,GAAazC,GAAYp4B,KAAM66B,GAAa,IAAM,KAAQ,KAAO1C,OAK/D33C,EAAEo6C,aACDl9B,GAAO07B,aAAcyB,IACzB/yB,EAAM0zB,iBAAkB,oBAAqB99B,GAAO07B,aAAcyB,IAE9Dn9B,GAAO27B,KAAMwB,IACjB/yB,EAAM0zB,iBAAkB,gBAAiB99B,GAAO27B,KAAMwB,MAKnDr6C,EAAEqO,MAAQrO,EAAEu7C,aAAgC,IAAlBv7C,EAAEg5C,aAAyBv+B,EAAQu+B,cACjE1xB,EAAM0zB,iBAAkB,eAAgBh7C,EAAEg5C,aAI3C1xB,EAAM0zB,iBACL,SACAh7C,EAAEknB,UAAW,IAAOlnB,EAAEi5C,QAASj5C,EAAEknB,UAAU,IAC1ClnB,EAAEi5C,QAASj5C,EAAEknB,UAAU,KAA8B,MAArBlnB,EAAEknB,UAAW,GAAc,KAAOoxB,GAAW,WAAa,IAC1Ft4C,EAAEi5C,QAAS,KAIb,KAAMvzC,IAAK1F,GAAE65C,QACZvyB,EAAM0zB,iBAAkBt1C,EAAG1F,EAAE65C,QAASn0C,GAIvC,IAAK1F,EAAEw7C,cAAmE,IAAnDx7C,EAAEw7C,WAAWv4C,KAAMq3C,EAAiBhzB,EAAOtnB,IAA2B,IAAVopB,GAElF,MAAO9B,GAAM8zB,OAIdN,GAAW,OAGX,KAAMp1C,KAAOgzC,QAAS,EAAGrvB,MAAO,EAAGiD,SAAU,GAC5ChF,EAAO5hB,GAAK1F,EAAG0F,GAOhB,IAHAw0C,EAAY9yB,EAA+BQ,GAAY5nB,EAAGya,EAAS6M,GAK5D,CACNA,EAAM+I,WAAa,EAGdmqB,GACJC,EAAmB1oB,QAAS,YAAczK,EAAOtnB,IAG7CA,EAAEizB,OAASjzB,EAAEi6B,QAAU,IAC3BggB,EAAetwB,WAAW,WACzBrC,EAAM8zB,MAAM,YACVp7C,EAAEi6B,SAGN,KACC7Q,EAAQ,EACR8wB,EAAUuB,KAAMb,EAAgB5xC,GAC/B,MAAQjE,GAET,KAAKqkB,EAAQ,GAIZ,KAAMrkB,EAHNiE,IAAO,EAAGjE,QArBZiE,IAAO,EAAG,eAsIX,OAAOse,IAGRo0B,UAAW,SAAU7H,EAAKhtC,GACzB,MAAOqW,IAAOjV,IAAK4rC,EAAKprC,EAAW5B,EAAU,WAG9CgI,QAAS,SAAUglC,EAAKxlC,EAAMxH,GAC7B,MAAOqW,IAAOjV,IAAK4rC,EAAKxlC,EAAMxH,EAAU,WA4J1CqW,GAAOs8B,WACNP,SACC0C,OAAQ,6FAETtzB,UACCszB,OAAQ,uBAETjzB,YACCkzB,cAAe,SAAUp5B,GAExB,MADAtF,IAAOiW,WAAY3Q,GACZA,MAMVtF,GAAOw8B,cAAe,SAAU,SAAU15C,GACpCA,EAAEoe,QAAU3V,IAChBzI,EAAEoe,OAAQ,GAENpe,EAAEs7C,cACNt7C,EAAEC,KAAO,MACTD,EAAE49B,QAAS,KAKb1gB,GAAOy8B,cAAe,SAAU,SAAS35C,GAGxC,GAAKA,EAAEs7C,YAAc,CAEpB,GAAIK,GACHE,EAAO/xC,EAAS+xC,MAAQ3+B,GAAO,QAAQ,IAAMpT,EAASmc,eAEvD,QAECw1B,KAAM,SAAUj+B,EAAG3W,GAElB80C,EAAS7xC,EAASwC,cAAc,UAEhCqvC,EAAO1oB,OAAQ,EAEVjzB,EAAE87C,gBACNH,EAAOI,QAAU/7C,EAAE87C,eAGpBH,EAAOjkC,IAAM1X,EAAE6zC,IAGf8H,EAAOK,OAASL,EAAOM,mBAAqB,SAAUz+B,EAAG0+B,IAEnDA,IAAYP,EAAOtrB,YAAc,kBAAkB7Q,KAAMm8B,EAAOtrB,eAGpEsrB,EAAOK,OAASL,EAAOM,mBAAqB,KAGvCN,EAAOl5B,YACXk5B,EAAOl5B,WAAW8W,YAAaoiB,GAIhCA,EAAS,KAGHO,GACLr1C,EAAU,IAAK,aAOlBg1C,EAAKjQ,aAAc+P,EAAQE,EAAKxkB,aAGjC+jB,MAAO,WACDO,GACJA,EAAOK,OAAQvzC,GAAW,OAM/B,IAAI0zC,OACHC,GAAS,mBAGVl/B,IAAOs8B,WACN6C,MAAO,WACPC,cAAe,WACd,GAAIz1C,GAAWs1C,GAAa79B,OAAWpB,GAAOe,QAAU,IAAQ05B,IAEhE,OADA52C,MAAM8F,IAAa,EACZA,KAKTqW,GAAOw8B,cAAe,aAAc,SAAU15C,EAAGu8C,EAAkBj1B,GAElE,GAAIk1B,GAAcC,EAAaC,EAC9BC,GAAuB,IAAZ38C,EAAEq8C,QAAqBD,GAAO58B,KAAMxf,EAAE6zC,KAChD,MACkB,gBAAX7zC,GAAEqO,QAAwBrO,EAAEg5C,aAAe,IAAKvmC,QAAQ,sCAAwC2pC,GAAO58B,KAAMxf,EAAEqO,OAAU,OAIlI,IAAKsuC,GAAiC,UAArB38C,EAAEknB,UAAW,GAsD7B,MAnDAs1B,GAAex8C,EAAEs8C,cAAgBp/B,GAAOiD,WAAYngB,EAAEs8C,eACrDt8C,EAAEs8C,gBACFt8C,EAAEs8C,cAGEK,EACJ38C,EAAG28C,GAAa38C,EAAG28C,GAAWhqC,QAASypC,GAAQ,KAAOI,IAC/B,IAAZx8C,EAAEq8C,QACbr8C,EAAE6zC,MAAS+D,GAAYp4B,KAAMxf,EAAE6zC,KAAQ,IAAM,KAAQ7zC,EAAEq8C,MAAQ,IAAMG,GAItEx8C,EAAE0oB,WAAW,eAAiB,WAI7B,MAHMg0B,IACLx/B,GAAOmM,MAAOmzB,EAAe,mBAEvBE,EAAmB,IAI3B18C,EAAEknB,UAAW,GAAM,OAGnBu1B,EAAcpyC,EAAQmyC,GACtBnyC,EAAQmyC,GAAiB,WACxBE,EAAoBxrB,WAIrB5J,EAAMoD,OAAO,WAEZrgB,EAAQmyC,GAAiBC,EAGpBz8C,EAAGw8C,KAEPx8C,EAAEs8C,cAAgBC,EAAiBD,cAGnCH,GAAar2C,KAAM02C,IAIfE,GAAqBx/B,GAAOiD,WAAYs8B,IAC5CA,EAAaC,EAAmB,IAGjCA,EAAoBD,EAAch0C,IAI5B,UAGT,IAAIm0C,IAAcC,GACjBC,GAAQ,EAERC,GAAmB1yC,EAAOof,eAAiB,WAE1C,GAAItlB,EACJ,KAAMA,IAAOy4C,IACZA,GAAcz4C,GAAOsE,GAAW,GAmBnCyU,IAAO6K,aAAai1B,IAAM3yC,EAAOof,cAOhC,WACC,OAAQ1oB,KAAK+3C,SAAWxvB,KAAuBE,KAGhDF,EAGDuzB,GAAe3/B,GAAO6K,aAAai1B,MACnC9/B,GAAO+B,QAAQg+B,OAASJ,IAAkB,mBAAqBA,KAC/DA,GAAe3/B,GAAO+B,QAAQ20B,OAASiJ,KAKtC3/B,GAAOy8B,cAAc,SAAU35C,GAE9B,IAAMA,EAAEs7C,aAAep+B,GAAO+B,QAAQg+B,KAAO,CAE5C,GAAIp2C,EAEJ,QACC40C,KAAM,SAAU5B,EAASvtB,GAGxB,GAAInK,GAAQzc,EACXs3C,EAAMh9C,EAAEg9C,KAWT,IAPKh9C,EAAEk9C,SACNF,EAAIG,KAAMn9C,EAAEC,KAAMD,EAAE6zC,IAAK7zC,EAAEizB,MAAOjzB,EAAEk9C,SAAUl9C,EAAEyvC,UAEhDuN,EAAIG,KAAMn9C,EAAEC,KAAMD,EAAE6zC,IAAK7zC,EAAEizB,OAIvBjzB,EAAEo9C,UACN,IAAM13C,IAAK1F,GAAEo9C,UACZJ,EAAKt3C,GAAM1F,EAAEo9C,UAAW13C,EAKrB1F,GAAEwoB,UAAYw0B,EAAI9B,kBACtB8B,EAAI9B,iBAAkBl7C,EAAEwoB,UAQnBxoB,EAAEs7C,aAAgBzB,EAAQ,sBAC/BA,EAAQ,oBAAsB,iBAI/B,KACC,IAAMn0C,IAAKm0C,GACVmD,EAAIhC,iBAAkBt1C,EAAGm0C,EAASn0C,IAElC,MAAOyD,IAKT6zC,EAAIvB,KAAQz7C,EAAEu7C,YAAcv7C,EAAEqO,MAAU,MAGxCxH,EAAW,SAAU2W,EAAG0+B,GAEvB,GAAI1D,GACHwB,EACAW,EACA1yB,EACA6K,CAKD,KAGC,GAAKjsB,IAAcq1C,GAA8B,IAAnBc,EAAI3sB,YAcjC,GAXAxpB,EAAW4B,EAGN0Z,IACJ66B,EAAIf,mBAAqB/+B,GAAOuB,KAC3Bs+B,UACGH,IAAcz6B,IAKlB+5B,EAEoB,IAAnBc,EAAI3sB,YACR2sB,EAAI5B,YAEC,CACNnzB,KACAuwB,EAASwE,EAAIxE,OACb1lB,EAAMkqB,EAAIK,YACV1C,EAAkBqC,EAAIjC,wBAGjBjoB,GAAOA,EAAI7M,kBACfgC,EAAU6K,IAAMA,GAKgB,gBAArBkqB,GAAIzE,eACftwB,EAAUzF,KAAOw6B,EAAIzE,aAKtB,KACCyB,EAAagD,EAAIhD,WAChB,MAAOj1C,GAERi1C,EAAa,GAQRxB,IAAUx4C,EAAE84C,SAAY94C,EAAEs7C,YAGT,OAAX9C,IACXA,EAAS,KAHTA,EAASvwB,EAAUzF,KAAO,IAAM,KAOlC,MAAO86B,GACFpB,GACL5vB,GAAW,EAAGgxB,GAKXr1B,GACJqE,EAAUksB,EAAQwB,EAAY/xB,EAAW0yB,IAIrC36C,EAAEizB,MAGuB,IAAnB+pB,EAAI3sB,WAGf1G,WAAY9iB,IAEZsb,IAAW26B,GACNC,KAGEH,KACLA,MACA1/B,GAAQ7S,GAASkzC,OAAQR,KAG1BH,GAAcz6B,GAAWtb,GAE1Bm2C,EAAIf,mBAAqBp1C,GAjBzBA,KAqBFu0C,MAAO,WACDv0C,GACJA,EAAU4B,GAAW,OAO3B,IAAImhB,IAAO4zB,GACV5vB,GAAW,yBACX6vB,GAAS,GAAIte,QAAQ,iBAAmB/P,GAAY,cAAe,KACnEsuB,GAAO,cACPnzB,IAAwBoC,GACxBxC,IACC+uB,KAAM,SAAUjvB,EAAMxqB,GACrB,GAAIksB,GAAKgyB,EACR/xB,EAAQ7qB,KAAK2qB,YAAazB,EAAMxqB,GAChCw3C,EAAQwG,GAAOl8B,KAAM9hB,GACrBqI,EAAS8jB,EAAM/L,MACfjY,GAASE,GAAU,EACnBT,EAAQ,EACRu2C,EAAgB,EAEjB,IAAK3G,EAAQ,CAKZ,GAJAtrB,GAAOsrB,EAAM,GAIC,QAHd0G,EAAO1G,EAAM,KAAQ/5B,GAAOq4B,UAAWtrB,GAAS,GAAK,QAG/BriB,EAAQ,CAI7BA,EAAQsV,GAAO+G,IAAK2H,EAAMjO,KAAMsM,GAAM,IAAU0B,GAAO,CAEvD,IAGCtkB,EAAQA,GAAS,KAGjBO,GAAgBP,EAChB6V,GAAOxR,MAAOkgB,EAAMjO,KAAMsM,EAAMriB,EAAQ+1C,SAI/Bt2C,KAAWA,EAAQukB,EAAM/L,MAAQ/X,IAAqB,IAAVT,KAAiBu2C,GAGxEhyB,EAAM+xB,KAAOA,EACb/xB,EAAMhkB,MAAQA,EAEdgkB,EAAMD,IAAMsrB,EAAM,GAAKrvC,GAAUqvC,EAAM,GAAK,GAAMtrB,EAAMA,EAEzD,MAAOC,KAwKV1O,IAAOkN,UAAYlN,GAAOlE,OAAQoR,GAEjCyzB,QAAS,SAAU7zB,EAAOnjB,GACpBqW,GAAOiD,WAAY6J,IACvBnjB,EAAWmjB,EACXA,GAAU,MAEVA,EAAQA,EAAMnL,MAAM,IAOrB,KAJA,GAAIoL,GACH3F,EAAQ,EACR1e,EAASokB,EAAMpkB,OAER0e,EAAQ1e,EAAS0e,IACxB2F,EAAOD,EAAO1F,GACd6F,GAAUF,GAASE,GAAUF,OAC7BE,GAAUF,GAAO9C,QAAStgB,IAI5Bi3C,UAAW,SAAUj3C,EAAUssC,GACzBA,EACJ5oB,GAAoBpD,QAAStgB,GAE7B0jB,GAAoBzkB,KAAMe,MAqI7BqW,GAAOzV,MAAQA,EAEfA,EAAMsG,WACLwM,YAAa9S,EACbsmB,KAAM,SAAUpQ,EAAMlD,EAASwP,EAAM0B,EAAK/kB,EAAQ+2C,GACjD58C,KAAK4c,KAAOA,EACZ5c,KAAKkpB,KAAOA,EACZlpB,KAAK6F,OAASA,GAAU,QACxB7F,KAAK0Z,QAAUA,EACf1Z,KAAK6G,MAAQ7G,KAAK8oB,IAAM9oB,KAAK8e,MAC7B9e,KAAK4qB,IAAMA,EACX5qB,KAAK48C,KAAOA,IAAUzgC,GAAOq4B,UAAWtrB,GAAS,GAAK,OAEvDpK,IAAK,WACJ,GAAI2M,GAAQ/kB,EAAMu1B,UAAWj8B,KAAKkpB,KAElC,OAAOuC,IAASA,EAAMvkB,IACrBukB,EAAMvkB,IAAKlH,MACX0G,EAAMu1B,UAAU+C,SAAS93B,IAAKlH,OAEhCoqB,IAAK,SAAUF,GACd,GAAI8yB,GACHvxB,EAAQ/kB,EAAMu1B,UAAWj8B,KAAKkpB,KAoB/B,OAlBKlpB,MAAK0Z,QAAQsQ,SACjBhqB,KAAKsvC,IAAM0N,EAAQ7gC,GAAOtW,OAAQ7F,KAAK6F,QACtCqkB,EAASlqB,KAAK0Z,QAAQsQ,SAAWE,EAAS,EAAG,EAAGlqB,KAAK0Z,QAAQsQ,UAG9DhqB,KAAKsvC,IAAM0N,EAAQ9yB,EAEpBlqB,KAAK8oB,KAAQ9oB,KAAK4qB,IAAM5qB,KAAK6G,OAAUm2C,EAAQh9C,KAAK6G,MAE/C7G,KAAK0Z,QAAQujC,MACjBj9C,KAAK0Z,QAAQujC,KAAK/6C,KAAMlC,KAAK4c,KAAM5c,KAAK8oB,IAAK9oB,MAGzCyrB,GAASA,EAAMzlB,IACnBylB,EAAMzlB,IAAKhG,MAEX0G,EAAMu1B,UAAU+C,SAASh5B,IAAKhG,MAExBA,OAIT0G,EAAMsG,UAAUggB,KAAKhgB,UAAYtG,EAAMsG,UAEvCtG,EAAMu1B,WACL+C,UACC93B,IAAK,SAAU2jB,GACd,GAAIvB,EAEJ,OAAiC,OAA5BuB,EAAMjO,KAAMiO,EAAM3B,OACpB2B,EAAMjO,KAAKjS,OAA2C,MAAlCkgB,EAAMjO,KAAKjS,MAAOkgB,EAAM3B,OAQ/CI,EAASnN,GAAO+G,IAAK2H,EAAMjO,KAAMiO,EAAM3B,KAAM,QAErCI,GAAqB,SAAXA,EAAwBA,EAAJ,GAT9BuB,EAAMjO,KAAMiO,EAAM3B,OAW3BljB,IAAK,SAAU6kB,GAGT1O,GAAO+O,GAAG+xB,KAAMpyB,EAAM3B,MAC1B/M,GAAO+O,GAAG+xB,KAAMpyB,EAAM3B,MAAQ2B,GACnBA,EAAMjO,KAAKjS,QAAgE,MAArDkgB,EAAMjO,KAAKjS,MAAOwR,GAAO44B,SAAUlqB,EAAM3B,QAAoB/M,GAAOuP,SAAUb,EAAM3B,OACrH/M,GAAOxR,MAAOkgB,EAAMjO,KAAMiO,EAAM3B,KAAM2B,EAAM/B,IAAM+B,EAAM+xB,MAExD/xB,EAAMjO,KAAMiO,EAAM3B,MAAS2B,EAAM/B,OASrCpiB,EAAMu1B,UAAUntB,UAAYpI,EAAMu1B,UAAUrtB,YAC3C5I,IAAK,SAAU6kB,GACTA,EAAMjO,KAAKrD,UAAYsR,EAAMjO,KAAK8E,aACtCmJ,EAAMjO,KAAMiO,EAAM3B,MAAS2B,EAAM/B,OAKpC3M,GAAOG,MAAO,SAAU,OAAQ,QAAU,SAAU3X,EAAGxC,GACtD,GAAI+6C,GAAQ/gC,GAAOiS,GAAIjsB,EACvBga,IAAOiS,GAAIjsB,GAAS,SAAUg7C,EAAOt3C,EAAQC,GAC5C,MAAgB,OAATq3C,GAAkC,iBAAVA,GAC9BD,EAAMhtB,MAAOlwB,KAAMmwB,WACnBnwB,KAAKo9C,QAASnwB,EAAO9qB,GAAM,GAAQg7C,EAAOt3C,EAAQC,MAIrDqW,GAAOiS,GAAGnW,QACTolC,OAAQ,SAAUF,EAAOx2C,EAAId,EAAQC,GAGpC,MAAO9F,MAAKwf,OAAQyD,GAAWC,IAAK,UAAW,GAAIG,OAGjDuH,MAAMwyB,SAAU/4C,QAASsC,GAAMw2C,EAAOt3C,EAAQC,IAEjDs3C,QAAS,SAAUl0B,EAAMi0B,EAAOt3C,EAAQC,GACvC,GAAIumB,GAAQlQ,GAAO6B,cAAekL,GACjCo0B,EAASnhC,GAAOghC,MAAOA,EAAOt3C,EAAQC,GACtCy3C,EAAc,QAAdA,KAEC,GAAInyB,GAAO/B,EAAWrpB,KAAMmc,GAAOlE,UAAYiR,GAAQo0B,EACvDC,GAAYC,OAAS,WACpBpyB,EAAKN,MAAM,KAGPuB,GAASlQ,GAAO0E,MAAO7gB,KAAM,YACjCorB,EAAKN,MAAM,GAKd,OAFCyyB,GAAYC,OAASD,EAEflxB,IAA0B,IAAjBixB,EAAOjyB,MACtBrrB,KAAKsc,KAAMihC,GACXv9C,KAAKqrB,MAAOiyB,EAAOjyB,MAAOkyB,IAE5BzyB,KAAM,SAAU5rB,EAAMk6B,EAAYrO,GACjC,GAAI0yB,GAAY,SAAUhyB,GACzB,GAAIX,GAAOW,EAAMX,WACVW,GAAMX,KACbA,EAAMC,GAYP,OATqB,gBAAT7rB,KACX6rB,EAAUqO,EACVA,EAAal6B,EACbA,EAAOwI,GAEH0xB,IAAuB,IAATl6B,GAClBc,KAAKqrB,MAAOnsB,GAAQ,SAGdc,KAAKsc,KAAK,WAChB,GAAIwc,IAAU,EACbvV,EAAgB,MAARrkB,GAAgBA,EAAO,aAC/Bw+C,EAASvhC,GAAOuhC,OAChBpwC,EAAO6O,GAAO0E,MAAO7gB,KAEtB,IAAKujB,EACCjW,EAAMiW,IAAWjW,EAAMiW,GAAQuH,MACnC2yB,EAAWnwC,EAAMiW,QAGlB,KAAMA,IAASjW,GACTA,EAAMiW,IAAWjW,EAAMiW,GAAQuH,MAAQ6xB,GAAKl+B,KAAM8E,IACtDk6B,EAAWnwC,EAAMiW,GAKpB,KAAMA,EAAQm6B,EAAO74C,OAAQ0e,KACvBm6B,EAAQn6B,GAAQ3G,OAAS5c,MAAiB,MAARd,GAAgBw+C,EAAQn6B,GAAQ8H,QAAUnsB,IAChFw+C,EAAQn6B,GAAQ6H,KAAKN,KAAMC,GAC3B+N,GAAU,EACV4kB,EAAOt1B,OAAQ7E,EAAO,KAOnBuV,GAAY/N,GAChB5O,GAAO2c,QAAS94B,KAAMd,MAIzBs+C,OAAQ,SAAUt+C,GAIjB,OAHc,IAATA,IACJA,EAAOA,GAAQ,MAETc,KAAKsc,KAAK,WAChB,GAAIiH,GACHjW,EAAO6O,GAAO0E,MAAO7gB,MACrBqrB,EAAQ/d,EAAMpO,EAAO,SACrBusB,EAAQne,EAAMpO,EAAO,cACrBw+C,EAASvhC,GAAOuhC,OAChB74C,EAASwmB,EAAQA,EAAMxmB,OAAS,CAajC,KAVAyI,EAAKkwC,QAAS,EAGdrhC,GAAOkP,MAAOrrB,KAAMd,MAEfusB,GAASA,EAAM3M,KAAO2M,EAAM3M,IAAI0+B,QACpC/xB,EAAM3M,IAAI0+B,OAAOt7C,KAAMlC,MAIlBujB,EAAQm6B,EAAO74C,OAAQ0e,KACvBm6B,EAAQn6B,GAAQ3G,OAAS5c,MAAQ09C,EAAQn6B,GAAQ8H,QAAUnsB,IAC/Dw+C,EAAQn6B,GAAQ6H,KAAKN,MAAM,GAC3B4yB,EAAOt1B,OAAQ7E,EAAO,GAKxB,KAAMA,EAAQ,EAAGA,EAAQ1e,EAAQ0e,IAC3B8H,EAAO9H,IAAW8H,EAAO9H,GAAQi6B,QACrCnyB,EAAO9H,GAAQi6B,OAAOt7C,KAAMlC,YAKvBsN,GAAKkwC,YA2BfrhC,GAAOG,MACNqhC,UAAW1wB,EAAM,QACjB2wB,QAAS3wB,EAAM,QACf4wB,YAAa5wB,EAAM,UACnB6wB,QAAUz5C,QAAS,QACnB05C,SAAW15C,QAAS,QACpB25C,YAAc35C,QAAS,WACrB,SAAUlC,EAAM8mB,GAClB9M,GAAOiS,GAAIjsB,GAAS,SAAUg7C,EAAOt3C,EAAQC,GAC5C,MAAO9F,MAAKo9C,QAASn0B,EAAOk0B,EAAOt3C,EAAQC,MAI7CqW,GAAOghC,MAAQ,SAAUA,EAAOt3C,EAAQuoB,GACvC,GAAIxlB,GAAMu0C,GAA0B,gBAAjB,KAAOA,EAAP,YAAAhlC,IAAOglC,IAAqBhhC,GAAOlE,UAAYklC,IACjE5xB,SAAU6C,IAAOA,GAAMvoB,GACtBsW,GAAOiD,WAAY+9B,IAAWA,EAC/BnzB,SAAUmzB,EACVt3C,OAAQuoB,GAAMvoB,GAAUA,IAAWsW,GAAOiD,WAAYvZ,IAAYA,EAwBnE,OArBA+C,GAAIohB,SAAW7N,GAAO+O,GAAG+F,IAAM,EAA4B,gBAAjBroB,GAAIohB,SAAwBphB,EAAIohB,SACzEphB,EAAIohB,WAAY7N,IAAO+O,GAAG+N,OAAS9c,GAAO+O,GAAG+N,OAAQrwB,EAAIohB,UAAa7N,GAAO+O,GAAG+N,OAAO+F,SAGtE,MAAbp2B,EAAIyiB,QAA+B,IAAdziB,EAAIyiB,QAC7BziB,EAAIyiB,MAAQ,MAIbziB,EAAI86B,IAAM96B,EAAI2iB,SAEd3iB,EAAI2iB,SAAW,WACTpP,GAAOiD,WAAYxW,EAAI86B,MAC3B96B,EAAI86B,IAAIxhC,KAAMlC,MAGV4I,EAAIyiB,OACRlP,GAAO2c,QAAS94B,KAAM4I,EAAIyiB,QAIrBziB,GAGRuT,GAAOtW,QACNo4C,OAAQ,SAAU7+C,GACjB,MAAOA,IAER8+C,MAAO,SAAU9+C,GAChB,MAAO,GAAMiG,KAAK4P,IAAK7V,EAAEiG,KAAKc,IAAO,IAIvCgW,GAAOuhC,UACPvhC,GAAO+O,GAAKxkB,EAAMsG,UAAUggB,KAC5B7Q,GAAO+O,GAAGtB,KAAO,WAChB,GAAIuB,GACHuyB,EAASvhC,GAAOuhC,OAChB/4C,EAAI,CAIL,KAFAkkB,GAAQ1M,GAAO2M,MAEPnkB,EAAI+4C,EAAO74C,OAAQF,KAC1BwmB,EAAQuyB,EAAQ/4C,OAEC+4C,EAAQ/4C,KAAQwmB,GAChCuyB,EAAOt1B,OAAQzjB,IAAK,EAIhB+4C,GAAO74C,QACZsX,GAAO+O,GAAGJ,OAEXjC,GAAQnhB,GAGTyU,GAAO+O,GAAGC,MAAQ,SAAUA,GACtBA,KAAWhP,GAAOuhC,OAAO34C,KAAMomB,IACnChP,GAAO+O,GAAGrkB,SAIZsV,GAAO+O,GAAGizB,SAAW,GAErBhiC,GAAO+O,GAAGrkB,MAAQ,WACX41C,KACLA,GAAU2B,YAAajiC,GAAO+O,GAAGtB,KAAMzN,GAAO+O,GAAGizB,YAInDhiC,GAAO+O,GAAGJ,KAAO,WAChBuzB,cAAe5B,IACfA,GAAU,MAGXtgC,GAAO+O,GAAG+N,QACTqlB,KAAM,IACNC,KAAM,IAENvf,SAAU,KAIX7iB,GAAO+O,GAAG+xB,QAEL9gC,GAAO2hB,MAAQ3hB,GAAO2hB,KAAKgR,UAC/B3yB,GAAO2hB,KAAKgR,QAAQ0P,SAAW,SAAU5hC,GACxC,MAAOT,IAAOkD,KAAKlD,GAAOuhC,OAAQ,SAAUtvB,GAC3C,MAAOxR,KAASwR,EAAGxR,OACjB/X,SAGLsX,GAAOiS,GAAGjmB,OAAS,SAAUuR,GAC5B,GAAKyW,UAAUtrB,OACd,MAAO6U,KAAYhS,EAClB1H,KACAA,KAAKsc,KAAK,SAAU3X,GACnBwX,GAAOhU,OAAOs2C,UAAWz+C,KAAM0Z,EAAS/U,IAI3C,IAAIukC,GAASwV,EACZz0C,GAAQW,IAAK,EAAG8C,KAAM,GACtBkP,EAAO5c,KAAM,GACb6kB,EAAMjI,GAAQA,EAAKqD,aAEpB,IAAM4E,EAON,MAHAqkB,GAAUrkB,EAAIK,gBAGR/I,GAAOgH,SAAU+lB,EAAStsB,QAMW,KAA/BA,EAAK+hC,wBAChB10C,EAAM2S,EAAK+hC,yBAEZD,EAAMtxB,EAAWvI,IAEhBja,IAAKX,EAAIW,KAAS8zC,EAAIE,aAAe1V,EAAQp6B,YAAiBo6B,EAAQxI,WAAc,GACpFhzB,KAAMzD,EAAIyD,MAASgxC,EAAIG,aAAe3V,EAAQt6B,aAAiBs6B,EAAQ1I,YAAc,KAX9Ev2B,GAeTkS,GAAOhU,QAENs2C,UAAW,SAAU7hC,EAAMlD,EAAS/U,GACnC,GAAIuB,GAAWiW,GAAO+G,IAAKtG,EAAM,WAGf,YAAb1W,IACJ0W,EAAKjS,MAAMzE,SAAW,WAGvB,IAK+B44C,GAAQC,EALnCC,EAAU7iC,GAAQS,GACrBqiC,EAAYD,EAAQ72C,SACpB+2C,EAAY/iC,GAAO+G,IAAKtG,EAAM,OAC9BuiC,EAAahjC,GAAO+G,IAAKtG,EAAM,QAC/BwiC,GAAmC,aAAbl5C,GAAwC,UAAbA,IAA0BiW,GAAOsD,QAAQ,QAASy/B,EAAWC,KAAgB,EAC9Hl2B,KAAYo2B,IAGRD,IACJC,EAAcL,EAAQ94C,WACtB44C,EAASO,EAAYz0C,IACrBm0C,EAAUM,EAAY3xC,OAEtBoxC,EAASl6B,WAAYs6B,IAAe,EACpCH,EAAUn6B,WAAYu6B,IAAgB,GAGlChjC,GAAOiD,WAAY1F,KACvBA,EAAUA,EAAQxX,KAAM0a,EAAMjY,EAAGs6C,IAGd,MAAfvlC,EAAQ9O,MACZqe,EAAMre,IAAQ8O,EAAQ9O,IAAMq0C,EAAUr0C,IAAQk0C,GAE1B,MAAhBplC,EAAQhM,OACZub,EAAMvb,KAASgM,EAAQhM,KAAOuxC,EAAUvxC,KAASqxC,GAG7C,SAAWrlC,GACfA,EAAQ4lC,MAAMp9C,KAAM0a,EAAMqM,GAE1B+1B,EAAQ97B,IAAK+F,KAMhB9M,GAAOiS,GAAGnW,QAET/R,SAAU,WACT,GAAMlG,KAAM,GAAZ,CAIA,GAAIu/C,GAAcp3C,EACjBq3C,GAAiB50C,IAAK,EAAG8C,KAAM,GAC/BkP,EAAO5c,KAAM,EAwBd,OArBwC,UAAnCmc,GAAO+G,IAAKtG,EAAM,YAEtBzU,EAASyU,EAAK+hC,yBAGdY,EAAev/C,KAAKu/C,eAGpBp3C,EAASnI,KAAKmI,SACRgU,GAAOmF,SAAUi+B,EAAc,GAAK,UACzCC,EAAeD,EAAap3C,UAI7Bq3C,EAAa50C,KAAQuR,GAAO+G,IAAKq8B,EAAc,GAAK,kBAAkB,GACtEC,EAAa9xC,MAAQyO,GAAO+G,IAAKq8B,EAAc,GAAK,mBAAmB,KAOvE30C,IAAMzC,EAAOyC,IAAO40C,EAAa50C,IAAMuR,GAAO+G,IAAKtG,EAAM,aAAa,GACtElP,KAAMvF,EAAOuF,KAAO8xC,EAAa9xC,KAAOyO,GAAO+G,IAAKtG,EAAM,cAAc,MAI1E2iC,aAAc,WACb,MAAOv/C,MAAKqM,IAAI,WAEf,IADA,GAAIkzC,GAAev/C,KAAKu/C,cAAgBx2C,EAASmc,gBACzCq6B,IAAmBpjC,GAAOmF,SAAUi+B,EAAc,SAAsD,WAA1CpjC,GAAO+G,IAAKq8B,EAAc,aAC/FA,EAAeA,EAAaA,YAE7B,OAAOA,IAAgBx2C,EAASmc,qBAOnC/I,GAAOG,MAAO1N,WAAY,cAAeE,UAAW,eAAgB,SAAU4oC,EAAQxuB,GACrF,GAAIte,GAAM,IAAI6T,KAAMyK,EAEpB/M,IAAOiS,GAAIspB,GAAW,SAAUzzB,GAC/B,MAAO9H,IAAO2W,OAAQ9yB,KAAM,SAAU4c,EAAM86B,EAAQzzB,GACnD,GAAIy6B,GAAMtxB,EAAWxQ,EAErB,IAAKqH,IAAQvc,EACZ,MAAOg3C,GAAOx1B,IAAQw1B,GAAOA,EAAKx1B,GACjCw1B,EAAI31C,SAASmc,gBAAiBwyB,GAC9B96B,EAAM86B,EAGHgH,GACJA,EAAIe,SACF70C,EAAYuR,GAAQuiC,GAAM9vC,aAApBqV,EACPrZ,EAAMqZ,EAAM9H,GAAQuiC,GAAM5vC,aAI3B8N,EAAM86B,GAAWzzB,GAEhByzB,EAAQzzB,EAAKkM,UAAUtrB,OAAQ,SAYpCsX,GAAOG,MAAQojC,OAAQ,SAAUC,MAAO,SAAW,SAAUx9C,EAAMjD,GAClEid,GAAOG,MAAQw5B,QAAS,QAAU3zC,EAAMy9C,QAAS1gD,EAAM2gD,GAAI,QAAU19C,GAAQ,SAAU29C,EAAcC,GAEpG5jC,GAAOiS,GAAI2xB,GAAa,SAAUlK,EAAQn3C,GACzC,GAAIq0B,GAAY5C,UAAUtrB,SAAYi7C,GAAkC,iBAAXjK,IAC5D/xB,EAAQg8B,KAA6B,IAAXjK,IAA6B,IAAVn3C,EAAiB,SAAW,SAE1E,OAAOyd,IAAO2W,OAAQ9yB,KAAM,SAAU4c,EAAM1d,EAAMR,GACjD,GAAImmB,EAEJ,OAAK1I,IAAOhD,SAAUyD,GAIdA,EAAK7T,SAASmc,gBAAiB,SAAW/iB,GAI3B,IAAlBya,EAAKrD,UACTsL,EAAMjI,EAAKsI,gBAIJ7f,KAAKgJ,IACXuO,EAAK5T,KAAM,SAAW7G,GAAQ0iB,EAAK,SAAW1iB,GAC9Cya,EAAK5T,KAAM,SAAW7G,GAAQ0iB,EAAK,SAAW1iB,GAC9C0iB,EAAK,SAAW1iB,KAIXzD,IAAUgJ,EAEhByU,GAAO+G,IAAKtG,EAAM1d,EAAM4kB,GAGxB3H,GAAOxR,MAAOiS,EAAM1d,EAAMR,EAAOolB,IAChC5kB,EAAM6zB,EAAY8iB,EAASnuC,EAAWqrB,EAAW,WASvDzpB,EAAO6S,OAAS7S,EAAOuE,EAAIsO,GAcJ,kBAAX6jC,SAAyB3hD,EAAA,SAAcA,EAAA,QAAW8d,QAC7D6jC,OAAQ,YAAc,WAAc,MAAO7jC,OAGxC7S,SnBuvDE22C,KACA,SAAUhiD,EAAQG,EAAqBC,GAE7C,YACqB,IAAI0U,GAAoE1U,EAAoB,QACxF8R,EAA4E9R,EAAoBwC,EAAEkS,GAClGmtC,EAA8E7hD,EAAoB,QAClG8hD,EAAsF9hD,EAAoBwC,EAAEq/C,GAC5GE,EAAqE/hD,EAAoB,QACzFgiD,EAA6EhiD,EAAoBwC,EAAEu/C,GACnGE,EAAgFjiD,EAAoB,QACpGkiD,EAAwFliD,EAAoBwC,EAAEy/C,GAC9Gl/C,EAAkE/C,EAAoB,QACtFgD,EAA0EhD,EAAoBwC,EAAEO,GAChGo/C,EAA+DniD,EAAoB,QACnFoiD,EAAuEpiD,EAAoBwC,EAAE2/C,GAC7FE,EAA0CriD,EAAoB,QAC9DsiD,EAA8CtiD,EAAoB,QAClEuiD,EAAsCviD,EAAoB,QoB7jW7EwiD,EpBkmWK,SAAUC,GoBpiWnB,QAAAD,GAAY9+C,GAAKs+C,IAAArgD,KAAA6gD,EAAA,IAAA7+C,GAAAu+C,IAAAvgD,MAAA6gD,EAAA5+C,WAAAk+C,IAAAU,IAAA3+C,KAAAlC,MAEfgC,GAAKoC,SAAW,GAAIs8C,GAAA,GAAwBr0C,IAAKw0C,EAAKjiD,QAASD,MAAOoD,EAAKpD,MAAQc,SAAUihD,EAAA,IAC7F1+C,EAAK9C,KAAK,OACV8C,EAAKG,KAAKJ,EAAKI,KACfgO,IAAcnO,EAAKI,SAASL,EAE5B,IAAIqK,GAAKrK,EAAKqK,MAAMpK,EAAKI,SAASgM,GAPnB,OAQfhC,GAAKA,EAAKpK,EAAKI,SAASgM,IAAIpM,EAAKI,SAASgM,IAAIhC,EAC9CA,EAAKA,EAAKpK,EAAKI,SAASiM,IAAIrM,EAAKI,SAASiM,IAAIjC,EAC9CpK,EAAKI,SAASgK,KAAKA,EACnBpK,EAAKsE,MAAMN,IAAIoG,EAAMA,EAAM,GAE3BpK,EAAKkE,SAASrD,EAAEd,EAAKyB,MAAM,GAC3BxB,EAAKkE,SAASpD,EAAEf,EAAKyB,MAAM,GAC3BxB,EAAKkE,SAASnD,EAAE,EAAO,GAALqJ,EAAQ,IAE1BpK,EAAKyD,OAAS,WAIZ,GAAIE,GAAoB,KAAbwtB,KAAKrK,KACLzjB,MAAK07C,IAAI17C,KAAK2P,IAAI,GAAIrP,KAenCk7C,EAAK79C,QArCUhB,EpBwwWjB,MAnOAy+C,KAAuEI,EAAMC,GAE7Ez/C,IAA0Ew/C,EAAM,OAC9Ez9C,IAAK,OAeL1E,MAAO,SoBnlWG2jB,EAAQuD,GAClBA,EAAEA,GAAG,EACLvD,EAAQ2+B,UAAU,EAAG,EAAG,IAAK,KAC7B3+B,EAAQrW,UAAY,UACpBqW,EAAQ4+B,IAAI,GAAI,GAAI,GAAI,EAAa,EAAV57C,KAAKc,IAAQ,GACxCkc,EAAQ6+B,OAER7+B,EAAQrW,UAAY,uBACpBqW,EAAQ4+B,IAAI,GAAI,GAAI,GAAGr7B,EAAG,EAAa,EAAVvgB,KAAKc,IAAQ,GAC1Ckc,EAAQ6+B,UpBwmWR99C,IAAK,UAQL8D,IAAK,WoBnpWL,IAAI25C,EAAKM,SACT,CACE,GAAI71C,GAASvC,SAASwC,cAAc,SACpCD,GAAOE,MAAM,IACbF,EAAOG,OAAO,GACd,IAAI4W,GAAU/W,EAAOK,WAAW,KAChCk1C,GAAKO,KAAK/+B,EACV,IAAIzjB,GAAU,GAAI8hD,GAAA,EAAcp1C,EAChC1M,GAAQuN,aAAc,EACtB00C,EAAKM,SAASviD,EAEhB,MAAOiiD,GAAKM,apBqtWd9/C,IAA0Ew/C,IACxEz9C,IAAK,WACL1E,MAAO,SoBpnWAC,EAAOgH,EAAMC,EAAOC,EAAOC,GAClC9F,KAAKoC,SAASzD,MAAMiiD,EAAA,EAAajiD,GAC9BgH,GAAsB,gBAAPA,IAChBhH,EAAM,GAAI+hD,GAAA,EAAYE,EAAA,EAAajiD,IACnCiiD,EAAA,EAAa5gD,KAAKoE,SAASzF,MAAMA,EAAMgH,EAAKC,EAAMC,EAAOC,IAGzD9F,KAAKoE,SAASzF,MAAMqH,IAAI46C,EAAA,EAAajiD,OpB2oWvCyE,IAAK,cACL1E,MAAO,SoBtnWGuH,EAAGN,EAAKC,EAAMC,EAAOC,GAC5BH,GAAsB,gBAAPA,GAChBi7C,EAAA,EAAa5gD,KAAKkG,SAASD,EAAGN,EAAKC,EAAMC,EAAOC,GAEhD9F,KAAKkG,SAASF,IAAIC,EAAGpD,EAAEoD,EAAGnD,EAAEmD,EAAGlD,MpBgoWjCK,IAAK,cACL1E,MAAO,SoBtnWGuH,EAAGN,EAAKC,EAAMC,EAAOC,GAC/BG,EAAGpD,EAAEoD,EAAGpD,GAAKwC,KAAKc,GAAK,KACvBF,EAAGnD,EAAEmD,EAAGnD,GAAKuC,KAAKc,GAAK,KACvBF,EAAGlD,EAAEkD,EAAGlD,GAAKsC,KAAKc,GAAK,KACvBy6C,EAAA,EAAa5gD,KAAKoG,SAASH,EAAGN,EAAKC,EAAMC,EAAOC,MpBkoWhD1C,IAAK,WACL1E,MAAO,SoBznWAuH,EAAGN,EAAKC,EAAMC,EAAOC,GACzBH,GAAsB,gBAAPA,GAChBi7C,EAAA,EAAa5gD,KAAKsG,MAAML,EAAGN,EAAKC,EAAMC,EAAOC,GAE7C9F,KAAKsG,MAAMN,IAAIC,EAAGpD,EAAEoD,EAAGnD,EAAEmD,EAAGlD,MpB2nW9BK,IAAK,aACL1E,MAAO,SoBznWE6H,EAAWC,GACpB,GAAI4F,GAAwB,EAAnBpM,KAAKoC,SAASgK,IACvB,IAAIu0C,GAAA,EAAMj6C,MAAM1G,KAAKsG,OAAOK,IAAI9D,EAAEuJ,EAAKtJ,EAAEsJ,GAAOpM,KAAKoC,SAASwE,gBAAgBC,QAC9E,GAAI85C,GAAA,EAAMj6C,MAAM1G,KAAKoE,SAASzF,OAAOgI,GAAG,GAAI+5C,GAAA,EAAYE,EAAA,EAAa5gD,KAAKoC,SAASzD,QAASqB,KAAKoC,SAASwE,gBAAgBC,QAC1HN,EAAWO,eAAgB5H,KAAM,WAAY6H,OAAO/G,KAAMgH,SAASR,OpB4nWnEpD,IAAK,cACL1E,MAAO,SoB1nWG6H,EAAWC,GACrB,GAAI4F,GAAwB,IAAnBpM,KAAKoC,SAASgK,IACvB,IAAIu0C,GAAA,EAAMj6C,MAAM1G,KAAKsG,OAAOK,IAAI9D,EAAEuJ,EAAKtJ,EAAEsJ,GAAOpM,KAAKoC,SAASwE,gBAAgBC,QAE9E,GAAI85C,GAAA,EAAMj6C,MAAM1G,KAAKoE,SAASzF,OAAOgI,GAAG,GAAI+5C,GAAA,EAAYE,EAAA,EAAa5gD,KAAKoC,SAAS6E,aAAcjH,KAAKoC,SAASwE,gBAAgBC,QAC/HN,EAAWO,eAAgB5H,KAAM,YAAa6H,OAAO/G,KAAMgH,SAASR,OpB6nWpEpD,IAAK,cACL1E,MAAO,SoB5nWG6H,EAAWC,GACrBD,EAAWO,eAAgB5H,KAAM,YAAa6H,OAAO/G,KAAMgH,SAASR,QpBgoW/Dq6C,GoBt0WUH,EAAA,EAgNnBG,GAAK79C,MAAM,EACX69C,EAAKM,SAAS,KAEd/iD,EAAA,KpBqoWMijD,KACA,SAAUpjD,EAAQG,EAAqBC,GAE7C,YACqB,IAAIijD,GAAoCjjD,EAAoB,QACxDkjD,EAA2CljD,EAAoB,QAC/DmjD,EAA6CnjD,EAAoB,QACjEojD,EAA8CpjD,EAAoB,QAClEqjD,EAA8CrjD,EAAoB,QAClEsjD,EAAuDtjD,EAAoB,QAC3EujD,EAAmDvjD,EAAoB,QACvEwjD,EAAmDxjD,EAAoB,QACvEyjD,EAAkDzjD,EAAoB,QACtE0jD,EAAkD1jD,EAAoB,QACtE2jD,EAAoD3jD,EAAoB,OqBv3WjGijD,GAAA,EAAIW,IAAIV,EAAA,GAERnjD,EAAA,KAAmBmjD,GAAA,GACjBW,SAEIC,KAAM,IAEJC,SAAS,UAGXD,KAAM,SACNhgD,KAAM,QACJkgD,QAAO,EACPlrC,SAAS,mBACXmrC,UAAWd,EAAA,IAGPW,KAAM,UACNhgD,KAAM,SACNkgD,QAAO,EACPlrC,SAAS,eACTmrC,UAAWb,EAAA,IAGXU,KAAM,UACNhgD,KAAM,SACNkgD,QAAO,EACPlrC,SAAS,eACTmrC,UAAWZ,EAAA,IAGXS,KAAM,mBACNhgD,KAAM,kBACNkgD,QAAO,EACPlrC,SAAS,sBACTmrC,UAAWX,EAAA,IAGbQ,KAAM,eACNhgD,KAAM,cACNkgD,QAAO,EACPlrC,SAAS,sBACTmrC,UAAWV,EAAA,IAGTO,KAAM,eACNhgD,KAAM,cACNkgD,QAAO,EACPlrC,SAAS,sBACTmrC,UAAWT,EAAA,IAGbM,KAAM,cACNhgD,KAAM,aACNkgD,QAAO,EACPlrC,SAAS,sBACTmrC,UAAWR,EAAA,IAGbK,KAAM,cACNhgD,KAAM,aACNkgD,QAAO,EACPlrC,SAAS,sBACTmrC,UAAWP,EAAA,IAGXI,KAAM,eACNhgD,KAAM,cACNkgD,QAAO,EACPlrC,SAAS,sBACTmrC,UAAWN,EAAA,OrB04WXO,KACA,SAAUtkD,EAAQC,KAMlBskD,OACA,SAAUvkD,EAAQG,EAAqBC,GAE7C,YsBv+WA,SAAAwb,GAAAC,GACAzb,EAAA,QtBu+WqB,GAAIod,GAAiHpd,EAAoB,QsBx+W9JokD,EAAApkD,EAAA,QAGA4b,EAAA5b,EAAA,QAQA6b,EAAAL,EAKAM,EAAAF,EACAwB,EAAA,EACAgnC,EAAA,GATA,EAWAvoC,EAPA,kBAEA,KAUA9b,GAAA,EAAA+b,EAAA,StB++WMuoC,KACA,SAAUzkD,EAAQG,EAAqBC,GAE7C,YACqB,IAAI+O,GAAmD/O,EAAoB,OuBhgXhGD,GAAA,GvB6gXE+D,KuB3gXF,QvB4gXEkL,MuB1gXF,OvB4gXEC,KAAM,WACJ,OACEC,WuB3gXN,EvB4gXMC,QuB3gXN,GvB4gXMC,iBACEC,KuB3gXR,QvB4gXQ9C,IuBzgXR,WvB8gXE+C,WACAC,QAAS,WACP9F,KuBzgXJ9H,KvB2gXI6N,EAAEC,QAAQ,8BAA+B,SAAUC,GAOjD,GAAInF,IACFzG,KuB1gXR,OvB2gXQ2G,GAAIhB,KAAKkG,MuB1gXjB3B,IAEA0B,UvB2gXQE,MACEX,QACA3K,YuB1gXV,EvB2gXUhE,MuB1gXV,OvB2gXU8F,UuB1gXV,QvB2gXUJ,QuBzgXV,IvB2gXQ6J,MACEZ,QACA3O,MuBzgXV,UvB2gXQJ,MACE+O,QAEAq1C,gBuBtgXV,GvB2gXM50C,GAAQO,SAAS/K,QAAQ,SAAUoB,GAEjCiE,EAAIsF,KAAKZ,KAAKvI,MAAO5C,KAAMwC,EAAE4J,WAAWpM,KAAMxD,MAAO,SAAU6E,MAAOmB,EAAE4J,WAAWq0C,GAAIx2C,KuB1gX/F,GvB0gXqG/G,KAAKC,WAElGsD,EAAIrK,KAAK+O,KAAKvI,MAAO2J,SAAU/J,EAAE4J,WuB1gXzCpM,KvB2gXUwM,OuB1gXV,KvB2gXUk0C,YuB1gXV,GvB2gXUC,SuB1gXV,EvB2gXUC,gBuB1gXV,EvB2gXUC,YuB1gXV,GvB0gXuB39C,KAAKC,SAClB3G,MuB1gXV,OvB2gXUskD,UuB1gXV,OvB2gXUC,SuB1gXV,GvB0gXoB79C,KAAKC,SACfjD,QAASsC,EAAE4J,WAAWq0C,IAAK,SuB1gXrC,UvB2gXUlkD,MuB1gXV,EvB0gXiB2G,KAAKC,YAGhB,IAAI+G,GAAM,GAAIe,GAAkE,EuBzgXtFxE,EvB0gXMyD,GAAImC,mBAAoB3L,GAAI,EAAGC,GAAI,GAAIC,EAAG,IAAM,IuBxgXtD,KvB0gXMsJ,EAAIrB,iBAAiB,YAAa,SAAUxE,GAC1C,GAAIyH,GAAOzH,EuBzgXnBO,MvB0gXQ,IAAkB,SAAdkH,EAAK/O,KuBxgXjB,CvB0gXU,GAAIoO,MACA3O,EuBzgXd,SvBygXsB0G,KAAKC,QACjByI,GAAQO,SAAS/K,QAAQ,SAAUoB,GAEjC2I,EAAKvI,MACH2J,SAAU/J,EAAE4J,WuBzgX1BpM,KvB0gXcwM,OAAQV,EuBzgXtB9L,KvB0gXc0gD,YuBzgXd,GvB0gXcG,YuBzgXd,EvB0gXcG,YuBzgXd,IvB0gXcxkD,MuBzgXdA,EvB0gXcukD,SuBzgXd,GvBygXwB79C,KAAKC,SACf29C,UuBzgXd,SvB0gXc5gD,QAASsC,EAAE4J,WAAWq0C,GAAI30C,EAAK7L,SuBzgX7CwgD,IvB0gXclkD,MuBxgXd,EvBwgXqB2G,KAAKC,aAEhBgI,EAAKvI,MACH2J,SAAUT,EuBxgXtB9L,KvBygXYwM,OAAQV,EuBxgXpB9L,KvBygXY0gD,YuBxgXZ,GvBygXYG,YuBxgXZ,GvBygXYG,YuBxgXZ,GvBygXYxkD,MuBxgXZA,EvBygXYukD,SuBxgXZ,GvBygXY7gD,QAAS4L,EAAK7L,SAASwgD,GAAI30C,EAAK7L,SuBxgX5CwgD,IvBygXYlkD,MuBvgXZ,EvBugXmB2G,KAAKC,WAEd+G,EAAI+2C,UuBxgXd91C,YvB+gXMjB,EAAIrB,iBAAiB,WAAY,SAAUxE,GACzC,GAAIiI,GAAMjI,EuBxgXlBO,Mv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","file":"static/js/app.eae7271ae4f11bfe9641.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"+5pT\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"+j2c\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__three_js__ = __webpack_require__(\"tqxb\");\n/**\n * Webgl Shader Library for three.js\n *\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\n\n\n/**\n * 线条着色器,color,texure需要指定，流动效果请参考update实现\n * @type {{vertexShader: string, fragmentShader: string}}\n */\n__WEBPACK_IMPORTED_MODULE_0__three_js__[\"O\" /* ShaderLib */].line = {\n        uniforms: {\n                amplitude: { value: 1.0 },\n                color: { value: 0xffffff },\n                texture: { value: null }\n        },\n        vertexShader: [\"uniform float amplitude;\", \"attribute float size;\", \"attribute vec3 customColor;\", \"varying vec3 vColor;\", \"void main() {\", \"vColor = customColor;\", \"vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\", \"gl_PointSize = size;\", \"gl_Position = projectionMatrix * mvPosition;\", \"}\"].join(\"\\n\"),\n        fragmentShader: [\"uniform vec3 color;\", \"uniform sampler2D texture;\", \"varying vec3 vColor;\", \"void main() {\", \"gl_FragColor = vec4( color * vColor, 1.0 );\", \"gl_FragColor = gl_FragColor * texture2D( texture, gl_PointCoord );\", \"}\"].join(\"\\n\")\n\n        /**\n         * 物体内边缘发光\n         */\n};__WEBPACK_IMPORTED_MODULE_0__three_js__[\"O\" /* ShaderLib */].edgelight = {\n        uniforms: {\n                \"s\": { type: \"f\", value: -1.0 },\n                \"b\": { type: \"f\", value: 1.0 },\n                \"p\": { type: \"f\", value: 2.0 },\n                glowColor: { type: \"c\", value: new __WEBPACK_IMPORTED_MODULE_0__three_js__[\"g\" /* Color */](0x00ffff) }\n        },\n        vertexShader: [\"varying vec3 vNormal;\", \"varying vec3 vPositionNormal;\", \"void main() {\", \"vNormal = normalize( normalMatrix * normal ); \", // 转换到视图空间\n        \"vPositionNormal = normalize(( modelViewMatrix * vec4(position, 1.0) ).xyz);\", \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n        fragmentShader: [\"uniform vec3 glowColor;\", \"uniform float p;\", \"uniform float b;\", \"uniform float s;\", \"varying vec3 vNormal;\", \"varying vec3 vPositionNormal;\", \"void main() \", \"{\", \"  float a = pow( b + s * abs(dot(vNormal, vPositionNormal)), p );\", \"  gl_FragColor = vec4( glowColor, a );\", \"}\"].join(\"\\n\")\n\n        /**\n         * 创建着色器材质，根据shader\n         * @param {shader} shader  shader in three.ShaderlibExp\n         * @param {*} side default THREE.FrontSide\n         * @param {*} blending default THREE.AdditiveBlending\n         */\n};__WEBPACK_IMPORTED_MODULE_0__three_js__[\"O\" /* ShaderLib */].createShaderMaterial = function (shader, side, blending) {\n        var customMaterial = new __WEBPACK_IMPORTED_MODULE_0__three_js__[\"P\" /* ShaderMaterial */]({\n                uniforms: shader.uniforms,\n                vertexShader: shader.vertexShader,\n                fragmentShader: shader.fragmentShader,\n                side: side || __WEBPACK_IMPORTED_MODULE_0__three_js__[\"p\" /* FrontSide */],\n                blending: blending || __WEBPACK_IMPORTED_MODULE_0__three_js__[\"a\" /* AdditiveBlending */],\n                transparent: true\n        });\n        return customMaterial;\n};\n\nconsole.log(__WEBPACK_IMPORTED_MODULE_0__three_js__[\"O\" /* ShaderLib */]);\n\n/***/ }),\n\n/***/ \"/rLR\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrap\",staticClass:\"wrap\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"j1ja\");\nmodule.exports = __webpack_require__(\"NHnr\");\n\n\n/***/ }),\n\n/***/ \"0lfP\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(\"Zx67\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass__ = __webpack_require__(\"wxAW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(\"zwoO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits__ = __webpack_require__(\"Pf15\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__three_js__ = __webpack_require__(\"tqxb\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__tween_min_js__ = __webpack_require__(\"mHXv\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__util__ = __webpack_require__(\"LOkV\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__three_ShaderLibExp__ = __webpack_require__(\"+j2c\");\n\n\n\n\n\n\n\n/**\n * 3D地图.区域\n * Created by zhu18.github.io on 2017/11/19.\n * @author 朱润亚 <zhu18@vip.qq.com>\n * @version beta v1.0.3\n * @module Map3D\n */\n\n\n\n\n\n\n/**\n * 地图区域,继承{@link https://threejs.org/docs/#api/core/Object3D|THREE.Object3D}\n * @class\n * @extends THREE.Object3D\n * @example\n *\n *  let opt = {\n *     color:0x3366ff,     //地图颜色\n *     hoverColor:0xff9933,//鼠标移入颜色\n *     lineColor:0xffffff, //线颜色\n *     opacity:1,          //地图透明度\n *     hasPhong:true,      //是否反光材质\n *     shininess:50,       //反光材质光滑度\n *     hoverAnimaTime:100, //鼠标移入动画过渡时间\n *     loadEffect:false,      //区域加载效果\n *     hasHoverHeight:true,  //鼠标移入区域升高\n *  }\n *  // 创建一个区域\n *  let area = new Area(opt);\n *  // map 初始化以后可以获取\n *  let area = map.areaGroup.getObjectByName('北京')\n */\n\nvar Area = function (_THREE$Object3D) {\n  __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits___default()(Area, _THREE$Object3D);\n\n  /**\n   * 构造函数\n   * @param pros\n   */\n  function Area(pros) {\n    __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default()(this, Area);\n\n    var _this = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn___default()(this, (Area.__proto__ || __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default()(Area)).call(this, pros));\n    //调用实现父类的构造函数\n\n\n    _this.type = \"Area\";\n    _this.name = pros.name;\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(_this.userData, pros);\n    var coords = pros.coords;\n    _this._mesh = _this.getMesh(coords, pros);\n    _this._line = _this.getLine(coords, pros);\n\n    _this.add(_this._mesh);\n    _this.add(_this._line);\n\n    // 文字添加 待完善\n    // let tg=new THREE.Group();\n    // tg.name=this.name+'_text';\n    // tg.position.z=0.01;\n    // this._text = Font3D.create(this.name,{size:30,color:'#333333'});\n    // this._text.position.z=2.01;\n    // tg.add(this._text)\n    // this.add(tg);\n\n\n    if (pros.loadEffect) {\n      _this.setPosition({ x: 0, y: -40, z: -1000 });\n      _this.setPosition({ x: 0, y: 0, z: 0 }, 500, Area.count * 10, __WEBPACK_IMPORTED_MODULE_8__tween_min_js__[\"a\" /* default */].Easing.Quartic.Out);\n    }\n    Area.count++;\n    return _this;\n  }\n\n  /**\n   * 创建立体块\n   * @param {array} coords -  坐标经纬度，如：[112,22]\n   * @param {object} pros - 区域初始化属性\n   * @returns {*}\n   * @protected\n   */\n\n\n  __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default()(Area, [{\n    key: 'getMesh',\n    value: function getMesh(coords, pros) {\n      var _this2 = this;\n\n      if (!coords) return;\n      try {\n        var geo = new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"q\" /* Geometry */]();\n        coords.forEach(function (coord) {\n          var pts = _this2.getGeoPoints(coord);\n          var g = _this2.getExtrudeGeometry(pts);\n          geo.merge(g, g.matrix);\n        });\n\n        return this.getGeoMesh(geo, pros);\n      } catch (e) {\n        console.warn(\"Area.getMesh:\" + e.message);\n      }\n    }\n\n    /**\n     * 创建块的边缘线\n     * @param {array} coords -  坐标经纬度，如：[112,22]\n     * @param {object} pros - 区域初始化属性\n     * @returns {THREE.Group}\n     */\n\n  }, {\n    key: 'getLine',\n    value: function getLine(coords, pros) {\n      var _this3 = this;\n\n      if (!coords) return;\n\n      //mate\n      var material = new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"v\" /* LineBasicMaterial */]({\n        opacity: 1.0,\n        linewidth: 2,\n        polygonOffset: true, polygonOffsetFactor: 1,\n        color: this.userData.lineColor\n      });\n\n      //geo\n      var lines = new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"s\" /* Group */]();\n      coords.forEach(function (coord) {\n        var pts = _this3.getGeoPoints(coord);\n        var line = new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"q\" /* Geometry */]();\n        for (var i = 0, l = pts.length; i < l; i++) {\n          line.vertices.push(new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"_0\" /* Vector3 */](pts[i].x, pts[i].y, _this3.userData.extrude.amount + _this3.userData.extrude.amount / 100));\n        }\n\n        var lineMesh = new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"u\" /* Line */](line, material);\n\n        lines.add(lineMesh);\n      });\n\n      return lines;\n    }\n\n    /**\n     * 得到顶点数据\n     * @param coord\n     * @returns {Array}\n     * @protected\n     */\n\n  }, {\n    key: 'getGeoPoints',\n    value: function getGeoPoints(coord) {\n      try {\n        var pts = [];\n        for (var i = 0, l = coord.length; i < l; i++) {\n          pts.push(new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"Z\" /* Vector2 */](coord[i][0], coord[i][1]));\n        }\n        return pts;\n      } catch (e) {\n        console.log('getGeoPoints:parse coord error:' + __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(coord));\n      }\n    }\n\n    /**\n     * 拉伸块高度\n     * @param {array} pts - 顶点数组\n     * @returns {THREE.ExtrudeGeometry}\n     * @protected\n     */\n\n  }, {\n    key: 'getExtrudeGeometry',\n    value: function getExtrudeGeometry(pts) {\n      var shape = new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"Q\" /* Shape */](pts);\n      var extrude = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({}, this.userData.extrude);\n      var geo = new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"n\" /* ExtrudeGeometry */](shape, extrude);\n      return geo;\n    }\n\n    /**\n     * 拉伸块高度\n     * @param geo\n     * @param pros\n     * @returns {*}\n     */\n\n  }, {\n    key: 'getGeoMesh',\n    value: function getGeoMesh(geo, pros) {\n      var mateOption = {};\n      mateOption.color = pros.color != null ? __WEBPACK_IMPORTED_MODULE_9__util__[\"a\" /* colorToHex */](pros.color) : Math.random() * 0xffffff;\n      mateOption.shininess = pros.shininess || 100;\n      mateOption.transparent = true;\n      mateOption.opacity = typeof pros.opacity === 'undefined' ? this.userData.opacity : pros.opacity;\n\n      geo.computeFlatVertexNormals();\n      var geoMesh = null;\n\n      //   var shader = {\n      //     uniforms:\n      //     {\n      //         glowColor: { type: \"c\", value: new THREE.Color(mateOption.color) },\n      //         iTime: { type: \"f\", value: 1.0}\n      //     },\n      //     vertexShader: [\n      //         \"varying vec2 vUv;\",\n      //         \"void main() {\",\n      //         \"vUv = uv;\",\n      //         \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n      //         \"}\"\n      //     ].join(\"\\n\"),\n      //     fragmentShader: [\n      //         \"uniform vec3 glowColor;\",\n      //         \"uniform float iTime;\",\n      //         \"varying vec2 vUv;\",\n      //         \"float t=iTime;\",\n      //         \"vec3 col;\",\n      //         \"void main() {\",\n      //         \"col = 0.5 + 0.1 * sqrt(sin(iTime * dot(vUv,vUv) /glowColor));\",\n      //         \"gl_FragColor = vec4(1.0,col);\",\n      //         \"}\"\n      //     ].join(\"\\n\")\n      // }\n\n\n      // var customMaterial = new THREE.ShaderMaterial({\n      //     uniforms: shader.uniforms,\n      //     vertexShader: shader.vertexShader,\n      //     fragmentShader: shader.fragmentShader,\n      //     side: THREE.FrontSide,\n      //     blending: THREE.AdditiveBlending,\n      //     transparent: true\n      // })\n\n      this.update = function () {\n        //shader.uniforms.iTime.value += 0.05;\n      };\n      if (this.userData.hasPhong) geoMesh = new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"y\" /* Mesh */](geo, new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"B\" /* MeshPhongMaterial */](mateOption));else geoMesh = new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"y\" /* Mesh */](geo, new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"A\" /* MeshLambertMaterial */](mateOption));\n\n      //var geoMesh = THREE.SceneUtils.createMultiMaterialObject(geo,[new THREE.MeshPhongMaterial(mateOption),new THREE.MeshBasicMaterial({wireframe:true,color:0xffffff,transparent:true,opacity:0.35})])\n      return geoMesh;\n    }\n\n    /**\n     * Area的网格对象\n     * @returns {HTREE.Mesh}\n     */\n\n  }, {\n    key: 'setColor',\n\n\n    /**\n     * 设置区域颜色\n     * @param {color} color - 格式 0xff9933,'#ff9933','rgb(255,160,50)','hsl(340,100%,50%)'\n     * @param {number} [time] - 动画完成时间,与transition时间类似\n     * @param {number} [delay=0] - 动画延迟时间\n     * @param {Tween.Easing} [easing=line] -动画类型\n     * @param {callback} [callback] - 动画完成后回调\n     */\n    value: function setColor(color, time, delay, easing, callback) {\n      this.userData.color = __WEBPACK_IMPORTED_MODULE_9__util__[\"a\" /* colorToHex */](color);\n      if (time && typeof time === 'number') {\n        color = new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"g\" /* Color */](__WEBPACK_IMPORTED_MODULE_9__util__[\"a\" /* colorToHex */](color));\n        __WEBPACK_IMPORTED_MODULE_9__util__[\"c\" /* transition */](this.mesh.material.color, color, time, delay, easing, callback);\n      } else {\n        this.mesh.material.color.set(__WEBPACK_IMPORTED_MODULE_9__util__[\"a\" /* colorToHex */](color));\n      }\n    }\n\n    /**\n     * 设置区域位置\n     * @param {v3} v3 - 格式{x:0,y:0,z:0}\n     * @param {number} [time] - 动画完成时间,与transition时间类似\n     * @param {number} [delay=0] - 动画延迟时间\n     * @param {Tween.Easing} [easing=line] -动画类型\n     * @param {callback} [callback] - 动画完成后回调\n     */\n\n  }, {\n    key: 'setPosition',\n    value: function setPosition(v3, time, delay, easing, callback) {\n      if (time && typeof time === 'number') __WEBPACK_IMPORTED_MODULE_9__util__[\"c\" /* transition */](this.position, v3, time, delay, easing, callback);else this.position.set(v3.x, v3.y, v3.z);\n    }\n    /**\n     * 设置区域旋转\n     * @param {v3} v3 - 格式{x:0,y:0,z:0}\n     * @param {number} [time] - 动画完成时间,与transition时间类似\n     * @param {number} [delay=0] - 动画延迟时间\n     * @param {Tween.Easing} [easing=line] -动画类型\n     * @param {callback} [callback] - 动画完成后回调\n     */\n\n  }, {\n    key: 'setRotation',\n    value: function setRotation(v3, time, delay, easing, callback) {\n      v3.x = v3.x * (Math.PI / 180);\n      v3.y = v3.y * (Math.PI / 180);\n      v3.z = v3.z * (Math.PI / 180);\n      __WEBPACK_IMPORTED_MODULE_9__util__[\"c\" /* transition */](this.rotation, v3, time, delay, easing, callback);\n    }\n    /**\n     * 设置区域大小\n     * @param {v3} v3 - 格式{x:0,y:0,z:0}\n     * @param {number} [time] - 动画完成时间,与transition时间类似\n     * @param {number} [delay=0] - 动画延迟时间\n     * @param {Tween.Easing} [easing=line] -动画类型\n     * @param {callback} [callback] - 动画完成后回调\n     */\n\n  }, {\n    key: 'setScale',\n    value: function setScale(v3, time, delay, easingcallback) {\n      if (time && typeof time === 'number') __WEBPACK_IMPORTED_MODULE_9__util__[\"c\" /* transition */](this.scale, v3, time, delay, easing, callback);else this.scale.set(v3.x, v3.y, v3.z);\n    }\n\n    /**\n     * 鼠标移出事件\n     * @param dispatcher\n     * @param event\n     * @example\n     *\n     * map.addEventListener('mouseout', (event) => {\n       *    let obj = event.target;\n       *    console.log(obj.type+':out')\n       *  });\n     */\n\n  }, {\n    key: 'onmouseout',\n    value: function onmouseout(dispatcher, event) {\n      if (this.userData.hasHoverHeight) new __WEBPACK_IMPORTED_MODULE_8__tween_min_js__[\"a\" /* default */].Tween(this.position).to({ z: 0 }, this.userData.hoverAnimaTime)\n      //.easing(TWEEN.Easing.Quartic.Out)\n      .start();\n      new __WEBPACK_IMPORTED_MODULE_8__tween_min_js__[\"a\" /* default */].Tween(this.mesh.material.color).to(new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"g\" /* Color */](__WEBPACK_IMPORTED_MODULE_9__util__[\"a\" /* colorToHex */](this.userData.color)), this.userData.hoverAnimaTime)\n      //.easing(TWEEN.Easing.Quartic.Out)\n      .start();\n      dispatcher.dispatchEvent({ type: 'mouseout', target: this, orgEvent: event });\n    }\n    /**\n     * 鼠标移入事件\n     * @param dispatcher\n     * @param event\n     * @example\n     *\n     * map.addEventListener('mouseover', (event) => {\n       *    let obj = event.target;\n       *    console.log(obj.type+':over')\n       *  });\n     */\n\n  }, {\n    key: 'onmouseover',\n    value: function onmouseover(dispatcher, event) {\n      //区域移入高度\n      //this.selectedArea.position.z=1;\n      if (this.userData.hasHoverHeight) new __WEBPACK_IMPORTED_MODULE_8__tween_min_js__[\"a\" /* default */].Tween(this.position).to({ z: this.userData.extrude.amount / 2 }, this.userData.hoverAnimaTime)\n      //.easing(TWEEN.Easing.Quartic.Out)\n      .start();\n      //区域移入颜色\n      new __WEBPACK_IMPORTED_MODULE_8__tween_min_js__[\"a\" /* default */].Tween(this.mesh.material.color).to(new __WEBPACK_IMPORTED_MODULE_7__three_js__[\"g\" /* Color */](__WEBPACK_IMPORTED_MODULE_9__util__[\"a\" /* colorToHex */](this.userData.hoverColor)), this.userData.hoverAnimaTime)\n      //.easing(TWEEN.Easing.Quartic.Out)\n      .start();\n      dispatcher.dispatchEvent({ type: 'mouseover', target: this, orgEvent: event });\n    }\n    /**\n     * 鼠标单击事件\n     * @param dispatcher\n     * @param event\n     * @example\n     *\n     * map.addEventListener('mousedown', (event) => {\n       *    let obj = event.target;\n       *    console.log(obj.type+':click')\n       *  });\n     */\n\n  }, {\n    key: 'onmousedown',\n    value: function onmousedown(dispatcher, event) {\n      dispatcher.dispatchEvent({ type: 'mousedown', target: this, orgEvent: event });\n    }\n  }, {\n    key: 'mesh',\n    get: function get() {\n      return this._mesh;\n    }\n\n    /**\n     * Area的边缘线对象\n     * @returns {THREE.Group}\n     */\n\n  }, {\n    key: 'line',\n    get: function get() {\n      return this._line;\n    }\n  }]);\n\n  return Area;\n}(__WEBPACK_IMPORTED_MODULE_7__three_js__[\"C\" /* Object3D */]);\n/**\n * 区域数量\n * @static\n * @type {number}\n */\n\n\nArea.count = 0;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Area);\n\n/***/ }),\n\n/***/ \"3pOn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(\"BO1k\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Detector_js__ = __webpack_require__(\"uJJO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Detector_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__Detector_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__three_js__ = __webpack_require__(\"tqxb\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__tween_min_js__ = __webpack_require__(\"mHXv\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__OrbitControls_js__ = __webpack_require__(\"bZxG\");\n\n\n/**\n * Created by jusfoun-fe.github.io on 2017/10/26.\n * 星云特效\n */\n\n\n\n\n\n\nvar scene = void 0;\nvar camera = void 0;\nvar renderer = void 0;\nvar render_w = void 0;\nvar render_h = void 0;\nvar controls = void 0;\n/*\n* 参数格式\n {\n    el:document.body,           //渲染元素，默认为body\n    pointsCloud:[               //星云集合\n                 {size:1,       //星点大小\n                 color:0xffffff,//星点颜色\n                 opacity:1,     //星点透明度\n                 count:10000,   //星点数量\n                 offset:0.001   //移动速度\n                 map:null}      //星点图片 Image对象, 注意：如果使用map,请保证Image图片完全加载。\n                 ],\n    wireframe:false,            //调试线框\n }\n* */\nfunction Nebula(o) {\n    var opt = {\n        wireframe: false,\n        el: document.body,\n        pointsCloud: []\n    };\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(opt, o);\n    this.opt = opt;\n    var self = this;\n\n    if (!__WEBPACK_IMPORTED_MODULE_2__Detector_js___default.a.webgl) {\n        console.log('不支持webgl,停止星云效果渲染.');\n        return;\n    }\n\n    this.pointsCloudObjects = [];\n    render_w = window.innerWidth;\n    render_h = window.innerHeight;\n\n    scene = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"N\" /* Scene */]();\n    camera = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"E\" /* PerspectiveCamera */](70, render_w / render_h, 1, 5000);\n    renderer = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"_1\" /* WebGLRenderer */]({ alpha: true });\n    camera.position.set(30, 30, 150);\n    camera.lookAt(scene.position);\n    renderer.setSize(render_w, render_h);\n\n    //视角\n    var rotateV = {\n        x: 0.15 * Math.PI,\n        y: 0.1 * Math.PI,\n        z: 0\n    };\n    if (opt.wireframe) {\n        var boxGeom = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"d\" /* BoxGeometry */](100, 100, 100);\n        var boxMate = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"z\" /* MeshBasicMaterial */]({ wireframe: true });\n        var box = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"y\" /* Mesh */](boxGeom, boxMate);\n        box.rotation.set(rotateV.x, rotateV.y, rotateV.z);\n        scene.add(box);\n    }\n\n    //创建星云\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(opt.pointsCloud), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var pc = _step.value;\n\n            var pcObject = createPointsCloud(pc);\n            pcObject.offset = pc.offset;\n            this.pointsCloudObjects.push(pcObject);\n            scene.add(pcObject);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    camera.lookAt(scene.position);\n    renderer.domElement.style.position = 'absolute';\n    renderer.domElement.style.top = '0';\n    opt.el.appendChild(renderer.domElement);\n\n    controls = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"OrbitControls\"](camera, renderer.domElement);\n    controls.userPan = false;\n    controls.autoRotate = false;\n\n    renderScene();\n    window.addEventListener('resize', onWindowResize, false);\n\n    function renderScene() {\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n            for (var _iterator2 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(self.pointsCloudObjects), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                var pco = _step2.value;\n\n                pco.rotation.y += pco.offset;\n            }\n        } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                    _iterator2.return();\n                }\n            } finally {\n                if (_didIteratorError2) {\n                    throw _iteratorError2;\n                }\n            }\n        }\n\n        requestAnimationFrame(renderScene);\n        __WEBPACK_IMPORTED_MODULE_4__tween_min_js__[\"a\" /* default */].update();\n        renderer.render(scene, camera);\n        controls.update();\n    }\n}\n\nNebula.prototype = {\n    /*\n    * opt:{\n    *   x:2 * Math.PI,    //x轴旋转一周\n    *   y:2 * Math.PI,    //y轴旋转一周\n    *   z:2 * Math.PI,    //z轴旋转一周\n    *   }\n    * time:1000 //旋转时间\n    * */\n    rotate: function rotate(opt, time) {\n        if (!__WEBPACK_IMPORTED_MODULE_2__Detector_js___default.a.webgl) {\n            return;\n        }\n        time = time || 2000;\n        __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(opt, { x: 0, y: 2, z: 0 }, opt);\n        var rotateValue = {\n            x: scene.rotation.x + opt.x,\n            y: scene.rotation.y + opt.y,\n            z: scene.rotation.z + opt.z\n        };\n\n        new __WEBPACK_IMPORTED_MODULE_4__tween_min_js__[\"a\" /* default */].Tween(scene.rotation).to(rotateValue, time).start();\n    }\n};\n\nfunction getTexture(img) {\n    var w = 128;\n    var h = 128;\n    var canvas = document.createElement('canvas');\n    canvas.width = w;\n    canvas.height = h;\n    var ctx = canvas.getContext('2d');\n\n    if (img) {\n        ctx.drawImage(img, 0, 0);\n    } else {\n        var gradient = ctx.createRadialGradient(w / 2, h / 2, 0, w / 2, h / 2, w / 2);\n        gradient.addColorStop(0, 'rgba(255,255,255,1)');\n        gradient.addColorStop(1, 'rgba(255,255,255,0)');\n\n        ctx.fillStyle = gradient;\n        ctx.fillRect(0, 0, w, h);\n        ctx.beginPath();\n    }\n\n    var texture = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"X\" /* Texture */](canvas);\n    texture.needsUpdate = true;\n    return texture;\n}\n\nfunction createPointsCloud(o) {\n    var opt = {\n        size: 1,\n        color: 0xffffff,\n        opacity: 1,\n        count: 0,\n        map: null\n    };\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(opt, o);\n\n    var starsGeometry = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"q\" /* Geometry */]();\n    for (var i = 0; i < opt.count; i++) {\n        var star = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"_0\" /* Vector3 */]();\n        star.x = __WEBPACK_IMPORTED_MODULE_3__three_js__[\"x\" /* Math */].randFloatSpread(1000);\n        star.y = __WEBPACK_IMPORTED_MODULE_3__three_js__[\"x\" /* Math */].randFloatSpread(1000);\n        star.z = __WEBPACK_IMPORTED_MODULE_3__three_js__[\"x\" /* Math */].randFloatSpread(1000);\n        star.fog = false;\n        starsGeometry.vertices.push(star);\n    }\n\n    var starsMaterial = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"I\" /* PointsMaterial */]({\n        size: opt.size,\n        // vertexColors: true,\n        color: opt.color,\n        transparent: true,\n        blending: __WEBPACK_IMPORTED_MODULE_3__three_js__[\"a\" /* AdditiveBlending */],\n        depthWrite: false,\n        opacity: opt.opacity,\n        map: getTexture(opt.map)\n    });\n\n    var starField = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"H\" /* Points */](starsGeometry, starsMaterial);\n    return starField;\n}\n\nfunction onWindowResize() {\n    render_w = window.innerWidth;\n    render_h = window.innerHeight;\n    camera.aspect = render_w / render_h;\n    camera.updateProjectionMatrix();\n    renderer.setSize(render_w, render_h);\n    console.log('resize');\n}\n\n\"undefined\" != typeof module && module.exports && (module.exports = Nebula);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Nebula);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"f1Eh\")(module)))\n\n/***/ }),\n\n/***/ \"3rnE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_assets_js_Map3D_js__ = __webpack_require__(\"xRke\");\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: \"map3d\",\n  title: \"地图-数据范围\",\n\n  data: function data() {\n    return {\n      isOverMap: false,\n      mapName: \"\",\n      mapTitlePositon: {\n        left: \"800px\",\n        top: \"600px\"\n      }\n    };\n  },\n\n  methods: {},\n  mounted: function mounted() {\n    self = this;\n\n    $.getJSON(\"./static/mapdata/china.json\", function (geoData) {\n      var opt = {\n        name: \"map1\",\n        el: self.$refs.map,\n        geoData: geoData,\n        //debugger: true,\n        area: {\n          data: [],\n          color: 0x052659,\n          lineColor: 0x1481ba\n        },\n        mark: {\n          data: [],\n          color: 0xffffff\n        },\n        line: {\n          data: []\n        },\n        dataRange: {\n          data: [{ name: \"高\", min: 90, color: 0x0066e4 }, { name: \"高\", min: 80, max: 90, color: 0x207be6 }, { name: \"中\", min: 60, max: 80, color: 0x329de8 }, { name: \"低\", max: 60, min: 30, color: 0x66b6fd }]\n        }\n      };\n\n      //添加区域数据\n      geoData.features.forEach(function (i) {\n        //线数据\n        opt.area.data.push({\n          name: i.properties.name,\n          value: Math.random() * 100,\n          color: 0x3399ff\n          //loadEffect:true,\n        });\n      });\n\n      var map = new __WEBPACK_IMPORTED_MODULE_0_assets_js_Map3D_js__[\"a\" /* default */](opt);\n      map.setCameraPosition({ x: -2, y: -26, z: 30 }, 1000, 300);\n\n      map.addEventListener(\"mousedown\", function (event) {\n        var area = event.target;\n        if (area.type === \"Area\") {\n          //map.mark.data=[];\n          // map.mark.data.push({name:'台风-依安',coord:[116,23],value:2,color:0xff0000,size:4,value:12},);\n          // map.initMark();\n        }\n      });\n\n      map.addEventListener(\"mouseout\", function (event) {\n        var obj = event.target;\n        self.isOverMap = false;\n      });\n      var haloColorR, haloColorG, haloColorB;\n      map.addEventListener(\"mouseover\", function (event) {\n        var obj = event.target;\n        switch (obj.type) {\n          case \"Line\":\n            self.mapName = obj.userData.fromName + \"-\" + obj.userData.toName;\n            break;\n          case \"Mark\":\n            break;\n          case \"DataRange\":\n            self.mapName = obj.userData.name + \":\" + (obj.userData.min || \"\") + \"-\" + (obj.userData.max || \"\");\n            break;\n          case \"Area\":\n            self.mapName = obj.userData.name;\n            break;\n          default:\n            self.mapName = obj.userData.name;\n            break;\n        }\n\n        self.isOverMap = true;\n        self.mapTitlePositon.left = $(window).scrollLeft() + event.clientX + 20 + \"px\";\n        self.mapTitlePositon.top = $(window).scrollTop() + event.clientY + 20 + \"px\";\n      });\n\n      map.addEventListener(\"resize\", function (event) {\n        console.log(\"map resize...\");\n      });\n      // map.addCameraPosition({x:-30,y:15,z:15},1000)\n      //map.setPosition({x:-13,y:0,z:35})\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"4otN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(\"wxAW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Detector_js__ = __webpack_require__(\"uJJO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Detector_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__Detector_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__three_js__ = __webpack_require__(\"tqxb\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__tween_min_js__ = __webpack_require__(\"mHXv\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__OrbitControls_js__ = __webpack_require__(\"bZxG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__stats_js__ = __webpack_require__(\"pjjz\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__stats_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__stats_js__);\n\n\n\n/**\n * Created by jusfoun-fe.github.io on 2017/11/08.\n * 星系运动\n */\n\n\n\n\n\n\nvar scene = void 0;\nvar sceneAir = void 0;\nvar camera = void 0;\nvar renderer = void 0;\nvar controls = void 0;\nvar raycaster = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"L\" /* Raycaster */]();\nvar mouse = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"Z\" /* Vector2 */]();\nvar stats = void 0;\n\nvar starTextClass = 'star-text';\nvar starTextHoverClass = 'star-text-hover';\nvar el = void 0;\n\nvar Shaders = {\n    'earth': {\n        uniforms: {\n            \"texture\": { type: 't', texture: null }\n        },\n        vertexShader: [\"varying vec3 vNormal;\", \"varying vec2 vUv;\", \"void main() {\", \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"vNormal = normalize( normalMatrix * normal );\", \"vUv = uv;\", \"}\"].join(\"\\n\"),\n        fragmentShader: [\"uniform sampler2D texture;\", \"varying vec3 vNormal;\", \"varying vec2 vUv;\", \"void main() {\", \"vec3 diffuse = texture2D( texture, vUv ).xyz;\", \"float intensity = 1.05 - dot( vNormal, vec3( 0.0, 0.0, 1.0 ) );\", \"vec3 atmosphere = vec3( 1.0, 1.0, 1.0 ) * pow( intensity,3.0 );\", \"gl_FragColor = vec4( diffuse + atmosphere, 1.0 );\", \"}\"].join(\"\\n\")\n    },\n    'atmosphere': {\n        uniforms: {},\n        vertexShader: [\"varying vec3 vNormal;\", \"void main() {\", \"vNormal = normalize( normalMatrix * normal );\", \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.2 );\", \"}\"].join(\"\\n\"),\n        fragmentShader: [\"varying vec3 vNormal;\", \"void main() {\", \"float intensity = pow( 0.8 - dot( vNormal, vec3( 0, 0, 1.0 ) ), 12.0 );\", \"gl_FragColor = vec4( 1.0, 1.0, 1.0, 1.0 ) * intensity;\", \"}\"].join(\"\\n\")\n    }\n};\nfunction initStats() {\n    var stats = new __WEBPACK_IMPORTED_MODULE_7__stats_js___default.a();\n    stats.setMode(0); //0:fps |1:ms\n    stats.domElement.style.position = 'absolute';\n    stats.domElement.style.top = '60px';\n    stats.domElement.style.right = '0px';\n    el.appendChild(stats.domElement);\n    return stats;\n}\n\n// 星点\nvar starsPoint = void 0;\nfunction stars() {\n    var starsGeometry = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"q\" /* Geometry */]();\n    for (var i = 0; i < 10000; i++) {\n        var starVector = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"_0\" /* Vector3 */](__WEBPACK_IMPORTED_MODULE_4__three_js__[\"x\" /* Math */].randFloatSpread(2000), __WEBPACK_IMPORTED_MODULE_4__three_js__[\"x\" /* Math */].randFloatSpread(2000), __WEBPACK_IMPORTED_MODULE_4__three_js__[\"x\" /* Math */].randFloatSpread(2000));\n        starsGeometry.vertices.push(starVector);\n    }\n    var starsMaterial = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"I\" /* PointsMaterial */]({ color: 0x888888, size: 1, sizeAttenuation: false, alphaTest: 0.5, transparent: true });\n    starsPoint = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"H\" /* Points */](starsGeometry, starsMaterial);\n    scene.add(starsPoint);\n}\n\nvar Galaxy = function () {\n    function Galaxy(o) {\n        __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, Galaxy);\n\n        if (!__WEBPACK_IMPORTED_MODULE_3__Detector_js___default.a.webgl) {\n            console.log('不支持webgl,停止渲染.');\n            return;\n        }\n\n        this.stars = [];\n\n        var opt = {\n            el: document.body\n        };\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()(opt, o);\n        el = opt.el;\n\n        stats = initStats();\n\n        scene = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"N\" /* Scene */]({ antialias: true });\n        camera = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"E\" /* PerspectiveCamera */](70, window.innerWidth / window.innerHeight, 1, 5000);\n        renderer = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"_1\" /* WebGLRenderer */]({ alpha: true });\n        renderer.clear();\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        camera.position.set(30, 300, 1500);\n        camera.lookAt(scene.position);\n        controls = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"OrbitControls\"](camera, renderer.domElement);\n        controls.userPan = false;\n        controls.autoRotate = false;\n\n        stars();\n\n        var spotLight = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"G\" /* PointLight */](0xffffff, 1, 0, 2);\n        scene.add(spotLight);\n\n        var spotLighth = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"G\" /* PointLight */](spotLight);\n        scene.add(spotLighth);\n\n        var al = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"b\" /* AmbientLight */](0x333333);\n        scene.add(al);\n\n        var sun = createStar({ name: '太阳', size: 20, emissive: 0xe65f05, map: __WEBPACK_IMPORTED_MODULE_4__three_js__[\"t\" /* ImageUtils */].loadTexture('static/sun.jpg'),\n            revspeed: 0.01, //公转速度\n            rotspeed: 0.01 //自转速度\n        });\n        this.stars.push(sun);\n\n        var suixin = createStar({ name: '水星', size: 3, dist: 40, emissive: 0xe65f05, map: __WEBPACK_IMPORTED_MODULE_4__three_js__[\"t\" /* ImageUtils */].loadTexture('static/shuixin.png'),\n            revspeed: 0.01,\n            rotspeed: 0.01\n        });\n        this.stars.push(suixin);\n\n        var jinxin = createStar({ name: '金星', color: 0xcceeff, dist: -60, mateType: 2, map: __WEBPACK_IMPORTED_MODULE_4__three_js__[\"t\" /* ImageUtils */].loadTexture('static/jinxin.png'),\n            revspeed: 0.007,\n            rotspeed: 0.01\n        });\n        this.stars.push(jinxin);\n\n        var s2 = createStar({ name: '地球', color: 0xcceeff, dist: 80, mateType: 2, map: __WEBPACK_IMPORTED_MODULE_4__three_js__[\"t\" /* ImageUtils */].loadTexture('static/world.jpg'),\n            revspeed: 0.007,\n            rotspeed: 0.01\n        });\n        s2.rotation.x = 0.3;\n        this.stars.push(s2);\n\n        var s21 = createStar({ name: '月球', color: 0x888888, size: 1, dist: 13, mateType: 2, parent: s2,\n            revspeed: 0.03,\n            rotspeed: 0.01\n        });\n        this.stars.push(s21);\n\n        var s3 = createStar({ name: '火星', color: 0xff9933, size: 5, dist: -100, mateType: 2, map: __WEBPACK_IMPORTED_MODULE_4__three_js__[\"t\" /* ImageUtils */].loadTexture('static/a.jpg'),\n            revspeed: 0.005,\n            rotspeed: 0.01\n        });\n        this.stars.push(s3);\n\n        var s4 = createStar({ name: '木星', color: 0xcceeff, size: 15, dist: 120, mateType: 2, map: __WEBPACK_IMPORTED_MODULE_4__three_js__[\"t\" /* ImageUtils */].loadTexture('static/muxin.png'),\n            revspeed: 0.003,\n            rotspeed: 0.01\n        });\n        this.stars.push(s4);\n\n        var s5 = createStar({ name: '土星', color: 0x669966, size: 12, dist: -140, mateType: 2, map: __WEBPACK_IMPORTED_MODULE_4__three_js__[\"t\" /* ImageUtils */].loadTexture('static/tuxin.png'),\n            revspeed: 0.01,\n            rotspeed: 0.02\n        });\n        this.stars.push(s5);\n        //土星光环\n        var tu_huan_geometry = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"h\" /* CylinderGeometry */](15, 22, 0, 50, 100, true);\n        var tu_huan_material = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"A\" /* MeshLambertMaterial */]({\n            emissive: 0x669966,\n            map: __WEBPACK_IMPORTED_MODULE_4__three_js__[\"t\" /* ImageUtils */].loadTexture(\"static/tuxin1.png\"),\n            side: __WEBPACK_IMPORTED_MODULE_4__three_js__[\"k\" /* DoubleSide */]\n        });\n        var tu_huan = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"y\" /* Mesh */](tu_huan_geometry, tu_huan_material);\n        tu_huan.rotation.set(0.5, 0, 0);\n        s5.add(tu_huan);\n\n        var s6 = createStar({ name: '天王星', color: 0x663333, size: 10, dist: 160, mateType: 1, map: __WEBPACK_IMPORTED_MODULE_4__three_js__[\"t\" /* ImageUtils */].loadTexture('static/tianwangxin.png'),\n            revspeed: 0.01,\n            rotspeed: 0.02\n        });\n        this.stars.push(s6);\n\n        var s7 = createStar({ name: '海王星', color: 0x663333, size: 9, dist: -180, mateType: 1, map: __WEBPACK_IMPORTED_MODULE_4__three_js__[\"t\" /* ImageUtils */].loadTexture('static/haiwangxin.png'),\n            revspeed: 0.006,\n            rotspeed: 0.02\n        });\n        this.stars.push(s7);\n\n        var s8 = createStar({ name: '冥王星', color: 0x663333, size: 2, dist: 200, mateType: 1,\n            revspeed: 0.005,\n            rotspeed: 0.02\n        });\n        this.stars.push(s8);\n\n        this.stars.forEach(function (star) {\n            if (!star.opt.parent) {\n                scene.add(star);\n                scene.add(star.line);\n            } else {\n                star.opt.parent.add(star);\n                star.opt.parent.add(star.line);\n            }\n        });\n\n        renderer.domElement.style.position = 'absolute';\n        renderer.domElement.style.top = '0';\n        opt.el.appendChild(renderer.domElement);\n        this.renderScene();\n\n        window.addEventListener('resize', _onResize, false);\n        el.addEventListener('mousemove', _onMouseMove, false);\n        el.addEventListener('mousedown', _onMouseDown, false);\n\n        var rotateValue = {\n            x: scene.rotation.x,\n            y: scene.rotation.y + 2 * Math.PI,\n            z: scene.rotation.z\n        };\n\n        new __WEBPACK_IMPORTED_MODULE_5__tween_min_js__[\"a\" /* default */].Tween(scene.rotation).to(rotateValue, 2000).start();\n        new __WEBPACK_IMPORTED_MODULE_5__tween_min_js__[\"a\" /* default */].Tween(camera.position).to({ x: 30, y: 30, z: 150 }, 2000).start();\n    }\n\n    __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(Galaxy, [{\n        key: 'renderScene',\n        value: function renderScene() {\n            starsPoint.rotation.y += 0.0005;\n            if (!isSelectedStar) {\n                this.stars.forEach(function (star) {\n                    var starOpt = star.opt;\n                    star.rotation.y = star.rotation.y + starOpt.rotspeed; //自转\n                    starOpt.positionOffset = starOpt.positionOffset + starOpt.revspeed;\n                    star.position.set(starOpt.dist * Math.sin(starOpt.positionOffset), 0, starOpt.dist * Math.cos(starOpt.positionOffset)); //公转\n                });\n            }\n\n            requestAnimationFrame(this.renderScene.bind(this));\n            __WEBPACK_IMPORTED_MODULE_5__tween_min_js__[\"a\" /* default */].update();\n            stats.update();\n            controls.update();\n            renderer.render(scene, camera);\n        }\n    }]);\n\n    return Galaxy;\n}();\n\nfunction createStar(o) {\n    var opt = {\n        name: '',\n        size: 10,\n        dist: 0, //距离中心距离\n        color: 0xffffff,\n        emissive: 0x000000,\n        line: true, // 是否显示轨迹\n        mateType: 1, // 1发光星球,2粗糙表面,3光滑表面\n        map: null,\n        side: __WEBPACK_IMPORTED_MODULE_4__three_js__[\"k\" /* DoubleSide */],\n        revspeed: 0.01, //公转速度\n        rotspeed: 0.01, //自转速度\n        positionOffset: 0 //公转位移\n    };\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()(opt, o);\n    //球体\n    var geo = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"R\" /* SphereGeometry */](opt.size, 40, 40);\n    var mate = getMateByType(opt.mateType)(opt);\n    var mesh = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"y\" /* Mesh */](geo, mate);\n    mesh.position.set(opt.dist, 0, 0);\n    mesh.opt = opt;\n    mesh.isStar = true;\n\n    //txt\n    var div = document.createElement('div');\n    div.className = starTextClass;\n    div.innerHTML = opt.name;\n    div.style.position = 'absolute';\n    el.appendChild(div);\n    mesh.txt = div;\n\n    if (opt.line) {\n        //line\n        var track = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"y\" /* Mesh */](new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"M\" /* RingGeometry */](opt.dist - 0.2, opt.dist + 0.2, 64, 1), new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"z\" /* MeshBasicMaterial */]({ color: 0x888888, side: __WEBPACK_IMPORTED_MODULE_4__three_js__[\"k\" /* DoubleSide */], transparent: true, opacity: 0.3 }));\n        track.rotation.x = -Math.PI / 2;\n        mesh.line = track;\n    }\n\n    return mesh;\n}\n\nfunction getMateByType(type) {\n    var mate = null;\n    switch (type) {\n        //1发光星球\n        case 1:\n            mate = function mate(opt) {\n                opt.emissiveMap = opt.map;\n                return new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"A\" /* MeshLambertMaterial */](opt);\n            };\n            break;\n        //2粗糙表面\n        case 2:\n            mate = function mate(opt) {\n                return new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"A\" /* MeshLambertMaterial */](opt);\n            };\n            break;\n        //3光滑表面\n        case 3:\n            mate = function mate(opt) {\n                opt.shininess = 300;\n                return new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"B\" /* MeshPhongMaterial */](opt);\n            };\n            break;\n    }\n    return mate;\n}\n\nfunction getXY(world_vector) {\n    var vector = world_vector.project(camera);\n    var halfWidth = window.innerWidth / 2;\n    var halfHeight = window.innerHeight / 2;\n    var result = {\n        x: Math.round(vector.x * halfWidth + halfWidth),\n        y: Math.round(-vector.y * halfHeight + halfHeight)\n    };\n    return result;\n}\n\nvar isSelectedStar = false;\nfunction showName(star, isShow) {\n    if (!star) return;\n    isSelectedStar = isShow;\n\n    var v3 = star.position;\n    if (star.opt.parent) {\n        v3 = star.opt.parent.position;\n    }\n    var xy = getXY(new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"_0\" /* Vector3 */](v3.x, v3.y + star.opt.size, v3.z));\n    star.txt.style.top = xy.y - 50 + 'px';\n    star.txt.style.left = xy.x - 50 + 'px';\n    var className = star.txt.className;\n    if (isShow) {\n        if (className.indexOf(starTextHoverClass) == -1) star.txt.className = className + ' ' + starTextHoverClass;\n    } else {\n        star.txt.className = className.replace(' ' + starTextHoverClass, '');\n    }\n}\n\nfunction _onResize() {\n\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n}\n\nvar mouseOverObj = void 0,\n    mouseOverObjMate = void 0;\nfunction _onMouseMove() {\n    event.preventDefault();\n    mouse.x = event.offsetX / window.innerWidth * 2 - 1;\n    mouse.y = -(event.offsetY / window.innerHeight) * 2 + 1;\n\n    raycaster.setFromCamera(mouse, camera);\n    var intersects = raycaster.intersectObjects(scene.children, true);\n\n    if (intersects.length > 0) {\n\n        if (mouseOverObj) {\n            showName(mouseOverObj, false);\n            mouseOverObj.material = mouseOverObjMate;\n        }\n\n        for (var i = 0; i < intersects.length; i++) {\n            if (intersects[i].object instanceof __WEBPACK_IMPORTED_MODULE_4__three_js__[\"y\" /* Mesh */] && intersects[i].object.isStar) {\n                mouseOverObj = intersects[i].object;\n                break;\n            }\n        }\n        if (!mouseOverObj) return;\n        //显示名称\n\n        showName(mouseOverObj, true);\n        //高亮显示\n        var shader = Shaders['earth'];\n        var uniforms = __WEBPACK_IMPORTED_MODULE_4__three_js__[\"Y\" /* UniformsUtils */].clone(shader.uniforms);\n        uniforms.texture.value = mouseOverObj.opt.map;\n        var material = new __WEBPACK_IMPORTED_MODULE_4__three_js__[\"P\" /* ShaderMaterial */]({\n            uniforms: uniforms,\n            vertexShader: shader.vertexShader,\n            fragmentShader: shader.fragmentShader,\n            transparent: true,\n            opacity: 1\n        });\n        mouseOverObjMate = mouseOverObj.material;\n        mouseOverObj.material = material;\n    } else {\n        if (mouseOverObj) {\n            showName(mouseOverObj, false);\n            mouseOverObj.material = mouseOverObjMate;\n            mouseOverObj = null;\n        }\n    }\n}\n\nvar selectObj = void 0,\n    selectObjMate = void 0;\nfunction _onMouseDown() {\n    event.preventDefault();\n    raycaster.setFromCamera(mouse, camera);\n    var intersects = raycaster.intersectObjects(scene.children, true);\n\n    if (intersects.length > 0) {\n\n        for (var i = 0; i < intersects.length; i++) {\n            if (intersects[i].object instanceof __WEBPACK_IMPORTED_MODULE_4__three_js__[\"y\" /* Mesh */] && intersects[i].object.isStar) {\n                selectObj = intersects[i].object;\n                break;\n            }\n        }\n        if (!selectObj) return;\n\n        // let ghost = new THREE.Mesh(selectObj.geometry, new THREE.MeshBasicMaterial({color:0xcceeff,transparent:true, opacity:0.1}));\n        // ghost.scale.set(1.03,1.03,1.03);\n        // selectObj.add(ghost);\n        //\n        // let ghost1 = ghost.clone();\n        // ghost1.scale.set(1.06,1.06,1.06);\n        // selectObj.add(ghost1);\n        //\n        // let ghost2 = ghost.clone();\n        // ghost2.scale.set(1.1,1.1,1.1);\n        // selectObj.add(ghost2);\n\n        // camera.lookAt(selectObj.position)\n        //\n        // new TWEEN.Tween( camera.position ).to( selectObj.position, 1000 )\n        //     .easing( TWEEN.Easing.Elastic.Out).start().onComplete(function(){\n        //     //selectMesh=intersects[ 0 ].object;\n        // });\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Galaxy);\n\n/***/ }),\n\n/***/ \"8cm3\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"B0R6\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_assets_js_Nebula_js__ = __webpack_require__(\"3pOn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_assets_js_Galaxy_js__ = __webpack_require__(\"4otN\");\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'component_name',\n  title: '太阳系',\n\n  created: function created() {\n    //this.$emit('setTitle',this.title);\n  },\n  mounted: function mounted() {\n    //      let stars = [{\n    //        name: '太阳',\n    //        size: 20,\n    //        emissive: 0xe65f05,\n    //        mapUrl: 'static/sun.jpg',\n    //        revspeed: 0.01,//公转速度\n    //        rotspeed: 0.01//自转速度\n    //      },\n    //        {\n    //          name: '水星',\n    //          size: 3,   //大小\n    //          dist: 40,  //距离\n    //          emissive: 0xe65f05,\n    //          mapUrl: 'static/shuixin.png',\n    //          revspeed: 0.01,\n    //          rotspeed: 0.01\n    //        },\n    //        {\n    //          name:'金星',\n    //          color:0xcceeff,\n    //          dist:-60,\n    //          mateType:2,\n    //          mapUrl:'static/jinxin.png',\n    //          revspeed:0.007,\n    //          rotspeed:0.01\n    //        },{\n    //          name:'地球',\n    //          color:0xcceeff,dist:80,\n    //          mateType:2,\n    //          mapUrl:'static/world.jpg',\n    //          revspeed:0.007,\n    //          rotspeed:0.01\n    //        },\n    //        {name:'月球',color:0x888888,size:1,dist:13,mateType:2,parent:'地球',\n    //          revspeed:0.03,\n    //          rotspeed:0.01\n    //        },\n    //        {name:'火星',color:0xff9933,size:5,dist:-100,mateType:2,mapUrl:'static/a.jpg',\n    //          revspeed:0.005,\n    //          rotspeed:0.01\n    //        },\n    //        {name:'木星',color:0xcceeff,size:15,dist:120,mateType:2,mapUrl:'static/muxin.png',\n    //          revspeed:0.003,\n    //          rotspeed:0.01\n    //        },\n    //        {name:'土星',color:0x669966,size:12,dist:-140,mateType:2,mapUrl:'static/tuxin.png',\n    //          revspeed:0.01,\n    //          rotspeed:0.02\n    //        },\n    //        {name:'天王星',color:0x663333,size:10,dist:160,mateType:1,mapUrl:'static/tianwangxin.png',\n    //          revspeed:0.01,\n    //          rotspeed:0.02\n    //        },\n    //        {name:'海王星',color:0x663333,size:9,dist:-180,mateType:1,mapUrl:'static/haiwangxin.png',\n    //          revspeed:0.006,\n    //          rotspeed:0.02\n    //        },\n    //        {name:'冥王星',color:0x663333,size:2,dist:200,mateType:1,\n    //          revspeed:0.005,\n    //          rotspeed:0.02\n    //        }]\n    var galaxy = new __WEBPACK_IMPORTED_MODULE_1_assets_js_Galaxy_js__[\"a\" /* default */]({ el: this.$refs.wrap, starOpts: [] });\n  }\n});\n\n/***/ }),\n\n/***/ \"D9gg\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"map\",class:['map',_vm.mapActiveLevel=='china'?'map-act':''],attrs:{\"id\":\"map\"}}),_vm._v(\" \"),_c('div',{class:['map1',_vm.mapActiveLevel=='province'?'map-act1':'']},[_c('div',{ref:\"map1\",staticClass:\"inner-map\",attrs:{\"id\":\"map1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"btn btn-colse\",attrs:{\"id\":\"btn\"},on:{\"click\":_vm.openChinaMap}},[_vm._v(\"关闭\")])]),_vm._v(\" \"),_c('div',{class:['map-title',_vm.isOverMap ? 'map-title-over' : ''],style:(_vm.mapTitlePositon),attrs:{\"id\":\"\"}},[_vm._v(_vm._s(_vm.mapName))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"EEzz\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"Ez1z\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"map\",staticClass:\"map\"}),_vm._v(\" \"),_c('div',{class:['map-title',_vm.isOverMap ? 'map-title-over' : ''],style:(_vm.mapTitlePositon),attrs:{\"id\":\"\"}},[_vm._v(_vm._s(_vm.mapName))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"Gb5I\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"ITh+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\",attrs:{\"id\":\"app\"}},[_c('header',[_c('div',{staticClass:\"inner\"},[_c('h1',{staticClass:\"lg-title\",on:{\"click\":function($event){_vm.setTitle()}}},[_c('img',{staticClass:\"logo\",staticStyle:{\"display\":\"none\"},attrs:{\"src\":__webpack_require__(\"dLd/\")}}),_vm._v(\" 可视化3D组件\"+_vm._s(_vm.title?' - '+_vm.title:''))]),_vm._v(\" \"),_c('h1',{staticClass:\"sm-title\",on:{\"click\":function($event){_vm.setTitle()}}},[_c('img',{staticClass:\"logo\",staticStyle:{\"display\":\"none\"},attrs:{\"src\":__webpack_require__(\"dLd/\")}}),_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_vm._m(0)])]),_vm._v(\" \"),_c('ul',{class:_vm.isMax?'left-menu max':'left-menu'},[_c('div',{staticClass:\"left-menu-list\"},_vm._l((_vm.items),function(item){return _c('router-link',{staticClass:\"list-item\",attrs:{\"to\":{name:item.name,params:{title:item.title}},\"tag\":\"li\"},nativeOn:{\"click\":function($event){_vm.setTitle($event)}}},[_c('i',{class:item.menuIcon}),_vm._v(_vm._s(item.title)+\"\\n    \")])})),_vm._v(\" \"),_c('div',{staticClass:\"handler\",on:{\"click\":function($event){_vm.isMax=!_vm.isMax}}},[_c('i',{staticClass:\"iconfont icon-shouqi\"})])]),_vm._v(\" \"),_c('router-view',{staticClass:\"main\",on:{\"setTitle\":_vm.setTitle}}),_vm._v(\" \"),_c('footer')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-area\"},[_c('a',{attrs:{\"href\":\"https://github.com/zhu18\",\"target\":\"_blank\"}},[_vm._v(\"GITHUB\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"LOkV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return colorToHex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return extend; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return transition; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__ = __webpack_require__(\"pFYg\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__three_js__ = __webpack_require__(\"tqxb\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__tween_min_js__ = __webpack_require__(\"mHXv\");\n\n/**\n * Created by ADMIN on 2017/12/18.\n */\n\n\n\n//颜色格式化 '#999999','rgb','hsl',0x999999\nfunction colorToHex(color) {\n  if (typeof color === \"string\") {\n    if (color.indexOf('#') !== -1) color = parseInt(color.replace('#', ''), 16);else color = new __WEBPACK_IMPORTED_MODULE_1__three_js__[\"g\" /* Color */](color).getHex();\n  }\n  return color;\n}\n\n/**\n   * 过渡动画\n   * @param {Object|*} from - 修改的启始值\n   * @param {Object|*} to - 修改的结束值\n   * @param {number} [time] - 完成时间\n   * @param {number} [delay=0] - 延迟时间\n   * @param {Tween.Easing} [easing=TWEEN.Easing.Linear.None] -动画类型\n   * @param {callback} [callback] - 完成回调\n   * @example\n   * $.transition(area.position, {x:0,y:0,z:10}, 1000, 500, TWEEN.Easing.Quartic.Out, callback)\n   */\nfunction transition(from, to, time, delay, easing, callback) {\n  if (typeof time !== 'number') {\n    time = 1000;\n  }\n  if (!callback) callback = function callback() {};\n\n  new __WEBPACK_IMPORTED_MODULE_2__tween_min_js__[\"a\" /* default */].Tween(from).to(to, time).delay(delay || 0).easing(easing || __WEBPACK_IMPORTED_MODULE_2__tween_min_js__[\"a\" /* default */].Easing.Linear.None).start().onComplete(callback);\n}\n\nvar extend = function () {\n  var copyIsArray,\n      toString = Object.prototype.toString,\n      hasOwn = Object.prototype.hasOwnProperty,\n      class2type = {\n    '[object Boolean]': 'boolean',\n    '[object Number]': 'number',\n    '[object String]': 'string',\n    '[object Function]': 'function',\n    '[object Array]': 'array',\n    '[object Date]': 'date',\n    '[object RegExp]': 'regExp',\n    '[object Object]': 'object'\n  },\n      type = function type(obj) {\n    return obj == null ? String(obj) : class2type[toString.call(obj)] || \"object\";\n  },\n      isWindow = function isWindow(obj) {\n    return obj && (typeof obj === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(obj)) === \"object\" && \"setInterval\" in obj;\n  },\n      isArray = Array.isArray || function (obj) {\n    return type(obj) === \"array\";\n  },\n      isPlainObject = function isPlainObject(obj) {\n    if (!obj || type(obj) !== \"object\" || obj.nodeType || isWindow(obj)) {\n      return false;\n    }\n\n    if (obj.constructor && !hasOwn.call(obj, \"constructor\") && !hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\")) {\n      return false;\n    }\n\n    var key;\n    for (key in obj) {}\n\n    return key === undefined || hasOwn.call(obj, key);\n  },\n      extend = function extend(deep, target, options) {\n    for (var name in options) {\n      var src = target[name];\n      var copy = options[name];\n\n      if (target === copy) {\n        continue;\n      }\n\n      if (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n        if (copyIsArray) {\n          copyIsArray = false;\n          var clone = src && isArray(src) ? src : [];\n        } else {\n          var clone = src && isPlainObject(src) ? src : {};\n        }\n\n        target[name] = extend(deep, clone, copy);\n      } else if (copy !== undefined) {\n        target[name] = copy;\n      }\n    }\n\n    return target;\n  };\n\n  return extend;\n}();\n\n\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_ff210290_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"ITh+\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"EEzz\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ff210290\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_ff210290_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__ = __webpack_require__(\"j1ja\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_polyfill___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_polyfill__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__router__ = __webpack_require__(\"YaEn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__assets_css_index_sass__ = __webpack_require__(\"xM6Q\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__assets_css_index_sass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__assets_css_index_sass__);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n// import echarts from 'echarts'\n// import ElementUI from 'element-ui'\n// import $ from './assets/js/jquery-1.9.0.js'\n\n\n\n//Vue.prototype.$ = $\n//Vue.prototype.$echarts = echarts\n\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */].config.productionTip = false;\n//Vue.use(ElementUI);\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_3__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_2__App__[\"a\" /* default */] }\n});\n\n/***/ }),\n\n/***/ \"P+U6\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"map\",staticClass:\"map\"}),_vm._v(\" \"),_c('div',{class:['map-title',_vm.isOverMap ? 'map-title-over' : ''],style:(_vm.mapTitlePositon),attrs:{\"id\":\"\"}},[_vm._v(_vm._s(_vm.mapName))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"P73I\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_assets_js_Map3D_js__ = __webpack_require__(\"xRke\");\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'map3d',\n  title: '地图-调试模式',\n\n  data: function data() {\n    return {\n      isOverMap: false,\n      mapName: '',\n      mapTitlePositon: {\n        left: '800px',\n        top: '600px'\n      }\n    };\n  },\n\n  methods: {\n    openProvMap: function openProvMap() {\n      self.mapActiveLevel = 'province';\n      map.disable();\n      map1.disable(false);\n    },\n    openChinaMap: function openChinaMap() {\n      self.mapActiveLevel = 'china';\n      map1.disable();\n      map.disable(false);\n    }\n  },\n  mounted: function mounted() {\n    self = this;\n\n    $.getJSON(\"./static/mapdata/china.json\", function (geoData) {\n      //            let sc=data.features.find(item=>item.properties.name=='湖南');\n      //            Object.assign(sc.properties,{color:0x336698,value:'2341',opacity:.3});\n\n      var opt = {\n        name: 'map1',\n        el: self.$refs.map,\n        geoData: geoData,\n        debugger: true,\n        //                shininess:300,\n        //                opacity:.5,\n        area: {\n          loadEffect: true,\n          data: [{ name: '新疆', color: 0xff9933, value: 85 }, { name: '内蒙古', color: 'rgb(66,140,255)', value: 15 }, { name: '北京', color: '#ff6666', value: 155 }, { name: '四川', color: '#ff3333', value: 200, hoverColor: '#ff33ff' }],\n          color: 0x336699,\n          lineColor: 0xffffff\n        }\n      };\n\n      var map = new __WEBPACK_IMPORTED_MODULE_0_assets_js_Map3D_js__[\"a\" /* default */](opt);\n\n      map.addEventListener('mousedown', function (event) {\n        var area = event.target;\n        area.setColor('#ff6666', 500);\n      });\n\n      map.addEventListener('mouseout', function (event) {\n        self.isOverMap = false;\n      });\n\n      map.addEventListener('mouseover', function (event) {\n        var area = event.target;\n        // console.log(event);\n        //console.log(obj._name+\"x:\"+event.clientX+\",y:\"+event.clientY);\n        self.mapName = area.userData.name;\n        self.isOverMap = true;\n        self.mapTitlePositon.left = $(window).scrollLeft() + event.clientX + 20 + 'px';\n        self.mapTitlePositon.top = $(window).scrollTop() + event.clientY + 20 + 'px';\n      });\n\n      map.addEventListener('resize', function (event) {\n        console.log('map resize...');\n      });\n      //map.addCameraPosition({x:-30,y:15,z:15})\n      //map.setCameraPosition({x:0,y:-10,z:53},2000)\n      map.setCameraPosition({ x: -10, y: -10, z: 34 });\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"Qt9A\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__ = __webpack_require__(\"x2x/\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_09efdbad_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__ = __webpack_require__(\"SJxh\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"8cm3\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-09efdbad\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_09efdbad_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"SJxh\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"txt\"},[_c('div',{staticClass:\"txt-c\"},[_c('h1',[_vm._v(\"需求收集\")]),_vm._v(\" \"),_c('br'),_vm._v(\"前端组件目前在需求收集阶段，\\n        \"),_c('br'),_vm._v(\"如果你有问题或者好的建议，欢迎反馈，\\n        \"),_c('br'),_vm._v(\"如果你建议被采纳有机会获取幸运奖品!!!\\n        \"),_c('br'),_c('br'),_c('a',{staticClass:\"btn\",attrs:{\"href\":\"https://wj.qq.com/s/1699161/b994\",\"target\":\"_blank\"}},[_vm._v(\"我要反馈\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"UkRF\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"W3s/\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"XStf\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_dataRange_vue__ = __webpack_require__(\"3rnE\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6bc9cb56_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_dataRange_vue__ = __webpack_require__(\"k1rJ\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"m84q\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6bc9cb56\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_dataRange_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6bc9cb56_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_dataRange_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"XcOq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__ = __webpack_require__(\"pFYg\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__);\n\n/*!\n * jQuery JavaScript Library v1.9.0\n * http://jquery.com/\n *\n * Includes Sizzle.js\n * http://sizzlejs.com/\n *\n * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2013-1-14\n */\n(function (window, undefined) {\n\t\"use strict\";\n\n\tvar\n\t// A central reference to the root jQuery(document)\n\trootjQuery,\n\n\n\t// The deferred used on DOM ready\n\treadyList,\n\n\n\t// Use the correct document accordingly with window argument (sandbox)\n\tdocument = window.document,\n\t    location = window.location,\n\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$,\n\n\n\t// [[Class]] -> type pairs\n\tclass2type = {},\n\n\n\t// List of deleted data cache ids, so we can reuse them\n\tcore_deletedIds = [],\n\t    core_version = \"1.9.0\",\n\n\n\t// Save a reference to some core methods\n\tcore_concat = core_deletedIds.concat,\n\t    core_push = core_deletedIds.push,\n\t    core_slice = core_deletedIds.slice,\n\t    core_indexOf = core_deletedIds.indexOf,\n\t    core_toString = class2type.toString,\n\t    core_hasOwn = class2type.hasOwnProperty,\n\t    core_trim = core_version.trim,\n\n\n\t// Define a local copy of jQuery\n\tjQuery = function jQuery(selector, context) {\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\treturn new jQuery.fn.init(selector, context, rootjQuery);\n\t},\n\n\n\t// Used for matching numbers\n\tcore_pnum = /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,\n\n\n\t// Used for splitting on whitespace\n\tcore_rnotwhite = /\\S+/g,\n\n\n\t// Make sure we trim BOM and NBSP (here's looking at you, Safari 5.0 and IE)\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\trquickExpr = /^(?:(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,\n\n\n\t// Match a standalone tag\n\trsingleTag = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n\n\n\t// JSON RegExp\n\trvalidchars = /^[\\],:{}\\s]*$/,\n\t    rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g,\n\t    rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[\\da-fA-F]{4})/g,\n\t    rvalidtokens = /\"[^\"\\\\\\r\\n]*\"|true|false|null|-?(?:\\d+\\.|)\\d+(?:[eE][+-]?\\d+|)/g,\n\n\n\t// Matches dashed string for camelizing\n\trmsPrefix = /^-ms-/,\n\t    rdashAlpha = /-([\\da-z])/gi,\n\n\n\t// Used by jQuery.camelCase as callback to replace()\n\tfcamelCase = function fcamelCase(all, letter) {\n\t\treturn letter.toUpperCase();\n\t},\n\n\n\t// The ready event handler and self cleanup method\n\tDOMContentLoaded = function DOMContentLoaded() {\n\t\tif (document.addEventListener) {\n\t\t\tdocument.removeEventListener(\"DOMContentLoaded\", DOMContentLoaded, false);\n\t\t\tjQuery.ready();\n\t\t} else if (document.readyState === \"complete\") {\n\t\t\t// we're here because readyState === \"complete\" in oldIE\n\t\t\t// which is good enough for us to call the dom ready!\n\t\t\tdocument.detachEvent(\"onreadystatechange\", DOMContentLoaded);\n\t\t\tjQuery.ready();\n\t\t}\n\t};\n\n\tjQuery.fn = jQuery.prototype = {\n\t\t// The current version of jQuery being used\n\t\tjquery: core_version,\n\n\t\tconstructor: jQuery,\n\t\tinit: function init(selector, context, rootjQuery) {\n\t\t\tvar match, elem;\n\n\t\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\t\tif (!selector) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\t// Handle HTML strings\n\t\t\tif (typeof selector === \"string\") {\n\t\t\t\tif (selector.charAt(0) === \"<\" && selector.charAt(selector.length - 1) === \">\" && selector.length >= 3) {\n\t\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\t\tmatch = [null, selector, null];\n\t\t\t\t} else {\n\t\t\t\t\tmatch = rquickExpr.exec(selector);\n\t\t\t\t}\n\n\t\t\t\t// Match html or make sure no context is specified for #id\n\t\t\t\tif (match && (match[1] || !context)) {\n\n\t\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\t\tif (match[1]) {\n\t\t\t\t\t\tcontext = context instanceof jQuery ? context[0] : context;\n\n\t\t\t\t\t\t// scripts is true for back-compat\n\t\t\t\t\t\tjQuery.merge(this, jQuery.parseHTML(match[1], context && context.nodeType ? context.ownerDocument || context : document, true));\n\n\t\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\t\tif (rsingleTag.test(match[1]) && jQuery.isPlainObject(context)) {\n\t\t\t\t\t\t\tfor (match in context) {\n\t\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\t\tif (jQuery.isFunction(this[match])) {\n\t\t\t\t\t\t\t\t\tthis[match](context[match]);\n\n\t\t\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.attr(match, context[match]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem = document.getElementById(match[2]);\n\n\t\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t\t\t// nodes that are no longer in the document #6963\n\t\t\t\t\t\tif (elem && elem.parentNode) {\n\t\t\t\t\t\t\t// Handle the case where IE and Opera return items\n\t\t\t\t\t\t\t// by name instead of ID\n\t\t\t\t\t\t\tif (elem.id !== match[2]) {\n\t\t\t\t\t\t\t\treturn rootjQuery.find(selector);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Otherwise, we inject the element directly into the jQuery object\n\t\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t\t\tthis[0] = elem;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.context = document;\n\t\t\t\t\t\tthis.selector = selector;\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t}\n\n\t\t\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t\t} else if (!context || context.jquery) {\n\t\t\t\t\treturn (context || rootjQuery).find(selector);\n\n\t\t\t\t\t// HANDLE: $(expr, context)\n\t\t\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t\t} else {\n\t\t\t\t\treturn this.constructor(context).find(selector);\n\t\t\t\t}\n\n\t\t\t\t// HANDLE: $(DOMElement)\n\t\t\t} else if (selector.nodeType) {\n\t\t\t\tthis.context = this[0] = selector;\n\t\t\t\tthis.length = 1;\n\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(function)\n\t\t\t\t// Shortcut for document ready\n\t\t\t} else if (jQuery.isFunction(selector)) {\n\t\t\t\treturn rootjQuery.ready(selector);\n\t\t\t}\n\n\t\t\tif (selector.selector !== undefined) {\n\t\t\t\tthis.selector = selector.selector;\n\t\t\t\tthis.context = selector.context;\n\t\t\t}\n\n\t\t\treturn jQuery.makeArray(selector, this);\n\t\t},\n\n\t\t// Start with an empty selector\n\t\tselector: \"\",\n\n\t\t// The default length of a jQuery object is 0\n\t\tlength: 0,\n\n\t\t// The number of elements contained in the matched element set\n\t\tsize: function size() {\n\t\t\treturn this.length;\n\t\t},\n\n\t\ttoArray: function toArray() {\n\t\t\treturn core_slice.call(this);\n\t\t},\n\n\t\t// Get the Nth element in the matched element set OR\n\t\t// Get the whole matched element set as a clean array\n\t\tget: function get(num) {\n\t\t\treturn num == null ?\n\n\t\t\t// Return a 'clean' array\n\t\t\tthis.toArray() :\n\n\t\t\t// Return just the object\n\t\t\tnum < 0 ? this[this.length + num] : this[num];\n\t\t},\n\n\t\t// Take an array of elements and push it onto the stack\n\t\t// (returning the new matched element set)\n\t\tpushStack: function pushStack(elems) {\n\n\t\t\t// Build a new jQuery matched element set\n\t\t\tvar ret = jQuery.merge(this.constructor(), elems);\n\n\t\t\t// Add the old object onto the stack (as a reference)\n\t\t\tret.prevObject = this;\n\t\t\tret.context = this.context;\n\n\t\t\t// Return the newly-formed element set\n\t\t\treturn ret;\n\t\t},\n\n\t\t// Execute a callback for every element in the matched set.\n\t\t// (You can seed the arguments with an array of args, but this is\n\t\t// only used internally.)\n\t\teach: function each(callback, args) {\n\t\t\treturn jQuery.each(this, callback, args);\n\t\t},\n\n\t\tready: function ready(fn) {\n\t\t\t// Add the callback\n\t\t\tjQuery.ready.promise().done(fn);\n\n\t\t\treturn this;\n\t\t},\n\n\t\tslice: function slice() {\n\t\t\treturn this.pushStack(core_slice.apply(this, arguments));\n\t\t},\n\n\t\tfirst: function first() {\n\t\t\treturn this.eq(0);\n\t\t},\n\n\t\tlast: function last() {\n\t\t\treturn this.eq(-1);\n\t\t},\n\n\t\teq: function eq(i) {\n\t\t\tvar len = this.length,\n\t\t\t    j = +i + (i < 0 ? len : 0);\n\t\t\treturn this.pushStack(j >= 0 && j < len ? [this[j]] : []);\n\t\t},\n\n\t\tmap: function map(callback) {\n\t\t\treturn this.pushStack(jQuery.map(this, function (elem, i) {\n\t\t\t\treturn callback.call(elem, i, elem);\n\t\t\t}));\n\t\t},\n\n\t\tend: function end() {\n\t\t\treturn this.prevObject || this.constructor(null);\n\t\t},\n\n\t\t// For internal use only.\n\t\t// Behaves like an Array's method, not like a jQuery method.\n\t\tpush: core_push,\n\t\tsort: [].sort,\n\t\tsplice: [].splice\n\t};\n\n\t// Give the init function the jQuery prototype for later instantiation\n\tjQuery.fn.init.prototype = jQuery.fn;\n\n\tjQuery.extend = jQuery.fn.extend = function () {\n\t\tvar options,\n\t\t    name,\n\t\t    src,\n\t\t    copy,\n\t\t    copyIsArray,\n\t\t    clone,\n\t\t    target = arguments[0] || {},\n\t\t    i = 1,\n\t\t    length = arguments.length,\n\t\t    deep = false;\n\n\t\t// Handle a deep copy situation\n\t\tif (typeof target === \"boolean\") {\n\t\t\tdeep = target;\n\t\t\ttarget = arguments[1] || {};\n\t\t\t// skip the boolean and the target\n\t\t\ti = 2;\n\t\t}\n\n\t\t// Handle case when target is a string or something (possible in deep copy)\n\t\tif ((typeof target === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(target)) !== \"object\" && !jQuery.isFunction(target)) {\n\t\t\ttarget = {};\n\t\t}\n\n\t\t// extend jQuery itself if only one argument is passed\n\t\tif (length === i) {\n\t\t\ttarget = this;\n\t\t\t--i;\n\t\t}\n\n\t\tfor (; i < length; i++) {\n\t\t\t// Only deal with non-null/undefined values\n\t\t\tif ((options = arguments[i]) != null) {\n\t\t\t\t// Extend the base object\n\t\t\t\tfor (name in options) {\n\t\t\t\t\tsrc = target[name];\n\t\t\t\t\tcopy = options[name];\n\n\t\t\t\t\t// Prevent never-ending loop\n\t\t\t\t\tif (target === copy) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && jQuery.isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && jQuery.isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\ttarget[name] = jQuery.extend(deep, clone, copy);\n\n\t\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (copy !== undefined) {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Return the modified object\n\t\treturn target;\n\t};\n\n\tjQuery.extend({\n\t\tnoConflict: function noConflict(deep) {\n\t\t\tif (window.$ === jQuery) {\n\t\t\t\twindow.$ = _$;\n\t\t\t}\n\n\t\t\tif (deep && window.jQuery === jQuery) {\n\t\t\t\twindow.jQuery = _jQuery;\n\t\t\t}\n\n\t\t\treturn jQuery;\n\t\t},\n\n\t\t// Is the DOM ready to be used? Set to true once it occurs.\n\t\tisReady: false,\n\n\t\t// A counter to track how many items to wait for before\n\t\t// the ready event fires. See #6781\n\t\treadyWait: 1,\n\n\t\t// Hold (or release) the ready event\n\t\tholdReady: function holdReady(hold) {\n\t\t\tif (hold) {\n\t\t\t\tjQuery.readyWait++;\n\t\t\t} else {\n\t\t\t\tjQuery.ready(true);\n\t\t\t}\n\t\t},\n\n\t\t// Handle when the DOM is ready\n\t\tready: function ready(wait) {\n\n\t\t\t// Abort if there are pending holds or we're already ready\n\t\t\tif (wait === true ? --jQuery.readyWait : jQuery.isReady) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).\n\t\t\tif (!document.body) {\n\t\t\t\treturn setTimeout(jQuery.ready);\n\t\t\t}\n\n\t\t\t// Remember that the DOM is ready\n\t\t\tjQuery.isReady = true;\n\n\t\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\t\tif (wait !== true && --jQuery.readyWait > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If there are functions bound, to execute\n\t\t\treadyList.resolveWith(document, [jQuery]);\n\n\t\t\t// Trigger any bound ready events\n\t\t\tif (jQuery.fn.trigger) {\n\t\t\t\tjQuery(document).trigger(\"ready\").off(\"ready\");\n\t\t\t}\n\t\t},\n\n\t\t// See test/unit/core.js for details concerning isFunction.\n\t\t// Since version 1.3, DOM methods and functions like alert\n\t\t// aren't supported. They return false on IE (#2968).\n\t\tisFunction: function isFunction(obj) {\n\t\t\treturn jQuery.type(obj) === \"function\";\n\t\t},\n\n\t\tisArray: Array.isArray || function (obj) {\n\t\t\treturn jQuery.type(obj) === \"array\";\n\t\t},\n\n\t\tisWindow: function isWindow(obj) {\n\t\t\treturn obj != null && obj == obj.window;\n\t\t},\n\n\t\tisNumeric: function isNumeric(obj) {\n\t\t\treturn !isNaN(parseFloat(obj)) && isFinite(obj);\n\t\t},\n\n\t\ttype: function type(obj) {\n\t\t\tif (obj == null) {\n\t\t\t\treturn String(obj);\n\t\t\t}\n\t\t\treturn (typeof obj === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(obj)) === \"object\" || typeof obj === \"function\" ? class2type[core_toString.call(obj)] || \"object\" : typeof obj === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(obj);\n\t\t},\n\n\t\tisPlainObject: function isPlainObject(obj) {\n\t\t\t// Must be an Object.\n\t\t\t// Because of IE, we also have to check the presence of the constructor property.\n\t\t\t// Make sure that DOM nodes and window objects don't pass through, as well\n\t\t\tif (!obj || jQuery.type(obj) !== \"object\" || obj.nodeType || jQuery.isWindow(obj)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// Not own constructor property must be Object\n\t\t\t\tif (obj.constructor && !core_hasOwn.call(obj, \"constructor\") && !core_hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\")) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t// IE8,9 Will throw exceptions on certain host objects #9897\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Own properties are enumerated firstly, so to speed up,\n\t\t\t// if last one is own, then all properties are own.\n\n\t\t\tvar key;\n\t\t\tfor (key in obj) {}\n\n\t\t\treturn key === undefined || core_hasOwn.call(obj, key);\n\t\t},\n\n\t\tisEmptyObject: function isEmptyObject(obj) {\n\t\t\tvar name;\n\t\t\tfor (name in obj) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\terror: function error(msg) {\n\t\t\tthrow new Error(msg);\n\t\t},\n\n\t\t// data: string of html\n\t\t// context (optional): If specified, the fragment will be created in this context, defaults to document\n\t\t// keepScripts (optional): If true, will include scripts passed in the html string\n\t\tparseHTML: function parseHTML(data, context, keepScripts) {\n\t\t\tif (!data || typeof data !== \"string\") {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (typeof context === \"boolean\") {\n\t\t\t\tkeepScripts = context;\n\t\t\t\tcontext = false;\n\t\t\t}\n\t\t\tcontext = context || document;\n\n\t\t\tvar parsed = rsingleTag.exec(data),\n\t\t\t    scripts = !keepScripts && [];\n\n\t\t\t// Single tag\n\t\t\tif (parsed) {\n\t\t\t\treturn [context.createElement(parsed[1])];\n\t\t\t}\n\n\t\t\tparsed = jQuery.buildFragment([data], context, scripts);\n\t\t\tif (scripts) {\n\t\t\t\tjQuery(scripts).remove();\n\t\t\t}\n\t\t\treturn jQuery.merge([], parsed.childNodes);\n\t\t},\n\n\t\tparseJSON: function parseJSON(data) {\n\t\t\t// Attempt to parse using the native JSON parser first\n\t\t\tif (window.JSON && window.JSON.parse) {\n\t\t\t\treturn window.JSON.parse(data);\n\t\t\t}\n\n\t\t\tif (data === null) {\n\t\t\t\treturn data;\n\t\t\t}\n\n\t\t\tif (typeof data === \"string\") {\n\n\t\t\t\t// Make sure leading/trailing whitespace is removed (IE can't handle it)\n\t\t\t\tdata = jQuery.trim(data);\n\n\t\t\t\tif (data) {\n\t\t\t\t\t// Make sure the incoming data is actual JSON\n\t\t\t\t\t// Logic borrowed from http://json.org/json2.js\n\t\t\t\t\tif (rvalidchars.test(data.replace(rvalidescape, \"@\").replace(rvalidtokens, \"]\").replace(rvalidbraces, \"\"))) {\n\n\t\t\t\t\t\treturn new Function(\"return \" + data)();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tjQuery.error(\"Invalid JSON: \" + data);\n\t\t},\n\n\t\t// Cross-browser xml parsing\n\t\tparseXML: function parseXML(data) {\n\t\t\tvar xml, tmp;\n\t\t\tif (!data || typeof data !== \"string\") {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (window.DOMParser) {\n\t\t\t\t\t// Standard\n\t\t\t\t\ttmp = new DOMParser();\n\t\t\t\t\txml = tmp.parseFromString(data, \"text/xml\");\n\t\t\t\t} else {\n\t\t\t\t\t// IE\n\t\t\t\t\txml = new ActiveXObject(\"Microsoft.XMLDOM\");\n\t\t\t\t\txml.async = \"false\";\n\t\t\t\t\txml.loadXML(data);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\txml = undefined;\n\t\t\t}\n\t\t\tif (!xml || !xml.documentElement || xml.getElementsByTagName(\"parsererror\").length) {\n\t\t\t\tjQuery.error(\"Invalid XML: \" + data);\n\t\t\t}\n\t\t\treturn xml;\n\t\t},\n\n\t\tnoop: function noop() {},\n\n\t\t// Evaluates a script in a global context\n\t\t// Workarounds based on findings by Jim Driscoll\n\t\t// http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context\n\t\tglobalEval: function globalEval(data) {\n\t\t\tif (data && jQuery.trim(data)) {\n\t\t\t\t// We use execScript on Internet Explorer\n\t\t\t\t// We use an anonymous function so that context is window\n\t\t\t\t// rather than jQuery in Firefox\n\t\t\t\t(window.execScript || function (data) {\n\t\t\t\t\twindow[\"eval\"].call(window, data);\n\t\t\t\t})(data);\n\t\t\t}\n\t\t},\n\n\t\t// Convert dashed to camelCase; used by the css and data modules\n\t\t// Microsoft forgot to hump their vendor prefix (#9572)\n\t\tcamelCase: function camelCase(string) {\n\t\t\treturn string.replace(rmsPrefix, \"ms-\").replace(rdashAlpha, fcamelCase);\n\t\t},\n\n\t\tnodeName: function nodeName(elem, name) {\n\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\t\t},\n\n\t\t// args is for internal usage only\n\t\teach: function each(obj, callback, args) {\n\t\t\tvar value,\n\t\t\t    i = 0,\n\t\t\t    length = obj.length,\n\t\t\t    isArray = isArraylike(obj);\n\n\t\t\tif (args) {\n\t\t\t\tif (isArray) {\n\t\t\t\t\tfor (; i < length; i++) {\n\t\t\t\t\t\tvalue = callback.apply(obj[i], args);\n\n\t\t\t\t\t\tif (value === false) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (i in obj) {\n\t\t\t\t\t\tvalue = callback.apply(obj[i], args);\n\n\t\t\t\t\t\tif (value === false) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// A special, fast, case for the most common use of each\n\t\t\t} else {\n\t\t\t\tif (isArray) {\n\t\t\t\t\tfor (; i < length; i++) {\n\t\t\t\t\t\tvalue = callback.call(obj[i], i, obj[i]);\n\n\t\t\t\t\t\tif (value === false) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (i in obj) {\n\t\t\t\t\t\tvalue = callback.call(obj[i], i, obj[i]);\n\n\t\t\t\t\t\tif (value === false) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn obj;\n\t\t},\n\n\t\t// Use native String.trim function wherever possible\n\t\ttrim: core_trim && !core_trim.call(\"\\uFEFF\\xA0\") ? function (text) {\n\t\t\treturn text == null ? \"\" : core_trim.call(text);\n\t\t} :\n\n\t\t// Otherwise use our own trimming functionality\n\t\tfunction (text) {\n\t\t\treturn text == null ? \"\" : (text + \"\").replace(rtrim, \"\");\n\t\t},\n\n\t\t// results is for internal usage only\n\t\tmakeArray: function makeArray(arr, results) {\n\t\t\tvar ret = results || [];\n\n\t\t\tif (arr != null) {\n\t\t\t\tif (isArraylike(Object(arr))) {\n\t\t\t\t\tjQuery.merge(ret, typeof arr === \"string\" ? [arr] : arr);\n\t\t\t\t} else {\n\t\t\t\t\tcore_push.call(ret, arr);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t},\n\n\t\tinArray: function inArray(elem, arr, i) {\n\t\t\tvar len;\n\n\t\t\tif (arr) {\n\t\t\t\tif (core_indexOf) {\n\t\t\t\t\treturn core_indexOf.call(arr, elem, i);\n\t\t\t\t}\n\n\t\t\t\tlen = arr.length;\n\t\t\t\ti = i ? i < 0 ? Math.max(0, len + i) : i : 0;\n\n\t\t\t\tfor (; i < len; i++) {\n\t\t\t\t\t// Skip accessing in sparse arrays\n\t\t\t\t\tif (i in arr && arr[i] === elem) {\n\t\t\t\t\t\treturn i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn -1;\n\t\t},\n\n\t\tmerge: function merge(first, second) {\n\t\t\tvar l = second.length,\n\t\t\t    i = first.length,\n\t\t\t    j = 0;\n\n\t\t\tif (typeof l === \"number\") {\n\t\t\t\tfor (; j < l; j++) {\n\t\t\t\t\tfirst[i++] = second[j];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile (second[j] !== undefined) {\n\t\t\t\t\tfirst[i++] = second[j++];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfirst.length = i;\n\n\t\t\treturn first;\n\t\t},\n\n\t\tgrep: function grep(elems, callback, inv) {\n\t\t\tvar retVal,\n\t\t\t    ret = [],\n\t\t\t    i = 0,\n\t\t\t    length = elems.length;\n\t\t\tinv = !!inv;\n\n\t\t\t// Go through the array, only saving the items\n\t\t\t// that pass the validator function\n\t\t\tfor (; i < length; i++) {\n\t\t\t\tretVal = !!callback(elems[i], i);\n\t\t\t\tif (inv !== retVal) {\n\t\t\t\t\tret.push(elems[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t},\n\n\t\t// arg is for internal usage only\n\t\tmap: function map(elems, callback, arg) {\n\t\t\tvar value,\n\t\t\t    i = 0,\n\t\t\t    length = elems.length,\n\t\t\t    isArray = isArraylike(elems),\n\t\t\t    ret = [];\n\n\t\t\t// Go through the array, translating each of the items to their\n\t\t\tif (isArray) {\n\t\t\t\tfor (; i < length; i++) {\n\t\t\t\t\tvalue = callback(elems[i], i, arg);\n\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tret[ret.length] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Go through every key on the object,\n\t\t\t} else {\n\t\t\t\tfor (i in elems) {\n\t\t\t\t\tvalue = callback(elems[i], i, arg);\n\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tret[ret.length] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Flatten any nested arrays\n\t\t\treturn core_concat.apply([], ret);\n\t\t},\n\n\t\t// A global GUID counter for objects\n\t\tguid: 1,\n\n\t\t// Bind a function to a context, optionally partially applying any\n\t\t// arguments.\n\t\tproxy: function proxy(fn, context) {\n\t\t\tvar tmp, args, proxy;\n\n\t\t\tif (typeof context === \"string\") {\n\t\t\t\ttmp = fn[context];\n\t\t\t\tcontext = fn;\n\t\t\t\tfn = tmp;\n\t\t\t}\n\n\t\t\t// Quick check to determine if target is callable, in the spec\n\t\t\t// this throws a TypeError, but we will just return undefined.\n\t\t\tif (!jQuery.isFunction(fn)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\t// Simulated bind\n\t\t\targs = core_slice.call(arguments, 2);\n\t\t\tproxy = function proxy() {\n\t\t\t\treturn fn.apply(context || this, args.concat(core_slice.call(arguments)));\n\t\t\t};\n\n\t\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\t\t\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\t\t\treturn proxy;\n\t\t},\n\n\t\t// Multifunctional method to get and set values of a collection\n\t\t// The value/s can optionally be executed if it's a function\n\t\taccess: function access(elems, fn, key, value, chainable, emptyGet, raw) {\n\t\t\tvar i = 0,\n\t\t\t    length = elems.length,\n\t\t\t    bulk = key == null;\n\n\t\t\t// Sets many values\n\t\t\tif (jQuery.type(key) === \"object\") {\n\t\t\t\tchainable = true;\n\t\t\t\tfor (i in key) {\n\t\t\t\t\tjQuery.access(elems, fn, i, key[i], true, emptyGet, raw);\n\t\t\t\t}\n\n\t\t\t\t// Sets one value\n\t\t\t} else if (value !== undefined) {\n\t\t\t\tchainable = true;\n\n\t\t\t\tif (!jQuery.isFunction(value)) {\n\t\t\t\t\traw = true;\n\t\t\t\t}\n\n\t\t\t\tif (bulk) {\n\t\t\t\t\t// Bulk operations run against the entire set\n\t\t\t\t\tif (raw) {\n\t\t\t\t\t\tfn.call(elems, value);\n\t\t\t\t\t\tfn = null;\n\n\t\t\t\t\t\t// ...except when executing function values\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbulk = fn;\n\t\t\t\t\t\tfn = function fn(elem, key, value) {\n\t\t\t\t\t\t\treturn bulk.call(jQuery(elem), value);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (fn) {\n\t\t\t\t\tfor (; i < length; i++) {\n\t\t\t\t\t\tfn(elems[i], key, raw ? value : value.call(elems[i], i, fn(elems[i], key)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn chainable ? elems :\n\n\t\t\t// Gets\n\t\t\tbulk ? fn.call(elems) : length ? fn(elems[0], key) : emptyGet;\n\t\t},\n\n\t\tnow: function now() {\n\t\t\treturn new Date().getTime();\n\t\t}\n\t});\n\n\tjQuery.ready.promise = function (obj) {\n\t\tif (!readyList) {\n\n\t\t\treadyList = jQuery.Deferred();\n\n\t\t\t// Catch cases where $(document).ready() is called after the browser event has already occurred.\n\t\t\t// we once tried to use readyState \"interactive\" here, but it caused issues like the one\n\t\t\t// discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15\n\t\t\tif (document.readyState === \"complete\") {\n\t\t\t\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\t\t\t\tsetTimeout(jQuery.ready);\n\n\t\t\t\t// Standards-based browsers support DOMContentLoaded\n\t\t\t} else if (document.addEventListener) {\n\t\t\t\t// Use the handy event callback\n\t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", DOMContentLoaded, false);\n\n\t\t\t\t// A fallback to window.onload, that will always work\n\t\t\t\twindow.addEventListener(\"load\", jQuery.ready, false);\n\n\t\t\t\t// If IE event model is used\n\t\t\t} else {\n\t\t\t\t// Ensure firing before onload, maybe late but safe also for iframes\n\t\t\t\tdocument.attachEvent(\"onreadystatechange\", DOMContentLoaded);\n\n\t\t\t\t// A fallback to window.onload, that will always work\n\t\t\t\twindow.attachEvent(\"onload\", jQuery.ready);\n\n\t\t\t\t// If IE and not a frame\n\t\t\t\t// continually check to see if the document is ready\n\t\t\t\tvar top = false;\n\n\t\t\t\ttry {\n\t\t\t\t\ttop = window.frameElement == null && document.documentElement;\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (top && top.doScroll) {\n\t\t\t\t\t(function doScrollCheck() {\n\t\t\t\t\t\tif (!jQuery.isReady) {\n\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t// Use the trick by Diego Perini\n\t\t\t\t\t\t\t\t// http://javascript.nwbox.com/IEContentLoaded/\n\t\t\t\t\t\t\t\ttop.doScroll(\"left\");\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\treturn setTimeout(doScrollCheck, 50);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// and execute any waiting functions\n\t\t\t\t\t\t\tjQuery.ready();\n\t\t\t\t\t\t}\n\t\t\t\t\t})();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn readyList.promise(obj);\n\t};\n\n\t// Populate the class2type map\n\tjQuery.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function (i, name) {\n\t\tclass2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n\t});\n\n\tfunction isArraylike(obj) {\n\t\tvar length = obj.length,\n\t\t    type = jQuery.type(obj);\n\n\t\tif (jQuery.isWindow(obj)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (obj.nodeType === 1 && length) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn type === \"array\" || type !== \"function\" && (length === 0 || typeof length === \"number\" && length > 0 && length - 1 in obj);\n\t}\n\n\t// All jQuery objects should point back to these\n\trootjQuery = jQuery(document);\n\t// String to Object options format cache\n\tvar optionsCache = {};\n\n\t// Convert String-formatted options into Object-formatted ones and store in cache\n\tfunction createOptions(options) {\n\t\tvar object = optionsCache[options] = {};\n\t\tjQuery.each(options.match(core_rnotwhite) || [], function (_, flag) {\n\t\t\tobject[flag] = true;\n\t\t});\n\t\treturn object;\n\t}\n\n\t/*\n  * Create a callback list using the following parameters:\n  *\n  *\toptions: an optional list of space-separated options that will change how\n  *\t\t\tthe callback list behaves or a more traditional option object\n  *\n  * By default a callback list will act like an event callback list and can be\n  * \"fired\" multiple times.\n  *\n  * Possible options:\n  *\n  *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n  *\n  *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n  *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n  *\t\t\t\t\tvalues (like a Deferred)\n  *\n  *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n  *\n  *\tstopOnFalse:\tinterrupt callings when a callback returns false\n  *\n  */\n\tjQuery.Callbacks = function (options) {\n\n\t\t// Convert options from String-formatted to Object-formatted if needed\n\t\t// (we check in cache first)\n\t\toptions = typeof options === \"string\" ? optionsCache[options] || createOptions(options) : jQuery.extend({}, options);\n\n\t\tvar // Last fire value (for non-forgettable lists)\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\t_fired,\n\n\t\t// Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// First callback to fire (used internally by add and fireWith)\n\t\tfiringStart,\n\n\t\t// End of the loop when firing\n\t\tfiringLength,\n\n\t\t// Index of currently firing callback (modified by remove if needed)\n\t\tfiringIndex,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Stack of fire calls for repeatable lists\n\t\tstack = !options.once && [],\n\n\t\t// Fire callbacks\n\t\tfire = function fire(data) {\n\t\t\tmemory = options.memory && data;\n\t\t\t_fired = true;\n\t\t\tfiringIndex = firingStart || 0;\n\t\t\tfiringStart = 0;\n\t\t\tfiringLength = list.length;\n\t\t\tfiring = true;\n\t\t\tfor (; list && firingIndex < firingLength; firingIndex++) {\n\t\t\t\tif (list[firingIndex].apply(data[0], data[1]) === false && options.stopOnFalse) {\n\t\t\t\t\tmemory = false; // To prevent further calls using add\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfiring = false;\n\t\t\tif (list) {\n\t\t\t\tif (stack) {\n\t\t\t\t\tif (stack.length) {\n\t\t\t\t\t\tfire(stack.shift());\n\t\t\t\t\t}\n\t\t\t\t} else if (memory) {\n\t\t\t\t\tlist = [];\n\t\t\t\t} else {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function add() {\n\t\t\t\tif (list) {\n\t\t\t\t\t// First, we save the current length\n\t\t\t\t\tvar start = list.length;\n\t\t\t\t\t(function add(args) {\n\t\t\t\t\t\tjQuery.each(args, function (_, arg) {\n\t\t\t\t\t\t\tvar type = jQuery.type(arg);\n\t\t\t\t\t\t\tif (type === \"function\") {\n\t\t\t\t\t\t\t\tif (!options.unique || !self.has(arg)) {\n\t\t\t\t\t\t\t\t\tlist.push(arg);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (arg && arg.length && type !== \"string\") {\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd(arg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t})(arguments);\n\t\t\t\t\t// Do we need to add the callbacks to the\n\t\t\t\t\t// current firing batch?\n\t\t\t\t\tif (firing) {\n\t\t\t\t\t\tfiringLength = list.length;\n\t\t\t\t\t\t// With memory, if we're not firing then\n\t\t\t\t\t\t// we should call right away\n\t\t\t\t\t} else if (memory) {\n\t\t\t\t\t\tfiringStart = start;\n\t\t\t\t\t\tfire(memory);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function remove() {\n\t\t\t\tif (list) {\n\t\t\t\t\tjQuery.each(arguments, function (_, arg) {\n\t\t\t\t\t\tvar index;\n\t\t\t\t\t\twhile ((index = jQuery.inArray(arg, list, index)) > -1) {\n\t\t\t\t\t\t\tlist.splice(index, 1);\n\t\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\t\tif (firing) {\n\t\t\t\t\t\t\t\tif (index <= firingLength) {\n\t\t\t\t\t\t\t\t\tfiringLength--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (index <= firingIndex) {\n\t\t\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Control if a given callback is in the list\n\t\t\thas: function has(fn) {\n\t\t\t\treturn jQuery.inArray(fn, list) > -1;\n\t\t\t},\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function empty() {\n\t\t\t\tlist = [];\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Have the list do nothing anymore\n\t\t\tdisable: function disable() {\n\t\t\t\tlist = stack = memory = undefined;\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it disabled?\n\t\t\tdisabled: function disabled() {\n\t\t\t\treturn !list;\n\t\t\t},\n\t\t\t// Lock the list in its current state\n\t\t\tlock: function lock() {\n\t\t\t\tstack = undefined;\n\t\t\t\tif (!memory) {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it locked?\n\t\t\tlocked: function locked() {\n\t\t\t\treturn !stack;\n\t\t\t},\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function fireWith(context, args) {\n\t\t\t\targs = args || [];\n\t\t\t\targs = [context, args.slice ? args.slice() : args];\n\t\t\t\tif (list && (!_fired || stack)) {\n\t\t\t\t\tif (firing) {\n\t\t\t\t\t\tstack.push(args);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfire(args);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function fire() {\n\t\t\t\tself.fireWith(this, arguments);\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function fired() {\n\t\t\t\treturn !!_fired;\n\t\t\t}\n\t\t};\n\n\t\treturn self;\n\t};\n\tjQuery.extend({\n\n\t\tDeferred: function Deferred(func) {\n\t\t\tvar tuples = [\n\t\t\t// action, add listener, listener list, final state\n\t\t\t[\"resolve\", \"done\", jQuery.Callbacks(\"once memory\"), \"resolved\"], [\"reject\", \"fail\", jQuery.Callbacks(\"once memory\"), \"rejected\"], [\"notify\", \"progress\", jQuery.Callbacks(\"memory\")]],\n\t\t\t    _state = \"pending\",\n\t\t\t    _promise = {\n\t\t\t\tstate: function state() {\n\t\t\t\t\treturn _state;\n\t\t\t\t},\n\t\t\t\talways: function always() {\n\t\t\t\t\tdeferred.done(arguments).fail(arguments);\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\tthen: function then() /* fnDone, fnFail, fnProgress */{\n\t\t\t\t\tvar fns = arguments;\n\t\t\t\t\treturn jQuery.Deferred(function (newDefer) {\n\t\t\t\t\t\tjQuery.each(tuples, function (i, tuple) {\n\t\t\t\t\t\t\tvar action = tuple[0],\n\t\t\t\t\t\t\t    fn = jQuery.isFunction(fns[i]) && fns[i];\n\t\t\t\t\t\t\t// deferred[ done | fail | progress ] for forwarding actions to newDefer\n\t\t\t\t\t\t\tdeferred[tuple[1]](function () {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply(this, arguments);\n\t\t\t\t\t\t\t\tif (returned && jQuery.isFunction(returned.promise)) {\n\t\t\t\t\t\t\t\t\treturned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[action + \"With\"](this === _promise ? newDefer.promise() : this, fn ? [returned] : arguments);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t}).promise();\n\t\t\t\t},\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function promise(obj) {\n\t\t\t\t\treturn obj != null ? jQuery.extend(obj, _promise) : _promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\t    deferred = {};\n\n\t\t\t// Keep pipe for back-compat\n\t\t\t_promise.pipe = _promise.then;\n\n\t\t\t// Add list-specific methods\n\t\t\tjQuery.each(tuples, function (i, tuple) {\n\t\t\t\tvar list = tuple[2],\n\t\t\t\t    stateString = tuple[3];\n\n\t\t\t\t// promise[ done | fail | progress ] = list.add\n\t\t\t\t_promise[tuple[1]] = list.add;\n\n\t\t\t\t// Handle state\n\t\t\t\tif (stateString) {\n\t\t\t\t\tlist.add(function () {\n\t\t\t\t\t\t// state = [ resolved | rejected ]\n\t\t\t\t\t\t_state = stateString;\n\n\t\t\t\t\t\t// [ reject_list | resolve_list ].disable; progress_list.lock\n\t\t\t\t\t}, tuples[i ^ 1][2].disable, tuples[2][2].lock);\n\t\t\t\t}\n\n\t\t\t\t// deferred[ resolve | reject | notify ]\n\t\t\t\tdeferred[tuple[0]] = function () {\n\t\t\t\t\tdeferred[tuple[0] + \"With\"](this === deferred ? _promise : this, arguments);\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\t\t\t\tdeferred[tuple[0] + \"With\"] = list.fireWith;\n\t\t\t});\n\n\t\t\t// Make the deferred a promise\n\t\t\t_promise.promise(deferred);\n\n\t\t\t// Call given func if any\n\t\t\tif (func) {\n\t\t\t\tfunc.call(deferred, deferred);\n\t\t\t}\n\n\t\t\t// All done!\n\t\t\treturn deferred;\n\t\t},\n\n\t\t// Deferred helper\n\t\twhen: function when(subordinate /* , ..., subordinateN */) {\n\t\t\tvar i = 0,\n\t\t\t    resolveValues = core_slice.call(arguments),\n\t\t\t    length = resolveValues.length,\n\n\n\t\t\t// the count of uncompleted subordinates\n\t\t\tremaining = length !== 1 || subordinate && jQuery.isFunction(subordinate.promise) ? length : 0,\n\n\n\t\t\t// the master Deferred. If resolveValues consist of only a single Deferred, just use that.\n\t\t\tdeferred = remaining === 1 ? subordinate : jQuery.Deferred(),\n\n\n\t\t\t// Update function for both resolve and progress values\n\t\t\tupdateFunc = function updateFunc(i, contexts, values) {\n\t\t\t\treturn function (value) {\n\t\t\t\t\tcontexts[i] = this;\n\t\t\t\t\tvalues[i] = arguments.length > 1 ? core_slice.call(arguments) : value;\n\t\t\t\t\tif (values === progressValues) {\n\t\t\t\t\t\tdeferred.notifyWith(contexts, values);\n\t\t\t\t\t} else if (! --remaining) {\n\t\t\t\t\t\tdeferred.resolveWith(contexts, values);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\t\t\t    progressValues,\n\t\t\t    progressContexts,\n\t\t\t    resolveContexts;\n\n\t\t\t// add listeners to Deferred subordinates; treat others as resolved\n\t\t\tif (length > 1) {\n\t\t\t\tprogressValues = new Array(length);\n\t\t\t\tprogressContexts = new Array(length);\n\t\t\t\tresolveContexts = new Array(length);\n\t\t\t\tfor (; i < length; i++) {\n\t\t\t\t\tif (resolveValues[i] && jQuery.isFunction(resolveValues[i].promise)) {\n\t\t\t\t\t\tresolveValues[i].promise().done(updateFunc(i, resolveContexts, resolveValues)).fail(deferred.reject).progress(updateFunc(i, progressContexts, progressValues));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t--remaining;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// if we're not waiting on anything, resolve the master\n\t\t\tif (!remaining) {\n\t\t\t\tdeferred.resolveWith(resolveContexts, resolveValues);\n\t\t\t}\n\n\t\t\treturn deferred.promise();\n\t\t}\n\t});\n\tjQuery.support = function () {\n\n\t\tvar support,\n\t\t    all,\n\t\t    a,\n\t\t    select,\n\t\t    opt,\n\t\t    input,\n\t\t    fragment,\n\t\t    eventName,\n\t\t    isSupported,\n\t\t    i,\n\t\t    div = document.createElement(\"div\");\n\n\t\t// Setup\n\t\tdiv.setAttribute(\"className\", \"t\");\n\t\tdiv.innerHTML = \"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\";\n\n\t\t// Support tests won't run in some limited or non-browser environments\n\t\tall = div.getElementsByTagName(\"*\");\n\t\ta = div.getElementsByTagName(\"a\")[0];\n\t\tif (!all || !a || !all.length) {\n\t\t\treturn {};\n\t\t}\n\n\t\t// First batch of tests\n\t\tselect = document.createElement(\"select\");\n\t\topt = select.appendChild(document.createElement(\"option\"));\n\t\tinput = div.getElementsByTagName(\"input\")[0];\n\n\t\ta.style.cssText = \"top:1px;float:left;opacity:.5\";\n\t\tsupport = {\n\t\t\t// Test setAttribute on camelCase class. If it works, we need attrFixes when doing get/setAttribute (ie6/7)\n\t\t\tgetSetAttribute: div.className !== \"t\",\n\n\t\t\t// IE strips leading whitespace when .innerHTML is used\n\t\t\tleadingWhitespace: div.firstChild.nodeType === 3,\n\n\t\t\t// Make sure that tbody elements aren't automatically inserted\n\t\t\t// IE will insert them into empty tables\n\t\t\ttbody: !div.getElementsByTagName(\"tbody\").length,\n\n\t\t\t// Make sure that link elements get serialized correctly by innerHTML\n\t\t\t// This requires a wrapper element in IE\n\t\t\thtmlSerialize: !!div.getElementsByTagName(\"link\").length,\n\n\t\t\t// Get the style information from getAttribute\n\t\t\t// (IE uses .cssText instead)\n\t\t\tstyle: /top/.test(a.getAttribute(\"style\")),\n\n\t\t\t// Make sure that URLs aren't manipulated\n\t\t\t// (IE normalizes it by default)\n\t\t\threfNormalized: a.getAttribute(\"href\") === \"/a\",\n\n\t\t\t// Make sure that element opacity exists\n\t\t\t// (IE uses filter instead)\n\t\t\t// Use a regex to work around a WebKit issue. See #5145\n\t\t\topacity: /^0.5/.test(a.style.opacity),\n\n\t\t\t// Verify style float existence\n\t\t\t// (IE uses styleFloat instead of cssFloat)\n\t\t\tcssFloat: !!a.style.cssFloat,\n\n\t\t\t// Check the default checkbox/radio value (\"\" on WebKit; \"on\" elsewhere)\n\t\t\tcheckOn: !!input.value,\n\n\t\t\t// Make sure that a selected-by-default option has a working selected property.\n\t\t\t// (WebKit defaults to false instead of true, IE too, if it's in an optgroup)\n\t\t\toptSelected: opt.selected,\n\n\t\t\t// Tests for enctype support on a form (#6743)\n\t\t\tenctype: !!document.createElement(\"form\").enctype,\n\n\t\t\t// Makes sure cloning an html5 element does not cause problems\n\t\t\t// Where outerHTML is undefined, this still works\n\t\t\thtml5Clone: document.createElement(\"nav\").cloneNode(true).outerHTML !== \"<:nav></:nav>\",\n\n\t\t\t// jQuery.support.boxModel DEPRECATED in 1.8 since we don't support Quirks Mode\n\t\t\tboxModel: document.compatMode === \"CSS1Compat\",\n\n\t\t\t// Will be defined later\n\t\t\tdeleteExpando: true,\n\t\t\tnoCloneEvent: true,\n\t\t\tinlineBlockNeedsLayout: false,\n\t\t\tshrinkWrapBlocks: false,\n\t\t\treliableMarginRight: true,\n\t\t\tboxSizingReliable: true,\n\t\t\tpixelPosition: false\n\t\t};\n\n\t\t// Make sure checked status is properly cloned\n\t\tinput.checked = true;\n\t\tsupport.noCloneChecked = input.cloneNode(true).checked;\n\n\t\t// Make sure that the options inside disabled selects aren't marked as disabled\n\t\t// (WebKit marks them as disabled)\n\t\tselect.disabled = true;\n\t\tsupport.optDisabled = !opt.disabled;\n\n\t\t// Support: IE<9\n\t\ttry {\n\t\t\tdelete div.test;\n\t\t} catch (e) {\n\t\t\tsupport.deleteExpando = false;\n\t\t}\n\n\t\t// Check if we can trust getAttribute(\"value\")\n\t\tinput = document.createElement(\"input\");\n\t\tinput.setAttribute(\"value\", \"\");\n\t\tsupport.input = input.getAttribute(\"value\") === \"\";\n\n\t\t// Check if an input maintains its value after becoming a radio\n\t\tinput.value = \"t\";\n\t\tinput.setAttribute(\"type\", \"radio\");\n\t\tsupport.radioValue = input.value === \"t\";\n\n\t\t// #11217 - WebKit loses check when the name is after the checked attribute\n\t\tinput.setAttribute(\"checked\", \"t\");\n\t\tinput.setAttribute(\"name\", \"t\");\n\n\t\tfragment = document.createDocumentFragment();\n\t\tfragment.appendChild(input);\n\n\t\t// Check if a disconnected checkbox will retain its checked\n\t\t// value of true after appended to the DOM (IE6/7)\n\t\tsupport.appendChecked = input.checked;\n\n\t\t// WebKit doesn't clone checked state correctly in fragments\n\t\tsupport.checkClone = fragment.cloneNode(true).cloneNode(true).lastChild.checked;\n\n\t\t// Support: IE<9\n\t\t// Opera does not clone events (and typeof div.attachEvent === undefined).\n\t\t// IE9-10 clones events bound via attachEvent, but they don't trigger with .click()\n\t\tif (div.attachEvent) {\n\t\t\tdiv.attachEvent(\"onclick\", function () {\n\t\t\t\tsupport.noCloneEvent = false;\n\t\t\t});\n\n\t\t\tdiv.cloneNode(true).click();\n\t\t}\n\n\t\t// Support: IE<9 (lack submit/change bubble), Firefox 17+ (lack focusin event)\n\t\t// Beware of CSP restrictions (https://developer.mozilla.org/en/Security/CSP), test/csp.php\n\t\tfor (i in { submit: true, change: true, focusin: true }) {\n\t\t\tdiv.setAttribute(eventName = \"on\" + i, \"t\");\n\n\t\t\tsupport[i + \"Bubbles\"] = eventName in window || div.attributes[eventName].expando === false;\n\t\t}\n\n\t\tdiv.style.backgroundClip = \"content-box\";\n\t\tdiv.cloneNode(true).style.backgroundClip = \"\";\n\t\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\t\t// Run tests that need a body at doc ready\n\t\tjQuery(function () {\n\t\t\tvar container,\n\t\t\t    marginDiv,\n\t\t\t    tds,\n\t\t\t    divReset = \"padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;\",\n\t\t\t    body = document.getElementsByTagName(\"body\")[0];\n\n\t\t\tif (!body) {\n\t\t\t\t// Return for frameset docs that don't have a body\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcontainer = document.createElement(\"div\");\n\t\t\tcontainer.style.cssText = \"border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px\";\n\n\t\t\tbody.appendChild(container).appendChild(div);\n\n\t\t\t// Support: IE8\n\t\t\t// Check if table cells still have offsetWidth/Height when they are set\n\t\t\t// to display:none and there are still other visible table cells in a\n\t\t\t// table row; if so, offsetWidth/Height are not reliable for use when\n\t\t\t// determining if an element has been hidden directly using\n\t\t\t// display:none (it is still safe to use offsets if a parent element is\n\t\t\t// hidden; don safety goggles and see bug #4512 for more information).\n\t\t\tdiv.innerHTML = \"<table><tr><td></td><td>t</td></tr></table>\";\n\t\t\ttds = div.getElementsByTagName(\"td\");\n\t\t\ttds[0].style.cssText = \"padding:0;margin:0;border:0;display:none\";\n\t\t\tisSupported = tds[0].offsetHeight === 0;\n\n\t\t\ttds[0].style.display = \"\";\n\t\t\ttds[1].style.display = \"none\";\n\n\t\t\t// Support: IE8\n\t\t\t// Check if empty table cells still have offsetWidth/Height\n\t\t\tsupport.reliableHiddenOffsets = isSupported && tds[0].offsetHeight === 0;\n\n\t\t\t// Check box-sizing and margin behavior\n\t\t\tdiv.innerHTML = \"\";\n\t\t\tdiv.style.cssText = \"box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;\";\n\t\t\tsupport.boxSizing = div.offsetWidth === 4;\n\t\t\tsupport.doesNotIncludeMarginInBodyOffset = body.offsetTop !== 1;\n\n\t\t\t// Use window.getComputedStyle because jsdom on node.js will break without it.\n\t\t\tif (window.getComputedStyle) {\n\t\t\t\tsupport.pixelPosition = (window.getComputedStyle(div, null) || {}).top !== \"1%\";\n\t\t\t\tsupport.boxSizingReliable = (window.getComputedStyle(div, null) || { width: \"4px\" }).width === \"4px\";\n\n\t\t\t\t// Check if div with explicit width and no margin-right incorrectly\n\t\t\t\t// gets computed margin-right based on width of container. (#3333)\n\t\t\t\t// Fails in WebKit before Feb 2011 nightlies\n\t\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n\t\t\t\tmarginDiv = div.appendChild(document.createElement(\"div\"));\n\t\t\t\tmarginDiv.style.cssText = div.style.cssText = divReset;\n\t\t\t\tmarginDiv.style.marginRight = marginDiv.style.width = \"0\";\n\t\t\t\tdiv.style.width = \"1px\";\n\n\t\t\t\tsupport.reliableMarginRight = !parseFloat((window.getComputedStyle(marginDiv, null) || {}).marginRight);\n\t\t\t}\n\n\t\t\tif (typeof div.style.zoom !== \"undefined\") {\n\t\t\t\t// Support: IE<8\n\t\t\t\t// Check if natively block-level elements act like inline-block\n\t\t\t\t// elements when setting their display to 'inline' and giving\n\t\t\t\t// them layout\n\t\t\t\tdiv.innerHTML = \"\";\n\t\t\t\tdiv.style.cssText = divReset + \"width:1px;padding:1px;display:inline;zoom:1\";\n\t\t\t\tsupport.inlineBlockNeedsLayout = div.offsetWidth === 3;\n\n\t\t\t\t// Support: IE6\n\t\t\t\t// Check if elements with layout shrink-wrap their children\n\t\t\t\tdiv.style.display = \"block\";\n\t\t\t\tdiv.innerHTML = \"<div></div>\";\n\t\t\t\tdiv.firstChild.style.width = \"5px\";\n\t\t\t\tsupport.shrinkWrapBlocks = div.offsetWidth !== 3;\n\n\t\t\t\t// Prevent IE 6 from affecting layout for positioned elements #11048\n\t\t\t\t// Prevent IE from shrinking the body in IE 7 mode #12869\n\t\t\t\tbody.style.zoom = 1;\n\t\t\t}\n\n\t\t\tbody.removeChild(container);\n\n\t\t\t// Null elements to avoid leaks in IE\n\t\t\tcontainer = div = tds = marginDiv = null;\n\t\t});\n\n\t\t// Null elements to avoid leaks in IE\n\t\tall = select = fragment = opt = a = input = null;\n\n\t\treturn support;\n\t}();\n\n\tvar rbrace = /(?:\\{[\\s\\S]*\\}|\\[[\\s\\S]*\\])$/,\n\t    rmultiDash = /([A-Z])/g;\n\n\tfunction internalData(elem, name, data, pvt /* Internal Use Only */) {\n\t\tif (!jQuery.acceptData(elem)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar thisCache,\n\t\t    ret,\n\t\t    internalKey = jQuery.expando,\n\t\t    getByName = typeof name === \"string\",\n\n\n\t\t// We have to handle DOM nodes and JS objects differently because IE6-7\n\t\t// can't GC object references properly across the DOM-JS boundary\n\t\tisNode = elem.nodeType,\n\n\n\t\t// Only DOM nodes need the global jQuery cache; JS object data is\n\t\t// attached directly to the object so GC can occur automatically\n\t\tcache = isNode ? jQuery.cache : elem,\n\n\n\t\t// Only defining an ID for JS objects if its cache already exists allows\n\t\t// the code to shortcut on the same path as a DOM node with no cache\n\t\tid = isNode ? elem[internalKey] : elem[internalKey] && internalKey;\n\n\t\t// Avoid doing any more work than we need to when trying to get data on an\n\t\t// object that has no data at all\n\t\tif ((!id || !cache[id] || !pvt && !cache[id].data) && getByName && data === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!id) {\n\t\t\t// Only DOM nodes need a new unique ID for each element since their data\n\t\t\t// ends up in the global cache\n\t\t\tif (isNode) {\n\t\t\t\telem[internalKey] = id = core_deletedIds.pop() || jQuery.guid++;\n\t\t\t} else {\n\t\t\t\tid = internalKey;\n\t\t\t}\n\t\t}\n\n\t\tif (!cache[id]) {\n\t\t\tcache[id] = {};\n\n\t\t\t// Avoids exposing jQuery metadata on plain JS objects when the object\n\t\t\t// is serialized using JSON.stringify\n\t\t\tif (!isNode) {\n\t\t\t\tcache[id].toJSON = jQuery.noop;\n\t\t\t}\n\t\t}\n\n\t\t// An object can be passed to jQuery.data instead of a key/value pair; this gets\n\t\t// shallow copied over onto the existing cache\n\t\tif ((typeof name === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(name)) === \"object\" || typeof name === \"function\") {\n\t\t\tif (pvt) {\n\t\t\t\tcache[id] = jQuery.extend(cache[id], name);\n\t\t\t} else {\n\t\t\t\tcache[id].data = jQuery.extend(cache[id].data, name);\n\t\t\t}\n\t\t}\n\n\t\tthisCache = cache[id];\n\n\t\t// jQuery data() is stored in a separate object inside the object's internal data\n\t\t// cache in order to avoid key collisions between internal data and user-defined\n\t\t// data.\n\t\tif (!pvt) {\n\t\t\tif (!thisCache.data) {\n\t\t\t\tthisCache.data = {};\n\t\t\t}\n\n\t\t\tthisCache = thisCache.data;\n\t\t}\n\n\t\tif (data !== undefined) {\n\t\t\tthisCache[jQuery.camelCase(name)] = data;\n\t\t}\n\n\t\t// Check for both converted-to-camel and non-converted data property names\n\t\t// If a data property was specified\n\t\tif (getByName) {\n\n\t\t\t// First Try to find as-is property data\n\t\t\tret = thisCache[name];\n\n\t\t\t// Test for null|undefined property data\n\t\t\tif (ret == null) {\n\n\t\t\t\t// Try to find the camelCased property\n\t\t\t\tret = thisCache[jQuery.camelCase(name)];\n\t\t\t}\n\t\t} else {\n\t\t\tret = thisCache;\n\t\t}\n\n\t\treturn ret;\n\t}\n\n\tfunction internalRemoveData(elem, name, pvt /* For internal use only */) {\n\t\tif (!jQuery.acceptData(elem)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar thisCache,\n\t\t    i,\n\t\t    l,\n\t\t    isNode = elem.nodeType,\n\n\n\t\t// See jQuery.data for more information\n\t\tcache = isNode ? jQuery.cache : elem,\n\t\t    id = isNode ? elem[jQuery.expando] : jQuery.expando;\n\n\t\t// If there is already no cache entry for this object, there is no\n\t\t// purpose in continuing\n\t\tif (!cache[id]) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (name) {\n\n\t\t\tthisCache = pvt ? cache[id] : cache[id].data;\n\n\t\t\tif (thisCache) {\n\n\t\t\t\t// Support array or space separated string names for data keys\n\t\t\t\tif (!jQuery.isArray(name)) {\n\n\t\t\t\t\t// try the string as a key before any manipulation\n\t\t\t\t\tif (name in thisCache) {\n\t\t\t\t\t\tname = [name];\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// split the camel cased version by spaces unless a key with the spaces exists\n\t\t\t\t\t\tname = jQuery.camelCase(name);\n\t\t\t\t\t\tif (name in thisCache) {\n\t\t\t\t\t\t\tname = [name];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tname = name.split(\" \");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// If \"name\" is an array of keys...\n\t\t\t\t\t// When data is initially created, via (\"key\", \"val\") signature,\n\t\t\t\t\t// keys will be converted to camelCase.\n\t\t\t\t\t// Since there is no way to tell _how_ a key was added, remove\n\t\t\t\t\t// both plain key and camelCase key. #12786\n\t\t\t\t\t// This will only penalize the array argument path.\n\t\t\t\t\tname = name.concat(jQuery.map(name, jQuery.camelCase));\n\t\t\t\t}\n\n\t\t\t\tfor (i = 0, l = name.length; i < l; i++) {\n\t\t\t\t\tdelete thisCache[name[i]];\n\t\t\t\t}\n\n\t\t\t\t// If there is no data left in the cache, we want to continue\n\t\t\t\t// and let the cache object itself get destroyed\n\t\t\t\tif (!(pvt ? isEmptyDataObject : jQuery.isEmptyObject)(thisCache)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// See jQuery.data for more information\n\t\tif (!pvt) {\n\t\t\tdelete cache[id].data;\n\n\t\t\t// Don't destroy the parent cache unless the internal data object\n\t\t\t// had been the only thing left in it\n\t\t\tif (!isEmptyDataObject(cache[id])) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Destroy the cache\n\t\tif (isNode) {\n\t\t\tjQuery.cleanData([elem], true);\n\n\t\t\t// Use delete when supported for expandos or `cache` is not a window per isWindow (#10080)\n\t\t} else if (jQuery.support.deleteExpando || cache != cache.window) {\n\t\t\tdelete cache[id];\n\n\t\t\t// When all else fails, null\n\t\t} else {\n\t\t\tcache[id] = null;\n\t\t}\n\t}\n\n\tjQuery.extend({\n\t\tcache: {},\n\n\t\t// Unique for each copy of jQuery on the page\n\t\t// Non-digits removed to match rinlinejQuery\n\t\texpando: \"jQuery\" + (core_version + Math.random()).replace(/\\D/g, \"\"),\n\n\t\t// The following elements throw uncatchable exceptions if you\n\t\t// attempt to add expando properties to them.\n\t\tnoData: {\n\t\t\t\"embed\": true,\n\t\t\t// Ban all objects except for Flash (which handle expandos)\n\t\t\t\"object\": \"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\",\n\t\t\t\"applet\": true\n\t\t},\n\n\t\thasData: function hasData(elem) {\n\t\t\telem = elem.nodeType ? jQuery.cache[elem[jQuery.expando]] : elem[jQuery.expando];\n\t\t\treturn !!elem && !isEmptyDataObject(elem);\n\t\t},\n\n\t\tdata: function data(elem, name, _data) {\n\t\t\treturn internalData(elem, name, _data, false);\n\t\t},\n\n\t\tremoveData: function removeData(elem, name) {\n\t\t\treturn internalRemoveData(elem, name, false);\n\t\t},\n\n\t\t// For internal use only.\n\t\t_data: function _data(elem, name, data) {\n\t\t\treturn internalData(elem, name, data, true);\n\t\t},\n\n\t\t_removeData: function _removeData(elem, name) {\n\t\t\treturn internalRemoveData(elem, name, true);\n\t\t},\n\n\t\t// A method for determining if a DOM node can handle the data expando\n\t\tacceptData: function acceptData(elem) {\n\t\t\tvar noData = elem.nodeName && jQuery.noData[elem.nodeName.toLowerCase()];\n\n\t\t\t// nodes accept data unless otherwise specified; rejection can be conditional\n\t\t\treturn !noData || noData !== true && elem.getAttribute(\"classid\") === noData;\n\t\t}\n\t});\n\n\tjQuery.fn.extend({\n\t\tdata: function data(key, value) {\n\t\t\tvar attrs,\n\t\t\t    name,\n\t\t\t    elem = this[0],\n\t\t\t    i = 0,\n\t\t\t    data = null;\n\n\t\t\t// Gets all values\n\t\t\tif (key === undefined) {\n\t\t\t\tif (this.length) {\n\t\t\t\t\tdata = jQuery.data(elem);\n\n\t\t\t\t\tif (elem.nodeType === 1 && !jQuery._data(elem, \"parsedAttrs\")) {\n\t\t\t\t\t\tattrs = elem.attributes;\n\t\t\t\t\t\tfor (; i < attrs.length; i++) {\n\t\t\t\t\t\t\tname = attrs[i].name;\n\n\t\t\t\t\t\t\tif (!name.indexOf(\"data-\")) {\n\t\t\t\t\t\t\t\tname = jQuery.camelCase(name.substring(5));\n\n\t\t\t\t\t\t\t\tdataAttr(elem, name, data[name]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tjQuery._data(elem, \"parsedAttrs\", true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t}\n\n\t\t\t// Sets multiple values\n\t\t\tif ((typeof key === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(key)) === \"object\") {\n\t\t\t\treturn this.each(function () {\n\t\t\t\t\tjQuery.data(this, key);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn jQuery.access(this, function (value) {\n\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\t// Try to fetch any internally stored data first\n\t\t\t\t\treturn elem ? dataAttr(elem, key, jQuery.data(elem, key)) : null;\n\t\t\t\t}\n\n\t\t\t\tthis.each(function () {\n\t\t\t\t\tjQuery.data(this, key, value);\n\t\t\t\t});\n\t\t\t}, null, value, arguments.length > 1, null, true);\n\t\t},\n\n\t\tremoveData: function removeData(key) {\n\t\t\treturn this.each(function () {\n\t\t\t\tjQuery.removeData(this, key);\n\t\t\t});\n\t\t}\n\t});\n\n\tfunction dataAttr(elem, key, data) {\n\t\t// If nothing was found internally, try to fetch any\n\t\t// data from the HTML5 data-* attribute\n\t\tif (data === undefined && elem.nodeType === 1) {\n\n\t\t\tvar name = \"data-\" + key.replace(rmultiDash, \"-$1\").toLowerCase();\n\n\t\t\tdata = elem.getAttribute(name);\n\n\t\t\tif (typeof data === \"string\") {\n\t\t\t\ttry {\n\t\t\t\t\tdata = data === \"true\" ? true : data === \"false\" ? false : data === \"null\" ? null :\n\t\t\t\t\t// Only convert to a number if it doesn't change the string\n\t\t\t\t\t+data + \"\" === data ? +data : rbrace.test(data) ? jQuery.parseJSON(data) : data;\n\t\t\t\t} catch (e) {}\n\n\t\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\t\tjQuery.data(elem, key, data);\n\t\t\t} else {\n\t\t\t\tdata = undefined;\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t// checks a cache object for emptiness\n\tfunction isEmptyDataObject(obj) {\n\t\tvar name;\n\t\tfor (name in obj) {\n\n\t\t\t// if the public data object is empty, the private is still empty\n\t\t\tif (name === \"data\" && jQuery.isEmptyObject(obj[name])) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (name !== \"toJSON\") {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\tjQuery.extend({\n\t\tqueue: function queue(elem, type, data) {\n\t\t\tvar queue;\n\n\t\t\tif (elem) {\n\t\t\t\ttype = (type || \"fx\") + \"queue\";\n\t\t\t\tqueue = jQuery._data(elem, type);\n\n\t\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\t\tif (data) {\n\t\t\t\t\tif (!queue || jQuery.isArray(data)) {\n\t\t\t\t\t\tqueue = jQuery._data(elem, type, jQuery.makeArray(data));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tqueue.push(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn queue || [];\n\t\t\t}\n\t\t},\n\n\t\tdequeue: function dequeue(elem, type) {\n\t\t\ttype = type || \"fx\";\n\n\t\t\tvar queue = jQuery.queue(elem, type),\n\t\t\t    startLength = queue.length,\n\t\t\t    fn = queue.shift(),\n\t\t\t    hooks = jQuery._queueHooks(elem, type),\n\t\t\t    next = function next() {\n\t\t\t\tjQuery.dequeue(elem, type);\n\t\t\t};\n\n\t\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\t\tif (fn === \"inprogress\") {\n\t\t\t\tfn = queue.shift();\n\t\t\t\tstartLength--;\n\t\t\t}\n\n\t\t\thooks.cur = fn;\n\t\t\tif (fn) {\n\n\t\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t\t// automatically dequeued\n\t\t\t\tif (type === \"fx\") {\n\t\t\t\t\tqueue.unshift(\"inprogress\");\n\t\t\t\t}\n\n\t\t\t\t// clear up the last queue stop function\n\t\t\t\tdelete hooks.stop;\n\t\t\t\tfn.call(elem, next, hooks);\n\t\t\t}\n\n\t\t\tif (!startLength && hooks) {\n\t\t\t\thooks.empty.fire();\n\t\t\t}\n\t\t},\n\n\t\t// not intended for public consumption - generates a queueHooks object, or returns the current one\n\t\t_queueHooks: function _queueHooks(elem, type) {\n\t\t\tvar key = type + \"queueHooks\";\n\t\t\treturn jQuery._data(elem, key) || jQuery._data(elem, key, {\n\t\t\t\tempty: jQuery.Callbacks(\"once memory\").add(function () {\n\t\t\t\t\tjQuery._removeData(elem, type + \"queue\");\n\t\t\t\t\tjQuery._removeData(elem, key);\n\t\t\t\t})\n\t\t\t});\n\t\t}\n\t});\n\n\tjQuery.fn.extend({\n\t\tqueue: function queue(type, data) {\n\t\t\tvar setter = 2;\n\n\t\t\tif (typeof type !== \"string\") {\n\t\t\t\tdata = type;\n\t\t\t\ttype = \"fx\";\n\t\t\t\tsetter--;\n\t\t\t}\n\n\t\t\tif (arguments.length < setter) {\n\t\t\t\treturn jQuery.queue(this[0], type);\n\t\t\t}\n\n\t\t\treturn data === undefined ? this : this.each(function () {\n\t\t\t\tvar queue = jQuery.queue(this, type, data);\n\n\t\t\t\t// ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks(this, type);\n\n\t\t\t\tif (type === \"fx\" && queue[0] !== \"inprogress\") {\n\t\t\t\t\tjQuery.dequeue(this, type);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tdequeue: function dequeue(type) {\n\t\t\treturn this.each(function () {\n\t\t\t\tjQuery.dequeue(this, type);\n\t\t\t});\n\t\t},\n\t\t// Based off of the plugin by Clint Helfers, with permission.\n\t\t// http://blindsignals.com/index.php/2009/07/jquery-delay/\n\t\tdelay: function delay(time, type) {\n\t\t\ttime = jQuery.fx ? jQuery.fx.speeds[time] || time : time;\n\t\t\ttype = type || \"fx\";\n\n\t\t\treturn this.queue(type, function (next, hooks) {\n\t\t\t\tvar timeout = setTimeout(next, time);\n\t\t\t\thooks.stop = function () {\n\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\tclearQueue: function clearQueue(type) {\n\t\t\treturn this.queue(type || \"fx\", []);\n\t\t},\n\t\t// Get a promise resolved when queues of a certain type\n\t\t// are emptied (fx is the type by default)\n\t\tpromise: function promise(type, obj) {\n\t\t\tvar tmp,\n\t\t\t    count = 1,\n\t\t\t    defer = jQuery.Deferred(),\n\t\t\t    elements = this,\n\t\t\t    i = this.length,\n\t\t\t    resolve = function resolve() {\n\t\t\t\tif (! --count) {\n\t\t\t\t\tdefer.resolveWith(elements, [elements]);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (typeof type !== \"string\") {\n\t\t\t\tobj = type;\n\t\t\t\ttype = undefined;\n\t\t\t}\n\t\t\ttype = type || \"fx\";\n\n\t\t\twhile (i--) {\n\t\t\t\ttmp = jQuery._data(elements[i], type + \"queueHooks\");\n\t\t\t\tif (tmp && tmp.empty) {\n\t\t\t\t\tcount++;\n\t\t\t\t\ttmp.empty.add(resolve);\n\t\t\t\t}\n\t\t\t}\n\t\t\tresolve();\n\t\t\treturn defer.promise(obj);\n\t\t}\n\t});\n\tvar nodeHook,\n\t    boolHook,\n\t    rclass = /[\\t\\r\\n]/g,\n\t    rreturn = /\\r/g,\n\t    rfocusable = /^(?:input|select|textarea|button|object)$/i,\n\t    rclickable = /^(?:a|area)$/i,\n\t    rboolean = /^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,\n\t    ruseDefault = /^(?:checked|selected)$/i,\n\t    getSetAttribute = jQuery.support.getSetAttribute,\n\t    getSetInput = jQuery.support.input;\n\n\tjQuery.fn.extend({\n\t\tattr: function attr(name, value) {\n\t\t\treturn jQuery.access(this, jQuery.attr, name, value, arguments.length > 1);\n\t\t},\n\n\t\tremoveAttr: function removeAttr(name) {\n\t\t\treturn this.each(function () {\n\t\t\t\tjQuery.removeAttr(this, name);\n\t\t\t});\n\t\t},\n\n\t\tprop: function prop(name, value) {\n\t\t\treturn jQuery.access(this, jQuery.prop, name, value, arguments.length > 1);\n\t\t},\n\n\t\tremoveProp: function removeProp(name) {\n\t\t\tname = jQuery.propFix[name] || name;\n\t\t\treturn this.each(function () {\n\t\t\t\t// try/catch handles cases where IE balks (such as removing a property on window)\n\t\t\t\ttry {\n\t\t\t\t\tthis[name] = undefined;\n\t\t\t\t\tdelete this[name];\n\t\t\t\t} catch (e) {}\n\t\t\t});\n\t\t},\n\n\t\taddClass: function addClass(value) {\n\t\t\tvar classes,\n\t\t\t    elem,\n\t\t\t    cur,\n\t\t\t    clazz,\n\t\t\t    j,\n\t\t\t    i = 0,\n\t\t\t    len = this.length,\n\t\t\t    proceed = typeof value === \"string\" && value;\n\n\t\t\tif (jQuery.isFunction(value)) {\n\t\t\t\treturn this.each(function (j) {\n\t\t\t\t\tjQuery(this).addClass(value.call(this, j, this.className));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (proceed) {\n\t\t\t\t// The disjunction here is for better compressibility (see removeClass)\n\t\t\t\tclasses = (value || \"\").match(core_rnotwhite) || [];\n\n\t\t\t\tfor (; i < len; i++) {\n\t\t\t\t\telem = this[i];\n\t\t\t\t\tcur = elem.nodeType === 1 && (elem.className ? (\" \" + elem.className + \" \").replace(rclass, \" \") : \" \");\n\n\t\t\t\t\tif (cur) {\n\t\t\t\t\t\tj = 0;\n\t\t\t\t\t\twhile (clazz = classes[j++]) {\n\t\t\t\t\t\t\tif (cur.indexOf(\" \" + clazz + \" \") < 0) {\n\t\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telem.className = jQuery.trim(cur);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\tremoveClass: function removeClass(value) {\n\t\t\tvar classes,\n\t\t\t    elem,\n\t\t\t    cur,\n\t\t\t    clazz,\n\t\t\t    j,\n\t\t\t    i = 0,\n\t\t\t    len = this.length,\n\t\t\t    proceed = arguments.length === 0 || typeof value === \"string\" && value;\n\n\t\t\tif (jQuery.isFunction(value)) {\n\t\t\t\treturn this.each(function (j) {\n\t\t\t\t\tjQuery(this).removeClass(value.call(this, j, this.className));\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (proceed) {\n\t\t\t\tclasses = (value || \"\").match(core_rnotwhite) || [];\n\n\t\t\t\tfor (; i < len; i++) {\n\t\t\t\t\telem = this[i];\n\t\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\t\tcur = elem.nodeType === 1 && (elem.className ? (\" \" + elem.className + \" \").replace(rclass, \" \") : \"\");\n\n\t\t\t\t\tif (cur) {\n\t\t\t\t\t\tj = 0;\n\t\t\t\t\t\twhile (clazz = classes[j++]) {\n\t\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\t\twhile (cur.indexOf(\" \" + clazz + \" \") >= 0) {\n\t\t\t\t\t\t\t\tcur = cur.replace(\" \" + clazz + \" \", \" \");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telem.className = value ? jQuery.trim(cur) : \"\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\ttoggleClass: function toggleClass(value, stateVal) {\n\t\t\tvar type = typeof value === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(value),\n\t\t\t    isBool = typeof stateVal === \"boolean\";\n\n\t\t\tif (jQuery.isFunction(value)) {\n\t\t\t\treturn this.each(function (i) {\n\t\t\t\t\tjQuery(this).toggleClass(value.call(this, i, this.className, stateVal), stateVal);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.each(function () {\n\t\t\t\tif (type === \"string\") {\n\t\t\t\t\t// toggle individual class names\n\t\t\t\t\tvar className,\n\t\t\t\t\t    i = 0,\n\t\t\t\t\t    self = jQuery(this),\n\t\t\t\t\t    state = stateVal,\n\t\t\t\t\t    classNames = value.match(core_rnotwhite) || [];\n\n\t\t\t\t\twhile (className = classNames[i++]) {\n\t\t\t\t\t\t// check each className given, space separated list\n\t\t\t\t\t\tstate = isBool ? state : !self.hasClass(className);\n\t\t\t\t\t\tself[state ? \"addClass\" : \"removeClass\"](className);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Toggle whole class name\n\t\t\t\t} else if (type === \"undefined\" || type === \"boolean\") {\n\t\t\t\t\tif (this.className) {\n\t\t\t\t\t\t// store className if set\n\t\t\t\t\t\tjQuery._data(this, \"__className__\", this.className);\n\t\t\t\t\t}\n\n\t\t\t\t\t// If the element has a class name or if we're passed \"false\",\n\t\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\t\tthis.className = this.className || value === false ? \"\" : jQuery._data(this, \"__className__\") || \"\";\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\thasClass: function hasClass(selector) {\n\t\t\tvar className = \" \" + selector + \" \",\n\t\t\t    i = 0,\n\t\t\t    l = this.length;\n\t\t\tfor (; i < l; i++) {\n\t\t\t\tif (this[i].nodeType === 1 && (\" \" + this[i].className + \" \").replace(rclass, \" \").indexOf(className) >= 0) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\tval: function val(value) {\n\t\t\tvar hooks,\n\t\t\t    ret,\n\t\t\t    isFunction,\n\t\t\t    elem = this[0];\n\n\t\t\tif (!arguments.length) {\n\t\t\t\tif (elem) {\n\t\t\t\t\thooks = jQuery.valHooks[elem.type] || jQuery.valHooks[elem.nodeName.toLowerCase()];\n\n\t\t\t\t\tif (hooks && \"get\" in hooks && (ret = hooks.get(elem, \"value\")) !== undefined) {\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t}\n\n\t\t\t\t\tret = elem.value;\n\n\t\t\t\t\treturn typeof ret === \"string\" ?\n\t\t\t\t\t// handle most common string cases\n\t\t\t\t\tret.replace(rreturn, \"\") :\n\t\t\t\t\t// handle cases where value is null/undef or number\n\t\t\t\t\tret == null ? \"\" : ret;\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tisFunction = jQuery.isFunction(value);\n\n\t\t\treturn this.each(function (i) {\n\t\t\t\tvar val,\n\t\t\t\t    self = jQuery(this);\n\n\t\t\t\tif (this.nodeType !== 1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (isFunction) {\n\t\t\t\t\tval = value.call(this, i, self.val());\n\t\t\t\t} else {\n\t\t\t\t\tval = value;\n\t\t\t\t}\n\n\t\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\t\tif (val == null) {\n\t\t\t\t\tval = \"\";\n\t\t\t\t} else if (typeof val === \"number\") {\n\t\t\t\t\tval += \"\";\n\t\t\t\t} else if (jQuery.isArray(val)) {\n\t\t\t\t\tval = jQuery.map(val, function (value) {\n\t\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\thooks = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()];\n\n\t\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\t\tif (!hooks || !(\"set\" in hooks) || hooks.set(this, val, \"value\") === undefined) {\n\t\t\t\t\tthis.value = val;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tjQuery.extend({\n\t\tvalHooks: {\n\t\t\toption: {\n\t\t\t\tget: function get(elem) {\n\t\t\t\t\t// attributes.value is undefined in Blackberry 4.7 but\n\t\t\t\t\t// uses .value. See #6932\n\t\t\t\t\tvar val = elem.attributes.value;\n\t\t\t\t\treturn !val || val.specified ? elem.value : elem.text;\n\t\t\t\t}\n\t\t\t},\n\t\t\tselect: {\n\t\t\t\tget: function get(elem) {\n\t\t\t\t\tvar value,\n\t\t\t\t\t    option,\n\t\t\t\t\t    options = elem.options,\n\t\t\t\t\t    index = elem.selectedIndex,\n\t\t\t\t\t    one = elem.type === \"select-one\" || index < 0,\n\t\t\t\t\t    values = one ? null : [],\n\t\t\t\t\t    max = one ? index + 1 : options.length,\n\t\t\t\t\t    i = index < 0 ? max : one ? index : 0;\n\n\t\t\t\t\t// Loop through all the selected options\n\t\t\t\t\tfor (; i < max; i++) {\n\t\t\t\t\t\toption = options[i];\n\n\t\t\t\t\t\t// oldIE doesn't update selected after form reset (#2551)\n\t\t\t\t\t\tif ((option.selected || i === index) && (\n\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\tjQuery.support.optDisabled ? !option.disabled : option.getAttribute(\"disabled\") === null) && (!option.parentNode.disabled || !jQuery.nodeName(option.parentNode, \"optgroup\"))) {\n\n\t\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\t\tvalue = jQuery(option).val();\n\n\t\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\t\tif (one) {\n\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\t\tvalues.push(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn values;\n\t\t\t\t},\n\n\t\t\t\tset: function set(elem, value) {\n\t\t\t\t\tvar values = jQuery.makeArray(value);\n\n\t\t\t\t\tjQuery(elem).find(\"option\").each(function () {\n\t\t\t\t\t\tthis.selected = jQuery.inArray(jQuery(this).val(), values) >= 0;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!values.length) {\n\t\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t\t}\n\t\t\t\t\treturn values;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tattr: function attr(elem, name, value) {\n\t\t\tvar ret,\n\t\t\t    hooks,\n\t\t\t    notxml,\n\t\t\t    nType = elem.nodeType;\n\n\t\t\t// don't get/set attributes on text, comment and attribute nodes\n\t\t\tif (!elem || nType === 3 || nType === 8 || nType === 2) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Fallback to prop when attributes are not supported\n\t\t\tif (typeof elem.getAttribute === \"undefined\") {\n\t\t\t\treturn jQuery.prop(elem, name, value);\n\t\t\t}\n\n\t\t\tnotxml = nType !== 1 || !jQuery.isXMLDoc(elem);\n\n\t\t\t// All attributes are lowercase\n\t\t\t// Grab necessary hook if one is defined\n\t\t\tif (notxml) {\n\t\t\t\tname = name.toLowerCase();\n\t\t\t\thooks = jQuery.attrHooks[name] || (rboolean.test(name) ? boolHook : nodeHook);\n\t\t\t}\n\n\t\t\tif (value !== undefined) {\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\tjQuery.removeAttr(elem, name);\n\t\t\t\t} else if (hooks && notxml && \"set\" in hooks && (ret = hooks.set(elem, value, name)) !== undefined) {\n\t\t\t\t\treturn ret;\n\t\t\t\t} else {\n\t\t\t\t\telem.setAttribute(name, value + \"\");\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t} else if (hooks && notxml && \"get\" in hooks && (ret = hooks.get(elem, name)) !== null) {\n\t\t\t\treturn ret;\n\t\t\t} else {\n\n\t\t\t\t// In IE9+, Flash objects don't have .getAttribute (#12945)\n\t\t\t\t// Support: IE9+\n\t\t\t\tif (typeof elem.getAttribute !== \"undefined\") {\n\t\t\t\t\tret = elem.getAttribute(name);\n\t\t\t\t}\n\n\t\t\t\t// Non-existent attributes return null, we normalize to undefined\n\t\t\t\treturn ret == null ? undefined : ret;\n\t\t\t}\n\t\t},\n\n\t\tremoveAttr: function removeAttr(elem, value) {\n\t\t\tvar name,\n\t\t\t    propName,\n\t\t\t    i = 0,\n\t\t\t    attrNames = value && value.match(core_rnotwhite);\n\n\t\t\tif (attrNames && elem.nodeType === 1) {\n\t\t\t\twhile (name = attrNames[i++]) {\n\t\t\t\t\tpropName = jQuery.propFix[name] || name;\n\n\t\t\t\t\t// Boolean attributes get special treatment (#10870)\n\t\t\t\t\tif (rboolean.test(name)) {\n\t\t\t\t\t\t// Set corresponding property to false for boolean attributes\n\t\t\t\t\t\t// Also clear defaultChecked/defaultSelected (if appropriate) for IE<8\n\t\t\t\t\t\tif (!getSetAttribute && ruseDefault.test(name)) {\n\t\t\t\t\t\t\telem[jQuery.camelCase(\"default-\" + name)] = elem[propName] = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telem[propName] = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// See #9699 for explanation of this approach (setting first, then removal)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tjQuery.attr(elem, name, \"\");\n\t\t\t\t\t}\n\n\t\t\t\t\telem.removeAttribute(getSetAttribute ? name : propName);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tattrHooks: {\n\t\t\ttype: {\n\t\t\t\tset: function set(elem, value) {\n\t\t\t\t\tif (!jQuery.support.radioValue && value === \"radio\" && jQuery.nodeName(elem, \"input\")) {\n\t\t\t\t\t\t// Setting the type on a radio button after the value resets the value in IE6-9\n\t\t\t\t\t\t// Reset value to default in case type is set after value during creation\n\t\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\t\telem.setAttribute(\"type\", value);\n\t\t\t\t\t\tif (val) {\n\t\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tpropFix: {\n\t\t\ttabindex: \"tabIndex\",\n\t\t\treadonly: \"readOnly\",\n\t\t\t\"for\": \"htmlFor\",\n\t\t\t\"class\": \"className\",\n\t\t\tmaxlength: \"maxLength\",\n\t\t\tcellspacing: \"cellSpacing\",\n\t\t\tcellpadding: \"cellPadding\",\n\t\t\trowspan: \"rowSpan\",\n\t\t\tcolspan: \"colSpan\",\n\t\t\tusemap: \"useMap\",\n\t\t\tframeborder: \"frameBorder\",\n\t\t\tcontenteditable: \"contentEditable\"\n\t\t},\n\n\t\tprop: function prop(elem, name, value) {\n\t\t\tvar ret,\n\t\t\t    hooks,\n\t\t\t    notxml,\n\t\t\t    nType = elem.nodeType;\n\n\t\t\t// don't get/set properties on text, comment and attribute nodes\n\t\t\tif (!elem || nType === 3 || nType === 8 || nType === 2) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnotxml = nType !== 1 || !jQuery.isXMLDoc(elem);\n\n\t\t\tif (notxml) {\n\t\t\t\t// Fix name and attach hooks\n\t\t\t\tname = jQuery.propFix[name] || name;\n\t\t\t\thooks = jQuery.propHooks[name];\n\t\t\t}\n\n\t\t\tif (value !== undefined) {\n\t\t\t\tif (hooks && \"set\" in hooks && (ret = hooks.set(elem, value, name)) !== undefined) {\n\t\t\t\t\treturn ret;\n\t\t\t\t} else {\n\t\t\t\t\treturn elem[name] = value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (hooks && \"get\" in hooks && (ret = hooks.get(elem, name)) !== null) {\n\t\t\t\t\treturn ret;\n\t\t\t\t} else {\n\t\t\t\t\treturn elem[name];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tpropHooks: {\n\t\t\ttabIndex: {\n\t\t\t\tget: function get(elem) {\n\t\t\t\t\t// elem.tabIndex doesn't always return the correct value when it hasn't been explicitly set\n\t\t\t\t\t// http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t\tvar attributeNode = elem.getAttributeNode(\"tabindex\");\n\n\t\t\t\t\treturn attributeNode && attributeNode.specified ? parseInt(attributeNode.value, 10) : rfocusable.test(elem.nodeName) || rclickable.test(elem.nodeName) && elem.href ? 0 : undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// Hook for boolean attributes\n\tboolHook = {\n\t\tget: function get(elem, name) {\n\t\t\tvar\n\t\t\t// Use .prop to determine if this attribute is understood as boolean\n\t\t\tprop = jQuery.prop(elem, name),\n\n\n\t\t\t// Fetch it accordingly\n\t\t\tattr = typeof prop === \"boolean\" && elem.getAttribute(name),\n\t\t\t    detail = typeof prop === \"boolean\" ? getSetInput && getSetAttribute ? attr != null :\n\t\t\t// oldIE fabricates an empty string for missing boolean attributes\n\t\t\t// and conflates checked/selected into attroperties\n\t\t\truseDefault.test(name) ? elem[jQuery.camelCase(\"default-\" + name)] : !!attr :\n\n\t\t\t// fetch an attribute node for properties not recognized as boolean\n\t\t\telem.getAttributeNode(name);\n\n\t\t\treturn detail && detail.value !== false ? name.toLowerCase() : undefined;\n\t\t},\n\t\tset: function set(elem, value, name) {\n\t\t\tif (value === false) {\n\t\t\t\t// Remove boolean attributes when set to false\n\t\t\t\tjQuery.removeAttr(elem, name);\n\t\t\t} else if (getSetInput && getSetAttribute || !ruseDefault.test(name)) {\n\t\t\t\t// IE<8 needs the *property* name\n\t\t\t\telem.setAttribute(!getSetAttribute && jQuery.propFix[name] || name, name);\n\n\t\t\t\t// Use defaultChecked and defaultSelected for oldIE\n\t\t\t} else {\n\t\t\t\telem[jQuery.camelCase(\"default-\" + name)] = elem[name] = true;\n\t\t\t}\n\n\t\t\treturn name;\n\t\t}\n\t};\n\n\t// fix oldIE value attroperty\n\tif (!getSetInput || !getSetAttribute) {\n\t\tjQuery.attrHooks.value = {\n\t\t\tget: function get(elem, name) {\n\t\t\t\tvar ret = elem.getAttributeNode(name);\n\t\t\t\treturn jQuery.nodeName(elem, \"input\") ?\n\n\t\t\t\t// Ignore the value *property* by using defaultValue\n\t\t\t\telem.defaultValue : ret && ret.specified ? ret.value : undefined;\n\t\t\t},\n\t\t\tset: function set(elem, value, name) {\n\t\t\t\tif (jQuery.nodeName(elem, \"input\")) {\n\t\t\t\t\t// Does not return so that setAttribute is also used\n\t\t\t\t\telem.defaultValue = value;\n\t\t\t\t} else {\n\t\t\t\t\t// Use nodeHook if defined (#1954); otherwise setAttribute is fine\n\t\t\t\t\treturn nodeHook && nodeHook.set(elem, value, name);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\t// IE6/7 do not support getting/setting some attributes with get/setAttribute\n\tif (!getSetAttribute) {\n\n\t\t// Use this for any attribute in IE6/7\n\t\t// This fixes almost every IE6/7 issue\n\t\tnodeHook = jQuery.valHooks.button = {\n\t\t\tget: function get(elem, name) {\n\t\t\t\tvar ret = elem.getAttributeNode(name);\n\t\t\t\treturn ret && (name === \"id\" || name === \"name\" || name === \"coords\" ? ret.value !== \"\" : ret.specified) ? ret.value : undefined;\n\t\t\t},\n\t\t\tset: function set(elem, value, name) {\n\t\t\t\t// Set the existing or create a new attribute node\n\t\t\t\tvar ret = elem.getAttributeNode(name);\n\t\t\t\tif (!ret) {\n\t\t\t\t\telem.setAttributeNode(ret = elem.ownerDocument.createAttribute(name));\n\t\t\t\t}\n\n\t\t\t\tret.value = value += \"\";\n\n\t\t\t\t// Break association with cloned elements by also using setAttribute (#9646)\n\t\t\t\treturn name === \"value\" || value === elem.getAttribute(name) ? value : undefined;\n\t\t\t}\n\t\t};\n\n\t\t// Set contenteditable to false on removals(#10429)\n\t\t// Setting to empty string throws an error as an invalid value\n\t\tjQuery.attrHooks.contenteditable = {\n\t\t\tget: nodeHook.get,\n\t\t\tset: function set(elem, value, name) {\n\t\t\t\tnodeHook.set(elem, value === \"\" ? false : value, name);\n\t\t\t}\n\t\t};\n\n\t\t// Set width and height to auto instead of 0 on empty string( Bug #8150 )\n\t\t// This is for removals\n\t\tjQuery.each([\"width\", \"height\"], function (i, name) {\n\t\t\tjQuery.attrHooks[name] = jQuery.extend(jQuery.attrHooks[name], {\n\t\t\t\tset: function set(elem, value) {\n\t\t\t\t\tif (value === \"\") {\n\t\t\t\t\t\telem.setAttribute(name, \"auto\");\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t// Some attributes require a special call on IE\n\t// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\n\tif (!jQuery.support.hrefNormalized) {\n\t\tjQuery.each([\"href\", \"src\", \"width\", \"height\"], function (i, name) {\n\t\t\tjQuery.attrHooks[name] = jQuery.extend(jQuery.attrHooks[name], {\n\t\t\t\tget: function get(elem) {\n\t\t\t\t\tvar ret = elem.getAttribute(name, 2);\n\t\t\t\t\treturn ret == null ? undefined : ret;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// href/src property should get the full normalized URL (#10299/#12915)\n\t\tjQuery.each([\"href\", \"src\"], function (i, name) {\n\t\t\tjQuery.propHooks[name] = {\n\t\t\t\tget: function get(elem) {\n\t\t\t\t\treturn elem.getAttribute(name, 4);\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t}\n\n\tif (!jQuery.support.style) {\n\t\tjQuery.attrHooks.style = {\n\t\t\tget: function get(elem) {\n\t\t\t\t// Return undefined in the case of empty string\n\t\t\t\t// Note: IE uppercases css property names, but if we were to .toLowerCase()\n\t\t\t\t// .cssText, that would destroy case senstitivity in URL's, like in \"background\"\n\t\t\t\treturn elem.style.cssText || undefined;\n\t\t\t},\n\t\t\tset: function set(elem, value) {\n\t\t\t\treturn elem.style.cssText = value + \"\";\n\t\t\t}\n\t\t};\n\t}\n\n\t// Safari mis-reports the default selected property of an option\n\t// Accessing the parent's selectedIndex property fixes it\n\tif (!jQuery.support.optSelected) {\n\t\tjQuery.propHooks.selected = jQuery.extend(jQuery.propHooks.selected, {\n\t\t\tget: function get(elem) {\n\t\t\t\tvar parent = elem.parentNode;\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tparent.selectedIndex;\n\n\t\t\t\t\t// Make sure that it also works with optgroups, see #5701\n\t\t\t\t\tif (parent.parentNode) {\n\t\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t});\n\t}\n\n\t// IE6/7 call enctype encoding\n\tif (!jQuery.support.enctype) {\n\t\tjQuery.propFix.enctype = \"encoding\";\n\t}\n\n\t// Radios and checkboxes getter/setter\n\tif (!jQuery.support.checkOn) {\n\t\tjQuery.each([\"radio\", \"checkbox\"], function () {\n\t\t\tjQuery.valHooks[this] = {\n\t\t\t\tget: function get(elem) {\n\t\t\t\t\t// Handle the case where in Webkit \"\" is returned instead of \"on\" if a value isn't specified\n\t\t\t\t\treturn elem.getAttribute(\"value\") === null ? \"on\" : elem.value;\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t}\n\tjQuery.each([\"radio\", \"checkbox\"], function () {\n\t\tjQuery.valHooks[this] = jQuery.extend(jQuery.valHooks[this], {\n\t\t\tset: function set(elem, value) {\n\t\t\t\tif (jQuery.isArray(value)) {\n\t\t\t\t\treturn elem.checked = jQuery.inArray(jQuery(elem).val(), value) >= 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\tvar rformElems = /^(?:input|select|textarea)$/i,\n\t    rkeyEvent = /^key/,\n\t    rmouseEvent = /^(?:mouse|contextmenu)|click/,\n\t    rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\t    rtypenamespace = /^([^.]*)(?:\\.(.+)|)$/;\n\n\tfunction returnTrue() {\n\t\treturn true;\n\t}\n\n\tfunction returnFalse() {\n\t\treturn false;\n\t}\n\n\t/*\n  * Helper functions for managing events -- not part of the public interface.\n  * Props to Dean Edwards' addEvent library for many of the ideas.\n  */\n\tjQuery.event = {\n\n\t\tglobal: {},\n\n\t\tadd: function add(elem, types, handler, data, selector) {\n\n\t\t\tvar handleObjIn,\n\t\t\t    eventHandle,\n\t\t\t    tmp,\n\t\t\t    events,\n\t\t\t    t,\n\t\t\t    handleObj,\n\t\t\t    special,\n\t\t\t    handlers,\n\t\t\t    type,\n\t\t\t    namespaces,\n\t\t\t    origType,\n\n\t\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\t\telemData = elem.nodeType !== 3 && elem.nodeType !== 8 && jQuery._data(elem);\n\n\t\t\tif (!elemData) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\t\tif (handler.handler) {\n\t\t\t\thandleObjIn = handler;\n\t\t\t\thandler = handleObjIn.handler;\n\t\t\t\tselector = handleObjIn.selector;\n\t\t\t}\n\n\t\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\t\tif (!handler.guid) {\n\t\t\t\thandler.guid = jQuery.guid++;\n\t\t\t}\n\n\t\t\t// Init the element's event structure and main handler, if this is the first\n\t\t\tif (!(events = elemData.events)) {\n\t\t\t\tevents = elemData.events = {};\n\t\t\t}\n\t\t\tif (!(eventHandle = elemData.handle)) {\n\t\t\t\teventHandle = elemData.handle = function (e) {\n\t\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\t\treturn typeof jQuery !== \"undefined\" && (!e || jQuery.event.triggered !== e.type) ? jQuery.event.dispatch.apply(eventHandle.elem, arguments) : undefined;\n\t\t\t\t};\n\t\t\t\t// Add elem as a property of the handle fn to prevent a memory leak with IE non-native events\n\t\t\t\teventHandle.elem = elem;\n\t\t\t}\n\n\t\t\t// Handle multiple events separated by a space\n\t\t\t// jQuery(...).bind(\"mouseover mouseout\", fn);\n\t\t\ttypes = (types || \"\").match(core_rnotwhite) || [\"\"];\n\t\t\tt = types.length;\n\t\t\twhile (t--) {\n\t\t\t\ttmp = rtypenamespace.exec(types[t]) || [];\n\t\t\t\ttype = origType = tmp[1];\n\t\t\t\tnamespaces = (tmp[2] || \"\").split(\".\").sort();\n\n\t\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\t\tspecial = jQuery.event.special[type] || {};\n\n\t\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\t\ttype = (selector ? special.delegateType : special.bindType) || type;\n\n\t\t\t\t// Update special based on newly reset type\n\t\t\t\tspecial = jQuery.event.special[type] || {};\n\n\t\t\t\t// handleObj is passed to all event handlers\n\t\t\t\thandleObj = jQuery.extend({\n\t\t\t\t\ttype: type,\n\t\t\t\t\torigType: origType,\n\t\t\t\t\tdata: data,\n\t\t\t\t\thandler: handler,\n\t\t\t\t\tguid: handler.guid,\n\t\t\t\t\tselector: selector,\n\t\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test(selector),\n\t\t\t\t\tnamespace: namespaces.join(\".\")\n\t\t\t\t}, handleObjIn);\n\n\t\t\t\t// Init the event handler queue if we're the first\n\t\t\t\tif (!(handlers = events[type])) {\n\t\t\t\t\thandlers = events[type] = [];\n\t\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t\t// Only use addEventListener/attachEvent if the special events handler returns false\n\t\t\t\t\tif (!special.setup || special.setup.call(elem, data, namespaces, eventHandle) === false) {\n\t\t\t\t\t\t// Bind the global event handler to the element\n\t\t\t\t\t\tif (elem.addEventListener) {\n\t\t\t\t\t\t\telem.addEventListener(type, eventHandle, false);\n\t\t\t\t\t\t} else if (elem.attachEvent) {\n\t\t\t\t\t\t\telem.attachEvent(\"on\" + type, eventHandle);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (special.add) {\n\t\t\t\t\tspecial.add.call(elem, handleObj);\n\n\t\t\t\t\tif (!handleObj.handler.guid) {\n\t\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Add to the element's handler list, delegates in front\n\t\t\t\tif (selector) {\n\t\t\t\t\thandlers.splice(handlers.delegateCount++, 0, handleObj);\n\t\t\t\t} else {\n\t\t\t\t\thandlers.push(handleObj);\n\t\t\t\t}\n\n\t\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\t\tjQuery.event.global[type] = true;\n\t\t\t}\n\n\t\t\t// Nullify elem to prevent memory leaks in IE\n\t\t\telem = null;\n\t\t},\n\n\t\t// Detach an event or set of events from an element\n\t\tremove: function remove(elem, types, handler, selector, mappedTypes) {\n\n\t\t\tvar j,\n\t\t\t    origCount,\n\t\t\t    tmp,\n\t\t\t    events,\n\t\t\t    t,\n\t\t\t    handleObj,\n\t\t\t    special,\n\t\t\t    handlers,\n\t\t\t    type,\n\t\t\t    namespaces,\n\t\t\t    origType,\n\t\t\t    elemData = jQuery.hasData(elem) && jQuery._data(elem);\n\n\t\t\tif (!elemData || !(events = elemData.events)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Once for each type.namespace in types; type may be omitted\n\t\t\ttypes = (types || \"\").match(core_rnotwhite) || [\"\"];\n\t\t\tt = types.length;\n\t\t\twhile (t--) {\n\t\t\t\ttmp = rtypenamespace.exec(types[t]) || [];\n\t\t\t\ttype = origType = tmp[1];\n\t\t\t\tnamespaces = (tmp[2] || \"\").split(\".\").sort();\n\n\t\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\t\tif (!type) {\n\t\t\t\t\tfor (type in events) {\n\t\t\t\t\t\tjQuery.event.remove(elem, type + types[t], handler, selector, true);\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tspecial = jQuery.event.special[type] || {};\n\t\t\t\ttype = (selector ? special.delegateType : special.bindType) || type;\n\t\t\t\thandlers = events[type] || [];\n\t\t\t\ttmp = tmp[2] && new RegExp(\"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\");\n\n\t\t\t\t// Remove matching events\n\t\t\t\torigCount = j = handlers.length;\n\t\t\t\twhile (j--) {\n\t\t\t\t\thandleObj = handlers[j];\n\n\t\t\t\t\tif ((mappedTypes || origType === handleObj.origType) && (!handler || handler.guid === handleObj.guid) && (!tmp || tmp.test(handleObj.namespace)) && (!selector || selector === handleObj.selector || selector === \"**\" && handleObj.selector)) {\n\t\t\t\t\t\thandlers.splice(j, 1);\n\n\t\t\t\t\t\tif (handleObj.selector) {\n\t\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (special.remove) {\n\t\t\t\t\t\t\tspecial.remove.call(elem, handleObj);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\t\tif (origCount && !handlers.length) {\n\t\t\t\t\tif (!special.teardown || special.teardown.call(elem, namespaces, elemData.handle) === false) {\n\t\t\t\t\t\tjQuery.removeEvent(elem, type, elemData.handle);\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete events[type];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove the expando if it's no longer used\n\t\t\tif (jQuery.isEmptyObject(events)) {\n\t\t\t\tdelete elemData.handle;\n\n\t\t\t\t// removeData also checks for emptiness and clears the expando if empty\n\t\t\t\t// so use it instead of delete\n\t\t\t\tjQuery._removeData(elem, \"events\");\n\t\t\t}\n\t\t},\n\n\t\ttrigger: function trigger(event, data, elem, onlyHandlers) {\n\n\t\t\tvar i,\n\t\t\t    cur,\n\t\t\t    tmp,\n\t\t\t    bubbleType,\n\t\t\t    ontype,\n\t\t\t    handle,\n\t\t\t    special,\n\t\t\t    eventPath = [elem || document],\n\t\t\t    type = event.type || event,\n\t\t\t    namespaces = event.namespace ? event.namespace.split(\".\") : [];\n\n\t\t\tcur = tmp = elem = elem || document;\n\n\t\t\t// Don't do events on text and comment nodes\n\t\t\tif (elem.nodeType === 3 || elem.nodeType === 8) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\t\tif (rfocusMorph.test(type + jQuery.event.triggered)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (type.indexOf(\".\") >= 0) {\n\t\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\t\tnamespaces = type.split(\".\");\n\t\t\t\ttype = namespaces.shift();\n\t\t\t\tnamespaces.sort();\n\t\t\t}\n\t\t\tontype = type.indexOf(\":\") < 0 && \"on\" + type;\n\n\t\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\t\tevent = event[jQuery.expando] ? event : new jQuery.Event(type, (typeof event === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(event)) === \"object\" && event);\n\n\t\t\tevent.isTrigger = true;\n\t\t\tevent.namespace = namespaces.join(\".\");\n\t\t\tevent.namespace_re = event.namespace ? new RegExp(\"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\") : null;\n\n\t\t\t// Clean up the event in case it is being reused\n\t\t\tevent.result = undefined;\n\t\t\tif (!event.target) {\n\t\t\t\tevent.target = elem;\n\t\t\t}\n\n\t\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\t\tdata = data == null ? [event] : jQuery.makeArray(data, [event]);\n\n\t\t\t// Allow special events to draw outside the lines\n\t\t\tspecial = jQuery.event.special[type] || {};\n\t\t\tif (!onlyHandlers && special.trigger && special.trigger.apply(elem, data) === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\t\tif (!onlyHandlers && !special.noBubble && !jQuery.isWindow(elem)) {\n\n\t\t\t\tbubbleType = special.delegateType || type;\n\t\t\t\tif (!rfocusMorph.test(bubbleType + type)) {\n\t\t\t\t\tcur = cur.parentNode;\n\t\t\t\t}\n\t\t\t\tfor (; cur; cur = cur.parentNode) {\n\t\t\t\t\teventPath.push(cur);\n\t\t\t\t\ttmp = cur;\n\t\t\t\t}\n\n\t\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\t\tif (tmp === (elem.ownerDocument || document)) {\n\t\t\t\t\teventPath.push(tmp.defaultView || tmp.parentWindow || window);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Fire handlers on the event path\n\t\t\ti = 0;\n\t\t\twhile ((cur = eventPath[i++]) && !event.isPropagationStopped()) {\n\n\t\t\t\tevent.type = i > 1 ? bubbleType : special.bindType || type;\n\n\t\t\t\t// jQuery handler\n\t\t\t\thandle = (jQuery._data(cur, \"events\") || {})[event.type] && jQuery._data(cur, \"handle\");\n\t\t\t\tif (handle) {\n\t\t\t\t\thandle.apply(cur, data);\n\t\t\t\t}\n\n\t\t\t\t// Native handler\n\t\t\t\thandle = ontype && cur[ontype];\n\t\t\t\tif (handle && jQuery.acceptData(cur) && handle.apply && handle.apply(cur, data) === false) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t\tevent.type = type;\n\n\t\t\t// If nobody prevented the default action, do it now\n\t\t\tif (!onlyHandlers && !event.isDefaultPrevented()) {\n\n\t\t\t\tif ((!special._default || special._default.apply(elem.ownerDocument, data) === false) && !(type === \"click\" && jQuery.nodeName(elem, \"a\")) && jQuery.acceptData(elem)) {\n\n\t\t\t\t\t// Call a native DOM method on the target with the same name name as the event.\n\t\t\t\t\t// Can't use an .isFunction() check here because IE6/7 fails that test.\n\t\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\t\tif (ontype && elem[type] && !jQuery.isWindow(elem)) {\n\n\t\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\t\ttmp = elem[ontype];\n\n\t\t\t\t\t\tif (tmp) {\n\t\t\t\t\t\t\telem[ontype] = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\t\tjQuery.event.triggered = type;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\telem[type]();\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t// IE<9 dies on focus/blur to hidden element (#1486,#12518)\n\t\t\t\t\t\t\t// only reproducible on winXP IE8 native, not IE9 in IE8 mode\n\t\t\t\t\t\t}\n\t\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\t\tif (tmp) {\n\t\t\t\t\t\t\telem[ontype] = tmp;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn event.result;\n\t\t},\n\n\t\tdispatch: function dispatch(event) {\n\n\t\t\t// Make a writable jQuery.Event from the native event object\n\t\t\tevent = jQuery.event.fix(event);\n\n\t\t\tvar i,\n\t\t\t    j,\n\t\t\t    ret,\n\t\t\t    matched,\n\t\t\t    handleObj,\n\t\t\t    handlerQueue = [],\n\t\t\t    args = core_slice.call(arguments),\n\t\t\t    handlers = (jQuery._data(this, \"events\") || {})[event.type] || [],\n\t\t\t    special = jQuery.event.special[event.type] || {};\n\n\t\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\t\targs[0] = event;\n\t\t\tevent.delegateTarget = this;\n\n\t\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\t\tif (special.preDispatch && special.preDispatch.call(this, event) === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Determine handlers\n\t\t\thandlerQueue = jQuery.event.handlers.call(this, event, handlers);\n\n\t\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\t\ti = 0;\n\t\t\twhile ((matched = handlerQueue[i++]) && !event.isPropagationStopped()) {\n\t\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\t\tj = 0;\n\t\t\t\twhile ((handleObj = matched.handlers[j++]) && !event.isImmediatePropagationStopped()) {\n\n\t\t\t\t\t// Triggered event must either 1) have no namespace, or\n\t\t\t\t\t// 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).\n\t\t\t\t\tif (!event.namespace_re || event.namespace_re.test(handleObj.namespace)) {\n\n\t\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\t\tret = ((jQuery.event.special[handleObj.origType] || {}).handle || handleObj.handler).apply(matched.elem, args);\n\n\t\t\t\t\t\tif (ret !== undefined) {\n\t\t\t\t\t\t\tif ((event.result = ret) === false) {\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Call the postDispatch hook for the mapped type\n\t\t\tif (special.postDispatch) {\n\t\t\t\tspecial.postDispatch.call(this, event);\n\t\t\t}\n\n\t\t\treturn event.result;\n\t\t},\n\n\t\thandlers: function handlers(event, _handlers) {\n\t\t\tvar i,\n\t\t\t    matches,\n\t\t\t    sel,\n\t\t\t    handleObj,\n\t\t\t    handlerQueue = [],\n\t\t\t    delegateCount = _handlers.delegateCount,\n\t\t\t    cur = event.target;\n\n\t\t\t// Find delegate handlers\n\t\t\t// Black-hole SVG <use> instance trees (#13180)\n\t\t\t// Avoid non-left-click bubbling in Firefox (#3861)\n\t\t\tif (delegateCount && cur.nodeType && (!event.button || event.type !== \"click\")) {\n\n\t\t\t\tfor (; cur != this; cur = cur.parentNode || this) {\n\n\t\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\t\tif (cur.disabled !== true || event.type !== \"click\") {\n\t\t\t\t\t\tmatches = [];\n\t\t\t\t\t\tfor (i = 0; i < delegateCount; i++) {\n\t\t\t\t\t\t\thandleObj = _handlers[i];\n\n\t\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\t\tif (matches[sel] === undefined) {\n\t\t\t\t\t\t\t\tmatches[sel] = handleObj.needsContext ? jQuery(sel, this).index(cur) >= 0 : jQuery.find(sel, this, null, [cur]).length;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (matches[sel]) {\n\t\t\t\t\t\t\t\tmatches.push(handleObj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (matches.length) {\n\t\t\t\t\t\t\thandlerQueue.push({ elem: cur, handlers: matches });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add the remaining (directly-bound) handlers\n\t\t\tif (delegateCount < _handlers.length) {\n\t\t\t\thandlerQueue.push({ elem: this, handlers: _handlers.slice(delegateCount) });\n\t\t\t}\n\n\t\t\treturn handlerQueue;\n\t\t},\n\n\t\tfix: function fix(event) {\n\t\t\tif (event[jQuery.expando]) {\n\t\t\t\treturn event;\n\t\t\t}\n\n\t\t\t// Create a writable copy of the event object and normalize some properties\n\t\t\tvar i,\n\t\t\t    prop,\n\t\t\t    originalEvent = event,\n\t\t\t    fixHook = jQuery.event.fixHooks[event.type] || {},\n\t\t\t    copy = fixHook.props ? this.props.concat(fixHook.props) : this.props;\n\n\t\t\tevent = new jQuery.Event(originalEvent);\n\n\t\t\ti = copy.length;\n\t\t\twhile (i--) {\n\t\t\t\tprop = copy[i];\n\t\t\t\tevent[prop] = originalEvent[prop];\n\t\t\t}\n\n\t\t\t// Support: IE<9\n\t\t\t// Fix target property (#1925)\n\t\t\tif (!event.target) {\n\t\t\t\tevent.target = originalEvent.srcElement || document;\n\t\t\t}\n\n\t\t\t// Support: Chrome 23+, Safari?\n\t\t\t// Target should not be a text node (#504, #13143)\n\t\t\tif (event.target.nodeType === 3) {\n\t\t\t\tevent.target = event.target.parentNode;\n\t\t\t}\n\n\t\t\t// Support: IE<9\n\t\t\t// For mouse/key events, metaKey==false if it's undefined (#3368, #11328)\n\t\t\tevent.metaKey = !!event.metaKey;\n\n\t\t\treturn fixHook.filter ? fixHook.filter(event, originalEvent) : event;\n\t\t},\n\n\t\t// Includes some event props shared by KeyEvent and MouseEvent\n\t\tprops: \"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),\n\n\t\tfixHooks: {},\n\n\t\tkeyHooks: {\n\t\t\tprops: \"char charCode key keyCode\".split(\" \"),\n\t\t\tfilter: function filter(event, original) {\n\n\t\t\t\t// Add which for key events\n\t\t\t\tif (event.which == null) {\n\t\t\t\t\tevent.which = original.charCode != null ? original.charCode : original.keyCode;\n\t\t\t\t}\n\n\t\t\t\treturn event;\n\t\t\t}\n\t\t},\n\n\t\tmouseHooks: {\n\t\t\tprops: \"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),\n\t\t\tfilter: function filter(event, original) {\n\t\t\t\tvar eventDoc,\n\t\t\t\t    doc,\n\t\t\t\t    body,\n\t\t\t\t    button = original.button,\n\t\t\t\t    fromElement = original.fromElement;\n\n\t\t\t\t// Calculate pageX/Y if missing and clientX/Y available\n\t\t\t\tif (event.pageX == null && original.clientX != null) {\n\t\t\t\t\teventDoc = event.target.ownerDocument || document;\n\t\t\t\t\tdoc = eventDoc.documentElement;\n\t\t\t\t\tbody = eventDoc.body;\n\n\t\t\t\t\tevent.pageX = original.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n\t\t\t\t\tevent.pageY = original.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n\t\t\t\t}\n\n\t\t\t\t// Add relatedTarget, if necessary\n\t\t\t\tif (!event.relatedTarget && fromElement) {\n\t\t\t\t\tevent.relatedTarget = fromElement === event.target ? original.toElement : fromElement;\n\t\t\t\t}\n\n\t\t\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\t\t\t// Note: button is not normalized, so don't use it\n\t\t\t\tif (!event.which && button !== undefined) {\n\t\t\t\t\tevent.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;\n\t\t\t\t}\n\n\t\t\t\treturn event;\n\t\t\t}\n\t\t},\n\n\t\tspecial: {\n\t\t\tload: {\n\t\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\t\tnoBubble: true\n\t\t\t},\n\t\t\tclick: {\n\t\t\t\t// For checkbox, fire native event so checked state will be right\n\t\t\t\ttrigger: function trigger() {\n\t\t\t\t\tif (jQuery.nodeName(this, \"input\") && this.type === \"checkbox\" && this.click) {\n\t\t\t\t\t\tthis.click();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tfocus: {\n\t\t\t\t// Fire native event if possible so blur/focus sequence is correct\n\t\t\t\ttrigger: function trigger() {\n\t\t\t\t\tif (this !== document.activeElement && this.focus) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tthis.focus();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t// Support: IE<9\n\t\t\t\t\t\t\t// If we error on focus to hidden element (#1486, #12518),\n\t\t\t\t\t\t\t// let .trigger() run the handlers\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdelegateType: \"focusin\"\n\t\t\t},\n\t\t\tblur: {\n\t\t\t\ttrigger: function trigger() {\n\t\t\t\t\tif (this === document.activeElement && this.blur) {\n\t\t\t\t\t\tthis.blur();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdelegateType: \"focusout\"\n\t\t\t},\n\n\t\t\tbeforeunload: {\n\t\t\t\tpostDispatch: function postDispatch(event) {\n\n\t\t\t\t\t// Even when returnValue equals to undefined Firefox will still show alert\n\t\t\t\t\tif (event.result !== undefined) {\n\t\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsimulate: function simulate(type, elem, event, bubble) {\n\t\t\t// Piggyback on a donor event to simulate a different one.\n\t\t\t// Fake originalEvent to avoid donor's stopPropagation, but if the\n\t\t\t// simulated event prevents default then we do the same on the donor.\n\t\t\tvar e = jQuery.extend(new jQuery.Event(), event, { type: type,\n\t\t\t\tisSimulated: true,\n\t\t\t\toriginalEvent: {}\n\t\t\t});\n\t\t\tif (bubble) {\n\t\t\t\tjQuery.event.trigger(e, null, elem);\n\t\t\t} else {\n\t\t\t\tjQuery.event.dispatch.call(elem, e);\n\t\t\t}\n\t\t\tif (e.isDefaultPrevented()) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t}\n\t};\n\n\tjQuery.removeEvent = document.removeEventListener ? function (elem, type, handle) {\n\t\tif (elem.removeEventListener) {\n\t\t\telem.removeEventListener(type, handle, false);\n\t\t}\n\t} : function (elem, type, handle) {\n\t\tvar name = \"on\" + type;\n\n\t\tif (elem.detachEvent) {\n\n\t\t\t// #8545, #7054, preventing memory leaks for custom events in IE6-8\n\t\t\t// detachEvent needed property on element, by name of that event, to properly expose it to GC\n\t\t\tif (typeof elem[name] === \"undefined\") {\n\t\t\t\telem[name] = null;\n\t\t\t}\n\n\t\t\telem.detachEvent(name, handle);\n\t\t}\n\t};\n\n\tjQuery.Event = function (src, props) {\n\t\t// Allow instantiation without the 'new' keyword\n\t\tif (!(this instanceof jQuery.Event)) {\n\t\t\treturn new jQuery.Event(src, props);\n\t\t}\n\n\t\t// Event object\n\t\tif (src && src.type) {\n\t\t\tthis.originalEvent = src;\n\t\t\tthis.type = src.type;\n\n\t\t\t// Events bubbling up the document may have been marked as prevented\n\t\t\t// by a handler lower down the tree; reflect the correct value.\n\t\t\tthis.isDefaultPrevented = src.defaultPrevented || src.returnValue === false || src.getPreventDefault && src.getPreventDefault() ? returnTrue : returnFalse;\n\n\t\t\t// Event type\n\t\t} else {\n\t\t\tthis.type = src;\n\t\t}\n\n\t\t// Put explicitly provided properties onto the event object\n\t\tif (props) {\n\t\t\tjQuery.extend(this, props);\n\t\t}\n\n\t\t// Create a timestamp if incoming event doesn't have one\n\t\tthis.timeStamp = src && src.timeStamp || jQuery.now();\n\n\t\t// Mark it as fixed\n\t\tthis[jQuery.expando] = true;\n\t};\n\n\t// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n\t// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\n\tjQuery.Event.prototype = {\n\t\tisDefaultPrevented: returnFalse,\n\t\tisPropagationStopped: returnFalse,\n\t\tisImmediatePropagationStopped: returnFalse,\n\n\t\tpreventDefault: function preventDefault() {\n\t\t\tvar e = this.originalEvent;\n\n\t\t\tthis.isDefaultPrevented = returnTrue;\n\t\t\tif (!e) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If preventDefault exists, run it on the original event\n\t\t\tif (e.preventDefault) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\t// Support: IE\n\t\t\t\t// Otherwise set the returnValue property of the original event to false\n\t\t\t} else {\n\t\t\t\te.returnValue = false;\n\t\t\t}\n\t\t},\n\t\tstopPropagation: function stopPropagation() {\n\t\t\tvar e = this.originalEvent;\n\n\t\t\tthis.isPropagationStopped = returnTrue;\n\t\t\tif (!e) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// If stopPropagation exists, run it on the original event\n\t\t\tif (e.stopPropagation) {\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\n\t\t\t// Support: IE\n\t\t\t// Set the cancelBubble property of the original event to true\n\t\t\te.cancelBubble = true;\n\t\t},\n\t\tstopImmediatePropagation: function stopImmediatePropagation() {\n\t\t\tthis.isImmediatePropagationStopped = returnTrue;\n\t\t\tthis.stopPropagation();\n\t\t}\n\t};\n\n\t// Create mouseenter/leave events using mouseover/out and event-time checks\n\tjQuery.each({\n\t\tmouseenter: \"mouseover\",\n\t\tmouseleave: \"mouseout\"\n\t}, function (orig, fix) {\n\t\tjQuery.event.special[orig] = {\n\t\t\tdelegateType: fix,\n\t\t\tbindType: fix,\n\n\t\t\thandle: function handle(event) {\n\t\t\t\tvar ret,\n\t\t\t\t    target = this,\n\t\t\t\t    related = event.relatedTarget,\n\t\t\t\t    handleObj = event.handleObj;\n\n\t\t\t\t// For mousenter/leave call the handler if related is outside the target.\n\t\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\t\tif (!related || related !== target && !jQuery.contains(target, related)) {\n\t\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\t\tret = handleObj.handler.apply(this, arguments);\n\t\t\t\t\tevent.type = fix;\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t};\n\t});\n\n\t// IE submit delegation\n\tif (!jQuery.support.submitBubbles) {\n\n\t\tjQuery.event.special.submit = {\n\t\t\tsetup: function setup() {\n\t\t\t\t// Only need this for delegated form submit events\n\t\t\t\tif (jQuery.nodeName(this, \"form\")) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Lazy-add a submit handler when a descendant form may potentially be submitted\n\t\t\t\tjQuery.event.add(this, \"click._submit keypress._submit\", function (e) {\n\t\t\t\t\t// Node name check avoids a VML-related crash in IE (#9807)\n\t\t\t\t\tvar elem = e.target,\n\t\t\t\t\t    form = jQuery.nodeName(elem, \"input\") || jQuery.nodeName(elem, \"button\") ? elem.form : undefined;\n\t\t\t\t\tif (form && !jQuery._data(form, \"submitBubbles\")) {\n\t\t\t\t\t\tjQuery.event.add(form, \"submit._submit\", function (event) {\n\t\t\t\t\t\t\tevent._submit_bubble = true;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tjQuery._data(form, \"submitBubbles\", true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// return undefined since we don't need an event listener\n\t\t\t},\n\n\t\t\tpostDispatch: function postDispatch(event) {\n\t\t\t\t// If form was submitted by the user, bubble the event up the tree\n\t\t\t\tif (event._submit_bubble) {\n\t\t\t\t\tdelete event._submit_bubble;\n\t\t\t\t\tif (this.parentNode && !event.isTrigger) {\n\t\t\t\t\t\tjQuery.event.simulate(\"submit\", this.parentNode, event, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tteardown: function teardown() {\n\t\t\t\t// Only need this for delegated form submit events\n\t\t\t\tif (jQuery.nodeName(this, \"form\")) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Remove delegated handlers; cleanData eventually reaps submit handlers attached above\n\t\t\t\tjQuery.event.remove(this, \"._submit\");\n\t\t\t}\n\t\t};\n\t}\n\n\t// IE change delegation and checkbox/radio fix\n\tif (!jQuery.support.changeBubbles) {\n\n\t\tjQuery.event.special.change = {\n\n\t\t\tsetup: function setup() {\n\n\t\t\t\tif (rformElems.test(this.nodeName)) {\n\t\t\t\t\t// IE doesn't fire change on a check/radio until blur; trigger it on click\n\t\t\t\t\t// after a propertychange. Eat the blur-change in special.change.handle.\n\t\t\t\t\t// This still fires onchange a second time for check/radio after blur.\n\t\t\t\t\tif (this.type === \"checkbox\" || this.type === \"radio\") {\n\t\t\t\t\t\tjQuery.event.add(this, \"propertychange._change\", function (event) {\n\t\t\t\t\t\t\tif (event.originalEvent.propertyName === \"checked\") {\n\t\t\t\t\t\t\t\tthis._just_changed = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tjQuery.event.add(this, \"click._change\", function (event) {\n\t\t\t\t\t\t\tif (this._just_changed && !event.isTrigger) {\n\t\t\t\t\t\t\t\tthis._just_changed = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Allow triggered, simulated change events (#11500)\n\t\t\t\t\t\t\tjQuery.event.simulate(\"change\", this, event, true);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// Delegated event; lazy-add a change handler on descendant inputs\n\t\t\t\tjQuery.event.add(this, \"beforeactivate._change\", function (e) {\n\t\t\t\t\tvar elem = e.target;\n\n\t\t\t\t\tif (rformElems.test(elem.nodeName) && !jQuery._data(elem, \"changeBubbles\")) {\n\t\t\t\t\t\tjQuery.event.add(elem, \"change._change\", function (event) {\n\t\t\t\t\t\t\tif (this.parentNode && !event.isSimulated && !event.isTrigger) {\n\t\t\t\t\t\t\t\tjQuery.event.simulate(\"change\", this.parentNode, event, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tjQuery._data(elem, \"changeBubbles\", true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\thandle: function handle(event) {\n\t\t\t\tvar elem = event.target;\n\n\t\t\t\t// Swallow native change events from checkbox/radio, we already triggered them above\n\t\t\t\tif (this !== elem || event.isSimulated || event.isTrigger || elem.type !== \"radio\" && elem.type !== \"checkbox\") {\n\t\t\t\t\treturn event.handleObj.handler.apply(this, arguments);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tteardown: function teardown() {\n\t\t\t\tjQuery.event.remove(this, \"._change\");\n\n\t\t\t\treturn !rformElems.test(this.nodeName);\n\t\t\t}\n\t\t};\n\t}\n\n\t// Create \"bubbling\" focus and blur events\n\tif (!jQuery.support.focusinBubbles) {\n\t\tjQuery.each({ focus: \"focusin\", blur: \"focusout\" }, function (orig, fix) {\n\n\t\t\t// Attach a single capturing handler while someone wants focusin/focusout\n\t\t\tvar attaches = 0,\n\t\t\t    handler = function handler(event) {\n\t\t\t\tjQuery.event.simulate(fix, event.target, jQuery.event.fix(event), true);\n\t\t\t};\n\n\t\t\tjQuery.event.special[fix] = {\n\t\t\t\tsetup: function setup() {\n\t\t\t\t\tif (attaches++ === 0) {\n\t\t\t\t\t\tdocument.addEventListener(orig, handler, true);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tteardown: function teardown() {\n\t\t\t\t\tif (--attaches === 0) {\n\t\t\t\t\t\tdocument.removeEventListener(orig, handler, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t}\n\n\tjQuery.fn.extend({\n\n\t\ton: function on(types, selector, data, fn, /*INTERNAL*/one) {\n\t\t\tvar origFn, type;\n\n\t\t\t// Types can be a map of types/handlers\n\t\t\tif ((typeof types === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(types)) === \"object\") {\n\t\t\t\t// ( types-Object, selector, data )\n\t\t\t\tif (typeof selector !== \"string\") {\n\t\t\t\t\t// ( types-Object, data )\n\t\t\t\t\tdata = data || selector;\n\t\t\t\t\tselector = undefined;\n\t\t\t\t}\n\t\t\t\tfor (type in types) {\n\t\t\t\t\tthis.on(type, selector, data, types[type], one);\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (data == null && fn == null) {\n\t\t\t\t// ( types, fn )\n\t\t\t\tfn = selector;\n\t\t\t\tdata = selector = undefined;\n\t\t\t} else if (fn == null) {\n\t\t\t\tif (typeof selector === \"string\") {\n\t\t\t\t\t// ( types, selector, fn )\n\t\t\t\t\tfn = data;\n\t\t\t\t\tdata = undefined;\n\t\t\t\t} else {\n\t\t\t\t\t// ( types, data, fn )\n\t\t\t\t\tfn = data;\n\t\t\t\t\tdata = selector;\n\t\t\t\t\tselector = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (fn === false) {\n\t\t\t\tfn = returnFalse;\n\t\t\t} else if (!fn) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (one === 1) {\n\t\t\t\torigFn = fn;\n\t\t\t\tfn = function fn(event) {\n\t\t\t\t\t// Can use an empty set, since event contains the info\n\t\t\t\t\tjQuery().off(event);\n\t\t\t\t\treturn origFn.apply(this, arguments);\n\t\t\t\t};\n\t\t\t\t// Use same guid so caller can remove using origFn\n\t\t\t\tfn.guid = origFn.guid || (origFn.guid = jQuery.guid++);\n\t\t\t}\n\t\t\treturn this.each(function () {\n\t\t\t\tjQuery.event.add(this, types, fn, data, selector);\n\t\t\t});\n\t\t},\n\t\tone: function one(types, selector, data, fn) {\n\t\t\treturn this.on(types, selector, data, fn, 1);\n\t\t},\n\t\toff: function off(types, selector, fn) {\n\t\t\tvar handleObj, type;\n\t\t\tif (types && types.preventDefault && types.handleObj) {\n\t\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\t\thandleObj = types.handleObj;\n\t\t\t\tjQuery(types.delegateTarget).off(handleObj.namespace ? handleObj.origType + \".\" + handleObj.namespace : handleObj.origType, handleObj.selector, handleObj.handler);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tif ((typeof types === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(types)) === \"object\") {\n\t\t\t\t// ( types-object [, selector] )\n\t\t\t\tfor (type in types) {\n\t\t\t\t\tthis.off(type, selector, types[type]);\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tif (selector === false || typeof selector === \"function\") {\n\t\t\t\t// ( types [, fn] )\n\t\t\t\tfn = selector;\n\t\t\t\tselector = undefined;\n\t\t\t}\n\t\t\tif (fn === false) {\n\t\t\t\tfn = returnFalse;\n\t\t\t}\n\t\t\treturn this.each(function () {\n\t\t\t\tjQuery.event.remove(this, types, fn, selector);\n\t\t\t});\n\t\t},\n\n\t\tbind: function bind(types, data, fn) {\n\t\t\treturn this.on(types, null, data, fn);\n\t\t},\n\t\tunbind: function unbind(types, fn) {\n\t\t\treturn this.off(types, null, fn);\n\t\t},\n\n\t\tdelegate: function delegate(selector, types, data, fn) {\n\t\t\treturn this.on(types, selector, data, fn);\n\t\t},\n\t\tundelegate: function undelegate(selector, types, fn) {\n\t\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\t\treturn arguments.length === 1 ? this.off(selector, \"**\") : this.off(types, selector || \"**\", fn);\n\t\t},\n\n\t\ttrigger: function trigger(type, data) {\n\t\t\treturn this.each(function () {\n\t\t\t\tjQuery.event.trigger(type, data, this);\n\t\t\t});\n\t\t},\n\t\ttriggerHandler: function triggerHandler(type, data) {\n\t\t\tvar elem = this[0];\n\t\t\tif (elem) {\n\t\t\t\treturn jQuery.event.trigger(type, data, elem, true);\n\t\t\t}\n\t\t},\n\n\t\thover: function hover(fnOver, fnOut) {\n\t\t\treturn this.mouseenter(fnOver).mouseleave(fnOut || fnOver);\n\t\t}\n\t});\n\n\tjQuery.each((\"blur focus focusin focusout load resize scroll unload click dblclick \" + \"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" + \"change select submit keydown keypress keyup error contextmenu\").split(\" \"), function (i, name) {\n\n\t\t// Handle event binding\n\t\tjQuery.fn[name] = function (data, fn) {\n\t\t\treturn arguments.length > 0 ? this.on(name, null, data, fn) : this.trigger(name);\n\t\t};\n\n\t\tif (rkeyEvent.test(name)) {\n\t\t\tjQuery.event.fixHooks[name] = jQuery.event.keyHooks;\n\t\t}\n\n\t\tif (rmouseEvent.test(name)) {\n\t\t\tjQuery.event.fixHooks[name] = jQuery.event.mouseHooks;\n\t\t}\n\t});\n\t/*!\n  * Sizzle CSS Selector Engine\n  * Copyright 2012 jQuery Foundation and other contributors\n  * Released under the MIT license\n  * http://sizzlejs.com/\n  */\n\t(function (window, undefined) {\n\n\t\tvar i,\n\t\t    cachedruns,\n\t\t    Expr,\n\t\t    getText,\n\t\t    isXML,\n\t\t    compile,\n\t\t    hasDuplicate,\n\t\t    outermostContext,\n\n\n\t\t// Local document vars\n\t\tsetDocument,\n\t\t    document,\n\t\t    docElem,\n\t\t    documentIsXML,\n\t\t    rbuggyQSA,\n\t\t    rbuggyMatches,\n\t\t    matches,\n\t\t    contains,\n\t\t    sortOrder,\n\n\n\t\t// Instance-specific data\n\t\texpando = \"sizzle\" + -new Date(),\n\t\t    preferredDoc = window.document,\n\t\t    support = {},\n\t\t    dirruns = 0,\n\t\t    done = 0,\n\t\t    classCache = createCache(),\n\t\t    tokenCache = createCache(),\n\t\t    compilerCache = createCache(),\n\n\n\t\t// General-purpose constants\n\t\tstrundefined = typeof undefined === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(undefined),\n\t\t    MAX_NEGATIVE = 1 << 31,\n\n\n\t\t// Array methods\n\t\tarr = [],\n\t\t    pop = arr.pop,\n\t\t    push = arr.push,\n\t\t    slice = arr.slice,\n\n\t\t// Use a stripped-down indexOf if we can't use a native one\n\t\tindexOf = arr.indexOf || function (elem) {\n\t\t\tvar i = 0,\n\t\t\t    len = this.length;\n\t\t\tfor (; i < len; i++) {\n\t\t\t\tif (this[i] === elem) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t},\n\n\n\t\t// Regular expressions\n\n\t\t// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace\n\t\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t\t// http://www.w3.org/TR/css3-syntax/#characters\n\t\tcharacterEncoding = \"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",\n\n\n\t\t// Loosely modeled on CSS identifier characters\n\t\t// An unquoted value should be a CSS identifier http://www.w3.org/TR/css3-selectors/#attribute-selectors\n\t\t// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\t\tidentifier = characterEncoding.replace(\"w\", \"w#\"),\n\n\n\t\t// Acceptable operators http://www.w3.org/TR/selectors/#attribute-selectors\n\t\toperators = \"([*^$|!~]?=)\",\n\t\t    attributes = \"\\\\[\" + whitespace + \"*(\" + characterEncoding + \")\" + whitespace + \"*(?:\" + operators + whitespace + \"*(?:(['\\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|(\" + identifier + \")|)|)\" + whitespace + \"*\\\\]\",\n\n\n\t\t// Prefer arguments quoted,\n\t\t//   then not containing pseudos/brackets,\n\t\t//   then attribute selectors/non-parenthetical expressions,\n\t\t//   then anything else\n\t\t// These preferences are here to reduce the number of selectors\n\t\t//   needing tokenize in the PSEUDO preFilter\n\t\tpseudos = \":(\" + characterEncoding + \")(?:\\\\(((['\\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes.replace(3, 8) + \")*)|.*)\\\\)|)\",\n\n\n\t\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\t\trtrim = new RegExp(\"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\"),\n\t\t    rcomma = new RegExp(\"^\" + whitespace + \"*,\" + whitespace + \"*\"),\n\t\t    rcombinators = new RegExp(\"^\" + whitespace + \"*([\\\\x20\\\\t\\\\r\\\\n\\\\f>+~])\" + whitespace + \"*\"),\n\t\t    rpseudo = new RegExp(pseudos),\n\t\t    ridentifier = new RegExp(\"^\" + identifier + \"$\"),\n\t\t    matchExpr = {\n\t\t\t\"ID\": new RegExp(\"^#(\" + characterEncoding + \")\"),\n\t\t\t\"CLASS\": new RegExp(\"^\\\\.(\" + characterEncoding + \")\"),\n\t\t\t\"NAME\": new RegExp(\"^\\\\[name=['\\\"]?(\" + characterEncoding + \")['\\\"]?\\\\]\"),\n\t\t\t\"TAG\": new RegExp(\"^(\" + characterEncoding.replace(\"w\", \"w*\") + \")\"),\n\t\t\t\"ATTR\": new RegExp(\"^\" + attributes),\n\t\t\t\"PSEUDO\": new RegExp(\"^\" + pseudos),\n\t\t\t\"CHILD\": new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace + \"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace + \"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\"),\n\t\t\t// For use in libraries implementing .is()\n\t\t\t// We use this for POS matching in `select`\n\t\t\t\"needsContext\": new RegExp(\"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" + whitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\")\n\t\t},\n\t\t    rsibling = /[\\x20\\t\\r\\n\\f]*[+~]/,\n\t\t    rnative = /\\{\\s*\\[native code\\]\\s*\\}/,\n\n\n\t\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\t\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\t\t    rinputs = /^(?:input|select|textarea|button)$/i,\n\t\t    rheader = /^h\\d$/i,\n\t\t    rescape = /'|\\\\/g,\n\t\t    rattributeQuotes = /\\=[\\x20\\t\\r\\n\\f]*([^'\"\\]]*)[\\x20\\t\\r\\n\\f]*\\]/g,\n\n\n\t\t// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\t\trunescape = /\\\\([\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|.)/g,\n\t\t    funescape = function funescape(_, escaped) {\n\t\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t\t// NaN means non-codepoint\n\t\t\treturn high !== high ? escaped :\n\t\t\t// BMP codepoint\n\t\t\thigh < 0 ? String.fromCharCode(high + 0x10000) :\n\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\tString.fromCharCode(high >> 10 | 0xD800, high & 0x3FF | 0xDC00);\n\t\t};\n\n\t\t// Use a stripped-down slice if we can't use a native one\n\t\ttry {\n\t\t\tslice.call(docElem.childNodes, 0)[0].nodeType;\n\t\t} catch (e) {\n\t\t\tslice = function slice(i) {\n\t\t\t\tvar elem,\n\t\t\t\t    results = [];\n\t\t\t\tfor (; elem = this[i]; i++) {\n\t\t\t\t\tresults.push(elem);\n\t\t\t\t}\n\t\t\t\treturn results;\n\t\t\t};\n\t\t}\n\n\t\t/**\n   * For feature detection\n   * @param {Function} fn The function to test for native support\n   */\n\t\tfunction isNative(fn) {\n\t\t\treturn rnative.test(fn + \"\");\n\t\t}\n\n\t\t/**\n   * Create key-value caches of limited size\n   * @returns {Function(string, Object)} Returns the Object data after storing it on itself with\n   *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n   *\tdeleting the oldest entry\n   */\n\t\tfunction createCache() {\n\t\t\tvar _cache,\n\t\t\t    keys = [];\n\n\t\t\treturn _cache = function cache(key, value) {\n\t\t\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\t\t\tif (keys.push(key += \" \") > Expr.cacheLength) {\n\t\t\t\t\t// Only keep the most recent entries\n\t\t\t\t\tdelete _cache[keys.shift()];\n\t\t\t\t}\n\t\t\t\treturn _cache[key] = value;\n\t\t\t};\n\t\t}\n\n\t\t/**\n   * Mark a function for special use by Sizzle\n   * @param {Function} fn The function to mark\n   */\n\t\tfunction markFunction(fn) {\n\t\t\tfn[expando] = true;\n\t\t\treturn fn;\n\t\t}\n\n\t\t/**\n   * Support testing using an element\n   * @param {Function} fn Passed the created div and expects a boolean result\n   */\n\t\tfunction assert(fn) {\n\t\t\tvar div = document.createElement(\"div\");\n\n\t\t\ttry {\n\t\t\t\treturn fn(div);\n\t\t\t} catch (e) {\n\t\t\t\treturn false;\n\t\t\t} finally {\n\t\t\t\t// release memory in IE\n\t\t\t\tdiv = null;\n\t\t\t}\n\t\t}\n\n\t\tfunction Sizzle(selector, context, results, seed) {\n\t\t\tvar match, elem, m, nodeType,\n\t\t\t// QSA vars\n\t\t\ti, groups, old, nid, newContext, newSelector;\n\n\t\t\tif ((context ? context.ownerDocument || context : preferredDoc) !== document) {\n\t\t\t\tsetDocument(context);\n\t\t\t}\n\n\t\t\tcontext = context || document;\n\t\t\tresults = results || [];\n\n\t\t\tif (!selector || typeof selector !== \"string\") {\n\t\t\t\treturn results;\n\t\t\t}\n\n\t\t\tif ((nodeType = context.nodeType) !== 1 && nodeType !== 9) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tif (!documentIsXML && !seed) {\n\n\t\t\t\t// Shortcuts\n\t\t\t\tif (match = rquickExpr.exec(selector)) {\n\t\t\t\t\t// Speed-up: Sizzle(\"#ID\")\n\t\t\t\t\tif (m = match[1]) {\n\t\t\t\t\t\tif (nodeType === 9) {\n\t\t\t\t\t\t\telem = context.getElementById(m);\n\t\t\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t\t\t\t// nodes that are no longer in the document #6963\n\t\t\t\t\t\t\tif (elem && elem.parentNode) {\n\t\t\t\t\t\t\t\t// Handle the case where IE, Opera, and Webkit return items\n\t\t\t\t\t\t\t\t// by name instead of ID\n\t\t\t\t\t\t\t\tif (elem.id === m) {\n\t\t\t\t\t\t\t\t\tresults.push(elem);\n\t\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Context is not a document\n\t\t\t\t\t\t\tif (context.ownerDocument && (elem = context.ownerDocument.getElementById(m)) && contains(context, elem) && elem.id === m) {\n\t\t\t\t\t\t\t\tresults.push(elem);\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Speed-up: Sizzle(\"TAG\")\n\t\t\t\t\t} else if (match[2]) {\n\t\t\t\t\t\tpush.apply(results, slice.call(context.getElementsByTagName(selector), 0));\n\t\t\t\t\t\treturn results;\n\n\t\t\t\t\t\t// Speed-up: Sizzle(\".CLASS\")\n\t\t\t\t\t} else if ((m = match[3]) && support.getByClassName && context.getElementsByClassName) {\n\t\t\t\t\t\tpush.apply(results, slice.call(context.getElementsByClassName(m), 0));\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// QSA path\n\t\t\t\tif (support.qsa && !rbuggyQSA.test(selector)) {\n\t\t\t\t\told = true;\n\t\t\t\t\tnid = expando;\n\t\t\t\t\tnewContext = context;\n\t\t\t\t\tnewSelector = nodeType === 9 && selector;\n\n\t\t\t\t\t// qSA works strangely on Element-rooted queries\n\t\t\t\t\t// We can work around this by specifying an extra ID on the root\n\t\t\t\t\t// and working up from there (Thanks to Andrew Dupont for the technique)\n\t\t\t\t\t// IE 8 doesn't work on object elements\n\t\t\t\t\tif (nodeType === 1 && context.nodeName.toLowerCase() !== \"object\") {\n\t\t\t\t\t\tgroups = tokenize(selector);\n\n\t\t\t\t\t\tif (old = context.getAttribute(\"id\")) {\n\t\t\t\t\t\t\tnid = old.replace(rescape, \"\\\\$&\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontext.setAttribute(\"id\", nid);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnid = \"[id='\" + nid + \"'] \";\n\n\t\t\t\t\t\ti = groups.length;\n\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\tgroups[i] = nid + toSelector(groups[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewContext = rsibling.test(selector) && context.parentNode || context;\n\t\t\t\t\t\tnewSelector = groups.join(\",\");\n\t\t\t\t\t}\n\n\t\t\t\t\tif (newSelector) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tpush.apply(results, slice.call(newContext.querySelectorAll(newSelector), 0));\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t} catch (qsaError) {} finally {\n\t\t\t\t\t\t\tif (!old) {\n\t\t\t\t\t\t\t\tcontext.removeAttribute(\"id\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// All others\n\t\t\treturn select(selector.replace(rtrim, \"$1\"), context, results, seed);\n\t\t}\n\n\t\t/**\n   * Detect xml\n   * @param {Element|Object} elem An element or a document\n   */\n\t\tisXML = Sizzle.isXML = function (elem) {\n\t\t\t// documentElement is verified for cases where it doesn't yet exist\n\t\t\t// (such as loading iframes in IE - #4833)\n\t\t\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\n\t\t\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\n\t\t};\n\n\t\t/**\n   * Sets document-related variables once based on the current document\n   * @param {Element|Object} [doc] An element or document object to use to set the document\n   * @returns {Object} Returns the current document\n   */\n\t\tsetDocument = Sizzle.setDocument = function (node) {\n\t\t\tvar doc = node ? node.ownerDocument || node : preferredDoc;\n\n\t\t\t// If no document and documentElement is available, return\n\t\t\tif (doc === document || doc.nodeType !== 9 || !doc.documentElement) {\n\t\t\t\treturn document;\n\t\t\t}\n\n\t\t\t// Set our document\n\t\t\tdocument = doc;\n\t\t\tdocElem = doc.documentElement;\n\n\t\t\t// Support tests\n\t\t\tdocumentIsXML = isXML(doc);\n\n\t\t\t// Check if getElementsByTagName(\"*\") returns only elements\n\t\t\tsupport.tagNameNoComments = assert(function (div) {\n\t\t\t\tdiv.appendChild(doc.createComment(\"\"));\n\t\t\t\treturn !div.getElementsByTagName(\"*\").length;\n\t\t\t});\n\n\t\t\t// Check if attributes should be retrieved by attribute nodes\n\t\t\tsupport.attributes = assert(function (div) {\n\t\t\t\tdiv.innerHTML = \"<select></select>\";\n\t\t\t\tvar type = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(div.lastChild.getAttribute(\"multiple\"));\n\t\t\t\t// IE8 returns a string for some attributes even when not present\n\t\t\t\treturn type !== \"boolean\" && type !== \"string\";\n\t\t\t});\n\n\t\t\t// Check if getElementsByClassName can be trusted\n\t\t\tsupport.getByClassName = assert(function (div) {\n\t\t\t\t// Opera can't find a second classname (in 9.6)\n\t\t\t\tdiv.innerHTML = \"<div class='hidden e'></div><div class='hidden'></div>\";\n\t\t\t\tif (!div.getElementsByClassName || !div.getElementsByClassName(\"e\").length) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Safari 3.2 caches class attributes and doesn't catch changes\n\t\t\t\tdiv.lastChild.className = \"e\";\n\t\t\t\treturn div.getElementsByClassName(\"e\").length === 2;\n\t\t\t});\n\n\t\t\t// Check if getElementById returns elements by name\n\t\t\t// Check if getElementsByName privileges form controls or returns elements by ID\n\t\t\tsupport.getByName = assert(function (div) {\n\t\t\t\t// Inject content\n\t\t\t\tdiv.id = expando + 0;\n\t\t\t\tdiv.innerHTML = \"<a name='\" + expando + \"'></a><div name='\" + expando + \"'></div>\";\n\t\t\t\tdocElem.insertBefore(div, docElem.firstChild);\n\n\t\t\t\t// Test\n\t\t\t\tvar pass = doc.getElementsByName &&\n\t\t\t\t// buggy browsers will return fewer than the correct 2\n\t\t\t\tdoc.getElementsByName(expando).length === 2 +\n\t\t\t\t// buggy browsers will return more than the correct 0\n\t\t\t\tdoc.getElementsByName(expando + 0).length;\n\t\t\t\tsupport.getIdNotName = !doc.getElementById(expando);\n\n\t\t\t\t// Cleanup\n\t\t\t\tdocElem.removeChild(div);\n\n\t\t\t\treturn pass;\n\t\t\t});\n\n\t\t\t// IE6/7 return modified attributes\n\t\t\tExpr.attrHandle = assert(function (div) {\n\t\t\t\tdiv.innerHTML = \"<a href='#'></a>\";\n\t\t\t\treturn div.firstChild && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(div.firstChild.getAttribute) !== strundefined && div.firstChild.getAttribute(\"href\") === \"#\";\n\t\t\t}) ? {} : {\n\t\t\t\t\"href\": function href(elem) {\n\t\t\t\t\treturn elem.getAttribute(\"href\", 2);\n\t\t\t\t},\n\t\t\t\t\"type\": function type(elem) {\n\t\t\t\t\treturn elem.getAttribute(\"type\");\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// ID find and filter\n\t\t\tif (support.getIdNotName) {\n\t\t\t\tExpr.find[\"ID\"] = function (id, context) {\n\t\t\t\t\tif (__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(context.getElementById) !== strundefined && !documentIsXML) {\n\t\t\t\t\t\tvar m = context.getElementById(id);\n\t\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t\t\t// nodes that are no longer in the document #6963\n\t\t\t\t\t\treturn m && m.parentNode ? [m] : [];\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tExpr.filter[\"ID\"] = function (id) {\n\t\t\t\t\tvar attrId = id.replace(runescape, funescape);\n\t\t\t\t\treturn function (elem) {\n\t\t\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tExpr.find[\"ID\"] = function (id, context) {\n\t\t\t\t\tif (__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(context.getElementById) !== strundefined && !documentIsXML) {\n\t\t\t\t\t\tvar m = context.getElementById(id);\n\n\t\t\t\t\t\treturn m ? m.id === id || __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(m.getAttributeNode) !== strundefined && m.getAttributeNode(\"id\").value === id ? [m] : undefined : [];\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tExpr.filter[\"ID\"] = function (id) {\n\t\t\t\t\tvar attrId = id.replace(runescape, funescape);\n\t\t\t\t\treturn function (elem) {\n\t\t\t\t\t\tvar node = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(elem.getAttributeNode) !== strundefined && elem.getAttributeNode(\"id\");\n\t\t\t\t\t\treturn node && node.value === attrId;\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Tag\n\t\t\tExpr.find[\"TAG\"] = support.tagNameNoComments ? function (tag, context) {\n\t\t\t\tif (__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(context.getElementsByTagName) !== strundefined) {\n\t\t\t\t\treturn context.getElementsByTagName(tag);\n\t\t\t\t}\n\t\t\t} : function (tag, context) {\n\t\t\t\tvar elem,\n\t\t\t\t    tmp = [],\n\t\t\t\t    i = 0,\n\t\t\t\t    results = context.getElementsByTagName(tag);\n\n\t\t\t\t// Filter out possible comments\n\t\t\t\tif (tag === \"*\") {\n\t\t\t\t\tfor (; elem = results[i]; i++) {\n\t\t\t\t\t\tif (elem.nodeType === 1) {\n\t\t\t\t\t\t\ttmp.push(elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn tmp;\n\t\t\t\t}\n\t\t\t\treturn results;\n\t\t\t};\n\n\t\t\t// Name\n\t\t\tExpr.find[\"NAME\"] = support.getByName && function (tag, context) {\n\t\t\t\tif (__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(context.getElementsByName) !== strundefined) {\n\t\t\t\t\treturn context.getElementsByName(name);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Class\n\t\t\tExpr.find[\"CLASS\"] = support.getByClassName && function (className, context) {\n\t\t\t\tif (__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(context.getElementsByClassName) !== strundefined && !documentIsXML) {\n\t\t\t\t\treturn context.getElementsByClassName(className);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// QSA and matchesSelector support\n\n\t\t\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\t\t\trbuggyMatches = [];\n\n\t\t\t// qSa(:focus) reports false when true (Chrome 21),\n\t\t\t// no need to also add to buggyMatches since matches checks buggyQSA\n\t\t\t// A support test would require too much code (would include document ready)\n\t\t\trbuggyQSA = [\":focus\"];\n\n\t\t\tif (support.qsa = isNative(doc.querySelectorAll)) {\n\t\t\t\t// Build QSA regex\n\t\t\t\t// Regex strategy adopted from Diego Perini\n\t\t\t\tassert(function (div) {\n\t\t\t\t\t// Select is set to empty string on purpose\n\t\t\t\t\t// This is to test IE's treatment of not explictly\n\t\t\t\t\t// setting a boolean content attribute,\n\t\t\t\t\t// since its presence should be enough\n\t\t\t\t\t// http://bugs.jquery.com/ticket/12359\n\t\t\t\t\tdiv.innerHTML = \"<select><option selected=''></option></select>\";\n\n\t\t\t\t\t// IE8 - Some boolean attributes are not treated correctly\n\t\t\t\t\tif (!div.querySelectorAll(\"[selected]\").length) {\n\t\t\t\t\t\trbuggyQSA.push(\"\\\\[\" + whitespace + \"*(?:checked|disabled|ismap|multiple|readonly|selected|value)\");\n\t\t\t\t\t}\n\n\t\t\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t\t\t// IE8 throws error here and will not see later tests\n\t\t\t\t\tif (!div.querySelectorAll(\":checked\").length) {\n\t\t\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tassert(function (div) {\n\n\t\t\t\t\t// Opera 10-12/IE8 - ^= $= *= and empty values\n\t\t\t\t\t// Should not select anything\n\t\t\t\t\tdiv.innerHTML = \"<input type='hidden' i=''/>\";\n\t\t\t\t\tif (div.querySelectorAll(\"[i^='']\").length) {\n\t\t\t\t\t\trbuggyQSA.push(\"[*^$]=\" + whitespace + \"*(?:\\\"\\\"|'')\");\n\t\t\t\t\t}\n\n\t\t\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t\t\t// IE8 throws error here and will not see later tests\n\t\t\t\t\tif (!div.querySelectorAll(\":enabled\").length) {\n\t\t\t\t\t\trbuggyQSA.push(\":enabled\", \":disabled\");\n\t\t\t\t\t}\n\n\t\t\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\t\t\tdiv.querySelectorAll(\"*,:x\");\n\t\t\t\t\trbuggyQSA.push(\",.*:\");\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (support.matchesSelector = isNative(matches = docElem.matchesSelector || docElem.mozMatchesSelector || docElem.webkitMatchesSelector || docElem.oMatchesSelector || docElem.msMatchesSelector)) {\n\n\t\t\t\tassert(function (div) {\n\t\t\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t\t\t// on a disconnected node (IE 9)\n\t\t\t\t\tsupport.disconnectedMatch = matches.call(div, \"div\");\n\n\t\t\t\t\t// This should fail with an exception\n\t\t\t\t\t// Gecko does not error, returns false instead\n\t\t\t\t\tmatches.call(div, \"[s!='']:x\");\n\t\t\t\t\trbuggyMatches.push(\"!=\", pseudos);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\trbuggyQSA = new RegExp(rbuggyQSA.join(\"|\"));\n\t\t\trbuggyMatches = new RegExp(rbuggyMatches.join(\"|\"));\n\n\t\t\t// Element contains another\n\t\t\t// Purposefully does not implement inclusive descendent\n\t\t\t// As in, an element does not contain itself\n\t\t\tcontains = isNative(docElem.contains) || docElem.compareDocumentPosition ? function (a, b) {\n\t\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\t    bup = b && b.parentNode;\n\t\t\t\treturn a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ? adown.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));\n\t\t\t} : function (a, b) {\n\t\t\t\tif (b) {\n\t\t\t\t\twhile (b = b.parentNode) {\n\t\t\t\t\t\tif (b === a) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\t// Document order sorting\n\t\t\tsortOrder = docElem.compareDocumentPosition ? function (a, b) {\n\t\t\t\tvar compare;\n\n\t\t\t\tif (a === b) {\n\t\t\t\t\thasDuplicate = true;\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tif (compare = b.compareDocumentPosition && a.compareDocumentPosition && a.compareDocumentPosition(b)) {\n\t\t\t\t\tif (compare & 1 || a.parentNode && a.parentNode.nodeType === 11) {\n\t\t\t\t\t\tif (a === doc || contains(preferredDoc, a)) {\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (b === doc || contains(preferredDoc, b)) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t\t\treturn compare & 4 ? -1 : 1;\n\t\t\t\t}\n\n\t\t\t\treturn a.compareDocumentPosition ? -1 : 1;\n\t\t\t} : function (a, b) {\n\t\t\t\tvar cur,\n\t\t\t\t    i = 0,\n\t\t\t\t    aup = a.parentNode,\n\t\t\t\t    bup = b.parentNode,\n\t\t\t\t    ap = [a],\n\t\t\t\t    bp = [b];\n\n\t\t\t\t// The nodes are identical, we can exit early\n\t\t\t\tif (a === b) {\n\t\t\t\t\thasDuplicate = true;\n\t\t\t\t\treturn 0;\n\n\t\t\t\t\t// Fallback to using sourceIndex (in IE) if it's available on both nodes\n\t\t\t\t} else if (a.sourceIndex && b.sourceIndex) {\n\t\t\t\t\treturn (~b.sourceIndex || MAX_NEGATIVE) - (contains(preferredDoc, a) && ~a.sourceIndex || MAX_NEGATIVE);\n\n\t\t\t\t\t// Parentless nodes are either documents or disconnected\n\t\t\t\t} else if (!aup || !bup) {\n\t\t\t\t\treturn a === doc ? -1 : b === doc ? 1 : aup ? -1 : bup ? 1 : 0;\n\n\t\t\t\t\t// If the nodes are siblings, we can do a quick check\n\t\t\t\t} else if (aup === bup) {\n\t\t\t\t\treturn siblingCheck(a, b);\n\t\t\t\t}\n\n\t\t\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\t\t\tcur = a;\n\t\t\t\twhile (cur = cur.parentNode) {\n\t\t\t\t\tap.unshift(cur);\n\t\t\t\t}\n\t\t\t\tcur = b;\n\t\t\t\twhile (cur = cur.parentNode) {\n\t\t\t\t\tbp.unshift(cur);\n\t\t\t\t}\n\n\t\t\t\t// Walk down the tree looking for a discrepancy\n\t\t\t\twhile (ap[i] === bp[i]) {\n\t\t\t\t\ti++;\n\t\t\t\t}\n\n\t\t\t\treturn i ?\n\t\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\t\tsiblingCheck(ap[i], bp[i]) :\n\n\t\t\t\t// Otherwise nodes in our document sort first\n\t\t\t\tap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0;\n\t\t\t};\n\n\t\t\t// Always assume the presence of duplicates if sort doesn't\n\t\t\t// pass them to our comparison function (as in Google Chrome).\n\t\t\thasDuplicate = false;\n\t\t\t[0, 0].sort(sortOrder);\n\t\t\tsupport.detectDuplicates = hasDuplicate;\n\n\t\t\treturn document;\n\t\t};\n\n\t\tSizzle.matches = function (expr, elements) {\n\t\t\treturn Sizzle(expr, null, null, elements);\n\t\t};\n\n\t\tSizzle.matchesSelector = function (elem, expr) {\n\t\t\t// Set document vars if needed\n\t\t\tif ((elem.ownerDocument || elem) !== document) {\n\t\t\t\tsetDocument(elem);\n\t\t\t}\n\n\t\t\t// Make sure that attribute selectors are quoted\n\t\t\texpr = expr.replace(rattributeQuotes, \"='$1']\");\n\n\t\t\t// rbuggyQSA always contains :focus, so no need for an existence check\n\t\t\tif (support.matchesSelector && !documentIsXML && (!rbuggyMatches || !rbuggyMatches.test(expr)) && !rbuggyQSA.test(expr)) {\n\t\t\t\ttry {\n\t\t\t\t\tvar ret = matches.call(elem, expr);\n\n\t\t\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\t\t\tif (ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11) {\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn Sizzle(expr, document, null, [elem]).length > 0;\n\t\t};\n\n\t\tSizzle.contains = function (context, elem) {\n\t\t\t// Set document vars if needed\n\t\t\tif ((context.ownerDocument || context) !== document) {\n\t\t\t\tsetDocument(context);\n\t\t\t}\n\t\t\treturn contains(context, elem);\n\t\t};\n\n\t\tSizzle.attr = function (elem, name) {\n\t\t\tvar val;\n\n\t\t\t// Set document vars if needed\n\t\t\tif ((elem.ownerDocument || elem) !== document) {\n\t\t\t\tsetDocument(elem);\n\t\t\t}\n\n\t\t\tif (!documentIsXML) {\n\t\t\t\tname = name.toLowerCase();\n\t\t\t}\n\t\t\tif (val = Expr.attrHandle[name]) {\n\t\t\t\treturn val(elem);\n\t\t\t}\n\t\t\tif (documentIsXML || support.attributes) {\n\t\t\t\treturn elem.getAttribute(name);\n\t\t\t}\n\t\t\treturn ((val = elem.getAttributeNode(name)) || elem.getAttribute(name)) && elem[name] === true ? name : val && val.specified ? val.value : null;\n\t\t};\n\n\t\tSizzle.error = function (msg) {\n\t\t\tthrow new Error(\"Syntax error, unrecognized expression: \" + msg);\n\t\t};\n\n\t\t// Document sorting and removing duplicates\n\t\tSizzle.uniqueSort = function (results) {\n\t\t\tvar elem,\n\t\t\t    duplicates = [],\n\t\t\t    i = 1,\n\t\t\t    j = 0;\n\n\t\t\t// Unless we *know* we can detect duplicates, assume their presence\n\t\t\thasDuplicate = !support.detectDuplicates;\n\t\t\tresults.sort(sortOrder);\n\n\t\t\tif (hasDuplicate) {\n\t\t\t\tfor (; elem = results[i]; i++) {\n\t\t\t\t\tif (elem === results[i - 1]) {\n\t\t\t\t\t\tj = duplicates.push(i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twhile (j--) {\n\t\t\t\t\tresults.splice(duplicates[j], 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn results;\n\t\t};\n\n\t\tfunction siblingCheck(a, b) {\n\t\t\tvar cur = a && b && a.nextSibling;\n\n\t\t\tfor (; cur; cur = cur.nextSibling) {\n\t\t\t\tif (cur === b) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn a ? 1 : -1;\n\t\t}\n\n\t\t// Returns a function to use in pseudos for input types\n\t\tfunction createInputPseudo(type) {\n\t\t\treturn function (elem) {\n\t\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\t\treturn name === \"input\" && elem.type === type;\n\t\t\t};\n\t\t}\n\n\t\t// Returns a function to use in pseudos for buttons\n\t\tfunction createButtonPseudo(type) {\n\t\t\treturn function (elem) {\n\t\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t\t\t};\n\t\t}\n\n\t\t// Returns a function to use in pseudos for positionals\n\t\tfunction createPositionalPseudo(fn) {\n\t\t\treturn markFunction(function (argument) {\n\t\t\t\targument = +argument;\n\t\t\t\treturn markFunction(function (seed, matches) {\n\t\t\t\t\tvar j,\n\t\t\t\t\t    matchIndexes = fn([], seed.length, argument),\n\t\t\t\t\t    i = matchIndexes.length;\n\n\t\t\t\t\t// Match elements found at the specified indexes\n\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\tif (seed[j = matchIndexes[i]]) {\n\t\t\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * Utility function for retrieving the text value of an array of DOM nodes\n   * @param {Array|Element} elem\n   */\n\t\tgetText = Sizzle.getText = function (elem) {\n\t\t\tvar node,\n\t\t\t    ret = \"\",\n\t\t\t    i = 0,\n\t\t\t    nodeType = elem.nodeType;\n\n\t\t\tif (!nodeType) {\n\t\t\t\t// If no nodeType, this is expected to be an array\n\t\t\t\tfor (; node = elem[i]; i++) {\n\t\t\t\t\t// Do not traverse comment nodes\n\t\t\t\t\tret += getText(node);\n\t\t\t\t}\n\t\t\t} else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n\t\t\t\t// Use textContent for elements\n\t\t\t\t// innerText usage removed for consistency of new lines (see #11153)\n\t\t\t\tif (typeof elem.textContent === \"string\") {\n\t\t\t\t\treturn elem.textContent;\n\t\t\t\t} else {\n\t\t\t\t\t// Traverse its children\n\t\t\t\t\tfor (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n\t\t\t\t\t\tret += getText(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (nodeType === 3 || nodeType === 4) {\n\t\t\t\treturn elem.nodeValue;\n\t\t\t}\n\t\t\t// Do not include comment or processing instruction nodes\n\n\t\t\treturn ret;\n\t\t};\n\n\t\tExpr = Sizzle.selectors = {\n\n\t\t\t// Can be adjusted by the user\n\t\t\tcacheLength: 50,\n\n\t\t\tcreatePseudo: markFunction,\n\n\t\t\tmatch: matchExpr,\n\n\t\t\tfind: {},\n\n\t\t\trelative: {\n\t\t\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\t\t\" \": { dir: \"parentNode\" },\n\t\t\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\t\t\"~\": { dir: \"previousSibling\" }\n\t\t\t},\n\n\t\t\tpreFilter: {\n\t\t\t\t\"ATTR\": function ATTR(match) {\n\t\t\t\t\tmatch[1] = match[1].replace(runescape, funescape);\n\n\t\t\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\t\t\tmatch[3] = (match[4] || match[5] || \"\").replace(runescape, funescape);\n\n\t\t\t\t\tif (match[2] === \"~=\") {\n\t\t\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t\t\t}\n\n\t\t\t\t\treturn match.slice(0, 4);\n\t\t\t\t},\n\n\t\t\t\t\"CHILD\": function CHILD(match) {\n\t\t\t\t\t/* matches from matchExpr[\"CHILD\"]\n     \t1 type (only|nth|...)\n     \t2 what (child|of-type)\n     \t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n     \t4 xn-component of xn+y argument ([+-]?\\d*n|)\n     \t5 sign of xn-component\n     \t6 x of xn-component\n     \t7 sign of y-component\n     \t8 y of y-component\n     */\n\t\t\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\t\t\tif (match[1].slice(0, 3) === \"nth\") {\n\t\t\t\t\t\t// nth-* requires argument\n\t\t\t\t\t\tif (!match[3]) {\n\t\t\t\t\t\t\tSizzle.error(match[0]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\t\t\tmatch[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === \"even\" || match[3] === \"odd\"));\n\t\t\t\t\t\tmatch[5] = +(match[7] + match[8] || match[3] === \"odd\");\n\n\t\t\t\t\t\t// other types prohibit arguments\n\t\t\t\t\t} else if (match[3]) {\n\t\t\t\t\t\tSizzle.error(match[0]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn match;\n\t\t\t\t},\n\n\t\t\t\t\"PSEUDO\": function PSEUDO(match) {\n\t\t\t\t\tvar excess,\n\t\t\t\t\t    unquoted = !match[5] && match[2];\n\n\t\t\t\t\tif (matchExpr[\"CHILD\"].test(match[0])) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Accept quoted arguments as-is\n\t\t\t\t\tif (match[4]) {\n\t\t\t\t\t\tmatch[2] = match[4];\n\n\t\t\t\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t\t\t} else if (unquoted && rpseudo.test(unquoted) && (\n\t\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t\texcess = tokenize(unquoted, true)) && (\n\t\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t\texcess = unquoted.indexOf(\")\", unquoted.length - excess) - unquoted.length)) {\n\n\t\t\t\t\t\t// excess is a negative index\n\t\t\t\t\t\tmatch[0] = match[0].slice(0, excess);\n\t\t\t\t\t\tmatch[2] = unquoted.slice(0, excess);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\t\t\treturn match.slice(0, 3);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfilter: {\n\n\t\t\t\t\"TAG\": function TAG(nodeName) {\n\t\t\t\t\tif (nodeName === \"*\") {\n\t\t\t\t\t\treturn function () {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tnodeName = nodeName.replace(runescape, funescape).toLowerCase();\n\t\t\t\t\treturn function (elem) {\n\t\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t\t};\n\t\t\t\t},\n\n\t\t\t\t\"CLASS\": function CLASS(className) {\n\t\t\t\t\tvar pattern = classCache[className + \" \"];\n\n\t\t\t\t\treturn pattern || (pattern = new RegExp(\"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\")) && classCache(className, function (elem) {\n\t\t\t\t\t\treturn pattern.test(elem.className || __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(elem.getAttribute) !== strundefined && elem.getAttribute(\"class\") || \"\");\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t\"ATTR\": function ATTR(name, operator, check) {\n\t\t\t\t\treturn function (elem) {\n\t\t\t\t\t\tvar result = Sizzle.attr(elem, name);\n\n\t\t\t\t\t\tif (result == null) {\n\t\t\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!operator) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresult += \"\";\n\n\t\t\t\t\t\treturn operator === \"=\" ? result === check : operator === \"!=\" ? result !== check : operator === \"^=\" ? check && result.indexOf(check) === 0 : operator === \"*=\" ? check && result.indexOf(check) > -1 : operator === \"$=\" ? check && result.substr(result.length - check.length) === check : operator === \"~=\" ? (\" \" + result + \" \").indexOf(check) > -1 : operator === \"|=\" ? result === check || result.substr(0, check.length + 1) === check + \"-\" : false;\n\t\t\t\t\t};\n\t\t\t\t},\n\n\t\t\t\t\"CHILD\": function CHILD(type, what, argument, first, last) {\n\t\t\t\t\tvar simple = type.slice(0, 3) !== \"nth\",\n\t\t\t\t\t    forward = type.slice(-4) !== \"last\",\n\t\t\t\t\t    ofType = what === \"of-type\";\n\n\t\t\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\t\tfunction (elem) {\n\t\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t\t} : function (elem, context, xml) {\n\t\t\t\t\t\tvar cache,\n\t\t\t\t\t\t    outerCache,\n\t\t\t\t\t\t    node,\n\t\t\t\t\t\t    diff,\n\t\t\t\t\t\t    nodeIndex,\n\t\t\t\t\t\t    start,\n\t\t\t\t\t\t    dir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\t    parent = elem.parentNode,\n\t\t\t\t\t\t    name = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\t    useCache = !xml && !ofType;\n\n\t\t\t\t\t\tif (parent) {\n\n\t\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\t\tif (simple) {\n\t\t\t\t\t\t\t\twhile (dir) {\n\t\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\t\twhile (node = node[dir]) {\n\t\t\t\t\t\t\t\t\t\tif (ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) {\n\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tstart = [forward ? parent.firstChild : parent.lastChild];\n\n\t\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\t\tif (forward && useCache) {\n\t\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\t\t\t\t\t\t\t\touterCache = parent[expando] || (parent[expando] = {});\n\t\t\t\t\t\t\t\tcache = outerCache[type] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[0] === dirruns && cache[1];\n\t\t\t\t\t\t\t\tdiff = cache[0] === dirruns && cache[2];\n\t\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[nodeIndex];\n\n\t\t\t\t\t\t\t\twhile (node = ++nodeIndex && node && node[dir] || (\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\tdiff = nodeIndex = 0) || start.pop()) {\n\n\t\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\t\tif (node.nodeType === 1 && ++diff && node === elem) {\n\t\t\t\t\t\t\t\t\t\touterCache[type] = [dirruns, nodeIndex, diff];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\t} else if (useCache && (cache = (elem[expando] || (elem[expando] = {}))[type]) && cache[0] === dirruns) {\n\t\t\t\t\t\t\t\tdiff = cache[1];\n\n\t\t\t\t\t\t\t\t// xml :nth-child(...) or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n\n\t\t\t\t\t\t\t\t\tif ((ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) && ++diff) {\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif (useCache) {\n\t\t\t\t\t\t\t\t\t\t\t(node[expando] || (node[expando] = {}))[type] = [dirruns, diff];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (node === elem) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\t\treturn diff === first || diff % first === 0 && diff / first >= 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t},\n\n\t\t\t\t\"PSEUDO\": function PSEUDO(pseudo, argument) {\n\t\t\t\t\t// pseudo-class names are case-insensitive\n\t\t\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\t\t\tvar args,\n\t\t\t\t\t    fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error(\"unsupported pseudo: \" + pseudo);\n\n\t\t\t\t\t// The user may use createPseudo to indicate that\n\t\t\t\t\t// arguments are needed to create the filter function\n\t\t\t\t\t// just as Sizzle does\n\t\t\t\t\tif (fn[expando]) {\n\t\t\t\t\t\treturn fn(argument);\n\t\t\t\t\t}\n\n\t\t\t\t\t// But maintain support for old signatures\n\t\t\t\t\tif (fn.length > 1) {\n\t\t\t\t\t\targs = [pseudo, pseudo, \"\", argument];\n\t\t\t\t\t\treturn Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function (seed, matches) {\n\t\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\t    matched = fn(seed, argument),\n\t\t\t\t\t\t\t    i = matched.length;\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\tidx = indexOf.call(seed, matched[i]);\n\t\t\t\t\t\t\t\tseed[idx] = !(matches[idx] = matched[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}) : function (elem) {\n\t\t\t\t\t\t\treturn fn(elem, 0, args);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn fn;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpseudos: {\n\t\t\t\t// Potentially complex pseudos\n\t\t\t\t\"not\": markFunction(function (selector) {\n\t\t\t\t\t// Trim the selector passed to compile\n\t\t\t\t\t// to avoid treating leading and trailing\n\t\t\t\t\t// spaces as combinators\n\t\t\t\t\tvar input = [],\n\t\t\t\t\t    results = [],\n\t\t\t\t\t    matcher = compile(selector.replace(rtrim, \"$1\"));\n\n\t\t\t\t\treturn matcher[expando] ? markFunction(function (seed, matches, context, xml) {\n\t\t\t\t\t\tvar elem,\n\t\t\t\t\t\t    unmatched = matcher(seed, null, xml, []),\n\t\t\t\t\t\t    i = seed.length;\n\n\t\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\tif (elem = unmatched[i]) {\n\t\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}) : function (elem, context, xml) {\n\t\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\t\tmatcher(input, null, xml, results);\n\t\t\t\t\t\treturn !results.pop();\n\t\t\t\t\t};\n\t\t\t\t}),\n\n\t\t\t\t\"has\": markFunction(function (selector) {\n\t\t\t\t\treturn function (elem) {\n\t\t\t\t\t\treturn Sizzle(selector, elem).length > 0;\n\t\t\t\t\t};\n\t\t\t\t}),\n\n\t\t\t\t\"contains\": markFunction(function (text) {\n\t\t\t\t\treturn function (elem) {\n\t\t\t\t\t\treturn (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;\n\t\t\t\t\t};\n\t\t\t\t}),\n\n\t\t\t\t// \"Whether an element is represented by a :lang() selector\n\t\t\t\t// is based solely on the element's language value\n\t\t\t\t// being equal to the identifier C,\n\t\t\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t\t\t// The identifier C does not have to be a valid language name.\"\n\t\t\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\t\t\"lang\": markFunction(function (lang) {\n\t\t\t\t\t// lang value must be a valid identifider\n\t\t\t\t\tif (!ridentifier.test(lang || \"\")) {\n\t\t\t\t\t\tSizzle.error(\"unsupported lang: \" + lang);\n\t\t\t\t\t}\n\t\t\t\t\tlang = lang.replace(runescape, funescape).toLowerCase();\n\t\t\t\t\treturn function (elem) {\n\t\t\t\t\t\tvar elemLang;\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tif (elemLang = documentIsXML ? elem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\") : elem.lang) {\n\n\t\t\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf(lang + \"-\") === 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} while ((elem = elem.parentNode) && elem.nodeType === 1);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\t\t\t\t}),\n\n\t\t\t\t// Miscellaneous\n\t\t\t\t\"target\": function target(elem) {\n\t\t\t\t\tvar hash = window.location && window.location.hash;\n\t\t\t\t\treturn hash && hash.slice(1) === elem.id;\n\t\t\t\t},\n\n\t\t\t\t\"root\": function root(elem) {\n\t\t\t\t\treturn elem === docElem;\n\t\t\t\t},\n\n\t\t\t\t\"focus\": function focus(elem) {\n\t\t\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t\t\t},\n\n\t\t\t\t// Boolean properties\n\t\t\t\t\"enabled\": function enabled(elem) {\n\t\t\t\t\treturn elem.disabled === false;\n\t\t\t\t},\n\n\t\t\t\t\"disabled\": function disabled(elem) {\n\t\t\t\t\treturn elem.disabled === true;\n\t\t\t\t},\n\n\t\t\t\t\"checked\": function checked(elem) {\n\t\t\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\t\t\treturn nodeName === \"input\" && !!elem.checked || nodeName === \"option\" && !!elem.selected;\n\t\t\t\t},\n\n\t\t\t\t\"selected\": function selected(elem) {\n\t\t\t\t\t// Accessing this property makes selected-by-default\n\t\t\t\t\t// options in Safari work properly\n\t\t\t\t\tif (elem.parentNode) {\n\t\t\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn elem.selected === true;\n\t\t\t\t},\n\n\t\t\t\t// Contents\n\t\t\t\t\"empty\": function empty(elem) {\n\t\t\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t\t\t// :empty is only affected by element nodes and content nodes(including text(3), cdata(4)),\n\t\t\t\t\t//   not comment, processing instructions, or others\n\t\t\t\t\t// Thanks to Diego Perini for the nodeName shortcut\n\t\t\t\t\t//   Greater than \"@\" means alpha characters (specifically not starting with \"#\" or \"?\")\n\t\t\t\t\tfor (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n\t\t\t\t\t\tif (elem.nodeName > \"@\" || elem.nodeType === 3 || elem.nodeType === 4) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\n\t\t\t\t\"parent\": function parent(elem) {\n\t\t\t\t\treturn !Expr.pseudos[\"empty\"](elem);\n\t\t\t\t},\n\n\t\t\t\t// Element/input types\n\t\t\t\t\"header\": function header(elem) {\n\t\t\t\t\treturn rheader.test(elem.nodeName);\n\t\t\t\t},\n\n\t\t\t\t\"input\": function input(elem) {\n\t\t\t\t\treturn rinputs.test(elem.nodeName);\n\t\t\t\t},\n\n\t\t\t\t\"button\": function button(elem) {\n\t\t\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t\t\t},\n\n\t\t\t\t\"text\": function text(elem) {\n\t\t\t\t\tvar attr;\n\t\t\t\t\t// IE6 and 7 will map elem.type to 'text' for new HTML5 types (search, etc)\n\t\t\t\t\t// use getAttribute instead to test this case\n\t\t\t\t\treturn elem.nodeName.toLowerCase() === \"input\" && elem.type === \"text\" && ((attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === elem.type);\n\t\t\t\t},\n\n\t\t\t\t// Position-in-collection\n\t\t\t\t\"first\": createPositionalPseudo(function () {\n\t\t\t\t\treturn [0];\n\t\t\t\t}),\n\n\t\t\t\t\"last\": createPositionalPseudo(function (matchIndexes, length) {\n\t\t\t\t\treturn [length - 1];\n\t\t\t\t}),\n\n\t\t\t\t\"eq\": createPositionalPseudo(function (matchIndexes, length, argument) {\n\t\t\t\t\treturn [argument < 0 ? argument + length : argument];\n\t\t\t\t}),\n\n\t\t\t\t\"even\": createPositionalPseudo(function (matchIndexes, length) {\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\tfor (; i < length; i += 2) {\n\t\t\t\t\t\tmatchIndexes.push(i);\n\t\t\t\t\t}\n\t\t\t\t\treturn matchIndexes;\n\t\t\t\t}),\n\n\t\t\t\t\"odd\": createPositionalPseudo(function (matchIndexes, length) {\n\t\t\t\t\tvar i = 1;\n\t\t\t\t\tfor (; i < length; i += 2) {\n\t\t\t\t\t\tmatchIndexes.push(i);\n\t\t\t\t\t}\n\t\t\t\t\treturn matchIndexes;\n\t\t\t\t}),\n\n\t\t\t\t\"lt\": createPositionalPseudo(function (matchIndexes, length, argument) {\n\t\t\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\t\t\tfor (; --i >= 0;) {\n\t\t\t\t\t\tmatchIndexes.push(i);\n\t\t\t\t\t}\n\t\t\t\t\treturn matchIndexes;\n\t\t\t\t}),\n\n\t\t\t\t\"gt\": createPositionalPseudo(function (matchIndexes, length, argument) {\n\t\t\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\t\t\tfor (; ++i < length;) {\n\t\t\t\t\t\tmatchIndexes.push(i);\n\t\t\t\t\t}\n\t\t\t\t\treturn matchIndexes;\n\t\t\t\t})\n\t\t\t}\n\t\t};\n\n\t\t// Add button/input type pseudos\n\t\tfor (i in { radio: true, checkbox: true, file: true, password: true, image: true }) {\n\t\t\tExpr.pseudos[i] = createInputPseudo(i);\n\t\t}\n\t\tfor (i in { submit: true, reset: true }) {\n\t\t\tExpr.pseudos[i] = createButtonPseudo(i);\n\t\t}\n\n\t\tfunction tokenize(selector, parseOnly) {\n\t\t\tvar matched,\n\t\t\t    match,\n\t\t\t    tokens,\n\t\t\t    type,\n\t\t\t    soFar,\n\t\t\t    groups,\n\t\t\t    preFilters,\n\t\t\t    cached = tokenCache[selector + \" \"];\n\n\t\t\tif (cached) {\n\t\t\t\treturn parseOnly ? 0 : cached.slice(0);\n\t\t\t}\n\n\t\t\tsoFar = selector;\n\t\t\tgroups = [];\n\t\t\tpreFilters = Expr.preFilter;\n\n\t\t\twhile (soFar) {\n\n\t\t\t\t// Comma and first run\n\t\t\t\tif (!matched || (match = rcomma.exec(soFar))) {\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\t\t\tsoFar = soFar.slice(match[0].length) || soFar;\n\t\t\t\t\t}\n\t\t\t\t\tgroups.push(tokens = []);\n\t\t\t\t}\n\n\t\t\t\tmatched = false;\n\n\t\t\t\t// Combinators\n\t\t\t\tif (match = rcombinators.exec(soFar)) {\n\t\t\t\t\tmatched = match.shift();\n\t\t\t\t\ttokens.push({\n\t\t\t\t\t\tvalue: matched,\n\t\t\t\t\t\t// Cast descendant combinators to space\n\t\t\t\t\t\ttype: match[0].replace(rtrim, \" \")\n\t\t\t\t\t});\n\t\t\t\t\tsoFar = soFar.slice(matched.length);\n\t\t\t\t}\n\n\t\t\t\t// Filters\n\t\t\t\tfor (type in Expr.filter) {\n\t\t\t\t\tif ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {\n\t\t\t\t\t\tmatched = match.shift();\n\t\t\t\t\t\ttokens.push({\n\t\t\t\t\t\t\tvalue: matched,\n\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\tmatches: match\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsoFar = soFar.slice(matched.length);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!matched) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Return the length of the invalid excess\n\t\t\t// if we're just parsing\n\t\t\t// Otherwise, throw an error or return tokens\n\t\t\treturn parseOnly ? soFar.length : soFar ? Sizzle.error(selector) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache(selector, groups).slice(0);\n\t\t}\n\n\t\tfunction toSelector(tokens) {\n\t\t\tvar i = 0,\n\t\t\t    len = tokens.length,\n\t\t\t    selector = \"\";\n\t\t\tfor (; i < len; i++) {\n\t\t\t\tselector += tokens[i].value;\n\t\t\t}\n\t\t\treturn selector;\n\t\t}\n\n\t\tfunction addCombinator(matcher, combinator, base) {\n\t\t\tvar dir = combinator.dir,\n\t\t\t    checkNonElements = base && combinator.dir === \"parentNode\",\n\t\t\t    doneName = done++;\n\n\t\t\treturn combinator.first ?\n\t\t\t// Check against closest ancestor/preceding element\n\t\t\tfunction (elem, context, xml) {\n\t\t\t\twhile (elem = elem[dir]) {\n\t\t\t\t\tif (elem.nodeType === 1 || checkNonElements) {\n\t\t\t\t\t\treturn matcher(elem, context, xml);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} :\n\n\t\t\t// Check against all ancestor/preceding elements\n\t\t\tfunction (elem, context, xml) {\n\t\t\t\tvar data,\n\t\t\t\t    cache,\n\t\t\t\t    outerCache,\n\t\t\t\t    dirkey = dirruns + \" \" + doneName;\n\n\t\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from dir caching\n\t\t\t\tif (xml) {\n\t\t\t\t\twhile (elem = elem[dir]) {\n\t\t\t\t\t\tif (elem.nodeType === 1 || checkNonElements) {\n\t\t\t\t\t\t\tif (matcher(elem, context, xml)) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\twhile (elem = elem[dir]) {\n\t\t\t\t\t\tif (elem.nodeType === 1 || checkNonElements) {\n\t\t\t\t\t\t\touterCache = elem[expando] || (elem[expando] = {});\n\t\t\t\t\t\t\tif ((cache = outerCache[dir]) && cache[0] === dirkey) {\n\t\t\t\t\t\t\t\tif ((data = cache[1]) === true || data === cachedruns) {\n\t\t\t\t\t\t\t\t\treturn data === true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcache = outerCache[dir] = [dirkey];\n\t\t\t\t\t\t\t\tcache[1] = matcher(elem, context, xml) || cachedruns;\n\t\t\t\t\t\t\t\tif (cache[1] === true) {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tfunction elementMatcher(matchers) {\n\t\t\treturn matchers.length > 1 ? function (elem, context, xml) {\n\t\t\t\tvar i = matchers.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tif (!matchers[i](elem, context, xml)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t} : matchers[0];\n\t\t}\n\n\t\tfunction condense(unmatched, map, filter, context, xml) {\n\t\t\tvar elem,\n\t\t\t    newUnmatched = [],\n\t\t\t    i = 0,\n\t\t\t    len = unmatched.length,\n\t\t\t    mapped = map != null;\n\n\t\t\tfor (; i < len; i++) {\n\t\t\t\tif (elem = unmatched[i]) {\n\t\t\t\t\tif (!filter || filter(elem, context, xml)) {\n\t\t\t\t\t\tnewUnmatched.push(elem);\n\t\t\t\t\t\tif (mapped) {\n\t\t\t\t\t\t\tmap.push(i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newUnmatched;\n\t\t}\n\n\t\tfunction setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {\n\t\t\tif (postFilter && !postFilter[expando]) {\n\t\t\t\tpostFilter = setMatcher(postFilter);\n\t\t\t}\n\t\t\tif (postFinder && !postFinder[expando]) {\n\t\t\t\tpostFinder = setMatcher(postFinder, postSelector);\n\t\t\t}\n\t\t\treturn markFunction(function (seed, results, context, xml) {\n\t\t\t\tvar temp,\n\t\t\t\t    i,\n\t\t\t\t    elem,\n\t\t\t\t    preMap = [],\n\t\t\t\t    postMap = [],\n\t\t\t\t    preexisting = results.length,\n\n\n\t\t\t\t// Get initial elements from seed or context\n\t\t\t\telems = seed || multipleContexts(selector || \"*\", context.nodeType ? [context] : context, []),\n\n\n\t\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\t\tmatcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems,\n\t\t\t\t    matcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || (seed ? preFilter : preexisting || postFilter) ?\n\n\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t[] :\n\n\t\t\t\t// ...otherwise use results directly\n\t\t\t\tresults : matcherIn;\n\n\t\t\t\t// Find primary matches\n\t\t\t\tif (matcher) {\n\t\t\t\t\tmatcher(matcherIn, matcherOut, context, xml);\n\t\t\t\t}\n\n\t\t\t\t// Apply postFilter\n\t\t\t\tif (postFilter) {\n\t\t\t\t\ttemp = condense(matcherOut, postMap);\n\t\t\t\t\tpostFilter(temp, [], context, xml);\n\n\t\t\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\t\t\ti = temp.length;\n\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\tif (elem = temp[i]) {\n\t\t\t\t\t\t\tmatcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (seed) {\n\t\t\t\t\tif (postFinder || preFilter) {\n\t\t\t\t\t\tif (postFinder) {\n\t\t\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\t\t\ttemp = [];\n\t\t\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\tif (elem = matcherOut[i]) {\n\t\t\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\t\t\ttemp.push(matcherIn[i] = elem);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpostFinder(null, matcherOut = [], temp, xml);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\tif ((elem = matcherOut[i]) && (temp = postFinder ? indexOf.call(seed, elem) : preMap[i]) > -1) {\n\n\t\t\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Add elements to results, through postFinder if defined\n\t\t\t\t} else {\n\t\t\t\t\tmatcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);\n\t\t\t\t\tif (postFinder) {\n\t\t\t\t\t\tpostFinder(null, results, matcherOut, xml);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpush.apply(results, matcherOut);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction matcherFromTokens(tokens) {\n\t\t\tvar checkContext,\n\t\t\t    matcher,\n\t\t\t    j,\n\t\t\t    len = tokens.length,\n\t\t\t    leadingRelative = Expr.relative[tokens[0].type],\n\t\t\t    implicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\t\t    i = leadingRelative ? 1 : 0,\n\n\n\t\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\t\tmatchContext = addCombinator(function (elem) {\n\t\t\t\treturn elem === checkContext;\n\t\t\t}, implicitRelative, true),\n\t\t\t    matchAnyContext = addCombinator(function (elem) {\n\t\t\t\treturn indexOf.call(checkContext, elem) > -1;\n\t\t\t}, implicitRelative, true),\n\t\t\t    matchers = [function (elem, context, xml) {\n\t\t\t\treturn !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));\n\t\t\t}];\n\n\t\t\tfor (; i < len; i++) {\n\t\t\t\tif (matcher = Expr.relative[tokens[i].type]) {\n\t\t\t\t\tmatchers = [addCombinator(elementMatcher(matchers), matcher)];\n\t\t\t\t} else {\n\t\t\t\t\tmatcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);\n\n\t\t\t\t\t// Return special upon seeing a positional matcher\n\t\t\t\t\tif (matcher[expando]) {\n\t\t\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\t\t\tj = ++i;\n\t\t\t\t\t\tfor (; j < len; j++) {\n\t\t\t\t\t\t\tif (Expr.relative[tokens[j].type]) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1)).replace(rtrim, \"$1\"), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens));\n\t\t\t\t\t}\n\t\t\t\t\tmatchers.push(matcher);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn elementMatcher(matchers);\n\t\t}\n\n\t\tfunction matcherFromGroupMatchers(elementMatchers, setMatchers) {\n\t\t\t// A counter to specify which element is currently being matched\n\t\t\tvar matcherCachedRuns = 0,\n\t\t\t    bySet = setMatchers.length > 0,\n\t\t\t    byElement = elementMatchers.length > 0,\n\t\t\t    superMatcher = function superMatcher(seed, context, xml, results, expandContext) {\n\t\t\t\tvar elem,\n\t\t\t\t    j,\n\t\t\t\t    matcher,\n\t\t\t\t    setMatched = [],\n\t\t\t\t    matchedCount = 0,\n\t\t\t\t    i = \"0\",\n\t\t\t\t    unmatched = seed && [],\n\t\t\t\t    outermost = expandContext != null,\n\t\t\t\t    contextBackup = outermostContext,\n\n\t\t\t\t// We must always have either seed elements or context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"](\"*\", expandContext && context.parentNode || context),\n\n\t\t\t\t// Nested matchers should use non-integer dirruns\n\t\t\t\tdirrunsUnique = dirruns += contextBackup == null ? 1 : Math.E;\n\n\t\t\t\tif (outermost) {\n\t\t\t\t\toutermostContext = context !== document && context;\n\t\t\t\t\tcachedruns = matcherCachedRuns;\n\t\t\t\t}\n\n\t\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t\tfor (; (elem = elems[i]) != null; i++) {\n\t\t\t\t\tif (byElement && elem) {\n\t\t\t\t\t\tfor (j = 0; matcher = elementMatchers[j]; j++) {\n\t\t\t\t\t\t\tif (matcher(elem, context, xml)) {\n\t\t\t\t\t\t\t\tresults.push(elem);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (outermost) {\n\t\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t\t\tcachedruns = ++matcherCachedRuns;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\t\tif (bySet) {\n\t\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\t\tif (elem = !matcher && elem) {\n\t\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\t\tif (seed) {\n\t\t\t\t\t\t\tunmatched.push(elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply set filters to unmatched elements\n\t\t\t\t// `i` starts as a string, so matchedCount would equal \"00\" if there are no elements\n\t\t\t\tmatchedCount += i;\n\t\t\t\tif (bySet && i !== matchedCount) {\n\t\t\t\t\tfor (j = 0; matcher = setMatchers[j]; j++) {\n\t\t\t\t\t\tmatcher(unmatched, setMatched, context, xml);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (seed) {\n\t\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\t\tif (matchedCount > 0) {\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\tif (!(unmatched[i] || setMatched[i])) {\n\t\t\t\t\t\t\t\t\tsetMatched[i] = pop.call(results);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\t\tsetMatched = condense(setMatched);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Add matches to results\n\t\t\t\t\tpush.apply(results, setMatched);\n\n\t\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\t\tif (outermost && !seed && setMatched.length > 0 && matchedCount + setMatchers.length > 1) {\n\n\t\t\t\t\t\tSizzle.uniqueSort(results);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override manipulation of globals by nested matchers\n\t\t\t\tif (outermost) {\n\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\toutermostContext = contextBackup;\n\t\t\t\t}\n\n\t\t\t\treturn unmatched;\n\t\t\t};\n\n\t\t\treturn bySet ? markFunction(superMatcher) : superMatcher;\n\t\t}\n\n\t\tcompile = Sizzle.compile = function (selector, group /* Internal Use Only */) {\n\t\t\tvar i,\n\t\t\t    setMatchers = [],\n\t\t\t    elementMatchers = [],\n\t\t\t    cached = compilerCache[selector + \" \"];\n\n\t\t\tif (!cached) {\n\t\t\t\t// Generate a function of recursive functions that can be used to check each element\n\t\t\t\tif (!group) {\n\t\t\t\t\tgroup = tokenize(selector);\n\t\t\t\t}\n\t\t\t\ti = group.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tcached = matcherFromTokens(group[i]);\n\t\t\t\t\tif (cached[expando]) {\n\t\t\t\t\t\tsetMatchers.push(cached);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telementMatchers.push(cached);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Cache the compiled function\n\t\t\t\tcached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));\n\t\t\t}\n\t\t\treturn cached;\n\t\t};\n\n\t\tfunction multipleContexts(selector, contexts, results) {\n\t\t\tvar i = 0,\n\t\t\t    len = contexts.length;\n\t\t\tfor (; i < len; i++) {\n\t\t\t\tSizzle(selector, contexts[i], results);\n\t\t\t}\n\t\t\treturn results;\n\t\t}\n\n\t\tfunction select(selector, context, results, seed) {\n\t\t\tvar i,\n\t\t\t    tokens,\n\t\t\t    token,\n\t\t\t    type,\n\t\t\t    find,\n\t\t\t    match = tokenize(selector);\n\n\t\t\tif (!seed) {\n\t\t\t\t// Try to minimize operations if there is only one group\n\t\t\t\tif (match.length === 1) {\n\n\t\t\t\t\t// Take a shortcut and set the context if the root selector is an ID\n\t\t\t\t\ttokens = match[0] = match[0].slice(0);\n\t\t\t\t\tif (tokens.length > 2 && (token = tokens[0]).type === \"ID\" && context.nodeType === 9 && !documentIsXML && Expr.relative[tokens[1].type]) {\n\n\t\t\t\t\t\tcontext = Expr.find[\"ID\"](token.matches[0].replace(runescape, funescape), context)[0];\n\t\t\t\t\t\tif (!context) {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tselector = selector.slice(tokens.shift().value.length);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fetch a seed set for right-to-left matching\n\t\t\t\t\tfor (i = matchExpr[\"needsContext\"].test(selector) ? -1 : tokens.length - 1; i >= 0; i--) {\n\t\t\t\t\t\ttoken = tokens[i];\n\n\t\t\t\t\t\t// Abort if we hit a combinator\n\t\t\t\t\t\tif (Expr.relative[type = token.type]) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (find = Expr.find[type]) {\n\t\t\t\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\t\t\t\tif (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && context.parentNode || context)) {\n\n\t\t\t\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\t\t\t\ttokens.splice(i, 1);\n\t\t\t\t\t\t\t\tselector = seed.length && toSelector(tokens);\n\t\t\t\t\t\t\t\tif (!selector) {\n\t\t\t\t\t\t\t\t\tpush.apply(results, slice.call(seed, 0));\n\t\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Compile and execute a filtering function\n\t\t\t// Provide `match` to avoid retokenization if we modified the selector above\n\t\t\tcompile(selector, match)(seed, context, documentIsXML, results, rsibling.test(selector));\n\t\t\treturn results;\n\t\t}\n\n\t\t// Deprecated\n\t\tExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n\t\t// Easy API for creating new setFilters\n\t\tfunction setFilters() {}\n\t\tExpr.filters = setFilters.prototype = Expr.pseudos;\n\t\tExpr.setFilters = new setFilters();\n\n\t\t// Initialize with the default document\n\t\tsetDocument();\n\n\t\t// Override sizzle attribute retrieval\n\t\tSizzle.attr = jQuery.attr;\n\t\tjQuery.find = Sizzle;\n\t\tjQuery.expr = Sizzle.selectors;\n\t\tjQuery.expr[\":\"] = jQuery.expr.pseudos;\n\t\tjQuery.unique = Sizzle.uniqueSort;\n\t\tjQuery.text = Sizzle.getText;\n\t\tjQuery.isXMLDoc = Sizzle.isXML;\n\t\tjQuery.contains = Sizzle.contains;\n\t})(window);\n\tvar runtil = /Until$/,\n\t    rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\t    isSimple = /^.[^:#\\[\\.,]*$/,\n\t    rneedsContext = jQuery.expr.match.needsContext,\n\n\t// methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\n\tjQuery.fn.extend({\n\t\tfind: function find(selector) {\n\t\t\tvar i, ret, self;\n\n\t\t\tif (typeof selector !== \"string\") {\n\t\t\t\tself = this;\n\t\t\t\treturn this.pushStack(jQuery(selector).filter(function () {\n\t\t\t\t\tfor (i = 0; i < self.length; i++) {\n\t\t\t\t\t\tif (jQuery.contains(self[i], this)) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\n\t\t\tret = [];\n\t\t\tfor (i = 0; i < this.length; i++) {\n\t\t\t\tjQuery.find(selector, this[i], ret);\n\t\t\t}\n\n\t\t\t// Needed because $( selector, context ) becomes $( context ).find( selector )\n\t\t\tret = this.pushStack(jQuery.unique(ret));\n\t\t\tret.selector = (this.selector ? this.selector + \" \" : \"\") + selector;\n\t\t\treturn ret;\n\t\t},\n\n\t\thas: function has(target) {\n\t\t\tvar i,\n\t\t\t    targets = jQuery(target, this),\n\t\t\t    len = targets.length;\n\n\t\t\treturn this.filter(function () {\n\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\tif (jQuery.contains(this, targets[i])) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tnot: function not(selector) {\n\t\t\treturn this.pushStack(winnow(this, selector, false));\n\t\t},\n\n\t\tfilter: function filter(selector) {\n\t\t\treturn this.pushStack(winnow(this, selector, true));\n\t\t},\n\n\t\tis: function is(selector) {\n\t\t\treturn !!selector && (typeof selector === \"string\" ?\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\trneedsContext.test(selector) ? jQuery(selector, this.context).index(this[0]) >= 0 : jQuery.filter(selector, this).length > 0 : this.filter(selector).length > 0);\n\t\t},\n\n\t\tclosest: function closest(selectors, context) {\n\t\t\tvar cur,\n\t\t\t    i = 0,\n\t\t\t    l = this.length,\n\t\t\t    ret = [],\n\t\t\t    pos = rneedsContext.test(selectors) || typeof selectors !== \"string\" ? jQuery(selectors, context || this.context) : 0;\n\n\t\t\tfor (; i < l; i++) {\n\t\t\t\tcur = this[i];\n\n\t\t\t\twhile (cur && cur.ownerDocument && cur !== context && cur.nodeType !== 11) {\n\t\t\t\t\tif (pos ? pos.index(cur) > -1 : jQuery.find.matchesSelector(cur, selectors)) {\n\t\t\t\t\t\tret.push(cur);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcur = cur.parentNode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.pushStack(ret.length > 1 ? jQuery.unique(ret) : ret);\n\t\t},\n\n\t\t// Determine the position of an element within\n\t\t// the matched set of elements\n\t\tindex: function index(elem) {\n\n\t\t\t// No argument, return index in parent\n\t\t\tif (!elem) {\n\t\t\t\treturn this[0] && this[0].parentNode ? this.first().prevAll().length : -1;\n\t\t\t}\n\n\t\t\t// index in selector\n\t\t\tif (typeof elem === \"string\") {\n\t\t\t\treturn jQuery.inArray(this[0], jQuery(elem));\n\t\t\t}\n\n\t\t\t// Locate the position of the desired element\n\t\t\treturn jQuery.inArray(\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[0] : elem, this);\n\t\t},\n\n\t\tadd: function add(selector, context) {\n\t\t\tvar set = typeof selector === \"string\" ? jQuery(selector, context) : jQuery.makeArray(selector && selector.nodeType ? [selector] : selector),\n\t\t\t    all = jQuery.merge(this.get(), set);\n\n\t\t\treturn this.pushStack(jQuery.unique(all));\n\t\t},\n\n\t\taddBack: function addBack(selector) {\n\t\t\treturn this.add(selector == null ? this.prevObject : this.prevObject.filter(selector));\n\t\t}\n\t});\n\n\tjQuery.fn.andSelf = jQuery.fn.addBack;\n\n\tfunction sibling(cur, dir) {\n\t\tdo {\n\t\t\tcur = cur[dir];\n\t\t} while (cur && cur.nodeType !== 1);\n\n\t\treturn cur;\n\t}\n\n\tjQuery.each({\n\t\tparent: function parent(elem) {\n\t\t\tvar parent = elem.parentNode;\n\t\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t\t},\n\t\tparents: function parents(elem) {\n\t\t\treturn jQuery.dir(elem, \"parentNode\");\n\t\t},\n\t\tparentsUntil: function parentsUntil(elem, i, until) {\n\t\t\treturn jQuery.dir(elem, \"parentNode\", until);\n\t\t},\n\t\tnext: function next(elem) {\n\t\t\treturn sibling(elem, \"nextSibling\");\n\t\t},\n\t\tprev: function prev(elem) {\n\t\t\treturn sibling(elem, \"previousSibling\");\n\t\t},\n\t\tnextAll: function nextAll(elem) {\n\t\t\treturn jQuery.dir(elem, \"nextSibling\");\n\t\t},\n\t\tprevAll: function prevAll(elem) {\n\t\t\treturn jQuery.dir(elem, \"previousSibling\");\n\t\t},\n\t\tnextUntil: function nextUntil(elem, i, until) {\n\t\t\treturn jQuery.dir(elem, \"nextSibling\", until);\n\t\t},\n\t\tprevUntil: function prevUntil(elem, i, until) {\n\t\t\treturn jQuery.dir(elem, \"previousSibling\", until);\n\t\t},\n\t\tsiblings: function siblings(elem) {\n\t\t\treturn jQuery.sibling((elem.parentNode || {}).firstChild, elem);\n\t\t},\n\t\tchildren: function children(elem) {\n\t\t\treturn jQuery.sibling(elem.firstChild);\n\t\t},\n\t\tcontents: function contents(elem) {\n\t\t\treturn jQuery.nodeName(elem, \"iframe\") ? elem.contentDocument || elem.contentWindow.document : jQuery.merge([], elem.childNodes);\n\t\t}\n\t}, function (name, fn) {\n\t\tjQuery.fn[name] = function (until, selector) {\n\t\t\tvar ret = jQuery.map(this, fn, until);\n\n\t\t\tif (!runtil.test(name)) {\n\t\t\t\tselector = until;\n\t\t\t}\n\n\t\t\tif (selector && typeof selector === \"string\") {\n\t\t\t\tret = jQuery.filter(selector, ret);\n\t\t\t}\n\n\t\t\tret = this.length > 1 && !guaranteedUnique[name] ? jQuery.unique(ret) : ret;\n\n\t\t\tif (this.length > 1 && rparentsprev.test(name)) {\n\t\t\t\tret = ret.reverse();\n\t\t\t}\n\n\t\t\treturn this.pushStack(ret);\n\t\t};\n\t});\n\n\tjQuery.extend({\n\t\tfilter: function filter(expr, elems, not) {\n\t\t\tif (not) {\n\t\t\t\texpr = \":not(\" + expr + \")\";\n\t\t\t}\n\n\t\t\treturn elems.length === 1 ? jQuery.find.matchesSelector(elems[0], expr) ? [elems[0]] : [] : jQuery.find.matches(expr, elems);\n\t\t},\n\n\t\tdir: function dir(elem, _dir, until) {\n\t\t\tvar matched = [],\n\t\t\t    cur = elem[_dir];\n\n\t\t\twhile (cur && cur.nodeType !== 9 && (until === undefined || cur.nodeType !== 1 || !jQuery(cur).is(until))) {\n\t\t\t\tif (cur.nodeType === 1) {\n\t\t\t\t\tmatched.push(cur);\n\t\t\t\t}\n\t\t\t\tcur = cur[_dir];\n\t\t\t}\n\t\t\treturn matched;\n\t\t},\n\n\t\tsibling: function sibling(n, elem) {\n\t\t\tvar r = [];\n\n\t\t\tfor (; n; n = n.nextSibling) {\n\t\t\t\tif (n.nodeType === 1 && n !== elem) {\n\t\t\t\t\tr.push(n);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn r;\n\t\t}\n\t});\n\n\t// Implement the identical functionality for filter and not\n\tfunction winnow(elements, qualifier, keep) {\n\n\t\t// Can't pass null or undefined to indexOf in Firefox 4\n\t\t// Set to 0 to skip string check\n\t\tqualifier = qualifier || 0;\n\n\t\tif (jQuery.isFunction(qualifier)) {\n\t\t\treturn jQuery.grep(elements, function (elem, i) {\n\t\t\t\tvar retVal = !!qualifier.call(elem, i, elem);\n\t\t\t\treturn retVal === keep;\n\t\t\t});\n\t\t} else if (qualifier.nodeType) {\n\t\t\treturn jQuery.grep(elements, function (elem) {\n\t\t\t\treturn elem === qualifier === keep;\n\t\t\t});\n\t\t} else if (typeof qualifier === \"string\") {\n\t\t\tvar filtered = jQuery.grep(elements, function (elem) {\n\t\t\t\treturn elem.nodeType === 1;\n\t\t\t});\n\n\t\t\tif (isSimple.test(qualifier)) {\n\t\t\t\treturn jQuery.filter(qualifier, filtered, !keep);\n\t\t\t} else {\n\t\t\t\tqualifier = jQuery.filter(qualifier, filtered);\n\t\t\t}\n\t\t}\n\n\t\treturn jQuery.grep(elements, function (elem) {\n\t\t\treturn jQuery.inArray(elem, qualifier) >= 0 === keep;\n\t\t});\n\t}\n\tfunction createSafeFragment(document) {\n\t\tvar list = nodeNames.split(\"|\"),\n\t\t    safeFrag = document.createDocumentFragment();\n\n\t\tif (safeFrag.createElement) {\n\t\t\twhile (list.length) {\n\t\t\t\tsafeFrag.createElement(list.pop());\n\t\t\t}\n\t\t}\n\t\treturn safeFrag;\n\t}\n\n\tvar nodeNames = \"abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|\" + \"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\",\n\t    rinlinejQuery = / jQuery\\d+=\"(?:null|\\d+)\"/g,\n\t    rnoshimcache = new RegExp(\"<(?:\" + nodeNames + \")[\\\\s/>]\", \"i\"),\n\t    rleadingWhitespace = /^\\s+/,\n\t    rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,\n\t    rtagName = /<([\\w:]+)/,\n\t    rtbody = /<tbody/i,\n\t    rhtml = /<|&#?\\w+;/,\n\t    rnoInnerhtml = /<(?:script|style|link)/i,\n\t    manipulation_rcheckableType = /^(?:checkbox|radio)$/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\t    rscriptType = /^$|\\/(?:java|ecma)script/i,\n\t    rscriptTypeMasked = /^true\\/(.*)/,\n\t    rcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,\n\n\n\t// We have to close these tags to support XHTML (#13200)\n\twrapMap = {\n\t\toption: [1, \"<select multiple='multiple'>\", \"</select>\"],\n\t\tlegend: [1, \"<fieldset>\", \"</fieldset>\"],\n\t\tarea: [1, \"<map>\", \"</map>\"],\n\t\tparam: [1, \"<object>\", \"</object>\"],\n\t\tthead: [1, \"<table>\", \"</table>\"],\n\t\ttr: [2, \"<table><tbody>\", \"</tbody></table>\"],\n\t\tcol: [2, \"<table><tbody></tbody><colgroup>\", \"</colgroup></table>\"],\n\t\ttd: [3, \"<table><tbody><tr>\", \"</tr></tbody></table>\"],\n\n\t\t// IE6-8 can't serialize link, script, style, or any html5 (NoScope) tags,\n\t\t// unless wrapped in a div with non-breaking characters in front of it.\n\t\t_default: jQuery.support.htmlSerialize ? [0, \"\", \"\"] : [1, \"X<div>\", \"</div>\"]\n\t},\n\t    safeFragment = createSafeFragment(document),\n\t    fragmentDiv = safeFragment.appendChild(document.createElement(\"div\"));\n\n\twrapMap.optgroup = wrapMap.option;\n\twrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\n\twrapMap.th = wrapMap.td;\n\n\tjQuery.fn.extend({\n\t\ttext: function text(value) {\n\t\t\treturn jQuery.access(this, function (value) {\n\t\t\t\treturn value === undefined ? jQuery.text(this) : this.empty().appendChild((this[0] && this[0].ownerDocument || document).createTextNode(value));\n\t\t\t}, null, value, arguments.length);\n\t\t},\n\n\t\twrapAll: function wrapAll(html) {\n\t\t\tif (jQuery.isFunction(html)) {\n\t\t\t\treturn this.each(function (i) {\n\t\t\t\t\tjQuery(this).wrapAll(html.call(this, i));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this[0]) {\n\t\t\t\t// The elements to wrap the target around\n\t\t\t\tvar wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(true);\n\n\t\t\t\tif (this[0].parentNode) {\n\t\t\t\t\twrap.insertBefore(this[0]);\n\t\t\t\t}\n\n\t\t\t\twrap.map(function () {\n\t\t\t\t\tvar elem = this;\n\n\t\t\t\t\twhile (elem.firstChild && elem.firstChild.nodeType === 1) {\n\t\t\t\t\t\telem = elem.firstChild;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn elem;\n\t\t\t\t}).appendChild(this);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\twrapInner: function wrapInner(html) {\n\t\t\tif (jQuery.isFunction(html)) {\n\t\t\t\treturn this.each(function (i) {\n\t\t\t\t\tjQuery(this).wrapInner(html.call(this, i));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.each(function () {\n\t\t\t\tvar self = jQuery(this),\n\t\t\t\t    contents = self.contents();\n\n\t\t\t\tif (contents.length) {\n\t\t\t\t\tcontents.wrapAll(html);\n\t\t\t\t} else {\n\t\t\t\t\tself.appendChild(html);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\twrap: function wrap(html) {\n\t\t\tvar isFunction = jQuery.isFunction(html);\n\n\t\t\treturn this.each(function (i) {\n\t\t\t\tjQuery(this).wrapAll(isFunction ? html.call(this, i) : html);\n\t\t\t});\n\t\t},\n\n\t\tunwrap: function unwrap() {\n\t\t\treturn this.parent().each(function () {\n\t\t\t\tif (!jQuery.nodeName(this, \"body\")) {\n\t\t\t\t\tjQuery(this).replaceWith(this.childNodes);\n\t\t\t\t}\n\t\t\t}).end();\n\t\t},\n\n\t\tappend: function append() {\n\t\t\treturn this.domManip(arguments, true, function (elem) {\n\t\t\t\tif (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n\t\t\t\t\tthis.appendChild(elem);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tprepend: function prepend() {\n\t\t\treturn this.domManip(arguments, true, function (elem) {\n\t\t\t\tif (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n\t\t\t\t\tthis.insertBefore(elem, this.firstChild);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tbefore: function before() {\n\t\t\treturn this.domManip(arguments, false, function (elem) {\n\t\t\t\tif (this.parentNode) {\n\t\t\t\t\tthis.parentNode.insertBefore(elem, this);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tafter: function after() {\n\t\t\treturn this.domManip(arguments, false, function (elem) {\n\t\t\t\tif (this.parentNode) {\n\t\t\t\t\tthis.parentNode.insertBefore(elem, this.nextSibling);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// keepData is for internal use only--do not document\n\t\tremove: function remove(selector, keepData) {\n\t\t\tvar elem,\n\t\t\t    i = 0;\n\n\t\t\tfor (; (elem = this[i]) != null; i++) {\n\t\t\t\tif (!selector || jQuery.filter(selector, [elem]).length > 0) {\n\t\t\t\t\tif (!keepData && elem.nodeType === 1) {\n\t\t\t\t\t\tjQuery.cleanData(getAll(elem));\n\t\t\t\t\t}\n\n\t\t\t\t\tif (elem.parentNode) {\n\t\t\t\t\t\tif (keepData && jQuery.contains(elem.ownerDocument, elem)) {\n\t\t\t\t\t\t\tsetGlobalEval(getAll(elem, \"script\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telem.parentNode.removeChild(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\tempty: function empty() {\n\t\t\tvar elem,\n\t\t\t    i = 0;\n\n\t\t\tfor (; (elem = this[i]) != null; i++) {\n\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\tif (elem.nodeType === 1) {\n\t\t\t\t\tjQuery.cleanData(getAll(elem, false));\n\t\t\t\t}\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\twhile (elem.firstChild) {\n\t\t\t\t\telem.removeChild(elem.firstChild);\n\t\t\t\t}\n\n\t\t\t\t// If this is a select, ensure that it displays empty (#12336)\n\t\t\t\t// Support: IE<9\n\t\t\t\tif (elem.options && jQuery.nodeName(elem, \"select\")) {\n\t\t\t\t\telem.options.length = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\tclone: function clone(dataAndEvents, deepDataAndEvents) {\n\t\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\t\treturn this.map(function () {\n\t\t\t\treturn jQuery.clone(this, dataAndEvents, deepDataAndEvents);\n\t\t\t});\n\t\t},\n\n\t\thtml: function html(value) {\n\t\t\treturn jQuery.access(this, function (value) {\n\t\t\t\tvar elem = this[0] || {},\n\t\t\t\t    i = 0,\n\t\t\t\t    l = this.length;\n\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\treturn elem.nodeType === 1 ? elem.innerHTML.replace(rinlinejQuery, \"\") : undefined;\n\t\t\t\t}\n\n\t\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\t\tif (typeof value === \"string\" && !rnoInnerhtml.test(value) && (jQuery.support.htmlSerialize || !rnoshimcache.test(value)) && (jQuery.support.leadingWhitespace || !rleadingWhitespace.test(value)) && !wrapMap[(rtagName.exec(value) || [\"\", \"\"])[1].toLowerCase()]) {\n\n\t\t\t\t\tvalue = value.replace(rxhtmlTag, \"<$1></$2>\");\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\t\telem = this[i] || {};\n\t\t\t\t\t\t\tif (elem.nodeType === 1) {\n\t\t\t\t\t\t\t\tjQuery.cleanData(getAll(elem, false));\n\t\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telem = 0;\n\n\t\t\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\n\t\t\t\tif (elem) {\n\t\t\t\t\tthis.empty().appendChild(value);\n\t\t\t\t}\n\t\t\t}, null, value, arguments.length);\n\t\t},\n\n\t\treplaceWith: function replaceWith(value) {\n\t\t\tvar isFunc = jQuery.isFunction(value);\n\n\t\t\t// Make sure that the elements are removed from the DOM before they are inserted\n\t\t\t// this can help fix replacing a parent with child elements\n\t\t\tif (!isFunc && typeof value !== \"string\") {\n\t\t\t\tvalue = jQuery(value).not(this).detach();\n\t\t\t}\n\n\t\t\treturn this.domManip([value], true, function (elem) {\n\t\t\t\tvar next = this.nextSibling,\n\t\t\t\t    parent = this.parentNode;\n\n\t\t\t\tif (parent && this.nodeType === 1 || this.nodeType === 11) {\n\n\t\t\t\t\tjQuery(this).remove();\n\n\t\t\t\t\tif (next) {\n\t\t\t\t\t\tnext.parentNode.insertBefore(elem, next);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparent.appendChild(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tdetach: function detach(selector) {\n\t\t\treturn this.remove(selector, true);\n\t\t},\n\n\t\tdomManip: function domManip(args, table, callback) {\n\n\t\t\t// Flatten any nested arrays\n\t\t\targs = core_concat.apply([], args);\n\n\t\t\tvar fragment,\n\t\t\t    first,\n\t\t\t    scripts,\n\t\t\t    hasScripts,\n\t\t\t    node,\n\t\t\t    doc,\n\t\t\t    i = 0,\n\t\t\t    l = this.length,\n\t\t\t    set = this,\n\t\t\t    iNoClone = l - 1,\n\t\t\t    value = args[0],\n\t\t\t    isFunction = jQuery.isFunction(value);\n\n\t\t\t// We can't cloneNode fragments that contain checked, in WebKit\n\t\t\tif (isFunction || !(l <= 1 || typeof value !== \"string\" || jQuery.support.checkClone || !rchecked.test(value))) {\n\t\t\t\treturn this.each(function (index) {\n\t\t\t\t\tvar self = set.eq(index);\n\t\t\t\t\tif (isFunction) {\n\t\t\t\t\t\targs[0] = value.call(this, index, table ? self.html() : undefined);\n\t\t\t\t\t}\n\t\t\t\t\tself.domManip(args, table, callback);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (l) {\n\t\t\t\tfragment = jQuery.buildFragment(args, this[0].ownerDocument, false, this);\n\t\t\t\tfirst = fragment.firstChild;\n\n\t\t\t\tif (fragment.childNodes.length === 1) {\n\t\t\t\t\tfragment = first;\n\t\t\t\t}\n\n\t\t\t\tif (first) {\n\t\t\t\t\ttable = table && jQuery.nodeName(first, \"tr\");\n\t\t\t\t\tscripts = jQuery.map(getAll(fragment, \"script\"), disableScript);\n\t\t\t\t\thasScripts = scripts.length;\n\n\t\t\t\t\t// Use the original fragment for the last item instead of the first because it can end up\n\t\t\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\t\tnode = fragment;\n\n\t\t\t\t\t\tif (i !== iNoClone) {\n\t\t\t\t\t\t\tnode = jQuery.clone(node, true, true);\n\n\t\t\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\t\t\tif (hasScripts) {\n\t\t\t\t\t\t\t\tjQuery.merge(scripts, getAll(node, \"script\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcallback.call(table && jQuery.nodeName(this[i], \"table\") ? findOrAppend(this[i], \"tbody\") : this[i], node, i);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (hasScripts) {\n\t\t\t\t\t\tdoc = scripts[scripts.length - 1].ownerDocument;\n\n\t\t\t\t\t\t// Reenable scripts\n\t\t\t\t\t\tjQuery.map(scripts, restoreScript);\n\n\t\t\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\t\t\tfor (i = 0; i < hasScripts; i++) {\n\t\t\t\t\t\t\tnode = scripts[i];\n\t\t\t\t\t\t\tif (rscriptType.test(node.type || \"\") && !jQuery._data(node, \"globalEval\") && jQuery.contains(doc, node)) {\n\n\t\t\t\t\t\t\t\tif (node.src) {\n\t\t\t\t\t\t\t\t\t// Hope ajax is available...\n\t\t\t\t\t\t\t\t\tjQuery.ajax({\n\t\t\t\t\t\t\t\t\t\turl: node.src,\n\t\t\t\t\t\t\t\t\t\ttype: \"GET\",\n\t\t\t\t\t\t\t\t\t\tdataType: \"script\",\n\t\t\t\t\t\t\t\t\t\tasync: false,\n\t\t\t\t\t\t\t\t\t\tglobal: false,\n\t\t\t\t\t\t\t\t\t\t\"throws\": true\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tjQuery.globalEval((node.text || node.textContent || node.innerHTML || \"\").replace(rcleanScript, \"\"));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fix #11809: Avoid leaking memory\n\t\t\t\t\tfragment = first = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\t});\n\n\tfunction findOrAppend(elem, tag) {\n\t\treturn elem.getElementsByTagName(tag)[0] || elem.appendChild(elem.ownerDocument.createElement(tag));\n\t}\n\n\t// Replace/restore the type attribute of script elements for safe DOM manipulation\n\tfunction disableScript(elem) {\n\t\tvar attr = elem.getAttributeNode(\"type\");\n\t\telem.type = (attr && attr.specified) + \"/\" + elem.type;\n\t\treturn elem;\n\t}\n\tfunction restoreScript(elem) {\n\t\tvar match = rscriptTypeMasked.exec(elem.type);\n\t\tif (match) {\n\t\t\telem.type = match[1];\n\t\t} else {\n\t\t\telem.removeAttribute(\"type\");\n\t\t}\n\t\treturn elem;\n\t}\n\n\t// Mark scripts as having already been evaluated\n\tfunction setGlobalEval(elems, refElements) {\n\t\tvar elem,\n\t\t    i = 0;\n\t\tfor (; (elem = elems[i]) != null; i++) {\n\t\t\tjQuery._data(elem, \"globalEval\", !refElements || jQuery._data(refElements[i], \"globalEval\"));\n\t\t}\n\t}\n\n\tfunction cloneCopyEvent(src, dest) {\n\n\t\tif (dest.nodeType !== 1 || !jQuery.hasData(src)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar type,\n\t\t    i,\n\t\t    l,\n\t\t    oldData = jQuery._data(src),\n\t\t    curData = jQuery._data(dest, oldData),\n\t\t    events = oldData.events;\n\n\t\tif (events) {\n\t\t\tdelete curData.handle;\n\t\t\tcurData.events = {};\n\n\t\t\tfor (type in events) {\n\t\t\t\tfor (i = 0, l = events[type].length; i < l; i++) {\n\t\t\t\t\tjQuery.event.add(dest, type, events[type][i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// make the cloned public data object a copy from the original\n\t\tif (curData.data) {\n\t\t\tcurData.data = jQuery.extend({}, curData.data);\n\t\t}\n\t}\n\n\tfunction fixCloneNodeIssues(src, dest) {\n\t\tvar nodeName, data, e;\n\n\t\t// We do not need to do anything for non-Elements\n\t\tif (dest.nodeType !== 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tnodeName = dest.nodeName.toLowerCase();\n\n\t\t// IE6-8 copies events bound via attachEvent when using cloneNode.\n\t\tif (!jQuery.support.noCloneEvent && dest[jQuery.expando]) {\n\t\t\tdata = jQuery._data(dest);\n\n\t\t\tfor (e in data.events) {\n\t\t\t\tjQuery.removeEvent(dest, e, data.handle);\n\t\t\t}\n\n\t\t\t// Event data gets referenced instead of copied if the expando gets copied too\n\t\t\tdest.removeAttribute(jQuery.expando);\n\t\t}\n\n\t\t// IE blanks contents when cloning scripts, and tries to evaluate newly-set text\n\t\tif (nodeName === \"script\" && dest.text !== src.text) {\n\t\t\tdisableScript(dest).text = src.text;\n\t\t\trestoreScript(dest);\n\n\t\t\t// IE6-10 improperly clones children of object elements using classid.\n\t\t\t// IE10 throws NoModificationAllowedError if parent is null, #12132.\n\t\t} else if (nodeName === \"object\") {\n\t\t\tif (dest.parentNode) {\n\t\t\t\tdest.outerHTML = src.outerHTML;\n\t\t\t}\n\n\t\t\t// This path appears unavoidable for IE9. When cloning an object\n\t\t\t// element in IE9, the outerHTML strategy above is not sufficient.\n\t\t\t// If the src has innerHTML and the destination does not,\n\t\t\t// copy the src.innerHTML into the dest.innerHTML. #10324\n\t\t\tif (jQuery.support.html5Clone && src.innerHTML && !jQuery.trim(dest.innerHTML)) {\n\t\t\t\tdest.innerHTML = src.innerHTML;\n\t\t\t}\n\t\t} else if (nodeName === \"input\" && manipulation_rcheckableType.test(src.type)) {\n\t\t\t// IE6-8 fails to persist the checked state of a cloned checkbox\n\t\t\t// or radio button. Worse, IE6-7 fail to give the cloned element\n\t\t\t// a checked appearance if the defaultChecked value isn't also set\n\n\t\t\tdest.defaultChecked = dest.checked = src.checked;\n\n\t\t\t// IE6-7 get confused and end up setting the value of a cloned\n\t\t\t// checkbox/radio button to an empty string instead of \"on\"\n\t\t\tif (dest.value !== src.value) {\n\t\t\t\tdest.value = src.value;\n\t\t\t}\n\n\t\t\t// IE6-8 fails to return the selected option to the default selected\n\t\t\t// state when cloning options\n\t\t} else if (nodeName === \"option\") {\n\t\t\tdest.defaultSelected = dest.selected = src.defaultSelected;\n\n\t\t\t// IE6-8 fails to set the defaultValue to the correct value when\n\t\t\t// cloning other types of input fields\n\t\t} else if (nodeName === \"input\" || nodeName === \"textarea\") {\n\t\t\tdest.defaultValue = src.defaultValue;\n\t\t}\n\t}\n\n\tjQuery.each({\n\t\tappendTo: \"append\",\n\t\tprependTo: \"prepend\",\n\t\tinsertBefore: \"before\",\n\t\tinsertAfter: \"after\",\n\t\treplaceAll: \"replaceWith\"\n\t}, function (name, original) {\n\t\tjQuery.fn[name] = function (selector) {\n\t\t\tvar elems,\n\t\t\t    i = 0,\n\t\t\t    ret = [],\n\t\t\t    insert = jQuery(selector),\n\t\t\t    last = insert.length - 1;\n\n\t\t\tfor (; i <= last; i++) {\n\t\t\t\telems = i === last ? this : this.clone(true);\n\t\t\t\tjQuery(insert[i])[original](elems);\n\n\t\t\t\t// Modern browsers can apply jQuery collections as arrays, but oldIE needs a .get()\n\t\t\t\tcore_push.apply(ret, elems.get());\n\t\t\t}\n\n\t\t\treturn this.pushStack(ret);\n\t\t};\n\t});\n\n\tfunction getAll(context, tag) {\n\t\tvar elems,\n\t\t    elem,\n\t\t    i = 0,\n\t\t    found = typeof context.getElementsByTagName !== \"undefined\" ? context.getElementsByTagName(tag || \"*\") : typeof context.querySelectorAll !== \"undefined\" ? context.querySelectorAll(tag || \"*\") : undefined;\n\n\t\tif (!found) {\n\t\t\tfor (found = [], elems = context.childNodes || context; (elem = elems[i]) != null; i++) {\n\t\t\t\tif (!tag || jQuery.nodeName(elem, tag)) {\n\t\t\t\t\tfound.push(elem);\n\t\t\t\t} else {\n\t\t\t\t\tjQuery.merge(found, getAll(elem, tag));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn tag === undefined || tag && jQuery.nodeName(context, tag) ? jQuery.merge([context], found) : found;\n\t}\n\n\t// Used in buildFragment, fixes the defaultChecked property\n\tfunction fixDefaultChecked(elem) {\n\t\tif (manipulation_rcheckableType.test(elem.type)) {\n\t\t\telem.defaultChecked = elem.checked;\n\t\t}\n\t}\n\n\tjQuery.extend({\n\t\tclone: function clone(elem, dataAndEvents, deepDataAndEvents) {\n\t\t\tvar destElements,\n\t\t\t    srcElements,\n\t\t\t    node,\n\t\t\t    i,\n\t\t\t    clone,\n\t\t\t    inPage = jQuery.contains(elem.ownerDocument, elem);\n\n\t\t\tif (jQuery.support.html5Clone || jQuery.isXMLDoc(elem) || !rnoshimcache.test(\"<\" + elem.nodeName + \">\")) {\n\t\t\t\tclone = elem.cloneNode(true);\n\n\t\t\t\t// IE<=8 does not properly clone detached, unknown element nodes\n\t\t\t} else {\n\t\t\t\tfragmentDiv.innerHTML = elem.outerHTML;\n\t\t\t\tfragmentDiv.removeChild(clone = fragmentDiv.firstChild);\n\t\t\t}\n\n\t\t\tif ((!jQuery.support.noCloneEvent || !jQuery.support.noCloneChecked) && (elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem)) {\n\n\t\t\t\t// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2\n\t\t\t\tdestElements = getAll(clone);\n\t\t\t\tsrcElements = getAll(elem);\n\n\t\t\t\t// Fix all IE cloning issues\n\t\t\t\tfor (i = 0; (node = srcElements[i]) != null; ++i) {\n\t\t\t\t\t// Ensure that the destination node is not null; Fixes #9587\n\t\t\t\t\tif (destElements[i]) {\n\t\t\t\t\t\tfixCloneNodeIssues(node, destElements[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Copy the events from the original to the clone\n\t\t\tif (dataAndEvents) {\n\t\t\t\tif (deepDataAndEvents) {\n\t\t\t\t\tsrcElements = srcElements || getAll(elem);\n\t\t\t\t\tdestElements = destElements || getAll(clone);\n\n\t\t\t\t\tfor (i = 0; (node = srcElements[i]) != null; i++) {\n\t\t\t\t\t\tcloneCopyEvent(node, destElements[i]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcloneCopyEvent(elem, clone);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Preserve script evaluation history\n\t\t\tdestElements = getAll(clone, \"script\");\n\t\t\tif (destElements.length > 0) {\n\t\t\t\tsetGlobalEval(destElements, !inPage && getAll(elem, \"script\"));\n\t\t\t}\n\n\t\t\tdestElements = srcElements = node = null;\n\n\t\t\t// Return the cloned set\n\t\t\treturn clone;\n\t\t},\n\n\t\tbuildFragment: function buildFragment(elems, context, scripts, selection) {\n\t\t\tvar contains,\n\t\t\t    elem,\n\t\t\t    tag,\n\t\t\t    tmp,\n\t\t\t    wrap,\n\t\t\t    tbody,\n\t\t\t    j,\n\t\t\t    l = elems.length,\n\n\n\t\t\t// Ensure a safe fragment\n\t\t\tsafe = createSafeFragment(context),\n\t\t\t    nodes = [],\n\t\t\t    i = 0;\n\n\t\t\tfor (; i < l; i++) {\n\t\t\t\telem = elems[i];\n\n\t\t\t\tif (elem || elem === 0) {\n\n\t\t\t\t\t// Add nodes directly\n\t\t\t\t\tif (jQuery.type(elem) === \"object\") {\n\t\t\t\t\t\tjQuery.merge(nodes, elem.nodeType ? [elem] : elem);\n\n\t\t\t\t\t\t// Convert non-html into a text node\n\t\t\t\t\t} else if (!rhtml.test(elem)) {\n\t\t\t\t\t\tnodes.push(context.createTextNode(elem));\n\n\t\t\t\t\t\t// Convert html into DOM nodes\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttmp = tmp || safe.appendChild(context.createElement(\"div\"));\n\n\t\t\t\t\t\t// Deserialize a standard representation\n\t\t\t\t\t\ttag = (rtagName.exec(elem) || [\"\", \"\"])[1].toLowerCase();\n\t\t\t\t\t\twrap = wrapMap[tag] || wrapMap._default;\n\n\t\t\t\t\t\ttmp.innerHTML = wrap[1] + elem.replace(rxhtmlTag, \"<$1></$2>\") + wrap[2];\n\n\t\t\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\t\t\tj = wrap[0];\n\t\t\t\t\t\twhile (j--) {\n\t\t\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Manually add leading whitespace removed by IE\n\t\t\t\t\t\tif (!jQuery.support.leadingWhitespace && rleadingWhitespace.test(elem)) {\n\t\t\t\t\t\t\tnodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0]));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Remove IE's autoinserted <tbody> from table fragments\n\t\t\t\t\t\tif (!jQuery.support.tbody) {\n\n\t\t\t\t\t\t\t// String was a <table>, *may* have spurious <tbody>\n\t\t\t\t\t\t\telem = tag === \"table\" && !rtbody.test(elem) ? tmp.firstChild :\n\n\t\t\t\t\t\t\t// String was a bare <thead> or <tfoot>\n\t\t\t\t\t\t\twrap[1] === \"<table>\" && !rtbody.test(elem) ? tmp : 0;\n\n\t\t\t\t\t\t\tj = elem && elem.childNodes.length;\n\t\t\t\t\t\t\twhile (j--) {\n\t\t\t\t\t\t\t\tif (jQuery.nodeName(tbody = elem.childNodes[j], \"tbody\") && !tbody.childNodes.length) {\n\t\t\t\t\t\t\t\t\telem.removeChild(tbody);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tjQuery.merge(nodes, tmp.childNodes);\n\n\t\t\t\t\t\t// Fix #12392 for WebKit and IE > 9\n\t\t\t\t\t\ttmp.textContent = \"\";\n\n\t\t\t\t\t\t// Fix #12392 for oldIE\n\t\t\t\t\t\twhile (tmp.firstChild) {\n\t\t\t\t\t\t\ttmp.removeChild(tmp.firstChild);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Remember the top-level container for proper cleanup\n\t\t\t\t\t\ttmp = safe.lastChild;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Fix #11356: Clear elements from fragment\n\t\t\tif (tmp) {\n\t\t\t\tsafe.removeChild(tmp);\n\t\t\t}\n\n\t\t\t// Reset defaultChecked for any radios and checkboxes\n\t\t\t// about to be appended to the DOM in IE 6/7 (#8060)\n\t\t\tif (!jQuery.support.appendChecked) {\n\t\t\t\tjQuery.grep(getAll(nodes, \"input\"), fixDefaultChecked);\n\t\t\t}\n\n\t\t\ti = 0;\n\t\t\twhile (elem = nodes[i++]) {\n\n\t\t\t\t// #4087 - If origin and destination elements are the same, and this is\n\t\t\t\t// that element, do not do anything\n\t\t\t\tif (selection && jQuery.inArray(elem, selection) !== -1) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tcontains = jQuery.contains(elem.ownerDocument, elem);\n\n\t\t\t\t// Append to fragment\n\t\t\t\ttmp = getAll(safe.appendChild(elem), \"script\");\n\n\t\t\t\t// Preserve script evaluation history\n\t\t\t\tif (contains) {\n\t\t\t\t\tsetGlobalEval(tmp);\n\t\t\t\t}\n\n\t\t\t\t// Capture executables\n\t\t\t\tif (scripts) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile (elem = tmp[j++]) {\n\t\t\t\t\t\tif (rscriptType.test(elem.type || \"\")) {\n\t\t\t\t\t\t\tscripts.push(elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttmp = null;\n\n\t\t\treturn safe;\n\t\t},\n\n\t\tcleanData: function cleanData(elems, /* internal */acceptData) {\n\t\t\tvar data,\n\t\t\t    id,\n\t\t\t    elem,\n\t\t\t    type,\n\t\t\t    i = 0,\n\t\t\t    internalKey = jQuery.expando,\n\t\t\t    cache = jQuery.cache,\n\t\t\t    deleteExpando = jQuery.support.deleteExpando,\n\t\t\t    special = jQuery.event.special;\n\n\t\t\tfor (; (elem = elems[i]) != null; i++) {\n\n\t\t\t\tif (acceptData || jQuery.acceptData(elem)) {\n\n\t\t\t\t\tid = elem[internalKey];\n\t\t\t\t\tdata = id && cache[id];\n\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tif (data.events) {\n\t\t\t\t\t\t\tfor (type in data.events) {\n\t\t\t\t\t\t\t\tif (special[type]) {\n\t\t\t\t\t\t\t\t\tjQuery.event.remove(elem, type);\n\n\t\t\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tjQuery.removeEvent(elem, type, data.handle);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Remove cache only if it was not already removed by jQuery.event.remove\n\t\t\t\t\t\tif (cache[id]) {\n\n\t\t\t\t\t\t\tdelete cache[id];\n\n\t\t\t\t\t\t\t// IE does not allow us to delete expando properties from nodes,\n\t\t\t\t\t\t\t// nor does it have a removeAttribute function on Document nodes;\n\t\t\t\t\t\t\t// we must handle all of these cases\n\t\t\t\t\t\t\tif (deleteExpando) {\n\t\t\t\t\t\t\t\tdelete elem[internalKey];\n\t\t\t\t\t\t\t} else if (typeof elem.removeAttribute !== \"undefined\") {\n\t\t\t\t\t\t\t\telem.removeAttribute(internalKey);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\telem[internalKey] = null;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcore_deletedIds.push(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\tvar curCSS,\n\t    getStyles,\n\t    iframe,\n\t    ralpha = /alpha\\([^)]*\\)/i,\n\t    ropacity = /opacity\\s*=\\s*([^)]*)/,\n\t    rposition = /^(top|right|bottom|left)$/,\n\n\t// swappable if display is none or starts with table except \"table\", \"table-cell\", or \"table-caption\"\n\t// see here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\t    rmargin = /^margin/,\n\t    rnumsplit = new RegExp(\"^(\" + core_pnum + \")(.*)$\", \"i\"),\n\t    rnumnonpx = new RegExp(\"^(\" + core_pnum + \")(?!px)[a-z%]+$\", \"i\"),\n\t    rrelNum = new RegExp(\"^([+-])=(\" + core_pnum + \")\", \"i\"),\n\t    elemdisplay = { BODY: \"block\" },\n\t    cssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\t    cssNormalTransform = {\n\t\tletterSpacing: 0,\n\t\tfontWeight: 400\n\t},\n\t    cssExpand = [\"Top\", \"Right\", \"Bottom\", \"Left\"],\n\t    cssPrefixes = [\"Webkit\", \"O\", \"Moz\", \"ms\"];\n\n\t// return a css property mapped to a potentially vendor prefixed property\n\tfunction vendorPropName(style, name) {\n\n\t\t// shortcut for names that are not vendor prefixed\n\t\tif (name in style) {\n\t\t\treturn name;\n\t\t}\n\n\t\t// check for vendor prefixed names\n\t\tvar capName = name.charAt(0).toUpperCase() + name.slice(1),\n\t\t    origName = name,\n\t\t    i = cssPrefixes.length;\n\n\t\twhile (i--) {\n\t\t\tname = cssPrefixes[i] + capName;\n\t\t\tif (name in style) {\n\t\t\t\treturn name;\n\t\t\t}\n\t\t}\n\n\t\treturn origName;\n\t}\n\n\tfunction isHidden(elem, el) {\n\t\t// isHidden might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\t\treturn jQuery.css(elem, \"display\") === \"none\" || !jQuery.contains(elem.ownerDocument, elem);\n\t}\n\n\tfunction showHide(elements, show) {\n\t\tvar elem,\n\t\t    values = [],\n\t\t    index = 0,\n\t\t    length = elements.length;\n\n\t\tfor (; index < length; index++) {\n\t\t\telem = elements[index];\n\t\t\tif (!elem.style) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvalues[index] = jQuery._data(elem, \"olddisplay\");\n\t\t\tif (show) {\n\t\t\t\t// Reset the inline display of this element to learn if it is\n\t\t\t\t// being hidden by cascaded rules or not\n\t\t\t\tif (!values[index] && elem.style.display === \"none\") {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\n\t\t\t\t// Set elements which have been overridden with display: none\n\t\t\t\t// in a stylesheet to whatever the default browser style is\n\t\t\t\t// for such an element\n\t\t\t\tif (elem.style.display === \"\" && isHidden(elem)) {\n\t\t\t\t\tvalues[index] = jQuery._data(elem, \"olddisplay\", css_defaultDisplay(elem.nodeName));\n\t\t\t\t}\n\t\t\t} else if (!values[index] && !isHidden(elem)) {\n\t\t\t\tjQuery._data(elem, \"olddisplay\", jQuery.css(elem, \"display\"));\n\t\t\t}\n\t\t}\n\n\t\t// Set the display of most of the elements in a second loop\n\t\t// to avoid the constant reflow\n\t\tfor (index = 0; index < length; index++) {\n\t\t\telem = elements[index];\n\t\t\tif (!elem.style) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (!show || elem.style.display === \"none\" || elem.style.display === \"\") {\n\t\t\t\telem.style.display = show ? values[index] || \"\" : \"none\";\n\t\t\t}\n\t\t}\n\n\t\treturn elements;\n\t}\n\n\tjQuery.fn.extend({\n\t\tcss: function css(name, value) {\n\t\t\treturn jQuery.access(this, function (elem, name, value) {\n\t\t\t\tvar styles,\n\t\t\t\t    len,\n\t\t\t\t    map = {},\n\t\t\t\t    i = 0;\n\n\t\t\t\tif (jQuery.isArray(name)) {\n\t\t\t\t\tstyles = getStyles(elem);\n\t\t\t\t\tlen = name.length;\n\n\t\t\t\t\tfor (; i < len; i++) {\n\t\t\t\t\t\tmap[name[i]] = jQuery.css(elem, name[i], false, styles);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn map;\n\t\t\t\t}\n\n\t\t\t\treturn value !== undefined ? jQuery.style(elem, name, value) : jQuery.css(elem, name);\n\t\t\t}, name, value, arguments.length > 1);\n\t\t},\n\t\tshow: function show() {\n\t\t\treturn showHide(this, true);\n\t\t},\n\t\thide: function hide() {\n\t\t\treturn showHide(this);\n\t\t},\n\t\ttoggle: function toggle(state) {\n\t\t\tvar bool = typeof state === \"boolean\";\n\n\t\t\treturn this.each(function () {\n\t\t\t\tif (bool ? state : isHidden(this)) {\n\t\t\t\t\tjQuery(this).show();\n\t\t\t\t} else {\n\t\t\t\t\tjQuery(this).hide();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tjQuery.extend({\n\t\t// Add in style property hooks for overriding the default\n\t\t// behavior of getting and setting a style property\n\t\tcssHooks: {\n\t\t\topacity: {\n\t\t\t\tget: function get(elem, computed) {\n\t\t\t\t\tif (computed) {\n\t\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\t\tvar ret = curCSS(elem, \"opacity\");\n\t\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Exclude the following css properties to add px\n\t\tcssNumber: {\n\t\t\t\"columnCount\": true,\n\t\t\t\"fillOpacity\": true,\n\t\t\t\"fontWeight\": true,\n\t\t\t\"lineHeight\": true,\n\t\t\t\"opacity\": true,\n\t\t\t\"orphans\": true,\n\t\t\t\"widows\": true,\n\t\t\t\"zIndex\": true,\n\t\t\t\"zoom\": true\n\t\t},\n\n\t\t// Add in properties whose names you wish to fix before\n\t\t// setting or getting the value\n\t\tcssProps: {\n\t\t\t// normalize float css property\n\t\t\t\"float\": jQuery.support.cssFloat ? \"cssFloat\" : \"styleFloat\"\n\t\t},\n\n\t\t// Get and set the style property on a DOM Node\n\t\tstyle: function style(elem, name, value, extra) {\n\t\t\t// Don't set styles on text and comment nodes\n\t\t\tif (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Make sure that we're working with the right name\n\t\t\tvar ret,\n\t\t\t    type,\n\t\t\t    hooks,\n\t\t\t    origName = jQuery.camelCase(name),\n\t\t\t    style = elem.style;\n\n\t\t\tname = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(style, origName));\n\n\t\t\t// gets hook for the prefixed version\n\t\t\t// followed by the unprefixed version\n\t\t\thooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];\n\n\t\t\t// Check if we're setting a value\n\t\t\tif (value !== undefined) {\n\t\t\t\ttype = typeof value === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(value);\n\n\t\t\t\t// convert relative number strings (+= or -=) to relative numbers. #7345\n\t\t\t\tif (type === \"string\" && (ret = rrelNum.exec(value))) {\n\t\t\t\t\tvalue = (ret[1] + 1) * ret[2] + parseFloat(jQuery.css(elem, name));\n\t\t\t\t\t// Fixes bug #9237\n\t\t\t\t\ttype = \"number\";\n\t\t\t\t}\n\n\t\t\t\t// Make sure that NaN and null values aren't set. See: #7116\n\t\t\t\tif (value == null || type === \"number\" && isNaN(value)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// If a number was passed in, add 'px' to the (except for certain CSS properties)\n\t\t\t\tif (type === \"number\" && !jQuery.cssNumber[origName]) {\n\t\t\t\t\tvalue += \"px\";\n\t\t\t\t}\n\n\t\t\t\t// Fixes #8908, it can be done more correctly by specifing setters in cssHooks,\n\t\t\t\t// but it would mean to define eight (for every problematic property) identical functions\n\t\t\t\tif (!jQuery.support.clearCloneStyle && value === \"\" && name.indexOf(\"background\") === 0) {\n\t\t\t\t\tstyle[name] = \"inherit\";\n\t\t\t\t}\n\n\t\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\t\tif (!hooks || !(\"set\" in hooks) || (value = hooks.set(elem, value, extra)) !== undefined) {\n\n\t\t\t\t\t// Wrapped to prevent IE from throwing errors when 'invalid' values are provided\n\t\t\t\t\t// Fixes bug #5509\n\t\t\t\t\ttry {\n\t\t\t\t\t\tstyle[name] = value;\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\t\tif (hooks && \"get\" in hooks && (ret = hooks.get(elem, false, extra)) !== undefined) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\t// Otherwise just get the value from the style object\n\t\t\t\treturn style[name];\n\t\t\t}\n\t\t},\n\n\t\tcss: function css(elem, name, extra, styles) {\n\t\t\tvar val,\n\t\t\t    num,\n\t\t\t    hooks,\n\t\t\t    origName = jQuery.camelCase(name);\n\n\t\t\t// Make sure that we're working with the right name\n\t\t\tname = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(elem.style, origName));\n\n\t\t\t// gets hook for the prefixed version\n\t\t\t// followed by the unprefixed version\n\t\t\thooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];\n\n\t\t\t// If a hook was provided get the computed value from there\n\t\t\tif (hooks && \"get\" in hooks) {\n\t\t\t\tval = hooks.get(elem, true, extra);\n\t\t\t}\n\n\t\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\t\tif (val === undefined) {\n\t\t\t\tval = curCSS(elem, name, styles);\n\t\t\t}\n\n\t\t\t//convert \"normal\" to computed value\n\t\t\tif (val === \"normal\" && name in cssNormalTransform) {\n\t\t\t\tval = cssNormalTransform[name];\n\t\t\t}\n\n\t\t\t// Return, converting to number if forced or a qualifier was provided and val looks numeric\n\t\t\tif (extra) {\n\t\t\t\tnum = parseFloat(val);\n\t\t\t\treturn extra === true || jQuery.isNumeric(num) ? num || 0 : val;\n\t\t\t}\n\t\t\treturn val;\n\t\t},\n\n\t\t// A method for quickly swapping in/out CSS properties to get correct calculations\n\t\tswap: function swap(elem, options, callback, args) {\n\t\t\tvar ret,\n\t\t\t    name,\n\t\t\t    old = {};\n\n\t\t\t// Remember the old values, and insert the new ones\n\t\t\tfor (name in options) {\n\t\t\t\told[name] = elem.style[name];\n\t\t\t\telem.style[name] = options[name];\n\t\t\t}\n\n\t\t\tret = callback.apply(elem, args || []);\n\n\t\t\t// Revert the old values\n\t\t\tfor (name in options) {\n\t\t\t\telem.style[name] = old[name];\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t}\n\t});\n\n\t// NOTE: we've included the \"window\" in window.getComputedStyle\n\t// because jsdom on node.js will break without it.\n\tif (window.getComputedStyle) {\n\t\tgetStyles = function getStyles(elem) {\n\t\t\treturn window.getComputedStyle(elem, null);\n\t\t};\n\n\t\tcurCSS = function curCSS(elem, name, _computed) {\n\t\t\tvar width,\n\t\t\t    minWidth,\n\t\t\t    maxWidth,\n\t\t\t    computed = _computed || getStyles(elem),\n\n\n\t\t\t// getPropertyValue is only needed for .css('filter') in IE9, see #12537\n\t\t\tret = computed ? computed.getPropertyValue(name) || computed[name] : undefined,\n\t\t\t    style = elem.style;\n\n\t\t\tif (computed) {\n\n\t\t\t\tif (ret === \"\" && !jQuery.contains(elem.ownerDocument, elem)) {\n\t\t\t\t\tret = jQuery.style(elem, name);\n\t\t\t\t}\n\n\t\t\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t\t\t// Chrome < 17 and Safari 5.0 uses \"computed value\" instead of \"used value\" for margin-right\n\t\t\t\t// Safari 5.1.7 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels\n\t\t\t\t// this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values\n\t\t\t\tif (rnumnonpx.test(ret) && rmargin.test(name)) {\n\n\t\t\t\t\t// Remember the original values\n\t\t\t\t\twidth = style.width;\n\t\t\t\t\tminWidth = style.minWidth;\n\t\t\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t\t\t// Put in the new values to get a computed value out\n\t\t\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\t\t\tret = computed.width;\n\n\t\t\t\t\t// Revert the changed values\n\t\t\t\t\tstyle.width = width;\n\t\t\t\t\tstyle.minWidth = minWidth;\n\t\t\t\t\tstyle.maxWidth = maxWidth;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t};\n\t} else if (document.documentElement.currentStyle) {\n\t\tgetStyles = function getStyles(elem) {\n\t\t\treturn elem.currentStyle;\n\t\t};\n\n\t\tcurCSS = function curCSS(elem, name, _computed) {\n\t\t\tvar left,\n\t\t\t    rs,\n\t\t\t    rsLeft,\n\t\t\t    computed = _computed || getStyles(elem),\n\t\t\t    ret = computed ? computed[name] : undefined,\n\t\t\t    style = elem.style;\n\n\t\t\t// Avoid setting ret to empty string here\n\t\t\t// so we don't default to auto\n\t\t\tif (ret == null && style && style[name]) {\n\t\t\t\tret = style[name];\n\t\t\t}\n\n\t\t\t// From the awesome hack by Dean Edwards\n\t\t\t// http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n\n\t\t\t// If we're not dealing with a regular pixel number\n\t\t\t// but a number that has a weird ending, we need to convert it to pixels\n\t\t\t// but not position css attributes, as those are proportional to the parent element instead\n\t\t\t// and we can't measure the parent instead because it might trigger a \"stacking dolls\" problem\n\t\t\tif (rnumnonpx.test(ret) && !rposition.test(name)) {\n\n\t\t\t\t// Remember the original values\n\t\t\t\tleft = style.left;\n\t\t\t\trs = elem.runtimeStyle;\n\t\t\t\trsLeft = rs && rs.left;\n\n\t\t\t\t// Put in the new values to get a computed value out\n\t\t\t\tif (rsLeft) {\n\t\t\t\t\trs.left = elem.currentStyle.left;\n\t\t\t\t}\n\t\t\t\tstyle.left = name === \"fontSize\" ? \"1em\" : ret;\n\t\t\t\tret = style.pixelLeft + \"px\";\n\n\t\t\t\t// Revert the changed values\n\t\t\t\tstyle.left = left;\n\t\t\t\tif (rsLeft) {\n\t\t\t\t\trs.left = rsLeft;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn ret === \"\" ? \"auto\" : ret;\n\t\t};\n\t}\n\n\tfunction setPositiveNumber(elem, value, subtract) {\n\t\tvar matches = rnumsplit.exec(value);\n\t\treturn matches ?\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max(0, matches[1] - (subtract || 0)) + (matches[2] || \"px\") : value;\n\t}\n\n\tfunction augmentWidthOrHeight(elem, name, extra, isBorderBox, styles) {\n\t\tvar i = extra === (isBorderBox ? \"border\" : \"content\") ?\n\t\t// If we already have the right measurement, avoid augmentation\n\t\t4 :\n\t\t// Otherwise initialize for horizontal or vertical properties\n\t\tname === \"width\" ? 1 : 0,\n\t\t    val = 0;\n\n\t\tfor (; i < 4; i += 2) {\n\t\t\t// both box models exclude margin, so add it if we want it\n\t\t\tif (extra === \"margin\") {\n\t\t\t\tval += jQuery.css(elem, extra + cssExpand[i], true, styles);\n\t\t\t}\n\n\t\t\tif (isBorderBox) {\n\t\t\t\t// border-box includes padding, so remove it if we want content\n\t\t\t\tif (extra === \"content\") {\n\t\t\t\t\tval -= jQuery.css(elem, \"padding\" + cssExpand[i], true, styles);\n\t\t\t\t}\n\n\t\t\t\t// at this point, extra isn't border nor margin, so remove border\n\t\t\t\tif (extra !== \"margin\") {\n\t\t\t\t\tval -= jQuery.css(elem, \"border\" + cssExpand[i] + \"Width\", true, styles);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// at this point, extra isn't content, so add padding\n\t\t\t\tval += jQuery.css(elem, \"padding\" + cssExpand[i], true, styles);\n\n\t\t\t\t// at this point, extra isn't content nor padding, so add border\n\t\t\t\tif (extra !== \"padding\") {\n\t\t\t\t\tval += jQuery.css(elem, \"border\" + cssExpand[i] + \"Width\", true, styles);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn val;\n\t}\n\n\tfunction getWidthOrHeight(elem, name, extra) {\n\n\t\t// Start with offset property, which is equivalent to the border-box value\n\t\tvar valueIsBorderBox = true,\n\t\t    val = name === \"width\" ? elem.offsetWidth : elem.offsetHeight,\n\t\t    styles = getStyles(elem),\n\t\t    isBorderBox = jQuery.support.boxSizing && jQuery.css(elem, \"boxSizing\", false, styles) === \"border-box\";\n\n\t\t// some non-html elements return undefined for offsetWidth, so check for null/undefined\n\t\t// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285\n\t\t// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668\n\t\tif (val <= 0 || val == null) {\n\t\t\t// Fall back to computed then uncomputed css if necessary\n\t\t\tval = curCSS(elem, name, styles);\n\t\t\tif (val < 0 || val == null) {\n\t\t\t\tval = elem.style[name];\n\t\t\t}\n\n\t\t\t// Computed unit is not pixels. Stop here and return.\n\t\t\tif (rnumnonpx.test(val)) {\n\t\t\t\treturn val;\n\t\t\t}\n\n\t\t\t// we need the check for style in case a browser which returns unreliable values\n\t\t\t// for getComputedStyle silently falls back to the reliable elem.style\n\t\t\tvalueIsBorderBox = isBorderBox && (jQuery.support.boxSizingReliable || val === elem.style[name]);\n\n\t\t\t// Normalize \"\", auto, and prepare for extra\n\t\t\tval = parseFloat(val) || 0;\n\t\t}\n\n\t\t// use the active box-sizing model to add/subtract irrelevant styles\n\t\treturn val + augmentWidthOrHeight(elem, name, extra || (isBorderBox ? \"border\" : \"content\"), valueIsBorderBox, styles) + \"px\";\n\t}\n\n\t// Try to determine the default display value of an element\n\tfunction css_defaultDisplay(nodeName) {\n\t\tvar doc = document,\n\t\t    display = elemdisplay[nodeName];\n\n\t\tif (!display) {\n\t\t\tdisplay = actualDisplay(nodeName, doc);\n\n\t\t\t// If the simple way fails, read from inside an iframe\n\t\t\tif (display === \"none\" || !display) {\n\t\t\t\t// Use the already-created iframe if possible\n\t\t\t\tiframe = (iframe || jQuery(\"<iframe frameborder='0' width='0' height='0'/>\").css(\"cssText\", \"display:block !important\")).appendTo(doc.documentElement);\n\n\t\t\t\t// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse\n\t\t\t\tdoc = (iframe[0].contentWindow || iframe[0].contentDocument).document;\n\t\t\t\tdoc.write(\"<!doctype html><html><body>\");\n\t\t\t\tdoc.close();\n\n\t\t\t\tdisplay = actualDisplay(nodeName, doc);\n\t\t\t\tiframe.detach();\n\t\t\t}\n\n\t\t\t// Store the correct default display\n\t\t\telemdisplay[nodeName] = display;\n\t\t}\n\n\t\treturn display;\n\t}\n\n\t// Called ONLY from within css_defaultDisplay\n\tfunction actualDisplay(name, doc) {\n\t\tvar elem = jQuery(doc.createElement(name)).appendTo(doc.body),\n\t\t    display = jQuery.css(elem[0], \"display\");\n\t\telem.remove();\n\t\treturn display;\n\t}\n\n\tjQuery.each([\"height\", \"width\"], function (i, name) {\n\t\tjQuery.cssHooks[name] = {\n\t\t\tget: function get(elem, computed, extra) {\n\t\t\t\tif (computed) {\n\t\t\t\t\t// certain elements can have dimension info if we invisibly show them\n\t\t\t\t\t// however, it must have a current display style that would benefit from this\n\t\t\t\t\treturn elem.offsetWidth === 0 && rdisplayswap.test(jQuery.css(elem, \"display\")) ? jQuery.swap(elem, cssShow, function () {\n\t\t\t\t\t\treturn getWidthOrHeight(elem, name, extra);\n\t\t\t\t\t}) : getWidthOrHeight(elem, name, extra);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tset: function set(elem, value, extra) {\n\t\t\t\tvar styles = extra && getStyles(elem);\n\t\t\t\treturn setPositiveNumber(elem, value, extra ? augmentWidthOrHeight(elem, name, extra, jQuery.support.boxSizing && jQuery.css(elem, \"boxSizing\", false, styles) === \"border-box\", styles) : 0);\n\t\t\t}\n\t\t};\n\t});\n\n\tif (!jQuery.support.opacity) {\n\t\tjQuery.cssHooks.opacity = {\n\t\t\tget: function get(elem, computed) {\n\t\t\t\t// IE uses filters for opacity\n\t\t\t\treturn ropacity.test((computed && elem.currentStyle ? elem.currentStyle.filter : elem.style.filter) || \"\") ? 0.01 * parseFloat(RegExp.$1) + \"\" : computed ? \"1\" : \"\";\n\t\t\t},\n\n\t\t\tset: function set(elem, value) {\n\t\t\t\tvar style = elem.style,\n\t\t\t\t    currentStyle = elem.currentStyle,\n\t\t\t\t    opacity = jQuery.isNumeric(value) ? \"alpha(opacity=\" + value * 100 + \")\" : \"\",\n\t\t\t\t    filter = currentStyle && currentStyle.filter || style.filter || \"\";\n\n\t\t\t\t// IE has trouble with opacity if it does not have layout\n\t\t\t\t// Force it by setting the zoom level\n\t\t\t\tstyle.zoom = 1;\n\n\t\t\t\t// if setting opacity to 1, and no other filters exist - attempt to remove filter attribute #6652\n\t\t\t\t// if value === \"\", then remove inline opacity #12685\n\t\t\t\tif ((value >= 1 || value === \"\") && jQuery.trim(filter.replace(ralpha, \"\")) === \"\" && style.removeAttribute) {\n\n\t\t\t\t\t// Setting style.filter to null, \"\" & \" \" still leave \"filter:\" in the cssText\n\t\t\t\t\t// if \"filter:\" is present at all, clearType is disabled, we want to avoid this\n\t\t\t\t\t// style.removeAttribute is IE Only, but so apparently is this code path...\n\t\t\t\t\tstyle.removeAttribute(\"filter\");\n\n\t\t\t\t\t// if there is no filter style applied in a css rule or unset inline opacity, we are done\n\t\t\t\t\tif (value === \"\" || currentStyle && !currentStyle.filter) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// otherwise, set new filter values\n\t\t\t\tstyle.filter = ralpha.test(filter) ? filter.replace(ralpha, opacity) : filter + \" \" + opacity;\n\t\t\t}\n\t\t};\n\t}\n\n\t// These hooks cannot be added until DOM ready because the support test\n\t// for it is not run until after DOM ready\n\tjQuery(function () {\n\t\tif (!jQuery.support.reliableMarginRight) {\n\t\t\tjQuery.cssHooks.marginRight = {\n\t\t\t\tget: function get(elem, computed) {\n\t\t\t\t\tif (computed) {\n\t\t\t\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n\t\t\t\t\t\t// Work around by temporarily setting element display to inline-block\n\t\t\t\t\t\treturn jQuery.swap(elem, { \"display\": \"inline-block\" }, curCSS, [elem, \"marginRight\"]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n\t\t// getComputedStyle returns percent when specified for top/left/bottom/right\n\t\t// rather than make the css module depend on the offset module, we just check for it here\n\t\tif (!jQuery.support.pixelPosition && jQuery.fn.position) {\n\t\t\tjQuery.each([\"top\", \"left\"], function (i, prop) {\n\t\t\t\tjQuery.cssHooks[prop] = {\n\t\t\t\t\tget: function get(elem, computed) {\n\t\t\t\t\t\tif (computed) {\n\t\t\t\t\t\t\tcomputed = curCSS(elem, prop);\n\t\t\t\t\t\t\t// if curCSS returns percentage, fallback to offset\n\t\t\t\t\t\t\treturn rnumnonpx.test(computed) ? jQuery(elem).position()[prop] + \"px\" : computed;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t});\n\n\tif (jQuery.expr && jQuery.expr.filters) {\n\t\tjQuery.expr.filters.hidden = function (elem) {\n\t\t\treturn elem.offsetWidth === 0 && elem.offsetHeight === 0 || !jQuery.support.reliableHiddenOffsets && (elem.style && elem.style.display || jQuery.css(elem, \"display\")) === \"none\";\n\t\t};\n\n\t\tjQuery.expr.filters.visible = function (elem) {\n\t\t\treturn !jQuery.expr.filters.hidden(elem);\n\t\t};\n\t}\n\n\t// These hooks are used by animate to expand properties\n\tjQuery.each({\n\t\tmargin: \"\",\n\t\tpadding: \"\",\n\t\tborder: \"Width\"\n\t}, function (prefix, suffix) {\n\t\tjQuery.cssHooks[prefix + suffix] = {\n\t\t\texpand: function expand(value) {\n\t\t\t\tvar i = 0,\n\t\t\t\t    expanded = {},\n\n\n\t\t\t\t// assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split(\" \") : [value];\n\n\t\t\t\tfor (; i < 4; i++) {\n\t\t\t\t\texpanded[prefix + cssExpand[i] + suffix] = parts[i] || parts[i - 2] || parts[0];\n\t\t\t\t}\n\n\t\t\t\treturn expanded;\n\t\t\t}\n\t\t};\n\n\t\tif (!rmargin.test(prefix)) {\n\t\t\tjQuery.cssHooks[prefix + suffix].set = setPositiveNumber;\n\t\t}\n\t});\n\tvar r20 = /%20/g,\n\t    rbracket = /\\[\\]$/,\n\t    rCRLF = /\\r?\\n/g,\n\t    rsubmitterTypes = /^(?:submit|button|image|reset)$/i,\n\t    rsubmittable = /^(?:input|select|textarea|keygen)/i;\n\n\tjQuery.fn.extend({\n\t\tserialize: function serialize() {\n\t\t\treturn jQuery.param(this.serializeArray());\n\t\t},\n\t\tserializeArray: function serializeArray() {\n\t\t\treturn this.map(function () {\n\t\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\t\tvar elements = jQuery.prop(this, \"elements\");\n\t\t\t\treturn elements ? jQuery.makeArray(elements) : this;\n\t\t\t}).filter(function () {\n\t\t\t\tvar type = this.type;\n\t\t\t\t// Use .is(\":disabled\") so that fieldset[disabled] works\n\t\t\t\treturn this.name && !jQuery(this).is(\":disabled\") && rsubmittable.test(this.nodeName) && !rsubmitterTypes.test(type) && (this.checked || !manipulation_rcheckableType.test(type));\n\t\t\t}).map(function (i, elem) {\n\t\t\t\tvar val = jQuery(this).val();\n\n\t\t\t\treturn val == null ? null : jQuery.isArray(val) ? jQuery.map(val, function (val) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace(rCRLF, \"\\r\\n\") };\n\t\t\t\t}) : { name: elem.name, value: val.replace(rCRLF, \"\\r\\n\") };\n\t\t\t}).get();\n\t\t}\n\t});\n\n\t//Serialize an array of form elements or a set of\n\t//key/values into a query string\n\tjQuery.param = function (a, traditional) {\n\t\tvar prefix,\n\t\t    s = [],\n\t\t    add = function add(key, value) {\n\t\t\t// If value is a function, invoke it and return its value\n\t\t\tvalue = jQuery.isFunction(value) ? value() : value == null ? \"\" : value;\n\t\t\ts[s.length] = encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\n\t\t};\n\n\t\t// Set traditional to true for jQuery <= 1.3.2 behavior.\n\t\tif (traditional === undefined) {\n\t\t\ttraditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\n\t\t}\n\n\t\t// If an array was passed in, assume that it is an array of form elements.\n\t\tif (jQuery.isArray(a) || a.jquery && !jQuery.isPlainObject(a)) {\n\t\t\t// Serialize the form elements\n\t\t\tjQuery.each(a, function () {\n\t\t\t\tadd(this.name, this.value);\n\t\t\t});\n\t\t} else {\n\t\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t\t// did it), otherwise encode params recursively.\n\t\t\tfor (prefix in a) {\n\t\t\t\tbuildParams(prefix, a[prefix], traditional, add);\n\t\t\t}\n\t\t}\n\n\t\t// Return the resulting serialization\n\t\treturn s.join(\"&\").replace(r20, \"+\");\n\t};\n\n\tfunction buildParams(prefix, obj, traditional, add) {\n\t\tvar name;\n\n\t\tif (jQuery.isArray(obj)) {\n\t\t\t// Serialize array item.\n\t\t\tjQuery.each(obj, function (i, v) {\n\t\t\t\tif (traditional || rbracket.test(prefix)) {\n\t\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\t\tadd(prefix, v);\n\t\t\t\t} else {\n\t\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\t\tbuildParams(prefix + \"[\" + ((typeof v === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(v)) === \"object\" ? i : \"\") + \"]\", v, traditional, add);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (!traditional && jQuery.type(obj) === \"object\") {\n\t\t\t// Serialize object item.\n\t\t\tfor (name in obj) {\n\t\t\t\tbuildParams(prefix + \"[\" + name + \"]\", obj[name], traditional, add);\n\t\t\t}\n\t\t} else {\n\t\t\t// Serialize scalar item.\n\t\t\tadd(prefix, obj);\n\t\t}\n\t}\n\tvar\n\t// Document location\n\tajaxLocParts,\n\t    ajaxLocation,\n\t    ajax_nonce = jQuery.now(),\n\t    ajax_rquery = /\\?/,\n\t    rhash = /#.*$/,\n\t    rts = /([?&])_=[^&]*/,\n\t    rheaders = /^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg,\n\t    // IE leaves an \\r character at EOL\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\t    rnoContent = /^(?:GET|HEAD)$/,\n\t    rprotocol = /^\\/\\//,\n\t    rurl = /^([\\w.+-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+)|)|)/,\n\n\n\t// Keep a copy of the old load method\n\t_load = jQuery.fn.load,\n\n\n\t/* Prefilters\n  * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n  * 2) These are called:\n  *    - BEFORE asking for a transport\n  *    - AFTER param serialization (s.data is a string if s.processData is true)\n  * 3) key is the dataType\n  * 4) the catchall symbol \"*\" can be used\n  * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n  */\n\tprefilters = {},\n\n\n\t/* Transports bindings\n  * 1) key is the dataType\n  * 2) the catchall symbol \"*\" can be used\n  * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n  */\n\ttransports = {},\n\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat(\"*\");\n\n\t// #8138, IE may throw an exception when accessing\n\t// a field from window.location if document.domain has been set\n\ttry {\n\t\tajaxLocation = location.href;\n\t} catch (e) {\n\t\t// Use the href attribute of an A element\n\t\t// since IE will modify it given document.location\n\t\tajaxLocation = document.createElement(\"a\");\n\t\tajaxLocation.href = \"\";\n\t\tajaxLocation = ajaxLocation.href;\n\t}\n\n\t// Segment location into parts\n\tajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || [];\n\n\t// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\n\tfunction addToPrefiltersOrTransports(structure) {\n\n\t\t// dataTypeExpression is optional and defaults to \"*\"\n\t\treturn function (dataTypeExpression, func) {\n\n\t\t\tif (typeof dataTypeExpression !== \"string\") {\n\t\t\t\tfunc = dataTypeExpression;\n\t\t\t\tdataTypeExpression = \"*\";\n\t\t\t}\n\n\t\t\tvar dataType,\n\t\t\t    i = 0,\n\t\t\t    dataTypes = dataTypeExpression.toLowerCase().match(core_rnotwhite) || [];\n\n\t\t\tif (jQuery.isFunction(func)) {\n\t\t\t\t// For each dataType in the dataTypeExpression\n\t\t\t\twhile (dataType = dataTypes[i++]) {\n\t\t\t\t\t// Prepend if requested\n\t\t\t\t\tif (dataType[0] === \"+\") {\n\t\t\t\t\t\tdataType = dataType.slice(1) || \"*\";\n\t\t\t\t\t\t(structure[dataType] = structure[dataType] || []).unshift(func);\n\n\t\t\t\t\t\t// Otherwise append\n\t\t\t\t\t} else {\n\t\t\t\t\t\t(structure[dataType] = structure[dataType] || []).push(func);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\t// Base inspection function for prefilters and transports\n\tfunction inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR) {\n\n\t\tvar inspected = {},\n\t\t    seekingTransport = structure === transports;\n\n\t\tfunction inspect(dataType) {\n\t\t\tvar selected;\n\t\t\tinspected[dataType] = true;\n\t\t\tjQuery.each(structure[dataType] || [], function (_, prefilterOrFactory) {\n\t\t\t\tvar dataTypeOrTransport = prefilterOrFactory(options, originalOptions, jqXHR);\n\t\t\t\tif (typeof dataTypeOrTransport === \"string\" && !seekingTransport && !inspected[dataTypeOrTransport]) {\n\t\t\t\t\toptions.dataTypes.unshift(dataTypeOrTransport);\n\t\t\t\t\tinspect(dataTypeOrTransport);\n\t\t\t\t\treturn false;\n\t\t\t\t} else if (seekingTransport) {\n\t\t\t\t\treturn !(selected = dataTypeOrTransport);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn selected;\n\t\t}\n\n\t\treturn inspect(options.dataTypes[0]) || !inspected[\"*\"] && inspect(\"*\");\n\t}\n\n\t// A special extend for ajax options\n\t// that takes \"flat\" options (not to be deep extended)\n\t// Fixes #9887\n\tfunction ajaxExtend(target, src) {\n\t\tvar key,\n\t\t    deep,\n\t\t    flatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\t\tfor (key in src) {\n\t\t\tif (src[key] !== undefined) {\n\t\t\t\t(flatOptions[key] ? target : deep || (deep = {}))[key] = src[key];\n\t\t\t}\n\t\t}\n\t\tif (deep) {\n\t\t\tjQuery.extend(true, target, deep);\n\t\t}\n\n\t\treturn target;\n\t}\n\n\tjQuery.fn.load = function (url, params, callback) {\n\t\tif (typeof url !== \"string\" && _load) {\n\t\t\treturn _load.apply(this, arguments);\n\t\t}\n\n\t\tvar selector,\n\t\t    type,\n\t\t    response,\n\t\t    self = this,\n\t\t    off = url.indexOf(\" \");\n\n\t\tif (off >= 0) {\n\t\t\tselector = url.slice(off, url.length);\n\t\t\turl = url.slice(0, off);\n\t\t}\n\n\t\t// If it's a function\n\t\tif (jQuery.isFunction(params)) {\n\n\t\t\t// We assume that it's the callback\n\t\t\tcallback = params;\n\t\t\tparams = undefined;\n\n\t\t\t// Otherwise, build a param string\n\t\t} else if (params && (typeof params === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(params)) === \"object\") {\n\t\t\ttype = \"POST\";\n\t\t}\n\n\t\t// If we have elements to modify, make the request\n\t\tif (self.length > 0) {\n\t\t\tjQuery.ajax({\n\t\t\t\turl: url,\n\n\t\t\t\t// if \"type\" variable is undefined, then \"GET\" method will be used\n\t\t\t\ttype: type,\n\t\t\t\tdataType: \"html\",\n\t\t\t\tdata: params\n\t\t\t}).done(function (responseText) {\n\n\t\t\t\t// Save response for use in complete callback\n\t\t\t\tresponse = arguments;\n\n\t\t\t\tself.html(selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery(\"<div>\").appendChild(jQuery.parseHTML(responseText)).find(selector) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText);\n\t\t\t}).complete(callback && function (jqXHR, status) {\n\t\t\t\tself.each(callback, response || [jqXHR.responseText, status, jqXHR]);\n\t\t\t});\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t// Attach a bunch of functions for handling common AJAX events\n\tjQuery.each([\"ajaxStart\", \"ajaxStop\", \"ajaxComplete\", \"ajaxError\", \"ajaxSuccess\", \"ajaxSend\"], function (i, type) {\n\t\tjQuery.fn[type] = function (fn) {\n\t\t\treturn this.on(type, fn);\n\t\t};\n\t});\n\n\tjQuery.each([\"get\", \"post\"], function (i, method) {\n\t\tjQuery[method] = function (url, data, callback, type) {\n\t\t\t// shift arguments if data argument was omitted\n\t\t\tif (jQuery.isFunction(data)) {\n\t\t\t\ttype = type || callback;\n\t\t\t\tcallback = data;\n\t\t\t\tdata = undefined;\n\t\t\t}\n\n\t\t\treturn jQuery.ajax({\n\t\t\t\turl: url,\n\t\t\t\ttype: method,\n\t\t\t\tdataType: type,\n\t\t\t\tdata: data,\n\t\t\t\tsuccess: callback\n\t\t\t});\n\t\t};\n\t});\n\n\tjQuery.extend({\n\n\t\t// Counter for holding the number of active queries\n\t\tactive: 0,\n\n\t\t// Last-Modified header cache for next request\n\t\tlastModified: {},\n\t\tetag: {},\n\n\t\tajaxSettings: {\n\t\t\turl: ajaxLocation,\n\t\t\ttype: \"GET\",\n\t\t\tisLocal: rlocalProtocol.test(ajaxLocParts[1]),\n\t\t\tglobal: true,\n\t\t\tprocessData: true,\n\t\t\tasync: true,\n\t\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\t\t\t/*\n   timeout: 0,\n   data: null,\n   dataType: null,\n   username: null,\n   password: null,\n   cache: null,\n   throws: false,\n   traditional: false,\n   headers: {},\n   */\n\n\t\t\taccepts: {\n\t\t\t\t\"*\": allTypes,\n\t\t\t\ttext: \"text/plain\",\n\t\t\t\thtml: \"text/html\",\n\t\t\t\txml: \"application/xml, text/xml\",\n\t\t\t\tjson: \"application/json, text/javascript\"\n\t\t\t},\n\n\t\t\tcontents: {\n\t\t\t\txml: /xml/,\n\t\t\t\thtml: /html/,\n\t\t\t\tjson: /json/\n\t\t\t},\n\n\t\t\tresponseFields: {\n\t\t\t\txml: \"responseXML\",\n\t\t\t\ttext: \"responseText\"\n\t\t\t},\n\n\t\t\t// Data converters\n\t\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\t\tconverters: {\n\n\t\t\t\t// Convert anything to text\n\t\t\t\t\"* text\": window.String,\n\n\t\t\t\t// Text to html (true = no transformation)\n\t\t\t\t\"text html\": true,\n\n\t\t\t\t// Evaluate text as a json expression\n\t\t\t\t\"text json\": jQuery.parseJSON,\n\n\t\t\t\t// Parse text as xml\n\t\t\t\t\"text xml\": jQuery.parseXML\n\t\t\t},\n\n\t\t\t// For options that shouldn't be deep extended:\n\t\t\t// you can add your own custom options here if\n\t\t\t// and when you create one that shouldn't be\n\t\t\t// deep extended (see ajaxExtend)\n\t\t\tflatOptions: {\n\t\t\t\turl: true,\n\t\t\t\tcontext: true\n\t\t\t}\n\t\t},\n\n\t\t// Creates a full fledged settings object into target\n\t\t// with both ajaxSettings and settings fields.\n\t\t// If target is omitted, writes into ajaxSettings.\n\t\tajaxSetup: function ajaxSetup(target, settings) {\n\t\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend(ajaxExtend(target, jQuery.ajaxSettings), settings) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend(jQuery.ajaxSettings, target);\n\t\t},\n\n\t\tajaxPrefilter: addToPrefiltersOrTransports(prefilters),\n\t\tajaxTransport: addToPrefiltersOrTransports(transports),\n\n\t\t// Main method\n\t\tajax: function ajax(url, options) {\n\n\t\t\t// If url is an object, simulate pre-1.5 signature\n\t\t\tif ((typeof url === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(url)) === \"object\") {\n\t\t\t\toptions = url;\n\t\t\t\turl = undefined;\n\t\t\t}\n\n\t\t\t// Force options to be an object\n\t\t\toptions = options || {};\n\n\t\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\t    responseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Cross-domain detection vars\n\t\t\tparts,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup({}, options),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context && (callbackContext.nodeType || callbackContext.jquery) ? jQuery(callbackContext) : jQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\t    completeDeferred = jQuery.Callbacks(\"once memory\"),\n\n\t\t\t// Status-dependent callbacks\n\t\t\t_statusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\t    requestHeadersNames = {},\n\n\t\t\t// The jqXHR state\n\t\t\tstate = 0,\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function getResponseHeader(key) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif (state === 2) {\n\t\t\t\t\t\tif (!responseHeaders) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile (match = rheaders.exec(responseHeadersString)) {\n\t\t\t\t\t\t\t\tresponseHeaders[match[1].toLowerCase()] = match[2];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[key.toLowerCase()];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match;\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function getAllResponseHeaders() {\n\t\t\t\t\treturn state === 2 ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function setRequestHeader(name, value) {\n\t\t\t\t\tvar lname = name.toLowerCase();\n\t\t\t\t\tif (!state) {\n\t\t\t\t\t\tname = requestHeadersNames[lname] = requestHeadersNames[lname] || name;\n\t\t\t\t\t\trequestHeaders[name] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function overrideMimeType(type) {\n\t\t\t\t\tif (!state) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function statusCode(map) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif (map) {\n\t\t\t\t\t\tif (state < 2) {\n\t\t\t\t\t\t\tfor (code in map) {\n\t\t\t\t\t\t\t\t// Lazy-add the new callback in a way that preserves old ones\n\t\t\t\t\t\t\t\t_statusCode[code] = [_statusCode[code], map[code]];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always(map[jqXHR.status]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function abort(statusText) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif (transport) {\n\t\t\t\t\t\ttransport.abort(finalText);\n\t\t\t\t\t}\n\t\t\t\t\tdone(0, finalText);\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Attach deferreds\n\t\t\tdeferred.promise(jqXHR).complete = completeDeferred.add;\n\t\t\tjqXHR.success = jqXHR.done;\n\t\t\tjqXHR.error = jqXHR.fail;\n\n\t\t\t// Remove hash character (#7531: and string promotion)\n\t\t\t// Add protocol if not provided (#5866: IE7 issue with protocol-less urls)\n\t\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t\t// We also use the url parameter if available\n\t\t\ts.url = ((url || s.url || ajaxLocation) + \"\").replace(rhash, \"\").replace(rprotocol, ajaxLocParts[1] + \"//\");\n\n\t\t\t// Alias method option to type as per ticket #12004\n\t\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t\t// Extract dataTypes list\n\t\t\ts.dataTypes = jQuery.trim(s.dataType || \"*\").toLowerCase().match(core_rnotwhite) || [\"\"];\n\n\t\t\t// A cross-domain request is in order when we have a protocol:host:port mismatch\n\t\t\tif (s.crossDomain == null) {\n\t\t\t\tparts = rurl.exec(s.url.toLowerCase());\n\t\t\t\ts.crossDomain = !!(parts && (parts[1] !== ajaxLocParts[1] || parts[2] !== ajaxLocParts[2] || (parts[3] || (parts[1] === \"http:\" ? 80 : 443)) != (ajaxLocParts[3] || (ajaxLocParts[1] === \"http:\" ? 80 : 443))));\n\t\t\t}\n\n\t\t\t// Convert data if not already a string\n\t\t\tif (s.data && s.processData && typeof s.data !== \"string\") {\n\t\t\t\ts.data = jQuery.param(s.data, s.traditional);\n\t\t\t}\n\n\t\t\t// Apply prefilters\n\t\t\tinspectPrefiltersOrTransports(prefilters, s, options, jqXHR);\n\n\t\t\t// If request was aborted inside a prefilter, stop there\n\t\t\tif (state === 2) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// We can fire global events as of now if asked to\n\t\t\tfireGlobals = s.global;\n\n\t\t\t// Watch for a new set of requests\n\t\t\tif (fireGlobals && jQuery.active++ === 0) {\n\t\t\t\tjQuery.event.trigger(\"ajaxStart\");\n\t\t\t}\n\n\t\t\t// Uppercase the type\n\t\t\ts.type = s.type.toUpperCase();\n\n\t\t\t// Determine if request has content\n\t\t\ts.hasContent = !rnoContent.test(s.type);\n\n\t\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t\t// and/or If-None-Match header later on\n\t\t\tcacheURL = s.url;\n\n\t\t\t// More options handling for requests with no content\n\t\t\tif (!s.hasContent) {\n\n\t\t\t\t// If data is available, append data to url\n\t\t\t\tif (s.data) {\n\t\t\t\t\tcacheURL = s.url += (ajax_rquery.test(cacheURL) ? \"&\" : \"?\") + s.data;\n\t\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\t\tdelete s.data;\n\t\t\t\t}\n\n\t\t\t\t// Add anti-cache in url if needed\n\t\t\t\tif (s.cache === false) {\n\t\t\t\t\ts.url = rts.test(cacheURL) ?\n\n\t\t\t\t\t// If there is already a '_' parameter, set its value\n\t\t\t\t\tcacheURL.replace(rts, \"$1_=\" + ajax_nonce++) :\n\n\t\t\t\t\t// Otherwise add one to the end\n\t\t\t\t\tcacheURL + (ajax_rquery.test(cacheURL) ? \"&\" : \"?\") + \"_=\" + ajax_nonce++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\tif (s.ifModified) {\n\t\t\t\tif (jQuery.lastModified[cacheURL]) {\n\t\t\t\t\tjqXHR.setRequestHeader(\"If-Modified-Since\", jQuery.lastModified[cacheURL]);\n\t\t\t\t}\n\t\t\t\tif (jQuery.etag[cacheURL]) {\n\t\t\t\t\tjqXHR.setRequestHeader(\"If-None-Match\", jQuery.etag[cacheURL]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set the correct header, if data is being sent\n\t\t\tif (s.data && s.hasContent && s.contentType !== false || options.contentType) {\n\t\t\t\tjqXHR.setRequestHeader(\"Content-Type\", s.contentType);\n\t\t\t}\n\n\t\t\t// Set the Accepts header for the server, depending on the dataType\n\t\t\tjqXHR.setRequestHeader(\"Accept\", s.dataTypes[0] && s.accepts[s.dataTypes[0]] ? s.accepts[s.dataTypes[0]] + (s.dataTypes[0] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\") : s.accepts[\"*\"]);\n\n\t\t\t// Check for headers option\n\t\t\tfor (i in s.headers) {\n\t\t\t\tjqXHR.setRequestHeader(i, s.headers[i]);\n\t\t\t}\n\n\t\t\t// Allow custom headers/mimetypes and early abort\n\t\t\tif (s.beforeSend && (s.beforeSend.call(callbackContext, jqXHR, s) === false || state === 2)) {\n\t\t\t\t// Abort if not done already and return\n\t\t\t\treturn jqXHR.abort();\n\t\t\t}\n\n\t\t\t// aborting is no longer a cancellation\n\t\t\tstrAbort = \"abort\";\n\n\t\t\t// Install callbacks on deferreds\n\t\t\tfor (i in { success: 1, error: 1, complete: 1 }) {\n\t\t\t\tjqXHR[i](s[i]);\n\t\t\t}\n\n\t\t\t// Get transport\n\t\t\ttransport = inspectPrefiltersOrTransports(transports, s, options, jqXHR);\n\n\t\t\t// If no transport, we auto-abort\n\t\t\tif (!transport) {\n\t\t\t\tdone(-1, \"No Transport\");\n\t\t\t} else {\n\t\t\t\tjqXHR.readyState = 1;\n\n\t\t\t\t// Send global event\n\t\t\t\tif (fireGlobals) {\n\t\t\t\t\tglobalEventContext.trigger(\"ajaxSend\", [jqXHR, s]);\n\t\t\t\t}\n\t\t\t\t// Timeout\n\t\t\t\tif (s.async && s.timeout > 0) {\n\t\t\t\t\ttimeoutTimer = setTimeout(function () {\n\t\t\t\t\t\tjqXHR.abort(\"timeout\");\n\t\t\t\t\t}, s.timeout);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tstate = 1;\n\t\t\t\t\ttransport.send(requestHeaders, done);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// Propagate exception as error if not done\n\t\t\t\t\tif (state < 2) {\n\t\t\t\t\t\tdone(-1, e);\n\t\t\t\t\t\t// Simply rethrow otherwise\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Callback for when everything is done\n\t\t\tfunction done(status, nativeStatusText, responses, headers) {\n\t\t\t\tvar isSuccess,\n\t\t\t\t    success,\n\t\t\t\t    error,\n\t\t\t\t    response,\n\t\t\t\t    modified,\n\t\t\t\t    statusText = nativeStatusText;\n\n\t\t\t\t// Called once\n\t\t\t\tif (state === 2) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// State is \"done\" now\n\t\t\t\tstate = 2;\n\n\t\t\t\t// Clear timeout if it exists\n\t\t\t\tif (timeoutTimer) {\n\t\t\t\t\tclearTimeout(timeoutTimer);\n\t\t\t\t}\n\n\t\t\t\t// Dereference transport for early garbage collection\n\t\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\t\ttransport = undefined;\n\n\t\t\t\t// Cache response headers\n\t\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t\t// Set readyState\n\t\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t\t// Get response data\n\t\t\t\tif (responses) {\n\t\t\t\t\tresponse = ajaxHandleResponses(s, jqXHR, responses);\n\t\t\t\t}\n\n\t\t\t\t// If successful, handle type chaining\n\t\t\t\tif (status >= 200 && status < 300 || status === 304) {\n\n\t\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\t\tif (s.ifModified) {\n\t\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"Last-Modified\");\n\t\t\t\t\t\tif (modified) {\n\t\t\t\t\t\t\tjQuery.lastModified[cacheURL] = modified;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"etag\");\n\t\t\t\t\t\tif (modified) {\n\t\t\t\t\t\t\tjQuery.etag[cacheURL] = modified;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// If not modified\n\t\t\t\t\tif (status === 304) {\n\t\t\t\t\t\tisSuccess = true;\n\t\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t\t\t// If we have data\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisSuccess = ajaxConvert(s, response);\n\t\t\t\t\t\tstatusText = isSuccess.state;\n\t\t\t\t\t\tsuccess = isSuccess.data;\n\t\t\t\t\t\terror = isSuccess.error;\n\t\t\t\t\t\tisSuccess = !error;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// We extract error from statusText\n\t\t\t\t\t// then normalize statusText and status for non-aborts\n\t\t\t\t\terror = statusText;\n\t\t\t\t\tif (status || !statusText) {\n\t\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\t\tif (status < 0) {\n\t\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Set data for the fake xhr object\n\t\t\t\tjqXHR.status = status;\n\t\t\t\tjqXHR.statusText = (nativeStatusText || statusText) + \"\";\n\n\t\t\t\t// Success/Error\n\t\t\t\tif (isSuccess) {\n\t\t\t\t\tdeferred.resolveWith(callbackContext, [success, statusText, jqXHR]);\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith(callbackContext, [jqXHR, statusText, error]);\n\t\t\t\t}\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tjqXHR.statusCode(_statusCode);\n\t\t\t\t_statusCode = undefined;\n\n\t\t\t\tif (fireGlobals) {\n\t\t\t\t\tglobalEventContext.trigger(isSuccess ? \"ajaxSuccess\" : \"ajaxError\", [jqXHR, s, isSuccess ? success : error]);\n\t\t\t\t}\n\n\t\t\t\t// Complete\n\t\t\t\tcompleteDeferred.fireWith(callbackContext, [jqXHR, statusText]);\n\n\t\t\t\tif (fireGlobals) {\n\t\t\t\t\tglobalEventContext.trigger(\"ajaxComplete\", [jqXHR, s]);\n\t\t\t\t\t// Handle the global AJAX counter\n\t\t\t\t\tif (! --jQuery.active) {\n\t\t\t\t\t\tjQuery.event.trigger(\"ajaxStop\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn jqXHR;\n\t\t},\n\n\t\tgetScript: function getScript(url, callback) {\n\t\t\treturn jQuery.get(url, undefined, callback, \"script\");\n\t\t},\n\n\t\tgetJSON: function getJSON(url, data, callback) {\n\t\t\treturn jQuery.get(url, data, callback, \"json\");\n\t\t}\n\t});\n\n\t/* Handles responses to an ajax request:\n  * - sets all responseXXX fields accordingly\n  * - finds the right dataType (mediates between content-type and expected dataType)\n  * - returns the corresponding response\n  */\n\tfunction ajaxHandleResponses(s, jqXHR, responses) {\n\n\t\tvar ct,\n\t\t    type,\n\t\t    finalDataType,\n\t\t    firstDataType,\n\t\t    contents = s.contents,\n\t\t    dataTypes = s.dataTypes,\n\t\t    responseFields = s.responseFields;\n\n\t\t// Fill responseXXX fields\n\t\tfor (type in responseFields) {\n\t\t\tif (type in responses) {\n\t\t\t\tjqXHR[responseFields[type]] = responses[type];\n\t\t\t}\n\t\t}\n\n\t\t// Remove auto dataType and get content-type in the process\n\t\twhile (dataTypes[0] === \"*\") {\n\t\t\tdataTypes.shift();\n\t\t\tif (ct === undefined) {\n\t\t\t\tct = s.mimeType || jqXHR.getResponseHeader(\"Content-Type\");\n\t\t\t}\n\t\t}\n\n\t\t// Check if we're dealing with a known content-type\n\t\tif (ct) {\n\t\t\tfor (type in contents) {\n\t\t\t\tif (contents[type] && contents[type].test(ct)) {\n\t\t\t\t\tdataTypes.unshift(type);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Check to see if we have a response for the expected dataType\n\t\tif (dataTypes[0] in responses) {\n\t\t\tfinalDataType = dataTypes[0];\n\t\t} else {\n\t\t\t// Try convertible dataTypes\n\t\t\tfor (type in responses) {\n\t\t\t\tif (!dataTypes[0] || s.converters[type + \" \" + dataTypes[0]]) {\n\t\t\t\t\tfinalDataType = type;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (!firstDataType) {\n\t\t\t\t\tfirstDataType = type;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Or just use first one\n\t\t\tfinalDataType = finalDataType || firstDataType;\n\t\t}\n\n\t\t// If we found a dataType\n\t\t// We add the dataType to the list if needed\n\t\t// and return the corresponding response\n\t\tif (finalDataType) {\n\t\t\tif (finalDataType !== dataTypes[0]) {\n\t\t\t\tdataTypes.unshift(finalDataType);\n\t\t\t}\n\t\t\treturn responses[finalDataType];\n\t\t}\n\t}\n\n\t// Chain conversions given the request and the original response\n\tfunction ajaxConvert(s, response) {\n\n\t\tvar conv,\n\t\t    conv2,\n\t\t    current,\n\t\t    tmp,\n\t\t    converters = {},\n\t\t    i = 0,\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice(),\n\t\t    prev = dataTypes[0];\n\n\t\t// Apply the dataFilter if provided\n\t\tif (s.dataFilter) {\n\t\t\tresponse = s.dataFilter(response, s.dataType);\n\t\t}\n\n\t\t// Create converters map with lowercased keys\n\t\tif (dataTypes[1]) {\n\t\t\tfor (conv in s.converters) {\n\t\t\t\tconverters[conv.toLowerCase()] = s.converters[conv];\n\t\t\t}\n\t\t}\n\n\t\t// Convert to each sequential dataType, tolerating list modification\n\t\tfor (; current = dataTypes[++i];) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif (current !== \"*\") {\n\n\t\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t\tif (prev !== \"*\" && prev !== current) {\n\n\t\t\t\t\t// Seek a direct converter\n\t\t\t\t\tconv = converters[prev + \" \" + current] || converters[\"* \" + current];\n\n\t\t\t\t\t// If none found, seek a pair\n\t\t\t\t\tif (!conv) {\n\t\t\t\t\t\tfor (conv2 in converters) {\n\n\t\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\t\ttmp = conv2.split(\" \");\n\t\t\t\t\t\t\tif (tmp[1] === current) {\n\n\t\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\t\tconv = converters[prev + \" \" + tmp[0]] || converters[\"* \" + tmp[0]];\n\t\t\t\t\t\t\t\tif (conv) {\n\t\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\t\tif (conv === true) {\n\t\t\t\t\t\t\t\t\t\tconv = converters[conv2];\n\n\t\t\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t\t} else if (converters[conv2] !== true) {\n\t\t\t\t\t\t\t\t\t\tcurrent = tmp[0];\n\t\t\t\t\t\t\t\t\t\tdataTypes.splice(i--, 0, current);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\t\tif (conv !== true) {\n\n\t\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\t\tif (conv && s[\"throws\"]) {\n\t\t\t\t\t\t\tresponse = conv(response);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tresponse = conv(response);\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\treturn { state: \"parsererror\", error: conv ? e : \"No conversion from \" + prev + \" to \" + current };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Update prev for next iteration\n\t\t\t\tprev = current;\n\t\t\t}\n\t\t}\n\n\t\treturn { state: \"success\", data: response };\n\t}\n\t// Install script dataType\n\tjQuery.ajaxSetup({\n\t\taccepts: {\n\t\t\tscript: \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"\n\t\t},\n\t\tcontents: {\n\t\t\tscript: /(?:java|ecma)script/\n\t\t},\n\t\tconverters: {\n\t\t\t\"text script\": function textScript(text) {\n\t\t\t\tjQuery.globalEval(text);\n\t\t\t\treturn text;\n\t\t\t}\n\t\t}\n\t});\n\n\t// Handle cache's special case and global\n\tjQuery.ajaxPrefilter(\"script\", function (s) {\n\t\tif (s.cache === undefined) {\n\t\t\ts.cache = false;\n\t\t}\n\t\tif (s.crossDomain) {\n\t\t\ts.type = \"GET\";\n\t\t\ts.global = false;\n\t\t}\n\t});\n\n\t// Bind script tag hack transport\n\tjQuery.ajaxTransport(\"script\", function (s) {\n\n\t\t// This transport only deals with cross domain requests\n\t\tif (s.crossDomain) {\n\n\t\t\tvar script,\n\t\t\t    head = document.head || jQuery(\"head\")[0] || document.documentElement;\n\n\t\t\treturn {\n\n\t\t\t\tsend: function send(_, callback) {\n\n\t\t\t\t\tscript = document.createElement(\"script\");\n\n\t\t\t\t\tscript.async = true;\n\n\t\t\t\t\tif (s.scriptCharset) {\n\t\t\t\t\t\tscript.charset = s.scriptCharset;\n\t\t\t\t\t}\n\n\t\t\t\t\tscript.src = s.url;\n\n\t\t\t\t\t// Attach handlers for all browsers\n\t\t\t\t\tscript.onload = script.onreadystatechange = function (_, isAbort) {\n\n\t\t\t\t\t\tif (isAbort || !script.readyState || /loaded|complete/.test(script.readyState)) {\n\n\t\t\t\t\t\t\t// Handle memory leak in IE\n\t\t\t\t\t\t\tscript.onload = script.onreadystatechange = null;\n\n\t\t\t\t\t\t\t// Remove the script\n\t\t\t\t\t\t\tif (script.parentNode) {\n\t\t\t\t\t\t\t\tscript.parentNode.removeChild(script);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Dereference the script\n\t\t\t\t\t\t\tscript = null;\n\n\t\t\t\t\t\t\t// Callback if not abort\n\t\t\t\t\t\t\tif (!isAbort) {\n\t\t\t\t\t\t\t\tcallback(200, \"success\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// Circumvent IE6 bugs with base elements (#2709 and #4378) by prepending\n\t\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\t\thead.insertBefore(script, head.firstChild);\n\t\t\t\t},\n\n\t\t\t\tabort: function abort() {\n\t\t\t\t\tif (script) {\n\t\t\t\t\t\tscript.onload(undefined, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t});\n\tvar oldCallbacks = [],\n\t    rjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n\t// Default jsonp settings\n\tjQuery.ajaxSetup({\n\t\tjsonp: \"callback\",\n\t\tjsonpCallback: function jsonpCallback() {\n\t\t\tvar callback = oldCallbacks.pop() || jQuery.expando + \"_\" + ajax_nonce++;\n\t\t\tthis[callback] = true;\n\t\t\treturn callback;\n\t\t}\n\t});\n\n\t// Detect, normalize options and install callbacks for jsonp requests\n\tjQuery.ajaxPrefilter(\"json jsonp\", function (s, originalSettings, jqXHR) {\n\n\t\tvar callbackName,\n\t\t    overwritten,\n\t\t    responseContainer,\n\t\t    jsonProp = s.jsonp !== false && (rjsonp.test(s.url) ? \"url\" : typeof s.data === \"string\" && !(s.contentType || \"\").indexOf(\"application/x-www-form-urlencoded\") && rjsonp.test(s.data) && \"data\");\n\n\t\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\t\tif (jsonProp || s.dataTypes[0] === \"jsonp\") {\n\n\t\t\t// Get callback name, remembering preexisting value associated with it\n\t\t\tcallbackName = s.jsonpCallback = jQuery.isFunction(s.jsonpCallback) ? s.jsonpCallback() : s.jsonpCallback;\n\n\t\t\t// Insert callback into url or form data\n\t\t\tif (jsonProp) {\n\t\t\t\ts[jsonProp] = s[jsonProp].replace(rjsonp, \"$1\" + callbackName);\n\t\t\t} else if (s.jsonp !== false) {\n\t\t\t\ts.url += (ajax_rquery.test(s.url) ? \"&\" : \"?\") + s.jsonp + \"=\" + callbackName;\n\t\t\t}\n\n\t\t\t// Use data converter to retrieve json after script execution\n\t\t\ts.converters[\"script json\"] = function () {\n\t\t\t\tif (!responseContainer) {\n\t\t\t\t\tjQuery.error(callbackName + \" was not called\");\n\t\t\t\t}\n\t\t\t\treturn responseContainer[0];\n\t\t\t};\n\n\t\t\t// force json dataType\n\t\t\ts.dataTypes[0] = \"json\";\n\n\t\t\t// Install callback\n\t\t\toverwritten = window[callbackName];\n\t\t\twindow[callbackName] = function () {\n\t\t\t\tresponseContainer = arguments;\n\t\t\t};\n\n\t\t\t// Clean-up function (fires after converters)\n\t\t\tjqXHR.always(function () {\n\t\t\t\t// Restore preexisting value\n\t\t\t\twindow[callbackName] = overwritten;\n\n\t\t\t\t// Save back as free\n\t\t\t\tif (s[callbackName]) {\n\t\t\t\t\t// make sure that re-using the options doesn't screw things around\n\t\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t\t// save the callback name for future use\n\t\t\t\t\toldCallbacks.push(callbackName);\n\t\t\t\t}\n\n\t\t\t\t// Call if it was a function and we have a response\n\t\t\t\tif (responseContainer && jQuery.isFunction(overwritten)) {\n\t\t\t\t\toverwritten(responseContainer[0]);\n\t\t\t\t}\n\n\t\t\t\tresponseContainer = overwritten = undefined;\n\t\t\t});\n\n\t\t\t// Delegate to script\n\t\t\treturn \"script\";\n\t\t}\n\t});\n\tvar xhrCallbacks,\n\t    xhrSupported,\n\t    xhrId = 0,\n\n\t// #5280: Internet Explorer will keep connections alive if we don't abort on unload\n\txhrOnUnloadAbort = window.ActiveXObject && function () {\n\t\t// Abort all pending requests\n\t\tvar key;\n\t\tfor (key in xhrCallbacks) {\n\t\t\txhrCallbacks[key](undefined, true);\n\t\t}\n\t};\n\n\t// Functions to create xhrs\n\tfunction createStandardXHR() {\n\t\ttry {\n\t\t\treturn new window.XMLHttpRequest();\n\t\t} catch (e) {}\n\t}\n\n\tfunction createActiveXHR() {\n\t\ttry {\n\t\t\treturn new window.ActiveXObject(\"Microsoft.XMLHTTP\");\n\t\t} catch (e) {}\n\t}\n\n\t// Create the request object\n\t// (This is still attached to ajaxSettings for backward compatibility)\n\tjQuery.ajaxSettings.xhr = window.ActiveXObject ?\n\t/* Microsoft failed to properly\n  * implement the XMLHttpRequest in IE7 (can't request local files),\n  * so we use the ActiveXObject when it is available\n  * Additionally XMLHttpRequest can be disabled in IE7/IE8 so\n  * we need a fallback.\n  */\n\tfunction () {\n\t\treturn !this.isLocal && createStandardXHR() || createActiveXHR();\n\t} :\n\t// For all other browsers, use the standard XMLHttpRequest object\n\tcreateStandardXHR;\n\n\t// Determine support properties\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\tjQuery.support.cors = !!xhrSupported && \"withCredentials\" in xhrSupported;\n\txhrSupported = jQuery.support.ajax = !!xhrSupported;\n\n\t// Create transport if the browser can provide an xhr\n\tif (xhrSupported) {\n\n\t\tjQuery.ajaxTransport(function (s) {\n\t\t\t// Cross domain only allowed if supported through XMLHttpRequest\n\t\t\tif (!s.crossDomain || jQuery.support.cors) {\n\n\t\t\t\tvar _callback;\n\n\t\t\t\treturn {\n\t\t\t\t\tsend: function send(headers, complete) {\n\n\t\t\t\t\t\t// Get a new xhr\n\t\t\t\t\t\tvar handle,\n\t\t\t\t\t\t    i,\n\t\t\t\t\t\t    xhr = s.xhr();\n\n\t\t\t\t\t\t// Open the socket\n\t\t\t\t\t\t// Passing null username, generates a login popup on Opera (#2865)\n\t\t\t\t\t\tif (s.username) {\n\t\t\t\t\t\t\txhr.open(s.type, s.url, s.async, s.username, s.password);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\txhr.open(s.type, s.url, s.async);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Apply custom fields if provided\n\t\t\t\t\t\tif (s.xhrFields) {\n\t\t\t\t\t\t\tfor (i in s.xhrFields) {\n\t\t\t\t\t\t\t\txhr[i] = s.xhrFields[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Override mime type if needed\n\t\t\t\t\t\tif (s.mimeType && xhr.overrideMimeType) {\n\t\t\t\t\t\t\txhr.overrideMimeType(s.mimeType);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// X-Requested-With header\n\t\t\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\t\t\tif (!s.crossDomain && !headers[\"X-Requested-With\"]) {\n\t\t\t\t\t\t\theaders[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Need an extra try/catch for cross domain requests in Firefox 3\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tfor (i in headers) {\n\t\t\t\t\t\t\t\txhr.setRequestHeader(i, headers[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {}\n\n\t\t\t\t\t\t// Do send the request\n\t\t\t\t\t\t// This may raise an exception which is actually\n\t\t\t\t\t\t// handled in jQuery.ajax (so no try/catch here)\n\t\t\t\t\t\txhr.send(s.hasContent && s.data || null);\n\n\t\t\t\t\t\t// Listener\n\t\t\t\t\t\t_callback = function callback(_, isAbort) {\n\n\t\t\t\t\t\t\tvar status, statusText, responseHeaders, responses, xml;\n\n\t\t\t\t\t\t\t// Firefox throws exceptions when accessing properties\n\t\t\t\t\t\t\t// of an xhr when a network error occurred\n\t\t\t\t\t\t\t// http://helpful.knobs-dials.com/index.php/Component_returned_failure_code:_0x80040111_(NS_ERROR_NOT_AVAILABLE)\n\t\t\t\t\t\t\ttry {\n\n\t\t\t\t\t\t\t\t// Was never called and is aborted or complete\n\t\t\t\t\t\t\t\tif (_callback && (isAbort || xhr.readyState === 4)) {\n\n\t\t\t\t\t\t\t\t\t// Only called once\n\t\t\t\t\t\t\t\t\t_callback = undefined;\n\n\t\t\t\t\t\t\t\t\t// Do not keep as active anymore\n\t\t\t\t\t\t\t\t\tif (handle) {\n\t\t\t\t\t\t\t\t\t\txhr.onreadystatechange = jQuery.noop;\n\t\t\t\t\t\t\t\t\t\tif (xhrOnUnloadAbort) {\n\t\t\t\t\t\t\t\t\t\t\tdelete xhrCallbacks[handle];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// If it's an abort\n\t\t\t\t\t\t\t\t\tif (isAbort) {\n\t\t\t\t\t\t\t\t\t\t// Abort it manually if needed\n\t\t\t\t\t\t\t\t\t\tif (xhr.readyState !== 4) {\n\t\t\t\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tresponses = {};\n\t\t\t\t\t\t\t\t\t\tstatus = xhr.status;\n\t\t\t\t\t\t\t\t\t\txml = xhr.responseXML;\n\t\t\t\t\t\t\t\t\t\tresponseHeaders = xhr.getAllResponseHeaders();\n\n\t\t\t\t\t\t\t\t\t\t// Construct response list\n\t\t\t\t\t\t\t\t\t\tif (xml && xml.documentElement /* #4958 */) {\n\t\t\t\t\t\t\t\t\t\t\t\tresponses.xml = xml;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// When requesting binary data, IE6-9 will throw an exception\n\t\t\t\t\t\t\t\t\t\t// on any attempt to access responseText (#11426)\n\t\t\t\t\t\t\t\t\t\tif (typeof xhr.responseText === \"string\") {\n\t\t\t\t\t\t\t\t\t\t\tresponses.text = xhr.responseText;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Firefox throws an exception when accessing\n\t\t\t\t\t\t\t\t\t\t// statusText for faulty cross-domain requests\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tstatusText = xhr.statusText;\n\t\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\t\t// We normalize with Webkit giving an empty statusText\n\t\t\t\t\t\t\t\t\t\t\tstatusText = \"\";\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Filter status for non standard behaviors\n\n\t\t\t\t\t\t\t\t\t\t// If the request is local and we have data: assume a success\n\t\t\t\t\t\t\t\t\t\t// (success with no data won't get notified, that's the best we\n\t\t\t\t\t\t\t\t\t\t// can do given current implementations)\n\t\t\t\t\t\t\t\t\t\tif (!status && s.isLocal && !s.crossDomain) {\n\t\t\t\t\t\t\t\t\t\t\tstatus = responses.text ? 200 : 404;\n\t\t\t\t\t\t\t\t\t\t\t// IE - #1450: sometimes returns 1223 when it should be 204\n\t\t\t\t\t\t\t\t\t\t} else if (status === 1223) {\n\t\t\t\t\t\t\t\t\t\t\tstatus = 204;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (firefoxAccessException) {\n\t\t\t\t\t\t\t\tif (!isAbort) {\n\t\t\t\t\t\t\t\t\tcomplete(-1, firefoxAccessException);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Call complete if needed\n\t\t\t\t\t\t\tif (responses) {\n\t\t\t\t\t\t\t\tcomplete(status, statusText, responses, responseHeaders);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!s.async) {\n\t\t\t\t\t\t\t// if we're in sync mode we fire the callback\n\t\t\t\t\t\t\t_callback();\n\t\t\t\t\t\t} else if (xhr.readyState === 4) {\n\t\t\t\t\t\t\t// (IE6 & IE7) if it's in cache and has been\n\t\t\t\t\t\t\t// retrieved directly we need to fire the callback\n\t\t\t\t\t\t\tsetTimeout(_callback);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thandle = ++xhrId;\n\t\t\t\t\t\t\tif (xhrOnUnloadAbort) {\n\t\t\t\t\t\t\t\t// Create the active xhrs callbacks list if needed\n\t\t\t\t\t\t\t\t// and attach the unload handler\n\t\t\t\t\t\t\t\tif (!xhrCallbacks) {\n\t\t\t\t\t\t\t\t\txhrCallbacks = {};\n\t\t\t\t\t\t\t\t\tjQuery(window).unload(xhrOnUnloadAbort);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Add to list of active xhrs callbacks\n\t\t\t\t\t\t\t\txhrCallbacks[handle] = _callback;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\txhr.onreadystatechange = _callback;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tabort: function abort() {\n\t\t\t\t\t\tif (_callback) {\n\t\t\t\t\t\t\t_callback(undefined, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t}\n\tvar fxNow,\n\t    timerId,\n\t    rfxtypes = /^(?:toggle|show|hide)$/,\n\t    rfxnum = new RegExp(\"^(?:([+-])=|)(\" + core_pnum + \")([a-z%]*)$\", \"i\"),\n\t    rrun = /queueHooks$/,\n\t    animationPrefilters = [defaultPrefilter],\n\t    tweeners = {\n\t\t\"*\": [function (prop, value) {\n\t\t\tvar end,\n\t\t\t    unit,\n\t\t\t    tween = this.createTween(prop, value),\n\t\t\t    parts = rfxnum.exec(value),\n\t\t\t    target = tween.cur(),\n\t\t\t    start = +target || 0,\n\t\t\t    scale = 1,\n\t\t\t    maxIterations = 20;\n\n\t\t\tif (parts) {\n\t\t\t\tend = +parts[2];\n\t\t\t\tunit = parts[3] || (jQuery.cssNumber[prop] ? \"\" : \"px\");\n\n\t\t\t\t// We need to compute starting value\n\t\t\t\tif (unit !== \"px\" && start) {\n\t\t\t\t\t// Iteratively approximate from a nonzero starting point\n\t\t\t\t\t// Prefer the current property, because this process will be trivial if it uses the same units\n\t\t\t\t\t// Fallback to end or a simple constant\n\t\t\t\t\tstart = jQuery.css(tween.elem, prop, true) || end || 1;\n\n\t\t\t\t\tdo {\n\t\t\t\t\t\t// If previous iteration zeroed out, double until we get *something*\n\t\t\t\t\t\t// Use a string for doubling factor so we don't accidentally see scale as unchanged below\n\t\t\t\t\t\tscale = scale || \".5\";\n\n\t\t\t\t\t\t// Adjust and apply\n\t\t\t\t\t\tstart = start / scale;\n\t\t\t\t\t\tjQuery.style(tween.elem, prop, start + unit);\n\n\t\t\t\t\t\t// Update scale, tolerating zero or NaN from tween.cur()\n\t\t\t\t\t\t// And breaking the loop if scale is unchanged or perfect, or if we've just had enough\n\t\t\t\t\t} while (scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations);\n\t\t\t\t}\n\n\t\t\t\ttween.unit = unit;\n\t\t\t\ttween.start = start;\n\t\t\t\t// If a +=/-= token was provided, we're doing a relative animation\n\t\t\t\ttween.end = parts[1] ? start + (parts[1] + 1) * end : end;\n\t\t\t}\n\t\t\treturn tween;\n\t\t}]\n\t};\n\n\t// Animations created synchronously will run synchronously\n\tfunction createFxNow() {\n\t\tsetTimeout(function () {\n\t\t\tfxNow = undefined;\n\t\t});\n\t\treturn fxNow = jQuery.now();\n\t}\n\n\tfunction createTweens(animation, props) {\n\t\tjQuery.each(props, function (prop, value) {\n\t\t\tvar collection = (tweeners[prop] || []).concat(tweeners[\"*\"]),\n\t\t\t    index = 0,\n\t\t\t    length = collection.length;\n\t\t\tfor (; index < length; index++) {\n\t\t\t\tif (collection[index].call(animation, prop, value)) {\n\n\t\t\t\t\t// we're done with this property\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction Animation(elem, properties, options) {\n\t\tvar result,\n\t\t    stopped,\n\t\t    index = 0,\n\t\t    length = animationPrefilters.length,\n\t\t    deferred = jQuery.Deferred().always(function () {\n\t\t\t// don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t}),\n\t\t    tick = function tick() {\n\t\t\tif (stopped) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t    remaining = Math.max(0, animation.startTime + animation.duration - currentTime),\n\n\t\t\t// archaic crash bug won't allow us to use 1 - ( 0.5 || 0 ) (#12497)\n\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t    percent = 1 - temp,\n\t\t\t    index = 0,\n\t\t\t    length = animation.tweens.length;\n\n\t\t\tfor (; index < length; index++) {\n\t\t\t\tanimation.tweens[index].run(percent);\n\t\t\t}\n\n\t\t\tdeferred.notifyWith(elem, [animation, percent, remaining]);\n\n\t\t\tif (percent < 1 && length) {\n\t\t\t\treturn remaining;\n\t\t\t} else {\n\t\t\t\tdeferred.resolveWith(elem, [animation]);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t    animation = deferred.promise({\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend({}, properties),\n\t\t\topts: jQuery.extend(true, { specialEasing: {} }, options),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function createTween(prop, end) {\n\t\t\t\tvar tween = jQuery.Tween(elem, animation.opts, prop, end, animation.opts.specialEasing[prop] || animation.opts.easing);\n\t\t\t\tanimation.tweens.push(tween);\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function stop(gotoEnd) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t// if we are going to the end, we want to run all the tweens\n\t\t\t\t// otherwise we skip this part\n\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif (stopped) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor (; index < length; index++) {\n\t\t\t\t\tanimation.tweens[index].run(1);\n\t\t\t\t}\n\n\t\t\t\t// resolve when we played the last frame\n\t\t\t\t// otherwise, reject\n\t\t\t\tif (gotoEnd) {\n\t\t\t\t\tdeferred.resolveWith(elem, [animation, gotoEnd]);\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith(elem, [animation, gotoEnd]);\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}),\n\t\t    props = animation.props;\n\n\t\tpropFilter(props, animation.opts.specialEasing);\n\n\t\tfor (; index < length; index++) {\n\t\t\tresult = animationPrefilters[index].call(animation, elem, props, animation.opts);\n\t\t\tif (result) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\n\t\tcreateTweens(animation, props);\n\n\t\tif (jQuery.isFunction(animation.opts.start)) {\n\t\t\tanimation.opts.start.call(elem, animation);\n\t\t}\n\n\t\tjQuery.fx.timer(jQuery.extend(tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t}));\n\n\t\t// attach callbacks from options\n\t\treturn animation.progress(animation.opts.progress).done(animation.opts.done, animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always);\n\t}\n\n\tfunction propFilter(props, specialEasing) {\n\t\tvar index, name, easing, value, hooks;\n\n\t\t// camelCase, specialEasing and expand cssHook pass\n\t\tfor (index in props) {\n\t\t\tname = jQuery.camelCase(index);\n\t\t\teasing = specialEasing[name];\n\t\t\tvalue = props[index];\n\t\t\tif (jQuery.isArray(value)) {\n\t\t\t\teasing = value[1];\n\t\t\t\tvalue = props[index] = value[0];\n\t\t\t}\n\n\t\t\tif (index !== name) {\n\t\t\t\tprops[name] = value;\n\t\t\t\tdelete props[index];\n\t\t\t}\n\n\t\t\thooks = jQuery.cssHooks[name];\n\t\t\tif (hooks && \"expand\" in hooks) {\n\t\t\t\tvalue = hooks.expand(value);\n\t\t\t\tdelete props[name];\n\n\t\t\t\t// not quite $.extend, this wont overwrite keys already present.\n\t\t\t\t// also - reusing 'index' from above because we have the correct \"name\"\n\t\t\t\tfor (index in value) {\n\t\t\t\t\tif (!(index in props)) {\n\t\t\t\t\t\tprops[index] = value[index];\n\t\t\t\t\t\tspecialEasing[index] = easing;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tspecialEasing[name] = easing;\n\t\t\t}\n\t\t}\n\t}\n\n\tjQuery.Animation = jQuery.extend(Animation, {\n\n\t\ttweener: function tweener(props, callback) {\n\t\t\tif (jQuery.isFunction(props)) {\n\t\t\t\tcallback = props;\n\t\t\t\tprops = [\"*\"];\n\t\t\t} else {\n\t\t\t\tprops = props.split(\" \");\n\t\t\t}\n\n\t\t\tvar prop,\n\t\t\t    index = 0,\n\t\t\t    length = props.length;\n\n\t\t\tfor (; index < length; index++) {\n\t\t\t\tprop = props[index];\n\t\t\t\ttweeners[prop] = tweeners[prop] || [];\n\t\t\t\ttweeners[prop].unshift(callback);\n\t\t\t}\n\t\t},\n\n\t\tprefilter: function prefilter(callback, prepend) {\n\t\t\tif (prepend) {\n\t\t\t\tanimationPrefilters.unshift(callback);\n\t\t\t} else {\n\t\t\t\tanimationPrefilters.push(callback);\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction defaultPrefilter(elem, props, opts) {\n\t\t/*jshint validthis:true */\n\t\tvar index,\n\t\t    prop,\n\t\t    value,\n\t\t    length,\n\t\t    dataShow,\n\t\t    toggle,\n\t\t    tween,\n\t\t    hooks,\n\t\t    oldfire,\n\t\t    anim = this,\n\t\t    style = elem.style,\n\t\t    orig = {},\n\t\t    handled = [],\n\t\t    hidden = elem.nodeType && isHidden(elem);\n\n\t\t// handle queue: false promises\n\t\tif (!opts.queue) {\n\t\t\thooks = jQuery._queueHooks(elem, \"fx\");\n\t\t\tif (hooks.unqueued == null) {\n\t\t\t\thooks.unqueued = 0;\n\t\t\t\toldfire = hooks.empty.fire;\n\t\t\t\thooks.empty.fire = function () {\n\t\t\t\t\tif (!hooks.unqueued) {\n\t\t\t\t\t\toldfire();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\thooks.unqueued++;\n\n\t\t\tanim.always(function () {\n\t\t\t\t// doing this makes sure that the complete handler will be called\n\t\t\t\t// before this completes\n\t\t\t\tanim.always(function () {\n\t\t\t\t\thooks.unqueued--;\n\t\t\t\t\tif (!jQuery.queue(elem, \"fx\").length) {\n\t\t\t\t\t\thooks.empty.fire();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// height/width overflow pass\n\t\tif (elem.nodeType === 1 && (\"height\" in props || \"width\" in props)) {\n\t\t\t// Make sure that nothing sneaks out\n\t\t\t// Record all 3 overflow attributes because IE does not\n\t\t\t// change the overflow attribute when overflowX and\n\t\t\t// overflowY are set to the same value\n\t\t\topts.overflow = [style.overflow, style.overflowX, style.overflowY];\n\n\t\t\t// Set display property to inline-block for height/width\n\t\t\t// animations on inline elements that are having width/height animated\n\t\t\tif (jQuery.css(elem, \"display\") === \"inline\" && jQuery.css(elem, \"float\") === \"none\") {\n\n\t\t\t\t// inline-level elements accept inline-block;\n\t\t\t\t// block-level elements need to be inline with layout\n\t\t\t\tif (!jQuery.support.inlineBlockNeedsLayout || css_defaultDisplay(elem.nodeName) === \"inline\") {\n\t\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t\t} else {\n\t\t\t\t\tstyle.zoom = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (opts.overflow) {\n\t\t\tstyle.overflow = \"hidden\";\n\t\t\tif (!jQuery.support.shrinkWrapBlocks) {\n\t\t\t\tanim.done(function () {\n\t\t\t\t\tstyle.overflow = opts.overflow[0];\n\t\t\t\t\tstyle.overflowX = opts.overflow[1];\n\t\t\t\t\tstyle.overflowY = opts.overflow[2];\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// show/hide pass\n\t\tfor (index in props) {\n\t\t\tvalue = props[index];\n\t\t\tif (rfxtypes.exec(value)) {\n\t\t\t\tdelete props[index];\n\t\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\t\tif (value === (hidden ? \"hide\" : \"show\")) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\thandled.push(index);\n\t\t\t}\n\t\t}\n\n\t\tlength = handled.length;\n\t\tif (length) {\n\t\t\tdataShow = jQuery._data(elem, \"fxshow\") || jQuery._data(elem, \"fxshow\", {});\n\t\t\tif (\"hidden\" in dataShow) {\n\t\t\t\thidden = dataShow.hidden;\n\t\t\t}\n\n\t\t\t// store state if its toggle - enables .stop().toggle() to \"reverse\"\n\t\t\tif (toggle) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\t\t\tif (hidden) {\n\t\t\t\tjQuery(elem).show();\n\t\t\t} else {\n\t\t\t\tanim.done(function () {\n\t\t\t\t\tjQuery(elem).hide();\n\t\t\t\t});\n\t\t\t}\n\t\t\tanim.done(function () {\n\t\t\t\tvar prop;\n\t\t\t\tjQuery._removeData(elem, \"fxshow\");\n\t\t\t\tfor (prop in orig) {\n\t\t\t\t\tjQuery.style(elem, prop, orig[prop]);\n\t\t\t\t}\n\t\t\t});\n\t\t\tfor (index = 0; index < length; index++) {\n\t\t\t\tprop = handled[index];\n\t\t\t\ttween = anim.createTween(prop, hidden ? dataShow[prop] : 0);\n\t\t\t\torig[prop] = dataShow[prop] || jQuery.style(elem, prop);\n\n\t\t\t\tif (!(prop in dataShow)) {\n\t\t\t\t\tdataShow[prop] = tween.start;\n\t\t\t\t\tif (hidden) {\n\t\t\t\t\t\ttween.end = tween.start;\n\t\t\t\t\t\ttween.start = prop === \"width\" || prop === \"height\" ? 1 : 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction Tween(elem, options, prop, end, easing) {\n\t\treturn new Tween.prototype.init(elem, options, prop, end, easing);\n\t}\n\tjQuery.Tween = Tween;\n\n\tTween.prototype = {\n\t\tconstructor: Tween,\n\t\tinit: function init(elem, options, prop, end, easing, unit) {\n\t\t\tthis.elem = elem;\n\t\t\tthis.prop = prop;\n\t\t\tthis.easing = easing || \"swing\";\n\t\t\tthis.options = options;\n\t\t\tthis.start = this.now = this.cur();\n\t\t\tthis.end = end;\n\t\t\tthis.unit = unit || (jQuery.cssNumber[prop] ? \"\" : \"px\");\n\t\t},\n\t\tcur: function cur() {\n\t\t\tvar hooks = Tween.propHooks[this.prop];\n\n\t\t\treturn hooks && hooks.get ? hooks.get(this) : Tween.propHooks._default.get(this);\n\t\t},\n\t\trun: function run(percent) {\n\t\t\tvar eased,\n\t\t\t    hooks = Tween.propHooks[this.prop];\n\n\t\t\tif (this.options.duration) {\n\t\t\t\tthis.pos = eased = jQuery.easing[this.easing](percent, this.options.duration * percent, 0, 1, this.options.duration);\n\t\t\t} else {\n\t\t\t\tthis.pos = eased = percent;\n\t\t\t}\n\t\t\tthis.now = (this.end - this.start) * eased + this.start;\n\n\t\t\tif (this.options.step) {\n\t\t\t\tthis.options.step.call(this.elem, this.now, this);\n\t\t\t}\n\n\t\t\tif (hooks && hooks.set) {\n\t\t\t\thooks.set(this);\n\t\t\t} else {\n\t\t\t\tTween.propHooks._default.set(this);\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t};\n\n\tTween.prototype.init.prototype = Tween.prototype;\n\n\tTween.propHooks = {\n\t\t_default: {\n\t\t\tget: function get(tween) {\n\t\t\t\tvar result;\n\n\t\t\t\tif (tween.elem[tween.prop] != null && (!tween.elem.style || tween.elem.style[tween.prop] == null)) {\n\t\t\t\t\treturn tween.elem[tween.prop];\n\t\t\t\t}\n\n\t\t\t\t// passing a non empty string as a 3rd parameter to .css will automatically\n\t\t\t\t// attempt a parseFloat and fallback to a string if the parse fails\n\t\t\t\t// so, simple values such as \"10px\" are parsed to Float.\n\t\t\t\t// complex values such as \"rotate(1rad)\" are returned as is.\n\t\t\t\tresult = jQuery.css(tween.elem, tween.prop, \"auto\");\n\t\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t\t},\n\t\t\tset: function set(tween) {\n\t\t\t\t// use step hook for back compat - use cssHook if its there - use .style if its\n\t\t\t\t// available and use plain properties where available\n\t\t\t\tif (jQuery.fx.step[tween.prop]) {\n\t\t\t\t\tjQuery.fx.step[tween.prop](tween);\n\t\t\t\t} else if (tween.elem.style && (tween.elem.style[jQuery.cssProps[tween.prop]] != null || jQuery.cssHooks[tween.prop])) {\n\t\t\t\t\tjQuery.style(tween.elem, tween.prop, tween.now + tween.unit);\n\t\t\t\t} else {\n\t\t\t\t\ttween.elem[tween.prop] = tween.now;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// Remove in 2.0 - this supports IE8's panic based approach\n\t// to setting things on disconnected nodes\n\n\tTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\t\tset: function set(tween) {\n\t\t\tif (tween.elem.nodeType && tween.elem.parentNode) {\n\t\t\t\ttween.elem[tween.prop] = tween.now;\n\t\t\t}\n\t\t}\n\t};\n\n\tjQuery.each([\"toggle\", \"show\", \"hide\"], function (i, name) {\n\t\tvar cssFn = jQuery.fn[name];\n\t\tjQuery.fn[name] = function (speed, easing, callback) {\n\t\t\treturn speed == null || typeof speed === \"boolean\" ? cssFn.apply(this, arguments) : this.animate(genFx(name, true), speed, easing, callback);\n\t\t};\n\t});\n\n\tjQuery.fn.extend({\n\t\tfadeTo: function fadeTo(speed, to, easing, callback) {\n\n\t\t\t// show any hidden elements after setting opacity to 0\n\t\t\treturn this.filter(isHidden).css(\"opacity\", 0).show()\n\n\t\t\t// animate to the value specified\n\t\t\t.end().animate({ opacity: to }, speed, easing, callback);\n\t\t},\n\t\tanimate: function animate(prop, speed, easing, callback) {\n\t\t\tvar empty = jQuery.isEmptyObject(prop),\n\t\t\t    optall = jQuery.speed(speed, easing, callback),\n\t\t\t    doAnimation = function doAnimation() {\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation(this, jQuery.extend({}, prop), optall);\n\t\t\t\tdoAnimation.finish = function () {\n\t\t\t\t\tanim.stop(true);\n\t\t\t\t};\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif (empty || jQuery._data(this, \"finish\")) {\n\t\t\t\t\tanim.stop(true);\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\t\treturn empty || optall.queue === false ? this.each(doAnimation) : this.queue(optall.queue, doAnimation);\n\t\t},\n\t\tstop: function stop(type, clearQueue, gotoEnd) {\n\t\t\tvar stopQueue = function stopQueue(hooks) {\n\t\t\t\tvar stop = hooks.stop;\n\t\t\t\tdelete hooks.stop;\n\t\t\t\tstop(gotoEnd);\n\t\t\t};\n\n\t\t\tif (typeof type !== \"string\") {\n\t\t\t\tgotoEnd = clearQueue;\n\t\t\t\tclearQueue = type;\n\t\t\t\ttype = undefined;\n\t\t\t}\n\t\t\tif (clearQueue && type !== false) {\n\t\t\t\tthis.queue(type || \"fx\", []);\n\t\t\t}\n\n\t\t\treturn this.each(function () {\n\t\t\t\tvar dequeue = true,\n\t\t\t\t    index = type != null && type + \"queueHooks\",\n\t\t\t\t    timers = jQuery.timers,\n\t\t\t\t    data = jQuery._data(this);\n\n\t\t\t\tif (index) {\n\t\t\t\t\tif (data[index] && data[index].stop) {\n\t\t\t\t\t\tstopQueue(data[index]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (index in data) {\n\t\t\t\t\t\tif (data[index] && data[index].stop && rrun.test(index)) {\n\t\t\t\t\t\t\tstopQueue(data[index]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (index = timers.length; index--;) {\n\t\t\t\t\tif (timers[index].elem === this && (type == null || timers[index].queue === type)) {\n\t\t\t\t\t\ttimers[index].anim.stop(gotoEnd);\n\t\t\t\t\t\tdequeue = false;\n\t\t\t\t\t\ttimers.splice(index, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// start the next in the queue if the last step wasn't forced\n\t\t\t\t// timers currently will call their complete callbacks, which will dequeue\n\t\t\t\t// but only if they were gotoEnd\n\t\t\t\tif (dequeue || !gotoEnd) {\n\t\t\t\t\tjQuery.dequeue(this, type);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tfinish: function finish(type) {\n\t\t\tif (type !== false) {\n\t\t\t\ttype = type || \"fx\";\n\t\t\t}\n\t\t\treturn this.each(function () {\n\t\t\t\tvar index,\n\t\t\t\t    data = jQuery._data(this),\n\t\t\t\t    queue = data[type + \"queue\"],\n\t\t\t\t    hooks = data[type + \"queueHooks\"],\n\t\t\t\t    timers = jQuery.timers,\n\t\t\t\t    length = queue ? queue.length : 0;\n\n\t\t\t\t// enable finishing flag on private data\n\t\t\t\tdata.finish = true;\n\n\t\t\t\t// empty the queue first\n\t\t\t\tjQuery.queue(this, type, []);\n\n\t\t\t\tif (hooks && hooks.cur && hooks.cur.finish) {\n\t\t\t\t\thooks.cur.finish.call(this);\n\t\t\t\t}\n\n\t\t\t\t// look for any active animations, and finish them\n\t\t\t\tfor (index = timers.length; index--;) {\n\t\t\t\t\tif (timers[index].elem === this && timers[index].queue === type) {\n\t\t\t\t\t\ttimers[index].anim.stop(true);\n\t\t\t\t\t\ttimers.splice(index, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// look for any animations in the old queue and finish them\n\t\t\t\tfor (index = 0; index < length; index++) {\n\t\t\t\t\tif (queue[index] && queue[index].finish) {\n\t\t\t\t\t\tqueue[index].finish.call(this);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// turn off finishing flag\n\t\t\t\tdelete data.finish;\n\t\t\t});\n\t\t}\n\t});\n\n\t// Generate parameters to create a standard animation\n\tfunction genFx(type, includeWidth) {\n\t\tvar which,\n\t\t    attrs = { height: type },\n\t\t    i = 0;\n\n\t\t// if we include width, step value is 1 to do all cssExpand values,\n\t\t// if we don't include width, step value is 2 to skip over Left and Right\n\t\tincludeWidth = includeWidth ? 1 : 0;\n\t\tfor (; i < 4; i += 2 - includeWidth) {\n\t\t\twhich = cssExpand[i];\n\t\t\tattrs[\"margin\" + which] = attrs[\"padding\" + which] = type;\n\t\t}\n\n\t\tif (includeWidth) {\n\t\t\tattrs.opacity = attrs.width = type;\n\t\t}\n\n\t\treturn attrs;\n\t}\n\n\t// Generate shortcuts for custom animations\n\tjQuery.each({\n\t\tslideDown: genFx(\"show\"),\n\t\tslideUp: genFx(\"hide\"),\n\t\tslideToggle: genFx(\"toggle\"),\n\t\tfadeIn: { opacity: \"show\" },\n\t\tfadeOut: { opacity: \"hide\" },\n\t\tfadeToggle: { opacity: \"toggle\" }\n\t}, function (name, props) {\n\t\tjQuery.fn[name] = function (speed, easing, callback) {\n\t\t\treturn this.animate(props, speed, easing, callback);\n\t\t};\n\t});\n\n\tjQuery.speed = function (speed, easing, fn) {\n\t\tvar opt = speed && (typeof speed === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(speed)) === \"object\" ? jQuery.extend({}, speed) : {\n\t\t\tcomplete: fn || !fn && easing || jQuery.isFunction(speed) && speed,\n\t\t\tduration: speed,\n\t\t\teasing: fn && easing || easing && !jQuery.isFunction(easing) && easing\n\t\t};\n\n\t\topt.duration = jQuery.fx.off ? 0 : typeof opt.duration === \"number\" ? opt.duration : opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[opt.duration] : jQuery.fx.speeds._default;\n\n\t\t// normalize opt.queue - true/undefined/null -> \"fx\"\n\t\tif (opt.queue == null || opt.queue === true) {\n\t\t\topt.queue = \"fx\";\n\t\t}\n\n\t\t// Queueing\n\t\topt.old = opt.complete;\n\n\t\topt.complete = function () {\n\t\t\tif (jQuery.isFunction(opt.old)) {\n\t\t\t\topt.old.call(this);\n\t\t\t}\n\n\t\t\tif (opt.queue) {\n\t\t\t\tjQuery.dequeue(this, opt.queue);\n\t\t\t}\n\t\t};\n\n\t\treturn opt;\n\t};\n\n\tjQuery.easing = {\n\t\tlinear: function linear(p) {\n\t\t\treturn p;\n\t\t},\n\t\tswing: function swing(p) {\n\t\t\treturn 0.5 - Math.cos(p * Math.PI) / 2;\n\t\t}\n\t};\n\n\tjQuery.timers = [];\n\tjQuery.fx = Tween.prototype.init;\n\tjQuery.fx.tick = function () {\n\t\tvar timer,\n\t\t    timers = jQuery.timers,\n\t\t    i = 0;\n\n\t\tfxNow = jQuery.now();\n\n\t\tfor (; i < timers.length; i++) {\n\t\t\ttimer = timers[i];\n\t\t\t// Checks the timer has not already been removed\n\t\t\tif (!timer() && timers[i] === timer) {\n\t\t\t\ttimers.splice(i--, 1);\n\t\t\t}\n\t\t}\n\n\t\tif (!timers.length) {\n\t\t\tjQuery.fx.stop();\n\t\t}\n\t\tfxNow = undefined;\n\t};\n\n\tjQuery.fx.timer = function (timer) {\n\t\tif (timer() && jQuery.timers.push(timer)) {\n\t\t\tjQuery.fx.start();\n\t\t}\n\t};\n\n\tjQuery.fx.interval = 13;\n\n\tjQuery.fx.start = function () {\n\t\tif (!timerId) {\n\t\t\ttimerId = setInterval(jQuery.fx.tick, jQuery.fx.interval);\n\t\t}\n\t};\n\n\tjQuery.fx.stop = function () {\n\t\tclearInterval(timerId);\n\t\ttimerId = null;\n\t};\n\n\tjQuery.fx.speeds = {\n\t\tslow: 600,\n\t\tfast: 200,\n\t\t// Default speed\n\t\t_default: 400\n\t};\n\n\t// Back Compat <1.8 extension point\n\tjQuery.fx.step = {};\n\n\tif (jQuery.expr && jQuery.expr.filters) {\n\t\tjQuery.expr.filters.animated = function (elem) {\n\t\t\treturn jQuery.grep(jQuery.timers, function (fn) {\n\t\t\t\treturn elem === fn.elem;\n\t\t\t}).length;\n\t\t};\n\t}\n\tjQuery.fn.offset = function (options) {\n\t\tif (arguments.length) {\n\t\t\treturn options === undefined ? this : this.each(function (i) {\n\t\t\t\tjQuery.offset.setOffset(this, options, i);\n\t\t\t});\n\t\t}\n\n\t\tvar docElem,\n\t\t    win,\n\t\t    box = { top: 0, left: 0 },\n\t\t    elem = this[0],\n\t\t    doc = elem && elem.ownerDocument;\n\n\t\tif (!doc) {\n\t\t\treturn;\n\t\t}\n\n\t\tdocElem = doc.documentElement;\n\n\t\t// Make sure it's not a disconnected DOM node\n\t\tif (!jQuery.contains(docElem, elem)) {\n\t\t\treturn box;\n\t\t}\n\n\t\t// If we don't have gBCR, just use 0,0 rather than error\n\t\t// BlackBerry 5, iOS 3 (original iPhone)\n\t\tif (typeof elem.getBoundingClientRect !== \"undefined\") {\n\t\t\tbox = elem.getBoundingClientRect();\n\t\t}\n\t\twin = getWindow(doc);\n\t\treturn {\n\t\t\ttop: box.top + (win.pageYOffset || docElem.scrollTop) - (docElem.clientTop || 0),\n\t\t\tleft: box.left + (win.pageXOffset || docElem.scrollLeft) - (docElem.clientLeft || 0)\n\t\t};\n\t};\n\n\tjQuery.offset = {\n\n\t\tsetOffset: function setOffset(elem, options, i) {\n\t\t\tvar position = jQuery.css(elem, \"position\");\n\n\t\t\t// set position first, in-case top/left are set even on static elem\n\t\t\tif (position === \"static\") {\n\t\t\t\telem.style.position = \"relative\";\n\t\t\t}\n\n\t\t\tvar curElem = jQuery(elem),\n\t\t\t    curOffset = curElem.offset(),\n\t\t\t    curCSSTop = jQuery.css(elem, \"top\"),\n\t\t\t    curCSSLeft = jQuery.css(elem, \"left\"),\n\t\t\t    calculatePosition = (position === \"absolute\" || position === \"fixed\") && jQuery.inArray(\"auto\", [curCSSTop, curCSSLeft]) > -1,\n\t\t\t    props = {},\n\t\t\t    curPosition = {},\n\t\t\t    curTop,\n\t\t\t    curLeft;\n\n\t\t\t// need to be able to calculate position if either top or left is auto and position is either absolute or fixed\n\t\t\tif (calculatePosition) {\n\t\t\t\tcurPosition = curElem.position();\n\t\t\t\tcurTop = curPosition.top;\n\t\t\t\tcurLeft = curPosition.left;\n\t\t\t} else {\n\t\t\t\tcurTop = parseFloat(curCSSTop) || 0;\n\t\t\t\tcurLeft = parseFloat(curCSSLeft) || 0;\n\t\t\t}\n\n\t\t\tif (jQuery.isFunction(options)) {\n\t\t\t\toptions = options.call(elem, i, curOffset);\n\t\t\t}\n\n\t\t\tif (options.top != null) {\n\t\t\t\tprops.top = options.top - curOffset.top + curTop;\n\t\t\t}\n\t\t\tif (options.left != null) {\n\t\t\t\tprops.left = options.left - curOffset.left + curLeft;\n\t\t\t}\n\n\t\t\tif (\"using\" in options) {\n\t\t\t\toptions.using.call(elem, props);\n\t\t\t} else {\n\t\t\t\tcurElem.css(props);\n\t\t\t}\n\t\t}\n\t};\n\n\tjQuery.fn.extend({\n\n\t\tposition: function position() {\n\t\t\tif (!this[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar offsetParent,\n\t\t\t    offset,\n\t\t\t    parentOffset = { top: 0, left: 0 },\n\t\t\t    elem = this[0];\n\n\t\t\t// fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is it's only offset parent\n\t\t\tif (jQuery.css(elem, \"position\") === \"fixed\") {\n\t\t\t\t// we assume that getBoundingClientRect is available when computed position is fixed\n\t\t\t\toffset = elem.getBoundingClientRect();\n\t\t\t} else {\n\t\t\t\t// Get *real* offsetParent\n\t\t\t\toffsetParent = this.offsetParent();\n\n\t\t\t\t// Get correct offsets\n\t\t\t\toffset = this.offset();\n\t\t\t\tif (!jQuery.nodeName(offsetParent[0], \"html\")) {\n\t\t\t\t\tparentOffset = offsetParent.offset();\n\t\t\t\t}\n\n\t\t\t\t// Add offsetParent borders\n\t\t\t\tparentOffset.top += jQuery.css(offsetParent[0], \"borderTopWidth\", true);\n\t\t\t\tparentOffset.left += jQuery.css(offsetParent[0], \"borderLeftWidth\", true);\n\t\t\t}\n\n\t\t\t// Subtract parent offsets and element margins\n\t\t\t// note: when an element has margin: auto the offsetLeft and marginLeft\n\t\t\t// are the same in Safari causing offset.left to incorrectly be 0\n\t\t\treturn {\n\t\t\t\ttop: offset.top - parentOffset.top - jQuery.css(elem, \"marginTop\", true),\n\t\t\t\tleft: offset.left - parentOffset.left - jQuery.css(elem, \"marginLeft\", true)\n\t\t\t};\n\t\t},\n\n\t\toffsetParent: function offsetParent() {\n\t\t\treturn this.map(function () {\n\t\t\t\tvar offsetParent = this.offsetParent || document.documentElement;\n\t\t\t\twhile (offsetParent && !jQuery.nodeName(offsetParent, \"html\") && jQuery.css(offsetParent, \"position\") === \"static\") {\n\t\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t\t}\n\t\t\t\treturn offsetParent || document.documentElement;\n\t\t\t});\n\t\t}\n\t});\n\n\t// Create scrollLeft and scrollTop methods\n\tjQuery.each({ scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function (method, prop) {\n\t\tvar top = /Y/.test(prop);\n\n\t\tjQuery.fn[method] = function (val) {\n\t\t\treturn jQuery.access(this, function (elem, method, val) {\n\t\t\t\tvar win = getWindow(elem);\n\n\t\t\t\tif (val === undefined) {\n\t\t\t\t\treturn win ? prop in win ? win[prop] : win.document.documentElement[method] : elem[method];\n\t\t\t\t}\n\n\t\t\t\tif (win) {\n\t\t\t\t\twin.scrollTo(!top ? val : jQuery(win).scrollLeft(), top ? val : jQuery(win).scrollTop());\n\t\t\t\t} else {\n\t\t\t\t\telem[method] = val;\n\t\t\t\t}\n\t\t\t}, method, val, arguments.length, null);\n\t\t};\n\t});\n\n\tfunction getWindow(elem) {\n\t\treturn jQuery.isWindow(elem) ? elem : elem.nodeType === 9 ? elem.defaultView || elem.parentWindow : false;\n\t}\n\t// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\n\tjQuery.each({ Height: \"height\", Width: \"width\" }, function (name, type) {\n\t\tjQuery.each({ padding: \"inner\" + name, content: type, \"\": \"outer\" + name }, function (defaultExtra, funcName) {\n\t\t\t// margin is only for outerHeight, outerWidth\n\t\t\tjQuery.fn[funcName] = function (margin, value) {\n\t\t\t\tvar chainable = arguments.length && (defaultExtra || typeof margin !== \"boolean\"),\n\t\t\t\t    extra = defaultExtra || (margin === true || value === true ? \"margin\" : \"border\");\n\n\t\t\t\treturn jQuery.access(this, function (elem, type, value) {\n\t\t\t\t\tvar doc;\n\n\t\t\t\t\tif (jQuery.isWindow(elem)) {\n\t\t\t\t\t\t// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there\n\t\t\t\t\t\t// isn't a whole lot we can do. See pull request at this URL for discussion:\n\t\t\t\t\t\t// https://github.com/jquery/jquery/pull/764\n\t\t\t\t\t\treturn elem.document.documentElement[\"client\" + name];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Get document width or height\n\t\t\t\t\tif (elem.nodeType === 9) {\n\t\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height], whichever is greatest\n\t\t\t\t\t\t// unfortunately, this causes bug #3838 in IE6/8 only, but there is currently no good, small way to fix it.\n\t\t\t\t\t\treturn Math.max(elem.body[\"scroll\" + name], doc[\"scroll\" + name], elem.body[\"offset\" + name], doc[\"offset\" + name], doc[\"client\" + name]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value === undefined ?\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css(elem, type, extra) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style(elem, type, value, extra);\n\t\t\t\t}, type, chainable ? margin : undefined, chainable, null);\n\t\t\t};\n\t\t});\n\t});\n\t// Limit scope pollution from any deprecated API\n\t// (function() {\n\n\t// })();\n\t// Expose jQuery to the global object\n\twindow.jQuery = window.$ = jQuery;\n\n\t// Expose jQuery as an AMD module, but only for AMD loaders that\n\t// understand the issues with loading multiple versions of jQuery\n\t// in a page that all might call define(). The loader will indicate\n\t// they have special allowances for multiple jQuery versions by\n\t// specifying define.amd.jQuery = true. Register as a named module,\n\t// since jQuery can be concatenated with other files that may use define,\n\t// but not use a proper concatenation script that understands anonymous\n\t// AMD modules. A named AMD is safest and most robust way to register.\n\t// Lowercase jquery is used because AMD module names are derived from\n\t// file names, and jQuery is normally delivered in a lowercase file name.\n\t// Do this after creating the global so that if an AMD module wants to call\n\t// noConflict to hide this version of jQuery, it will work.\n\tif (typeof define === \"function\" && __webpack_require__(\"nErl\") && __webpack_require__(\"nErl\").jQuery) {\n\t\tdefine(\"jquery\", [], function () {\n\t\t\treturn jQuery;\n\t\t});\n\t}\n})(window);\n\n/***/ }),\n\n/***/ \"Y5xE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(\"Zx67\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(\"zwoO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass__ = __webpack_require__(\"wxAW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__ = __webpack_require__(\"Pf15\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__three_js__ = __webpack_require__(\"tqxb\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__tween_min_js__ = __webpack_require__(\"mHXv\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__util__ = __webpack_require__(\"LOkV\");\n\n\n\n\n\n\n/**\n * 3D地图.标注点\n * Created by zhu18.github.io on 2017/11/19.\n * @author 朱润亚 <zhu18@vip.qq.com>\n * @version beta v1.0.3\n * @module Map3D\n */\n\n\n\n\n\n/**\n * 地图标注,继承{@link https://threejs.org/docs/#api/objects/Sprite|THREE.Sprite}\n * @class\n * @extends THREE.Sprite\n * @example\n *\n * let opt={\n *  name:'台风-依安',\n *  coord:[116,23],\n *  color:0xff0000,\n *  size:4,\n *  value:2,\n *  userAttrA:'A'\n * }\n * let mark = new Mark(opt);\n * console.log(mark.userData.value +  mark.userData.userAttrA)  //'2A'\n */\n\nvar Mark = function (_THREE$Sprite) {\n  __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default()(Mark, _THREE$Sprite);\n\n  __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default()(Mark, null, [{\n    key: 'draw',\n\n    /**\n     * 光点纹理样式,如果你对canvas熟悉可以重写.否则使用默认样式\n     * @static\n     * @param {context} context - Canvas上下文对象 {@link https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/getContext|Canvas.context}\n     * @example\n     *\n     * Mark.draw=(ctx)=>{\n       *  context.clearRect(0, 0, 128, 128);\n       *  context.fillStyle = '#ff0000';\n       *  context.arc(64, 64, 20, 0, Math.PI * 2, false);\n       *  context.fill();\n       * }\n     */\n    value: function draw(context, v) {\n      v = v || 1;\n      context.clearRect(0, 0, 128, 128);\n      context.fillStyle = '#ffffff';\n      context.arc(64, 64, 20, 0, Math.PI * 2, false);\n      context.fill();\n\n      context.fillStyle = 'rgba(255,255,255,.5)';\n      context.arc(64, 64, 60 * v, 0, Math.PI * 2, false);\n      context.fill();\n\n      // context.fillStyle = 'rgba(0,0,0,.5)';\n      // context.rect(0, 0, 128, 128, Math.PI * 2, false);\n      // context.fill();\n    }\n\n    /**\n     * 创建一个标注\n     * @param {Object} pros - The mark options | 标注的配置\n     * @param {string} [pros.name=''] - mark name | 标注名称\n     * @param {array} pros.coord - mark coord | 标注坐标,如:[112,33]\n     * @param {string} [pros.color=0xffffff] - mark color | 标注颜色\n     * @param {string} [pros.hoverColor=0xff9933] - mark hoverColor | 标注的鼠标移入颜色\n     * @param {number} [pros.hoverAnimaTime=300] - mark hover Animate time | 鼠标移入动画过渡时间\n     * @param {string} [pros.value=''] - mark value | 标注值\n     * @param {*} [pros.*] - User extended attributes | 用户扩展属性\n     *\n     */\n\n  }, {\n    key: 'texture',\n\n    /**\n     * 光点纹理样式,返回一个纹理 {@link https://threejs.org/docs/#api/textures/Texture|THREE.Texture}\n     * @returns {THREE.Texture}\n     * @example\n     * Mark.texture()\n     */\n    get: function get() {\n      if (!Mark._texture) {\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = 128;\n        canvas.height = 128;\n        var context = canvas.getContext('2d');\n        Mark.draw(context);\n        var texture = new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"X\" /* Texture */](canvas);\n        texture.needsUpdate = true;\n        Mark._texture = texture;\n      }\n      return Mark._texture;\n    }\n  }]);\n\n  function Mark(pros) {\n    __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default()(this, Mark);\n\n    var _this = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(this, (Mark.__proto__ || __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default()(Mark)).call(this));\n\n    _this.material = new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"W\" /* SpriteMaterial */]({ map: Mark.texture, color: pros.color, blending: __WEBPACK_IMPORTED_MODULE_6__three_js__[\"a\" /* AdditiveBlending */] });\n    _this.type = \"Mark\";\n    _this.name = pros.name;\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()(_this.userData, pros);\n\n    var size = pros.size || _this.userData.min;\n    size = size < _this.userData.min ? _this.userData.min : size;\n    size = size > _this.userData.max ? _this.userData.max : size;\n    _this.userData.size = size;\n    _this.scale.set(size, size, 1);\n    //console.log(size);\n    _this.position.x = pros.coord[0];\n    _this.position.y = pros.coord[1];\n    _this.position.z = 2 + size * 35 / 100;\n\n    _this.update = function () {\n      // if(!line.userData.hasHalo || !line.userData.hasHaloAnimate)\n      //   return;\n\n      var time = Date.now() * 0.005;\n      var size = Math.abs(Math.sin(0.1 + time));\n      // new TWEEN.Tween(this.scale).to({x:size,y:size},100).delay(Mark.count*10).start()\n\n      // let context = this.material.map.image.getContext('2d');\n      // Mark.draw(context,size);\n      // this.material.map.needsUpdate = true;\n\n      // let geometry = this.geometry;\n      // let attributes = geometry.attributes;\n      // for ( let i = 0; i < attributes.size.array.length; i++ ) {\n      //   attributes.size.array[ i ] = size + size * Math.sin( 0.1 * i + time );\n      // }\n      // attributes.size.needsUpdate = true;\n    };\n\n    Mark.count++;\n    return _this;\n  }\n\n  /**\n   * 设置标注颜色\n   * @param {color} color - 颜色格式0xff9933,'#ff9933','rgb(255,255,255)','hsl(100,100%,50%)'\n   * @param {number} [time] - 动画完成时间,与transition时间类似\n   * @param {number} [delay=0] - 动画延迟时间\n   * @param {Tween.Easing} [easing=line] -动画类型\n   * @param {callback} [callback] - 动画完成后回调\n   * @example\n   *  map.addEventListener('mouseover', (event) => {\n     *    let obj = event.target;\n     *    if(obj.type==='Mark')\n     *    {\n     *      obj.setColor('#ff5555',100);// 鼠标移入设置为红色\n     *    }\n     *  });\n   */\n\n\n  __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default()(Mark, [{\n    key: 'setColor',\n    value: function setColor(color, time, delay, easing, callback) {\n      this.userData.color = __WEBPACK_IMPORTED_MODULE_8__util__[\"a\" /* colorToHex */](color);\n      if (time && typeof time === 'number') {\n        color = new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"g\" /* Color */](__WEBPACK_IMPORTED_MODULE_8__util__[\"a\" /* colorToHex */](color));\n        __WEBPACK_IMPORTED_MODULE_8__util__[\"c\" /* transition */](this.material.color, color, time, delay, easing, callback);\n      } else {\n        this.material.color.set(__WEBPACK_IMPORTED_MODULE_8__util__[\"a\" /* colorToHex */](color));\n      }\n    }\n\n    /**\n     * 设置标注位置\n     * @param {v3} v3 - 格式{x:11,y:33,z:2}\n     * @param {number} [time] - 动画完成时间,与transition时间类似\n     * @param {number} [delay=0] - 动画延迟时间\n     * @param {Tween.Easing} [easing=line] -动画类型\n     * @param {callback} [callback] - 动画完成后回调\n     * @example\n     *\n     * map.addEventListener('mouseover', (event) => {\n       *     let obj = event.target;\n       *     if(obj.type==='Mark')\n       *     {\n       *       obj.setPosition({x:0,y:0,z:4},300) //标注升高\n       *     }\n       *   });\n     *\n     */\n\n  }, {\n    key: 'setPosition',\n    value: function setPosition(v3, time, delay, easing, callback) {\n      if (time && typeof time === 'number') __WEBPACK_IMPORTED_MODULE_8__util__[\"c\" /* transition */](this.position, v3, time, delay, easing, callback);else this.position.set(v3.x, v3.y, v3.z);\n    }\n\n    /**\n     * 设置标注旋转\n     * @param {v3} v3 - 格式{x:11,y:33,z:2}\n     * @param {number} [time] - 动画完成时间,与transition时间类似\n     * @param {number} [delay=0] - 动画延迟时间\n     * @param {Tween.Easing} [easing=line] -动画类型\n     * @param {callback} [callback] - 动画完成后回调\n     */\n\n  }, {\n    key: 'setRotation',\n    value: function setRotation(v3, time, delay, easing, callback) {\n      v3.x = v3.x * (Math.PI / 180);\n      v3.y = v3.y * (Math.PI / 180);\n      v3.z = v3.z * (Math.PI / 180);\n      __WEBPACK_IMPORTED_MODULE_8__util__[\"c\" /* transition */](this.rotation, v3, time, delay, easing, callback);\n    }\n    /**\n     * 设置标注大小\n     * @param {v3} v3 - 格式{x:11,y:33,z:2}\n     * @param {number} [time] - 动画完成时间,与transition时间类似\n     * @param {number} [delay=0] - 动画延迟时间\n     * @param {Tween.Easing} [easing=line] -动画类型\n     * @param {callback} [callback] - 动画完成后回调\n     */\n\n  }, {\n    key: 'setScale',\n    value: function setScale(v3, time, delay, easing, callback) {\n      if (time && typeof time === 'number') __WEBPACK_IMPORTED_MODULE_8__util__[\"c\" /* transition */](this.scale, v3, time, delay, easing, callback);else this.scale.set(v3.x, v3.y, v3.z);\n    }\n    /* 事件 */\n\n  }, {\n    key: 'onmouseout',\n    value: function onmouseout(dispatcher, event) {\n      var size = this.userData.size * 1;\n      new __WEBPACK_IMPORTED_MODULE_7__tween_min_js__[\"a\" /* default */].Tween(this.scale).to({ x: size, y: size }, this.userData.hoverAnimaTime).start();\n      new __WEBPACK_IMPORTED_MODULE_7__tween_min_js__[\"a\" /* default */].Tween(this.material.color).to(new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"g\" /* Color */](__WEBPACK_IMPORTED_MODULE_8__util__[\"a\" /* colorToHex */](this.userData.color)), this.userData.hoverAnimaTime).start();\n      dispatcher.dispatchEvent({ type: 'mouseout', target: this, orgEvent: event });\n    }\n  }, {\n    key: 'onmouseover',\n    value: function onmouseover(dispatcher, event) {\n      var size = this.userData.size * 1.5;\n      new __WEBPACK_IMPORTED_MODULE_7__tween_min_js__[\"a\" /* default */].Tween(this.scale).to({ x: size, y: size }, this.userData.hoverAnimaTime).start();\n      //区域移入颜色\n      new __WEBPACK_IMPORTED_MODULE_7__tween_min_js__[\"a\" /* default */].Tween(this.material.color).to(new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"g\" /* Color */](__WEBPACK_IMPORTED_MODULE_8__util__[\"a\" /* colorToHex */](this.userData.hoverColor)), this.userData.hoverAnimaTime).start();\n      dispatcher.dispatchEvent({ type: 'mouseover', target: this, orgEvent: event });\n    }\n  }, {\n    key: 'onmousedown',\n    value: function onmousedown(dispatcher, event) {\n      dispatcher.dispatchEvent({ type: 'mousedown', target: this, orgEvent: event });\n    }\n  }]);\n\n  return Mark;\n}(__WEBPACK_IMPORTED_MODULE_6__three_js__[\"V\" /* Sprite */]);\n/**\n * 所有标注数量,静态属性\n * @type {number}\n * @example\n * //查看地图所有标注数\n * console.log(Mark.count);\n */\n\n\nMark.count = 0;\nMark._texture = null;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Mark);\n\n/***/ }),\n\n/***/ \"YaEn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(\"/ocq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_index__ = __webpack_require__(\"Qt9A\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_nebula__ = __webpack_require__(\"a+ex\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_galaxy__ = __webpack_require__(\"kDvs\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pages_map3d_dataRange__ = __webpack_require__(\"XStf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__pages_map3d_world__ = __webpack_require__(\"irRU\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__pages_map3d_debug__ = __webpack_require__(\"u3uG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pages_map3d_mark__ = __webpack_require__(\"gVf+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__pages_map3d_line__ = __webpack_require__(\"bWYS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pages_map3d_drill__ = __webpack_require__(\"r7H9\");\n\n\n\n\n\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n\n    redirect: 'index'\n  }, {\n    path: '/index',\n    name: 'index',\n    isMenu: true,\n    menuIcon: 'icon-shouye-copy',\n    component: __WEBPACK_IMPORTED_MODULE_2__pages_index__[\"a\" /* default */]\n  }, {\n    path: '/nebula',\n    name: 'nebula',\n    isMenu: true,\n    menuIcon: 'icon-sandian',\n    component: __WEBPACK_IMPORTED_MODULE_3__pages_nebula__[\"a\" /* default */]\n  }, {\n    path: '/galaxy',\n    name: 'galaxy',\n    isMenu: true,\n    menuIcon: 'icon-xingqiu',\n    component: __WEBPACK_IMPORTED_MODULE_4__pages_galaxy__[\"a\" /* default */]\n  }, {\n    path: '/map3d/dataRange',\n    name: 'map3d_dataRange',\n    isMenu: true,\n    menuIcon: 'icon-chinamap-chart',\n    component: __WEBPACK_IMPORTED_MODULE_5__pages_map3d_dataRange__[\"a\" /* default */]\n  }, {\n    path: '/map3d/world',\n    name: 'map3d_world',\n    isMenu: true,\n    menuIcon: 'icon-chinamap-chart',\n    component: __WEBPACK_IMPORTED_MODULE_6__pages_map3d_world__[\"a\" /* default */]\n  }, {\n    path: '/map3d/debug',\n    name: 'map3d_debug',\n    isMenu: true,\n    menuIcon: 'icon-chinamap-chart',\n    component: __WEBPACK_IMPORTED_MODULE_7__pages_map3d_debug__[\"a\" /* default */]\n  }, {\n    path: '/map3d/mark',\n    name: 'map3d_mark',\n    isMenu: true,\n    menuIcon: 'icon-chinamap-chart',\n    component: __WEBPACK_IMPORTED_MODULE_8__pages_map3d_mark__[\"a\" /* default */]\n  }, {\n    path: '/map3d/line',\n    name: 'map3d_line',\n    isMenu: true,\n    menuIcon: 'icon-chinamap-chart',\n    component: __WEBPACK_IMPORTED_MODULE_9__pages_map3d_line__[\"a\" /* default */]\n  }, {\n    path: '/map3d/drill',\n    name: 'map3d_drill',\n    isMenu: true,\n    menuIcon: 'icon-chinamap-chart',\n    component: __WEBPACK_IMPORTED_MODULE_10__pages_map3d_drill__[\"a\" /* default */]\n  }]\n}));\n\n// router.afterEach(function(to,form,next){\n//     console.log(to)\n//     console.log(App)\n//     window.App=App;\n//     App.$set(title,to.matched[0].components.default.title);\n//     if(next)next();\n// })\n// router.beforeResolve(guard)\n// router.afterEach(hook)\n\n/***/ }),\n\n/***/ \"ZUlz\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"a+ex\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__ = __webpack_require__(\"e6mY\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_31537f88_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__ = __webpack_require__(\"kEL9\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"rWyd\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-31537f88\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_31537f88_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"bGv6\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_assets_js_Map3D_js__ = __webpack_require__(\"xRke\");\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'map3d',\n  title: '地图-线',\n\n  data: function data() {\n    return {\n      isOverMap: false,\n      mapName: '',\n      mapTitlePositon: {\n        left: '800px',\n        top: '600px'\n      }\n    };\n  },\n\n  methods: {},\n  mounted: function mounted() {\n    self = this;\n\n    $.getJSON(\"./static/mapdata/china.json\", function (geoData) {\n\n      // for(let i=0;i<1000;i++){\n      //   let lat=Math.random()*100+50;\n      //   let lon=Math.random()*20+10;\n      //   this.mark.data.push({name:'test'+i,coord:[lat,lon],size:Math.random()*3})\n      // }\n      var opt = {\n        name: 'map1',\n        el: self.$refs.map,\n        // debugger:true,\n        geoData: geoData,\n        area: {\n          data: [],\n          loadEffect: true,\n          color: 0x052659,\n          lineColor: 0x1481ba,\n          opacity: .5\n        },\n        mark: {\n          data: [],\n          color: 0xffffff\n        },\n        line: {\n          data: [],\n\n          hoverExclusive: false\n        }\n\n      };\n\n      geoData.features.forEach(function (i) {\n        //点数据\n        opt.mark.data.push({ name: i.properties.name, color: 0xcaffff, coord: i.properties.cp, size: Math.random() * 0.5 });\n        //线数据\n        opt.line.data.push({ fromName: i.properties.name,\n          toName: '北京',\n          haloDensity: 10,\n          hasHalo: true,\n          hasHaloAnimate: false,\n          spaceHeight: Math.random() * 20,\n          color: 0x0dbdff,\n          haloColor: 0x052659,\n          haloSize: Math.random() * 10,\n          coords: [i.properties.cp, [116.4551, 40.2539]],\n          value: Math.random() * 7 });\n      });\n\n      var map = new __WEBPACK_IMPORTED_MODULE_0_assets_js_Map3D_js__[\"a\" /* default */](opt);\n      map.setCameraPosition({ x: -2, y: -26, z: 30 }, 1000, 300);\n\n      map.addEventListener('mousedown', function (event) {\n        var area = event.target;\n        if (area.type === 'Area') {\n\n          var data = [];\n          var color = Math.random() * 0xffffff;\n          geoData.features.forEach(function (i) {\n            //线数据\n            data.push({\n              fromName: i.properties.name,\n              toName: area.name,\n              haloDensity: 10,\n              spaceHeight: 8,\n              haloRunRate: 0.05,\n              color: color,\n              haloSize: Math.random() * 10,\n              haloColor: 0xffffff,\n              coords: [i.properties.cp, area.userData.cp],\n              value: Math.random() * 1 });\n          });\n          data.push({\n            fromName: area.name,\n            toName: area.name,\n            haloDensity: 10,\n            spaceHeight: 10,\n            haloRunRate: 0.5,\n            color: color,\n            haloSize: 12,\n            coords: [area.userData.cp, area.userData.cp],\n            value: Math.random() * 1 });\n\n          map.initLine({ data: data });\n          //map.mark.data=[];\n          // map.mark.data.push({name:'台风-依安',coord:[116,23],value:2,color:0xff0000,size:4,value:12},);\n          // map.initMark();\n        }\n      });\n\n      map.addEventListener('mouseout', function (event) {\n        var obj = event.target;\n        self.isOverMap = false;\n\n        if (obj.type === 'Line') {}\n      });\n      var haloColorR, haloColorG, haloColorB;\n      map.addEventListener('mouseover', function (event) {\n        var obj = event.target;\n        if (obj.type === 'Line') {\n          self.mapName = obj.userData.fromName + '-' + obj.userData.toName;\n        } else {\n          self.mapName = obj.userData.name + ':' + obj.userData.value;\n        }\n        self.isOverMap = true;\n        self.mapTitlePositon.left = $(window).scrollLeft() + event.clientX + 20 + 'px';\n        self.mapTitlePositon.top = $(window).scrollTop() + event.clientY + 20 + 'px';\n      });\n\n      map.addEventListener('resize', function (event) {\n        console.log('map resize...');\n      });\n      // map.addCameraPosition({x:-30,y:15,z:15},1000)\n      //map.setPosition({x:-13,y:0,z:35})\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"bWYS\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_line_vue__ = __webpack_require__(\"bGv6\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_cdb111d6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_line_vue__ = __webpack_require__(\"oEnh\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"ZUlz\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cdb111d6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_line_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_cdb111d6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_line_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"bZxG\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties__ = __webpack_require__(\"HSQo\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__ = __webpack_require__(\"OvRC\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__three_js__ = __webpack_require__(\"tqxb\");\n\n\n\n\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finger swipe\n\nfunction OrbitControls(object, domElement) {\n\n  this.object = object;\n\n  this.domElement = domElement !== undefined ? domElement : document;\n\n  // Set to false to disable this control\n  this.enabled = true;\n\n  // \"target\" sets the location of focus, where the object orbits around\n  this.target = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"_0\" /* Vector3 */]();\n\n  // How far you can dolly in and out ( PerspectiveCamera only )\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n\n  // How far you can zoom in and out ( OrthographicCamera only )\n  this.minZoom = 0;\n  this.maxZoom = Infinity;\n\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  this.minPolarAngle = 0; // radians\n  this.maxPolarAngle = Math.PI; // radians\n\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n  this.minAzimuthAngle = -Infinity; // radians\n  this.maxAzimuthAngle = Infinity; // radians\n\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n  this.enableDamping = false;\n  this.dampingFactor = 0.25;\n\n  // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n  this.enableZoom = true;\n  this.zoomSpeed = 1.0;\n\n  // Set to false to disable rotating\n  this.enableRotate = true;\n  this.rotateSpeed = 1.0;\n\n  // Set to false to disable panning\n  this.enablePan = true;\n  this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n  this.autoRotate = false;\n  this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n  // Set to false to disable use of the keys\n  this.enableKeys = true;\n\n  // The four arrow keys\n  this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n  // Mouse buttons\n  this.mouseButtons = { ORBIT: __WEBPACK_IMPORTED_MODULE_2__three_js__[\"w\" /* MOUSE */].LEFT, ZOOM: __WEBPACK_IMPORTED_MODULE_2__three_js__[\"w\" /* MOUSE */].MIDDLE, PAN: __WEBPACK_IMPORTED_MODULE_2__three_js__[\"w\" /* MOUSE */].RIGHT };\n\n  // for reset\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.zoom0 = this.object.zoom;\n\n  //\n  // public methods\n  //\n\n  this.getPolarAngle = function () {\n\n    return spherical.phi;\n  };\n\n  this.getAzimuthalAngle = function () {\n\n    return spherical.theta;\n  };\n\n  this.saveState = function () {\n\n    scope.target0.copy(scope.target);\n    scope.position0.copy(scope.object.position);\n    scope.zoom0 = scope.object.zoom;\n  };\n\n  this.reset = function () {\n\n    scope.target.copy(scope.target0);\n    scope.object.position.copy(scope.position0);\n    scope.object.zoom = scope.zoom0;\n\n    scope.object.updateProjectionMatrix();\n    scope.dispatchEvent(changeEvent);\n\n    scope.update();\n\n    state = STATE.NONE;\n  };\n\n  // this method is exposed, but perhaps it would be better if we can make it private...\n  this.update = function () {\n\n    var offset = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"_0\" /* Vector3 */]();\n\n    // so camera.up is the orbit axis\n    var quat = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"K\" /* Quaternion */]().setFromUnitVectors(object.up, new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"_0\" /* Vector3 */](0, 1, 0));\n    var quatInverse = quat.clone().inverse();\n\n    var lastPosition = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"_0\" /* Vector3 */]();\n    var lastQuaternion = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"K\" /* Quaternion */]();\n\n    return function update() {\n\n      var position = scope.object.position;\n\n      offset.copy(position).sub(scope.target);\n\n      // rotate offset to \"y-axis-is-up\" space\n      offset.applyQuaternion(quat);\n\n      // angle from z-axis around y-axis\n      spherical.setFromVector3(offset);\n\n      if (scope.autoRotate && state === STATE.NONE) {\n\n        rotateLeft(getAutoRotationAngle());\n      }\n\n      spherical.theta += sphericalDelta.theta;\n      spherical.phi += sphericalDelta.phi;\n\n      // restrict theta to be between desired limits\n      spherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta));\n\n      // restrict phi to be between desired limits\n      spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n\n      spherical.makeSafe();\n\n      spherical.radius *= scale;\n\n      // restrict radius to be between desired limits\n      spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius));\n\n      // move target to panned location\n      scope.target.add(panOffset);\n\n      offset.setFromSpherical(spherical);\n\n      // rotate offset back to \"camera-up-vector-is-up\" space\n      offset.applyQuaternion(quatInverse);\n\n      position.copy(scope.target).add(offset);\n\n      scope.object.lookAt(scope.target);\n\n      if (scope.enableDamping === true) {\n\n        sphericalDelta.theta *= 1 - scope.dampingFactor;\n        sphericalDelta.phi *= 1 - scope.dampingFactor;\n      } else {\n\n        sphericalDelta.set(0, 0, 0);\n      }\n\n      scale = 1;\n      panOffset.set(0, 0, 0);\n\n      // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n\n        scope.dispatchEvent(changeEvent);\n\n        lastPosition.copy(scope.object.position);\n        lastQuaternion.copy(scope.object.quaternion);\n        zoomChanged = false;\n\n        return true;\n      }\n\n      return false;\n    };\n  }();\n\n  this.dispose = function () {\n\n    scope.domElement.removeEventListener('contextmenu', onContextMenu, false);\n    scope.domElement.removeEventListener('mousedown', onMouseDown, false);\n    scope.domElement.removeEventListener('wheel', onMouseWheel, false);\n\n    scope.domElement.removeEventListener('touchstart', onTouchStart, false);\n    scope.domElement.removeEventListener('touchend', onTouchEnd, false);\n    scope.domElement.removeEventListener('touchmove', onTouchMove, false);\n\n    document.removeEventListener('mousemove', onMouseMove, false);\n    document.removeEventListener('mouseup', onMouseUp, false);\n\n    window.removeEventListener('keydown', onKeyDown, false);\n\n    //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n  };\n\n  //\n  // internals\n  //\n\n  var scope = this;\n\n  var changeEvent = { type: 'change' };\n  var startEvent = { type: 'start' };\n  var endEvent = { type: 'end' };\n\n  var STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n  var state = STATE.NONE;\n\n  var EPS = 0.000001;\n\n  // current position in spherical coordinates\n  var spherical = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"S\" /* Spherical */]();\n  var sphericalDelta = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"S\" /* Spherical */]();\n\n  var scale = 1;\n  var panOffset = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"_0\" /* Vector3 */]();\n  var zoomChanged = false;\n\n  var rotateStart = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"Z\" /* Vector2 */]();\n  var rotateEnd = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"Z\" /* Vector2 */]();\n  var rotateDelta = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"Z\" /* Vector2 */]();\n\n  var panStart = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"Z\" /* Vector2 */]();\n  var panEnd = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"Z\" /* Vector2 */]();\n  var panDelta = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"Z\" /* Vector2 */]();\n\n  var dollyStart = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"Z\" /* Vector2 */]();\n  var dollyEnd = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"Z\" /* Vector2 */]();\n  var dollyDelta = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"Z\" /* Vector2 */]();\n\n  function getAutoRotationAngle() {\n\n    return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n  }\n\n  function getZoomScale() {\n\n    return Math.pow(0.95, scope.zoomSpeed);\n  }\n\n  function rotateLeft(angle) {\n\n    sphericalDelta.theta -= angle;\n  }\n\n  function rotateUp(angle) {\n\n    sphericalDelta.phi -= angle;\n  }\n\n  var panLeft = function () {\n\n    var v = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"_0\" /* Vector3 */]();\n\n    return function panLeft(distance, objectMatrix) {\n\n      v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n      v.multiplyScalar(-distance);\n\n      panOffset.add(v);\n    };\n  }();\n\n  var panUp = function () {\n\n    var v = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"_0\" /* Vector3 */]();\n\n    return function panUp(distance, objectMatrix) {\n\n      v.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix\n      v.multiplyScalar(distance);\n\n      panOffset.add(v);\n    };\n  }();\n\n  // deltaX and deltaY are in pixels; right and down are positive\n  var pan = function () {\n\n    var offset = new __WEBPACK_IMPORTED_MODULE_2__three_js__[\"_0\" /* Vector3 */]();\n\n    return function pan(deltaX, deltaY) {\n\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n      if (scope.object.isPerspectiveCamera) {\n\n        // perspective\n        var position = scope.object.position;\n        offset.copy(position).sub(scope.target);\n        var targetDistance = offset.length();\n\n        // half of the fov is center to top of screen\n        targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0);\n\n        // we actually don't use screenWidth, since perspective camera is fixed to screen height\n        panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n        panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n      } else if (scope.object.isOrthographicCamera) {\n\n        // orthographic\n        panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n        panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n      } else {\n\n        // camera neither orthographic nor perspective\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n        scope.enablePan = false;\n      }\n    };\n  }();\n\n  function dollyIn(dollyScale) {\n\n    if (scope.object.isPerspectiveCamera) {\n\n      scale /= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n\n      scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      scope.enableZoom = false;\n    }\n  }\n\n  function dollyOut(dollyScale) {\n\n    if (scope.object.isPerspectiveCamera) {\n\n      scale *= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n\n      scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      scope.enableZoom = false;\n    }\n  }\n\n  //\n  // event callbacks - update the object state\n  //\n\n  function handleMouseDownRotate(event) {\n\n    //console.log( 'handleMouseDownRotate' );\n\n    rotateStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownDolly(event) {\n\n    //console.log( 'handleMouseDownDolly' );\n\n    dollyStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownPan(event) {\n\n    //console.log( 'handleMouseDownPan' );\n\n    panStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseMoveRotate(event) {\n\n    //console.log( 'handleMouseMoveRotate' );\n\n    rotateEnd.set(event.clientX, event.clientY);\n    rotateDelta.subVectors(rotateEnd, rotateStart);\n\n    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    // rotating across whole screen goes 360 degrees around\n    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n    // rotating up and down along whole screen attempts to go 360, but limited to 180\n    rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n    rotateStart.copy(rotateEnd);\n\n    scope.update();\n  }\n\n  function handleMouseMoveDolly(event) {\n\n    //console.log( 'handleMouseMoveDolly' );\n\n    dollyEnd.set(event.clientX, event.clientY);\n\n    dollyDelta.subVectors(dollyEnd, dollyStart);\n\n    if (dollyDelta.y > 0) {\n\n      dollyIn(getZoomScale());\n    } else if (dollyDelta.y < 0) {\n\n      dollyOut(getZoomScale());\n    }\n\n    dollyStart.copy(dollyEnd);\n\n    scope.update();\n  }\n\n  function handleMouseMovePan(event) {\n\n    //console.log( 'handleMouseMovePan' );\n\n    panEnd.set(event.clientX, event.clientY);\n\n    panDelta.subVectors(panEnd, panStart);\n\n    pan(panDelta.x, panDelta.y);\n\n    panStart.copy(panEnd);\n\n    scope.update();\n  }\n\n  function handleMouseUp(event) {\n\n    // console.log( 'handleMouseUp' );\n\n  }\n\n  function handleMouseWheel(event) {\n\n    // console.log( 'handleMouseWheel' );\n\n    if (event.deltaY < 0) {\n\n      dollyOut(getZoomScale());\n    } else if (event.deltaY > 0) {\n\n      dollyIn(getZoomScale());\n    }\n\n    scope.update();\n  }\n\n  function handleKeyDown(event) {\n\n    //console.log( 'handleKeyDown' );\n\n    switch (event.keyCode) {\n\n      case scope.keys.UP:\n        pan(0, scope.keyPanSpeed);\n        scope.update();\n        break;\n\n      case scope.keys.BOTTOM:\n        pan(0, -scope.keyPanSpeed);\n        scope.update();\n        break;\n\n      case scope.keys.LEFT:\n        pan(scope.keyPanSpeed, 0);\n        scope.update();\n        break;\n\n      case scope.keys.RIGHT:\n        pan(-scope.keyPanSpeed, 0);\n        scope.update();\n        break;\n\n    }\n  }\n\n  function handleTouchStartRotate(event) {\n\n    //console.log( 'handleTouchStartRotate' );\n\n    rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n  }\n\n  function handleTouchStartDolly(event) {\n\n    //console.log( 'handleTouchStartDolly' );\n\n    var dx = event.touches[0].pageX - event.touches[1].pageX;\n    var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n    var distance = Math.sqrt(dx * dx + dy * dy);\n\n    dollyStart.set(0, distance);\n  }\n\n  function handleTouchStartPan(event) {\n\n    //console.log( 'handleTouchStartPan' );\n\n    panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n  }\n\n  function handleTouchMoveRotate(event) {\n\n    //console.log( 'handleTouchMoveRotate' );\n\n    rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n    rotateDelta.subVectors(rotateEnd, rotateStart);\n\n    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    // rotating across whole screen goes 360 degrees around\n    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n    // rotating up and down along whole screen attempts to go 360, but limited to 180\n    rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n    rotateStart.copy(rotateEnd);\n\n    scope.update();\n  }\n\n  function handleTouchMoveDolly(event) {\n\n    //console.log( 'handleTouchMoveDolly' );\n\n    var dx = event.touches[0].pageX - event.touches[1].pageX;\n    var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n    var distance = Math.sqrt(dx * dx + dy * dy);\n\n    dollyEnd.set(0, distance);\n\n    dollyDelta.subVectors(dollyEnd, dollyStart);\n\n    if (dollyDelta.y > 0) {\n\n      dollyOut(getZoomScale());\n    } else if (dollyDelta.y < 0) {\n\n      dollyIn(getZoomScale());\n    }\n\n    dollyStart.copy(dollyEnd);\n\n    scope.update();\n  }\n\n  function handleTouchMovePan(event) {\n\n    //console.log( 'handleTouchMovePan' );\n\n    panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n    panDelta.subVectors(panEnd, panStart);\n\n    pan(panDelta.x, panDelta.y);\n\n    panStart.copy(panEnd);\n\n    scope.update();\n  }\n\n  function handleTouchEnd(event) {}\n\n  //console.log( 'handleTouchEnd' );\n\n  //\n  // event handlers - FSM: listen for events and reset state\n  //\n\n  function onMouseDown(event) {\n\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n\n    switch (event.button) {\n\n      case scope.mouseButtons.ORBIT:\n\n        if (scope.enableRotate === false) return;\n\n        handleMouseDownRotate(event);\n\n        state = STATE.ROTATE;\n\n        break;\n\n      case scope.mouseButtons.ZOOM:\n\n        if (scope.enableZoom === false) return;\n\n        handleMouseDownDolly(event);\n\n        state = STATE.DOLLY;\n\n        break;\n\n      case scope.mouseButtons.PAN:\n\n        if (scope.enablePan === false) return;\n\n        handleMouseDownPan(event);\n\n        state = STATE.PAN;\n\n        break;\n\n    }\n\n    if (state !== STATE.NONE) {\n\n      document.addEventListener('mousemove', onMouseMove, false);\n      document.addEventListener('mouseup', onMouseUp, false);\n\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onMouseMove(event) {\n\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n\n    switch (state) {\n\n      case STATE.ROTATE:\n\n        if (scope.enableRotate === false) return;\n\n        handleMouseMoveRotate(event);\n\n        break;\n\n      case STATE.DOLLY:\n\n        if (scope.enableZoom === false) return;\n\n        handleMouseMoveDolly(event);\n\n        break;\n\n      case STATE.PAN:\n\n        if (scope.enablePan === false) return;\n\n        handleMouseMovePan(event);\n\n        break;\n\n    }\n  }\n\n  function onMouseUp(event) {\n\n    if (scope.enabled === false) return;\n\n    handleMouseUp(event);\n\n    document.removeEventListener('mousemove', onMouseMove, false);\n    document.removeEventListener('mouseup', onMouseUp, false);\n\n    scope.dispatchEvent(endEvent);\n\n    state = STATE.NONE;\n  }\n\n  function onMouseWheel(event) {\n\n    if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    handleMouseWheel(event);\n\n    scope.dispatchEvent(startEvent); // not sure why these are here...\n    scope.dispatchEvent(endEvent);\n  }\n\n  function onKeyDown(event) {\n\n    if (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n\n    handleKeyDown(event);\n  }\n\n  function onTouchStart(event) {\n\n    if (scope.enabled === false) return;\n\n    switch (event.touches.length) {\n\n      case 1:\n        // one-fingered touch: rotate\n\n        if (scope.enableRotate === false) return;\n\n        handleTouchStartRotate(event);\n\n        state = STATE.TOUCH_ROTATE;\n\n        break;\n\n      case 2:\n        // two-fingered touch: dolly\n\n        if (scope.enableZoom === false) return;\n\n        handleTouchStartDolly(event);\n\n        state = STATE.TOUCH_DOLLY;\n\n        break;\n\n      case 3:\n        // three-fingered touch: pan\n\n        if (scope.enablePan === false) return;\n\n        handleTouchStartPan(event);\n\n        state = STATE.TOUCH_PAN;\n\n        break;\n\n      default:\n\n        state = STATE.NONE;\n\n    }\n\n    if (state !== STATE.NONE) {\n\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onTouchMove(event) {\n\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.touches.length) {\n\n      case 1:\n        // one-fingered touch: rotate\n\n        if (scope.enableRotate === false) return;\n        if (state !== STATE.TOUCH_ROTATE) return; // is this needed?...\n\n        handleTouchMoveRotate(event);\n\n        break;\n\n      case 2:\n        // two-fingered touch: dolly\n\n        if (scope.enableZoom === false) return;\n        if (state !== STATE.TOUCH_DOLLY) return; // is this needed?...\n\n        handleTouchMoveDolly(event);\n\n        break;\n\n      case 3:\n        // three-fingered touch: pan\n\n        if (scope.enablePan === false) return;\n        if (state !== STATE.TOUCH_PAN) return; // is this needed?...\n\n        handleTouchMovePan(event);\n\n        break;\n\n      default:\n\n        state = STATE.NONE;\n\n    }\n  }\n\n  function onTouchEnd(event) {\n\n    if (scope.enabled === false) return;\n\n    handleTouchEnd(event);\n\n    scope.dispatchEvent(endEvent);\n\n    state = STATE.NONE;\n  }\n\n  function onContextMenu(event) {\n\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n  }\n\n  scope.domElement.addEventListener('contextmenu', onContextMenu, false);\n\n  scope.domElement.addEventListener('mousedown', onMouseDown, false);\n  scope.domElement.addEventListener('wheel', onMouseWheel, false);\n\n  scope.domElement.addEventListener('touchstart', onTouchStart, false);\n  scope.domElement.addEventListener('touchend', onTouchEnd, false);\n  scope.domElement.addEventListener('touchmove', onTouchMove, false);\n\n  window.addEventListener('keydown', onKeyDown, false);\n\n  // force an update at start\n\n  this.update();\n};\n\nOrbitControls.prototype = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default()(__WEBPACK_IMPORTED_MODULE_2__three_js__[\"m\" /* EventDispatcher */].prototype);\nOrbitControls.prototype.constructor = OrbitControls;\n\n__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties___default()(OrbitControls.prototype, {\n\n  center: {\n\n    get: function get() {\n\n      console.warn('THREE.OrbitControls: .center has been renamed to .target');\n      return this.target;\n    }\n\n  },\n\n  // backward compatibility\n\n  noZoom: {\n\n    get: function get() {\n\n      console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n      return !this.enableZoom;\n    },\n\n    set: function set(value) {\n\n      console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n      this.enableZoom = !value;\n    }\n\n  },\n\n  noRotate: {\n\n    get: function get() {\n\n      console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n      return !this.enableRotate;\n    },\n\n    set: function set(value) {\n\n      console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n      this.enableRotate = !value;\n    }\n\n  },\n\n  noPan: {\n\n    get: function get() {\n\n      console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n      return !this.enablePan;\n    },\n\n    set: function set(value) {\n\n      console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n      this.enablePan = !value;\n    }\n\n  },\n\n  noKeys: {\n\n    get: function get() {\n\n      console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n      return !this.enableKeys;\n    },\n\n    set: function set(value) {\n\n      console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n      this.enableKeys = !value;\n    }\n\n  },\n\n  staticMoving: {\n\n    get: function get() {\n\n      console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n      return !this.enableDamping;\n    },\n\n    set: function set(value) {\n\n      console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n      this.enableDamping = !value;\n    }\n\n  },\n\n  dynamicDampingFactor: {\n\n    get: function get() {\n\n      console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n      return this.dampingFactor;\n    },\n\n    set: function set(value) {\n\n      console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n      this.dampingFactor = value;\n    }\n\n  }\n\n});\n\n__WEBPACK_IMPORTED_MODULE_2__three_js__[\"OrbitControls\"] = OrbitControls;\n\n\"undefined\" != typeof module && module.exports && (module.exports = OrbitControls);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"f1Eh\")(module)))\n\n/***/ }),\n\n/***/ \"dLd/\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjgzMERBMkNCQTU1QzExRTZBNkEzODEyOTI1ODc0QjZCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjgzMERBMkNDQTU1QzExRTZBNkEzODEyOTI1ODc0QjZCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODMwREEyQzlBNTVDMTFFNkE2QTM4MTI5MjU4NzRCNkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODMwREEyQ0FBNTVDMTFFNkE2QTM4MTI5MjU4NzRCNkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6QNZdqAAAOVklEQVR42uSb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\"\n\n/***/ }),\n\n/***/ \"dOvh\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"map\",staticClass:\"map\"}),_vm._v(\" \"),_c('div',{class:['map-title',_vm.isOverMap ? 'map-title-over' : ''],style:(_vm.mapTitlePositon),attrs:{\"id\":\"\"}},[_vm._v(_vm._s(_vm.mapName))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"e6mY\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_assets_js_Nebula_js__ = __webpack_require__(\"3pOn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_assets_js_jquery_1_9_0_js__ = __webpack_require__(\"XcOq\");\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'Nebula',\n    title: '星云',\n\n    created: function created() {\n        //this.$emit('setTitle', this.title);\n        console.log(this.$route.params.title);\n    },\n    mounted: function mounted() {\n\n        this.$data.title = 'nebula';\n        var opt = {\n            el: this.$refs.wrap,\n            pointsCloud: [{ count: 50000, color: 0xf1d6ef, size: 1, opacity: .8, offset: 0.0003 }, { count: 10000, color: 0x3366ff, size: 1, opacity: 1, offset: 0.0001 }, { count: 10000, color: 0xff0000, size: 1, offset: 0.00005 }]\n        };\n\n        var nebula = new __WEBPACK_IMPORTED_MODULE_0_assets_js_Nebula_js__[\"a\" /* default */](opt);\n        nebula.rotate({ x: 2 * Math.PI }, 1000);\n    }\n});\n\n/***/ }),\n\n/***/ \"gVf+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_mark_vue__ = __webpack_require__(\"iUfB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_78bf1d33_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_mark_vue__ = __webpack_require__(\"dOvh\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"+5pT\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-78bf1d33\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_mark_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_78bf1d33_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_mark_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"iUfB\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__ = __webpack_require__(\"bOdI\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_assets_js_Map3D_js__ = __webpack_require__(\"xRke\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'map3d',\n  title: '地图-标注点',\n\n  data: function data() {\n    return {\n      isOverMap: false,\n      mapName: '',\n      mapTitlePositon: {\n        left: '800px',\n        top: '600px'\n      }\n    };\n  },\n\n  methods: {\n    openProvMap: function openProvMap() {\n      self.mapActiveLevel = 'province';\n      map.disable();\n      map1.disable(false);\n    },\n    openChinaMap: function openChinaMap() {\n      self.mapActiveLevel = 'china';\n      map1.disable();\n      map.disable(false);\n    }\n  },\n  mounted: function mounted() {\n    self = this;\n\n    $.getJSON(\"./static/mapdata/china.json\", function (geoData) {\n\n      // for(let i=0;i<1000;i++){\n      //   let lat=Math.random()*100+50;\n      //   let lon=Math.random()*20+10;\n      //   this.mark.data.push({name:'test'+i,coord:[lat,lon],size:Math.random()*3})\n      // }\n      var opt = {\n        name: 'map1',\n        el: self.$refs.map,\n        geoData: geoData,\n        //  debugger: true,\n\n        mark: {\n          data: [__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()({ name: '台风-依安', coord: [116, 23], value: 2, color: 0xff0000, size: 4 }, 'value', 12), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()({ name: '台风-戴旭', coord: [120, 36], value: 2, color: 0xff0000, size: 3 }, 'value', 11)],\n          color: 0xffffff\n        }\n\n        //点数据\n        //        geoData.features.forEach((geo)=>{\n        //          opt.mark.data.push({name:geo.properties.name,coord:geo.properties.cp,color:0xffffff,size:Math.random()*1})\n        //        })\n\n      };var map = new __WEBPACK_IMPORTED_MODULE_1_assets_js_Map3D_js__[\"a\" /* default */](opt);\n\n      //事件\n      map.addEventListener('mousedown', function (event) {\n        var area = event.target;\n        area.setColor('#ff6666', 500);\n      });\n\n      map.addEventListener('mouseout', function (event) {\n        var obj = event.target;\n        console.log(obj.type + ':out');\n        self.isOverMap = false;\n      });\n\n      map.addEventListener('mouseover', function (event) {\n        var obj = event.target;\n        console.log(obj.type + ':over...');\n        self.mapName = obj.userData.name;\n        self.isOverMap = true;\n        self.mapTitlePositon.left = $(window).scrollLeft() + event.clientX + 20 + 'px';\n        self.mapTitlePositon.top = $(window).scrollTop() + event.clientY + 20 + 'px';\n      });\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"irRU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_world_vue__ = __webpack_require__(\"yf+M\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_9b7a517e_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_world_vue__ = __webpack_require__(\"Ez1z\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"UkRF\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9b7a517e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_world_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_9b7a517e_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_world_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"j7Vc\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(\"Zx67\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__ = __webpack_require__(\"wxAW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(\"zwoO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__ = __webpack_require__(\"Pf15\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__three_js__ = __webpack_require__(\"tqxb\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__tween_min_js__ = __webpack_require__(\"mHXv\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__util__ = __webpack_require__(\"LOkV\");\n\n\n\n\n\n\n/**\n * 3D地图.数据范围\n * Created by jusfoun-fe.github.io on 2017/11/19.\n * @author 九次方前端研发部-朱润亚 <zhu18@vip.qq.com>\n * @version beta v1.0.3\n * @module Map3D\n */\n\n\n\n\n\n/**\n * 数据范围\n * @class\n * @extends THREE.Mesh\n */\n\nvar DataRange = function (_THREE$Object3D) {\n  __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default()(DataRange, _THREE$Object3D);\n\n  function DataRange(pros) {\n    __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default()(this, DataRange);\n\n    var _this = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default()(this, (DataRange.__proto__ || __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default()(DataRange)).call(this, pros));\n\n    _this.type = \"DataRange\";\n    _this.name = pros.name;\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()(_this.userData, pros);\n    var boxGeo = new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"d\" /* BoxGeometry */](pros.width, pros.height, pros.extrudeHeight);\n    var boxMate = new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"B\" /* MeshPhongMaterial */]({ color: pros.color });\n    var range = new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"y\" /* Mesh */](boxGeo, boxMate);\n\n    _this.position.y = _this.position.y - DataRange.count * (pros.height + pros.spacing);\n    if (pros.showName) {\n      var txt = Font3D.create(pros.name, { color: '#ffffff' });\n      txt.position.copy(range.position);\n      txt.position.y = txt.position.y - 0.3;\n      txt.position.add(pros.namePosition);\n      _this.add(txt);\n      _this.txt = txt;\n    }\n\n    _this.mesh = range;\n    _this.add(range);\n    DataRange.count++;\n    return _this;\n  }\n\n  /**\n   * 选中并返回其关联区域\n   * @returns {Area[]}\n   */\n\n\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default()(DataRange, [{\n    key: 'select',\n    value: function select() {\n      var _this2 = this;\n\n      return this.rangeAreas.map(function (area) {\n        area.setColor(_this2.userData.hoverColor);\n        if (area.userData.hasHoverHeight) {\n          new __WEBPACK_IMPORTED_MODULE_7__tween_min_js__[\"a\" /* default */].Tween(area.position).to({ z: area.userData.extrude.amount / 2 }, area.userData.hoverAnimaTime).start();\n        }\n      });\n    }\n\n    /**\n     * 取消选中状态\n     */\n\n  }, {\n    key: 'unselect',\n    value: function unselect() {\n      var _this3 = this;\n\n      this.rangeAreas.map(function (area) {\n        area.setColor(_this3.userData.color);\n        if (area.userData.hasHoverHeight) {\n          new __WEBPACK_IMPORTED_MODULE_7__tween_min_js__[\"a\" /* default */].Tween(area.position).to({ z: 0 }, area.userData.hoverAnimaTime).start();\n        }\n      });\n    }\n  }, {\n    key: 'onmouseout',\n    value: function onmouseout(dispatcher, event) {\n      this.unselect();\n      new __WEBPACK_IMPORTED_MODULE_7__tween_min_js__[\"a\" /* default */].Tween(this.mesh.material.color).to(new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"g\" /* Color */](__WEBPACK_IMPORTED_MODULE_8__util__[\"a\" /* colorToHex */](this.userData.color)), this.userData.hoverAnimaTime).start();\n      if (!this.userData.hasEvent) return;\n      dispatcher.dispatchEvent({ type: 'mouseout', target: this, orgEvent: event });\n    }\n  }, {\n    key: 'onmouseover',\n    value: function onmouseover(dispatcher, event) {\n      this.select();\n      new __WEBPACK_IMPORTED_MODULE_7__tween_min_js__[\"a\" /* default */].Tween(this.mesh.material.color).to(new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"g\" /* Color */](__WEBPACK_IMPORTED_MODULE_8__util__[\"a\" /* colorToHex */](this.userData.hoverColor)), this.userData.hoverAnimaTime).start();\n      if (!this.userData.hasEvent) return;\n      dispatcher.dispatchEvent({ type: 'mouseover', target: this, orgEvent: event });\n    }\n  }, {\n    key: 'onmousedown',\n    value: function onmousedown(dispatcher, event) {\n      if (!this.userData.hasEvent) return;\n      dispatcher.dispatchEvent({ type: 'mousedown', target: this, orgEvent: event });\n    }\n  }]);\n\n  return DataRange;\n}(__WEBPACK_IMPORTED_MODULE_6__three_js__[\"C\" /* Object3D */]);\n/**\n * 数据范围数量\n * @static\n * @type {number}\n */\n\n\nDataRange.count = 0;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (DataRange);\n\n/***/ }),\n\n/***/ \"jt5Y\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"k1rJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"map\",staticClass:\"map\"}),_vm._v(\" \"),_c('div',{class:['map-title',_vm.isOverMap ? 'map-title-over' : ''],style:(_vm.mapTitlePositon),attrs:{\"id\":\"\"}},[_vm._v(_vm._s(_vm.mapName))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"kDvs\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__ = __webpack_require__(\"B0R6\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_a638251e_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__ = __webpack_require__(\"/rLR\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"vMps\")\n  __webpack_require__(\"Gb5I\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a638251e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_a638251e_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"kEL9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrap\",staticClass:\"wrap\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"m84q\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"mHXv\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// tween.js v.0.15.0 https://github.com/sole/tween.js\nvoid 0 === Date.now && (Date.now = function () {\n  return new Date().valueOf();\n});\nvar TWEEN = TWEEN || function () {\n  var n = [];\n  return {\n    REVISION: \"14\", getAll: function getAll() {\n      return n;\n    }, removeAll: function removeAll() {\n      n = [];\n    }, add: function add(t) {\n      n.push(t);\n    }, remove: function remove(t) {\n      var r = n.indexOf(t);\n      -1 !== r && n.splice(r, 1);\n    }, update: function update(t) {\n      if (0 === n.length) return !1;\n      var r = 0;\n      for (t = void 0 !== t ? t : \"undefined\" != typeof window && void 0 !== window.performance && void 0 !== window.performance.now ? window.performance.now() : Date.now(); r < n.length;) {\n        n[r].update(t) ? r++ : n.splice(r, 1);\n      }return !0;\n    }\n  };\n}();\nTWEEN.Tween = function (n) {\n  var t = n,\n      r = {},\n      i = {},\n      u = {},\n      o = 1e3,\n      e = 0,\n      a = !1,\n      f = !1,\n      c = !1,\n      s = 0,\n      h = null,\n      l = TWEEN.Easing.Linear.None,\n      p = TWEEN.Interpolation.Linear,\n      E = [],\n      d = null,\n      v = !1,\n      I = null,\n      w = null,\n      M = null;\n  for (var O in n) {\n    r[O] = parseFloat(n[O], 10);\n  }this.to = function (n, t) {\n    return void 0 !== t && (o = t), i = n, this;\n  }, this.start = function (n) {\n    TWEEN.add(this), f = !0, v = !1, h = void 0 !== n ? n : \"undefined\" != typeof window && void 0 !== window.performance && void 0 !== window.performance.now ? window.performance.now() : Date.now(), h += s;\n    for (var o in i) {\n      if (i[o] instanceof Array) {\n        if (0 === i[o].length) continue;\n        i[o] = [t[o]].concat(i[o]);\n      }\n      r[o] = t[o], r[o] instanceof Array == !1 && (r[o] *= 1), u[o] = r[o] || 0;\n    }\n    return this;\n  }, this.stop = function () {\n    return f ? (TWEEN.remove(this), f = !1, null !== M && M.call(t), this.stopChainedTweens(), this) : this;\n  }, this.stopChainedTweens = function () {\n    for (var n = 0, t = E.length; t > n; n++) {\n      E[n].stop();\n    }\n  }, this.delay = function (n) {\n    return s = n, this;\n  }, this.repeat = function (n) {\n    return e = n, this;\n  }, this.yoyo = function (n) {\n    return a = n, this;\n  }, this.easing = function (n) {\n    return l = n, this;\n  }, this.interpolation = function (n) {\n    return p = n, this;\n  }, this.chain = function () {\n    return E = arguments, this;\n  }, this.onStart = function (n) {\n    return d = n, this;\n  }, this.onUpdate = function (n) {\n    return I = n, this;\n  }, this.onComplete = function (n) {\n    return w = n, this;\n  }, this.onStop = function (n) {\n    return M = n, this;\n  }, this.update = function (n) {\n    var f;\n    if (h > n) return !0;\n    v === !1 && (null !== d && d.call(t), v = !0);\n    var M = (n - h) / o;\n    M = M > 1 ? 1 : M;\n    var O = l(M);\n    for (f in i) {\n      var m = r[f] || 0,\n          N = i[f];\n      N instanceof Array ? t[f] = p(N, O) : (\"string\" == typeof N && (N = m + parseFloat(N, 10)), \"number\" == typeof N && (t[f] = m + (N - m) * O));\n    }\n    if (null !== I && I.call(t, O), 1 == M) {\n      if (e > 0) {\n        isFinite(e) && e--;\n        for (f in u) {\n          if (\"string\" == typeof i[f] && (u[f] = u[f] + parseFloat(i[f], 10)), a) {\n            var T = u[f];\n            u[f] = i[f], i[f] = T;\n          }\n          r[f] = u[f];\n        }\n        return a && (c = !c), h = n + s, !0;\n      }\n      null !== w && w.call(t);\n      for (var g = 0, W = E.length; W > g; g++) {\n        E[g].start(n);\n      }return !1;\n    }\n    return !0;\n  };\n}, TWEEN.Easing = {\n  Linear: {\n    None: function None(n) {\n      return n;\n    }\n  }, Quadratic: {\n    In: function In(n) {\n      return n * n;\n    }, Out: function Out(n) {\n      return n * (2 - n);\n    }, InOut: function InOut(n) {\n      return (n *= 2) < 1 ? .5 * n * n : -.5 * (--n * (n - 2) - 1);\n    }\n  }, Cubic: {\n    In: function In(n) {\n      return n * n * n;\n    }, Out: function Out(n) {\n      return --n * n * n + 1;\n    }, InOut: function InOut(n) {\n      return (n *= 2) < 1 ? .5 * n * n * n : .5 * ((n -= 2) * n * n + 2);\n    }\n  }, Quartic: {\n    In: function In(n) {\n      return n * n * n * n;\n    }, Out: function Out(n) {\n      return 1 - --n * n * n * n;\n    }, InOut: function InOut(n) {\n      return (n *= 2) < 1 ? .5 * n * n * n * n : -.5 * ((n -= 2) * n * n * n - 2);\n    }\n  }, Quintic: {\n    In: function In(n) {\n      return n * n * n * n * n;\n    }, Out: function Out(n) {\n      return --n * n * n * n * n + 1;\n    }, InOut: function InOut(n) {\n      return (n *= 2) < 1 ? .5 * n * n * n * n * n : .5 * ((n -= 2) * n * n * n * n + 2);\n    }\n  }, Sinusoidal: {\n    In: function In(n) {\n      return 1 - Math.cos(n * Math.PI / 2);\n    }, Out: function Out(n) {\n      return Math.sin(n * Math.PI / 2);\n    }, InOut: function InOut(n) {\n      return .5 * (1 - Math.cos(Math.PI * n));\n    }\n  }, Exponential: {\n    In: function In(n) {\n      return 0 === n ? 0 : Math.pow(1024, n - 1);\n    }, Out: function Out(n) {\n      return 1 === n ? 1 : 1 - Math.pow(2, -10 * n);\n    }, InOut: function InOut(n) {\n      return 0 === n ? 0 : 1 === n ? 1 : (n *= 2) < 1 ? .5 * Math.pow(1024, n - 1) : .5 * (-Math.pow(2, -10 * (n - 1)) + 2);\n    }\n  }, Circular: {\n    In: function In(n) {\n      return 1 - Math.sqrt(1 - n * n);\n    }, Out: function Out(n) {\n      return Math.sqrt(1 - --n * n);\n    }, InOut: function InOut(n) {\n      return (n *= 2) < 1 ? -.5 * (Math.sqrt(1 - n * n) - 1) : .5 * (Math.sqrt(1 - (n -= 2) * n) + 1);\n    }\n  }, Elastic: {\n    In: function In(n) {\n      var t,\n          r = .1,\n          i = .4;\n      return 0 === n ? 0 : 1 === n ? 1 : (!r || 1 > r ? (r = 1, t = i / 4) : t = i * Math.asin(1 / r) / (2 * Math.PI), -(r * Math.pow(2, 10 * (n -= 1)) * Math.sin(2 * (n - t) * Math.PI / i)));\n    }, Out: function Out(n) {\n      var t,\n          r = .1,\n          i = .4;\n      return 0 === n ? 0 : 1 === n ? 1 : (!r || 1 > r ? (r = 1, t = i / 4) : t = i * Math.asin(1 / r) / (2 * Math.PI), r * Math.pow(2, -10 * n) * Math.sin(2 * (n - t) * Math.PI / i) + 1);\n    }, InOut: function InOut(n) {\n      var t,\n          r = .1,\n          i = .4;\n      return 0 === n ? 0 : 1 === n ? 1 : (!r || 1 > r ? (r = 1, t = i / 4) : t = i * Math.asin(1 / r) / (2 * Math.PI), (n *= 2) < 1 ? -.5 * r * Math.pow(2, 10 * (n -= 1)) * Math.sin(2 * (n - t) * Math.PI / i) : r * Math.pow(2, -10 * (n -= 1)) * Math.sin(2 * (n - t) * Math.PI / i) * .5 + 1);\n    }\n  }, Back: {\n    In: function In(n) {\n      var t = 1.70158;\n      return n * n * ((t + 1) * n - t);\n    }, Out: function Out(n) {\n      var t = 1.70158;\n      return --n * n * ((t + 1) * n + t) + 1;\n    }, InOut: function InOut(n) {\n      var t = 2.5949095;\n      return (n *= 2) < 1 ? .5 * n * n * ((t + 1) * n - t) : .5 * ((n -= 2) * n * ((t + 1) * n + t) + 2);\n    }\n  }, Bounce: {\n    In: function In(n) {\n      return 1 - TWEEN.Easing.Bounce.Out(1 - n);\n    }, Out: function Out(n) {\n      return 1 / 2.75 > n ? 7.5625 * n * n : 2 / 2.75 > n ? 7.5625 * (n -= 1.5 / 2.75) * n + .75 : 2.5 / 2.75 > n ? 7.5625 * (n -= 2.25 / 2.75) * n + .9375 : 7.5625 * (n -= 2.625 / 2.75) * n + .984375;\n    }, InOut: function InOut(n) {\n      return .5 > n ? .5 * TWEEN.Easing.Bounce.In(2 * n) : .5 * TWEEN.Easing.Bounce.Out(2 * n - 1) + .5;\n    }\n  }\n}, TWEEN.Interpolation = {\n  Linear: function Linear(n, t) {\n    var r = n.length - 1,\n        i = r * t,\n        u = Math.floor(i),\n        o = TWEEN.Interpolation.Utils.Linear;\n    return 0 > t ? o(n[0], n[1], i) : t > 1 ? o(n[r], n[r - 1], r - i) : o(n[u], n[u + 1 > r ? r : u + 1], i - u);\n  }, Bezier: function Bezier(n, t) {\n    var r,\n        i = 0,\n        u = n.length - 1,\n        o = Math.pow,\n        e = TWEEN.Interpolation.Utils.Bernstein;\n    for (r = 0; u >= r; r++) {\n      i += o(1 - t, u - r) * o(t, r) * n[r] * e(u, r);\n    }return i;\n  }, CatmullRom: function CatmullRom(n, t) {\n    var r = n.length - 1,\n        i = r * t,\n        u = Math.floor(i),\n        o = TWEEN.Interpolation.Utils.CatmullRom;\n    return n[0] === n[r] ? (0 > t && (u = Math.floor(i = r * (1 + t))), o(n[(u - 1 + r) % r], n[u], n[(u + 1) % r], n[(u + 2) % r], i - u)) : 0 > t ? n[0] - (o(n[0], n[0], n[1], n[1], -i) - n[0]) : t > 1 ? n[r] - (o(n[r], n[r], n[r - 1], n[r - 1], i - r) - n[r]) : o(n[u ? u - 1 : 0], n[u], n[u + 1 > r ? r : u + 1], n[u + 2 > r ? r : u + 2], i - u);\n  }, Utils: {\n    Linear: function Linear(n, t, r) {\n      return (t - n) * r + n;\n    }, Bernstein: function Bernstein(n, t) {\n      var r = TWEEN.Interpolation.Utils.Factorial;\n      return r(n) / r(t) / r(n - t);\n    }, Factorial: function () {\n      var n = [1];\n      return function (t) {\n        var r,\n            i = 1;\n        if (n[t]) return n[t];\n        for (r = t; r > 1; r--) {\n          i *= r;\n        }return n[t] = i;\n      };\n    }(), CatmullRom: function CatmullRom(n, t, r, i, u) {\n      var o = .5 * (r - n),\n          e = .5 * (i - t),\n          a = u * u,\n          f = u * a;\n      return (2 * t - 2 * r + o + e) * f + (-3 * t + 3 * r - 2 * o - e) * a + o * u + t;\n    }\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (TWEEN);\n\n/***/ }),\n\n/***/ \"nHYM\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(\"wxAW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__three_js__ = __webpack_require__(\"tqxb\");\n\n\n\n/**\n * Created by zhu18.github.io on 2017/11/12.\n * three event\n */\n\n\n/*\n* 参数格式\nlet opt={\n    el:domElement,\n    scene:null,\n    camera:null,\n    renderer:null,\n    _onResize:'[function]',\n    _onMouseMove:'[function]',\n    _onMouseDown:'[function]'\n}\n*/\n\nvar Event = function () {\n    function Event(o) {\n        __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, Event);\n\n        this.__raycaster = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"L\" /* Raycaster */]();\n        this.__mouse = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"Z\" /* Vector2 */]();\n        this.__resize = o.__proto__._onResize;\n        this.__mousemove = o.__proto__._onMouseMove;\n        this.__mousedown = o.__proto__._onMouseDown;\n        this.target = o;\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()(this, o);\n        if (!this.camera && !this.renderer && !this.el) {\n            console.warn('THREE.Event:not find camera, renderer, domElement,Please ensure that it is a valid 3D control');\n            return;\n        }\n        if (!this.__resize && !this.__mousemove && !this.__mousedown) {\n            console.warn('THREE.Event:Users need to implement _onResize(),_onMouseMove(),_onMouseDown() method');\n            return;\n        }\n\n        this.__resize__ = this.onWindowResize.bind(this);\n        this.__mousemove__ = this.onDocumentMouseMove.bind(this);\n        this.__touchstart__ = this.onDocumentTouchStart.bind(this);\n        this.__mousedown__ = this.onDocumentMouseDown.bind(this);\n        this.mousemove_timer = null;\n        this.mousemove_interval = 10;\n        this.enable = true;\n\n        if (this.__resize) {\n            window.addEventListener('resize', this.__resize__, false);\n        }\n        if (this.__mousemove) {\n            this.el.addEventListener('mousemove', this.__mousemove__, false);\n        }\n        if (this.__mousedown) {\n            this.el.addEventListener('touchstart', this.__touchstart__, false);\n            this.el.addEventListener('mousedown', this.__mousedown__, false);\n        }\n    }\n\n    __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(Event, [{\n        key: 'dispose',\n        value: function dispose() {\n            window.removeEventListener('resize', this.__resize__, false);\n            this.el.removeEventListener('mousemove', this.__mousemove__, false);\n            this.el.removeEventListener('touchstart', this.__touchstart__, false);\n            this.el.removeEventListener('mousedown', this.__mousedown__, false);\n        }\n    }, {\n        key: 'onWindowResize',\n        value: function onWindowResize(event) {\n            this.camera.aspect = this.el.offsetWidth / this.el.offsetHeight;\n            this.camera.updateProjectionMatrix();\n            this.renderer.setSize(this.el.offsetWidth, this.el.offsetHeight);\n            this.enable && this.__resize.bind(this.target)(event);\n        }\n    }, {\n        key: 'onDocumentMouseMove',\n        value: function onDocumentMouseMove(event) {\n            var _this = this;\n\n            event.preventDefault();\n            this.mousemove_timer && clearTimeout(this.mousemove_timer);\n            this.mousemove_timer = setTimeout(function () {\n                _this.__mouse.x = event.offsetX / _this.el.offsetWidth * 2 - 1;\n                _this.__mouse.y = -(event.offsetY / _this.el.offsetHeight) * 2 + 1;\n                _this.__raycaster.setFromCamera(_this.__mouse, _this.camera);\n                var intersects = _this.__raycaster.intersectObjects(_this.scene.children, true);\n\n                _this.enable && _this.__mousemove.bind(_this.target)(event, intersects);\n            }, this.mousemove_interval);\n        }\n    }, {\n        key: 'onDocumentTouchStart',\n        value: function onDocumentTouchStart(event) {\n            event.preventDefault();\n            event.clientX = event.touches[0].pageX;\n            event.clientY = event.touches[0].pageY;\n            this.enable && this.onDocumentMouseDown(event);\n        }\n    }, {\n        key: 'onDocumentMouseDown',\n        value: function onDocumentMouseDown(event) {\n            event.preventDefault();\n            this.__mouse.x = (event.offsetX || event.clientX) / this.el.offsetWidth * 2 - 1;\n            this.__mouse.y = -((event.offsetY || event.clientY) / this.el.offsetHeight) * 2 + 1;\n            this.__raycaster.setFromCamera(this.__mouse, this.camera);\n            var intersects = this.__raycaster.intersectObjects(this.scene.children, true);\n            this.enable && this.__mousedown.bind(this.target)(event, intersects);\n        }\n    }]);\n\n    return Event;\n}();\n\n/* unused harmony default export */ var _unused_webpack_default_export = (Event);\n\n__WEBPACK_IMPORTED_MODULE_3__three_js__[\"Event\"] = Event;\n\n/***/ }),\n\n/***/ \"oEnh\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"map\",staticClass:\"map\"}),_vm._v(\" \"),_c('div',{class:['map-title',_vm.isOverMap ? 'map-title-over' : ''],style:(_vm.mapTitlePositon),attrs:{\"id\":\"\"}},[_vm._v(_vm._s(_vm.mapName))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"pjjz\":\n/***/ (function(module, exports) {\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Stats = function Stats() {\n\n\tvar startTime = Date.now(),\n\t    prevTime = startTime;\n\tvar ms = 0,\n\t    msMin = Infinity,\n\t    msMax = 0;\n\tvar fps = 0,\n\t    fpsMin = Infinity,\n\t    fpsMax = 0;\n\tvar frames = 0,\n\t    mode = 0;\n\n\tvar container = document.createElement('div');\n\tcontainer.id = 'stats';\n\tcontainer.addEventListener('mousedown', function (event) {\n\t\tevent.preventDefault();setMode(++mode % 2);\n\t}, false);\n\tcontainer.style.cssText = 'width:80px;opacity:0.9;cursor:pointer';\n\n\tvar fpsDiv = document.createElement('div');\n\tfpsDiv.id = 'fps';\n\tfpsDiv.style.cssText = 'padding:0 0 3px 3px;text-align:left;background-color:#002';\n\tcontainer.appendChild(fpsDiv);\n\n\tvar fpsText = document.createElement('div');\n\tfpsText.id = 'fpsText';\n\tfpsText.style.cssText = 'color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px';\n\tfpsText.innerHTML = 'FPS';\n\tfpsDiv.appendChild(fpsText);\n\n\tvar fpsGraph = document.createElement('div');\n\tfpsGraph.id = 'fpsGraph';\n\tfpsGraph.style.cssText = 'position:relative;width:74px;height:30px;background-color:#0ff';\n\tfpsDiv.appendChild(fpsGraph);\n\n\twhile (fpsGraph.children.length < 74) {\n\n\t\tvar bar = document.createElement('span');\n\t\tbar.style.cssText = 'width:1px;height:30px;float:left;background-color:#113';\n\t\tfpsGraph.appendChild(bar);\n\t}\n\n\tvar msDiv = document.createElement('div');\n\tmsDiv.id = 'ms';\n\tmsDiv.style.cssText = 'padding:0 0 3px 3px;text-align:left;background-color:#020;display:none';\n\tcontainer.appendChild(msDiv);\n\n\tvar msText = document.createElement('div');\n\tmsText.id = 'msText';\n\tmsText.style.cssText = 'color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px';\n\tmsText.innerHTML = 'MS';\n\tmsDiv.appendChild(msText);\n\n\tvar msGraph = document.createElement('div');\n\tmsGraph.id = 'msGraph';\n\tmsGraph.style.cssText = 'position:relative;width:74px;height:30px;background-color:#0f0';\n\tmsDiv.appendChild(msGraph);\n\n\twhile (msGraph.children.length < 74) {\n\n\t\tvar bar = document.createElement('span');\n\t\tbar.style.cssText = 'width:1px;height:30px;float:left;background-color:#131';\n\t\tmsGraph.appendChild(bar);\n\t}\n\n\tvar setMode = function setMode(value) {\n\n\t\tmode = value;\n\n\t\tswitch (mode) {\n\n\t\t\tcase 0:\n\t\t\t\tfpsDiv.style.display = 'block';\n\t\t\t\tmsDiv.style.display = 'none';\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tfpsDiv.style.display = 'none';\n\t\t\t\tmsDiv.style.display = 'block';\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tvar updateGraph = function updateGraph(dom, value) {\n\n\t\tvar child = dom.appendChild(dom.firstChild);\n\t\tchild.style.height = value + 'px';\n\t};\n\n\treturn {\n\n\t\tREVISION: 11,\n\n\t\tdomElement: container,\n\n\t\tsetMode: setMode,\n\n\t\tbegin: function begin() {\n\n\t\t\tstartTime = Date.now();\n\t\t},\n\n\t\tend: function end() {\n\n\t\t\tvar time = Date.now();\n\n\t\t\tms = time - startTime;\n\t\t\tmsMin = Math.min(msMin, ms);\n\t\t\tmsMax = Math.max(msMax, ms);\n\n\t\t\tmsText.textContent = ms + ' MS (' + msMin + '-' + msMax + ')';\n\t\t\tupdateGraph(msGraph, Math.min(30, 30 - ms / 200 * 30));\n\n\t\t\tframes++;\n\n\t\t\tif (time > prevTime + 1000) {\n\n\t\t\t\tfps = Math.round(frames * 1000 / (time - prevTime));\n\t\t\t\tfpsMin = Math.min(fpsMin, fps);\n\t\t\t\tfpsMax = Math.max(fpsMax, fps);\n\n\t\t\t\tfpsText.textContent = fps + ' FPS (' + fpsMin + '-' + fpsMax + ')';\n\t\t\t\tupdateGraph(fpsGraph, Math.min(30, 30 - fps / 100 * 30));\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\t\t\t}\n\n\t\t\treturn time;\n\t\t},\n\n\t\tupdate: function update() {\n\n\t\t\tstartTime = this.end();\n\t\t}\n\n\t};\n};\n\"undefined\" != typeof module && module.exports && (module.exports = Stats);\n\n/***/ }),\n\n/***/ \"r7H9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_drill_vue__ = __webpack_require__(\"yJqe\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6f4f8ef6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_drill_vue__ = __webpack_require__(\"D9gg\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"jt5Y\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6f4f8ef6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_drill_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6f4f8ef6_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_drill_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"rWyd\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"rpgj\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(\"wxAW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__three_js__ = __webpack_require__(\"tqxb\");\n\n\n\n/**\n * Created by zhu18.github.io on 2017/12/05.\n * 3D文字\n */\n\n\nvar Font3D = function () {\n  function Font3D() {\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, Font3D);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(Font3D, null, [{\n    key: 'create',\n    value: function create(txt, o) {\n      var opt = {\n        size: 50,\n        follow: true,\n        family: 'Arial',\n        borderColor: '#000000', //background-color, default: random color\n        color: '#ffffff', //text color, default: random color\n        style: 'oblique', //font-style, can be: normal / italic / oblique, default: 'oblique'\n        weight: 'bold' //font-weight, can be: normal / bold / bolder / lighter / Number, default: 'bold'\n      };\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()(opt, o);\n      return getText2D(txt, opt);\n    }\n  }]);\n\n  return Font3D;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Font3D);\n\n\nfunction getText2D(text, opt) {\n  var canvas = document.createElement('canvas');\n  var context = canvas.getContext('2d');\n  var canvas_width = 512; //context.measureText( text ).width;\n  var canvas_height = 512; //opt.size;\n  canvas.width = canvas_width;\n  canvas.height = canvas_height;\n\n  context.clearRect(0, 0, canvas_width, canvas_height);\n  // context.fillStyle = 'red';\n  // context.fillRect(0,0,canvas_width, canvas_height)\n  // let scale=1.0;\n  //context.translate(canvas_width / 2, canvas_height / 2);\n  //context.scale(scale, scale);\n\n  context.font = '100px ' + opt.family;\n  context.fillStyle = opt.color;\n  context.textAlign = 'center'; //文本程度对齐方法\n  // context.textBaseline='middle';//文本垂曲标的目的，基线位置\n  context.fillText(text, 256, canvas_height / 2);\n  context.strokeStyle = opt.borderColor;\n  context.strokeText(text, 256, canvas_height / 2);\n\n  // canvas contents will be used for a texture\n  var texture = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"X\" /* Texture */](canvas);\n  texture.needsUpdate = true;\n\n  var textObj = null;\n  if (opt.follow) {\n    var spriteMaterial = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"W\" /* SpriteMaterial */]({ map: texture });\n    textObj = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"V\" /* Sprite */](spriteMaterial);\n  } else {\n    var material = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"z\" /* MeshBasicMaterial */]({ map: texture, color: 0xffffff, transparent: true, side: __WEBPACK_IMPORTED_MODULE_3__three_js__[\"k\" /* DoubleSide */] });\n    var geometry = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"F\" /* PlaneGeometry */](1, 1, 1, 1);\n    textObj = new __WEBPACK_IMPORTED_MODULE_3__three_js__[\"y\" /* Mesh */](geometry, material);\n  }\n  textObj.scale.set(opt.size / 10, opt.size / 10, 1.0);\n  return textObj;\n}\n\n/***/ }),\n\n/***/ \"tqxb\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export WebGLRenderTargetCube */\n/* unused harmony export WebGLRenderTarget */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_1\", function() { return WebGLRenderer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"O\", function() { return ShaderLib; });\n/* unused harmony export UniformsLib */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Y\", function() { return UniformsUtils; });\n/* unused harmony export ShaderChunk */\n/* unused harmony export FogExp2 */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"o\", function() { return Fog; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"N\", function() { return Scene; });\n/* unused harmony export LensFlare */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"V\", function() { return Sprite; });\n/* unused harmony export LOD */\n/* unused harmony export SkinnedMesh */\n/* unused harmony export Skeleton */\n/* unused harmony export Bone */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"y\", function() { return Mesh; });\n/* unused harmony export LineSegments */\n/* unused harmony export LineLoop */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"u\", function() { return Line; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"H\", function() { return Points; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"s\", function() { return Group; });\n/* unused harmony export VideoTexture */\n/* unused harmony export DataTexture */\n/* unused harmony export CompressedTexture */\n/* unused harmony export CubeTexture */\n/* unused harmony export CanvasTexture */\n/* unused harmony export DepthTexture */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"X\", function() { return Texture; });\n/* unused harmony export CompressedTextureLoader */\n/* unused harmony export DataTextureLoader */\n/* unused harmony export CubeTextureLoader */\n/* unused harmony export TextureLoader */\n/* unused harmony export ObjectLoader */\n/* unused harmony export MaterialLoader */\n/* unused harmony export BufferGeometryLoader */\n/* unused harmony export DefaultLoadingManager */\n/* unused harmony export LoadingManager */\n/* unused harmony export JSONLoader */\n/* unused harmony export ImageLoader */\n/* unused harmony export FontLoader */\n/* unused harmony export FileLoader */\n/* unused harmony export Loader */\n/* unused harmony export Cache */\n/* unused harmony export AudioLoader */\n/* unused harmony export SpotLightShadow */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"T\", function() { return SpotLight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"G\", function() { return PointLight; });\n/* unused harmony export RectAreaLight */\n/* unused harmony export HemisphereLight */\n/* unused harmony export DirectionalLightShadow */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return DirectionalLight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return AmbientLight; });\n/* unused harmony export LightShadow */\n/* unused harmony export Light */\n/* unused harmony export StereoCamera */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"E\", function() { return PerspectiveCamera; });\n/* unused harmony export OrthographicCamera */\n/* unused harmony export CubeCamera */\n/* unused harmony export ArrayCamera */\n/* unused harmony export Camera */\n/* unused harmony export AudioListener */\n/* unused harmony export PositionalAudio */\n/* unused harmony export AudioContext */\n/* unused harmony export AudioAnalyser */\n/* unused harmony export Audio */\n/* unused harmony export VectorKeyframeTrack */\n/* unused harmony export StringKeyframeTrack */\n/* unused harmony export QuaternionKeyframeTrack */\n/* unused harmony export NumberKeyframeTrack */\n/* unused harmony export ColorKeyframeTrack */\n/* unused harmony export BooleanKeyframeTrack */\n/* unused harmony export PropertyMixer */\n/* unused harmony export PropertyBinding */\n/* unused harmony export KeyframeTrack */\n/* unused harmony export AnimationUtils */\n/* unused harmony export AnimationObjectGroup */\n/* unused harmony export AnimationMixer */\n/* unused harmony export AnimationClip */\n/* unused harmony export Uniform */\n/* unused harmony export InstancedBufferGeometry */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return BufferGeometry; });\n/* unused harmony export GeometryIdCount */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"q\", function() { return Geometry; });\n/* unused harmony export InterleavedBufferAttribute */\n/* unused harmony export InstancedInterleavedBuffer */\n/* unused harmony export InterleavedBuffer */\n/* unused harmony export InstancedBufferAttribute */\n/* unused harmony export Face3 */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"C\", function() { return Object3D; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"L\", function() { return Raycaster; });\n/* unused harmony export Layers */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return EventDispatcher; });\n/* unused harmony export Clock */\n/* unused harmony export QuaternionLinearInterpolant */\n/* unused harmony export LinearInterpolant */\n/* unused harmony export DiscreteInterpolant */\n/* unused harmony export CubicInterpolant */\n/* unused harmony export Interpolant */\n/* unused harmony export Triangle */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"x\", function() { return _Math; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"S\", function() { return Spherical; });\n/* unused harmony export Cylindrical */\n/* unused harmony export Plane */\n/* unused harmony export Frustum */\n/* unused harmony export Sphere */\n/* unused harmony export Ray */\n/* unused harmony export Matrix4 */\n/* unused harmony export Matrix3 */\n/* unused harmony export Box3 */\n/* unused harmony export Box2 */\n/* unused harmony export Line3 */\n/* unused harmony export Euler */\n/* unused harmony export Vector4 */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_0\", function() { return Vector3; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Z\", function() { return Vector2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"K\", function() { return Quaternion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return Color; });\n/* unused harmony export ImmediateRenderObject */\n/* unused harmony export VertexNormalsHelper */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"U\", function() { return SpotLightHelper; });\n/* unused harmony export SkeletonHelper */\n/* unused harmony export PointLightHelper */\n/* unused harmony export RectAreaLightHelper */\n/* unused harmony export HemisphereLightHelper */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"r\", function() { return GridHelper; });\n/* unused harmony export PolarGridHelper */\n/* unused harmony export FaceNormalsHelper */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return DirectionalLightHelper; });\n/* unused harmony export CameraHelper */\n/* unused harmony export BoxHelper */\n/* unused harmony export Box3Helper */\n/* unused harmony export PlaneHelper */\n/* unused harmony export ArrowHelper */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return AxisHelper; });\n/* unused harmony export CatmullRomCurve3 */\n/* unused harmony export CubicBezierCurve3 */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"J\", function() { return QuadraticBezierCurve3; });\n/* unused harmony export LineCurve3 */\n/* unused harmony export ArcCurve */\n/* unused harmony export EllipseCurve */\n/* unused harmony export SplineCurve */\n/* unused harmony export CubicBezierCurve */\n/* unused harmony export QuadraticBezierCurve */\n/* unused harmony export LineCurve */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Q\", function() { return Shape; });\n/* unused harmony export Path */\n/* unused harmony export ShapePath */\n/* unused harmony export Font */\n/* unused harmony export CurvePath */\n/* unused harmony export Curve */\n/* unused harmony export ShapeUtils */\n/* unused harmony export SceneUtils */\n/* unused harmony export WebGLUtils */\n/* unused harmony export WireframeGeometry */\n/* unused harmony export ParametricGeometry */\n/* unused harmony export ParametricBufferGeometry */\n/* unused harmony export TetrahedronGeometry */\n/* unused harmony export TetrahedronBufferGeometry */\n/* unused harmony export OctahedronGeometry */\n/* unused harmony export OctahedronBufferGeometry */\n/* unused harmony export IcosahedronGeometry */\n/* unused harmony export IcosahedronBufferGeometry */\n/* unused harmony export DodecahedronGeometry */\n/* unused harmony export DodecahedronBufferGeometry */\n/* unused harmony export PolyhedronGeometry */\n/* unused harmony export PolyhedronBufferGeometry */\n/* unused harmony export TubeGeometry */\n/* unused harmony export TubeBufferGeometry */\n/* unused harmony export TorusKnotGeometry */\n/* unused harmony export TorusKnotBufferGeometry */\n/* unused harmony export TorusGeometry */\n/* unused harmony export TorusBufferGeometry */\n/* unused harmony export TextGeometry */\n/* unused harmony export TextBufferGeometry */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"R\", function() { return SphereGeometry; });\n/* unused harmony export SphereBufferGeometry */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"M\", function() { return RingGeometry; });\n/* unused harmony export RingBufferGeometry */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"F\", function() { return PlaneGeometry; });\n/* unused harmony export PlaneBufferGeometry */\n/* unused harmony export LatheGeometry */\n/* unused harmony export LatheBufferGeometry */\n/* unused harmony export ShapeGeometry */\n/* unused harmony export ShapeBufferGeometry */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"n\", function() { return ExtrudeGeometry; });\n/* unused harmony export ExtrudeBufferGeometry */\n/* unused harmony export EdgesGeometry */\n/* unused harmony export ConeGeometry */\n/* unused harmony export ConeBufferGeometry */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return CylinderGeometry; });\n/* unused harmony export CylinderBufferGeometry */\n/* unused harmony export CircleGeometry */\n/* unused harmony export CircleBufferGeometry */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return BoxGeometry; });\n/* unused harmony export BoxBufferGeometry */\n/* unused harmony export ShadowMaterial */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"W\", function() { return SpriteMaterial; });\n/* unused harmony export RawShaderMaterial */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"P\", function() { return ShaderMaterial; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"I\", function() { return PointsMaterial; });\n/* unused harmony export MeshPhysicalMaterial */\n/* unused harmony export MeshStandardMaterial */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"B\", function() { return MeshPhongMaterial; });\n/* unused harmony export MeshToonMaterial */\n/* unused harmony export MeshNormalMaterial */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"A\", function() { return MeshLambertMaterial; });\n/* unused harmony export MeshDepthMaterial */\n/* unused harmony export MeshDistanceMaterial */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"z\", function() { return MeshBasicMaterial; });\n/* unused harmony export LineDashedMaterial */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"v\", function() { return LineBasicMaterial; });\n/* unused harmony export Material */\n/* unused harmony export Float64BufferAttribute */\n/* unused harmony export Float32BufferAttribute */\n/* unused harmony export Uint32BufferAttribute */\n/* unused harmony export Int32BufferAttribute */\n/* unused harmony export Uint16BufferAttribute */\n/* unused harmony export Int16BufferAttribute */\n/* unused harmony export Uint8ClampedBufferAttribute */\n/* unused harmony export Uint8BufferAttribute */\n/* unused harmony export Int8BufferAttribute */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return BufferAttribute; });\n/* unused harmony export REVISION */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"w\", function() { return MOUSE; });\n/* unused harmony export CullFaceNone */\n/* unused harmony export CullFaceBack */\n/* unused harmony export CullFaceFront */\n/* unused harmony export CullFaceFrontBack */\n/* unused harmony export FrontFaceDirectionCW */\n/* unused harmony export FrontFaceDirectionCCW */\n/* unused harmony export BasicShadowMap */\n/* unused harmony export PCFShadowMap */\n/* unused harmony export PCFSoftShadowMap */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"p\", function() { return FrontSide; });\n/* unused harmony export BackSide */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return DoubleSide; });\n/* unused harmony export FlatShading */\n/* unused harmony export SmoothShading */\n/* unused harmony export NoColors */\n/* unused harmony export FaceColors */\n/* unused harmony export VertexColors */\n/* unused harmony export NoBlending */\n/* unused harmony export NormalBlending */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AdditiveBlending; });\n/* unused harmony export SubtractiveBlending */\n/* unused harmony export MultiplyBlending */\n/* unused harmony export CustomBlending */\n/* unused harmony export AddEquation */\n/* unused harmony export SubtractEquation */\n/* unused harmony export ReverseSubtractEquation */\n/* unused harmony export MinEquation */\n/* unused harmony export MaxEquation */\n/* unused harmony export ZeroFactor */\n/* unused harmony export OneFactor */\n/* unused harmony export SrcColorFactor */\n/* unused harmony export OneMinusSrcColorFactor */\n/* unused harmony export SrcAlphaFactor */\n/* unused harmony export OneMinusSrcAlphaFactor */\n/* unused harmony export DstAlphaFactor */\n/* unused harmony export OneMinusDstAlphaFactor */\n/* unused harmony export DstColorFactor */\n/* unused harmony export OneMinusDstColorFactor */\n/* unused harmony export SrcAlphaSaturateFactor */\n/* unused harmony export NeverDepth */\n/* unused harmony export AlwaysDepth */\n/* unused harmony export LessDepth */\n/* unused harmony export LessEqualDepth */\n/* unused harmony export EqualDepth */\n/* unused harmony export GreaterEqualDepth */\n/* unused harmony export GreaterDepth */\n/* unused harmony export NotEqualDepth */\n/* unused harmony export MultiplyOperation */\n/* unused harmony export MixOperation */\n/* unused harmony export AddOperation */\n/* unused harmony export NoToneMapping */\n/* unused harmony export LinearToneMapping */\n/* unused harmony export ReinhardToneMapping */\n/* unused harmony export Uncharted2ToneMapping */\n/* unused harmony export CineonToneMapping */\n/* unused harmony export UVMapping */\n/* unused harmony export CubeReflectionMapping */\n/* unused harmony export CubeRefractionMapping */\n/* unused harmony export EquirectangularReflectionMapping */\n/* unused harmony export EquirectangularRefractionMapping */\n/* unused harmony export SphericalReflectionMapping */\n/* unused harmony export CubeUVReflectionMapping */\n/* unused harmony export CubeUVRefractionMapping */\n/* unused harmony export RepeatWrapping */\n/* unused harmony export ClampToEdgeWrapping */\n/* unused harmony export MirroredRepeatWrapping */\n/* unused harmony export NearestFilter */\n/* unused harmony export NearestMipMapNearestFilter */\n/* unused harmony export NearestMipMapLinearFilter */\n/* unused harmony export LinearFilter */\n/* unused harmony export LinearMipMapNearestFilter */\n/* unused harmony export LinearMipMapLinearFilter */\n/* unused harmony export UnsignedByteType */\n/* unused harmony export ByteType */\n/* unused harmony export ShortType */\n/* unused harmony export UnsignedShortType */\n/* unused harmony export IntType */\n/* unused harmony export UnsignedIntType */\n/* unused harmony export FloatType */\n/* unused harmony export HalfFloatType */\n/* unused harmony export UnsignedShort4444Type */\n/* unused harmony export UnsignedShort5551Type */\n/* unused harmony export UnsignedShort565Type */\n/* unused harmony export UnsignedInt248Type */\n/* unused harmony export AlphaFormat */\n/* unused harmony export RGBFormat */\n/* unused harmony export RGBAFormat */\n/* unused harmony export LuminanceFormat */\n/* unused harmony export LuminanceAlphaFormat */\n/* unused harmony export RGBEFormat */\n/* unused harmony export DepthFormat */\n/* unused harmony export DepthStencilFormat */\n/* unused harmony export RGB_S3TC_DXT1_Format */\n/* unused harmony export RGBA_S3TC_DXT1_Format */\n/* unused harmony export RGBA_S3TC_DXT3_Format */\n/* unused harmony export RGBA_S3TC_DXT5_Format */\n/* unused harmony export RGB_PVRTC_4BPPV1_Format */\n/* unused harmony export RGB_PVRTC_2BPPV1_Format */\n/* unused harmony export RGBA_PVRTC_4BPPV1_Format */\n/* unused harmony export RGBA_PVRTC_2BPPV1_Format */\n/* unused harmony export RGB_ETC1_Format */\n/* unused harmony export LoopOnce */\n/* unused harmony export LoopRepeat */\n/* unused harmony export LoopPingPong */\n/* unused harmony export InterpolateDiscrete */\n/* unused harmony export InterpolateLinear */\n/* unused harmony export InterpolateSmooth */\n/* unused harmony export ZeroCurvatureEnding */\n/* unused harmony export ZeroSlopeEnding */\n/* unused harmony export WrapAroundEnding */\n/* unused harmony export TrianglesDrawMode */\n/* unused harmony export TriangleStripDrawMode */\n/* unused harmony export TriangleFanDrawMode */\n/* unused harmony export LinearEncoding */\n/* unused harmony export sRGBEncoding */\n/* unused harmony export GammaEncoding */\n/* unused harmony export RGBEEncoding */\n/* unused harmony export LogLuvEncoding */\n/* unused harmony export RGBM7Encoding */\n/* unused harmony export RGBM16Encoding */\n/* unused harmony export RGBDEncoding */\n/* unused harmony export BasicDepthPacking */\n/* unused harmony export RGBADepthPacking */\n/* unused harmony export CubeGeometry */\n/* unused harmony export Face4 */\n/* unused harmony export LineStrip */\n/* unused harmony export LinePieces */\n/* unused harmony export MeshFaceMaterial */\n/* unused harmony export MultiMaterial */\n/* unused harmony export PointCloud */\n/* unused harmony export Particle */\n/* unused harmony export ParticleSystem */\n/* unused harmony export PointCloudMaterial */\n/* unused harmony export ParticleBasicMaterial */\n/* unused harmony export ParticleSystemMaterial */\n/* unused harmony export Vertex */\n/* unused harmony export DynamicBufferAttribute */\n/* unused harmony export Int8Attribute */\n/* unused harmony export Uint8Attribute */\n/* unused harmony export Uint8ClampedAttribute */\n/* unused harmony export Int16Attribute */\n/* unused harmony export Uint16Attribute */\n/* unused harmony export Int32Attribute */\n/* unused harmony export Uint32Attribute */\n/* unused harmony export Float32Attribute */\n/* unused harmony export Float64Attribute */\n/* unused harmony export ClosedSplineCurve3 */\n/* unused harmony export SplineCurve3 */\n/* unused harmony export Spline */\n/* unused harmony export BoundingBoxHelper */\n/* unused harmony export EdgesHelper */\n/* unused harmony export WireframeHelper */\n/* unused harmony export XHRLoader */\n/* unused harmony export BinaryTextureLoader */\n/* unused harmony export GeometryUtils */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"t\", function() { return ImageUtils; });\n/* unused harmony export Projector */\n/* unused harmony export CanvasRenderer */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze__ = __webpack_require__(\"u2KI\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__ = __webpack_require__(\"pFYg\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys__ = __webpack_require__(\"fZjL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__ = __webpack_require__(\"OvRC\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties__ = __webpack_require__(\"HSQo\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_math_sign__ = __webpack_require__(\"2QDH\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_math_sign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_math_sign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_number_is_integer__ = __webpack_require__(\"RRo+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_number_is_integer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_number_is_integer__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon__ = __webpack_require__(\"NnIC\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon__);\n// Polyfills\nif(__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a===undefined){Number.EPSILON=Math.pow(2,-52);}if(__WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_number_is_integer___default.a===undefined){// Missing in IE\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\nNumber.isInteger=function(value){return typeof value==='number'&&isFinite(value)&&Math.floor(value)===value;};}//\nif(__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_math_sign___default.a===undefined){// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\nMath.sign=function(x){return x<0?-1:x>0?1:+x;};}if(Function.prototype.name===undefined){// Missing in IE\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\nObject.defineProperty(Function.prototype,'name',{get:function get(){return this.toString().match(/^\\s*function\\s*([^\\(\\s]*)/)[1];}});}if(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default.a===undefined){// Missing in IE\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n(function(){Object.assign=function(target){'use strict';if(target===undefined||target===null){throw new TypeError('Cannot convert undefined or null to object');}var output=Object(target);for(var index=1;index<arguments.length;index++){var source=arguments[index];if(source!==undefined&&source!==null){for(var nextKey in source){if(Object.prototype.hasOwnProperty.call(source,nextKey)){output[nextKey]=source[nextKey];}}}}return output;};})();}/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */function EventDispatcher(){}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(EventDispatcher.prototype,{addEventListener:function addEventListener(type,listener){if(this._listeners===undefined)this._listeners={};var listeners=this._listeners;if(listeners[type]===undefined){listeners[type]=[];}if(listeners[type].indexOf(listener)===-1){listeners[type].push(listener);}},hasEventListener:function hasEventListener(type,listener){if(this._listeners===undefined)return false;var listeners=this._listeners;return listeners[type]!==undefined&&listeners[type].indexOf(listener)!==-1;},removeEventListener:function removeEventListener(type,listener){if(this._listeners===undefined)return;var listeners=this._listeners;var listenerArray=listeners[type];if(listenerArray!==undefined){var index=listenerArray.indexOf(listener);if(index!==-1){listenerArray.splice(index,1);}}},dispatchEvent:function dispatchEvent(event){if(this._listeners===undefined)return;var listeners=this._listeners;var listenerArray=listeners[event.type];if(listenerArray!==undefined){event.target=this;var array=listenerArray.slice(0);for(var i=0,l=array.length;i<l;i++){array[i].call(this,event);}}}});var REVISION='87';var MOUSE={LEFT:0,MIDDLE:1,RIGHT:2};var CullFaceNone=0;var CullFaceBack=1;var CullFaceFront=2;var CullFaceFrontBack=3;var FrontFaceDirectionCW=0;var FrontFaceDirectionCCW=1;var BasicShadowMap=0;var PCFShadowMap=1;var PCFSoftShadowMap=2;var FrontSide=0;var BackSide=1;var DoubleSide=2;var FlatShading=1;var SmoothShading=2;var NoColors=0;var FaceColors=1;var VertexColors=2;var NoBlending=0;var NormalBlending=1;var AdditiveBlending=2;var SubtractiveBlending=3;var MultiplyBlending=4;var CustomBlending=5;var AddEquation=100;var SubtractEquation=101;var ReverseSubtractEquation=102;var MinEquation=103;var MaxEquation=104;var ZeroFactor=200;var OneFactor=201;var SrcColorFactor=202;var OneMinusSrcColorFactor=203;var SrcAlphaFactor=204;var OneMinusSrcAlphaFactor=205;var DstAlphaFactor=206;var OneMinusDstAlphaFactor=207;var DstColorFactor=208;var OneMinusDstColorFactor=209;var SrcAlphaSaturateFactor=210;var NeverDepth=0;var AlwaysDepth=1;var LessDepth=2;var LessEqualDepth=3;var EqualDepth=4;var GreaterEqualDepth=5;var GreaterDepth=6;var NotEqualDepth=7;var MultiplyOperation=0;var MixOperation=1;var AddOperation=2;var NoToneMapping=0;var LinearToneMapping=1;var ReinhardToneMapping=2;var Uncharted2ToneMapping=3;var CineonToneMapping=4;var UVMapping=300;var CubeReflectionMapping=301;var CubeRefractionMapping=302;var EquirectangularReflectionMapping=303;var EquirectangularRefractionMapping=304;var SphericalReflectionMapping=305;var CubeUVReflectionMapping=306;var CubeUVRefractionMapping=307;var RepeatWrapping=1000;var ClampToEdgeWrapping=1001;var MirroredRepeatWrapping=1002;var NearestFilter=1003;var NearestMipMapNearestFilter=1004;var NearestMipMapLinearFilter=1005;var LinearFilter=1006;var LinearMipMapNearestFilter=1007;var LinearMipMapLinearFilter=1008;var UnsignedByteType=1009;var ByteType=1010;var ShortType=1011;var UnsignedShortType=1012;var IntType=1013;var UnsignedIntType=1014;var FloatType=1015;var HalfFloatType=1016;var UnsignedShort4444Type=1017;var UnsignedShort5551Type=1018;var UnsignedShort565Type=1019;var UnsignedInt248Type=1020;var AlphaFormat=1021;var RGBFormat=1022;var RGBAFormat=1023;var LuminanceFormat=1024;var LuminanceAlphaFormat=1025;var RGBEFormat=RGBAFormat;var DepthFormat=1026;var DepthStencilFormat=1027;var RGB_S3TC_DXT1_Format=2001;var RGBA_S3TC_DXT1_Format=2002;var RGBA_S3TC_DXT3_Format=2003;var RGBA_S3TC_DXT5_Format=2004;var RGB_PVRTC_4BPPV1_Format=2100;var RGB_PVRTC_2BPPV1_Format=2101;var RGBA_PVRTC_4BPPV1_Format=2102;var RGBA_PVRTC_2BPPV1_Format=2103;var RGB_ETC1_Format=2151;var LoopOnce=2200;var LoopRepeat=2201;var LoopPingPong=2202;var InterpolateDiscrete=2300;var InterpolateLinear=2301;var InterpolateSmooth=2302;var ZeroCurvatureEnding=2400;var ZeroSlopeEnding=2401;var WrapAroundEnding=2402;var TrianglesDrawMode=0;var TriangleStripDrawMode=1;var TriangleFanDrawMode=2;var LinearEncoding=3000;var sRGBEncoding=3001;var GammaEncoding=3007;var RGBEEncoding=3002;var LogLuvEncoding=3003;var RGBM7Encoding=3004;var RGBM16Encoding=3005;var RGBDEncoding=3006;var BasicDepthPacking=3200;var RGBADepthPacking=3201;/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */var _Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){// http://www.broofa.com/Tools/Math.uuid.htm\nvar chars='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');var uuid=new Array(36);var rnd=0,r;return function generateUUID(){for(var i=0;i<36;i++){if(i===8||i===13||i===18||i===23){uuid[i]='-';}else if(i===14){uuid[i]='4';}else{if(rnd<=0x02)rnd=0x2000000+Math.random()*0x1000000|0;r=rnd&0xf;rnd=rnd>>4;uuid[i]=chars[i===19?r&0x3|0x8:r];}}return uuid.join('');};}(),clamp:function clamp(value,min,max){return Math.max(min,Math.min(max,value));},// compute euclidian modulo of m % n\n// https://en.wikipedia.org/wiki/Modulo_operation\neuclideanModulo:function euclideanModulo(n,m){return(n%m+m)%m;},// Linear mapping from range <a1, a2> to range <b1, b2>\nmapLinear:function mapLinear(x,a1,a2,b1,b2){return b1+(x-a1)*(b2-b1)/(a2-a1);},// https://en.wikipedia.org/wiki/Linear_interpolation\nlerp:function lerp(x,y,t){return(1-t)*x+t*y;},// http://en.wikipedia.org/wiki/Smoothstep\nsmoothstep:function smoothstep(x,min,max){if(x<=min)return 0;if(x>=max)return 1;x=(x-min)/(max-min);return x*x*(3-2*x);},smootherstep:function smootherstep(x,min,max){if(x<=min)return 0;if(x>=max)return 1;x=(x-min)/(max-min);return x*x*x*(x*(x*6-15)+10);},// Random integer from <low, high> interval\nrandInt:function randInt(low,high){return low+Math.floor(Math.random()*(high-low+1));},// Random float from <low, high> interval\nrandFloat:function randFloat(low,high){return low+Math.random()*(high-low);},// Random float from <-range/2, range/2> interval\nrandFloatSpread:function randFloatSpread(range){return range*(0.5-Math.random());},degToRad:function degToRad(degrees){return degrees*_Math.DEG2RAD;},radToDeg:function radToDeg(radians){return radians*_Math.RAD2DEG;},isPowerOfTwo:function isPowerOfTwo(value){return(value&value-1)===0&&value!==0;},nearestPowerOfTwo:function nearestPowerOfTwo(value){return Math.pow(2,Math.round(Math.log(value)/Math.LN2));},nextPowerOfTwo:function nextPowerOfTwo(value){value--;value|=value>>1;value|=value>>2;value|=value>>4;value|=value>>8;value|=value>>16;value++;return value;}};/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */function Vector2(x,y){this.x=x||0;this.y=y||0;}__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(Vector2.prototype,{\"width\":{get:function get(){return this.x;},set:function set(value){this.x=value;}},\"height\":{get:function get(){return this.y;},set:function set(value){this.y=value;}}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Vector2.prototype,{isVector2:true,set:function set(x,y){this.x=x;this.y=y;return this;},setScalar:function setScalar(scalar){this.x=scalar;this.y=scalar;return this;},setX:function setX(x){this.x=x;return this;},setY:function setY(y){this.y=y;return this;},setComponent:function setComponent(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;default:throw new Error('index is out of range: '+index);}return this;},getComponent:function getComponent(index){switch(index){case 0:return this.x;case 1:return this.y;default:throw new Error('index is out of range: '+index);}},clone:function clone(){return new this.constructor(this.x,this.y);},copy:function copy(v){this.x=v.x;this.y=v.y;return this;},add:function add(v,w){if(w!==undefined){console.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');return this.addVectors(v,w);}this.x+=v.x;this.y+=v.y;return this;},addScalar:function addScalar(s){this.x+=s;this.y+=s;return this;},addVectors:function addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this;},addScaledVector:function addScaledVector(v,s){this.x+=v.x*s;this.y+=v.y*s;return this;},sub:function sub(v,w){if(w!==undefined){console.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');return this.subVectors(v,w);}this.x-=v.x;this.y-=v.y;return this;},subScalar:function subScalar(s){this.x-=s;this.y-=s;return this;},subVectors:function subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this;},multiply:function multiply(v){this.x*=v.x;this.y*=v.y;return this;},multiplyScalar:function multiplyScalar(scalar){this.x*=scalar;this.y*=scalar;return this;},divide:function divide(v){this.x/=v.x;this.y/=v.y;return this;},divideScalar:function divideScalar(scalar){return this.multiplyScalar(1/scalar);},min:function min(v){this.x=Math.min(this.x,v.x);this.y=Math.min(this.y,v.y);return this;},max:function max(v){this.x=Math.max(this.x,v.x);this.y=Math.max(this.y,v.y);return this;},clamp:function clamp(min,max){// assumes min < max, componentwise\nthis.x=Math.max(min.x,Math.min(max.x,this.x));this.y=Math.max(min.y,Math.min(max.y,this.y));return this;},clampScalar:function(){var min=new Vector2();var max=new Vector2();return function clampScalar(minVal,maxVal){min.set(minVal,minVal);max.set(maxVal,maxVal);return this.clamp(min,max);};}(),clampLength:function clampLength(min,max){var length=this.length();return this.divideScalar(length||1).multiplyScalar(Math.max(min,Math.min(max,length)));},floor:function floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this;},ceil:function ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this;},round:function round(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this;},roundToZero:function roundToZero(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);return this;},negate:function negate(){this.x=-this.x;this.y=-this.y;return this;},dot:function dot(v){return this.x*v.x+this.y*v.y;},lengthSq:function lengthSq(){return this.x*this.x+this.y*this.y;},length:function length(){return Math.sqrt(this.x*this.x+this.y*this.y);},lengthManhattan:function lengthManhattan(){return Math.abs(this.x)+Math.abs(this.y);},normalize:function normalize(){return this.divideScalar(this.length()||1);},angle:function angle(){// computes the angle in radians with respect to the positive x-axis\nvar angle=Math.atan2(this.y,this.x);if(angle<0)angle+=2*Math.PI;return angle;},distanceTo:function distanceTo(v){return Math.sqrt(this.distanceToSquared(v));},distanceToSquared:function distanceToSquared(v){var dx=this.x-v.x,dy=this.y-v.y;return dx*dx+dy*dy;},distanceToManhattan:function distanceToManhattan(v){return Math.abs(this.x-v.x)+Math.abs(this.y-v.y);},setLength:function setLength(length){return this.normalize().multiplyScalar(length);},lerp:function lerp(v,alpha){this.x+=(v.x-this.x)*alpha;this.y+=(v.y-this.y)*alpha;return this;},lerpVectors:function lerpVectors(v1,v2,alpha){return this.subVectors(v2,v1).multiplyScalar(alpha).add(v1);},equals:function equals(v){return v.x===this.x&&v.y===this.y;},fromArray:function fromArray(array,offset){if(offset===undefined)offset=0;this.x=array[offset];this.y=array[offset+1];return this;},toArray:function toArray(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;array[offset]=this.x;array[offset+1]=this.y;return array;},fromBufferAttribute:function fromBufferAttribute(attribute,index,offset){if(offset!==undefined){console.warn('THREE.Vector2: offset has been removed from .fromBufferAttribute().');}this.x=attribute.getX(index);this.y=attribute.getY(index);return this;},rotateAround:function rotateAround(center,angle){var c=Math.cos(angle),s=Math.sin(angle);var x=this.x-center.x;var y=this.y-center.y;this.x=x*c-y*s+center.x;this.y=x*s+y*c+center.y;return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */var textureId=0;function Texture(image,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding){Object.defineProperty(this,'id',{value:textureId++});this.uuid=_Math.generateUUID();this.name='';this.image=image!==undefined?image:Texture.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=mapping!==undefined?mapping:Texture.DEFAULT_MAPPING;this.wrapS=wrapS!==undefined?wrapS:ClampToEdgeWrapping;this.wrapT=wrapT!==undefined?wrapT:ClampToEdgeWrapping;this.magFilter=magFilter!==undefined?magFilter:LinearFilter;this.minFilter=minFilter!==undefined?minFilter:LinearMipMapLinearFilter;this.anisotropy=anisotropy!==undefined?anisotropy:1;this.format=format!==undefined?format:RGBAFormat;this.type=type!==undefined?type:UnsignedByteType;this.offset=new Vector2(0,0);this.repeat=new Vector2(1,1);this.generateMipmaps=true;this.premultiplyAlpha=false;this.flipY=true;this.unpackAlignment=4;// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n//\n// Also changing the encoding after already used by a Material will not automatically make the Material\n// update.  You need to explicitly call Material.needsUpdate to trigger it to recompile.\nthis.encoding=encoding!==undefined?encoding:LinearEncoding;this.version=0;this.onUpdate=null;}Texture.DEFAULT_IMAGE=undefined;Texture.DEFAULT_MAPPING=UVMapping;Object.defineProperty(Texture.prototype,\"needsUpdate\",{set:function set(value){if(value===true)this.version++;}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Texture.prototype,EventDispatcher.prototype,{constructor:Texture,isTexture:true,clone:function clone(){return new this.constructor().copy(this);},copy:function copy(source){this.name=source.name;this.image=source.image;this.mipmaps=source.mipmaps.slice(0);this.mapping=source.mapping;this.wrapS=source.wrapS;this.wrapT=source.wrapT;this.magFilter=source.magFilter;this.minFilter=source.minFilter;this.anisotropy=source.anisotropy;this.format=source.format;this.type=source.type;this.offset.copy(source.offset);this.repeat.copy(source.repeat);this.generateMipmaps=source.generateMipmaps;this.premultiplyAlpha=source.premultiplyAlpha;this.flipY=source.flipY;this.unpackAlignment=source.unpackAlignment;this.encoding=source.encoding;return this;},toJSON:function toJSON(meta){if(meta.textures[this.uuid]!==undefined){return meta.textures[this.uuid];}function getDataURL(image){var canvas;if(image instanceof HTMLCanvasElement){canvas=image;}else{canvas=document.createElementNS('http://www.w3.org/1999/xhtml','canvas');canvas.width=image.width;canvas.height=image.height;var context=canvas.getContext('2d');if(image instanceof ImageData){context.putImageData(image,0,0);}else{context.drawImage(image,0,0,image.width,image.height);}}if(canvas.width>2048||canvas.height>2048){return canvas.toDataURL('image/jpeg',0.6);}else{return canvas.toDataURL('image/png');}}var output={metadata:{version:4.5,type:'Texture',generator:'Texture.toJSON'},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(this.image!==undefined){// TODO: Move to THREE.Image\nvar image=this.image;if(image.uuid===undefined){image.uuid=_Math.generateUUID();// UGH\n}if(meta.images[image.uuid]===undefined){meta.images[image.uuid]={uuid:image.uuid,url:getDataURL(image)};}output.image=image.uuid;}meta.textures[this.uuid]=output;return output;},dispose:function dispose(){this.dispatchEvent({type:'dispose'});},transformUv:function transformUv(uv){if(this.mapping!==UVMapping)return;uv.multiply(this.repeat);uv.add(this.offset);if(uv.x<0||uv.x>1){switch(this.wrapS){case RepeatWrapping:uv.x=uv.x-Math.floor(uv.x);break;case ClampToEdgeWrapping:uv.x=uv.x<0?0:1;break;case MirroredRepeatWrapping:if(Math.abs(Math.floor(uv.x)%2)===1){uv.x=Math.ceil(uv.x)-uv.x;}else{uv.x=uv.x-Math.floor(uv.x);}break;}}if(uv.y<0||uv.y>1){switch(this.wrapT){case RepeatWrapping:uv.y=uv.y-Math.floor(uv.y);break;case ClampToEdgeWrapping:uv.y=uv.y<0?0:1;break;case MirroredRepeatWrapping:if(Math.abs(Math.floor(uv.y)%2)===1){uv.y=Math.ceil(uv.y)-uv.y;}else{uv.y=uv.y-Math.floor(uv.y);}break;}}if(this.flipY){uv.y=1-uv.y;}}});/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */function Vector4(x,y,z,w){this.x=x||0;this.y=y||0;this.z=z||0;this.w=w!==undefined?w:1;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Vector4.prototype,{isVector4:true,set:function set(x,y,z,w){this.x=x;this.y=y;this.z=z;this.w=w;return this;},setScalar:function setScalar(scalar){this.x=scalar;this.y=scalar;this.z=scalar;this.w=scalar;return this;},setX:function setX(x){this.x=x;return this;},setY:function setY(y){this.y=y;return this;},setZ:function setZ(z){this.z=z;return this;},setW:function setW(w){this.w=w;return this;},setComponent:function setComponent(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;case 2:this.z=value;break;case 3:this.w=value;break;default:throw new Error('index is out of range: '+index);}return this;},getComponent:function getComponent(index){switch(index){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error('index is out of range: '+index);}},clone:function clone(){return new this.constructor(this.x,this.y,this.z,this.w);},copy:function copy(v){this.x=v.x;this.y=v.y;this.z=v.z;this.w=v.w!==undefined?v.w:1;return this;},add:function add(v,w){if(w!==undefined){console.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');return this.addVectors(v,w);}this.x+=v.x;this.y+=v.y;this.z+=v.z;this.w+=v.w;return this;},addScalar:function addScalar(s){this.x+=s;this.y+=s;this.z+=s;this.w+=s;return this;},addVectors:function addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this;},addScaledVector:function addScaledVector(v,s){this.x+=v.x*s;this.y+=v.y*s;this.z+=v.z*s;this.w+=v.w*s;return this;},sub:function sub(v,w){if(w!==undefined){console.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');return this.subVectors(v,w);}this.x-=v.x;this.y-=v.y;this.z-=v.z;this.w-=v.w;return this;},subScalar:function subScalar(s){this.x-=s;this.y-=s;this.z-=s;this.w-=s;return this;},subVectors:function subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this;},multiplyScalar:function multiplyScalar(scalar){this.x*=scalar;this.y*=scalar;this.z*=scalar;this.w*=scalar;return this;},applyMatrix4:function applyMatrix4(m){var x=this.x,y=this.y,z=this.z,w=this.w;var e=m.elements;this.x=e[0]*x+e[4]*y+e[8]*z+e[12]*w;this.y=e[1]*x+e[5]*y+e[9]*z+e[13]*w;this.z=e[2]*x+e[6]*y+e[10]*z+e[14]*w;this.w=e[3]*x+e[7]*y+e[11]*z+e[15]*w;return this;},divideScalar:function divideScalar(scalar){return this.multiplyScalar(1/scalar);},setAxisAngleFromQuaternion:function setAxisAngleFromQuaternion(q){// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n// q is assumed to be normalized\nthis.w=2*Math.acos(q.w);var s=Math.sqrt(1-q.w*q.w);if(s<0.0001){this.x=1;this.y=0;this.z=0;}else{this.x=q.x/s;this.y=q.y/s;this.z=q.z/s;}return this;},setAxisAngleFromRotationMatrix:function setAxisAngleFromRotationMatrix(m){// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\nvar angle,x,y,z,// variables for result\nepsilon=0.01,// margin to allow for rounding errors\nepsilon2=0.1,// margin to distinguish between 0 and 180 degrees\nte=m.elements,m11=te[0],m12=te[4],m13=te[8],m21=te[1],m22=te[5],m23=te[9],m31=te[2],m32=te[6],m33=te[10];if(Math.abs(m12-m21)<epsilon&&Math.abs(m13-m31)<epsilon&&Math.abs(m23-m32)<epsilon){// singularity found\n// first check for identity matrix which must have +1 for all terms\n// in leading diagonal and zero in other terms\nif(Math.abs(m12+m21)<epsilon2&&Math.abs(m13+m31)<epsilon2&&Math.abs(m23+m32)<epsilon2&&Math.abs(m11+m22+m33-3)<epsilon2){// this singularity is identity matrix so angle = 0\nthis.set(1,0,0,0);return this;// zero angle, arbitrary axis\n}// otherwise this singularity is angle = 180\nangle=Math.PI;var xx=(m11+1)/2;var yy=(m22+1)/2;var zz=(m33+1)/2;var xy=(m12+m21)/4;var xz=(m13+m31)/4;var yz=(m23+m32)/4;if(xx>yy&&xx>zz){// m11 is the largest diagonal term\nif(xx<epsilon){x=0;y=0.707106781;z=0.707106781;}else{x=Math.sqrt(xx);y=xy/x;z=xz/x;}}else if(yy>zz){// m22 is the largest diagonal term\nif(yy<epsilon){x=0.707106781;y=0;z=0.707106781;}else{y=Math.sqrt(yy);x=xy/y;z=yz/y;}}else{// m33 is the largest diagonal term so base result on this\nif(zz<epsilon){x=0.707106781;y=0.707106781;z=0;}else{z=Math.sqrt(zz);x=xz/z;y=yz/z;}}this.set(x,y,z,angle);return this;// return 180 deg rotation\n}// as we have reached here there are no singularities so we can handle normally\nvar s=Math.sqrt((m32-m23)*(m32-m23)+(m13-m31)*(m13-m31)+(m21-m12)*(m21-m12));// used to normalize\nif(Math.abs(s)<0.001)s=1;// prevent divide by zero, should not happen if matrix is orthogonal and should be\n// caught by singularity test above, but I've left it in just in case\nthis.x=(m32-m23)/s;this.y=(m13-m31)/s;this.z=(m21-m12)/s;this.w=Math.acos((m11+m22+m33-1)/2);return this;},min:function min(v){this.x=Math.min(this.x,v.x);this.y=Math.min(this.y,v.y);this.z=Math.min(this.z,v.z);this.w=Math.min(this.w,v.w);return this;},max:function max(v){this.x=Math.max(this.x,v.x);this.y=Math.max(this.y,v.y);this.z=Math.max(this.z,v.z);this.w=Math.max(this.w,v.w);return this;},clamp:function clamp(min,max){// assumes min < max, componentwise\nthis.x=Math.max(min.x,Math.min(max.x,this.x));this.y=Math.max(min.y,Math.min(max.y,this.y));this.z=Math.max(min.z,Math.min(max.z,this.z));this.w=Math.max(min.w,Math.min(max.w,this.w));return this;},clampScalar:function(){var min,max;return function clampScalar(minVal,maxVal){if(min===undefined){min=new Vector4();max=new Vector4();}min.set(minVal,minVal,minVal,minVal);max.set(maxVal,maxVal,maxVal,maxVal);return this.clamp(min,max);};}(),clampLength:function clampLength(min,max){var length=this.length();return this.divideScalar(length||1).multiplyScalar(Math.max(min,Math.min(max,length)));},floor:function floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this;},ceil:function ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this;},round:function round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this;},roundToZero:function roundToZero(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z);this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w);return this;},negate:function negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this;},dot:function dot(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w;},lengthSq:function lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w;},length:function length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);},lengthManhattan:function lengthManhattan(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w);},normalize:function normalize(){return this.divideScalar(this.length()||1);},setLength:function setLength(length){return this.normalize().multiplyScalar(length);},lerp:function lerp(v,alpha){this.x+=(v.x-this.x)*alpha;this.y+=(v.y-this.y)*alpha;this.z+=(v.z-this.z)*alpha;this.w+=(v.w-this.w)*alpha;return this;},lerpVectors:function lerpVectors(v1,v2,alpha){return this.subVectors(v2,v1).multiplyScalar(alpha).add(v1);},equals:function equals(v){return v.x===this.x&&v.y===this.y&&v.z===this.z&&v.w===this.w;},fromArray:function fromArray(array,offset){if(offset===undefined)offset=0;this.x=array[offset];this.y=array[offset+1];this.z=array[offset+2];this.w=array[offset+3];return this;},toArray:function toArray(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;array[offset]=this.x;array[offset+1]=this.y;array[offset+2]=this.z;array[offset+3]=this.w;return array;},fromBufferAttribute:function fromBufferAttribute(attribute,index,offset){if(offset!==undefined){console.warn('THREE.Vector4: offset has been removed from .fromBufferAttribute().');}this.x=attribute.getX(index);this.y=attribute.getY(index);this.z=attribute.getZ(index);this.w=attribute.getW(index);return this;}});/**\n * @author szimek / https://github.com/szimek/\n * @author alteredq / http://alteredqualia.com/\n * @author Marius Kintel / https://github.com/kintel\n *//*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n */function WebGLRenderTarget(width,height,options){this.uuid=_Math.generateUUID();this.width=width;this.height=height;this.scissor=new Vector4(0,0,width,height);this.scissorTest=false;this.viewport=new Vector4(0,0,width,height);options=options||{};if(options.minFilter===undefined)options.minFilter=LinearFilter;this.texture=new Texture(undefined,undefined,options.wrapS,options.wrapT,options.magFilter,options.minFilter,options.format,options.type,options.anisotropy,options.encoding);this.depthBuffer=options.depthBuffer!==undefined?options.depthBuffer:true;this.stencilBuffer=options.stencilBuffer!==undefined?options.stencilBuffer:true;this.depthTexture=options.depthTexture!==undefined?options.depthTexture:null;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(WebGLRenderTarget.prototype,EventDispatcher.prototype,{isWebGLRenderTarget:true,setSize:function setSize(width,height){if(this.width!==width||this.height!==height){this.width=width;this.height=height;this.dispose();}this.viewport.set(0,0,width,height);this.scissor.set(0,0,width,height);},clone:function clone(){return new this.constructor().copy(this);},copy:function copy(source){this.width=source.width;this.height=source.height;this.viewport.copy(source.viewport);this.texture=source.texture.clone();this.depthBuffer=source.depthBuffer;this.stencilBuffer=source.stencilBuffer;this.depthTexture=source.depthTexture;return this;},dispose:function dispose(){this.dispatchEvent({type:'dispose'});}});/**\n * @author alteredq / http://alteredqualia.com\n */function WebGLRenderTargetCube(width,height,options){WebGLRenderTarget.call(this,width,height,options);this.activeCubeFace=0;// PX 0, NX 1, PY 2, NY 3, PZ 4, NZ 5\nthis.activeMipMapLevel=0;}WebGLRenderTargetCube.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(WebGLRenderTarget.prototype);WebGLRenderTargetCube.prototype.constructor=WebGLRenderTargetCube;WebGLRenderTargetCube.prototype.isWebGLRenderTargetCube=true;/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */function Quaternion(x,y,z,w){this._x=x||0;this._y=y||0;this._z=z||0;this._w=w!==undefined?w:1;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Quaternion,{slerp:function slerp(qa,qb,qm,t){return qm.copy(qa).slerp(qb,t);},slerpFlat:function slerpFlat(dst,dstOffset,src0,srcOffset0,src1,srcOffset1,t){// fuzz-free, array-based Quaternion SLERP operation\nvar x0=src0[srcOffset0+0],y0=src0[srcOffset0+1],z0=src0[srcOffset0+2],w0=src0[srcOffset0+3],x1=src1[srcOffset1+0],y1=src1[srcOffset1+1],z1=src1[srcOffset1+2],w1=src1[srcOffset1+3];if(w0!==w1||x0!==x1||y0!==y1||z0!==z1){var s=1-t,cos=x0*x1+y0*y1+z0*z1+w0*w1,dir=cos>=0?1:-1,sqrSin=1-cos*cos;// Skip the Slerp for tiny steps to avoid numeric problems:\nif(sqrSin>__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a){var sin=Math.sqrt(sqrSin),len=Math.atan2(sin,cos*dir);s=Math.sin(s*len)/sin;t=Math.sin(t*len)/sin;}var tDir=t*dir;x0=x0*s+x1*tDir;y0=y0*s+y1*tDir;z0=z0*s+z1*tDir;w0=w0*s+w1*tDir;// Normalize in case we just did a lerp:\nif(s===1-t){var f=1/Math.sqrt(x0*x0+y0*y0+z0*z0+w0*w0);x0*=f;y0*=f;z0*=f;w0*=f;}}dst[dstOffset]=x0;dst[dstOffset+1]=y0;dst[dstOffset+2]=z0;dst[dstOffset+3]=w0;}});__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(Quaternion.prototype,{x:{get:function get(){return this._x;},set:function set(value){this._x=value;this.onChangeCallback();}},y:{get:function get(){return this._y;},set:function set(value){this._y=value;this.onChangeCallback();}},z:{get:function get(){return this._z;},set:function set(value){this._z=value;this.onChangeCallback();}},w:{get:function get(){return this._w;},set:function set(value){this._w=value;this.onChangeCallback();}}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Quaternion.prototype,{set:function set(x,y,z,w){this._x=x;this._y=y;this._z=z;this._w=w;this.onChangeCallback();return this;},clone:function clone(){return new this.constructor(this._x,this._y,this._z,this._w);},copy:function copy(quaternion){this._x=quaternion.x;this._y=quaternion.y;this._z=quaternion.z;this._w=quaternion.w;this.onChangeCallback();return this;},setFromEuler:function setFromEuler(euler,update){if(!(euler&&euler.isEuler)){throw new Error('THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.');}var x=euler._x,y=euler._y,z=euler._z,order=euler.order;// http://www.mathworks.com/matlabcentral/fileexchange/\n// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n//\tcontent/SpinCalc.m\nvar cos=Math.cos;var sin=Math.sin;var c1=cos(x/2);var c2=cos(y/2);var c3=cos(z/2);var s1=sin(x/2);var s2=sin(y/2);var s3=sin(z/2);if(order==='XYZ'){this._x=s1*c2*c3+c1*s2*s3;this._y=c1*s2*c3-s1*c2*s3;this._z=c1*c2*s3+s1*s2*c3;this._w=c1*c2*c3-s1*s2*s3;}else if(order==='YXZ'){this._x=s1*c2*c3+c1*s2*s3;this._y=c1*s2*c3-s1*c2*s3;this._z=c1*c2*s3-s1*s2*c3;this._w=c1*c2*c3+s1*s2*s3;}else if(order==='ZXY'){this._x=s1*c2*c3-c1*s2*s3;this._y=c1*s2*c3+s1*c2*s3;this._z=c1*c2*s3+s1*s2*c3;this._w=c1*c2*c3-s1*s2*s3;}else if(order==='ZYX'){this._x=s1*c2*c3-c1*s2*s3;this._y=c1*s2*c3+s1*c2*s3;this._z=c1*c2*s3-s1*s2*c3;this._w=c1*c2*c3+s1*s2*s3;}else if(order==='YZX'){this._x=s1*c2*c3+c1*s2*s3;this._y=c1*s2*c3+s1*c2*s3;this._z=c1*c2*s3-s1*s2*c3;this._w=c1*c2*c3-s1*s2*s3;}else if(order==='XZY'){this._x=s1*c2*c3-c1*s2*s3;this._y=c1*s2*c3-s1*c2*s3;this._z=c1*c2*s3+s1*s2*c3;this._w=c1*c2*c3+s1*s2*s3;}if(update!==false)this.onChangeCallback();return this;},setFromAxisAngle:function setFromAxisAngle(axis,angle){// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n// assumes axis is normalized\nvar halfAngle=angle/2,s=Math.sin(halfAngle);this._x=axis.x*s;this._y=axis.y*s;this._z=axis.z*s;this._w=Math.cos(halfAngle);this.onChangeCallback();return this;},setFromRotationMatrix:function setFromRotationMatrix(m){// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\nvar te=m.elements,m11=te[0],m12=te[4],m13=te[8],m21=te[1],m22=te[5],m23=te[9],m31=te[2],m32=te[6],m33=te[10],trace=m11+m22+m33,s;if(trace>0){s=0.5/Math.sqrt(trace+1.0);this._w=0.25/s;this._x=(m32-m23)*s;this._y=(m13-m31)*s;this._z=(m21-m12)*s;}else if(m11>m22&&m11>m33){s=2.0*Math.sqrt(1.0+m11-m22-m33);this._w=(m32-m23)/s;this._x=0.25*s;this._y=(m12+m21)/s;this._z=(m13+m31)/s;}else if(m22>m33){s=2.0*Math.sqrt(1.0+m22-m11-m33);this._w=(m13-m31)/s;this._x=(m12+m21)/s;this._y=0.25*s;this._z=(m23+m32)/s;}else{s=2.0*Math.sqrt(1.0+m33-m11-m22);this._w=(m21-m12)/s;this._x=(m13+m31)/s;this._y=(m23+m32)/s;this._z=0.25*s;}this.onChangeCallback();return this;},setFromUnitVectors:function(){// assumes direction vectors vFrom and vTo are normalized\nvar v1=new Vector3();var r;var EPS=0.000001;return function setFromUnitVectors(vFrom,vTo){if(v1===undefined)v1=new Vector3();r=vFrom.dot(vTo)+1;if(r<EPS){r=0;if(Math.abs(vFrom.x)>Math.abs(vFrom.z)){v1.set(-vFrom.y,vFrom.x,0);}else{v1.set(0,-vFrom.z,vFrom.y);}}else{v1.crossVectors(vFrom,vTo);}this._x=v1.x;this._y=v1.y;this._z=v1.z;this._w=r;return this.normalize();};}(),inverse:function inverse(){return this.conjugate().normalize();},conjugate:function conjugate(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this;},dot:function dot(v){return this._x*v._x+this._y*v._y+this._z*v._z+this._w*v._w;},lengthSq:function lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w;},length:function length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w);},normalize:function normalize(){var l=this.length();if(l===0){this._x=0;this._y=0;this._z=0;this._w=1;}else{l=1/l;this._x=this._x*l;this._y=this._y*l;this._z=this._z*l;this._w=this._w*l;}this.onChangeCallback();return this;},multiply:function multiply(q,p){if(p!==undefined){console.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.');return this.multiplyQuaternions(q,p);}return this.multiplyQuaternions(this,q);},premultiply:function premultiply(q){return this.multiplyQuaternions(q,this);},multiplyQuaternions:function multiplyQuaternions(a,b){// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\nvar qax=a._x,qay=a._y,qaz=a._z,qaw=a._w;var qbx=b._x,qby=b._y,qbz=b._z,qbw=b._w;this._x=qax*qbw+qaw*qbx+qay*qbz-qaz*qby;this._y=qay*qbw+qaw*qby+qaz*qbx-qax*qbz;this._z=qaz*qbw+qaw*qbz+qax*qby-qay*qbx;this._w=qaw*qbw-qax*qbx-qay*qby-qaz*qbz;this.onChangeCallback();return this;},slerp:function slerp(qb,t){if(t===0)return this;if(t===1)return this.copy(qb);var x=this._x,y=this._y,z=this._z,w=this._w;// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\nvar cosHalfTheta=w*qb._w+x*qb._x+y*qb._y+z*qb._z;if(cosHalfTheta<0){this._w=-qb._w;this._x=-qb._x;this._y=-qb._y;this._z=-qb._z;cosHalfTheta=-cosHalfTheta;}else{this.copy(qb);}if(cosHalfTheta>=1.0){this._w=w;this._x=x;this._y=y;this._z=z;return this;}var sinHalfTheta=Math.sqrt(1.0-cosHalfTheta*cosHalfTheta);if(Math.abs(sinHalfTheta)<0.001){this._w=0.5*(w+this._w);this._x=0.5*(x+this._x);this._y=0.5*(y+this._y);this._z=0.5*(z+this._z);return this;}var halfTheta=Math.atan2(sinHalfTheta,cosHalfTheta);var ratioA=Math.sin((1-t)*halfTheta)/sinHalfTheta,ratioB=Math.sin(t*halfTheta)/sinHalfTheta;this._w=w*ratioA+this._w*ratioB;this._x=x*ratioA+this._x*ratioB;this._y=y*ratioA+this._y*ratioB;this._z=z*ratioA+this._z*ratioB;this.onChangeCallback();return this;},equals:function equals(quaternion){return quaternion._x===this._x&&quaternion._y===this._y&&quaternion._z===this._z&&quaternion._w===this._w;},fromArray:function fromArray(array,offset){if(offset===undefined)offset=0;this._x=array[offset];this._y=array[offset+1];this._z=array[offset+2];this._w=array[offset+3];this.onChangeCallback();return this;},toArray:function toArray(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;array[offset]=this._x;array[offset+1]=this._y;array[offset+2]=this._z;array[offset+3]=this._w;return array;},onChange:function onChange(callback){this.onChangeCallback=callback;return this;},onChangeCallback:function onChangeCallback(){}});/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */function Vector3(x,y,z){this.x=x||0;this.y=y||0;this.z=z||0;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Vector3.prototype,{isVector3:true,set:function set(x,y,z){this.x=x;this.y=y;this.z=z;return this;},setScalar:function setScalar(scalar){this.x=scalar;this.y=scalar;this.z=scalar;return this;},setX:function setX(x){this.x=x;return this;},setY:function setY(y){this.y=y;return this;},setZ:function setZ(z){this.z=z;return this;},setComponent:function setComponent(index,value){switch(index){case 0:this.x=value;break;case 1:this.y=value;break;case 2:this.z=value;break;default:throw new Error('index is out of range: '+index);}return this;},getComponent:function getComponent(index){switch(index){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error('index is out of range: '+index);}},clone:function clone(){return new this.constructor(this.x,this.y,this.z);},copy:function copy(v){this.x=v.x;this.y=v.y;this.z=v.z;return this;},add:function add(v,w){if(w!==undefined){console.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');return this.addVectors(v,w);}this.x+=v.x;this.y+=v.y;this.z+=v.z;return this;},addScalar:function addScalar(s){this.x+=s;this.y+=s;this.z+=s;return this;},addVectors:function addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this;},addScaledVector:function addScaledVector(v,s){this.x+=v.x*s;this.y+=v.y*s;this.z+=v.z*s;return this;},sub:function sub(v,w){if(w!==undefined){console.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');return this.subVectors(v,w);}this.x-=v.x;this.y-=v.y;this.z-=v.z;return this;},subScalar:function subScalar(s){this.x-=s;this.y-=s;this.z-=s;return this;},subVectors:function subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this;},multiply:function multiply(v,w){if(w!==undefined){console.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.');return this.multiplyVectors(v,w);}this.x*=v.x;this.y*=v.y;this.z*=v.z;return this;},multiplyScalar:function multiplyScalar(scalar){this.x*=scalar;this.y*=scalar;this.z*=scalar;return this;},multiplyVectors:function multiplyVectors(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this;},applyEuler:function(){var quaternion=new Quaternion();return function applyEuler(euler){if(!(euler&&euler.isEuler)){console.error('THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.');}return this.applyQuaternion(quaternion.setFromEuler(euler));};}(),applyAxisAngle:function(){var quaternion=new Quaternion();return function applyAxisAngle(axis,angle){return this.applyQuaternion(quaternion.setFromAxisAngle(axis,angle));};}(),applyMatrix3:function applyMatrix3(m){var x=this.x,y=this.y,z=this.z;var e=m.elements;this.x=e[0]*x+e[3]*y+e[6]*z;this.y=e[1]*x+e[4]*y+e[7]*z;this.z=e[2]*x+e[5]*y+e[8]*z;return this;},applyMatrix4:function applyMatrix4(m){var x=this.x,y=this.y,z=this.z;var e=m.elements;var w=1/(e[3]*x+e[7]*y+e[11]*z+e[15]);this.x=(e[0]*x+e[4]*y+e[8]*z+e[12])*w;this.y=(e[1]*x+e[5]*y+e[9]*z+e[13])*w;this.z=(e[2]*x+e[6]*y+e[10]*z+e[14])*w;return this;},applyQuaternion:function applyQuaternion(q){var x=this.x,y=this.y,z=this.z;var qx=q.x,qy=q.y,qz=q.z,qw=q.w;// calculate quat * vector\nvar ix=qw*x+qy*z-qz*y;var iy=qw*y+qz*x-qx*z;var iz=qw*z+qx*y-qy*x;var iw=-qx*x-qy*y-qz*z;// calculate result * inverse quat\nthis.x=ix*qw+iw*-qx+iy*-qz-iz*-qy;this.y=iy*qw+iw*-qy+iz*-qx-ix*-qz;this.z=iz*qw+iw*-qz+ix*-qy-iy*-qx;return this;},project:function(){var matrix=new Matrix4();return function project(camera){matrix.multiplyMatrices(camera.projectionMatrix,matrix.getInverse(camera.matrixWorld));return this.applyMatrix4(matrix);};}(),unproject:function(){var matrix=new Matrix4();return function unproject(camera){matrix.multiplyMatrices(camera.matrixWorld,matrix.getInverse(camera.projectionMatrix));return this.applyMatrix4(matrix);};}(),transformDirection:function transformDirection(m){// input: THREE.Matrix4 affine matrix\n// vector interpreted as a direction\nvar x=this.x,y=this.y,z=this.z;var e=m.elements;this.x=e[0]*x+e[4]*y+e[8]*z;this.y=e[1]*x+e[5]*y+e[9]*z;this.z=e[2]*x+e[6]*y+e[10]*z;return this.normalize();},divide:function divide(v){this.x/=v.x;this.y/=v.y;this.z/=v.z;return this;},divideScalar:function divideScalar(scalar){return this.multiplyScalar(1/scalar);},min:function min(v){this.x=Math.min(this.x,v.x);this.y=Math.min(this.y,v.y);this.z=Math.min(this.z,v.z);return this;},max:function max(v){this.x=Math.max(this.x,v.x);this.y=Math.max(this.y,v.y);this.z=Math.max(this.z,v.z);return this;},clamp:function clamp(min,max){// assumes min < max, componentwise\nthis.x=Math.max(min.x,Math.min(max.x,this.x));this.y=Math.max(min.y,Math.min(max.y,this.y));this.z=Math.max(min.z,Math.min(max.z,this.z));return this;},clampScalar:function(){var min=new Vector3();var max=new Vector3();return function clampScalar(minVal,maxVal){min.set(minVal,minVal,minVal);max.set(maxVal,maxVal,maxVal);return this.clamp(min,max);};}(),clampLength:function clampLength(min,max){var length=this.length();return this.divideScalar(length||1).multiplyScalar(Math.max(min,Math.min(max,length)));},floor:function floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this;},ceil:function ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this;},round:function round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this;},roundToZero:function roundToZero(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z);return this;},negate:function negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this;},dot:function dot(v){return this.x*v.x+this.y*v.y+this.z*v.z;},// TODO lengthSquared?\nlengthSq:function lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z;},length:function length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);},lengthManhattan:function lengthManhattan(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z);},normalize:function normalize(){return this.divideScalar(this.length()||1);},setLength:function setLength(length){return this.normalize().multiplyScalar(length);},lerp:function lerp(v,alpha){this.x+=(v.x-this.x)*alpha;this.y+=(v.y-this.y)*alpha;this.z+=(v.z-this.z)*alpha;return this;},lerpVectors:function lerpVectors(v1,v2,alpha){return this.subVectors(v2,v1).multiplyScalar(alpha).add(v1);},cross:function cross(v,w){if(w!==undefined){console.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.');return this.crossVectors(v,w);}var x=this.x,y=this.y,z=this.z;this.x=y*v.z-z*v.y;this.y=z*v.x-x*v.z;this.z=x*v.y-y*v.x;return this;},crossVectors:function crossVectors(a,b){var ax=a.x,ay=a.y,az=a.z;var bx=b.x,by=b.y,bz=b.z;this.x=ay*bz-az*by;this.y=az*bx-ax*bz;this.z=ax*by-ay*bx;return this;},projectOnVector:function projectOnVector(vector){var scalar=vector.dot(this)/vector.lengthSq();return this.copy(vector).multiplyScalar(scalar);},projectOnPlane:function(){var v1=new Vector3();return function projectOnPlane(planeNormal){v1.copy(this).projectOnVector(planeNormal);return this.sub(v1);};}(),reflect:function(){// reflect incident vector off plane orthogonal to normal\n// normal is assumed to have unit length\nvar v1=new Vector3();return function reflect(normal){return this.sub(v1.copy(normal).multiplyScalar(2*this.dot(normal)));};}(),angleTo:function angleTo(v){var theta=this.dot(v)/Math.sqrt(this.lengthSq()*v.lengthSq());// clamp, to handle numerical problems\nreturn Math.acos(_Math.clamp(theta,-1,1));},distanceTo:function distanceTo(v){return Math.sqrt(this.distanceToSquared(v));},distanceToSquared:function distanceToSquared(v){var dx=this.x-v.x,dy=this.y-v.y,dz=this.z-v.z;return dx*dx+dy*dy+dz*dz;},distanceToManhattan:function distanceToManhattan(v){return Math.abs(this.x-v.x)+Math.abs(this.y-v.y)+Math.abs(this.z-v.z);},setFromSpherical:function setFromSpherical(s){var sinPhiRadius=Math.sin(s.phi)*s.radius;this.x=sinPhiRadius*Math.sin(s.theta);this.y=Math.cos(s.phi)*s.radius;this.z=sinPhiRadius*Math.cos(s.theta);return this;},setFromCylindrical:function setFromCylindrical(c){this.x=c.radius*Math.sin(c.theta);this.y=c.y;this.z=c.radius*Math.cos(c.theta);return this;},setFromMatrixPosition:function setFromMatrixPosition(m){var e=m.elements;this.x=e[12];this.y=e[13];this.z=e[14];return this;},setFromMatrixScale:function setFromMatrixScale(m){var sx=this.setFromMatrixColumn(m,0).length();var sy=this.setFromMatrixColumn(m,1).length();var sz=this.setFromMatrixColumn(m,2).length();this.x=sx;this.y=sy;this.z=sz;return this;},setFromMatrixColumn:function setFromMatrixColumn(m,index){return this.fromArray(m.elements,index*4);},equals:function equals(v){return v.x===this.x&&v.y===this.y&&v.z===this.z;},fromArray:function fromArray(array,offset){if(offset===undefined)offset=0;this.x=array[offset];this.y=array[offset+1];this.z=array[offset+2];return this;},toArray:function toArray(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;array[offset]=this.x;array[offset+1]=this.y;array[offset+2]=this.z;return array;},fromBufferAttribute:function fromBufferAttribute(attribute,index,offset){if(offset!==undefined){console.warn('THREE.Vector3: offset has been removed from .fromBufferAttribute().');}this.x=attribute.getX(index);this.y=attribute.getY(index);this.z=attribute.getZ(index);return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */function Matrix4(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];if(arguments.length>0){console.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');}}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Matrix4.prototype,{isMatrix4:true,set:function set(n11,n12,n13,n14,n21,n22,n23,n24,n31,n32,n33,n34,n41,n42,n43,n44){var te=this.elements;te[0]=n11;te[4]=n12;te[8]=n13;te[12]=n14;te[1]=n21;te[5]=n22;te[9]=n23;te[13]=n24;te[2]=n31;te[6]=n32;te[10]=n33;te[14]=n34;te[3]=n41;te[7]=n42;te[11]=n43;te[15]=n44;return this;},identity:function identity(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this;},clone:function clone(){return new Matrix4().fromArray(this.elements);},copy:function copy(m){var te=this.elements;var me=m.elements;te[0]=me[0];te[1]=me[1];te[2]=me[2];te[3]=me[3];te[4]=me[4];te[5]=me[5];te[6]=me[6];te[7]=me[7];te[8]=me[8];te[9]=me[9];te[10]=me[10];te[11]=me[11];te[12]=me[12];te[13]=me[13];te[14]=me[14];te[15]=me[15];return this;},copyPosition:function copyPosition(m){var te=this.elements,me=m.elements;te[12]=me[12];te[13]=me[13];te[14]=me[14];return this;},extractBasis:function extractBasis(xAxis,yAxis,zAxis){xAxis.setFromMatrixColumn(this,0);yAxis.setFromMatrixColumn(this,1);zAxis.setFromMatrixColumn(this,2);return this;},makeBasis:function makeBasis(xAxis,yAxis,zAxis){this.set(xAxis.x,yAxis.x,zAxis.x,0,xAxis.y,yAxis.y,zAxis.y,0,xAxis.z,yAxis.z,zAxis.z,0,0,0,0,1);return this;},extractRotation:function(){var v1=new Vector3();return function extractRotation(m){var te=this.elements;var me=m.elements;var scaleX=1/v1.setFromMatrixColumn(m,0).length();var scaleY=1/v1.setFromMatrixColumn(m,1).length();var scaleZ=1/v1.setFromMatrixColumn(m,2).length();te[0]=me[0]*scaleX;te[1]=me[1]*scaleX;te[2]=me[2]*scaleX;te[4]=me[4]*scaleY;te[5]=me[5]*scaleY;te[6]=me[6]*scaleY;te[8]=me[8]*scaleZ;te[9]=me[9]*scaleZ;te[10]=me[10]*scaleZ;return this;};}(),makeRotationFromEuler:function makeRotationFromEuler(euler){if(!(euler&&euler.isEuler)){console.error('THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');}var te=this.elements;var x=euler.x,y=euler.y,z=euler.z;var a=Math.cos(x),b=Math.sin(x);var c=Math.cos(y),d=Math.sin(y);var e=Math.cos(z),f=Math.sin(z);if(euler.order==='XYZ'){var ae=a*e,af=a*f,be=b*e,bf=b*f;te[0]=c*e;te[4]=-c*f;te[8]=d;te[1]=af+be*d;te[5]=ae-bf*d;te[9]=-b*c;te[2]=bf-ae*d;te[6]=be+af*d;te[10]=a*c;}else if(euler.order==='YXZ'){var ce=c*e,cf=c*f,de=d*e,df=d*f;te[0]=ce+df*b;te[4]=de*b-cf;te[8]=a*d;te[1]=a*f;te[5]=a*e;te[9]=-b;te[2]=cf*b-de;te[6]=df+ce*b;te[10]=a*c;}else if(euler.order==='ZXY'){var ce=c*e,cf=c*f,de=d*e,df=d*f;te[0]=ce-df*b;te[4]=-a*f;te[8]=de+cf*b;te[1]=cf+de*b;te[5]=a*e;te[9]=df-ce*b;te[2]=-a*d;te[6]=b;te[10]=a*c;}else if(euler.order==='ZYX'){var ae=a*e,af=a*f,be=b*e,bf=b*f;te[0]=c*e;te[4]=be*d-af;te[8]=ae*d+bf;te[1]=c*f;te[5]=bf*d+ae;te[9]=af*d-be;te[2]=-d;te[6]=b*c;te[10]=a*c;}else if(euler.order==='YZX'){var ac=a*c,ad=a*d,bc=b*c,bd=b*d;te[0]=c*e;te[4]=bd-ac*f;te[8]=bc*f+ad;te[1]=f;te[5]=a*e;te[9]=-b*e;te[2]=-d*e;te[6]=ad*f+bc;te[10]=ac-bd*f;}else if(euler.order==='XZY'){var ac=a*c,ad=a*d,bc=b*c,bd=b*d;te[0]=c*e;te[4]=-f;te[8]=d*e;te[1]=ac*f+bd;te[5]=a*e;te[9]=ad*f-bc;te[2]=bc*f-ad;te[6]=b*e;te[10]=bd*f+ac;}// last column\nte[3]=0;te[7]=0;te[11]=0;// bottom row\nte[12]=0;te[13]=0;te[14]=0;te[15]=1;return this;},makeRotationFromQuaternion:function makeRotationFromQuaternion(q){var te=this.elements;var x=q._x,y=q._y,z=q._z,w=q._w;var x2=x+x,y2=y+y,z2=z+z;var xx=x*x2,xy=x*y2,xz=x*z2;var yy=y*y2,yz=y*z2,zz=z*z2;var wx=w*x2,wy=w*y2,wz=w*z2;te[0]=1-(yy+zz);te[4]=xy-wz;te[8]=xz+wy;te[1]=xy+wz;te[5]=1-(xx+zz);te[9]=yz-wx;te[2]=xz-wy;te[6]=yz+wx;te[10]=1-(xx+yy);// last column\nte[3]=0;te[7]=0;te[11]=0;// bottom row\nte[12]=0;te[13]=0;te[14]=0;te[15]=1;return this;},lookAt:function(){var x=new Vector3();var y=new Vector3();var z=new Vector3();return function lookAt(eye,target,up){var te=this.elements;z.subVectors(eye,target);if(z.lengthSq()===0){// eye and target are in the same position\nz.z=1;}z.normalize();x.crossVectors(up,z);if(x.lengthSq()===0){// up and z are parallel\nif(Math.abs(up.z)===1){z.x+=0.0001;}else{z.z+=0.0001;}z.normalize();x.crossVectors(up,z);}x.normalize();y.crossVectors(z,x);te[0]=x.x;te[4]=y.x;te[8]=z.x;te[1]=x.y;te[5]=y.y;te[9]=z.y;te[2]=x.z;te[6]=y.z;te[10]=z.z;return this;};}(),multiply:function multiply(m,n){if(n!==undefined){console.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.');return this.multiplyMatrices(m,n);}return this.multiplyMatrices(this,m);},premultiply:function premultiply(m){return this.multiplyMatrices(m,this);},multiplyMatrices:function multiplyMatrices(a,b){var ae=a.elements;var be=b.elements;var te=this.elements;var a11=ae[0],a12=ae[4],a13=ae[8],a14=ae[12];var a21=ae[1],a22=ae[5],a23=ae[9],a24=ae[13];var a31=ae[2],a32=ae[6],a33=ae[10],a34=ae[14];var a41=ae[3],a42=ae[7],a43=ae[11],a44=ae[15];var b11=be[0],b12=be[4],b13=be[8],b14=be[12];var b21=be[1],b22=be[5],b23=be[9],b24=be[13];var b31=be[2],b32=be[6],b33=be[10],b34=be[14];var b41=be[3],b42=be[7],b43=be[11],b44=be[15];te[0]=a11*b11+a12*b21+a13*b31+a14*b41;te[4]=a11*b12+a12*b22+a13*b32+a14*b42;te[8]=a11*b13+a12*b23+a13*b33+a14*b43;te[12]=a11*b14+a12*b24+a13*b34+a14*b44;te[1]=a21*b11+a22*b21+a23*b31+a24*b41;te[5]=a21*b12+a22*b22+a23*b32+a24*b42;te[9]=a21*b13+a22*b23+a23*b33+a24*b43;te[13]=a21*b14+a22*b24+a23*b34+a24*b44;te[2]=a31*b11+a32*b21+a33*b31+a34*b41;te[6]=a31*b12+a32*b22+a33*b32+a34*b42;te[10]=a31*b13+a32*b23+a33*b33+a34*b43;te[14]=a31*b14+a32*b24+a33*b34+a34*b44;te[3]=a41*b11+a42*b21+a43*b31+a44*b41;te[7]=a41*b12+a42*b22+a43*b32+a44*b42;te[11]=a41*b13+a42*b23+a43*b33+a44*b43;te[15]=a41*b14+a42*b24+a43*b34+a44*b44;return this;},multiplyScalar:function multiplyScalar(s){var te=this.elements;te[0]*=s;te[4]*=s;te[8]*=s;te[12]*=s;te[1]*=s;te[5]*=s;te[9]*=s;te[13]*=s;te[2]*=s;te[6]*=s;te[10]*=s;te[14]*=s;te[3]*=s;te[7]*=s;te[11]*=s;te[15]*=s;return this;},applyToBufferAttribute:function(){var v1=new Vector3();return function applyToBufferAttribute(attribute){for(var i=0,l=attribute.count;i<l;i++){v1.x=attribute.getX(i);v1.y=attribute.getY(i);v1.z=attribute.getZ(i);v1.applyMatrix4(this);attribute.setXYZ(i,v1.x,v1.y,v1.z);}return attribute;};}(),determinant:function determinant(){var te=this.elements;var n11=te[0],n12=te[4],n13=te[8],n14=te[12];var n21=te[1],n22=te[5],n23=te[9],n24=te[13];var n31=te[2],n32=te[6],n33=te[10],n34=te[14];var n41=te[3],n42=te[7],n43=te[11],n44=te[15];//TODO: make this more efficient\n//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\nreturn n41*(+n14*n23*n32-n13*n24*n32-n14*n22*n33+n12*n24*n33+n13*n22*n34-n12*n23*n34)+n42*(+n11*n23*n34-n11*n24*n33+n14*n21*n33-n13*n21*n34+n13*n24*n31-n14*n23*n31)+n43*(+n11*n24*n32-n11*n22*n34-n14*n21*n32+n12*n21*n34+n14*n22*n31-n12*n24*n31)+n44*(-n13*n22*n31-n11*n23*n32+n11*n22*n33+n13*n21*n32-n12*n21*n33+n12*n23*n31);},transpose:function transpose(){var te=this.elements;var tmp;tmp=te[1];te[1]=te[4];te[4]=tmp;tmp=te[2];te[2]=te[8];te[8]=tmp;tmp=te[6];te[6]=te[9];te[9]=tmp;tmp=te[3];te[3]=te[12];te[12]=tmp;tmp=te[7];te[7]=te[13];te[13]=tmp;tmp=te[11];te[11]=te[14];te[14]=tmp;return this;},setPosition:function setPosition(v){var te=this.elements;te[12]=v.x;te[13]=v.y;te[14]=v.z;return this;},getInverse:function getInverse(m,throwOnDegenerate){// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\nvar te=this.elements,me=m.elements,n11=me[0],n21=me[1],n31=me[2],n41=me[3],n12=me[4],n22=me[5],n32=me[6],n42=me[7],n13=me[8],n23=me[9],n33=me[10],n43=me[11],n14=me[12],n24=me[13],n34=me[14],n44=me[15],t11=n23*n34*n42-n24*n33*n42+n24*n32*n43-n22*n34*n43-n23*n32*n44+n22*n33*n44,t12=n14*n33*n42-n13*n34*n42-n14*n32*n43+n12*n34*n43+n13*n32*n44-n12*n33*n44,t13=n13*n24*n42-n14*n23*n42+n14*n22*n43-n12*n24*n43-n13*n22*n44+n12*n23*n44,t14=n14*n23*n32-n13*n24*n32-n14*n22*n33+n12*n24*n33+n13*n22*n34-n12*n23*n34;var det=n11*t11+n21*t12+n31*t13+n41*t14;if(det===0){var msg=\"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";if(throwOnDegenerate===true){throw new Error(msg);}else{console.warn(msg);}return this.identity();}var detInv=1/det;te[0]=t11*detInv;te[1]=(n24*n33*n41-n23*n34*n41-n24*n31*n43+n21*n34*n43+n23*n31*n44-n21*n33*n44)*detInv;te[2]=(n22*n34*n41-n24*n32*n41+n24*n31*n42-n21*n34*n42-n22*n31*n44+n21*n32*n44)*detInv;te[3]=(n23*n32*n41-n22*n33*n41-n23*n31*n42+n21*n33*n42+n22*n31*n43-n21*n32*n43)*detInv;te[4]=t12*detInv;te[5]=(n13*n34*n41-n14*n33*n41+n14*n31*n43-n11*n34*n43-n13*n31*n44+n11*n33*n44)*detInv;te[6]=(n14*n32*n41-n12*n34*n41-n14*n31*n42+n11*n34*n42+n12*n31*n44-n11*n32*n44)*detInv;te[7]=(n12*n33*n41-n13*n32*n41+n13*n31*n42-n11*n33*n42-n12*n31*n43+n11*n32*n43)*detInv;te[8]=t13*detInv;te[9]=(n14*n23*n41-n13*n24*n41-n14*n21*n43+n11*n24*n43+n13*n21*n44-n11*n23*n44)*detInv;te[10]=(n12*n24*n41-n14*n22*n41+n14*n21*n42-n11*n24*n42-n12*n21*n44+n11*n22*n44)*detInv;te[11]=(n13*n22*n41-n12*n23*n41-n13*n21*n42+n11*n23*n42+n12*n21*n43-n11*n22*n43)*detInv;te[12]=t14*detInv;te[13]=(n13*n24*n31-n14*n23*n31+n14*n21*n33-n11*n24*n33-n13*n21*n34+n11*n23*n34)*detInv;te[14]=(n14*n22*n31-n12*n24*n31-n14*n21*n32+n11*n24*n32+n12*n21*n34-n11*n22*n34)*detInv;te[15]=(n12*n23*n31-n13*n22*n31+n13*n21*n32-n11*n23*n32-n12*n21*n33+n11*n22*n33)*detInv;return this;},scale:function scale(v){var te=this.elements;var x=v.x,y=v.y,z=v.z;te[0]*=x;te[4]*=y;te[8]*=z;te[1]*=x;te[5]*=y;te[9]*=z;te[2]*=x;te[6]*=y;te[10]*=z;te[3]*=x;te[7]*=y;te[11]*=z;return this;},getMaxScaleOnAxis:function getMaxScaleOnAxis(){var te=this.elements;var scaleXSq=te[0]*te[0]+te[1]*te[1]+te[2]*te[2];var scaleYSq=te[4]*te[4]+te[5]*te[5]+te[6]*te[6];var scaleZSq=te[8]*te[8]+te[9]*te[9]+te[10]*te[10];return Math.sqrt(Math.max(scaleXSq,scaleYSq,scaleZSq));},makeTranslation:function makeTranslation(x,y,z){this.set(1,0,0,x,0,1,0,y,0,0,1,z,0,0,0,1);return this;},makeRotationX:function makeRotationX(theta){var c=Math.cos(theta),s=Math.sin(theta);this.set(1,0,0,0,0,c,-s,0,0,s,c,0,0,0,0,1);return this;},makeRotationY:function makeRotationY(theta){var c=Math.cos(theta),s=Math.sin(theta);this.set(c,0,s,0,0,1,0,0,-s,0,c,0,0,0,0,1);return this;},makeRotationZ:function makeRotationZ(theta){var c=Math.cos(theta),s=Math.sin(theta);this.set(c,-s,0,0,s,c,0,0,0,0,1,0,0,0,0,1);return this;},makeRotationAxis:function makeRotationAxis(axis,angle){// Based on http://www.gamedev.net/reference/articles/article1199.asp\nvar c=Math.cos(angle);var s=Math.sin(angle);var t=1-c;var x=axis.x,y=axis.y,z=axis.z;var tx=t*x,ty=t*y;this.set(tx*x+c,tx*y-s*z,tx*z+s*y,0,tx*y+s*z,ty*y+c,ty*z-s*x,0,tx*z-s*y,ty*z+s*x,t*z*z+c,0,0,0,0,1);return this;},makeScale:function makeScale(x,y,z){this.set(x,0,0,0,0,y,0,0,0,0,z,0,0,0,0,1);return this;},makeShear:function makeShear(x,y,z){this.set(1,y,z,0,x,1,z,0,x,y,1,0,0,0,0,1);return this;},compose:function compose(position,quaternion,scale){this.makeRotationFromQuaternion(quaternion);this.scale(scale);this.setPosition(position);return this;},decompose:function(){var vector=new Vector3();var matrix=new Matrix4();return function decompose(position,quaternion,scale){var te=this.elements;var sx=vector.set(te[0],te[1],te[2]).length();var sy=vector.set(te[4],te[5],te[6]).length();var sz=vector.set(te[8],te[9],te[10]).length();// if determine is negative, we need to invert one scale\nvar det=this.determinant();if(det<0)sx=-sx;position.x=te[12];position.y=te[13];position.z=te[14];// scale the rotation part\nmatrix.copy(this);var invSX=1/sx;var invSY=1/sy;var invSZ=1/sz;matrix.elements[0]*=invSX;matrix.elements[1]*=invSX;matrix.elements[2]*=invSX;matrix.elements[4]*=invSY;matrix.elements[5]*=invSY;matrix.elements[6]*=invSY;matrix.elements[8]*=invSZ;matrix.elements[9]*=invSZ;matrix.elements[10]*=invSZ;quaternion.setFromRotationMatrix(matrix);scale.x=sx;scale.y=sy;scale.z=sz;return this;};}(),makePerspective:function makePerspective(left,right,top,bottom,near,far){if(far===undefined){console.warn('THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.');}var te=this.elements;var x=2*near/(right-left);var y=2*near/(top-bottom);var a=(right+left)/(right-left);var b=(top+bottom)/(top-bottom);var c=-(far+near)/(far-near);var d=-2*far*near/(far-near);te[0]=x;te[4]=0;te[8]=a;te[12]=0;te[1]=0;te[5]=y;te[9]=b;te[13]=0;te[2]=0;te[6]=0;te[10]=c;te[14]=d;te[3]=0;te[7]=0;te[11]=-1;te[15]=0;return this;},makeOrthographic:function makeOrthographic(left,right,top,bottom,near,far){var te=this.elements;var w=1.0/(right-left);var h=1.0/(top-bottom);var p=1.0/(far-near);var x=(right+left)*w;var y=(top+bottom)*h;var z=(far+near)*p;te[0]=2*w;te[4]=0;te[8]=0;te[12]=-x;te[1]=0;te[5]=2*h;te[9]=0;te[13]=-y;te[2]=0;te[6]=0;te[10]=-2*p;te[14]=-z;te[3]=0;te[7]=0;te[11]=0;te[15]=1;return this;},equals:function equals(matrix){var te=this.elements;var me=matrix.elements;for(var i=0;i<16;i++){if(te[i]!==me[i])return false;}return true;},fromArray:function fromArray(array,offset){if(offset===undefined)offset=0;for(var i=0;i<16;i++){this.elements[i]=array[i+offset];}return this;},toArray:function toArray(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;var te=this.elements;array[offset]=te[0];array[offset+1]=te[1];array[offset+2]=te[2];array[offset+3]=te[3];array[offset+4]=te[4];array[offset+5]=te[5];array[offset+6]=te[6];array[offset+7]=te[7];array[offset+8]=te[8];array[offset+9]=te[9];array[offset+10]=te[10];array[offset+11]=te[11];array[offset+12]=te[12];array[offset+13]=te[13];array[offset+14]=te[14];array[offset+15]=te[15];return array;}});/**\n * @author alteredq / http://alteredqualia.com/\n */function DataTexture(data,width,height,format,type,mapping,wrapS,wrapT,magFilter,minFilter,anisotropy,encoding){Texture.call(this,null,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding);this.image={data:data,width:width,height:height};this.magFilter=magFilter!==undefined?magFilter:NearestFilter;this.minFilter=minFilter!==undefined?minFilter:NearestFilter;this.generateMipmaps=false;this.flipY=false;this.unpackAlignment=1;}DataTexture.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Texture.prototype);DataTexture.prototype.constructor=DataTexture;DataTexture.prototype.isDataTexture=true;/**\n * @author mrdoob / http://mrdoob.com/\n */function CubeTexture(images,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding){images=images!==undefined?images:[];mapping=mapping!==undefined?mapping:CubeReflectionMapping;Texture.call(this,images,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding);this.flipY=false;}CubeTexture.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Texture.prototype);CubeTexture.prototype.constructor=CubeTexture;CubeTexture.prototype.isCubeTexture=true;Object.defineProperty(CubeTexture.prototype,'images',{get:function get(){return this.image;},set:function set(value){this.image=value;}});/**\n * @author tschw\n *\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program, renderer )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [renderer] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'renderer' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (renderer factorizations):\n *\n * .upload( gl, seq, values, renderer )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (renderer factorizations):\n *\n * .setValue( gl, name, value )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .set( gl, obj, prop )\n *\n * \t\tsets uniform from object and property with same name than uniform\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */var emptyTexture=new Texture();var emptyCubeTexture=new CubeTexture();// --- Base for inner nodes (including the root) ---\nfunction UniformContainer(){this.seq=[];this.map={};}// --- Utilities ---\n// Array Caches (provide typed arrays for temporary by size)\nvar arrayCacheF32=[];var arrayCacheI32=[];// Float32Array caches used for uploading Matrix uniforms\nvar mat4array=new Float32Array(16);var mat3array=new Float32Array(9);// Flattening for arrays of vectors and matrices\nfunction flatten(array,nBlocks,blockSize){var firstElem=array[0];if(firstElem<=0||firstElem>0)return array;// unoptimized: ! isNaN( firstElem )\n// see http://jacksondunstan.com/articles/983\nvar n=nBlocks*blockSize,r=arrayCacheF32[n];if(r===undefined){r=new Float32Array(n);arrayCacheF32[n]=r;}if(nBlocks!==0){firstElem.toArray(r,0);for(var i=1,offset=0;i!==nBlocks;++i){offset+=blockSize;array[i].toArray(r,offset);}}return r;}// Texture unit allocation\nfunction allocTexUnits(renderer,n){var r=arrayCacheI32[n];if(r===undefined){r=new Int32Array(n);arrayCacheI32[n]=r;}for(var i=0;i!==n;++i){r[i]=renderer.allocTextureUnit();}return r;}// --- Setters ---\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n// Single scalar\nfunction setValue1f(gl,v){gl.uniform1f(this.addr,v);}function setValue1i(gl,v){gl.uniform1i(this.addr,v);}// Single float vector (from flat array or THREE.VectorN)\nfunction setValue2fv(gl,v){if(v.x===undefined)gl.uniform2fv(this.addr,v);else gl.uniform2f(this.addr,v.x,v.y);}function setValue3fv(gl,v){if(v.x!==undefined)gl.uniform3f(this.addr,v.x,v.y,v.z);else if(v.r!==undefined)gl.uniform3f(this.addr,v.r,v.g,v.b);else gl.uniform3fv(this.addr,v);}function setValue4fv(gl,v){if(v.x===undefined)gl.uniform4fv(this.addr,v);else gl.uniform4f(this.addr,v.x,v.y,v.z,v.w);}// Single matrix (from flat array or MatrixN)\nfunction setValue2fm(gl,v){gl.uniformMatrix2fv(this.addr,false,v.elements||v);}function setValue3fm(gl,v){if(v.elements===undefined){gl.uniformMatrix3fv(this.addr,false,v);}else{mat3array.set(v.elements);gl.uniformMatrix3fv(this.addr,false,mat3array);}}function setValue4fm(gl,v){if(v.elements===undefined){gl.uniformMatrix4fv(this.addr,false,v);}else{mat4array.set(v.elements);gl.uniformMatrix4fv(this.addr,false,mat4array);}}// Single texture (2D / Cube)\nfunction setValueT1(gl,v,renderer){var unit=renderer.allocTextureUnit();gl.uniform1i(this.addr,unit);renderer.setTexture2D(v||emptyTexture,unit);}function setValueT6(gl,v,renderer){var unit=renderer.allocTextureUnit();gl.uniform1i(this.addr,unit);renderer.setTextureCube(v||emptyCubeTexture,unit);}// Integer / Boolean vectors or arrays thereof (always flat arrays)\nfunction setValue2iv(gl,v){gl.uniform2iv(this.addr,v);}function setValue3iv(gl,v){gl.uniform3iv(this.addr,v);}function setValue4iv(gl,v){gl.uniform4iv(this.addr,v);}// Helper to pick the right setter for the singular case\nfunction getSingularSetter(type){switch(type){case 0x1406:return setValue1f;// FLOAT\ncase 0x8b50:return setValue2fv;// _VEC2\ncase 0x8b51:return setValue3fv;// _VEC3\ncase 0x8b52:return setValue4fv;// _VEC4\ncase 0x8b5a:return setValue2fm;// _MAT2\ncase 0x8b5b:return setValue3fm;// _MAT3\ncase 0x8b5c:return setValue4fm;// _MAT4\ncase 0x8b5e:case 0x8d66:return setValueT1;// SAMPLER_2D, SAMPLER_EXTERNAL_OES\ncase 0x8b60:return setValueT6;// SAMPLER_CUBE\ncase 0x1404:case 0x8b56:return setValue1i;// INT, BOOL\ncase 0x8b53:case 0x8b57:return setValue2iv;// _VEC2\ncase 0x8b54:case 0x8b58:return setValue3iv;// _VEC3\ncase 0x8b55:case 0x8b59:return setValue4iv;// _VEC4\n}}// Array of scalars\nfunction setValue1fv(gl,v){gl.uniform1fv(this.addr,v);}function setValue1iv(gl,v){gl.uniform1iv(this.addr,v);}// Array of vectors (flat or from THREE classes)\nfunction setValueV2a(gl,v){gl.uniform2fv(this.addr,flatten(v,this.size,2));}function setValueV3a(gl,v){gl.uniform3fv(this.addr,flatten(v,this.size,3));}function setValueV4a(gl,v){gl.uniform4fv(this.addr,flatten(v,this.size,4));}// Array of matrices (flat or from THREE clases)\nfunction setValueM2a(gl,v){gl.uniformMatrix2fv(this.addr,false,flatten(v,this.size,4));}function setValueM3a(gl,v){gl.uniformMatrix3fv(this.addr,false,flatten(v,this.size,9));}function setValueM4a(gl,v){gl.uniformMatrix4fv(this.addr,false,flatten(v,this.size,16));}// Array of textures (2D / Cube)\nfunction setValueT1a(gl,v,renderer){var n=v.length,units=allocTexUnits(renderer,n);gl.uniform1iv(this.addr,units);for(var i=0;i!==n;++i){renderer.setTexture2D(v[i]||emptyTexture,units[i]);}}function setValueT6a(gl,v,renderer){var n=v.length,units=allocTexUnits(renderer,n);gl.uniform1iv(this.addr,units);for(var i=0;i!==n;++i){renderer.setTextureCube(v[i]||emptyCubeTexture,units[i]);}}// Helper to pick the right setter for a pure (bottom-level) array\nfunction getPureArraySetter(type){switch(type){case 0x1406:return setValue1fv;// FLOAT\ncase 0x8b50:return setValueV2a;// _VEC2\ncase 0x8b51:return setValueV3a;// _VEC3\ncase 0x8b52:return setValueV4a;// _VEC4\ncase 0x8b5a:return setValueM2a;// _MAT2\ncase 0x8b5b:return setValueM3a;// _MAT3\ncase 0x8b5c:return setValueM4a;// _MAT4\ncase 0x8b5e:return setValueT1a;// SAMPLER_2D\ncase 0x8b60:return setValueT6a;// SAMPLER_CUBE\ncase 0x1404:case 0x8b56:return setValue1iv;// INT, BOOL\ncase 0x8b53:case 0x8b57:return setValue2iv;// _VEC2\ncase 0x8b54:case 0x8b58:return setValue3iv;// _VEC3\ncase 0x8b55:case 0x8b59:return setValue4iv;// _VEC4\n}}// --- Uniform Classes ---\nfunction SingleUniform(id,activeInfo,addr){this.id=id;this.addr=addr;this.setValue=getSingularSetter(activeInfo.type);// this.path = activeInfo.name; // DEBUG\n}function PureArrayUniform(id,activeInfo,addr){this.id=id;this.addr=addr;this.size=activeInfo.size;this.setValue=getPureArraySetter(activeInfo.type);// this.path = activeInfo.name; // DEBUG\n}function StructuredUniform(id){this.id=id;UniformContainer.call(this);// mix-in\n}StructuredUniform.prototype.setValue=function(gl,value){// Note: Don't need an extra 'renderer' parameter, since samplers\n// are not allowed in structured uniforms.\nvar seq=this.seq;for(var i=0,n=seq.length;i!==n;++i){var u=seq[i];u.setValue(gl,value[u.id]);}};// --- Top-level ---\n// Parser - builds up the property tree from the path strings\nvar RePathPart=/([\\w\\d_]+)(\\])?(\\[|\\.)?/g;// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\nfunction addUniform(container,uniformObject){container.seq.push(uniformObject);container.map[uniformObject.id]=uniformObject;}function parseUniform(activeInfo,addr,container){var path=activeInfo.name,pathLength=path.length;// reset RegExp object, because of the early exit of a previous run\nRePathPart.lastIndex=0;for(;;){var match=RePathPart.exec(path),matchEnd=RePathPart.lastIndex,id=match[1],idIsIndex=match[2]===']',subscript=match[3];if(idIsIndex)id=id|0;// convert to integer\nif(subscript===undefined||subscript==='['&&matchEnd+2===pathLength){// bare name or \"pure\" bottom-level array \"[0]\" suffix\naddUniform(container,subscript===undefined?new SingleUniform(id,activeInfo,addr):new PureArrayUniform(id,activeInfo,addr));break;}else{// step into inner node / create it in case it doesn't exist\nvar map=container.map,next=map[id];if(next===undefined){next=new StructuredUniform(id);addUniform(container,next);}container=next;}}}// Root Container\nfunction WebGLUniforms(gl,program,renderer){UniformContainer.call(this);this.renderer=renderer;var n=gl.getProgramParameter(program,gl.ACTIVE_UNIFORMS);for(var i=0;i<n;++i){var info=gl.getActiveUniform(program,i),path=info.name,addr=gl.getUniformLocation(program,path);parseUniform(info,addr,this);}}WebGLUniforms.prototype.setValue=function(gl,name,value){var u=this.map[name];if(u!==undefined)u.setValue(gl,value,this.renderer);};WebGLUniforms.prototype.setOptional=function(gl,object,name){var v=object[name];if(v!==undefined)this.setValue(gl,name,v);};// Static interface\nWebGLUniforms.upload=function(gl,seq,values,renderer){for(var i=0,n=seq.length;i!==n;++i){var u=seq[i],v=values[u.id];if(v.needsUpdate!==false){// note: always updating when .needsUpdate is undefined\nu.setValue(gl,v.value,renderer);}}};WebGLUniforms.seqWithValue=function(seq,values){var r=[];for(var i=0,n=seq.length;i!==n;++i){var u=seq[i];if(u.id in values)r.push(u);}return r;};/**\n * @author mrdoob / http://mrdoob.com/\n */var ColorKeywords={'aliceblue':0xF0F8FF,'antiquewhite':0xFAEBD7,'aqua':0x00FFFF,'aquamarine':0x7FFFD4,'azure':0xF0FFFF,'beige':0xF5F5DC,'bisque':0xFFE4C4,'black':0x000000,'blanchedalmond':0xFFEBCD,'blue':0x0000FF,'blueviolet':0x8A2BE2,'brown':0xA52A2A,'burlywood':0xDEB887,'cadetblue':0x5F9EA0,'chartreuse':0x7FFF00,'chocolate':0xD2691E,'coral':0xFF7F50,'cornflowerblue':0x6495ED,'cornsilk':0xFFF8DC,'crimson':0xDC143C,'cyan':0x00FFFF,'darkblue':0x00008B,'darkcyan':0x008B8B,'darkgoldenrod':0xB8860B,'darkgray':0xA9A9A9,'darkgreen':0x006400,'darkgrey':0xA9A9A9,'darkkhaki':0xBDB76B,'darkmagenta':0x8B008B,'darkolivegreen':0x556B2F,'darkorange':0xFF8C00,'darkorchid':0x9932CC,'darkred':0x8B0000,'darksalmon':0xE9967A,'darkseagreen':0x8FBC8F,'darkslateblue':0x483D8B,'darkslategray':0x2F4F4F,'darkslategrey':0x2F4F4F,'darkturquoise':0x00CED1,'darkviolet':0x9400D3,'deeppink':0xFF1493,'deepskyblue':0x00BFFF,'dimgray':0x696969,'dimgrey':0x696969,'dodgerblue':0x1E90FF,'firebrick':0xB22222,'floralwhite':0xFFFAF0,'forestgreen':0x228B22,'fuchsia':0xFF00FF,'gainsboro':0xDCDCDC,'ghostwhite':0xF8F8FF,'gold':0xFFD700,'goldenrod':0xDAA520,'gray':0x808080,'green':0x008000,'greenyellow':0xADFF2F,'grey':0x808080,'honeydew':0xF0FFF0,'hotpink':0xFF69B4,'indianred':0xCD5C5C,'indigo':0x4B0082,'ivory':0xFFFFF0,'khaki':0xF0E68C,'lavender':0xE6E6FA,'lavenderblush':0xFFF0F5,'lawngreen':0x7CFC00,'lemonchiffon':0xFFFACD,'lightblue':0xADD8E6,'lightcoral':0xF08080,'lightcyan':0xE0FFFF,'lightgoldenrodyellow':0xFAFAD2,'lightgray':0xD3D3D3,'lightgreen':0x90EE90,'lightgrey':0xD3D3D3,'lightpink':0xFFB6C1,'lightsalmon':0xFFA07A,'lightseagreen':0x20B2AA,'lightskyblue':0x87CEFA,'lightslategray':0x778899,'lightslategrey':0x778899,'lightsteelblue':0xB0C4DE,'lightyellow':0xFFFFE0,'lime':0x00FF00,'limegreen':0x32CD32,'linen':0xFAF0E6,'magenta':0xFF00FF,'maroon':0x800000,'mediumaquamarine':0x66CDAA,'mediumblue':0x0000CD,'mediumorchid':0xBA55D3,'mediumpurple':0x9370DB,'mediumseagreen':0x3CB371,'mediumslateblue':0x7B68EE,'mediumspringgreen':0x00FA9A,'mediumturquoise':0x48D1CC,'mediumvioletred':0xC71585,'midnightblue':0x191970,'mintcream':0xF5FFFA,'mistyrose':0xFFE4E1,'moccasin':0xFFE4B5,'navajowhite':0xFFDEAD,'navy':0x000080,'oldlace':0xFDF5E6,'olive':0x808000,'olivedrab':0x6B8E23,'orange':0xFFA500,'orangered':0xFF4500,'orchid':0xDA70D6,'palegoldenrod':0xEEE8AA,'palegreen':0x98FB98,'paleturquoise':0xAFEEEE,'palevioletred':0xDB7093,'papayawhip':0xFFEFD5,'peachpuff':0xFFDAB9,'peru':0xCD853F,'pink':0xFFC0CB,'plum':0xDDA0DD,'powderblue':0xB0E0E6,'purple':0x800080,'rebeccapurple':0x663399,'red':0xFF0000,'rosybrown':0xBC8F8F,'royalblue':0x4169E1,'saddlebrown':0x8B4513,'salmon':0xFA8072,'sandybrown':0xF4A460,'seagreen':0x2E8B57,'seashell':0xFFF5EE,'sienna':0xA0522D,'silver':0xC0C0C0,'skyblue':0x87CEEB,'slateblue':0x6A5ACD,'slategray':0x708090,'slategrey':0x708090,'snow':0xFFFAFA,'springgreen':0x00FF7F,'steelblue':0x4682B4,'tan':0xD2B48C,'teal':0x008080,'thistle':0xD8BFD8,'tomato':0xFF6347,'turquoise':0x40E0D0,'violet':0xEE82EE,'wheat':0xF5DEB3,'white':0xFFFFFF,'whitesmoke':0xF5F5F5,'yellow':0xFFFF00,'yellowgreen':0x9ACD32};function Color(r,g,b){if(g===undefined&&b===undefined){// r is THREE.Color, hex or string\nreturn this.set(r);}return this.setRGB(r,g,b);}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Color.prototype,{isColor:true,r:1,g:1,b:1,set:function set(value){if(value&&value.isColor){this.copy(value);}else if(typeof value==='number'){this.setHex(value);}else if(typeof value==='string'){this.setStyle(value);}return this;},setScalar:function setScalar(scalar){this.r=scalar;this.g=scalar;this.b=scalar;return this;},setHex:function setHex(hex){hex=Math.floor(hex);this.r=(hex>>16&255)/255;this.g=(hex>>8&255)/255;this.b=(hex&255)/255;return this;},setRGB:function setRGB(r,g,b){this.r=r;this.g=g;this.b=b;return this;},setHSL:function(){function hue2rgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*6*(2/3-t);return p;}return function setHSL(h,s,l){// h,s,l ranges are in 0.0 - 1.0\nh=_Math.euclideanModulo(h,1);s=_Math.clamp(s,0,1);l=_Math.clamp(l,0,1);if(s===0){this.r=this.g=this.b=l;}else{var p=l<=0.5?l*(1+s):l+s-l*s;var q=2*l-p;this.r=hue2rgb(q,p,h+1/3);this.g=hue2rgb(q,p,h);this.b=hue2rgb(q,p,h-1/3);}return this;};}(),setStyle:function setStyle(style){function handleAlpha(string){if(string===undefined)return;if(parseFloat(string)<1){console.warn('THREE.Color: Alpha component of '+style+' will be ignored.');}}var m;if(m=/^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec(style)){// rgb / hsl\nvar color;var name=m[1];var components=m[2];switch(name){case'rgb':case'rgba':if(color=/^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)){// rgb(255,0,0) rgba(255,0,0,0.5)\nthis.r=Math.min(255,parseInt(color[1],10))/255;this.g=Math.min(255,parseInt(color[2],10))/255;this.b=Math.min(255,parseInt(color[3],10))/255;handleAlpha(color[5]);return this;}if(color=/^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)){// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\nthis.r=Math.min(100,parseInt(color[1],10))/100;this.g=Math.min(100,parseInt(color[2],10))/100;this.b=Math.min(100,parseInt(color[3],10))/100;handleAlpha(color[5]);return this;}break;case'hsl':case'hsla':if(color=/^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)){// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\nvar h=parseFloat(color[1])/360;var s=parseInt(color[2],10)/100;var l=parseInt(color[3],10)/100;handleAlpha(color[5]);return this.setHSL(h,s,l);}break;}}else if(m=/^\\#([A-Fa-f0-9]+)$/.exec(style)){// hex color\nvar hex=m[1];var size=hex.length;if(size===3){// #ff0\nthis.r=parseInt(hex.charAt(0)+hex.charAt(0),16)/255;this.g=parseInt(hex.charAt(1)+hex.charAt(1),16)/255;this.b=parseInt(hex.charAt(2)+hex.charAt(2),16)/255;return this;}else if(size===6){// #ff0000\nthis.r=parseInt(hex.charAt(0)+hex.charAt(1),16)/255;this.g=parseInt(hex.charAt(2)+hex.charAt(3),16)/255;this.b=parseInt(hex.charAt(4)+hex.charAt(5),16)/255;return this;}}if(style&&style.length>0){// color keywords\nvar hex=ColorKeywords[style];if(hex!==undefined){// red\nthis.setHex(hex);}else{// unknown color\nconsole.warn('THREE.Color: Unknown color '+style);}}return this;},clone:function clone(){return new this.constructor(this.r,this.g,this.b);},copy:function copy(color){this.r=color.r;this.g=color.g;this.b=color.b;return this;},copyGammaToLinear:function copyGammaToLinear(color,gammaFactor){if(gammaFactor===undefined)gammaFactor=2.0;this.r=Math.pow(color.r,gammaFactor);this.g=Math.pow(color.g,gammaFactor);this.b=Math.pow(color.b,gammaFactor);return this;},copyLinearToGamma:function copyLinearToGamma(color,gammaFactor){if(gammaFactor===undefined)gammaFactor=2.0;var safeInverse=gammaFactor>0?1.0/gammaFactor:1.0;this.r=Math.pow(color.r,safeInverse);this.g=Math.pow(color.g,safeInverse);this.b=Math.pow(color.b,safeInverse);return this;},convertGammaToLinear:function convertGammaToLinear(){var r=this.r,g=this.g,b=this.b;this.r=r*r;this.g=g*g;this.b=b*b;return this;},convertLinearToGamma:function convertLinearToGamma(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this;},getHex:function getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0;},getHexString:function getHexString(){return('000000'+this.getHex().toString(16)).slice(-6);},getHSL:function getHSL(optionalTarget){// h,s,l ranges are in 0.0 - 1.0\nvar hsl=optionalTarget||{h:0,s:0,l:0};var r=this.r,g=this.g,b=this.b;var max=Math.max(r,g,b);var min=Math.min(r,g,b);var hue,saturation;var lightness=(min+max)/2.0;if(min===max){hue=0;saturation=0;}else{var delta=max-min;saturation=lightness<=0.5?delta/(max+min):delta/(2-max-min);switch(max){case r:hue=(g-b)/delta+(g<b?6:0);break;case g:hue=(b-r)/delta+2;break;case b:hue=(r-g)/delta+4;break;}hue/=6;}hsl.h=hue;hsl.s=saturation;hsl.l=lightness;return hsl;},getStyle:function getStyle(){return'rgb('+(this.r*255|0)+','+(this.g*255|0)+','+(this.b*255|0)+')';},offsetHSL:function offsetHSL(h,s,l){var hsl=this.getHSL();hsl.h+=h;hsl.s+=s;hsl.l+=l;this.setHSL(hsl.h,hsl.s,hsl.l);return this;},add:function add(color){this.r+=color.r;this.g+=color.g;this.b+=color.b;return this;},addColors:function addColors(color1,color2){this.r=color1.r+color2.r;this.g=color1.g+color2.g;this.b=color1.b+color2.b;return this;},addScalar:function addScalar(s){this.r+=s;this.g+=s;this.b+=s;return this;},sub:function sub(color){this.r=Math.max(0,this.r-color.r);this.g=Math.max(0,this.g-color.g);this.b=Math.max(0,this.b-color.b);return this;},multiply:function multiply(color){this.r*=color.r;this.g*=color.g;this.b*=color.b;return this;},multiplyScalar:function multiplyScalar(s){this.r*=s;this.g*=s;this.b*=s;return this;},lerp:function lerp(color,alpha){this.r+=(color.r-this.r)*alpha;this.g+=(color.g-this.g)*alpha;this.b+=(color.b-this.b)*alpha;return this;},equals:function equals(c){return c.r===this.r&&c.g===this.g&&c.b===this.b;},fromArray:function fromArray(array,offset){if(offset===undefined)offset=0;this.r=array[offset];this.g=array[offset+1];this.b=array[offset+2];return this;},toArray:function toArray(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;array[offset]=this.r;array[offset+1]=this.g;array[offset+2]=this.b;return array;},toJSON:function toJSON(){return this.getHex();}});/**\n * Uniforms library for shared webgl shaders\n */var UniformsLib={common:{diffuse:{value:new Color(0xeeeeee)},opacity:{value:1.0},map:{value:null},offsetRepeat:{value:new Vector4(0,0,1,1)},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1.0},refractionRatio:{value:0.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:0.00025},fogNear:{value:1},fogFar:{value:2000},fogColor:{value:new Color(0xffffff)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\nrectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Color(0xeeeeee)},opacity:{value:1.0},size:{value:1.0},scale:{value:1.0},map:{value:null},offsetRepeat:{value:new Vector4(0,0,1,1)}}};/**\n * Uniform Utilities\n */var UniformsUtils={merge:function merge(uniforms){var merged={};for(var u=0;u<uniforms.length;u++){var tmp=this.clone(uniforms[u]);for(var p in tmp){merged[p]=tmp[p];}}return merged;},clone:function clone(uniforms_src){var uniforms_dst={};for(var u in uniforms_src){uniforms_dst[u]={};for(var p in uniforms_src[u]){var parameter_src=uniforms_src[u][p];if(parameter_src&&(parameter_src.isColor||parameter_src.isMatrix3||parameter_src.isMatrix4||parameter_src.isVector2||parameter_src.isVector3||parameter_src.isVector4||parameter_src.isTexture)){uniforms_dst[u][p]=parameter_src.clone();}else if(Array.isArray(parameter_src)){uniforms_dst[u][p]=parameter_src.slice();}else{uniforms_dst[u][p]=parameter_src;}}}return uniforms_dst;}};var alphamap_fragment=\"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\\n\";var alphamap_pars_fragment=\"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\\n\";var alphatest_fragment=\"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\\n\";var aomap_fragment=\"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\\n\";var aomap_pars_fragment=\"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";var begin_vertex=\"\\nvec3 transformed = vec3( position );\\n\";var beginnormal_vertex=\"\\nvec3 objectNormal = vec3( normal );\\n\";var bsdfs=\"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\tif( decayExponent > 0.0 ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\treturn distanceFalloff * maxDistanceCutoffFactor;\\n#else\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n#endif\\n\\t}\\n\\treturn 1.0;\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat theta = acos( dot( N, V ) );\\n\\tvec2 uv = vec2(\\n\\t\\tsqrt( saturate( roughness ) ),\\n\\t\\tsaturate( theta / ( 0.5 * PI ) ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\\n\\tfloat b = 3.45068 + (4.18814 + y) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\\n\\treturn result;\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\\n\\treturn specularColor * AB.x + AB.y;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n\";var bumpmap_pars_fragment=\"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\\n\";var clipping_planes_fragment=\"#if NUM_CLIPPING_PLANES > 0\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\\n\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t\\t\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\\n\\t\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t\\n\\t#endif\\n#endif\\n\";var clipping_planes_pars_fragment=\"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\\n\";var clipping_planes_pars_vertex=\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n\";var clipping_planes_vertex=\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n\";var color_fragment=\"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";var color_pars_fragment=\"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\\n\";var color_pars_vertex=\"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";var color_vertex=\"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";var common=\"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transpose( const in mat3 v ) {\\n\\tmat3 tmp;\\n\\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\\n\\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\\n\\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\\n\\treturn tmp;\\n}\\n\";var cube_uv_reflection_fragment=\"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\\n\";var defaultnormal_vertex=\"vec3 transformedNormal = normalMatrix * objectNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n\";var displacementmap_pars_vertex=\"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\\n\";var displacementmap_vertex=\"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\\n\";var emissivemap_fragment=\"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\\n\";var emissivemap_pars_fragment=\"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\\n\";var encodings_fragment=\"  gl_FragColor = linearToOutputTexel( gl_FragColor );\\n\";var encodings_pars_fragment=\"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM            = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat D      = max( maxRange / maxRGB, 1.0 );\\n\\tD            = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\\n\\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract(Le);\\n\\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\\n\\treturn vec4( max(vRGB, 0.0), 1.0 );\\n}\\n\";var envmap_fragment=\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\\n\";var envmap_pars_fragment=\"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\n\\tuniform float reflectivity;\\n\\tuniform float envMapIntensity;\\n#endif\\n#ifdef USE_ENVMAP\\n\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\tuniform float flipEnvMap;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\\n\";var envmap_pars_vertex=\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\\n\";var envmap_vertex=\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\n\";var fog_vertex=\"\\n#ifdef USE_FOG\\nfogDepth = -mvPosition.z;\\n#endif\";var fog_pars_vertex=\"#ifdef USE_FOG\\n  varying float fogDepth;\\n#endif\\n\";var fog_fragment=\"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\\n\";var fog_pars_fragment=\"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\\n\";var gradientmap_pars_fragment=\"#ifdef TOON\\n\\tuniform sampler2D gradientMap;\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\";var lightmap_fragment=\"#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\\n\";var lightmap_pars_fragment=\"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";var lights_lambert_vertex=\"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\";var lights_pars=\"uniform vec3 ambientLightColor;\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t\\tfloat shadowCameraNear;\\n\\t\\tfloat shadowCameraFar;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltcMat;\\tuniform sampler2D ltcMag;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\\n\";var lights_phong_fragment=\"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\\n\";var lights_phong_pars_fragment=\"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifdef TOON\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#else\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#endif\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\\n\";var lights_physical_fragment=\"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef STANDARD\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.clearCoat = saturate( clearCoat );\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\n#endif\\n\";var lights_physical_pars_fragment=\"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoat;\\n\\t\\tfloat clearCoatRoughness;\\n\\t#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tfloat norm = texture2D( ltcMag, uv ).a;\\n\\t\\tvec4 t = texture2D( ltcMat, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3(   1,   0, t.y ),\\n\\t\\t\\tvec3(   0, t.z,   0 ),\\n\\t\\t\\tvec3( t.w,   0, t.x )\\n\\t\\t);\\n\\t\\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\n\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifndef STANDARD\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\tfloat dotNL = dotNV;\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\\n\";var lights_template=\"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\\n\\t#endif\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\\n\\t#ifndef STANDARD\\n\\t\\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\\n\\t#else\\n\\t\\tvec3 clearCoatRadiance = vec3( 0.0 );\\n\\t#endif\\n\\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\\n#endif\\n\";var logdepthbuf_fragment=\"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\\n\\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\\n#endif\";var logdepthbuf_pars_fragment=\"#ifdef USE_LOGDEPTHBUF\\n\\tuniform float logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n#endif\\n\";var logdepthbuf_pars_vertex=\"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n\\tuniform float logDepthBufFC;\\n#endif\";var logdepthbuf_vertex=\"#ifdef USE_LOGDEPTHBUF\\n\\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t#else\\n\\t\\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\\n\\t#endif\\n#endif\\n\";var map_fragment=\"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\\n\";var map_pars_fragment=\"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n\";var map_particle_fragment=\"#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n\";var map_particle_pars_fragment=\"#ifdef USE_MAP\\n\\tuniform vec4 offsetRepeat;\\n\\tuniform sampler2D map;\\n#endif\\n\";var metalnessmap_fragment=\"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\\n\";var metalnessmap_pars_fragment=\"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";var morphnormal_vertex=\"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\\n\";var morphtarget_pars_vertex=\"#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";var morphtarget_vertex=\"#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\\n\";var normal_fragment=\"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n#endif\\n#ifdef USE_NORMALMAP\\n\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\\n\";var normalmap_pars_fragment=\"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\\n\\t\\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = normalScale * mapN.xy;\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\\n\";var packing=\"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 1.0 - 2.0 * rgb.xyz;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\\n\";var premultiplied_alpha_fragment=\"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\\n\";var project_vertex=\"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\ngl_Position = projectionMatrix * mvPosition;\\n\";var dithering_fragment=\"#if defined( DITHERING )\\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\\n\";var dithering_pars_fragment=\"#if defined( DITHERING )\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\\n\";var roughnessmap_fragment=\"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\\n\";var roughnessmap_pars_fragment=\"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";var shadowmap_pars_fragment=\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\";var shadowmap_pars_vertex=\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n#endif\\n\";var shadowmap_vertex=\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\\n\";var shadowmask_pars_fragment=\"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\\n\";var skinbase_vertex=\"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";var skinning_pars_vertex=\"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\\n\";var skinning_vertex=\"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\\n\";var skinnormal_vertex=\"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n#endif\\n\";var specularmap_fragment=\"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";var specularmap_pars_fragment=\"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";var tonemapping_fragment=\"#if defined( TONE_MAPPING )\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\\n\";var tonemapping_pars_fragment=\"#define saturate(a) clamp( a, 0.0, 1.0 )\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\n\";var uv_pars_fragment=\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n#endif\";var uv_pars_vertex=\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n\\tuniform vec4 offsetRepeat;\\n#endif\\n\";var uv_vertex=\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\\n#endif\";var uv2_pars_fragment=\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";var uv2_pars_vertex=\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif\";var uv2_vertex=\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif\";var worldpos_vertex=\"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n#endif\\n\";var cube_frag=\"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldPosition;\\nvoid main() {\\n\\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\\n\\tgl_FragColor.a *= opacity;\\n}\\n\";var cube_vert=\"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n\";var depth_frag=\"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\\n\";var depth_vert=\"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\\n\";var distanceRGBA_frag=\"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\\n\";var distanceRGBA_vert=\"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\\n\";var equirect_frag=\"uniform sampler2D tEquirect;\\nvarying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldPosition );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n}\\n\";var equirect_vert=\"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n\";var linedashed_frag=\"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";var linedashed_vert=\"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";var meshbasic_frag=\"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";var meshbasic_vert=\"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";var meshlambert_frag=\"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\";var meshlambert_vert=\"#define LAMBERT\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";var meshphong_frag=\"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\";var meshphong_vert=\"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";var meshphysical_frag=\"#define PHYSICAL\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifndef STANDARD\\n\\tuniform float clearCoat;\\n\\tuniform float clearCoatRoughness;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <lights_pars>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\";var meshphysical_vert=\"#define PHYSICAL\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";var normal_frag=\"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\nvoid main() {\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\\n\";var normal_vert=\"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\\n\";var points_frag=\"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";var points_vert=\"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tgl_PointSize = size * ( scale / - mvPosition.z );\\n\\t#else\\n\\t\\tgl_PointSize = size;\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";var shadow_frag=\"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n}\\n\";var shadow_vert=\"#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n}\\n\";var ShaderChunk={alphamap_fragment:alphamap_fragment,alphamap_pars_fragment:alphamap_pars_fragment,alphatest_fragment:alphatest_fragment,aomap_fragment:aomap_fragment,aomap_pars_fragment:aomap_pars_fragment,begin_vertex:begin_vertex,beginnormal_vertex:beginnormal_vertex,bsdfs:bsdfs,bumpmap_pars_fragment:bumpmap_pars_fragment,clipping_planes_fragment:clipping_planes_fragment,clipping_planes_pars_fragment:clipping_planes_pars_fragment,clipping_planes_pars_vertex:clipping_planes_pars_vertex,clipping_planes_vertex:clipping_planes_vertex,color_fragment:color_fragment,color_pars_fragment:color_pars_fragment,color_pars_vertex:color_pars_vertex,color_vertex:color_vertex,common:common,cube_uv_reflection_fragment:cube_uv_reflection_fragment,defaultnormal_vertex:defaultnormal_vertex,displacementmap_pars_vertex:displacementmap_pars_vertex,displacementmap_vertex:displacementmap_vertex,emissivemap_fragment:emissivemap_fragment,emissivemap_pars_fragment:emissivemap_pars_fragment,encodings_fragment:encodings_fragment,encodings_pars_fragment:encodings_pars_fragment,envmap_fragment:envmap_fragment,envmap_pars_fragment:envmap_pars_fragment,envmap_pars_vertex:envmap_pars_vertex,envmap_vertex:envmap_vertex,fog_vertex:fog_vertex,fog_pars_vertex:fog_pars_vertex,fog_fragment:fog_fragment,fog_pars_fragment:fog_pars_fragment,gradientmap_pars_fragment:gradientmap_pars_fragment,lightmap_fragment:lightmap_fragment,lightmap_pars_fragment:lightmap_pars_fragment,lights_lambert_vertex:lights_lambert_vertex,lights_pars:lights_pars,lights_phong_fragment:lights_phong_fragment,lights_phong_pars_fragment:lights_phong_pars_fragment,lights_physical_fragment:lights_physical_fragment,lights_physical_pars_fragment:lights_physical_pars_fragment,lights_template:lights_template,logdepthbuf_fragment:logdepthbuf_fragment,logdepthbuf_pars_fragment:logdepthbuf_pars_fragment,logdepthbuf_pars_vertex:logdepthbuf_pars_vertex,logdepthbuf_vertex:logdepthbuf_vertex,map_fragment:map_fragment,map_pars_fragment:map_pars_fragment,map_particle_fragment:map_particle_fragment,map_particle_pars_fragment:map_particle_pars_fragment,metalnessmap_fragment:metalnessmap_fragment,metalnessmap_pars_fragment:metalnessmap_pars_fragment,morphnormal_vertex:morphnormal_vertex,morphtarget_pars_vertex:morphtarget_pars_vertex,morphtarget_vertex:morphtarget_vertex,normal_fragment:normal_fragment,normalmap_pars_fragment:normalmap_pars_fragment,packing:packing,premultiplied_alpha_fragment:premultiplied_alpha_fragment,project_vertex:project_vertex,dithering_fragment:dithering_fragment,dithering_pars_fragment:dithering_pars_fragment,roughnessmap_fragment:roughnessmap_fragment,roughnessmap_pars_fragment:roughnessmap_pars_fragment,shadowmap_pars_fragment:shadowmap_pars_fragment,shadowmap_pars_vertex:shadowmap_pars_vertex,shadowmap_vertex:shadowmap_vertex,shadowmask_pars_fragment:shadowmask_pars_fragment,skinbase_vertex:skinbase_vertex,skinning_pars_vertex:skinning_pars_vertex,skinning_vertex:skinning_vertex,skinnormal_vertex:skinnormal_vertex,specularmap_fragment:specularmap_fragment,specularmap_pars_fragment:specularmap_pars_fragment,tonemapping_fragment:tonemapping_fragment,tonemapping_pars_fragment:tonemapping_pars_fragment,uv_pars_fragment:uv_pars_fragment,uv_pars_vertex:uv_pars_vertex,uv_vertex:uv_vertex,uv2_pars_fragment:uv2_pars_fragment,uv2_pars_vertex:uv2_pars_vertex,uv2_vertex:uv2_vertex,worldpos_vertex:worldpos_vertex,cube_frag:cube_frag,cube_vert:cube_vert,depth_frag:depth_frag,depth_vert:depth_vert,distanceRGBA_frag:distanceRGBA_frag,distanceRGBA_vert:distanceRGBA_vert,equirect_frag:equirect_frag,equirect_vert:equirect_vert,linedashed_frag:linedashed_frag,linedashed_vert:linedashed_vert,meshbasic_frag:meshbasic_frag,meshbasic_vert:meshbasic_vert,meshlambert_frag:meshlambert_frag,meshlambert_vert:meshlambert_vert,meshphong_frag:meshphong_frag,meshphong_vert:meshphong_vert,meshphysical_frag:meshphysical_frag,meshphysical_vert:meshphysical_vert,normal_frag:normal_frag,normal_vert:normal_vert,points_frag:points_frag,points_vert:points_vert,shadow_frag:shadow_frag,shadow_vert:shadow_vert};/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */var ShaderLib={basic:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0x000000)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0x000000)},specular:{value:new Color(0x111111)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0x000000)},roughness:{value:0.5},metalness:{value:0.5},envMapIntensity:{value:1// temporary\n}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},points:{uniforms:UniformsUtils.merge([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1.0}}]),vertexShader:ShaderChunk.normal_vert,fragmentShader:ShaderChunk.normal_frag},/* -------------------------------------------------------------------------\n   //\tCube map shader\n   ------------------------------------------------------------------------- */cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1.0}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:UniformsUtils.merge([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3()},nearDistance:{value:1},farDistance:{value:1000}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:UniformsUtils.merge([UniformsLib.lights,{color:{value:new Color(0x00000)},opacity:{value:1.0}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:UniformsUtils.merge([ShaderLib.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};/**\n * @author bhouston / http://clara.io\n */function Box2(min,max){this.min=min!==undefined?min:new Vector2(+Infinity,+Infinity);this.max=max!==undefined?max:new Vector2(-Infinity,-Infinity);}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Box2.prototype,{set:function set(min,max){this.min.copy(min);this.max.copy(max);return this;},setFromPoints:function setFromPoints(points){this.makeEmpty();for(var i=0,il=points.length;i<il;i++){this.expandByPoint(points[i]);}return this;},setFromCenterAndSize:function(){var v1=new Vector2();return function setFromCenterAndSize(center,size){var halfSize=v1.copy(size).multiplyScalar(0.5);this.min.copy(center).sub(halfSize);this.max.copy(center).add(halfSize);return this;};}(),clone:function clone(){return new this.constructor().copy(this);},copy:function copy(box){this.min.copy(box.min);this.max.copy(box.max);return this;},makeEmpty:function makeEmpty(){this.min.x=this.min.y=+Infinity;this.max.x=this.max.y=-Infinity;return this;},isEmpty:function isEmpty(){// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\nreturn this.max.x<this.min.x||this.max.y<this.min.y;},getCenter:function getCenter(optionalTarget){var result=optionalTarget||new Vector2();return this.isEmpty()?result.set(0,0):result.addVectors(this.min,this.max).multiplyScalar(0.5);},getSize:function getSize(optionalTarget){var result=optionalTarget||new Vector2();return this.isEmpty()?result.set(0,0):result.subVectors(this.max,this.min);},expandByPoint:function expandByPoint(point){this.min.min(point);this.max.max(point);return this;},expandByVector:function expandByVector(vector){this.min.sub(vector);this.max.add(vector);return this;},expandByScalar:function expandByScalar(scalar){this.min.addScalar(-scalar);this.max.addScalar(scalar);return this;},containsPoint:function containsPoint(point){return point.x<this.min.x||point.x>this.max.x||point.y<this.min.y||point.y>this.max.y?false:true;},containsBox:function containsBox(box){return this.min.x<=box.min.x&&box.max.x<=this.max.x&&this.min.y<=box.min.y&&box.max.y<=this.max.y;},getParameter:function getParameter(point,optionalTarget){// This can potentially have a divide by zero if the box\n// has a size dimension of 0.\nvar result=optionalTarget||new Vector2();return result.set((point.x-this.min.x)/(this.max.x-this.min.x),(point.y-this.min.y)/(this.max.y-this.min.y));},intersectsBox:function intersectsBox(box){// using 4 splitting planes to rule out intersections\nreturn box.max.x<this.min.x||box.min.x>this.max.x||box.max.y<this.min.y||box.min.y>this.max.y?false:true;},clampPoint:function clampPoint(point,optionalTarget){var result=optionalTarget||new Vector2();return result.copy(point).clamp(this.min,this.max);},distanceToPoint:function(){var v1=new Vector2();return function distanceToPoint(point){var clampedPoint=v1.copy(point).clamp(this.min,this.max);return clampedPoint.sub(point).length();};}(),intersect:function intersect(box){this.min.max(box.min);this.max.min(box.max);return this;},union:function union(box){this.min.min(box.min);this.max.max(box.max);return this;},translate:function translate(offset){this.min.add(offset);this.max.add(offset);return this;},equals:function equals(box){return box.min.equals(this.min)&&box.max.equals(this.max);}});/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */function WebGLFlareRenderer(renderer,gl,state,textures,capabilities){var vertexBuffer,elementBuffer;var shader,program,attributes,uniforms;var tempTexture,occlusionTexture;function init(){var vertices=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]);var faces=new Uint16Array([0,1,2,0,2,3]);// buffers\nvertexBuffer=gl.createBuffer();elementBuffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,vertexBuffer);gl.bufferData(gl.ARRAY_BUFFER,vertices,gl.STATIC_DRAW);gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,elementBuffer);gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,faces,gl.STATIC_DRAW);// textures\ntempTexture=gl.createTexture();occlusionTexture=gl.createTexture();state.bindTexture(gl.TEXTURE_2D,tempTexture);gl.texImage2D(gl.TEXTURE_2D,0,gl.RGB,16,16,0,gl.RGB,gl.UNSIGNED_BYTE,null);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST);state.bindTexture(gl.TEXTURE_2D,occlusionTexture);gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,16,16,0,gl.RGBA,gl.UNSIGNED_BYTE,null);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST);shader={vertexShader:[\"uniform lowp int renderType;\",\"uniform vec3 screenPosition;\",\"uniform vec2 scale;\",\"uniform float rotation;\",\"uniform sampler2D occlusionMap;\",\"attribute vec2 position;\",\"attribute vec2 uv;\",\"varying vec2 vUV;\",\"varying float vVisibility;\",\"void main() {\",\"vUV = uv;\",\"vec2 pos = position;\",\"if ( renderType == 2 ) {\",\"vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\",\"vVisibility =        visibility.r / 9.0;\",\"vVisibility *= 1.0 - visibility.g / 9.0;\",\"vVisibility *=       visibility.b / 9.0;\",\"vVisibility *= 1.0 - visibility.a / 9.0;\",\"pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\",\"pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\",\"}\",\"gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\",\"}\"].join(\"\\n\"),fragmentShader:[\"uniform lowp int renderType;\",\"uniform sampler2D map;\",\"uniform float opacity;\",\"uniform vec3 color;\",\"varying vec2 vUV;\",\"varying float vVisibility;\",\"void main() {\",// pink square\n\"if ( renderType == 0 ) {\",\"gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\",// restore\n\"} else if ( renderType == 1 ) {\",\"gl_FragColor = texture2D( map, vUV );\",// flare\n\"} else {\",\"vec4 texture = texture2D( map, vUV );\",\"texture.a *= opacity * vVisibility;\",\"gl_FragColor = texture;\",\"gl_FragColor.rgb *= color;\",\"}\",\"}\"].join(\"\\n\")};program=createProgram(shader);attributes={vertex:gl.getAttribLocation(program,\"position\"),uv:gl.getAttribLocation(program,\"uv\")};uniforms={renderType:gl.getUniformLocation(program,\"renderType\"),map:gl.getUniformLocation(program,\"map\"),occlusionMap:gl.getUniformLocation(program,\"occlusionMap\"),opacity:gl.getUniformLocation(program,\"opacity\"),color:gl.getUniformLocation(program,\"color\"),scale:gl.getUniformLocation(program,\"scale\"),rotation:gl.getUniformLocation(program,\"rotation\"),screenPosition:gl.getUniformLocation(program,\"screenPosition\")};}/*\n   * Render lens flares\n   * Method: renders 16x16 0xff00ff-colored points scattered over the light source area,\n   *         reads these back and calculates occlusion.\n   */this.render=function(flares,scene,camera,viewport){if(flares.length===0)return;var tempPosition=new Vector3();var invAspect=viewport.w/viewport.z,halfViewportWidth=viewport.z*0.5,halfViewportHeight=viewport.w*0.5;var size=16/viewport.w,scale=new Vector2(size*invAspect,size);var screenPosition=new Vector3(1,1,0),screenPositionPixels=new Vector2(1,1);var validArea=new Box2();validArea.min.set(viewport.x,viewport.y);validArea.max.set(viewport.x+(viewport.z-16),viewport.y+(viewport.w-16));if(program===undefined){init();}state.useProgram(program);state.initAttributes();state.enableAttribute(attributes.vertex);state.enableAttribute(attributes.uv);state.disableUnusedAttributes();// loop through all lens flares to update their occlusion and positions\n// setup gl and common used attribs/uniforms\ngl.uniform1i(uniforms.occlusionMap,0);gl.uniform1i(uniforms.map,1);gl.bindBuffer(gl.ARRAY_BUFFER,vertexBuffer);gl.vertexAttribPointer(attributes.vertex,2,gl.FLOAT,false,2*8,0);gl.vertexAttribPointer(attributes.uv,2,gl.FLOAT,false,2*8,8);gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,elementBuffer);state.disable(gl.CULL_FACE);state.buffers.depth.setMask(false);for(var i=0,l=flares.length;i<l;i++){size=16/viewport.w;scale.set(size*invAspect,size);// calc object screen position\nvar flare=flares[i];tempPosition.set(flare.matrixWorld.elements[12],flare.matrixWorld.elements[13],flare.matrixWorld.elements[14]);tempPosition.applyMatrix4(camera.matrixWorldInverse);tempPosition.applyMatrix4(camera.projectionMatrix);// setup arrays for gl programs\nscreenPosition.copy(tempPosition);// horizontal and vertical coordinate of the lower left corner of the pixels to copy\nscreenPositionPixels.x=viewport.x+screenPosition.x*halfViewportWidth+halfViewportWidth-8;screenPositionPixels.y=viewport.y+screenPosition.y*halfViewportHeight+halfViewportHeight-8;// screen cull\nif(validArea.containsPoint(screenPositionPixels)===true){// save current RGB to temp texture\nstate.activeTexture(gl.TEXTURE0);state.bindTexture(gl.TEXTURE_2D,null);state.activeTexture(gl.TEXTURE1);state.bindTexture(gl.TEXTURE_2D,tempTexture);gl.copyTexImage2D(gl.TEXTURE_2D,0,gl.RGB,screenPositionPixels.x,screenPositionPixels.y,16,16,0);// render pink quad\ngl.uniform1i(uniforms.renderType,0);gl.uniform2f(uniforms.scale,scale.x,scale.y);gl.uniform3f(uniforms.screenPosition,screenPosition.x,screenPosition.y,screenPosition.z);state.disable(gl.BLEND);state.enable(gl.DEPTH_TEST);gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED_SHORT,0);// copy result to occlusionMap\nstate.activeTexture(gl.TEXTURE0);state.bindTexture(gl.TEXTURE_2D,occlusionTexture);gl.copyTexImage2D(gl.TEXTURE_2D,0,gl.RGBA,screenPositionPixels.x,screenPositionPixels.y,16,16,0);// restore graphics\ngl.uniform1i(uniforms.renderType,1);state.disable(gl.DEPTH_TEST);state.activeTexture(gl.TEXTURE1);state.bindTexture(gl.TEXTURE_2D,tempTexture);gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED_SHORT,0);// update object positions\nflare.positionScreen.copy(screenPosition);if(flare.customUpdateCallback){flare.customUpdateCallback(flare);}else{flare.updateLensFlares();}// render flares\ngl.uniform1i(uniforms.renderType,2);state.enable(gl.BLEND);for(var j=0,jl=flare.lensFlares.length;j<jl;j++){var sprite=flare.lensFlares[j];if(sprite.opacity>0.001&&sprite.scale>0.001){screenPosition.x=sprite.x;screenPosition.y=sprite.y;screenPosition.z=sprite.z;size=sprite.size*sprite.scale/viewport.w;scale.x=size*invAspect;scale.y=size;gl.uniform3f(uniforms.screenPosition,screenPosition.x,screenPosition.y,screenPosition.z);gl.uniform2f(uniforms.scale,scale.x,scale.y);gl.uniform1f(uniforms.rotation,sprite.rotation);gl.uniform1f(uniforms.opacity,sprite.opacity);gl.uniform3f(uniforms.color,sprite.color.r,sprite.color.g,sprite.color.b);state.setBlending(sprite.blending,sprite.blendEquation,sprite.blendSrc,sprite.blendDst);textures.setTexture2D(sprite.texture,1);gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED_SHORT,0);}}}}// restore gl\nstate.enable(gl.CULL_FACE);state.enable(gl.DEPTH_TEST);state.buffers.depth.setMask(true);state.reset();};function createProgram(shader){var program=gl.createProgram();var fragmentShader=gl.createShader(gl.FRAGMENT_SHADER);var vertexShader=gl.createShader(gl.VERTEX_SHADER);var prefix=\"precision \"+capabilities.precision+\" float;\\n\";gl.shaderSource(fragmentShader,prefix+shader.fragmentShader);gl.shaderSource(vertexShader,prefix+shader.vertexShader);gl.compileShader(fragmentShader);gl.compileShader(vertexShader);gl.attachShader(program,fragmentShader);gl.attachShader(program,vertexShader);gl.linkProgram(program);return program;}}/**\n * @author mrdoob / http://mrdoob.com/\n */function CanvasTexture(canvas,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy){Texture.call(this,canvas,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy);this.needsUpdate=true;}CanvasTexture.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Texture.prototype);CanvasTexture.prototype.constructor=CanvasTexture;/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */function WebGLSpriteRenderer(renderer,gl,state,textures,capabilities){var vertexBuffer,elementBuffer;var program,attributes,uniforms;var texture;// decompose matrixWorld\nvar spritePosition=new Vector3();var spriteRotation=new Quaternion();var spriteScale=new Vector3();function init(){var vertices=new Float32Array([-0.5,-0.5,0,0,0.5,-0.5,1,0,0.5,0.5,1,1,-0.5,0.5,0,1]);var faces=new Uint16Array([0,1,2,0,2,3]);vertexBuffer=gl.createBuffer();elementBuffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,vertexBuffer);gl.bufferData(gl.ARRAY_BUFFER,vertices,gl.STATIC_DRAW);gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,elementBuffer);gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,faces,gl.STATIC_DRAW);program=createProgram();attributes={position:gl.getAttribLocation(program,'position'),uv:gl.getAttribLocation(program,'uv')};uniforms={uvOffset:gl.getUniformLocation(program,'uvOffset'),uvScale:gl.getUniformLocation(program,'uvScale'),rotation:gl.getUniformLocation(program,'rotation'),scale:gl.getUniformLocation(program,'scale'),color:gl.getUniformLocation(program,'color'),map:gl.getUniformLocation(program,'map'),opacity:gl.getUniformLocation(program,'opacity'),modelViewMatrix:gl.getUniformLocation(program,'modelViewMatrix'),projectionMatrix:gl.getUniformLocation(program,'projectionMatrix'),fogType:gl.getUniformLocation(program,'fogType'),fogDensity:gl.getUniformLocation(program,'fogDensity'),fogNear:gl.getUniformLocation(program,'fogNear'),fogFar:gl.getUniformLocation(program,'fogFar'),fogColor:gl.getUniformLocation(program,'fogColor'),alphaTest:gl.getUniformLocation(program,'alphaTest')};var canvas=document.createElementNS('http://www.w3.org/1999/xhtml','canvas');canvas.width=8;canvas.height=8;var context=canvas.getContext('2d');context.fillStyle='white';context.fillRect(0,0,8,8);texture=new CanvasTexture(canvas);}this.render=function(sprites,scene,camera){if(sprites.length===0)return;// setup gl\nif(program===undefined){init();}state.useProgram(program);state.initAttributes();state.enableAttribute(attributes.position);state.enableAttribute(attributes.uv);state.disableUnusedAttributes();state.disable(gl.CULL_FACE);state.enable(gl.BLEND);gl.bindBuffer(gl.ARRAY_BUFFER,vertexBuffer);gl.vertexAttribPointer(attributes.position,2,gl.FLOAT,false,2*8,0);gl.vertexAttribPointer(attributes.uv,2,gl.FLOAT,false,2*8,8);gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,elementBuffer);gl.uniformMatrix4fv(uniforms.projectionMatrix,false,camera.projectionMatrix.elements);state.activeTexture(gl.TEXTURE0);gl.uniform1i(uniforms.map,0);var oldFogType=0;var sceneFogType=0;var fog=scene.fog;if(fog){gl.uniform3f(uniforms.fogColor,fog.color.r,fog.color.g,fog.color.b);if(fog.isFog){gl.uniform1f(uniforms.fogNear,fog.near);gl.uniform1f(uniforms.fogFar,fog.far);gl.uniform1i(uniforms.fogType,1);oldFogType=1;sceneFogType=1;}else if(fog.isFogExp2){gl.uniform1f(uniforms.fogDensity,fog.density);gl.uniform1i(uniforms.fogType,2);oldFogType=2;sceneFogType=2;}}else{gl.uniform1i(uniforms.fogType,0);oldFogType=0;sceneFogType=0;}// update positions and sort\nfor(var i=0,l=sprites.length;i<l;i++){var sprite=sprites[i];sprite.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse,sprite.matrixWorld);sprite.z=-sprite.modelViewMatrix.elements[14];}sprites.sort(painterSortStable);// render all sprites\nvar scale=[];for(var i=0,l=sprites.length;i<l;i++){var sprite=sprites[i];var material=sprite.material;if(material.visible===false)continue;sprite.onBeforeRender(renderer,scene,camera,undefined,material,undefined);gl.uniform1f(uniforms.alphaTest,material.alphaTest);gl.uniformMatrix4fv(uniforms.modelViewMatrix,false,sprite.modelViewMatrix.elements);sprite.matrixWorld.decompose(spritePosition,spriteRotation,spriteScale);scale[0]=spriteScale.x;scale[1]=spriteScale.y;var fogType=0;if(scene.fog&&material.fog){fogType=sceneFogType;}if(oldFogType!==fogType){gl.uniform1i(uniforms.fogType,fogType);oldFogType=fogType;}if(material.map!==null){gl.uniform2f(uniforms.uvOffset,material.map.offset.x,material.map.offset.y);gl.uniform2f(uniforms.uvScale,material.map.repeat.x,material.map.repeat.y);}else{gl.uniform2f(uniforms.uvOffset,0,0);gl.uniform2f(uniforms.uvScale,1,1);}gl.uniform1f(uniforms.opacity,material.opacity);gl.uniform3f(uniforms.color,material.color.r,material.color.g,material.color.b);gl.uniform1f(uniforms.rotation,material.rotation);gl.uniform2fv(uniforms.scale,scale);state.setBlending(material.blending,material.blendEquation,material.blendSrc,material.blendDst,material.blendEquationAlpha,material.blendSrcAlpha,material.blendDstAlpha,material.premultipliedAlpha);state.buffers.depth.setTest(material.depthTest);state.buffers.depth.setMask(material.depthWrite);textures.setTexture2D(material.map||texture,0);gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED_SHORT,0);sprite.onAfterRender(renderer,scene,camera,undefined,material,undefined);}// restore gl\nstate.enable(gl.CULL_FACE);state.reset();};function createProgram(){var program=gl.createProgram();var vertexShader=gl.createShader(gl.VERTEX_SHADER);var fragmentShader=gl.createShader(gl.FRAGMENT_SHADER);gl.shaderSource(vertexShader,['precision '+capabilities.precision+' float;','#define SHADER_NAME '+'SpriteMaterial','uniform mat4 modelViewMatrix;','uniform mat4 projectionMatrix;','uniform float rotation;','uniform vec2 scale;','uniform vec2 uvOffset;','uniform vec2 uvScale;','attribute vec2 position;','attribute vec2 uv;','varying vec2 vUV;','void main() {','vUV = uvOffset + uv * uvScale;','vec2 alignedPosition = position * scale;','vec2 rotatedPosition;','rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;','rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;','vec4 finalPosition;','finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );','finalPosition.xy += rotatedPosition;','finalPosition = projectionMatrix * finalPosition;','gl_Position = finalPosition;','}'].join('\\n'));gl.shaderSource(fragmentShader,['precision '+capabilities.precision+' float;','#define SHADER_NAME '+'SpriteMaterial','uniform vec3 color;','uniform sampler2D map;','uniform float opacity;','uniform int fogType;','uniform vec3 fogColor;','uniform float fogDensity;','uniform float fogNear;','uniform float fogFar;','uniform float alphaTest;','varying vec2 vUV;','void main() {','vec4 texture = texture2D( map, vUV );','if ( texture.a < alphaTest ) discard;','gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );','if ( fogType > 0 ) {','float depth = gl_FragCoord.z / gl_FragCoord.w;','float fogFactor = 0.0;','if ( fogType == 1 ) {','fogFactor = smoothstep( fogNear, fogFar, depth );','} else {','const float LOG2 = 1.442695;','fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );','fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );','}','gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );','}','}'].join('\\n'));gl.compileShader(vertexShader);gl.compileShader(fragmentShader);gl.attachShader(program,vertexShader);gl.attachShader(program,fragmentShader);gl.linkProgram(program);return program;}function painterSortStable(a,b){if(a.renderOrder!==b.renderOrder){return a.renderOrder-b.renderOrder;}else if(a.z!==b.z){return b.z-a.z;}else{return b.id-a.id;}}}/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */var materialId=0;function Material(){Object.defineProperty(this,'id',{value:materialId++});this.uuid=_Math.generateUUID();this.name='';this.type='Material';this.fog=true;this.lights=true;this.blending=NormalBlending;this.side=FrontSide;this.flatShading=false;this.vertexColors=NoColors;// THREE.NoColors, THREE.VertexColors, THREE.FaceColors\nthis.opacity=1;this.transparent=false;this.blendSrc=SrcAlphaFactor;this.blendDst=OneMinusSrcAlphaFactor;this.blendEquation=AddEquation;this.blendSrcAlpha=null;this.blendDstAlpha=null;this.blendEquationAlpha=null;this.depthFunc=LessEqualDepth;this.depthTest=true;this.depthWrite=true;this.clippingPlanes=null;this.clipIntersection=false;this.clipShadows=false;this.colorWrite=true;this.precision=null;// override the renderer's default precision for this material\nthis.polygonOffset=false;this.polygonOffsetFactor=0;this.polygonOffsetUnits=0;this.dithering=false;this.alphaTest=0;this.premultipliedAlpha=false;this.overdraw=0;// Overdrawn pixels (typically between 0 and 1) for fixing antialiasing gaps in CanvasRenderer\nthis.visible=true;this.userData={};this.needsUpdate=true;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Material.prototype,EventDispatcher.prototype,{isMaterial:true,onBeforeCompile:function onBeforeCompile(){},setValues:function setValues(values){if(values===undefined)return;for(var key in values){var newValue=values[key];if(newValue===undefined){console.warn(\"THREE.Material: '\"+key+\"' parameter is undefined.\");continue;}// for backward compatability if shading is set in the constructor\nif(key==='shading'){console.warn('THREE.'+this.type+': .shading has been removed. Use the boolean .flatShading instead.');this.flatShading=newValue===FlatShading?true:false;continue;}var currentValue=this[key];if(currentValue===undefined){console.warn(\"THREE.\"+this.type+\": '\"+key+\"' is not a property of this material.\");continue;}if(currentValue&&currentValue.isColor){currentValue.set(newValue);}else if(currentValue&&currentValue.isVector3&&newValue&&newValue.isVector3){currentValue.copy(newValue);}else if(key==='overdraw'){// ensure overdraw is backwards-compatible with legacy boolean type\nthis[key]=Number(newValue);}else{this[key]=newValue;}}},toJSON:function toJSON(meta){var isRoot=meta===undefined;if(isRoot){meta={textures:{},images:{}};}var data={metadata:{version:4.5,type:'Material',generator:'Material.toJSON'}};// standard Material serialization\ndata.uuid=this.uuid;data.type=this.type;if(this.name!=='')data.name=this.name;if(this.color&&this.color.isColor)data.color=this.color.getHex();if(this.roughness!==undefined)data.roughness=this.roughness;if(this.metalness!==undefined)data.metalness=this.metalness;if(this.emissive&&this.emissive.isColor)data.emissive=this.emissive.getHex();if(this.specular&&this.specular.isColor)data.specular=this.specular.getHex();if(this.shininess!==undefined)data.shininess=this.shininess;if(this.clearCoat!==undefined)data.clearCoat=this.clearCoat;if(this.clearCoatRoughness!==undefined)data.clearCoatRoughness=this.clearCoatRoughness;if(this.map&&this.map.isTexture)data.map=this.map.toJSON(meta).uuid;if(this.alphaMap&&this.alphaMap.isTexture)data.alphaMap=this.alphaMap.toJSON(meta).uuid;if(this.lightMap&&this.lightMap.isTexture)data.lightMap=this.lightMap.toJSON(meta).uuid;if(this.bumpMap&&this.bumpMap.isTexture){data.bumpMap=this.bumpMap.toJSON(meta).uuid;data.bumpScale=this.bumpScale;}if(this.normalMap&&this.normalMap.isTexture){data.normalMap=this.normalMap.toJSON(meta).uuid;data.normalScale=this.normalScale.toArray();}if(this.displacementMap&&this.displacementMap.isTexture){data.displacementMap=this.displacementMap.toJSON(meta).uuid;data.displacementScale=this.displacementScale;data.displacementBias=this.displacementBias;}if(this.roughnessMap&&this.roughnessMap.isTexture)data.roughnessMap=this.roughnessMap.toJSON(meta).uuid;if(this.metalnessMap&&this.metalnessMap.isTexture)data.metalnessMap=this.metalnessMap.toJSON(meta).uuid;if(this.emissiveMap&&this.emissiveMap.isTexture)data.emissiveMap=this.emissiveMap.toJSON(meta).uuid;if(this.specularMap&&this.specularMap.isTexture)data.specularMap=this.specularMap.toJSON(meta).uuid;if(this.envMap&&this.envMap.isTexture){data.envMap=this.envMap.toJSON(meta).uuid;data.reflectivity=this.reflectivity;// Scale behind envMap\n}if(this.gradientMap&&this.gradientMap.isTexture){data.gradientMap=this.gradientMap.toJSON(meta).uuid;}if(this.size!==undefined)data.size=this.size;if(this.sizeAttenuation!==undefined)data.sizeAttenuation=this.sizeAttenuation;if(this.blending!==NormalBlending)data.blending=this.blending;if(this.flatShading===true)data.flatShading=this.flatShading;if(this.side!==FrontSide)data.side=this.side;if(this.vertexColors!==NoColors)data.vertexColors=this.vertexColors;if(this.opacity<1)data.opacity=this.opacity;if(this.transparent===true)data.transparent=this.transparent;data.depthFunc=this.depthFunc;data.depthTest=this.depthTest;data.depthWrite=this.depthWrite;if(this.dithering===true)data.dithering=true;if(this.alphaTest>0)data.alphaTest=this.alphaTest;if(this.premultipliedAlpha===true)data.premultipliedAlpha=this.premultipliedAlpha;if(this.wireframe===true)data.wireframe=this.wireframe;if(this.wireframeLinewidth>1)data.wireframeLinewidth=this.wireframeLinewidth;if(this.wireframeLinecap!=='round')data.wireframeLinecap=this.wireframeLinecap;if(this.wireframeLinejoin!=='round')data.wireframeLinejoin=this.wireframeLinejoin;if(this.morphTargets===true)data.morphTargets=true;if(this.skinning===true)data.skinning=true;if(this.visible===false)data.visible=false;if(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default()(this.userData)!=='{}')data.userData=this.userData;// TODO: Copied from Object3D.toJSON\nfunction extractFromCache(cache){var values=[];for(var key in cache){var data=cache[key];delete data.metadata;values.push(data);}return values;}if(isRoot){var textures=extractFromCache(meta.textures);var images=extractFromCache(meta.images);if(textures.length>0)data.textures=textures;if(images.length>0)data.images=images;}return data;},clone:function clone(){return new this.constructor().copy(this);},copy:function copy(source){this.name=source.name;this.fog=source.fog;this.lights=source.lights;this.blending=source.blending;this.side=source.side;this.flatShading=source.flatShading;this.vertexColors=source.vertexColors;this.opacity=source.opacity;this.transparent=source.transparent;this.blendSrc=source.blendSrc;this.blendDst=source.blendDst;this.blendEquation=source.blendEquation;this.blendSrcAlpha=source.blendSrcAlpha;this.blendDstAlpha=source.blendDstAlpha;this.blendEquationAlpha=source.blendEquationAlpha;this.depthFunc=source.depthFunc;this.depthTest=source.depthTest;this.depthWrite=source.depthWrite;this.colorWrite=source.colorWrite;this.precision=source.precision;this.polygonOffset=source.polygonOffset;this.polygonOffsetFactor=source.polygonOffsetFactor;this.polygonOffsetUnits=source.polygonOffsetUnits;this.dithering=source.dithering;this.alphaTest=source.alphaTest;this.premultipliedAlpha=source.premultipliedAlpha;this.overdraw=source.overdraw;this.visible=source.visible;this.userData=JSON.parse(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default()(source.userData));this.clipShadows=source.clipShadows;this.clipIntersection=source.clipIntersection;var srcPlanes=source.clippingPlanes,dstPlanes=null;if(srcPlanes!==null){var n=srcPlanes.length;dstPlanes=new Array(n);for(var i=0;i!==n;++i){dstPlanes[i]=srcPlanes[i].clone();}}this.clippingPlanes=dstPlanes;return this;},dispose:function dispose(){this.dispatchEvent({type:'dispose'});}});/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */function ShaderMaterial(parameters){Material.call(this);this.type='ShaderMaterial';this.defines={};this.uniforms={};this.vertexShader='void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}';this.fragmentShader='void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}';this.linewidth=1;this.wireframe=false;this.wireframeLinewidth=1;this.fog=false;// set to use scene fog\nthis.lights=false;// set to use scene lights\nthis.clipping=false;// set to use user-defined clipping planes\nthis.skinning=false;// set to use skinning attribute streams\nthis.morphTargets=false;// set to use morph targets\nthis.morphNormals=false;// set to use morph normals\nthis.extensions={derivatives:false,// set to use derivatives\nfragDepth:false,// set to use fragment depth values\ndrawBuffers:false,// set to use draw buffers\nshaderTextureLOD:false// set to use shader texture LOD\n};// When rendered geometry doesn't include these attributes but the material does,\n// use these default values in WebGL. This avoids errors when buffer data is missing.\nthis.defaultAttributeValues={'color':[1,1,1],'uv':[0,0],'uv2':[0,0]};this.index0AttributeName=undefined;if(parameters!==undefined){if(parameters.attributes!==undefined){console.error('THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.');}this.setValues(parameters);}}ShaderMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Material.prototype);ShaderMaterial.prototype.constructor=ShaderMaterial;ShaderMaterial.prototype.isShaderMaterial=true;ShaderMaterial.prototype.copy=function(source){Material.prototype.copy.call(this,source);this.fragmentShader=source.fragmentShader;this.vertexShader=source.vertexShader;this.uniforms=UniformsUtils.clone(source.uniforms);this.defines=source.defines;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.lights=source.lights;this.clipping=source.clipping;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.morphNormals=source.morphNormals;this.extensions=source.extensions;return this;};ShaderMaterial.prototype.toJSON=function(meta){var data=Material.prototype.toJSON.call(this,meta);data.uniforms=this.uniforms;data.vertexShader=this.vertexShader;data.fragmentShader=this.fragmentShader;return data;};/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / https://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */function MeshDepthMaterial(parameters){Material.call(this);this.type='MeshDepthMaterial';this.depthPacking=BasicDepthPacking;this.skinning=false;this.morphTargets=false;this.map=null;this.alphaMap=null;this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=false;this.wireframeLinewidth=1;this.fog=false;this.lights=false;this.setValues(parameters);}MeshDepthMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Material.prototype);MeshDepthMaterial.prototype.constructor=MeshDepthMaterial;MeshDepthMaterial.prototype.isMeshDepthMaterial=true;MeshDepthMaterial.prototype.copy=function(source){Material.prototype.copy.call(this,source);this.depthPacking=source.depthPacking;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.map=source.map;this.alphaMap=source.alphaMap;this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;return this;};/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */function MeshDistanceMaterial(parameters){Material.call(this);this.type='MeshDistanceMaterial';this.referencePosition=new Vector3();this.nearDistance=1;this.farDistance=1000;this.skinning=false;this.morphTargets=false;this.map=null;this.alphaMap=null;this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.fog=false;this.lights=false;this.setValues(parameters);}MeshDistanceMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Material.prototype);MeshDistanceMaterial.prototype.constructor=MeshDistanceMaterial;MeshDistanceMaterial.prototype.isMeshDistanceMaterial=true;MeshDistanceMaterial.prototype.copy=function(source){Material.prototype.copy.call(this,source);this.referencePosition.copy(source.referencePosition);this.nearDistance=source.nearDistance;this.farDistance=source.farDistance;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.map=source.map;this.alphaMap=source.alphaMap;this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;return this;};/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */function Box3(min,max){this.min=min!==undefined?min:new Vector3(+Infinity,+Infinity,+Infinity);this.max=max!==undefined?max:new Vector3(-Infinity,-Infinity,-Infinity);}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Box3.prototype,{isBox3:true,set:function set(min,max){this.min.copy(min);this.max.copy(max);return this;},setFromArray:function setFromArray(array){var minX=+Infinity;var minY=+Infinity;var minZ=+Infinity;var maxX=-Infinity;var maxY=-Infinity;var maxZ=-Infinity;for(var i=0,l=array.length;i<l;i+=3){var x=array[i];var y=array[i+1];var z=array[i+2];if(x<minX)minX=x;if(y<minY)minY=y;if(z<minZ)minZ=z;if(x>maxX)maxX=x;if(y>maxY)maxY=y;if(z>maxZ)maxZ=z;}this.min.set(minX,minY,minZ);this.max.set(maxX,maxY,maxZ);return this;},setFromBufferAttribute:function setFromBufferAttribute(attribute){var minX=+Infinity;var minY=+Infinity;var minZ=+Infinity;var maxX=-Infinity;var maxY=-Infinity;var maxZ=-Infinity;for(var i=0,l=attribute.count;i<l;i++){var x=attribute.getX(i);var y=attribute.getY(i);var z=attribute.getZ(i);if(x<minX)minX=x;if(y<minY)minY=y;if(z<minZ)minZ=z;if(x>maxX)maxX=x;if(y>maxY)maxY=y;if(z>maxZ)maxZ=z;}this.min.set(minX,minY,minZ);this.max.set(maxX,maxY,maxZ);return this;},setFromPoints:function setFromPoints(points){this.makeEmpty();for(var i=0,il=points.length;i<il;i++){this.expandByPoint(points[i]);}return this;},setFromCenterAndSize:function(){var v1=new Vector3();return function setFromCenterAndSize(center,size){var halfSize=v1.copy(size).multiplyScalar(0.5);this.min.copy(center).sub(halfSize);this.max.copy(center).add(halfSize);return this;};}(),setFromObject:function setFromObject(object){this.makeEmpty();return this.expandByObject(object);},clone:function clone(){return new this.constructor().copy(this);},copy:function copy(box){this.min.copy(box.min);this.max.copy(box.max);return this;},makeEmpty:function makeEmpty(){this.min.x=this.min.y=this.min.z=+Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this;},isEmpty:function isEmpty(){// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\nreturn this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z;},getCenter:function getCenter(optionalTarget){var result=optionalTarget||new Vector3();return this.isEmpty()?result.set(0,0,0):result.addVectors(this.min,this.max).multiplyScalar(0.5);},getSize:function getSize(optionalTarget){var result=optionalTarget||new Vector3();return this.isEmpty()?result.set(0,0,0):result.subVectors(this.max,this.min);},expandByPoint:function expandByPoint(point){this.min.min(point);this.max.max(point);return this;},expandByVector:function expandByVector(vector){this.min.sub(vector);this.max.add(vector);return this;},expandByScalar:function expandByScalar(scalar){this.min.addScalar(-scalar);this.max.addScalar(scalar);return this;},expandByObject:function(){// Computes the world-axis-aligned bounding box of an object (including its children),\n// accounting for both the object's, and children's, world transforms\nvar v1=new Vector3();return function expandByObject(object){var scope=this;object.updateMatrixWorld(true);object.traverse(function(node){var i,l;var geometry=node.geometry;if(geometry!==undefined){if(geometry.isGeometry){var vertices=geometry.vertices;for(i=0,l=vertices.length;i<l;i++){v1.copy(vertices[i]);v1.applyMatrix4(node.matrixWorld);scope.expandByPoint(v1);}}else if(geometry.isBufferGeometry){var attribute=geometry.attributes.position;if(attribute!==undefined){for(i=0,l=attribute.count;i<l;i++){v1.fromBufferAttribute(attribute,i).applyMatrix4(node.matrixWorld);scope.expandByPoint(v1);}}}}});return this;};}(),containsPoint:function containsPoint(point){return point.x<this.min.x||point.x>this.max.x||point.y<this.min.y||point.y>this.max.y||point.z<this.min.z||point.z>this.max.z?false:true;},containsBox:function containsBox(box){return this.min.x<=box.min.x&&box.max.x<=this.max.x&&this.min.y<=box.min.y&&box.max.y<=this.max.y&&this.min.z<=box.min.z&&box.max.z<=this.max.z;},getParameter:function getParameter(point,optionalTarget){// This can potentially have a divide by zero if the box\n// has a size dimension of 0.\nvar result=optionalTarget||new Vector3();return result.set((point.x-this.min.x)/(this.max.x-this.min.x),(point.y-this.min.y)/(this.max.y-this.min.y),(point.z-this.min.z)/(this.max.z-this.min.z));},intersectsBox:function intersectsBox(box){// using 6 splitting planes to rule out intersections.\nreturn box.max.x<this.min.x||box.min.x>this.max.x||box.max.y<this.min.y||box.min.y>this.max.y||box.max.z<this.min.z||box.min.z>this.max.z?false:true;},intersectsSphere:function(){var closestPoint=new Vector3();return function intersectsSphere(sphere){// Find the point on the AABB closest to the sphere center.\nthis.clampPoint(sphere.center,closestPoint);// If that point is inside the sphere, the AABB and sphere intersect.\nreturn closestPoint.distanceToSquared(sphere.center)<=sphere.radius*sphere.radius;};}(),intersectsPlane:function intersectsPlane(plane){// We compute the minimum and maximum dot product values. If those values\n// are on the same side (back or front) of the plane, then there is no intersection.\nvar min,max;if(plane.normal.x>0){min=plane.normal.x*this.min.x;max=plane.normal.x*this.max.x;}else{min=plane.normal.x*this.max.x;max=plane.normal.x*this.min.x;}if(plane.normal.y>0){min+=plane.normal.y*this.min.y;max+=plane.normal.y*this.max.y;}else{min+=plane.normal.y*this.max.y;max+=plane.normal.y*this.min.y;}if(plane.normal.z>0){min+=plane.normal.z*this.min.z;max+=plane.normal.z*this.max.z;}else{min+=plane.normal.z*this.max.z;max+=plane.normal.z*this.min.z;}return min<=plane.constant&&max>=plane.constant;},clampPoint:function clampPoint(point,optionalTarget){var result=optionalTarget||new Vector3();return result.copy(point).clamp(this.min,this.max);},distanceToPoint:function(){var v1=new Vector3();return function distanceToPoint(point){var clampedPoint=v1.copy(point).clamp(this.min,this.max);return clampedPoint.sub(point).length();};}(),getBoundingSphere:function(){var v1=new Vector3();return function getBoundingSphere(optionalTarget){var result=optionalTarget||new Sphere();this.getCenter(result.center);result.radius=this.getSize(v1).length()*0.5;return result;};}(),intersect:function intersect(box){this.min.max(box.min);this.max.min(box.max);// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\nif(this.isEmpty())this.makeEmpty();return this;},union:function union(box){this.min.min(box.min);this.max.max(box.max);return this;},applyMatrix4:function(){var points=[new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3()];return function applyMatrix4(matrix){// transform of empty box is an empty box.\nif(this.isEmpty())return this;// NOTE: I am using a binary pattern to specify all 2^3 combinations below\npoints[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(matrix);// 000\npoints[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(matrix);// 001\npoints[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(matrix);// 010\npoints[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(matrix);// 011\npoints[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(matrix);// 100\npoints[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(matrix);// 101\npoints[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(matrix);// 110\npoints[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(matrix);// 111\nthis.setFromPoints(points);return this;};}(),translate:function translate(offset){this.min.add(offset);this.max.add(offset);return this;},equals:function equals(box){return box.min.equals(this.min)&&box.max.equals(this.max);}});/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */function Sphere(center,radius){this.center=center!==undefined?center:new Vector3();this.radius=radius!==undefined?radius:0;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Sphere.prototype,{set:function set(center,radius){this.center.copy(center);this.radius=radius;return this;},setFromPoints:function(){var box=new Box3();return function setFromPoints(points,optionalCenter){var center=this.center;if(optionalCenter!==undefined){center.copy(optionalCenter);}else{box.setFromPoints(points).getCenter(center);}var maxRadiusSq=0;for(var i=0,il=points.length;i<il;i++){maxRadiusSq=Math.max(maxRadiusSq,center.distanceToSquared(points[i]));}this.radius=Math.sqrt(maxRadiusSq);return this;};}(),clone:function clone(){return new this.constructor().copy(this);},copy:function copy(sphere){this.center.copy(sphere.center);this.radius=sphere.radius;return this;},empty:function empty(){return this.radius<=0;},containsPoint:function containsPoint(point){return point.distanceToSquared(this.center)<=this.radius*this.radius;},distanceToPoint:function distanceToPoint(point){return point.distanceTo(this.center)-this.radius;},intersectsSphere:function intersectsSphere(sphere){var radiusSum=this.radius+sphere.radius;return sphere.center.distanceToSquared(this.center)<=radiusSum*radiusSum;},intersectsBox:function intersectsBox(box){return box.intersectsSphere(this);},intersectsPlane:function intersectsPlane(plane){return Math.abs(plane.distanceToPoint(this.center))<=this.radius;},clampPoint:function clampPoint(point,optionalTarget){var deltaLengthSq=this.center.distanceToSquared(point);var result=optionalTarget||new Vector3();result.copy(point);if(deltaLengthSq>this.radius*this.radius){result.sub(this.center).normalize();result.multiplyScalar(this.radius).add(this.center);}return result;},getBoundingBox:function getBoundingBox(optionalTarget){var box=optionalTarget||new Box3();box.set(this.center,this.center);box.expandByScalar(this.radius);return box;},applyMatrix4:function applyMatrix4(matrix){this.center.applyMatrix4(matrix);this.radius=this.radius*matrix.getMaxScaleOnAxis();return this;},translate:function translate(offset){this.center.add(offset);return this;},equals:function equals(sphere){return sphere.center.equals(this.center)&&sphere.radius===this.radius;}});/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n * @author tschw\n */function Matrix3(){this.elements=[1,0,0,0,1,0,0,0,1];if(arguments.length>0){console.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.');}}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Matrix3.prototype,{isMatrix3:true,set:function set(n11,n12,n13,n21,n22,n23,n31,n32,n33){var te=this.elements;te[0]=n11;te[1]=n21;te[2]=n31;te[3]=n12;te[4]=n22;te[5]=n32;te[6]=n13;te[7]=n23;te[8]=n33;return this;},identity:function identity(){this.set(1,0,0,0,1,0,0,0,1);return this;},clone:function clone(){return new this.constructor().fromArray(this.elements);},copy:function copy(m){var te=this.elements;var me=m.elements;te[0]=me[0];te[1]=me[1];te[2]=me[2];te[3]=me[3];te[4]=me[4];te[5]=me[5];te[6]=me[6];te[7]=me[7];te[8]=me[8];return this;},setFromMatrix4:function setFromMatrix4(m){var me=m.elements;this.set(me[0],me[4],me[8],me[1],me[5],me[9],me[2],me[6],me[10]);return this;},applyToBufferAttribute:function(){var v1=new Vector3();return function applyToBufferAttribute(attribute){for(var i=0,l=attribute.count;i<l;i++){v1.x=attribute.getX(i);v1.y=attribute.getY(i);v1.z=attribute.getZ(i);v1.applyMatrix3(this);attribute.setXYZ(i,v1.x,v1.y,v1.z);}return attribute;};}(),multiply:function multiply(m){return this.multiplyMatrices(this,m);},premultiply:function premultiply(m){return this.multiplyMatrices(m,this);},multiplyMatrices:function multiplyMatrices(a,b){var ae=a.elements;var be=b.elements;var te=this.elements;var a11=ae[0],a12=ae[3],a13=ae[6];var a21=ae[1],a22=ae[4],a23=ae[7];var a31=ae[2],a32=ae[5],a33=ae[8];var b11=be[0],b12=be[3],b13=be[6];var b21=be[1],b22=be[4],b23=be[7];var b31=be[2],b32=be[5],b33=be[8];te[0]=a11*b11+a12*b21+a13*b31;te[3]=a11*b12+a12*b22+a13*b32;te[6]=a11*b13+a12*b23+a13*b33;te[1]=a21*b11+a22*b21+a23*b31;te[4]=a21*b12+a22*b22+a23*b32;te[7]=a21*b13+a22*b23+a23*b33;te[2]=a31*b11+a32*b21+a33*b31;te[5]=a31*b12+a32*b22+a33*b32;te[8]=a31*b13+a32*b23+a33*b33;return this;},multiplyScalar:function multiplyScalar(s){var te=this.elements;te[0]*=s;te[3]*=s;te[6]*=s;te[1]*=s;te[4]*=s;te[7]*=s;te[2]*=s;te[5]*=s;te[8]*=s;return this;},determinant:function determinant(){var te=this.elements;var a=te[0],b=te[1],c=te[2],d=te[3],e=te[4],f=te[5],g=te[6],h=te[7],i=te[8];return a*e*i-a*f*h-b*d*i+b*f*g+c*d*h-c*e*g;},getInverse:function getInverse(matrix,throwOnDegenerate){if(matrix&&matrix.isMatrix4){console.error(\"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\");}var me=matrix.elements,te=this.elements,n11=me[0],n21=me[1],n31=me[2],n12=me[3],n22=me[4],n32=me[5],n13=me[6],n23=me[7],n33=me[8],t11=n33*n22-n32*n23,t12=n32*n13-n33*n12,t13=n23*n12-n22*n13,det=n11*t11+n21*t12+n31*t13;if(det===0){var msg=\"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";if(throwOnDegenerate===true){throw new Error(msg);}else{console.warn(msg);}return this.identity();}var detInv=1/det;te[0]=t11*detInv;te[1]=(n31*n23-n33*n21)*detInv;te[2]=(n32*n21-n31*n22)*detInv;te[3]=t12*detInv;te[4]=(n33*n11-n31*n13)*detInv;te[5]=(n31*n12-n32*n11)*detInv;te[6]=t13*detInv;te[7]=(n21*n13-n23*n11)*detInv;te[8]=(n22*n11-n21*n12)*detInv;return this;},transpose:function transpose(){var tmp,m=this.elements;tmp=m[1];m[1]=m[3];m[3]=tmp;tmp=m[2];m[2]=m[6];m[6]=tmp;tmp=m[5];m[5]=m[7];m[7]=tmp;return this;},getNormalMatrix:function getNormalMatrix(matrix4){return this.setFromMatrix4(matrix4).getInverse(this).transpose();},transposeIntoArray:function transposeIntoArray(r){var m=this.elements;r[0]=m[0];r[1]=m[3];r[2]=m[6];r[3]=m[1];r[4]=m[4];r[5]=m[7];r[6]=m[2];r[7]=m[5];r[8]=m[8];return this;},equals:function equals(matrix){var te=this.elements;var me=matrix.elements;for(var i=0;i<9;i++){if(te[i]!==me[i])return false;}return true;},fromArray:function fromArray(array,offset){if(offset===undefined)offset=0;for(var i=0;i<9;i++){this.elements[i]=array[i+offset];}return this;},toArray:function toArray(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;var te=this.elements;array[offset]=te[0];array[offset+1]=te[1];array[offset+2]=te[2];array[offset+3]=te[3];array[offset+4]=te[4];array[offset+5]=te[5];array[offset+6]=te[6];array[offset+7]=te[7];array[offset+8]=te[8];return array;}});/**\n * @author bhouston / http://clara.io\n */function Plane(normal,constant){// normal is assumed to be normalized\nthis.normal=normal!==undefined?normal:new Vector3(1,0,0);this.constant=constant!==undefined?constant:0;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Plane.prototype,{set:function set(normal,constant){this.normal.copy(normal);this.constant=constant;return this;},setComponents:function setComponents(x,y,z,w){this.normal.set(x,y,z);this.constant=w;return this;},setFromNormalAndCoplanarPoint:function setFromNormalAndCoplanarPoint(normal,point){this.normal.copy(normal);this.constant=-point.dot(this.normal);return this;},setFromCoplanarPoints:function(){var v1=new Vector3();var v2=new Vector3();return function setFromCoplanarPoints(a,b,c){var normal=v1.subVectors(c,b).cross(v2.subVectors(a,b)).normalize();// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\nthis.setFromNormalAndCoplanarPoint(normal,a);return this;};}(),clone:function clone(){return new this.constructor().copy(this);},copy:function copy(plane){this.normal.copy(plane.normal);this.constant=plane.constant;return this;},normalize:function normalize(){// Note: will lead to a divide by zero if the plane is invalid.\nvar inverseNormalLength=1.0/this.normal.length();this.normal.multiplyScalar(inverseNormalLength);this.constant*=inverseNormalLength;return this;},negate:function negate(){this.constant*=-1;this.normal.negate();return this;},distanceToPoint:function distanceToPoint(point){return this.normal.dot(point)+this.constant;},distanceToSphere:function distanceToSphere(sphere){return this.distanceToPoint(sphere.center)-sphere.radius;},projectPoint:function projectPoint(point,optionalTarget){var result=optionalTarget||new Vector3();return result.copy(this.normal).multiplyScalar(-this.distanceToPoint(point)).add(point);},intersectLine:function(){var v1=new Vector3();return function intersectLine(line,optionalTarget){var result=optionalTarget||new Vector3();var direction=line.delta(v1);var denominator=this.normal.dot(direction);if(denominator===0){// line is coplanar, return origin\nif(this.distanceToPoint(line.start)===0){return result.copy(line.start);}// Unsure if this is the correct method to handle this case.\nreturn undefined;}var t=-(line.start.dot(this.normal)+this.constant)/denominator;if(t<0||t>1){return undefined;}return result.copy(direction).multiplyScalar(t).add(line.start);};}(),intersectsLine:function intersectsLine(line){// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\nvar startSign=this.distanceToPoint(line.start);var endSign=this.distanceToPoint(line.end);return startSign<0&&endSign>0||endSign<0&&startSign>0;},intersectsBox:function intersectsBox(box){return box.intersectsPlane(this);},intersectsSphere:function intersectsSphere(sphere){return sphere.intersectsPlane(this);},coplanarPoint:function coplanarPoint(optionalTarget){var result=optionalTarget||new Vector3();return result.copy(this.normal).multiplyScalar(-this.constant);},applyMatrix4:function(){var v1=new Vector3();var m1=new Matrix3();return function applyMatrix4(matrix,optionalNormalMatrix){var normalMatrix=optionalNormalMatrix||m1.getNormalMatrix(matrix);var referencePoint=this.coplanarPoint(v1).applyMatrix4(matrix);var normal=this.normal.applyMatrix3(normalMatrix).normalize();this.constant=-referencePoint.dot(normal);return this;};}(),translate:function translate(offset){this.constant-=offset.dot(this.normal);return this;},equals:function equals(plane){return plane.normal.equals(this.normal)&&plane.constant===this.constant;}});/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / http://clara.io\n */function Frustum(p0,p1,p2,p3,p4,p5){this.planes=[p0!==undefined?p0:new Plane(),p1!==undefined?p1:new Plane(),p2!==undefined?p2:new Plane(),p3!==undefined?p3:new Plane(),p4!==undefined?p4:new Plane(),p5!==undefined?p5:new Plane()];}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Frustum.prototype,{set:function set(p0,p1,p2,p3,p4,p5){var planes=this.planes;planes[0].copy(p0);planes[1].copy(p1);planes[2].copy(p2);planes[3].copy(p3);planes[4].copy(p4);planes[5].copy(p5);return this;},clone:function clone(){return new this.constructor().copy(this);},copy:function copy(frustum){var planes=this.planes;for(var i=0;i<6;i++){planes[i].copy(frustum.planes[i]);}return this;},setFromMatrix:function setFromMatrix(m){var planes=this.planes;var me=m.elements;var me0=me[0],me1=me[1],me2=me[2],me3=me[3];var me4=me[4],me5=me[5],me6=me[6],me7=me[7];var me8=me[8],me9=me[9],me10=me[10],me11=me[11];var me12=me[12],me13=me[13],me14=me[14],me15=me[15];planes[0].setComponents(me3-me0,me7-me4,me11-me8,me15-me12).normalize();planes[1].setComponents(me3+me0,me7+me4,me11+me8,me15+me12).normalize();planes[2].setComponents(me3+me1,me7+me5,me11+me9,me15+me13).normalize();planes[3].setComponents(me3-me1,me7-me5,me11-me9,me15-me13).normalize();planes[4].setComponents(me3-me2,me7-me6,me11-me10,me15-me14).normalize();planes[5].setComponents(me3+me2,me7+me6,me11+me10,me15+me14).normalize();return this;},intersectsObject:function(){var sphere=new Sphere();return function intersectsObject(object){var geometry=object.geometry;if(geometry.boundingSphere===null)geometry.computeBoundingSphere();sphere.copy(geometry.boundingSphere).applyMatrix4(object.matrixWorld);return this.intersectsSphere(sphere);};}(),intersectsSprite:function(){var sphere=new Sphere();return function intersectsSprite(sprite){sphere.center.set(0,0,0);sphere.radius=0.7071067811865476;sphere.applyMatrix4(sprite.matrixWorld);return this.intersectsSphere(sphere);};}(),intersectsSphere:function intersectsSphere(sphere){var planes=this.planes;var center=sphere.center;var negRadius=-sphere.radius;for(var i=0;i<6;i++){var distance=planes[i].distanceToPoint(center);if(distance<negRadius){return false;}}return true;},intersectsBox:function(){var p1=new Vector3(),p2=new Vector3();return function intersectsBox(box){var planes=this.planes;for(var i=0;i<6;i++){var plane=planes[i];p1.x=plane.normal.x>0?box.min.x:box.max.x;p2.x=plane.normal.x>0?box.max.x:box.min.x;p1.y=plane.normal.y>0?box.min.y:box.max.y;p2.y=plane.normal.y>0?box.max.y:box.min.y;p1.z=plane.normal.z>0?box.min.z:box.max.z;p2.z=plane.normal.z>0?box.max.z:box.min.z;var d1=plane.distanceToPoint(p1);var d2=plane.distanceToPoint(p2);// if both outside plane, no intersection\nif(d1<0&&d2<0){return false;}}return true;};}(),containsPoint:function containsPoint(point){var planes=this.planes;for(var i=0;i<6;i++){if(planes[i].distanceToPoint(point)<0){return false;}}return true;}});/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */function WebGLShadowMap(_renderer,_objects,maxTextureSize){var _frustum=new Frustum(),_projScreenMatrix=new Matrix4(),_shadowMapSize=new Vector2(),_maxShadowMapSize=new Vector2(maxTextureSize,maxTextureSize),_lookTarget=new Vector3(),_lightPositionWorld=new Vector3(),_MorphingFlag=1,_SkinningFlag=2,_NumberOfMaterialVariants=(_MorphingFlag|_SkinningFlag)+1,_depthMaterials=new Array(_NumberOfMaterialVariants),_distanceMaterials=new Array(_NumberOfMaterialVariants),_materialCache={};var cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)];var cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)];var cube2DViewPorts=[new Vector4(),new Vector4(),new Vector4(),new Vector4(),new Vector4(),new Vector4()];// init\nfor(var i=0;i!==_NumberOfMaterialVariants;++i){var useMorphing=(i&_MorphingFlag)!==0;var useSkinning=(i&_SkinningFlag)!==0;var depthMaterial=new MeshDepthMaterial({depthPacking:RGBADepthPacking,morphTargets:useMorphing,skinning:useSkinning});_depthMaterials[i]=depthMaterial;//\nvar distanceMaterial=new MeshDistanceMaterial({morphTargets:useMorphing,skinning:useSkinning});_distanceMaterials[i]=distanceMaterial;}//\nvar scope=this;this.enabled=false;this.autoUpdate=true;this.needsUpdate=false;this.type=PCFShadowMap;this.renderReverseSided=true;this.renderSingleSided=true;this.render=function(lights,scene,camera){if(scope.enabled===false)return;if(scope.autoUpdate===false&&scope.needsUpdate===false)return;if(lights.length===0)return;// TODO Clean up (needed in case of contextlost)\nvar _gl=_renderer.context;var _state=_renderer.state;// Set GL state for depth map.\n_state.disable(_gl.BLEND);_state.buffers.color.setClear(1,1,1,1);_state.buffers.depth.setTest(true);_state.setScissorTest(false);// render depth map\nvar faceCount;for(var i=0,il=lights.length;i<il;i++){var light=lights[i];var shadow=light.shadow;var isPointLight=light&&light.isPointLight;if(shadow===undefined){console.warn('THREE.WebGLShadowMap:',light,'has no shadow.');continue;}var shadowCamera=shadow.camera;_shadowMapSize.copy(shadow.mapSize);_shadowMapSize.min(_maxShadowMapSize);if(isPointLight){var vpWidth=_shadowMapSize.x;var vpHeight=_shadowMapSize.y;// These viewports map a cube-map onto a 2D texture with the\n// following orientation:\n//\n//  xzXZ\n//   y Y\n//\n// X - Positive x direction\n// x - Negative x direction\n// Y - Positive y direction\n// y - Negative y direction\n// Z - Positive z direction\n// z - Negative z direction\n// positive X\ncube2DViewPorts[0].set(vpWidth*2,vpHeight,vpWidth,vpHeight);// negative X\ncube2DViewPorts[1].set(0,vpHeight,vpWidth,vpHeight);// positive Z\ncube2DViewPorts[2].set(vpWidth*3,vpHeight,vpWidth,vpHeight);// negative Z\ncube2DViewPorts[3].set(vpWidth,vpHeight,vpWidth,vpHeight);// positive Y\ncube2DViewPorts[4].set(vpWidth*3,0,vpWidth,vpHeight);// negative Y\ncube2DViewPorts[5].set(vpWidth,0,vpWidth,vpHeight);_shadowMapSize.x*=4.0;_shadowMapSize.y*=2.0;}if(shadow.map===null){var pars={minFilter:NearestFilter,magFilter:NearestFilter,format:RGBAFormat};shadow.map=new WebGLRenderTarget(_shadowMapSize.x,_shadowMapSize.y,pars);shadow.map.texture.name=light.name+\".shadowMap\";shadowCamera.updateProjectionMatrix();}if(shadow.isSpotLightShadow){shadow.update(light);}var shadowMap=shadow.map;var shadowMatrix=shadow.matrix;_lightPositionWorld.setFromMatrixPosition(light.matrixWorld);shadowCamera.position.copy(_lightPositionWorld);if(isPointLight){faceCount=6;// for point lights we set the shadow matrix to be a translation-only matrix\n// equal to inverse of the light's position\nshadowMatrix.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z);}else{faceCount=1;_lookTarget.setFromMatrixPosition(light.target.matrixWorld);shadowCamera.lookAt(_lookTarget);shadowCamera.updateMatrixWorld();// compute shadow matrix\nshadowMatrix.set(0.5,0.0,0.0,0.5,0.0,0.5,0.0,0.5,0.0,0.0,0.5,0.5,0.0,0.0,0.0,1.0);shadowMatrix.multiply(shadowCamera.projectionMatrix);shadowMatrix.multiply(shadowCamera.matrixWorldInverse);}_renderer.setRenderTarget(shadowMap);_renderer.clear();// render shadow map for each cube face (if omni-directional) or\n// run a single pass if not\nfor(var face=0;face<faceCount;face++){if(isPointLight){_lookTarget.copy(shadowCamera.position);_lookTarget.add(cubeDirections[face]);shadowCamera.up.copy(cubeUps[face]);shadowCamera.lookAt(_lookTarget);shadowCamera.updateMatrixWorld();var vpDimensions=cube2DViewPorts[face];_state.viewport(vpDimensions);}// update camera matrices and frustum\n_projScreenMatrix.multiplyMatrices(shadowCamera.projectionMatrix,shadowCamera.matrixWorldInverse);_frustum.setFromMatrix(_projScreenMatrix);// set object matrices & frustum culling\nrenderObject(scene,camera,shadowCamera,isPointLight);}}scope.needsUpdate=false;};function getDepthMaterial(object,material,isPointLight,lightPositionWorld,shadowCameraNear,shadowCameraFar){var geometry=object.geometry;var result=null;var materialVariants=_depthMaterials;var customMaterial=object.customDepthMaterial;if(isPointLight){materialVariants=_distanceMaterials;customMaterial=object.customDistanceMaterial;}if(!customMaterial){var useMorphing=false;if(material.morphTargets){if(geometry&&geometry.isBufferGeometry){useMorphing=geometry.morphAttributes&&geometry.morphAttributes.position&&geometry.morphAttributes.position.length>0;}else if(geometry&&geometry.isGeometry){useMorphing=geometry.morphTargets&&geometry.morphTargets.length>0;}}if(object.isSkinnedMesh&&material.skinning===false){console.warn('THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:',object);}var useSkinning=object.isSkinnedMesh&&material.skinning;var variantIndex=0;if(useMorphing)variantIndex|=_MorphingFlag;if(useSkinning)variantIndex|=_SkinningFlag;result=materialVariants[variantIndex];}else{result=customMaterial;}if(_renderer.localClippingEnabled&&material.clipShadows===true&&material.clippingPlanes.length!==0){// in this case we need a unique material instance reflecting the\n// appropriate state\nvar keyA=result.uuid,keyB=material.uuid;var materialsForVariant=_materialCache[keyA];if(materialsForVariant===undefined){materialsForVariant={};_materialCache[keyA]=materialsForVariant;}var cachedMaterial=materialsForVariant[keyB];if(cachedMaterial===undefined){cachedMaterial=result.clone();materialsForVariant[keyB]=cachedMaterial;}result=cachedMaterial;}result.visible=material.visible;result.wireframe=material.wireframe;var side=material.side;if(scope.renderSingleSided&&side==DoubleSide){side=FrontSide;}if(scope.renderReverseSided){if(side===FrontSide)side=BackSide;else if(side===BackSide)side=FrontSide;}result.side=side;result.clipShadows=material.clipShadows;result.clippingPlanes=material.clippingPlanes;result.clipIntersection=material.clipIntersection;result.wireframeLinewidth=material.wireframeLinewidth;result.linewidth=material.linewidth;if(isPointLight&&result.isMeshDistanceMaterial){result.referencePosition.copy(lightPositionWorld);result.nearDistance=shadowCameraNear;result.farDistance=shadowCameraFar;}return result;}function renderObject(object,camera,shadowCamera,isPointLight){if(object.visible===false)return;var visible=object.layers.test(camera.layers);if(visible&&(object.isMesh||object.isLine||object.isPoints)){if(object.castShadow&&(!object.frustumCulled||_frustum.intersectsObject(object))){object.modelViewMatrix.multiplyMatrices(shadowCamera.matrixWorldInverse,object.matrixWorld);var geometry=_objects.update(object);var material=object.material;if(Array.isArray(material)){var groups=geometry.groups;for(var k=0,kl=groups.length;k<kl;k++){var group=groups[k];var groupMaterial=material[group.materialIndex];if(groupMaterial&&groupMaterial.visible){var depthMaterial=getDepthMaterial(object,groupMaterial,isPointLight,_lightPositionWorld,shadowCamera.near,shadowCamera.far);_renderer.renderBufferDirect(shadowCamera,null,geometry,depthMaterial,object,group);}}}else if(material.visible){var depthMaterial=getDepthMaterial(object,material,isPointLight,_lightPositionWorld,shadowCamera.near,shadowCamera.far);_renderer.renderBufferDirect(shadowCamera,null,geometry,depthMaterial,object,null);}}}var children=object.children;for(var i=0,l=children.length;i<l;i++){renderObject(children[i],camera,shadowCamera,isPointLight);}}}/**\n * @author mrdoob / http://mrdoob.com/\n */function WebGLAttributes(gl){var buffers={};function createBuffer(attribute,bufferType){var array=attribute.array;var usage=attribute.dynamic?gl.DYNAMIC_DRAW:gl.STATIC_DRAW;var buffer=gl.createBuffer();gl.bindBuffer(bufferType,buffer);gl.bufferData(bufferType,array,usage);attribute.onUploadCallback();var type=gl.FLOAT;if(array instanceof Float32Array){type=gl.FLOAT;}else if(array instanceof Float64Array){console.warn('THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.');}else if(array instanceof Uint16Array){type=gl.UNSIGNED_SHORT;}else if(array instanceof Int16Array){type=gl.SHORT;}else if(array instanceof Uint32Array){type=gl.UNSIGNED_INT;}else if(array instanceof Int32Array){type=gl.INT;}else if(array instanceof Int8Array){type=gl.BYTE;}else if(array instanceof Uint8Array){type=gl.UNSIGNED_BYTE;}return{buffer:buffer,type:type,bytesPerElement:array.BYTES_PER_ELEMENT,version:attribute.version};}function updateBuffer(buffer,attribute,bufferType){var array=attribute.array;var updateRange=attribute.updateRange;gl.bindBuffer(bufferType,buffer);if(attribute.dynamic===false){gl.bufferData(bufferType,array,gl.STATIC_DRAW);}else if(updateRange.count===-1){// Not using update ranges\ngl.bufferSubData(bufferType,0,array);}else if(updateRange.count===0){console.error('THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.');}else{gl.bufferSubData(bufferType,updateRange.offset*array.BYTES_PER_ELEMENT,array.subarray(updateRange.offset,updateRange.offset+updateRange.count));updateRange.count=-1;// reset range\n}}//\nfunction get(attribute){if(attribute.isInterleavedBufferAttribute)attribute=attribute.data;return buffers[attribute.uuid];}function remove(attribute){if(attribute.isInterleavedBufferAttribute)attribute=attribute.data;var data=buffers[attribute.uuid];if(data){gl.deleteBuffer(data.buffer);delete buffers[attribute.uuid];}}function update(attribute,bufferType){if(attribute.isInterleavedBufferAttribute)attribute=attribute.data;var data=buffers[attribute.uuid];if(data===undefined){buffers[attribute.uuid]=createBuffer(attribute,bufferType);}else if(data.version<attribute.version){updateBuffer(data.buffer,attribute,bufferType);data.version=attribute.version;}}return{get:get,remove:remove,update:update};}/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */function Euler(x,y,z,order){this._x=x||0;this._y=y||0;this._z=z||0;this._order=order||Euler.DefaultOrder;}Euler.RotationOrders=['XYZ','YZX','ZXY','XZY','YXZ','ZYX'];Euler.DefaultOrder='XYZ';__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(Euler.prototype,{x:{get:function get(){return this._x;},set:function set(value){this._x=value;this.onChangeCallback();}},y:{get:function get(){return this._y;},set:function set(value){this._y=value;this.onChangeCallback();}},z:{get:function get(){return this._z;},set:function set(value){this._z=value;this.onChangeCallback();}},order:{get:function get(){return this._order;},set:function set(value){this._order=value;this.onChangeCallback();}}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Euler.prototype,{isEuler:true,set:function set(x,y,z,order){this._x=x;this._y=y;this._z=z;this._order=order||this._order;this.onChangeCallback();return this;},clone:function clone(){return new this.constructor(this._x,this._y,this._z,this._order);},copy:function copy(euler){this._x=euler._x;this._y=euler._y;this._z=euler._z;this._order=euler._order;this.onChangeCallback();return this;},setFromRotationMatrix:function setFromRotationMatrix(m,order,update){var clamp=_Math.clamp;// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\nvar te=m.elements;var m11=te[0],m12=te[4],m13=te[8];var m21=te[1],m22=te[5],m23=te[9];var m31=te[2],m32=te[6],m33=te[10];order=order||this._order;if(order==='XYZ'){this._y=Math.asin(clamp(m13,-1,1));if(Math.abs(m13)<0.99999){this._x=Math.atan2(-m23,m33);this._z=Math.atan2(-m12,m11);}else{this._x=Math.atan2(m32,m22);this._z=0;}}else if(order==='YXZ'){this._x=Math.asin(-clamp(m23,-1,1));if(Math.abs(m23)<0.99999){this._y=Math.atan2(m13,m33);this._z=Math.atan2(m21,m22);}else{this._y=Math.atan2(-m31,m11);this._z=0;}}else if(order==='ZXY'){this._x=Math.asin(clamp(m32,-1,1));if(Math.abs(m32)<0.99999){this._y=Math.atan2(-m31,m33);this._z=Math.atan2(-m12,m22);}else{this._y=0;this._z=Math.atan2(m21,m11);}}else if(order==='ZYX'){this._y=Math.asin(-clamp(m31,-1,1));if(Math.abs(m31)<0.99999){this._x=Math.atan2(m32,m33);this._z=Math.atan2(m21,m11);}else{this._x=0;this._z=Math.atan2(-m12,m22);}}else if(order==='YZX'){this._z=Math.asin(clamp(m21,-1,1));if(Math.abs(m21)<0.99999){this._x=Math.atan2(-m23,m22);this._y=Math.atan2(-m31,m11);}else{this._x=0;this._y=Math.atan2(m13,m33);}}else if(order==='XZY'){this._z=Math.asin(-clamp(m12,-1,1));if(Math.abs(m12)<0.99999){this._x=Math.atan2(m32,m22);this._y=Math.atan2(m13,m11);}else{this._x=Math.atan2(-m23,m33);this._y=0;}}else{console.warn('THREE.Euler: .setFromRotationMatrix() given unsupported order: '+order);}this._order=order;if(update!==false)this.onChangeCallback();return this;},setFromQuaternion:function(){var matrix=new Matrix4();return function setFromQuaternion(q,order,update){matrix.makeRotationFromQuaternion(q);return this.setFromRotationMatrix(matrix,order,update);};}(),setFromVector3:function setFromVector3(v,order){return this.set(v.x,v.y,v.z,order||this._order);},reorder:function(){// WARNING: this discards revolution information -bhouston\nvar q=new Quaternion();return function reorder(newOrder){q.setFromEuler(this);return this.setFromQuaternion(q,newOrder);};}(),equals:function equals(euler){return euler._x===this._x&&euler._y===this._y&&euler._z===this._z&&euler._order===this._order;},fromArray:function fromArray(array){this._x=array[0];this._y=array[1];this._z=array[2];if(array[3]!==undefined)this._order=array[3];this.onChangeCallback();return this;},toArray:function toArray(array,offset){if(array===undefined)array=[];if(offset===undefined)offset=0;array[offset]=this._x;array[offset+1]=this._y;array[offset+2]=this._z;array[offset+3]=this._order;return array;},toVector3:function toVector3(optionalResult){if(optionalResult){return optionalResult.set(this._x,this._y,this._z);}else{return new Vector3(this._x,this._y,this._z);}},onChange:function onChange(callback){this.onChangeCallback=callback;return this;},onChangeCallback:function onChangeCallback(){}});/**\n * @author mrdoob / http://mrdoob.com/\n */function Layers(){this.mask=1|0;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Layers.prototype,{set:function set(channel){this.mask=1<<channel|0;},enable:function enable(channel){this.mask|=1<<channel|0;},toggle:function toggle(channel){this.mask^=1<<channel|0;},disable:function disable(channel){this.mask&=~(1<<channel|0);},test:function test(layers){return(this.mask&layers.mask)!==0;}});/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author elephantatwork / www.elephantatwork.ch\n */var object3DId=0;function Object3D(){Object.defineProperty(this,'id',{value:object3DId++});this.uuid=_Math.generateUUID();this.name='';this.type='Object3D';this.parent=null;this.children=[];this.up=Object3D.DefaultUp.clone();var position=new Vector3();var rotation=new Euler();var quaternion=new Quaternion();var scale=new Vector3(1,1,1);function onRotationChange(){quaternion.setFromEuler(rotation,false);}function onQuaternionChange(){rotation.setFromQuaternion(quaternion,undefined,false);}rotation.onChange(onRotationChange);quaternion.onChange(onQuaternionChange);__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(this,{position:{enumerable:true,value:position},rotation:{enumerable:true,value:rotation},quaternion:{enumerable:true,value:quaternion},scale:{enumerable:true,value:scale},modelViewMatrix:{value:new Matrix4()},normalMatrix:{value:new Matrix3()}});this.matrix=new Matrix4();this.matrixWorld=new Matrix4();this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=false;this.layers=new Layers();this.visible=true;this.castShadow=false;this.receiveShadow=false;this.frustumCulled=true;this.renderOrder=0;this.userData={};}Object3D.DefaultUp=new Vector3(0,1,0);Object3D.DefaultMatrixAutoUpdate=true;__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Object3D.prototype,EventDispatcher.prototype,{isObject3D:true,onBeforeRender:function onBeforeRender(){},onAfterRender:function onAfterRender(){},applyMatrix:function applyMatrix(matrix){this.matrix.multiplyMatrices(matrix,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale);},applyQuaternion:function applyQuaternion(q){this.quaternion.premultiply(q);return this;},setRotationFromAxisAngle:function setRotationFromAxisAngle(axis,angle){// assumes axis is normalized\nthis.quaternion.setFromAxisAngle(axis,angle);},setRotationFromEuler:function setRotationFromEuler(euler){this.quaternion.setFromEuler(euler,true);},setRotationFromMatrix:function setRotationFromMatrix(m){// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\nthis.quaternion.setFromRotationMatrix(m);},setRotationFromQuaternion:function setRotationFromQuaternion(q){// assumes q is normalized\nthis.quaternion.copy(q);},rotateOnAxis:function(){// rotate object on axis in object space\n// axis is assumed to be normalized\nvar q1=new Quaternion();return function rotateOnAxis(axis,angle){q1.setFromAxisAngle(axis,angle);this.quaternion.multiply(q1);return this;};}(),rotateX:function(){var v1=new Vector3(1,0,0);return function rotateX(angle){return this.rotateOnAxis(v1,angle);};}(),rotateY:function(){var v1=new Vector3(0,1,0);return function rotateY(angle){return this.rotateOnAxis(v1,angle);};}(),rotateZ:function(){var v1=new Vector3(0,0,1);return function rotateZ(angle){return this.rotateOnAxis(v1,angle);};}(),translateOnAxis:function(){// translate object by distance along axis in object space\n// axis is assumed to be normalized\nvar v1=new Vector3();return function translateOnAxis(axis,distance){v1.copy(axis).applyQuaternion(this.quaternion);this.position.add(v1.multiplyScalar(distance));return this;};}(),translateX:function(){var v1=new Vector3(1,0,0);return function translateX(distance){return this.translateOnAxis(v1,distance);};}(),translateY:function(){var v1=new Vector3(0,1,0);return function translateY(distance){return this.translateOnAxis(v1,distance);};}(),translateZ:function(){var v1=new Vector3(0,0,1);return function translateZ(distance){return this.translateOnAxis(v1,distance);};}(),localToWorld:function localToWorld(vector){return vector.applyMatrix4(this.matrixWorld);},worldToLocal:function(){var m1=new Matrix4();return function worldToLocal(vector){return vector.applyMatrix4(m1.getInverse(this.matrixWorld));};}(),lookAt:function(){// This method does not support objects with rotated and/or translated parent(s)\nvar m1=new Matrix4();return function lookAt(vector){if(this.isCamera){m1.lookAt(this.position,vector,this.up);}else{m1.lookAt(vector,this.position,this.up);}this.quaternion.setFromRotationMatrix(m1);};}(),add:function add(object){if(arguments.length>1){for(var i=0;i<arguments.length;i++){this.add(arguments[i]);}return this;}if(object===this){console.error(\"THREE.Object3D.add: object can't be added as a child of itself.\",object);return this;}if(object&&object.isObject3D){if(object.parent!==null){object.parent.remove(object);}object.parent=this;object.dispatchEvent({type:'added'});this.children.push(object);}else{console.error(\"THREE.Object3D.add: object not an instance of THREE.Object3D.\",object);}return this;},remove:function remove(object){if(arguments.length>1){for(var i=0;i<arguments.length;i++){this.remove(arguments[i]);}return this;}var index=this.children.indexOf(object);if(index!==-1){object.parent=null;object.dispatchEvent({type:'removed'});this.children.splice(index,1);}return this;},getObjectById:function getObjectById(id){return this.getObjectByProperty('id',id);},getObjectByName:function getObjectByName(name){return this.getObjectByProperty('name',name);},getObjectByProperty:function getObjectByProperty(name,value){if(this[name]===value)return this;for(var i=0,l=this.children.length;i<l;i++){var child=this.children[i];var object=child.getObjectByProperty(name,value);if(object!==undefined){return object;}}return undefined;},getWorldPosition:function getWorldPosition(optionalTarget){var result=optionalTarget||new Vector3();this.updateMatrixWorld(true);return result.setFromMatrixPosition(this.matrixWorld);},getWorldQuaternion:function(){var position=new Vector3();var scale=new Vector3();return function getWorldQuaternion(optionalTarget){var result=optionalTarget||new Quaternion();this.updateMatrixWorld(true);this.matrixWorld.decompose(position,result,scale);return result;};}(),getWorldRotation:function(){var quaternion=new Quaternion();return function getWorldRotation(optionalTarget){var result=optionalTarget||new Euler();this.getWorldQuaternion(quaternion);return result.setFromQuaternion(quaternion,this.rotation.order,false);};}(),getWorldScale:function(){var position=new Vector3();var quaternion=new Quaternion();return function getWorldScale(optionalTarget){var result=optionalTarget||new Vector3();this.updateMatrixWorld(true);this.matrixWorld.decompose(position,quaternion,result);return result;};}(),getWorldDirection:function(){var quaternion=new Quaternion();return function getWorldDirection(optionalTarget){var result=optionalTarget||new Vector3();this.getWorldQuaternion(quaternion);return result.set(0,0,1).applyQuaternion(quaternion);};}(),raycast:function raycast(){},traverse:function traverse(callback){callback(this);var children=this.children;for(var i=0,l=children.length;i<l;i++){children[i].traverse(callback);}},traverseVisible:function traverseVisible(callback){if(this.visible===false)return;callback(this);var children=this.children;for(var i=0,l=children.length;i<l;i++){children[i].traverseVisible(callback);}},traverseAncestors:function traverseAncestors(callback){var parent=this.parent;if(parent!==null){callback(parent);parent.traverseAncestors(callback);}},updateMatrix:function updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=true;},updateMatrixWorld:function updateMatrixWorld(force){if(this.matrixAutoUpdate)this.updateMatrix();if(this.matrixWorldNeedsUpdate||force){if(this.parent===null){this.matrixWorld.copy(this.matrix);}else{this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);}this.matrixWorldNeedsUpdate=false;force=true;}// update children\nvar children=this.children;for(var i=0,l=children.length;i<l;i++){children[i].updateMatrixWorld(force);}},toJSON:function toJSON(meta){// meta is '' when called from JSON.stringify\nvar isRootObject=meta===undefined||meta==='';var output={};// meta is a hash used to collect geometries, materials.\n// not providing it implies that this is the root object\n// being serialized.\nif(isRootObject){// initialize meta obj\nmeta={geometries:{},materials:{},textures:{},images:{}};output.metadata={version:4.5,type:'Object',generator:'Object3D.toJSON'};}// standard Object3D serialization\nvar object={};object.uuid=this.uuid;object.type=this.type;if(this.name!=='')object.name=this.name;if(this.castShadow===true)object.castShadow=true;if(this.receiveShadow===true)object.receiveShadow=true;if(this.visible===false)object.visible=false;if(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default()(this.userData)!=='{}')object.userData=this.userData;object.matrix=this.matrix.toArray();//\nfunction serialize(library,element){if(library[element.uuid]===undefined){library[element.uuid]=element.toJSON(meta);}return element.uuid;}if(this.geometry!==undefined){object.geometry=serialize(meta.geometries,this.geometry);}if(this.material!==undefined){if(Array.isArray(this.material)){var uuids=[];for(var i=0,l=this.material.length;i<l;i++){uuids.push(serialize(meta.materials,this.material[i]));}object.material=uuids;}else{object.material=serialize(meta.materials,this.material);}}//\nif(this.children.length>0){object.children=[];for(var i=0;i<this.children.length;i++){object.children.push(this.children[i].toJSON(meta).object);}}if(isRootObject){var geometries=extractFromCache(meta.geometries);var materials=extractFromCache(meta.materials);var textures=extractFromCache(meta.textures);var images=extractFromCache(meta.images);if(geometries.length>0)output.geometries=geometries;if(materials.length>0)output.materials=materials;if(textures.length>0)output.textures=textures;if(images.length>0)output.images=images;}output.object=object;return output;// extract data from the cache hash\n// remove metadata on each item\n// and return as array\nfunction extractFromCache(cache){var values=[];for(var key in cache){var data=cache[key];delete data.metadata;values.push(data);}return values;}},clone:function clone(recursive){return new this.constructor().copy(this,recursive);},copy:function copy(source,recursive){if(recursive===undefined)recursive=true;this.name=source.name;this.up.copy(source.up);this.position.copy(source.position);this.quaternion.copy(source.quaternion);this.scale.copy(source.scale);this.matrix.copy(source.matrix);this.matrixWorld.copy(source.matrixWorld);this.matrixAutoUpdate=source.matrixAutoUpdate;this.matrixWorldNeedsUpdate=source.matrixWorldNeedsUpdate;this.layers.mask=source.layers.mask;this.visible=source.visible;this.castShadow=source.castShadow;this.receiveShadow=source.receiveShadow;this.frustumCulled=source.frustumCulled;this.renderOrder=source.renderOrder;this.userData=JSON.parse(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default()(source.userData));if(recursive===true){for(var i=0;i<source.children.length;i++){var child=source.children[i];this.add(child.clone());}}return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author WestLangley / http://github.com/WestLangley\n */function Camera(){Object3D.call(this);this.type='Camera';this.matrixWorldInverse=new Matrix4();this.projectionMatrix=new Matrix4();}Camera.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype),{constructor:Camera,isCamera:true,copy:function copy(source,recursive){Object3D.prototype.copy.call(this,source,recursive);this.matrixWorldInverse.copy(source.matrixWorldInverse);this.projectionMatrix.copy(source.projectionMatrix);return this;},getWorldDirection:function(){var quaternion=new Quaternion();return function getWorldDirection(optionalTarget){var result=optionalTarget||new Vector3();this.getWorldQuaternion(quaternion);return result.set(0,0,-1).applyQuaternion(quaternion);};}(),updateMatrixWorld:function updateMatrixWorld(force){Object3D.prototype.updateMatrixWorld.call(this,force);this.matrixWorldInverse.getInverse(this.matrixWorld);},clone:function clone(){return new this.constructor().copy(this);}});/**\n * @author alteredq / http://alteredqualia.com/\n * @author arose / http://github.com/arose\n */function OrthographicCamera(left,right,top,bottom,near,far){Camera.call(this);this.type='OrthographicCamera';this.zoom=1;this.view=null;this.left=left;this.right=right;this.top=top;this.bottom=bottom;this.near=near!==undefined?near:0.1;this.far=far!==undefined?far:2000;this.updateProjectionMatrix();}OrthographicCamera.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Camera.prototype),{constructor:OrthographicCamera,isOrthographicCamera:true,copy:function copy(source,recursive){Camera.prototype.copy.call(this,source,recursive);this.left=source.left;this.right=source.right;this.top=source.top;this.bottom=source.bottom;this.near=source.near;this.far=source.far;this.zoom=source.zoom;this.view=source.view===null?null:__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()({},source.view);return this;},setViewOffset:function setViewOffset(fullWidth,fullHeight,x,y,width,height){this.view={fullWidth:fullWidth,fullHeight:fullHeight,offsetX:x,offsetY:y,width:width,height:height};this.updateProjectionMatrix();},clearViewOffset:function clearViewOffset(){this.view=null;this.updateProjectionMatrix();},updateProjectionMatrix:function updateProjectionMatrix(){var dx=(this.right-this.left)/(2*this.zoom);var dy=(this.top-this.bottom)/(2*this.zoom);var cx=(this.right+this.left)/2;var cy=(this.top+this.bottom)/2;var left=cx-dx;var right=cx+dx;var top=cy+dy;var bottom=cy-dy;if(this.view!==null){var zoomW=this.zoom/(this.view.width/this.view.fullWidth);var zoomH=this.zoom/(this.view.height/this.view.fullHeight);var scaleW=(this.right-this.left)/this.view.width;var scaleH=(this.top-this.bottom)/this.view.height;left+=scaleW*(this.view.offsetX/zoomW);right=left+scaleW*(this.view.width/zoomW);top-=scaleH*(this.view.offsetY/zoomH);bottom=top-scaleH*(this.view.height/zoomH);}this.projectionMatrix.makeOrthographic(left,right,top,bottom,this.near,this.far);},toJSON:function toJSON(meta){var data=Object3D.prototype.toJSON.call(this,meta);data.object.zoom=this.zoom;data.object.left=this.left;data.object.right=this.right;data.object.top=this.top;data.object.bottom=this.bottom;data.object.near=this.near;data.object.far=this.far;if(this.view!==null)data.object.view=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()({},this.view);return data;}});/**\n * @author mrdoob / http://mrdoob.com/\n * @author greggman / http://games.greggman.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author tschw\n */function PerspectiveCamera(fov,aspect,near,far){Camera.call(this);this.type='PerspectiveCamera';this.fov=fov!==undefined?fov:50;this.zoom=1;this.near=near!==undefined?near:0.1;this.far=far!==undefined?far:2000;this.focus=10;this.aspect=aspect!==undefined?aspect:1;this.view=null;this.filmGauge=35;// width of the film (default in millimeters)\nthis.filmOffset=0;// horizontal film offset (same unit as gauge)\nthis.updateProjectionMatrix();}PerspectiveCamera.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Camera.prototype),{constructor:PerspectiveCamera,isPerspectiveCamera:true,copy:function copy(source,recursive){Camera.prototype.copy.call(this,source,recursive);this.fov=source.fov;this.zoom=source.zoom;this.near=source.near;this.far=source.far;this.focus=source.focus;this.aspect=source.aspect;this.view=source.view===null?null:__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()({},source.view);this.filmGauge=source.filmGauge;this.filmOffset=source.filmOffset;return this;},/**\n   * Sets the FOV by focal length in respect to the current .filmGauge.\n   *\n   * The default film gauge is 35, so that the focal length can be specified for\n   * a 35mm (full frame) camera.\n   *\n   * Values for focal length and film gauge must have the same unit.\n   */setFocalLength:function setFocalLength(focalLength){// see http://www.bobatkins.com/photography/technical/field_of_view.html\nvar vExtentSlope=0.5*this.getFilmHeight()/focalLength;this.fov=_Math.RAD2DEG*2*Math.atan(vExtentSlope);this.updateProjectionMatrix();},/**\n   * Calculates the focal length from the current .fov and .filmGauge.\n   */getFocalLength:function getFocalLength(){var vExtentSlope=Math.tan(_Math.DEG2RAD*0.5*this.fov);return 0.5*this.getFilmHeight()/vExtentSlope;},getEffectiveFOV:function getEffectiveFOV(){return _Math.RAD2DEG*2*Math.atan(Math.tan(_Math.DEG2RAD*0.5*this.fov)/this.zoom);},getFilmWidth:function getFilmWidth(){// film not completely covered in portrait format (aspect < 1)\nreturn this.filmGauge*Math.min(this.aspect,1);},getFilmHeight:function getFilmHeight(){// film not completely covered in landscape format (aspect > 1)\nreturn this.filmGauge/Math.max(this.aspect,1);},/**\n   * Sets an offset in a larger frustum. This is useful for multi-window or\n   * multi-monitor/multi-machine setups.\n   *\n   * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n   * the monitors are in grid like this\n   *\n   *   +---+---+---+\n   *   | A | B | C |\n   *   +---+---+---+\n   *   | D | E | F |\n   *   +---+---+---+\n   *\n   * then for each monitor you would call it like this\n   *\n   *   var w = 1920;\n   *   var h = 1080;\n   *   var fullWidth = w * 3;\n   *   var fullHeight = h * 2;\n   *\n   *   --A--\n   *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n   *   --B--\n   *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n   *   --C--\n   *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n   *   --D--\n   *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n   *   --E--\n   *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n   *   --F--\n   *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n   *\n   *   Note there is no reason monitors have to be the same size or in a grid.\n   */setViewOffset:function setViewOffset(fullWidth,fullHeight,x,y,width,height){this.aspect=fullWidth/fullHeight;this.view={fullWidth:fullWidth,fullHeight:fullHeight,offsetX:x,offsetY:y,width:width,height:height};this.updateProjectionMatrix();},clearViewOffset:function clearViewOffset(){this.view=null;this.updateProjectionMatrix();},updateProjectionMatrix:function updateProjectionMatrix(){var near=this.near,top=near*Math.tan(_Math.DEG2RAD*0.5*this.fov)/this.zoom,height=2*top,width=this.aspect*height,left=-0.5*width,view=this.view;if(view!==null){var fullWidth=view.fullWidth,fullHeight=view.fullHeight;left+=view.offsetX*width/fullWidth;top-=view.offsetY*height/fullHeight;width*=view.width/fullWidth;height*=view.height/fullHeight;}var skew=this.filmOffset;if(skew!==0)left+=near*skew/this.getFilmWidth();this.projectionMatrix.makePerspective(left,left+width,top,top-height,near,this.far);},toJSON:function toJSON(meta){var data=Object3D.prototype.toJSON.call(this,meta);data.object.fov=this.fov;data.object.zoom=this.zoom;data.object.near=this.near;data.object.far=this.far;data.object.focus=this.focus;data.object.aspect=this.aspect;if(this.view!==null)data.object.view=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()({},this.view);data.object.filmGauge=this.filmGauge;data.object.filmOffset=this.filmOffset;return data;}});/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */function Face3(a,b,c,normal,color,materialIndex){this.a=a;this.b=b;this.c=c;this.normal=normal&&normal.isVector3?normal:new Vector3();this.vertexNormals=Array.isArray(normal)?normal:[];this.color=color&&color.isColor?color:new Color();this.vertexColors=Array.isArray(color)?color:[];this.materialIndex=materialIndex!==undefined?materialIndex:0;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Face3.prototype,{clone:function clone(){return new this.constructor().copy(this);},copy:function copy(source){this.a=source.a;this.b=source.b;this.c=source.c;this.normal.copy(source.normal);this.color.copy(source.color);this.materialIndex=source.materialIndex;for(var i=0,il=source.vertexNormals.length;i<il;i++){this.vertexNormals[i]=source.vertexNormals[i].clone();}for(var i=0,il=source.vertexColors.length;i<il;i++){this.vertexColors[i]=source.vertexColors[i].clone();}return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author bhouston / http://clara.io\n */var count=0;function GeometryIdCount(){return count++;}function Geometry(){Object.defineProperty(this,'id',{value:GeometryIdCount()});this.uuid=_Math.generateUUID();this.name='';this.type='Geometry';this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingBox=null;this.boundingSphere=null;// update flags\nthis.elementsNeedUpdate=false;this.verticesNeedUpdate=false;this.uvsNeedUpdate=false;this.normalsNeedUpdate=false;this.colorsNeedUpdate=false;this.lineDistancesNeedUpdate=false;this.groupsNeedUpdate=false;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Geometry.prototype,EventDispatcher.prototype,{isGeometry:true,applyMatrix:function applyMatrix(matrix){var normalMatrix=new Matrix3().getNormalMatrix(matrix);for(var i=0,il=this.vertices.length;i<il;i++){var vertex=this.vertices[i];vertex.applyMatrix4(matrix);}for(var i=0,il=this.faces.length;i<il;i++){var face=this.faces[i];face.normal.applyMatrix3(normalMatrix).normalize();for(var j=0,jl=face.vertexNormals.length;j<jl;j++){face.vertexNormals[j].applyMatrix3(normalMatrix).normalize();}}if(this.boundingBox!==null){this.computeBoundingBox();}if(this.boundingSphere!==null){this.computeBoundingSphere();}this.verticesNeedUpdate=true;this.normalsNeedUpdate=true;return this;},rotateX:function(){// rotate geometry around world x-axis\nvar m1=new Matrix4();return function rotateX(angle){m1.makeRotationX(angle);this.applyMatrix(m1);return this;};}(),rotateY:function(){// rotate geometry around world y-axis\nvar m1=new Matrix4();return function rotateY(angle){m1.makeRotationY(angle);this.applyMatrix(m1);return this;};}(),rotateZ:function(){// rotate geometry around world z-axis\nvar m1=new Matrix4();return function rotateZ(angle){m1.makeRotationZ(angle);this.applyMatrix(m1);return this;};}(),translate:function(){// translate geometry\nvar m1=new Matrix4();return function translate(x,y,z){m1.makeTranslation(x,y,z);this.applyMatrix(m1);return this;};}(),scale:function(){// scale geometry\nvar m1=new Matrix4();return function scale(x,y,z){m1.makeScale(x,y,z);this.applyMatrix(m1);return this;};}(),lookAt:function(){var obj=new Object3D();return function lookAt(vector){obj.lookAt(vector);obj.updateMatrix();this.applyMatrix(obj.matrix);};}(),fromBufferGeometry:function fromBufferGeometry(geometry){var scope=this;var indices=geometry.index!==null?geometry.index.array:undefined;var attributes=geometry.attributes;var positions=attributes.position.array;var normals=attributes.normal!==undefined?attributes.normal.array:undefined;var colors=attributes.color!==undefined?attributes.color.array:undefined;var uvs=attributes.uv!==undefined?attributes.uv.array:undefined;var uvs2=attributes.uv2!==undefined?attributes.uv2.array:undefined;if(uvs2!==undefined)this.faceVertexUvs[1]=[];var tempNormals=[];var tempUVs=[];var tempUVs2=[];for(var i=0,j=0;i<positions.length;i+=3,j+=2){scope.vertices.push(new Vector3(positions[i],positions[i+1],positions[i+2]));if(normals!==undefined){tempNormals.push(new Vector3(normals[i],normals[i+1],normals[i+2]));}if(colors!==undefined){scope.colors.push(new Color(colors[i],colors[i+1],colors[i+2]));}if(uvs!==undefined){tempUVs.push(new Vector2(uvs[j],uvs[j+1]));}if(uvs2!==undefined){tempUVs2.push(new Vector2(uvs2[j],uvs2[j+1]));}}function addFace(a,b,c,materialIndex){var vertexNormals=normals!==undefined?[tempNormals[a].clone(),tempNormals[b].clone(),tempNormals[c].clone()]:[];var vertexColors=colors!==undefined?[scope.colors[a].clone(),scope.colors[b].clone(),scope.colors[c].clone()]:[];var face=new Face3(a,b,c,vertexNormals,vertexColors,materialIndex);scope.faces.push(face);if(uvs!==undefined){scope.faceVertexUvs[0].push([tempUVs[a].clone(),tempUVs[b].clone(),tempUVs[c].clone()]);}if(uvs2!==undefined){scope.faceVertexUvs[1].push([tempUVs2[a].clone(),tempUVs2[b].clone(),tempUVs2[c].clone()]);}}var groups=geometry.groups;if(groups.length>0){for(var i=0;i<groups.length;i++){var group=groups[i];var start=group.start;var count=group.count;for(var j=start,jl=start+count;j<jl;j+=3){if(indices!==undefined){addFace(indices[j],indices[j+1],indices[j+2],group.materialIndex);}else{addFace(j,j+1,j+2,group.materialIndex);}}}}else{if(indices!==undefined){for(var i=0;i<indices.length;i+=3){addFace(indices[i],indices[i+1],indices[i+2]);}}else{for(var i=0;i<positions.length/3;i+=3){addFace(i,i+1,i+2);}}}this.computeFaceNormals();if(geometry.boundingBox!==null){this.boundingBox=geometry.boundingBox.clone();}if(geometry.boundingSphere!==null){this.boundingSphere=geometry.boundingSphere.clone();}return this;},center:function center(){this.computeBoundingBox();var offset=this.boundingBox.getCenter().negate();this.translate(offset.x,offset.y,offset.z);return offset;},normalize:function normalize(){this.computeBoundingSphere();var center=this.boundingSphere.center;var radius=this.boundingSphere.radius;var s=radius===0?1:1.0/radius;var matrix=new Matrix4();matrix.set(s,0,0,-s*center.x,0,s,0,-s*center.y,0,0,s,-s*center.z,0,0,0,1);this.applyMatrix(matrix);return this;},computeFaceNormals:function computeFaceNormals(){var cb=new Vector3(),ab=new Vector3();for(var f=0,fl=this.faces.length;f<fl;f++){var face=this.faces[f];var vA=this.vertices[face.a];var vB=this.vertices[face.b];var vC=this.vertices[face.c];cb.subVectors(vC,vB);ab.subVectors(vA,vB);cb.cross(ab);cb.normalize();face.normal.copy(cb);}},computeVertexNormals:function computeVertexNormals(areaWeighted){if(areaWeighted===undefined)areaWeighted=true;var v,vl,f,fl,face,vertices;vertices=new Array(this.vertices.length);for(v=0,vl=this.vertices.length;v<vl;v++){vertices[v]=new Vector3();}if(areaWeighted){// vertex normals weighted by triangle areas\n// http://www.iquilezles.org/www/articles/normals/normals.htm\nvar vA,vB,vC;var cb=new Vector3(),ab=new Vector3();for(f=0,fl=this.faces.length;f<fl;f++){face=this.faces[f];vA=this.vertices[face.a];vB=this.vertices[face.b];vC=this.vertices[face.c];cb.subVectors(vC,vB);ab.subVectors(vA,vB);cb.cross(ab);vertices[face.a].add(cb);vertices[face.b].add(cb);vertices[face.c].add(cb);}}else{this.computeFaceNormals();for(f=0,fl=this.faces.length;f<fl;f++){face=this.faces[f];vertices[face.a].add(face.normal);vertices[face.b].add(face.normal);vertices[face.c].add(face.normal);}}for(v=0,vl=this.vertices.length;v<vl;v++){vertices[v].normalize();}for(f=0,fl=this.faces.length;f<fl;f++){face=this.faces[f];var vertexNormals=face.vertexNormals;if(vertexNormals.length===3){vertexNormals[0].copy(vertices[face.a]);vertexNormals[1].copy(vertices[face.b]);vertexNormals[2].copy(vertices[face.c]);}else{vertexNormals[0]=vertices[face.a].clone();vertexNormals[1]=vertices[face.b].clone();vertexNormals[2]=vertices[face.c].clone();}}if(this.faces.length>0){this.normalsNeedUpdate=true;}},computeFlatVertexNormals:function computeFlatVertexNormals(){var f,fl,face;this.computeFaceNormals();for(f=0,fl=this.faces.length;f<fl;f++){face=this.faces[f];var vertexNormals=face.vertexNormals;if(vertexNormals.length===3){vertexNormals[0].copy(face.normal);vertexNormals[1].copy(face.normal);vertexNormals[2].copy(face.normal);}else{vertexNormals[0]=face.normal.clone();vertexNormals[1]=face.normal.clone();vertexNormals[2]=face.normal.clone();}}if(this.faces.length>0){this.normalsNeedUpdate=true;}},computeMorphNormals:function computeMorphNormals(){var i,il,f,fl,face;// save original normals\n// - create temp variables on first access\n//   otherwise just copy (for faster repeated calls)\nfor(f=0,fl=this.faces.length;f<fl;f++){face=this.faces[f];if(!face.__originalFaceNormal){face.__originalFaceNormal=face.normal.clone();}else{face.__originalFaceNormal.copy(face.normal);}if(!face.__originalVertexNormals)face.__originalVertexNormals=[];for(i=0,il=face.vertexNormals.length;i<il;i++){if(!face.__originalVertexNormals[i]){face.__originalVertexNormals[i]=face.vertexNormals[i].clone();}else{face.__originalVertexNormals[i].copy(face.vertexNormals[i]);}}}// use temp geometry to compute face and vertex normals for each morph\nvar tmpGeo=new Geometry();tmpGeo.faces=this.faces;for(i=0,il=this.morphTargets.length;i<il;i++){// create on first access\nif(!this.morphNormals[i]){this.morphNormals[i]={};this.morphNormals[i].faceNormals=[];this.morphNormals[i].vertexNormals=[];var dstNormalsFace=this.morphNormals[i].faceNormals;var dstNormalsVertex=this.morphNormals[i].vertexNormals;var faceNormal,vertexNormals;for(f=0,fl=this.faces.length;f<fl;f++){faceNormal=new Vector3();vertexNormals={a:new Vector3(),b:new Vector3(),c:new Vector3()};dstNormalsFace.push(faceNormal);dstNormalsVertex.push(vertexNormals);}}var morphNormals=this.morphNormals[i];// set vertices to morph target\ntmpGeo.vertices=this.morphTargets[i].vertices;// compute morph normals\ntmpGeo.computeFaceNormals();tmpGeo.computeVertexNormals();// store morph normals\nvar faceNormal,vertexNormals;for(f=0,fl=this.faces.length;f<fl;f++){face=this.faces[f];faceNormal=morphNormals.faceNormals[f];vertexNormals=morphNormals.vertexNormals[f];faceNormal.copy(face.normal);vertexNormals.a.copy(face.vertexNormals[0]);vertexNormals.b.copy(face.vertexNormals[1]);vertexNormals.c.copy(face.vertexNormals[2]);}}// restore original normals\nfor(f=0,fl=this.faces.length;f<fl;f++){face=this.faces[f];face.normal=face.__originalFaceNormal;face.vertexNormals=face.__originalVertexNormals;}},computeLineDistances:function computeLineDistances(){var d=0;var vertices=this.vertices;for(var i=0,il=vertices.length;i<il;i++){if(i>0){d+=vertices[i].distanceTo(vertices[i-1]);}this.lineDistances[i]=d;}},computeBoundingBox:function computeBoundingBox(){if(this.boundingBox===null){this.boundingBox=new Box3();}this.boundingBox.setFromPoints(this.vertices);},computeBoundingSphere:function computeBoundingSphere(){if(this.boundingSphere===null){this.boundingSphere=new Sphere();}this.boundingSphere.setFromPoints(this.vertices);},merge:function merge(geometry,matrix,materialIndexOffset){if(!(geometry&&geometry.isGeometry)){console.error('THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.',geometry);return;}var normalMatrix,vertexOffset=this.vertices.length,vertices1=this.vertices,vertices2=geometry.vertices,faces1=this.faces,faces2=geometry.faces,uvs1=this.faceVertexUvs[0],uvs2=geometry.faceVertexUvs[0],colors1=this.colors,colors2=geometry.colors;if(materialIndexOffset===undefined)materialIndexOffset=0;if(matrix!==undefined){normalMatrix=new Matrix3().getNormalMatrix(matrix);}// vertices\nfor(var i=0,il=vertices2.length;i<il;i++){var vertex=vertices2[i];var vertexCopy=vertex.clone();if(matrix!==undefined)vertexCopy.applyMatrix4(matrix);vertices1.push(vertexCopy);}// colors\nfor(var i=0,il=colors2.length;i<il;i++){colors1.push(colors2[i].clone());}// faces\nfor(i=0,il=faces2.length;i<il;i++){var face=faces2[i],faceCopy,normal,color,faceVertexNormals=face.vertexNormals,faceVertexColors=face.vertexColors;faceCopy=new Face3(face.a+vertexOffset,face.b+vertexOffset,face.c+vertexOffset);faceCopy.normal.copy(face.normal);if(normalMatrix!==undefined){faceCopy.normal.applyMatrix3(normalMatrix).normalize();}for(var j=0,jl=faceVertexNormals.length;j<jl;j++){normal=faceVertexNormals[j].clone();if(normalMatrix!==undefined){normal.applyMatrix3(normalMatrix).normalize();}faceCopy.vertexNormals.push(normal);}faceCopy.color.copy(face.color);for(var j=0,jl=faceVertexColors.length;j<jl;j++){color=faceVertexColors[j];faceCopy.vertexColors.push(color.clone());}faceCopy.materialIndex=face.materialIndex+materialIndexOffset;faces1.push(faceCopy);}// uvs\nfor(i=0,il=uvs2.length;i<il;i++){var uv=uvs2[i],uvCopy=[];if(uv===undefined){continue;}for(var j=0,jl=uv.length;j<jl;j++){uvCopy.push(uv[j].clone());}uvs1.push(uvCopy);}},mergeMesh:function mergeMesh(mesh){if(!(mesh&&mesh.isMesh)){console.error('THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.',mesh);return;}mesh.matrixAutoUpdate&&mesh.updateMatrix();this.merge(mesh.geometry,mesh.matrix);},/*\n   * Checks for duplicate vertices with hashmap.\n   * Duplicated vertices are removed\n   * and faces' vertices are updated.\n   */mergeVertices:function mergeVertices(){var verticesMap={};// Hashmap for looking up vertices by position coordinates (and making sure they are unique)\nvar unique=[],changes=[];var v,key;var precisionPoints=4;// number of decimal points, e.g. 4 for epsilon of 0.0001\nvar precision=Math.pow(10,precisionPoints);var i,il,face;var indices,j,jl;for(i=0,il=this.vertices.length;i<il;i++){v=this.vertices[i];key=Math.round(v.x*precision)+'_'+Math.round(v.y*precision)+'_'+Math.round(v.z*precision);if(verticesMap[key]===undefined){verticesMap[key]=i;unique.push(this.vertices[i]);changes[i]=unique.length-1;}else{//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\nchanges[i]=changes[verticesMap[key]];}}// if faces are completely degenerate after merging vertices, we\n// have to remove them from the geometry.\nvar faceIndicesToRemove=[];for(i=0,il=this.faces.length;i<il;i++){face=this.faces[i];face.a=changes[face.a];face.b=changes[face.b];face.c=changes[face.c];indices=[face.a,face.b,face.c];// if any duplicate vertices are found in a Face3\n// we have to remove the face as nothing can be saved\nfor(var n=0;n<3;n++){if(indices[n]===indices[(n+1)%3]){faceIndicesToRemove.push(i);break;}}}for(i=faceIndicesToRemove.length-1;i>=0;i--){var idx=faceIndicesToRemove[i];this.faces.splice(idx,1);for(j=0,jl=this.faceVertexUvs.length;j<jl;j++){this.faceVertexUvs[j].splice(idx,1);}}// Use unique set of vertices\nvar diff=this.vertices.length-unique.length;this.vertices=unique;return diff;},sortFacesByMaterialIndex:function sortFacesByMaterialIndex(){var faces=this.faces;var length=faces.length;// tag faces\nfor(var i=0;i<length;i++){faces[i]._id=i;}// sort faces\nfunction materialIndexSort(a,b){return a.materialIndex-b.materialIndex;}faces.sort(materialIndexSort);// sort uvs\nvar uvs1=this.faceVertexUvs[0];var uvs2=this.faceVertexUvs[1];var newUvs1,newUvs2;if(uvs1&&uvs1.length===length)newUvs1=[];if(uvs2&&uvs2.length===length)newUvs2=[];for(var i=0;i<length;i++){var id=faces[i]._id;if(newUvs1)newUvs1.push(uvs1[id]);if(newUvs2)newUvs2.push(uvs2[id]);}if(newUvs1)this.faceVertexUvs[0]=newUvs1;if(newUvs2)this.faceVertexUvs[1]=newUvs2;},toJSON:function toJSON(){var data={metadata:{version:4.5,type:'Geometry',generator:'Geometry.toJSON'}};// standard Geometry serialization\ndata.uuid=this.uuid;data.type=this.type;if(this.name!=='')data.name=this.name;if(this.parameters!==undefined){var parameters=this.parameters;for(var key in parameters){if(parameters[key]!==undefined)data[key]=parameters[key];}return data;}var vertices=[];for(var i=0;i<this.vertices.length;i++){var vertex=this.vertices[i];vertices.push(vertex.x,vertex.y,vertex.z);}var faces=[];var normals=[];var normalsHash={};var colors=[];var colorsHash={};var uvs=[];var uvsHash={};for(var i=0;i<this.faces.length;i++){var face=this.faces[i];var hasMaterial=true;var hasFaceUv=false;// deprecated\nvar hasFaceVertexUv=this.faceVertexUvs[0][i]!==undefined;var hasFaceNormal=face.normal.length()>0;var hasFaceVertexNormal=face.vertexNormals.length>0;var hasFaceColor=face.color.r!==1||face.color.g!==1||face.color.b!==1;var hasFaceVertexColor=face.vertexColors.length>0;var faceType=0;faceType=setBit(faceType,0,0);// isQuad\nfaceType=setBit(faceType,1,hasMaterial);faceType=setBit(faceType,2,hasFaceUv);faceType=setBit(faceType,3,hasFaceVertexUv);faceType=setBit(faceType,4,hasFaceNormal);faceType=setBit(faceType,5,hasFaceVertexNormal);faceType=setBit(faceType,6,hasFaceColor);faceType=setBit(faceType,7,hasFaceVertexColor);faces.push(faceType);faces.push(face.a,face.b,face.c);faces.push(face.materialIndex);if(hasFaceVertexUv){var faceVertexUvs=this.faceVertexUvs[0][i];faces.push(getUvIndex(faceVertexUvs[0]),getUvIndex(faceVertexUvs[1]),getUvIndex(faceVertexUvs[2]));}if(hasFaceNormal){faces.push(getNormalIndex(face.normal));}if(hasFaceVertexNormal){var vertexNormals=face.vertexNormals;faces.push(getNormalIndex(vertexNormals[0]),getNormalIndex(vertexNormals[1]),getNormalIndex(vertexNormals[2]));}if(hasFaceColor){faces.push(getColorIndex(face.color));}if(hasFaceVertexColor){var vertexColors=face.vertexColors;faces.push(getColorIndex(vertexColors[0]),getColorIndex(vertexColors[1]),getColorIndex(vertexColors[2]));}}function setBit(value,position,enabled){return enabled?value|1<<position:value&~(1<<position);}function getNormalIndex(normal){var hash=normal.x.toString()+normal.y.toString()+normal.z.toString();if(normalsHash[hash]!==undefined){return normalsHash[hash];}normalsHash[hash]=normals.length/3;normals.push(normal.x,normal.y,normal.z);return normalsHash[hash];}function getColorIndex(color){var hash=color.r.toString()+color.g.toString()+color.b.toString();if(colorsHash[hash]!==undefined){return colorsHash[hash];}colorsHash[hash]=colors.length;colors.push(color.getHex());return colorsHash[hash];}function getUvIndex(uv){var hash=uv.x.toString()+uv.y.toString();if(uvsHash[hash]!==undefined){return uvsHash[hash];}uvsHash[hash]=uvs.length/2;uvs.push(uv.x,uv.y);return uvsHash[hash];}data.data={};data.data.vertices=vertices;data.data.normals=normals;if(colors.length>0)data.data.colors=colors;if(uvs.length>0)data.data.uvs=[uvs];// temporal backward compatibility\ndata.data.faces=faces;return data;},clone:function clone(){/*\n     // Handle primitives\n\n     var parameters = this.parameters;\n\n     if ( parameters !== undefined ) {\n\n     var values = [];\n\n     for ( var key in parameters ) {\n\n     values.push( parameters[ key ] );\n\n     }\n\n     var geometry = Object.create( this.constructor.prototype );\n     this.constructor.apply( geometry, values );\n     return geometry;\n\n     }\n\n     return new this.constructor().copy( this );\n     */return new Geometry().copy(this);},copy:function copy(source){var i,il,j,jl,k,kl;// reset\nthis.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingBox=null;this.boundingSphere=null;// name\nthis.name=source.name;// vertices\nvar vertices=source.vertices;for(i=0,il=vertices.length;i<il;i++){this.vertices.push(vertices[i].clone());}// colors\nvar colors=source.colors;for(i=0,il=colors.length;i<il;i++){this.colors.push(colors[i].clone());}// faces\nvar faces=source.faces;for(i=0,il=faces.length;i<il;i++){this.faces.push(faces[i].clone());}// face vertex uvs\nfor(i=0,il=source.faceVertexUvs.length;i<il;i++){var faceVertexUvs=source.faceVertexUvs[i];if(this.faceVertexUvs[i]===undefined){this.faceVertexUvs[i]=[];}for(j=0,jl=faceVertexUvs.length;j<jl;j++){var uvs=faceVertexUvs[j],uvsCopy=[];for(k=0,kl=uvs.length;k<kl;k++){var uv=uvs[k];uvsCopy.push(uv.clone());}this.faceVertexUvs[i].push(uvsCopy);}}// morph targets\nvar morphTargets=source.morphTargets;for(i=0,il=morphTargets.length;i<il;i++){var morphTarget={};morphTarget.name=morphTargets[i].name;// vertices\nif(morphTargets[i].vertices!==undefined){morphTarget.vertices=[];for(j=0,jl=morphTargets[i].vertices.length;j<jl;j++){morphTarget.vertices.push(morphTargets[i].vertices[j].clone());}}// normals\nif(morphTargets[i].normals!==undefined){morphTarget.normals=[];for(j=0,jl=morphTargets[i].normals.length;j<jl;j++){morphTarget.normals.push(morphTargets[i].normals[j].clone());}}this.morphTargets.push(morphTarget);}// morph normals\nvar morphNormals=source.morphNormals;for(i=0,il=morphNormals.length;i<il;i++){var morphNormal={};// vertex normals\nif(morphNormals[i].vertexNormals!==undefined){morphNormal.vertexNormals=[];for(j=0,jl=morphNormals[i].vertexNormals.length;j<jl;j++){var srcVertexNormal=morphNormals[i].vertexNormals[j];var destVertexNormal={};destVertexNormal.a=srcVertexNormal.a.clone();destVertexNormal.b=srcVertexNormal.b.clone();destVertexNormal.c=srcVertexNormal.c.clone();morphNormal.vertexNormals.push(destVertexNormal);}}// face normals\nif(morphNormals[i].faceNormals!==undefined){morphNormal.faceNormals=[];for(j=0,jl=morphNormals[i].faceNormals.length;j<jl;j++){morphNormal.faceNormals.push(morphNormals[i].faceNormals[j].clone());}}this.morphNormals.push(morphNormal);}// skin weights\nvar skinWeights=source.skinWeights;for(i=0,il=skinWeights.length;i<il;i++){this.skinWeights.push(skinWeights[i].clone());}// skin indices\nvar skinIndices=source.skinIndices;for(i=0,il=skinIndices.length;i<il;i++){this.skinIndices.push(skinIndices[i].clone());}// line distances\nvar lineDistances=source.lineDistances;for(i=0,il=lineDistances.length;i<il;i++){this.lineDistances.push(lineDistances[i]);}// bounding box\nvar boundingBox=source.boundingBox;if(boundingBox!==null){this.boundingBox=boundingBox.clone();}// bounding sphere\nvar boundingSphere=source.boundingSphere;if(boundingSphere!==null){this.boundingSphere=boundingSphere.clone();}// update flags\nthis.elementsNeedUpdate=source.elementsNeedUpdate;this.verticesNeedUpdate=source.verticesNeedUpdate;this.uvsNeedUpdate=source.uvsNeedUpdate;this.normalsNeedUpdate=source.normalsNeedUpdate;this.colorsNeedUpdate=source.colorsNeedUpdate;this.lineDistancesNeedUpdate=source.lineDistancesNeedUpdate;this.groupsNeedUpdate=source.groupsNeedUpdate;return this;},dispose:function dispose(){this.dispatchEvent({type:'dispose'});}});/**\n * @author mrdoob / http://mrdoob.com/\n */function BufferAttribute(array,itemSize,normalized){if(Array.isArray(array)){throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');}this.uuid=_Math.generateUUID();this.name='';this.array=array;this.itemSize=itemSize;this.count=array!==undefined?array.length/itemSize:0;this.normalized=normalized===true;this.dynamic=false;this.updateRange={offset:0,count:-1};this.onUploadCallback=function(){};this.version=0;}Object.defineProperty(BufferAttribute.prototype,'needsUpdate',{set:function set(value){if(value===true)this.version++;}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(BufferAttribute.prototype,{isBufferAttribute:true,setArray:function setArray(array){if(Array.isArray(array)){throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');}this.count=array!==undefined?array.length/this.itemSize:0;this.array=array;},setDynamic:function setDynamic(value){this.dynamic=value;return this;},copy:function copy(source){this.array=new source.array.constructor(source.array);this.itemSize=source.itemSize;this.count=source.count;this.normalized=source.normalized;this.dynamic=source.dynamic;return this;},copyAt:function copyAt(index1,attribute,index2){index1*=this.itemSize;index2*=attribute.itemSize;for(var i=0,l=this.itemSize;i<l;i++){this.array[index1+i]=attribute.array[index2+i];}return this;},copyArray:function copyArray(array){this.array.set(array);return this;},copyColorsArray:function copyColorsArray(colors){var array=this.array,offset=0;for(var i=0,l=colors.length;i<l;i++){var color=colors[i];if(color===undefined){console.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined',i);color=new Color();}array[offset++]=color.r;array[offset++]=color.g;array[offset++]=color.b;}return this;},copyIndicesArray:function copyIndicesArray(indices){var array=this.array,offset=0;for(var i=0,l=indices.length;i<l;i++){var index=indices[i];array[offset++]=index.a;array[offset++]=index.b;array[offset++]=index.c;}return this;},copyVector2sArray:function copyVector2sArray(vectors){var array=this.array,offset=0;for(var i=0,l=vectors.length;i<l;i++){var vector=vectors[i];if(vector===undefined){console.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined',i);vector=new Vector2();}array[offset++]=vector.x;array[offset++]=vector.y;}return this;},copyVector3sArray:function copyVector3sArray(vectors){var array=this.array,offset=0;for(var i=0,l=vectors.length;i<l;i++){var vector=vectors[i];if(vector===undefined){console.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined',i);vector=new Vector3();}array[offset++]=vector.x;array[offset++]=vector.y;array[offset++]=vector.z;}return this;},copyVector4sArray:function copyVector4sArray(vectors){var array=this.array,offset=0;for(var i=0,l=vectors.length;i<l;i++){var vector=vectors[i];if(vector===undefined){console.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined',i);vector=new Vector4();}array[offset++]=vector.x;array[offset++]=vector.y;array[offset++]=vector.z;array[offset++]=vector.w;}return this;},set:function set(value,offset){if(offset===undefined)offset=0;this.array.set(value,offset);return this;},getX:function getX(index){return this.array[index*this.itemSize];},setX:function setX(index,x){this.array[index*this.itemSize]=x;return this;},getY:function getY(index){return this.array[index*this.itemSize+1];},setY:function setY(index,y){this.array[index*this.itemSize+1]=y;return this;},getZ:function getZ(index){return this.array[index*this.itemSize+2];},setZ:function setZ(index,z){this.array[index*this.itemSize+2]=z;return this;},getW:function getW(index){return this.array[index*this.itemSize+3];},setW:function setW(index,w){this.array[index*this.itemSize+3]=w;return this;},setXY:function setXY(index,x,y){index*=this.itemSize;this.array[index+0]=x;this.array[index+1]=y;return this;},setXYZ:function setXYZ(index,x,y,z){index*=this.itemSize;this.array[index+0]=x;this.array[index+1]=y;this.array[index+2]=z;return this;},setXYZW:function setXYZW(index,x,y,z,w){index*=this.itemSize;this.array[index+0]=x;this.array[index+1]=y;this.array[index+2]=z;this.array[index+3]=w;return this;},onUpload:function onUpload(callback){this.onUploadCallback=callback;return this;},clone:function clone(){return new this.constructor(this.array,this.itemSize).copy(this);}});//\nfunction Int8BufferAttribute(array,itemSize){BufferAttribute.call(this,new Int8Array(array),itemSize);}Int8BufferAttribute.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferAttribute.prototype);Int8BufferAttribute.prototype.constructor=Int8BufferAttribute;function Uint8BufferAttribute(array,itemSize){BufferAttribute.call(this,new Uint8Array(array),itemSize);}Uint8BufferAttribute.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferAttribute.prototype);Uint8BufferAttribute.prototype.constructor=Uint8BufferAttribute;function Uint8ClampedBufferAttribute(array,itemSize){BufferAttribute.call(this,new Uint8ClampedArray(array),itemSize);}Uint8ClampedBufferAttribute.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferAttribute.prototype);Uint8ClampedBufferAttribute.prototype.constructor=Uint8ClampedBufferAttribute;function Int16BufferAttribute(array,itemSize){BufferAttribute.call(this,new Int16Array(array),itemSize);}Int16BufferAttribute.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferAttribute.prototype);Int16BufferAttribute.prototype.constructor=Int16BufferAttribute;function Uint16BufferAttribute(array,itemSize){BufferAttribute.call(this,new Uint16Array(array),itemSize);}Uint16BufferAttribute.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferAttribute.prototype);Uint16BufferAttribute.prototype.constructor=Uint16BufferAttribute;function Int32BufferAttribute(array,itemSize){BufferAttribute.call(this,new Int32Array(array),itemSize);}Int32BufferAttribute.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferAttribute.prototype);Int32BufferAttribute.prototype.constructor=Int32BufferAttribute;function Uint32BufferAttribute(array,itemSize){BufferAttribute.call(this,new Uint32Array(array),itemSize);}Uint32BufferAttribute.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferAttribute.prototype);Uint32BufferAttribute.prototype.constructor=Uint32BufferAttribute;function Float32BufferAttribute(array,itemSize){BufferAttribute.call(this,new Float32Array(array),itemSize);}Float32BufferAttribute.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferAttribute.prototype);Float32BufferAttribute.prototype.constructor=Float32BufferAttribute;function Float64BufferAttribute(array,itemSize){BufferAttribute.call(this,new Float64Array(array),itemSize);}Float64BufferAttribute.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferAttribute.prototype);Float64BufferAttribute.prototype.constructor=Float64BufferAttribute;/**\n * @author mrdoob / http://mrdoob.com/\n */function DirectGeometry(){this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];// this.lineDistances = [];\nthis.boundingBox=null;this.boundingSphere=null;// update flags\nthis.verticesNeedUpdate=false;this.normalsNeedUpdate=false;this.colorsNeedUpdate=false;this.uvsNeedUpdate=false;this.groupsNeedUpdate=false;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(DirectGeometry.prototype,{computeGroups:function computeGroups(geometry){var group;var groups=[];var materialIndex=undefined;var faces=geometry.faces;for(var i=0;i<faces.length;i++){var face=faces[i];// materials\nif(face.materialIndex!==materialIndex){materialIndex=face.materialIndex;if(group!==undefined){group.count=i*3-group.start;groups.push(group);}group={start:i*3,materialIndex:materialIndex};}}if(group!==undefined){group.count=i*3-group.start;groups.push(group);}this.groups=groups;},fromGeometry:function fromGeometry(geometry){var faces=geometry.faces;var vertices=geometry.vertices;var faceVertexUvs=geometry.faceVertexUvs;var hasFaceVertexUv=faceVertexUvs[0]&&faceVertexUvs[0].length>0;var hasFaceVertexUv2=faceVertexUvs[1]&&faceVertexUvs[1].length>0;// morphs\nvar morphTargets=geometry.morphTargets;var morphTargetsLength=morphTargets.length;var morphTargetsPosition;if(morphTargetsLength>0){morphTargetsPosition=[];for(var i=0;i<morphTargetsLength;i++){morphTargetsPosition[i]=[];}this.morphTargets.position=morphTargetsPosition;}var morphNormals=geometry.morphNormals;var morphNormalsLength=morphNormals.length;var morphTargetsNormal;if(morphNormalsLength>0){morphTargetsNormal=[];for(var i=0;i<morphNormalsLength;i++){morphTargetsNormal[i]=[];}this.morphTargets.normal=morphTargetsNormal;}// skins\nvar skinIndices=geometry.skinIndices;var skinWeights=geometry.skinWeights;var hasSkinIndices=skinIndices.length===vertices.length;var hasSkinWeights=skinWeights.length===vertices.length;//\nfor(var i=0;i<faces.length;i++){var face=faces[i];this.vertices.push(vertices[face.a],vertices[face.b],vertices[face.c]);var vertexNormals=face.vertexNormals;if(vertexNormals.length===3){this.normals.push(vertexNormals[0],vertexNormals[1],vertexNormals[2]);}else{var normal=face.normal;this.normals.push(normal,normal,normal);}var vertexColors=face.vertexColors;if(vertexColors.length===3){this.colors.push(vertexColors[0],vertexColors[1],vertexColors[2]);}else{var color=face.color;this.colors.push(color,color,color);}if(hasFaceVertexUv===true){var vertexUvs=faceVertexUvs[0][i];if(vertexUvs!==undefined){this.uvs.push(vertexUvs[0],vertexUvs[1],vertexUvs[2]);}else{console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ',i);this.uvs.push(new Vector2(),new Vector2(),new Vector2());}}if(hasFaceVertexUv2===true){var vertexUvs=faceVertexUvs[1][i];if(vertexUvs!==undefined){this.uvs2.push(vertexUvs[0],vertexUvs[1],vertexUvs[2]);}else{console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ',i);this.uvs2.push(new Vector2(),new Vector2(),new Vector2());}}// morphs\nfor(var j=0;j<morphTargetsLength;j++){var morphTarget=morphTargets[j].vertices;morphTargetsPosition[j].push(morphTarget[face.a],morphTarget[face.b],morphTarget[face.c]);}for(var j=0;j<morphNormalsLength;j++){var morphNormal=morphNormals[j].vertexNormals[i];morphTargetsNormal[j].push(morphNormal.a,morphNormal.b,morphNormal.c);}// skins\nif(hasSkinIndices){this.skinIndices.push(skinIndices[face.a],skinIndices[face.b],skinIndices[face.c]);}if(hasSkinWeights){this.skinWeights.push(skinWeights[face.a],skinWeights[face.b],skinWeights[face.c]);}}this.computeGroups(geometry);this.verticesNeedUpdate=geometry.verticesNeedUpdate;this.normalsNeedUpdate=geometry.normalsNeedUpdate;this.colorsNeedUpdate=geometry.colorsNeedUpdate;this.uvsNeedUpdate=geometry.uvsNeedUpdate;this.groupsNeedUpdate=geometry.groupsNeedUpdate;return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n */function arrayMax(array){if(array.length===0)return-Infinity;var max=array[0];for(var i=1,l=array.length;i<l;++i){if(array[i]>max)max=array[i];}return max;}/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */function BufferGeometry(){Object.defineProperty(this,'id',{value:GeometryIdCount()});this.uuid=_Math.generateUUID();this.name='';this.type='BufferGeometry';this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingBox=null;this.boundingSphere=null;this.drawRange={start:0,count:Infinity};}BufferGeometry.MaxIndex=65535;__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(BufferGeometry.prototype,EventDispatcher.prototype,{isBufferGeometry:true,getIndex:function getIndex(){return this.index;},setIndex:function setIndex(index){if(Array.isArray(index)){this.index=new(arrayMax(index)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(index,1);}else{this.index=index;}},addAttribute:function addAttribute(name,attribute){if(!(attribute&&attribute.isBufferAttribute)&&!(attribute&&attribute.isInterleavedBufferAttribute)){console.warn('THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).');this.addAttribute(name,new BufferAttribute(arguments[1],arguments[2]));return;}if(name==='index'){console.warn('THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.');this.setIndex(attribute);return;}this.attributes[name]=attribute;return this;},getAttribute:function getAttribute(name){return this.attributes[name];},removeAttribute:function removeAttribute(name){delete this.attributes[name];return this;},addGroup:function addGroup(start,count,materialIndex){this.groups.push({start:start,count:count,materialIndex:materialIndex!==undefined?materialIndex:0});},clearGroups:function clearGroups(){this.groups=[];},setDrawRange:function setDrawRange(start,count){this.drawRange.start=start;this.drawRange.count=count;},applyMatrix:function applyMatrix(matrix){var position=this.attributes.position;if(position!==undefined){matrix.applyToBufferAttribute(position);position.needsUpdate=true;}var normal=this.attributes.normal;if(normal!==undefined){var normalMatrix=new Matrix3().getNormalMatrix(matrix);normalMatrix.applyToBufferAttribute(normal);normal.needsUpdate=true;}if(this.boundingBox!==null){this.computeBoundingBox();}if(this.boundingSphere!==null){this.computeBoundingSphere();}return this;},rotateX:function(){// rotate geometry around world x-axis\nvar m1=new Matrix4();return function rotateX(angle){m1.makeRotationX(angle);this.applyMatrix(m1);return this;};}(),rotateY:function(){// rotate geometry around world y-axis\nvar m1=new Matrix4();return function rotateY(angle){m1.makeRotationY(angle);this.applyMatrix(m1);return this;};}(),rotateZ:function(){// rotate geometry around world z-axis\nvar m1=new Matrix4();return function rotateZ(angle){m1.makeRotationZ(angle);this.applyMatrix(m1);return this;};}(),translate:function(){// translate geometry\nvar m1=new Matrix4();return function translate(x,y,z){m1.makeTranslation(x,y,z);this.applyMatrix(m1);return this;};}(),scale:function(){// scale geometry\nvar m1=new Matrix4();return function scale(x,y,z){m1.makeScale(x,y,z);this.applyMatrix(m1);return this;};}(),lookAt:function(){var obj=new Object3D();return function lookAt(vector){obj.lookAt(vector);obj.updateMatrix();this.applyMatrix(obj.matrix);};}(),center:function center(){this.computeBoundingBox();var offset=this.boundingBox.getCenter().negate();this.translate(offset.x,offset.y,offset.z);return offset;},setFromObject:function setFromObject(object){// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\nvar geometry=object.geometry;if(object.isPoints||object.isLine){var positions=new Float32BufferAttribute(geometry.vertices.length*3,3);var colors=new Float32BufferAttribute(geometry.colors.length*3,3);this.addAttribute('position',positions.copyVector3sArray(geometry.vertices));this.addAttribute('color',colors.copyColorsArray(geometry.colors));if(geometry.lineDistances&&geometry.lineDistances.length===geometry.vertices.length){var lineDistances=new Float32BufferAttribute(geometry.lineDistances.length,1);this.addAttribute('lineDistance',lineDistances.copyArray(geometry.lineDistances));}if(geometry.boundingSphere!==null){this.boundingSphere=geometry.boundingSphere.clone();}if(geometry.boundingBox!==null){this.boundingBox=geometry.boundingBox.clone();}}else if(object.isMesh){if(geometry&&geometry.isGeometry){this.fromGeometry(geometry);}}return this;},updateFromObject:function updateFromObject(object){var geometry=object.geometry;if(object.isMesh){var direct=geometry.__directGeometry;if(geometry.elementsNeedUpdate===true){direct=undefined;geometry.elementsNeedUpdate=false;}if(direct===undefined){return this.fromGeometry(geometry);}direct.verticesNeedUpdate=geometry.verticesNeedUpdate;direct.normalsNeedUpdate=geometry.normalsNeedUpdate;direct.colorsNeedUpdate=geometry.colorsNeedUpdate;direct.uvsNeedUpdate=geometry.uvsNeedUpdate;direct.groupsNeedUpdate=geometry.groupsNeedUpdate;geometry.verticesNeedUpdate=false;geometry.normalsNeedUpdate=false;geometry.colorsNeedUpdate=false;geometry.uvsNeedUpdate=false;geometry.groupsNeedUpdate=false;geometry=direct;}var attribute;if(geometry.verticesNeedUpdate===true){attribute=this.attributes.position;if(attribute!==undefined){attribute.copyVector3sArray(geometry.vertices);attribute.needsUpdate=true;}geometry.verticesNeedUpdate=false;}if(geometry.normalsNeedUpdate===true){attribute=this.attributes.normal;if(attribute!==undefined){attribute.copyVector3sArray(geometry.normals);attribute.needsUpdate=true;}geometry.normalsNeedUpdate=false;}if(geometry.colorsNeedUpdate===true){attribute=this.attributes.color;if(attribute!==undefined){attribute.copyColorsArray(geometry.colors);attribute.needsUpdate=true;}geometry.colorsNeedUpdate=false;}if(geometry.uvsNeedUpdate){attribute=this.attributes.uv;if(attribute!==undefined){attribute.copyVector2sArray(geometry.uvs);attribute.needsUpdate=true;}geometry.uvsNeedUpdate=false;}if(geometry.lineDistancesNeedUpdate){attribute=this.attributes.lineDistance;if(attribute!==undefined){attribute.copyArray(geometry.lineDistances);attribute.needsUpdate=true;}geometry.lineDistancesNeedUpdate=false;}if(geometry.groupsNeedUpdate){geometry.computeGroups(object.geometry);this.groups=geometry.groups;geometry.groupsNeedUpdate=false;}return this;},fromGeometry:function fromGeometry(geometry){geometry.__directGeometry=new DirectGeometry().fromGeometry(geometry);return this.fromDirectGeometry(geometry.__directGeometry);},fromDirectGeometry:function fromDirectGeometry(geometry){var positions=new Float32Array(geometry.vertices.length*3);this.addAttribute('position',new BufferAttribute(positions,3).copyVector3sArray(geometry.vertices));if(geometry.normals.length>0){var normals=new Float32Array(geometry.normals.length*3);this.addAttribute('normal',new BufferAttribute(normals,3).copyVector3sArray(geometry.normals));}if(geometry.colors.length>0){var colors=new Float32Array(geometry.colors.length*3);this.addAttribute('color',new BufferAttribute(colors,3).copyColorsArray(geometry.colors));}if(geometry.uvs.length>0){var uvs=new Float32Array(geometry.uvs.length*2);this.addAttribute('uv',new BufferAttribute(uvs,2).copyVector2sArray(geometry.uvs));}if(geometry.uvs2.length>0){var uvs2=new Float32Array(geometry.uvs2.length*2);this.addAttribute('uv2',new BufferAttribute(uvs2,2).copyVector2sArray(geometry.uvs2));}if(geometry.indices.length>0){var TypeArray=arrayMax(geometry.indices)>65535?Uint32Array:Uint16Array;var indices=new TypeArray(geometry.indices.length*3);this.setIndex(new BufferAttribute(indices,1).copyIndicesArray(geometry.indices));}// groups\nthis.groups=geometry.groups;// morphs\nfor(var name in geometry.morphTargets){var array=[];var morphTargets=geometry.morphTargets[name];for(var i=0,l=morphTargets.length;i<l;i++){var morphTarget=morphTargets[i];var attribute=new Float32BufferAttribute(morphTarget.length*3,3);array.push(attribute.copyVector3sArray(morphTarget));}this.morphAttributes[name]=array;}// skinning\nif(geometry.skinIndices.length>0){var skinIndices=new Float32BufferAttribute(geometry.skinIndices.length*4,4);this.addAttribute('skinIndex',skinIndices.copyVector4sArray(geometry.skinIndices));}if(geometry.skinWeights.length>0){var skinWeights=new Float32BufferAttribute(geometry.skinWeights.length*4,4);this.addAttribute('skinWeight',skinWeights.copyVector4sArray(geometry.skinWeights));}//\nif(geometry.boundingSphere!==null){this.boundingSphere=geometry.boundingSphere.clone();}if(geometry.boundingBox!==null){this.boundingBox=geometry.boundingBox.clone();}return this;},computeBoundingBox:function computeBoundingBox(){if(this.boundingBox===null){this.boundingBox=new Box3();}var position=this.attributes.position;if(position!==undefined){this.boundingBox.setFromBufferAttribute(position);}else{this.boundingBox.makeEmpty();}if(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)){console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.',this);}},computeBoundingSphere:function(){var box=new Box3();var vector=new Vector3();return function computeBoundingSphere(){if(this.boundingSphere===null){this.boundingSphere=new Sphere();}var position=this.attributes.position;if(position){var center=this.boundingSphere.center;box.setFromBufferAttribute(position);box.getCenter(center);// hoping to find a boundingSphere with a radius smaller than the\n// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\nvar maxRadiusSq=0;for(var i=0,il=position.count;i<il;i++){vector.x=position.getX(i);vector.y=position.getY(i);vector.z=position.getZ(i);maxRadiusSq=Math.max(maxRadiusSq,center.distanceToSquared(vector));}this.boundingSphere.radius=Math.sqrt(maxRadiusSq);if(isNaN(this.boundingSphere.radius)){console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.',this);}}};}(),computeFaceNormals:function computeFaceNormals(){// backwards compatibility\n},computeVertexNormals:function computeVertexNormals(){var index=this.index;var attributes=this.attributes;var groups=this.groups;if(attributes.position){var positions=attributes.position.array;if(attributes.normal===undefined){this.addAttribute('normal',new BufferAttribute(new Float32Array(positions.length),3));}else{// reset existing normals to zero\nvar array=attributes.normal.array;for(var i=0,il=array.length;i<il;i++){array[i]=0;}}var normals=attributes.normal.array;var vA,vB,vC;var pA=new Vector3(),pB=new Vector3(),pC=new Vector3();var cb=new Vector3(),ab=new Vector3();// indexed elements\nif(index){var indices=index.array;if(groups.length===0){this.addGroup(0,indices.length);}for(var j=0,jl=groups.length;j<jl;++j){var group=groups[j];var start=group.start;var count=group.count;for(var i=start,il=start+count;i<il;i+=3){vA=indices[i+0]*3;vB=indices[i+1]*3;vC=indices[i+2]*3;pA.fromArray(positions,vA);pB.fromArray(positions,vB);pC.fromArray(positions,vC);cb.subVectors(pC,pB);ab.subVectors(pA,pB);cb.cross(ab);normals[vA]+=cb.x;normals[vA+1]+=cb.y;normals[vA+2]+=cb.z;normals[vB]+=cb.x;normals[vB+1]+=cb.y;normals[vB+2]+=cb.z;normals[vC]+=cb.x;normals[vC+1]+=cb.y;normals[vC+2]+=cb.z;}}}else{// non-indexed elements (unconnected triangle soup)\nfor(var i=0,il=positions.length;i<il;i+=9){pA.fromArray(positions,i);pB.fromArray(positions,i+3);pC.fromArray(positions,i+6);cb.subVectors(pC,pB);ab.subVectors(pA,pB);cb.cross(ab);normals[i]=cb.x;normals[i+1]=cb.y;normals[i+2]=cb.z;normals[i+3]=cb.x;normals[i+4]=cb.y;normals[i+5]=cb.z;normals[i+6]=cb.x;normals[i+7]=cb.y;normals[i+8]=cb.z;}}this.normalizeNormals();attributes.normal.needsUpdate=true;}},merge:function merge(geometry,offset){if(!(geometry&&geometry.isBufferGeometry)){console.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.',geometry);return;}if(offset===undefined)offset=0;var attributes=this.attributes;for(var key in attributes){if(geometry.attributes[key]===undefined)continue;var attribute1=attributes[key];var attributeArray1=attribute1.array;var attribute2=geometry.attributes[key];var attributeArray2=attribute2.array;var attributeSize=attribute2.itemSize;for(var i=0,j=attributeSize*offset;i<attributeArray2.length;i++,j++){attributeArray1[j]=attributeArray2[i];}}return this;},normalizeNormals:function(){var vector=new Vector3();return function normalizeNormals(){var normals=this.attributes.normal;for(var i=0,il=normals.count;i<il;i++){vector.x=normals.getX(i);vector.y=normals.getY(i);vector.z=normals.getZ(i);vector.normalize();normals.setXYZ(i,vector.x,vector.y,vector.z);}};}(),toNonIndexed:function toNonIndexed(){if(this.index===null){console.warn('THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.');return this;}var geometry2=new BufferGeometry();var indices=this.index.array;var attributes=this.attributes;for(var name in attributes){var attribute=attributes[name];var array=attribute.array;var itemSize=attribute.itemSize;var array2=new array.constructor(indices.length*itemSize);var index=0,index2=0;for(var i=0,l=indices.length;i<l;i++){index=indices[i]*itemSize;for(var j=0;j<itemSize;j++){array2[index2++]=array[index++];}}geometry2.addAttribute(name,new BufferAttribute(array2,itemSize));}return geometry2;},toJSON:function toJSON(){var data={metadata:{version:4.5,type:'BufferGeometry',generator:'BufferGeometry.toJSON'}};// standard BufferGeometry serialization\ndata.uuid=this.uuid;data.type=this.type;if(this.name!=='')data.name=this.name;if(this.parameters!==undefined){var parameters=this.parameters;for(var key in parameters){if(parameters[key]!==undefined)data[key]=parameters[key];}return data;}data.data={attributes:{}};var index=this.index;if(index!==null){var array=Array.prototype.slice.call(index.array);data.data.index={type:index.array.constructor.name,array:array};}var attributes=this.attributes;for(var key in attributes){var attribute=attributes[key];var array=Array.prototype.slice.call(attribute.array);data.data.attributes[key]={itemSize:attribute.itemSize,type:attribute.array.constructor.name,array:array,normalized:attribute.normalized};}var groups=this.groups;if(groups.length>0){data.data.groups=JSON.parse(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default()(groups));}var boundingSphere=this.boundingSphere;if(boundingSphere!==null){data.data.boundingSphere={center:boundingSphere.center.toArray(),radius:boundingSphere.radius};}return data;},clone:function clone(){/*\n     // Handle primitives\n\n     var parameters = this.parameters;\n\n     if ( parameters !== undefined ) {\n\n     var values = [];\n\n     for ( var key in parameters ) {\n\n     values.push( parameters[ key ] );\n\n     }\n\n     var geometry = Object.create( this.constructor.prototype );\n     this.constructor.apply( geometry, values );\n     return geometry;\n\n     }\n\n     return new this.constructor().copy( this );\n     */return new BufferGeometry().copy(this);},copy:function copy(source){var name,i,l;// reset\nthis.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingBox=null;this.boundingSphere=null;// name\nthis.name=source.name;// index\nvar index=source.index;if(index!==null){this.setIndex(index.clone());}// attributes\nvar attributes=source.attributes;for(name in attributes){var attribute=attributes[name];this.addAttribute(name,attribute.clone());}// morph attributes\nvar morphAttributes=source.morphAttributes;for(name in morphAttributes){var array=[];var morphAttribute=morphAttributes[name];// morphAttribute: array of Float32BufferAttributes\nfor(i=0,l=morphAttribute.length;i<l;i++){array.push(morphAttribute[i].clone());}this.morphAttributes[name]=array;}// groups\nvar groups=source.groups;for(i=0,l=groups.length;i<l;i++){var group=groups[i];this.addGroup(group.start,group.count,group.materialIndex);}// bounding box\nvar boundingBox=source.boundingBox;if(boundingBox!==null){this.boundingBox=boundingBox.clone();}// bounding sphere\nvar boundingSphere=source.boundingSphere;if(boundingSphere!==null){this.boundingSphere=boundingSphere.clone();}// draw range\nthis.drawRange.start=source.drawRange.start;this.drawRange.count=source.drawRange.count;return this;},dispose:function dispose(){this.dispatchEvent({type:'dispose'});}});/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */// BoxGeometry\nfunction BoxGeometry(width,height,depth,widthSegments,heightSegments,depthSegments){Geometry.call(this);this.type='BoxGeometry';this.parameters={width:width,height:height,depth:depth,widthSegments:widthSegments,heightSegments:heightSegments,depthSegments:depthSegments};this.fromBufferGeometry(new BoxBufferGeometry(width,height,depth,widthSegments,heightSegments,depthSegments));this.mergeVertices();}BoxGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);BoxGeometry.prototype.constructor=BoxGeometry;// BoxBufferGeometry\nfunction BoxBufferGeometry(width,height,depth,widthSegments,heightSegments,depthSegments){BufferGeometry.call(this);this.type='BoxBufferGeometry';this.parameters={width:width,height:height,depth:depth,widthSegments:widthSegments,heightSegments:heightSegments,depthSegments:depthSegments};var scope=this;// segments\nwidthSegments=Math.floor(widthSegments)||1;heightSegments=Math.floor(heightSegments)||1;depthSegments=Math.floor(depthSegments)||1;// buffers\nvar indices=[];var vertices=[];var normals=[];var uvs=[];// helper variables\nvar numberOfVertices=0;var groupStart=0;// build each side of the box geometry\nbuildPlane('z','y','x',-1,-1,depth,height,width,depthSegments,heightSegments,0);// px\nbuildPlane('z','y','x',1,-1,depth,height,-width,depthSegments,heightSegments,1);// nx\nbuildPlane('x','z','y',1,1,width,depth,height,widthSegments,depthSegments,2);// py\nbuildPlane('x','z','y',1,-1,width,depth,-height,widthSegments,depthSegments,3);// ny\nbuildPlane('x','y','z',1,-1,width,height,depth,widthSegments,heightSegments,4);// pz\nbuildPlane('x','y','z',-1,-1,width,height,-depth,widthSegments,heightSegments,5);// nz\n// build geometry\nthis.setIndex(indices);this.addAttribute('position',new Float32BufferAttribute(vertices,3));this.addAttribute('normal',new Float32BufferAttribute(normals,3));this.addAttribute('uv',new Float32BufferAttribute(uvs,2));function buildPlane(u,v,w,udir,vdir,width,height,depth,gridX,gridY,materialIndex){var segmentWidth=width/gridX;var segmentHeight=height/gridY;var widthHalf=width/2;var heightHalf=height/2;var depthHalf=depth/2;var gridX1=gridX+1;var gridY1=gridY+1;var vertexCounter=0;var groupCount=0;var ix,iy;var vector=new Vector3();// generate vertices, normals and uvs\nfor(iy=0;iy<gridY1;iy++){var y=iy*segmentHeight-heightHalf;for(ix=0;ix<gridX1;ix++){var x=ix*segmentWidth-widthHalf;// set values to correct vector component\nvector[u]=x*udir;vector[v]=y*vdir;vector[w]=depthHalf;// now apply vector to vertex buffer\nvertices.push(vector.x,vector.y,vector.z);// set values to correct vector component\nvector[u]=0;vector[v]=0;vector[w]=depth>0?1:-1;// now apply vector to normal buffer\nnormals.push(vector.x,vector.y,vector.z);// uvs\nuvs.push(ix/gridX);uvs.push(1-iy/gridY);// counters\nvertexCounter+=1;}}// indices\n// 1. you need three indices to draw a single face\n// 2. a single segment consists of two faces\n// 3. so we need to generate six (2*3) indices per segment\nfor(iy=0;iy<gridY;iy++){for(ix=0;ix<gridX;ix++){var a=numberOfVertices+ix+gridX1*iy;var b=numberOfVertices+ix+gridX1*(iy+1);var c=numberOfVertices+(ix+1)+gridX1*(iy+1);var d=numberOfVertices+(ix+1)+gridX1*iy;// faces\nindices.push(a,b,d);indices.push(b,c,d);// increase counter\ngroupCount+=6;}}// add a group to the geometry. this will ensure multi material support\nscope.addGroup(groupStart,groupCount,materialIndex);// calculate new start value for groups\ngroupStart+=groupCount;// update total number of vertices\nnumberOfVertices+=vertexCounter;}}BoxBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);BoxBufferGeometry.prototype.constructor=BoxBufferGeometry;/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */// PlaneGeometry\nfunction PlaneGeometry(width,height,widthSegments,heightSegments){Geometry.call(this);this.type='PlaneGeometry';this.parameters={width:width,height:height,widthSegments:widthSegments,heightSegments:heightSegments};this.fromBufferGeometry(new PlaneBufferGeometry(width,height,widthSegments,heightSegments));this.mergeVertices();}PlaneGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);PlaneGeometry.prototype.constructor=PlaneGeometry;// PlaneBufferGeometry\nfunction PlaneBufferGeometry(width,height,widthSegments,heightSegments){BufferGeometry.call(this);this.type='PlaneBufferGeometry';this.parameters={width:width,height:height,widthSegments:widthSegments,heightSegments:heightSegments};var width_half=width/2;var height_half=height/2;var gridX=Math.floor(widthSegments)||1;var gridY=Math.floor(heightSegments)||1;var gridX1=gridX+1;var gridY1=gridY+1;var segment_width=width/gridX;var segment_height=height/gridY;var ix,iy;// buffers\nvar indices=[];var vertices=[];var normals=[];var uvs=[];// generate vertices, normals and uvs\nfor(iy=0;iy<gridY1;iy++){var y=iy*segment_height-height_half;for(ix=0;ix<gridX1;ix++){var x=ix*segment_width-width_half;vertices.push(x,-y,0);normals.push(0,0,1);uvs.push(ix/gridX);uvs.push(1-iy/gridY);}}// indices\nfor(iy=0;iy<gridY;iy++){for(ix=0;ix<gridX;ix++){var a=ix+gridX1*iy;var b=ix+gridX1*(iy+1);var c=ix+1+gridX1*(iy+1);var d=ix+1+gridX1*iy;// faces\nindices.push(a,b,d);indices.push(b,c,d);}}// build geometry\nthis.setIndex(indices);this.addAttribute('position',new Float32BufferAttribute(vertices,3));this.addAttribute('normal',new Float32BufferAttribute(normals,3));this.addAttribute('uv',new Float32BufferAttribute(uvs,2));}PlaneBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);PlaneBufferGeometry.prototype.constructor=PlaneBufferGeometry;/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */function MeshBasicMaterial(parameters){Material.call(this);this.type='MeshBasicMaterial';this.color=new Color(0xffffff);// emissive\nthis.map=null;this.lightMap=null;this.lightMapIntensity=1.0;this.aoMap=null;this.aoMapIntensity=1.0;this.specularMap=null;this.alphaMap=null;this.envMap=null;this.combine=MultiplyOperation;this.reflectivity=1;this.refractionRatio=0.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap='round';this.wireframeLinejoin='round';this.skinning=false;this.morphTargets=false;this.lights=false;this.setValues(parameters);}MeshBasicMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Material.prototype);MeshBasicMaterial.prototype.constructor=MeshBasicMaterial;MeshBasicMaterial.prototype.isMeshBasicMaterial=true;MeshBasicMaterial.prototype.copy=function(source){Material.prototype.copy.call(this,source);this.color.copy(source.color);this.map=source.map;this.lightMap=source.lightMap;this.lightMapIntensity=source.lightMapIntensity;this.aoMap=source.aoMap;this.aoMapIntensity=source.aoMapIntensity;this.specularMap=source.specularMap;this.alphaMap=source.alphaMap;this.envMap=source.envMap;this.combine=source.combine;this.reflectivity=source.reflectivity;this.refractionRatio=source.refractionRatio;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;this.skinning=source.skinning;this.morphTargets=source.morphTargets;return this;};/**\n * @author bhouston / http://clara.io\n */function Ray(origin,direction){this.origin=origin!==undefined?origin:new Vector3();this.direction=direction!==undefined?direction:new Vector3();}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Ray.prototype,{set:function set(origin,direction){this.origin.copy(origin);this.direction.copy(direction);return this;},clone:function clone(){return new this.constructor().copy(this);},copy:function copy(ray){this.origin.copy(ray.origin);this.direction.copy(ray.direction);return this;},at:function at(t,optionalTarget){var result=optionalTarget||new Vector3();return result.copy(this.direction).multiplyScalar(t).add(this.origin);},lookAt:function lookAt(v){this.direction.copy(v).sub(this.origin).normalize();return this;},recast:function(){var v1=new Vector3();return function recast(t){this.origin.copy(this.at(t,v1));return this;};}(),closestPointToPoint:function closestPointToPoint(point,optionalTarget){var result=optionalTarget||new Vector3();result.subVectors(point,this.origin);var directionDistance=result.dot(this.direction);if(directionDistance<0){return result.copy(this.origin);}return result.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);},distanceToPoint:function distanceToPoint(point){return Math.sqrt(this.distanceSqToPoint(point));},distanceSqToPoint:function(){var v1=new Vector3();return function distanceSqToPoint(point){var directionDistance=v1.subVectors(point,this.origin).dot(this.direction);// point behind the ray\nif(directionDistance<0){return this.origin.distanceToSquared(point);}v1.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);return v1.distanceToSquared(point);};}(),distanceSqToSegment:function(){var segCenter=new Vector3();var segDir=new Vector3();var diff=new Vector3();return function distanceSqToSegment(v0,v1,optionalPointOnRay,optionalPointOnSegment){// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n// It returns the min distance between the ray and the segment\n// defined by v0 and v1\n// It can also set two optional targets :\n// - The closest point on the ray\n// - The closest point on the segment\nsegCenter.copy(v0).add(v1).multiplyScalar(0.5);segDir.copy(v1).sub(v0).normalize();diff.copy(this.origin).sub(segCenter);var segExtent=v0.distanceTo(v1)*0.5;var a01=-this.direction.dot(segDir);var b0=diff.dot(this.direction);var b1=-diff.dot(segDir);var c=diff.lengthSq();var det=Math.abs(1-a01*a01);var s0,s1,sqrDist,extDet;if(det>0){// The ray and segment are not parallel.\ns0=a01*b1-b0;s1=a01*b0-b1;extDet=segExtent*det;if(s0>=0){if(s1>=-extDet){if(s1<=extDet){// region 0\n// Minimum at interior points of ray and segment.\nvar invDet=1/det;s0*=invDet;s1*=invDet;sqrDist=s0*(s0+a01*s1+2*b0)+s1*(a01*s0+s1+2*b1)+c;}else{// region 1\ns1=segExtent;s0=Math.max(0,-(a01*s1+b0));sqrDist=-s0*s0+s1*(s1+2*b1)+c;}}else{// region 5\ns1=-segExtent;s0=Math.max(0,-(a01*s1+b0));sqrDist=-s0*s0+s1*(s1+2*b1)+c;}}else{if(s1<=-extDet){// region 4\ns0=Math.max(0,-(-a01*segExtent+b0));s1=s0>0?-segExtent:Math.min(Math.max(-segExtent,-b1),segExtent);sqrDist=-s0*s0+s1*(s1+2*b1)+c;}else if(s1<=extDet){// region 3\ns0=0;s1=Math.min(Math.max(-segExtent,-b1),segExtent);sqrDist=s1*(s1+2*b1)+c;}else{// region 2\ns0=Math.max(0,-(a01*segExtent+b0));s1=s0>0?segExtent:Math.min(Math.max(-segExtent,-b1),segExtent);sqrDist=-s0*s0+s1*(s1+2*b1)+c;}}}else{// Ray and segment are parallel.\ns1=a01>0?-segExtent:segExtent;s0=Math.max(0,-(a01*s1+b0));sqrDist=-s0*s0+s1*(s1+2*b1)+c;}if(optionalPointOnRay){optionalPointOnRay.copy(this.direction).multiplyScalar(s0).add(this.origin);}if(optionalPointOnSegment){optionalPointOnSegment.copy(segDir).multiplyScalar(s1).add(segCenter);}return sqrDist;};}(),intersectSphere:function(){var v1=new Vector3();return function intersectSphere(sphere,optionalTarget){v1.subVectors(sphere.center,this.origin);var tca=v1.dot(this.direction);var d2=v1.dot(v1)-tca*tca;var radius2=sphere.radius*sphere.radius;if(d2>radius2)return null;var thc=Math.sqrt(radius2-d2);// t0 = first intersect point - entrance on front of sphere\nvar t0=tca-thc;// t1 = second intersect point - exit point on back of sphere\nvar t1=tca+thc;// test to see if both t0 and t1 are behind the ray - if so, return null\nif(t0<0&&t1<0)return null;// test to see if t0 is behind the ray:\n// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n// in order to always return an intersect point that is in front of the ray.\nif(t0<0)return this.at(t1,optionalTarget);// else t0 is in front of the ray, so return the first collision point scaled by t0\nreturn this.at(t0,optionalTarget);};}(),intersectsSphere:function intersectsSphere(sphere){return this.distanceToPoint(sphere.center)<=sphere.radius;},distanceToPlane:function distanceToPlane(plane){var denominator=plane.normal.dot(this.direction);if(denominator===0){// line is coplanar, return origin\nif(plane.distanceToPoint(this.origin)===0){return 0;}// Null is preferable to undefined since undefined means.... it is undefined\nreturn null;}var t=-(this.origin.dot(plane.normal)+plane.constant)/denominator;// Return if the ray never intersects the plane\nreturn t>=0?t:null;},intersectPlane:function intersectPlane(plane,optionalTarget){var t=this.distanceToPlane(plane);if(t===null){return null;}return this.at(t,optionalTarget);},intersectsPlane:function intersectsPlane(plane){// check if the ray lies on the plane first\nvar distToPoint=plane.distanceToPoint(this.origin);if(distToPoint===0){return true;}var denominator=plane.normal.dot(this.direction);if(denominator*distToPoint<0){return true;}// ray origin is behind the plane (and is pointing behind it)\nreturn false;},intersectBox:function intersectBox(box,optionalTarget){var tmin,tmax,tymin,tymax,tzmin,tzmax;var invdirx=1/this.direction.x,invdiry=1/this.direction.y,invdirz=1/this.direction.z;var origin=this.origin;if(invdirx>=0){tmin=(box.min.x-origin.x)*invdirx;tmax=(box.max.x-origin.x)*invdirx;}else{tmin=(box.max.x-origin.x)*invdirx;tmax=(box.min.x-origin.x)*invdirx;}if(invdiry>=0){tymin=(box.min.y-origin.y)*invdiry;tymax=(box.max.y-origin.y)*invdiry;}else{tymin=(box.max.y-origin.y)*invdiry;tymax=(box.min.y-origin.y)*invdiry;}if(tmin>tymax||tymin>tmax)return null;// These lines also handle the case where tmin or tmax is NaN\n// (result of 0 * Infinity). x !== x returns true if x is NaN\nif(tymin>tmin||tmin!==tmin)tmin=tymin;if(tymax<tmax||tmax!==tmax)tmax=tymax;if(invdirz>=0){tzmin=(box.min.z-origin.z)*invdirz;tzmax=(box.max.z-origin.z)*invdirz;}else{tzmin=(box.max.z-origin.z)*invdirz;tzmax=(box.min.z-origin.z)*invdirz;}if(tmin>tzmax||tzmin>tmax)return null;if(tzmin>tmin||tmin!==tmin)tmin=tzmin;if(tzmax<tmax||tmax!==tmax)tmax=tzmax;//return point closest to the ray (positive side)\nif(tmax<0)return null;return this.at(tmin>=0?tmin:tmax,optionalTarget);},intersectsBox:function(){var v=new Vector3();return function intersectsBox(box){return this.intersectBox(box,v)!==null;};}(),intersectTriangle:function(){// Compute the offset origin, edges, and normal.\nvar diff=new Vector3();var edge1=new Vector3();var edge2=new Vector3();var normal=new Vector3();return function intersectTriangle(a,b,c,backfaceCulling,optionalTarget){// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\nedge1.subVectors(b,a);edge2.subVectors(c,a);normal.crossVectors(edge1,edge2);// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\nvar DdN=this.direction.dot(normal);var sign;if(DdN>0){if(backfaceCulling)return null;sign=1;}else if(DdN<0){sign=-1;DdN=-DdN;}else{return null;}diff.subVectors(this.origin,a);var DdQxE2=sign*this.direction.dot(edge2.crossVectors(diff,edge2));// b1 < 0, no intersection\nif(DdQxE2<0){return null;}var DdE1xQ=sign*this.direction.dot(edge1.cross(diff));// b2 < 0, no intersection\nif(DdE1xQ<0){return null;}// b1+b2 > 1, no intersection\nif(DdQxE2+DdE1xQ>DdN){return null;}// Line intersects triangle, check if ray does.\nvar QdN=-sign*diff.dot(normal);// t < 0, no intersection\nif(QdN<0){return null;}// Ray intersects triangle.\nreturn this.at(QdN/DdN,optionalTarget);};}(),applyMatrix4:function applyMatrix4(matrix4){this.origin.applyMatrix4(matrix4);this.direction.transformDirection(matrix4);return this;},equals:function equals(ray){return ray.origin.equals(this.origin)&&ray.direction.equals(this.direction);}});/**\n * @author bhouston / http://clara.io\n */function Line3(start,end){this.start=start!==undefined?start:new Vector3();this.end=end!==undefined?end:new Vector3();}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Line3.prototype,{set:function set(start,end){this.start.copy(start);this.end.copy(end);return this;},clone:function clone(){return new this.constructor().copy(this);},copy:function copy(line){this.start.copy(line.start);this.end.copy(line.end);return this;},getCenter:function getCenter(optionalTarget){var result=optionalTarget||new Vector3();return result.addVectors(this.start,this.end).multiplyScalar(0.5);},delta:function delta(optionalTarget){var result=optionalTarget||new Vector3();return result.subVectors(this.end,this.start);},distanceSq:function distanceSq(){return this.start.distanceToSquared(this.end);},distance:function distance(){return this.start.distanceTo(this.end);},at:function at(t,optionalTarget){var result=optionalTarget||new Vector3();return this.delta(result).multiplyScalar(t).add(this.start);},closestPointToPointParameter:function(){var startP=new Vector3();var startEnd=new Vector3();return function closestPointToPointParameter(point,clampToLine){startP.subVectors(point,this.start);startEnd.subVectors(this.end,this.start);var startEnd2=startEnd.dot(startEnd);var startEnd_startP=startEnd.dot(startP);var t=startEnd_startP/startEnd2;if(clampToLine){t=_Math.clamp(t,0,1);}return t;};}(),closestPointToPoint:function closestPointToPoint(point,clampToLine,optionalTarget){var t=this.closestPointToPointParameter(point,clampToLine);var result=optionalTarget||new Vector3();return this.delta(result).multiplyScalar(t).add(this.start);},applyMatrix4:function applyMatrix4(matrix){this.start.applyMatrix4(matrix);this.end.applyMatrix4(matrix);return this;},equals:function equals(line){return line.start.equals(this.start)&&line.end.equals(this.end);}});/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */function Triangle(a,b,c){this.a=a!==undefined?a:new Vector3();this.b=b!==undefined?b:new Vector3();this.c=c!==undefined?c:new Vector3();}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Triangle,{normal:function(){var v0=new Vector3();return function normal(a,b,c,optionalTarget){var result=optionalTarget||new Vector3();result.subVectors(c,b);v0.subVectors(a,b);result.cross(v0);var resultLengthSq=result.lengthSq();if(resultLengthSq>0){return result.multiplyScalar(1/Math.sqrt(resultLengthSq));}return result.set(0,0,0);};}(),// static/instance method to calculate barycentric coordinates\n// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\nbarycoordFromPoint:function(){var v0=new Vector3();var v1=new Vector3();var v2=new Vector3();return function barycoordFromPoint(point,a,b,c,optionalTarget){v0.subVectors(c,a);v1.subVectors(b,a);v2.subVectors(point,a);var dot00=v0.dot(v0);var dot01=v0.dot(v1);var dot02=v0.dot(v2);var dot11=v1.dot(v1);var dot12=v1.dot(v2);var denom=dot00*dot11-dot01*dot01;var result=optionalTarget||new Vector3();// collinear or singular triangle\nif(denom===0){// arbitrary location outside of triangle?\n// not sure if this is the best idea, maybe should be returning undefined\nreturn result.set(-2,-1,-1);}var invDenom=1/denom;var u=(dot11*dot02-dot01*dot12)*invDenom;var v=(dot00*dot12-dot01*dot02)*invDenom;// barycentric coordinates must always sum to 1\nreturn result.set(1-u-v,v,u);};}(),containsPoint:function(){var v1=new Vector3();return function containsPoint(point,a,b,c){var result=Triangle.barycoordFromPoint(point,a,b,c,v1);return result.x>=0&&result.y>=0&&result.x+result.y<=1;};}()});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Triangle.prototype,{set:function set(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this;},setFromPointsAndIndices:function setFromPointsAndIndices(points,i0,i1,i2){this.a.copy(points[i0]);this.b.copy(points[i1]);this.c.copy(points[i2]);return this;},clone:function clone(){return new this.constructor().copy(this);},copy:function copy(triangle){this.a.copy(triangle.a);this.b.copy(triangle.b);this.c.copy(triangle.c);return this;},area:function(){var v0=new Vector3();var v1=new Vector3();return function area(){v0.subVectors(this.c,this.b);v1.subVectors(this.a,this.b);return v0.cross(v1).length()*0.5;};}(),midpoint:function midpoint(optionalTarget){var result=optionalTarget||new Vector3();return result.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3);},normal:function normal(optionalTarget){return Triangle.normal(this.a,this.b,this.c,optionalTarget);},plane:function plane(optionalTarget){var result=optionalTarget||new Plane();return result.setFromCoplanarPoints(this.a,this.b,this.c);},barycoordFromPoint:function barycoordFromPoint(point,optionalTarget){return Triangle.barycoordFromPoint(point,this.a,this.b,this.c,optionalTarget);},containsPoint:function containsPoint(point){return Triangle.containsPoint(point,this.a,this.b,this.c);},closestPointToPoint:function(){var plane=new Plane();var edgeList=[new Line3(),new Line3(),new Line3()];var projectedPoint=new Vector3();var closestPoint=new Vector3();return function closestPointToPoint(point,optionalTarget){var result=optionalTarget||new Vector3();var minDistance=Infinity;// project the point onto the plane of the triangle\nplane.setFromCoplanarPoints(this.a,this.b,this.c);plane.projectPoint(point,projectedPoint);// check if the projection lies within the triangle\nif(this.containsPoint(projectedPoint)===true){// if so, this is the closest point\nresult.copy(projectedPoint);}else{// if not, the point falls outside the triangle. the result is the closest point to the triangle's edges or vertices\nedgeList[0].set(this.a,this.b);edgeList[1].set(this.b,this.c);edgeList[2].set(this.c,this.a);for(var i=0;i<edgeList.length;i++){edgeList[i].closestPointToPoint(projectedPoint,true,closestPoint);var distance=projectedPoint.distanceToSquared(closestPoint);if(distance<minDistance){minDistance=distance;result.copy(closestPoint);}}}return result;};}(),equals:function equals(triangle){return triangle.a.equals(this.a)&&triangle.b.equals(this.b)&&triangle.c.equals(this.c);}});/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author jonobr1 / http://jonobr1.com/\n */function Mesh(geometry,material){Object3D.call(this);this.type='Mesh';this.geometry=geometry!==undefined?geometry:new BufferGeometry();this.material=material!==undefined?material:new MeshBasicMaterial({color:Math.random()*0xffffff});this.drawMode=TrianglesDrawMode;this.updateMorphTargets();}Mesh.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype),{constructor:Mesh,isMesh:true,setDrawMode:function setDrawMode(value){this.drawMode=value;},copy:function copy(source){Object3D.prototype.copy.call(this,source);this.drawMode=source.drawMode;return this;},updateMorphTargets:function updateMorphTargets(){var geometry=this.geometry;var m,ml,name;if(geometry.isBufferGeometry){var morphAttributes=geometry.morphAttributes;var keys=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys___default()(morphAttributes);if(keys.length>0){var morphAttribute=morphAttributes[keys[0]];if(morphAttribute!==undefined){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(m=0,ml=morphAttribute.length;m<ml;m++){name=morphAttribute[m].name||String(m);this.morphTargetInfluences.push(0);this.morphTargetDictionary[name]=m;}}}}else{var morphTargets=geometry.morphTargets;if(morphTargets!==undefined&&morphTargets.length>0){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(m=0,ml=morphTargets.length;m<ml;m++){name=morphTargets[m].name||String(m);this.morphTargetInfluences.push(0);this.morphTargetDictionary[name]=m;}}}},raycast:function(){var inverseMatrix=new Matrix4();var ray=new Ray();var sphere=new Sphere();var vA=new Vector3();var vB=new Vector3();var vC=new Vector3();var tempA=new Vector3();var tempB=new Vector3();var tempC=new Vector3();var uvA=new Vector2();var uvB=new Vector2();var uvC=new Vector2();var barycoord=new Vector3();var intersectionPoint=new Vector3();var intersectionPointWorld=new Vector3();function uvIntersection(point,p1,p2,p3,uv1,uv2,uv3){Triangle.barycoordFromPoint(point,p1,p2,p3,barycoord);uv1.multiplyScalar(barycoord.x);uv2.multiplyScalar(barycoord.y);uv3.multiplyScalar(barycoord.z);uv1.add(uv2).add(uv3);return uv1.clone();}function checkIntersection(object,material,raycaster,ray,pA,pB,pC,point){var intersect;if(material.side===BackSide){intersect=ray.intersectTriangle(pC,pB,pA,true,point);}else{intersect=ray.intersectTriangle(pA,pB,pC,material.side!==DoubleSide,point);}if(intersect===null)return null;intersectionPointWorld.copy(point);intersectionPointWorld.applyMatrix4(object.matrixWorld);var distance=raycaster.ray.origin.distanceTo(intersectionPointWorld);if(distance<raycaster.near||distance>raycaster.far)return null;return{distance:distance,point:intersectionPointWorld.clone(),object:object};}function checkBufferGeometryIntersection(object,raycaster,ray,position,uv,a,b,c){vA.fromBufferAttribute(position,a);vB.fromBufferAttribute(position,b);vC.fromBufferAttribute(position,c);var intersection=checkIntersection(object,object.material,raycaster,ray,vA,vB,vC,intersectionPoint);if(intersection){if(uv){uvA.fromBufferAttribute(uv,a);uvB.fromBufferAttribute(uv,b);uvC.fromBufferAttribute(uv,c);intersection.uv=uvIntersection(intersectionPoint,vA,vB,vC,uvA,uvB,uvC);}intersection.face=new Face3(a,b,c,Triangle.normal(vA,vB,vC));intersection.faceIndex=a;}return intersection;}return function raycast(raycaster,intersects){var geometry=this.geometry;var material=this.material;var matrixWorld=this.matrixWorld;if(material===undefined)return;// Checking boundingSphere distance to ray\nif(geometry.boundingSphere===null)geometry.computeBoundingSphere();sphere.copy(geometry.boundingSphere);sphere.applyMatrix4(matrixWorld);if(raycaster.ray.intersectsSphere(sphere)===false)return;//\ninverseMatrix.getInverse(matrixWorld);ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);// Check boundingBox before continuing\nif(geometry.boundingBox!==null){if(ray.intersectsBox(geometry.boundingBox)===false)return;}var intersection;if(geometry.isBufferGeometry){var a,b,c;var index=geometry.index;var position=geometry.attributes.position;var uv=geometry.attributes.uv;var i,l;if(index!==null){// indexed buffer geometry\nfor(i=0,l=index.count;i<l;i+=3){a=index.getX(i);b=index.getX(i+1);c=index.getX(i+2);intersection=checkBufferGeometryIntersection(this,raycaster,ray,position,uv,a,b,c);if(intersection){intersection.faceIndex=Math.floor(i/3);// triangle number in indices buffer semantics\nintersects.push(intersection);}}}else{// non-indexed buffer geometry\nfor(i=0,l=position.count;i<l;i+=3){a=i;b=i+1;c=i+2;intersection=checkBufferGeometryIntersection(this,raycaster,ray,position,uv,a,b,c);if(intersection){intersection.index=a;// triangle number in positions buffer semantics\nintersects.push(intersection);}}}}else if(geometry.isGeometry){var fvA,fvB,fvC;var isMultiMaterial=Array.isArray(material);var vertices=geometry.vertices;var faces=geometry.faces;var uvs;var faceVertexUvs=geometry.faceVertexUvs[0];if(faceVertexUvs.length>0)uvs=faceVertexUvs;for(var f=0,fl=faces.length;f<fl;f++){var face=faces[f];var faceMaterial=isMultiMaterial?material[face.materialIndex]:material;if(faceMaterial===undefined)continue;fvA=vertices[face.a];fvB=vertices[face.b];fvC=vertices[face.c];if(faceMaterial.morphTargets===true){var morphTargets=geometry.morphTargets;var morphInfluences=this.morphTargetInfluences;vA.set(0,0,0);vB.set(0,0,0);vC.set(0,0,0);for(var t=0,tl=morphTargets.length;t<tl;t++){var influence=morphInfluences[t];if(influence===0)continue;var targets=morphTargets[t].vertices;vA.addScaledVector(tempA.subVectors(targets[face.a],fvA),influence);vB.addScaledVector(tempB.subVectors(targets[face.b],fvB),influence);vC.addScaledVector(tempC.subVectors(targets[face.c],fvC),influence);}vA.add(fvA);vB.add(fvB);vC.add(fvC);fvA=vA;fvB=vB;fvC=vC;}intersection=checkIntersection(this,faceMaterial,raycaster,ray,fvA,fvB,fvC,intersectionPoint);if(intersection){if(uvs&&uvs[f]){var uvs_f=uvs[f];uvA.copy(uvs_f[0]);uvB.copy(uvs_f[1]);uvC.copy(uvs_f[2]);intersection.uv=uvIntersection(intersectionPoint,fvA,fvB,fvC,uvA,uvB,uvC);}intersection.face=face;intersection.faceIndex=f;intersects.push(intersection);}}}};}(),clone:function clone(){return new this.constructor(this.geometry,this.material).copy(this);}});/**\n * @author mrdoob / http://mrdoob.com/\n */function WebGLBackground(renderer,state,geometries,premultipliedAlpha){var clearColor=new Color(0x000000);var clearAlpha=0;var planeCamera,planeMesh;var boxMesh;function render(renderList,scene,camera,forceClear){var background=scene.background;if(background===null){setClear(clearColor,clearAlpha);}else if(background&&background.isColor){setClear(background,1);forceClear=true;}if(renderer.autoClear||forceClear){renderer.clear(renderer.autoClearColor,renderer.autoClearDepth,renderer.autoClearStencil);}if(background&&background.isCubeTexture){if(boxMesh===undefined){boxMesh=new Mesh(new BoxBufferGeometry(1,1,1),new ShaderMaterial({uniforms:ShaderLib.cube.uniforms,vertexShader:ShaderLib.cube.vertexShader,fragmentShader:ShaderLib.cube.fragmentShader,side:BackSide,depthTest:true,depthWrite:false,polygonOffset:true,fog:false}));boxMesh.geometry.removeAttribute('normal');boxMesh.geometry.removeAttribute('uv');boxMesh.onBeforeRender=function(renderer,scene,camera){var scale=camera.far;this.matrixWorld.makeScale(scale,scale,scale);this.matrixWorld.copyPosition(camera.matrixWorld);this.material.polygonOffsetUnits=scale*10;};geometries.update(boxMesh.geometry);}boxMesh.material.uniforms.tCube.value=background;renderList.push(boxMesh,boxMesh.geometry,boxMesh.material,0,null);}else if(background&&background.isTexture){if(planeCamera===undefined){planeCamera=new OrthographicCamera(-1,1,1,-1,0,1);planeMesh=new Mesh(new PlaneBufferGeometry(2,2),new MeshBasicMaterial({depthTest:false,depthWrite:false,fog:false}));geometries.update(planeMesh.geometry);}planeMesh.material.map=background;// TODO Push this to renderList\nrenderer.renderBufferDirect(planeCamera,null,planeMesh.geometry,planeMesh.material,planeMesh,null);}}function setClear(color,alpha){state.buffers.color.setClear(color.r,color.g,color.b,alpha,premultipliedAlpha);}return{getClearColor:function getClearColor(){return clearColor;},setClearColor:function setClearColor(color,alpha){clearColor.set(color);clearAlpha=alpha!==undefined?alpha:1;setClear(clearColor,clearAlpha);},getClearAlpha:function getClearAlpha(){return clearAlpha;},setClearAlpha:function setClearAlpha(alpha){clearAlpha=alpha;setClear(clearColor,clearAlpha);},render:render};}/**\n * @author mrdoob / http://mrdoob.com/\n */function painterSortStable(a,b){if(a.renderOrder!==b.renderOrder){return a.renderOrder-b.renderOrder;}else if(a.program&&b.program&&a.program!==b.program){return a.program.id-b.program.id;}else if(a.material.id!==b.material.id){return a.material.id-b.material.id;}else if(a.z!==b.z){return a.z-b.z;}else{return a.id-b.id;}}function reversePainterSortStable(a,b){if(a.renderOrder!==b.renderOrder){return a.renderOrder-b.renderOrder;}if(a.z!==b.z){return b.z-a.z;}else{return a.id-b.id;}}function WebGLRenderList(){var renderItems=[];var renderItemsIndex=0;var opaque=[];var transparent=[];function init(){renderItemsIndex=0;opaque.length=0;transparent.length=0;}function push(object,geometry,material,z,group){var renderItem=renderItems[renderItemsIndex];if(renderItem===undefined){renderItem={id:object.id,object:object,geometry:geometry,material:material,program:material.program,renderOrder:object.renderOrder,z:z,group:group};renderItems[renderItemsIndex]=renderItem;}else{renderItem.id=object.id;renderItem.object=object;renderItem.geometry=geometry;renderItem.material=material;renderItem.program=material.program;renderItem.renderOrder=object.renderOrder;renderItem.z=z;renderItem.group=group;}(material.transparent===true?transparent:opaque).push(renderItem);renderItemsIndex++;}function sort(){if(opaque.length>1)opaque.sort(painterSortStable);if(transparent.length>1)transparent.sort(reversePainterSortStable);}return{opaque:opaque,transparent:transparent,init:init,push:push,sort:sort};}function WebGLRenderLists(){var lists={};function get(scene,camera){var hash=scene.id+','+camera.id;var list=lists[hash];if(list===undefined){// console.log( 'THREE.WebGLRenderLists:', hash );\nlist=new WebGLRenderList();lists[hash]=list;}return list;}function dispose(){lists={};}return{get:get,dispose:dispose};}/**\n * @author mrdoob / http://mrdoob.com/\n */function absNumericalSort(a,b){return Math.abs(b[1])-Math.abs(a[1]);}function WebGLMorphtargets(gl){var influencesList={};var morphInfluences=new Float32Array(8);function update(object,geometry,material,program){var objectInfluences=object.morphTargetInfluences;var length=objectInfluences.length;var influences=influencesList[geometry.id];if(influences===undefined){// initialise list\ninfluences=[];for(var i=0;i<length;i++){influences[i]=[i,0];}influencesList[geometry.id]=influences;}var morphTargets=material.morphTargets&&geometry.morphAttributes.position;var morphNormals=material.morphNormals&&geometry.morphAttributes.normal;// Remove current morphAttributes\nfor(var i=0;i<length;i++){var influence=influences[i];if(influence[1]!==0){if(morphTargets)geometry.removeAttribute('morphTarget'+i);if(morphNormals)geometry.removeAttribute('morphNormal'+i);}}// Collect influences\nfor(var i=0;i<length;i++){var influence=influences[i];influence[0]=i;influence[1]=objectInfluences[i];}influences.sort(absNumericalSort);// Add morphAttributes\nfor(var i=0;i<8;i++){var influence=influences[i];if(influence){var index=influence[0];var value=influence[1];if(value){if(morphTargets)geometry.addAttribute('morphTarget'+i,morphTargets[index]);if(morphNormals)geometry.addAttribute('morphNormal'+i,morphNormals[index]);morphInfluences[i]=value;continue;}}morphInfluences[i]=0;}program.getUniforms().setValue(gl,'morphTargetInfluences',morphInfluences);}return{update:update};}/**\n * @author mrdoob / http://mrdoob.com/\n */function WebGLIndexedBufferRenderer(gl,extensions,infoRender){var mode;function setMode(value){mode=value;}var type,bytesPerElement;function setIndex(value){type=value.type;bytesPerElement=value.bytesPerElement;}function render(start,count){gl.drawElements(mode,count,type,start*bytesPerElement);infoRender.calls++;infoRender.vertices+=count;if(mode===gl.TRIANGLES)infoRender.faces+=count/3;else if(mode===gl.POINTS)infoRender.points+=count;}function renderInstances(geometry,start,count){var extension=extensions.get('ANGLE_instanced_arrays');if(extension===null){console.error('THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');return;}extension.drawElementsInstancedANGLE(mode,count,type,start*bytesPerElement,geometry.maxInstancedCount);infoRender.calls++;infoRender.vertices+=count*geometry.maxInstancedCount;if(mode===gl.TRIANGLES)infoRender.faces+=geometry.maxInstancedCount*count/3;else if(mode===gl.POINTS)infoRender.points+=geometry.maxInstancedCount*count;}//\nthis.setMode=setMode;this.setIndex=setIndex;this.render=render;this.renderInstances=renderInstances;}/**\n * @author mrdoob / http://mrdoob.com/\n */function WebGLBufferRenderer(gl,extensions,infoRender){var mode;function setMode(value){mode=value;}function render(start,count){gl.drawArrays(mode,start,count);infoRender.calls++;infoRender.vertices+=count;if(mode===gl.TRIANGLES)infoRender.faces+=count/3;else if(mode===gl.POINTS)infoRender.points+=count;}function renderInstances(geometry,start,count){var extension=extensions.get('ANGLE_instanced_arrays');if(extension===null){console.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');return;}var position=geometry.attributes.position;if(position.isInterleavedBufferAttribute){count=position.data.count;extension.drawArraysInstancedANGLE(mode,0,count,geometry.maxInstancedCount);}else{extension.drawArraysInstancedANGLE(mode,start,count,geometry.maxInstancedCount);}infoRender.calls++;infoRender.vertices+=count*geometry.maxInstancedCount;if(mode===gl.TRIANGLES)infoRender.faces+=geometry.maxInstancedCount*count/3;else if(mode===gl.POINTS)infoRender.points+=geometry.maxInstancedCount*count;}//\nthis.setMode=setMode;this.render=render;this.renderInstances=renderInstances;}/**\n * @author mrdoob / http://mrdoob.com/\n */function WebGLGeometries(gl,attributes,infoMemory){var geometries={};var wireframeAttributes={};function onGeometryDispose(event){var geometry=event.target;var buffergeometry=geometries[geometry.id];if(buffergeometry.index!==null){attributes.remove(buffergeometry.index);}for(var name in buffergeometry.attributes){attributes.remove(buffergeometry.attributes[name]);}geometry.removeEventListener('dispose',onGeometryDispose);delete geometries[geometry.id];// TODO Remove duplicate code\nvar attribute=wireframeAttributes[geometry.id];if(attribute){attributes.remove(attribute);delete wireframeAttributes[geometry.id];}attribute=wireframeAttributes[buffergeometry.id];if(attribute){attributes.remove(attribute);delete wireframeAttributes[buffergeometry.id];}//\ninfoMemory.geometries--;}function get(object,geometry){var buffergeometry=geometries[geometry.id];if(buffergeometry)return buffergeometry;geometry.addEventListener('dispose',onGeometryDispose);if(geometry.isBufferGeometry){buffergeometry=geometry;}else if(geometry.isGeometry){if(geometry._bufferGeometry===undefined){geometry._bufferGeometry=new BufferGeometry().setFromObject(object);}buffergeometry=geometry._bufferGeometry;}geometries[geometry.id]=buffergeometry;infoMemory.geometries++;return buffergeometry;}function update(geometry){var index=geometry.index;var geometryAttributes=geometry.attributes;if(index!==null){attributes.update(index,gl.ELEMENT_ARRAY_BUFFER);}for(var name in geometryAttributes){attributes.update(geometryAttributes[name],gl.ARRAY_BUFFER);}// morph targets\nvar morphAttributes=geometry.morphAttributes;for(var name in morphAttributes){var array=morphAttributes[name];for(var i=0,l=array.length;i<l;i++){attributes.update(array[i],gl.ARRAY_BUFFER);}}}function getWireframeAttribute(geometry){var attribute=wireframeAttributes[geometry.id];if(attribute)return attribute;var indices=[];var geometryIndex=geometry.index;var geometryAttributes=geometry.attributes;// console.time( 'wireframe' );\nif(geometryIndex!==null){var array=geometryIndex.array;for(var i=0,l=array.length;i<l;i+=3){var a=array[i+0];var b=array[i+1];var c=array[i+2];indices.push(a,b,b,c,c,a);}}else{var array=geometryAttributes.position.array;for(var i=0,l=array.length/3-1;i<l;i+=3){var a=i+0;var b=i+1;var c=i+2;indices.push(a,b,b,c,c,a);}}// console.timeEnd( 'wireframe' );\nattribute=new(arrayMax(indices)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(indices,1);attributes.update(attribute,gl.ELEMENT_ARRAY_BUFFER);wireframeAttributes[geometry.id]=attribute;return attribute;}return{get:get,update:update,getWireframeAttribute:getWireframeAttribute};}/**\n * @author mrdoob / http://mrdoob.com/\n */function UniformsCache(){var lights={};return{get:function get(light){if(lights[light.id]!==undefined){return lights[light.id];}var uniforms;switch(light.type){case'DirectionalLight':uniforms={direction:new Vector3(),color:new Color(),shadow:false,shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2()};break;case'SpotLight':uniforms={position:new Vector3(),direction:new Vector3(),color:new Color(),distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:false,shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2()};break;case'PointLight':uniforms={position:new Vector3(),color:new Color(),distance:0,decay:0,shadow:false,shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2(),shadowCameraNear:1,shadowCameraFar:1000};break;case'HemisphereLight':uniforms={direction:new Vector3(),skyColor:new Color(),groundColor:new Color()};break;case'RectAreaLight':uniforms={color:new Color(),position:new Vector3(),halfWidth:new Vector3(),halfHeight:new Vector3()// TODO (abelnation): set RectAreaLight shadow uniforms\n};break;}lights[light.id]=uniforms;return uniforms;}};}function WebGLLights(){var cache=new UniformsCache();var state={hash:'',ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};var vector3=new Vector3();var matrix4=new Matrix4();var matrix42=new Matrix4();function setup(lights,shadows,camera){var r=0,g=0,b=0;var directionalLength=0;var pointLength=0;var spotLength=0;var rectAreaLength=0;var hemiLength=0;var viewMatrix=camera.matrixWorldInverse;for(var i=0,l=lights.length;i<l;i++){var light=lights[i];var color=light.color;var intensity=light.intensity;var distance=light.distance;var shadowMap=light.shadow&&light.shadow.map?light.shadow.map.texture:null;if(light.isAmbientLight){r+=color.r*intensity;g+=color.g*intensity;b+=color.b*intensity;}else if(light.isDirectionalLight){var uniforms=cache.get(light);uniforms.color.copy(light.color).multiplyScalar(light.intensity);uniforms.direction.setFromMatrixPosition(light.matrixWorld);vector3.setFromMatrixPosition(light.target.matrixWorld);uniforms.direction.sub(vector3);uniforms.direction.transformDirection(viewMatrix);uniforms.shadow=light.castShadow;if(light.castShadow){var shadow=light.shadow;uniforms.shadowBias=shadow.bias;uniforms.shadowRadius=shadow.radius;uniforms.shadowMapSize=shadow.mapSize;}state.directionalShadowMap[directionalLength]=shadowMap;state.directionalShadowMatrix[directionalLength]=light.shadow.matrix;state.directional[directionalLength]=uniforms;directionalLength++;}else if(light.isSpotLight){var uniforms=cache.get(light);uniforms.position.setFromMatrixPosition(light.matrixWorld);uniforms.position.applyMatrix4(viewMatrix);uniforms.color.copy(color).multiplyScalar(intensity);uniforms.distance=distance;uniforms.direction.setFromMatrixPosition(light.matrixWorld);vector3.setFromMatrixPosition(light.target.matrixWorld);uniforms.direction.sub(vector3);uniforms.direction.transformDirection(viewMatrix);uniforms.coneCos=Math.cos(light.angle);uniforms.penumbraCos=Math.cos(light.angle*(1-light.penumbra));uniforms.decay=light.distance===0?0.0:light.decay;uniforms.shadow=light.castShadow;if(light.castShadow){var shadow=light.shadow;uniforms.shadowBias=shadow.bias;uniforms.shadowRadius=shadow.radius;uniforms.shadowMapSize=shadow.mapSize;}state.spotShadowMap[spotLength]=shadowMap;state.spotShadowMatrix[spotLength]=light.shadow.matrix;state.spot[spotLength]=uniforms;spotLength++;}else if(light.isRectAreaLight){var uniforms=cache.get(light);// (a) intensity controls irradiance of entire light\nuniforms.color.copy(color).multiplyScalar(intensity/(light.width*light.height));// (b) intensity controls the radiance per light area\n// uniforms.color.copy( color ).multiplyScalar( intensity );\nuniforms.position.setFromMatrixPosition(light.matrixWorld);uniforms.position.applyMatrix4(viewMatrix);// extract local rotation of light to derive width/height half vectors\nmatrix42.identity();matrix4.copy(light.matrixWorld);matrix4.premultiply(viewMatrix);matrix42.extractRotation(matrix4);uniforms.halfWidth.set(light.width*0.5,0.0,0.0);uniforms.halfHeight.set(0.0,light.height*0.5,0.0);uniforms.halfWidth.applyMatrix4(matrix42);uniforms.halfHeight.applyMatrix4(matrix42);// TODO (abelnation): RectAreaLight distance?\n// uniforms.distance = distance;\nstate.rectArea[rectAreaLength]=uniforms;rectAreaLength++;}else if(light.isPointLight){var uniforms=cache.get(light);uniforms.position.setFromMatrixPosition(light.matrixWorld);uniforms.position.applyMatrix4(viewMatrix);uniforms.color.copy(light.color).multiplyScalar(light.intensity);uniforms.distance=light.distance;uniforms.decay=light.distance===0?0.0:light.decay;uniforms.shadow=light.castShadow;if(light.castShadow){var shadow=light.shadow;uniforms.shadowBias=shadow.bias;uniforms.shadowRadius=shadow.radius;uniforms.shadowMapSize=shadow.mapSize;uniforms.shadowCameraNear=shadow.camera.near;uniforms.shadowCameraFar=shadow.camera.far;}state.pointShadowMap[pointLength]=shadowMap;state.pointShadowMatrix[pointLength]=light.shadow.matrix;state.point[pointLength]=uniforms;pointLength++;}else if(light.isHemisphereLight){var uniforms=cache.get(light);uniforms.direction.setFromMatrixPosition(light.matrixWorld);uniforms.direction.transformDirection(viewMatrix);uniforms.direction.normalize();uniforms.skyColor.copy(light.color).multiplyScalar(intensity);uniforms.groundColor.copy(light.groundColor).multiplyScalar(intensity);state.hemi[hemiLength]=uniforms;hemiLength++;}}state.ambient[0]=r;state.ambient[1]=g;state.ambient[2]=b;state.directional.length=directionalLength;state.spot.length=spotLength;state.rectArea.length=rectAreaLength;state.point.length=pointLength;state.hemi.length=hemiLength;// TODO (sam-g-steel) why aren't we using join\nstate.hash=directionalLength+','+pointLength+','+spotLength+','+rectAreaLength+','+hemiLength+','+shadows.length;}return{setup:setup,state:state};}/**\n * @author mrdoob / http://mrdoob.com/\n */function WebGLObjects(geometries,infoRender){var updateList={};function update(object){var frame=infoRender.frame;var geometry=object.geometry;var buffergeometry=geometries.get(object,geometry);// Update once per frame\nif(updateList[buffergeometry.id]!==frame){if(geometry.isGeometry){buffergeometry.updateFromObject(object);}geometries.update(buffergeometry);updateList[buffergeometry.id]=frame;}return buffergeometry;}function clear(){updateList={};}return{update:update,clear:clear};}/**\n * @author mrdoob / http://mrdoob.com/\n */function addLineNumbers(string){var lines=string.split('\\n');for(var i=0;i<lines.length;i++){lines[i]=i+1+': '+lines[i];}return lines.join('\\n');}function WebGLShader(gl,type,string){var shader=gl.createShader(type);gl.shaderSource(shader,string);gl.compileShader(shader);if(gl.getShaderParameter(shader,gl.COMPILE_STATUS)===false){console.error('THREE.WebGLShader: Shader couldn\\'t compile.');}if(gl.getShaderInfoLog(shader)!==''){console.warn('THREE.WebGLShader: gl.getShaderInfoLog()',type===gl.VERTEX_SHADER?'vertex':'fragment',gl.getShaderInfoLog(shader),addLineNumbers(string));}// --enable-privileged-webgl-extension\n// console.log( type, gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\nreturn shader;}/**\n * @author mrdoob / http://mrdoob.com/\n */var programIdCount=0;function getEncodingComponents(encoding){switch(encoding){case LinearEncoding:return['Linear','( value )'];case sRGBEncoding:return['sRGB','( value )'];case RGBEEncoding:return['RGBE','( value )'];case RGBM7Encoding:return['RGBM','( value, 7.0 )'];case RGBM16Encoding:return['RGBM','( value, 16.0 )'];case RGBDEncoding:return['RGBD','( value, 256.0 )'];case GammaEncoding:return['Gamma','( value, float( GAMMA_FACTOR ) )'];default:throw new Error('unsupported encoding: '+encoding);}}function getTexelDecodingFunction(functionName,encoding){var components=getEncodingComponents(encoding);return\"vec4 \"+functionName+\"( vec4 value ) { return \"+components[0]+\"ToLinear\"+components[1]+\"; }\";}function getTexelEncodingFunction(functionName,encoding){var components=getEncodingComponents(encoding);return\"vec4 \"+functionName+\"( vec4 value ) { return LinearTo\"+components[0]+components[1]+\"; }\";}function getToneMappingFunction(functionName,toneMapping){var toneMappingName;switch(toneMapping){case LinearToneMapping:toneMappingName=\"Linear\";break;case ReinhardToneMapping:toneMappingName=\"Reinhard\";break;case Uncharted2ToneMapping:toneMappingName=\"Uncharted2\";break;case CineonToneMapping:toneMappingName=\"OptimizedCineon\";break;default:throw new Error('unsupported toneMapping: '+toneMapping);}return\"vec3 \"+functionName+\"( vec3 color ) { return \"+toneMappingName+\"ToneMapping( color ); }\";}function generateExtensions(extensions,parameters,rendererExtensions){extensions=extensions||{};var chunks=[extensions.derivatives||parameters.envMapCubeUV||parameters.bumpMap||parameters.normalMap||parameters.flatShading?'#extension GL_OES_standard_derivatives : enable':'',(extensions.fragDepth||parameters.logarithmicDepthBuffer)&&rendererExtensions.get('EXT_frag_depth')?'#extension GL_EXT_frag_depth : enable':'',extensions.drawBuffers&&rendererExtensions.get('WEBGL_draw_buffers')?'#extension GL_EXT_draw_buffers : require':'',(extensions.shaderTextureLOD||parameters.envMap)&&rendererExtensions.get('EXT_shader_texture_lod')?'#extension GL_EXT_shader_texture_lod : enable':''];return chunks.filter(filterEmptyLine).join('\\n');}function generateDefines(defines){var chunks=[];for(var name in defines){var value=defines[name];if(value===false)continue;chunks.push('#define '+name+' '+value);}return chunks.join('\\n');}function fetchAttributeLocations(gl,program,identifiers){var attributes={};var n=gl.getProgramParameter(program,gl.ACTIVE_ATTRIBUTES);for(var i=0;i<n;i++){var info=gl.getActiveAttrib(program,i);var name=info.name;// console.log(\"THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:\", name, i );\nattributes[name]=gl.getAttribLocation(program,name);}return attributes;}function filterEmptyLine(string){return string!=='';}function replaceLightNums(string,parameters){return string.replace(/NUM_DIR_LIGHTS/g,parameters.numDirLights).replace(/NUM_SPOT_LIGHTS/g,parameters.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,parameters.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,parameters.numPointLights).replace(/NUM_HEMI_LIGHTS/g,parameters.numHemiLights);}function parseIncludes(string){var pattern=/^[ \\t]*#include +<([\\w\\d.]+)>/gm;function replace(match,include){var replace=ShaderChunk[include];if(replace===undefined){throw new Error('Can not resolve #include <'+include+'>');}return parseIncludes(replace);}return string.replace(pattern,replace);}function unrollLoops(string){var pattern=/for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;function replace(match,start,end,snippet){var unroll='';for(var i=parseInt(start);i<parseInt(end);i++){unroll+=snippet.replace(/\\[ i \\]/g,'[ '+i+' ]');}return unroll;}return string.replace(pattern,replace);}function WebGLProgram(renderer,extensions,code,material,shader,parameters){var gl=renderer.context;var defines=material.defines;var vertexShader=shader.vertexShader;var fragmentShader=shader.fragmentShader;var shadowMapTypeDefine='SHADOWMAP_TYPE_BASIC';if(parameters.shadowMapType===PCFShadowMap){shadowMapTypeDefine='SHADOWMAP_TYPE_PCF';}else if(parameters.shadowMapType===PCFSoftShadowMap){shadowMapTypeDefine='SHADOWMAP_TYPE_PCF_SOFT';}var envMapTypeDefine='ENVMAP_TYPE_CUBE';var envMapModeDefine='ENVMAP_MODE_REFLECTION';var envMapBlendingDefine='ENVMAP_BLENDING_MULTIPLY';if(parameters.envMap){switch(material.envMap.mapping){case CubeReflectionMapping:case CubeRefractionMapping:envMapTypeDefine='ENVMAP_TYPE_CUBE';break;case CubeUVReflectionMapping:case CubeUVRefractionMapping:envMapTypeDefine='ENVMAP_TYPE_CUBE_UV';break;case EquirectangularReflectionMapping:case EquirectangularRefractionMapping:envMapTypeDefine='ENVMAP_TYPE_EQUIREC';break;case SphericalReflectionMapping:envMapTypeDefine='ENVMAP_TYPE_SPHERE';break;}switch(material.envMap.mapping){case CubeRefractionMapping:case EquirectangularRefractionMapping:envMapModeDefine='ENVMAP_MODE_REFRACTION';break;}switch(material.combine){case MultiplyOperation:envMapBlendingDefine='ENVMAP_BLENDING_MULTIPLY';break;case MixOperation:envMapBlendingDefine='ENVMAP_BLENDING_MIX';break;case AddOperation:envMapBlendingDefine='ENVMAP_BLENDING_ADD';break;}}var gammaFactorDefine=renderer.gammaFactor>0?renderer.gammaFactor:1.0;// console.log( 'building new program ' );\n//\nvar customExtensions=generateExtensions(material.extensions,parameters,extensions);var customDefines=generateDefines(defines);//\nvar program=gl.createProgram();var prefixVertex,prefixFragment;if(material.isRawShaderMaterial){prefixVertex=[customDefines,'\\n'].filter(filterEmptyLine).join('\\n');prefixFragment=[customExtensions,customDefines,'\\n'].filter(filterEmptyLine).join('\\n');}else{prefixVertex=['precision '+parameters.precision+' float;','precision '+parameters.precision+' int;','#define SHADER_NAME '+shader.name,customDefines,parameters.supportsVertexTextures?'#define VERTEX_TEXTURES':'','#define GAMMA_FACTOR '+gammaFactorDefine,'#define MAX_BONES '+parameters.maxBones,parameters.useFog&&parameters.fog?'#define USE_FOG':'',parameters.useFog&&parameters.fogExp?'#define FOG_EXP2':'',parameters.map?'#define USE_MAP':'',parameters.envMap?'#define USE_ENVMAP':'',parameters.envMap?'#define '+envMapModeDefine:'',parameters.lightMap?'#define USE_LIGHTMAP':'',parameters.aoMap?'#define USE_AOMAP':'',parameters.emissiveMap?'#define USE_EMISSIVEMAP':'',parameters.bumpMap?'#define USE_BUMPMAP':'',parameters.normalMap?'#define USE_NORMALMAP':'',parameters.displacementMap&&parameters.supportsVertexTextures?'#define USE_DISPLACEMENTMAP':'',parameters.specularMap?'#define USE_SPECULARMAP':'',parameters.roughnessMap?'#define USE_ROUGHNESSMAP':'',parameters.metalnessMap?'#define USE_METALNESSMAP':'',parameters.alphaMap?'#define USE_ALPHAMAP':'',parameters.vertexColors?'#define USE_COLOR':'',parameters.flatShading?'#define FLAT_SHADED':'',parameters.skinning?'#define USE_SKINNING':'',parameters.useVertexTexture?'#define BONE_TEXTURE':'',parameters.morphTargets?'#define USE_MORPHTARGETS':'',parameters.morphNormals&&parameters.flatShading===false?'#define USE_MORPHNORMALS':'',parameters.doubleSided?'#define DOUBLE_SIDED':'',parameters.flipSided?'#define FLIP_SIDED':'','#define NUM_CLIPPING_PLANES '+parameters.numClippingPlanes,parameters.shadowMapEnabled?'#define USE_SHADOWMAP':'',parameters.shadowMapEnabled?'#define '+shadowMapTypeDefine:'',parameters.sizeAttenuation?'#define USE_SIZEATTENUATION':'',parameters.logarithmicDepthBuffer?'#define USE_LOGDEPTHBUF':'',parameters.logarithmicDepthBuffer&&extensions.get('EXT_frag_depth')?'#define USE_LOGDEPTHBUF_EXT':'','uniform mat4 modelMatrix;','uniform mat4 modelViewMatrix;','uniform mat4 projectionMatrix;','uniform mat4 viewMatrix;','uniform mat3 normalMatrix;','uniform vec3 cameraPosition;','attribute vec3 position;','attribute vec3 normal;','attribute vec2 uv;','#ifdef USE_COLOR','\tattribute vec3 color;','#endif','#ifdef USE_MORPHTARGETS','\tattribute vec3 morphTarget0;','\tattribute vec3 morphTarget1;','\tattribute vec3 morphTarget2;','\tattribute vec3 morphTarget3;','\t#ifdef USE_MORPHNORMALS','\t\tattribute vec3 morphNormal0;','\t\tattribute vec3 morphNormal1;','\t\tattribute vec3 morphNormal2;','\t\tattribute vec3 morphNormal3;','\t#else','\t\tattribute vec3 morphTarget4;','\t\tattribute vec3 morphTarget5;','\t\tattribute vec3 morphTarget6;','\t\tattribute vec3 morphTarget7;','\t#endif','#endif','#ifdef USE_SKINNING','\tattribute vec4 skinIndex;','\tattribute vec4 skinWeight;','#endif','\\n'].filter(filterEmptyLine).join('\\n');prefixFragment=[customExtensions,'precision '+parameters.precision+' float;','precision '+parameters.precision+' int;','#define SHADER_NAME '+shader.name,customDefines,parameters.alphaTest?'#define ALPHATEST '+parameters.alphaTest:'','#define GAMMA_FACTOR '+gammaFactorDefine,parameters.useFog&&parameters.fog?'#define USE_FOG':'',parameters.useFog&&parameters.fogExp?'#define FOG_EXP2':'',parameters.map?'#define USE_MAP':'',parameters.envMap?'#define USE_ENVMAP':'',parameters.envMap?'#define '+envMapTypeDefine:'',parameters.envMap?'#define '+envMapModeDefine:'',parameters.envMap?'#define '+envMapBlendingDefine:'',parameters.lightMap?'#define USE_LIGHTMAP':'',parameters.aoMap?'#define USE_AOMAP':'',parameters.emissiveMap?'#define USE_EMISSIVEMAP':'',parameters.bumpMap?'#define USE_BUMPMAP':'',parameters.normalMap?'#define USE_NORMALMAP':'',parameters.specularMap?'#define USE_SPECULARMAP':'',parameters.roughnessMap?'#define USE_ROUGHNESSMAP':'',parameters.metalnessMap?'#define USE_METALNESSMAP':'',parameters.alphaMap?'#define USE_ALPHAMAP':'',parameters.vertexColors?'#define USE_COLOR':'',parameters.gradientMap?'#define USE_GRADIENTMAP':'',parameters.flatShading?'#define FLAT_SHADED':'',parameters.doubleSided?'#define DOUBLE_SIDED':'',parameters.flipSided?'#define FLIP_SIDED':'','#define NUM_CLIPPING_PLANES '+parameters.numClippingPlanes,'#define UNION_CLIPPING_PLANES '+(parameters.numClippingPlanes-parameters.numClipIntersection),parameters.shadowMapEnabled?'#define USE_SHADOWMAP':'',parameters.shadowMapEnabled?'#define '+shadowMapTypeDefine:'',parameters.premultipliedAlpha?\"#define PREMULTIPLIED_ALPHA\":'',parameters.physicallyCorrectLights?\"#define PHYSICALLY_CORRECT_LIGHTS\":'',parameters.logarithmicDepthBuffer?'#define USE_LOGDEPTHBUF':'',parameters.logarithmicDepthBuffer&&extensions.get('EXT_frag_depth')?'#define USE_LOGDEPTHBUF_EXT':'',parameters.envMap&&extensions.get('EXT_shader_texture_lod')?'#define TEXTURE_LOD_EXT':'','uniform mat4 viewMatrix;','uniform vec3 cameraPosition;',parameters.toneMapping!==NoToneMapping?\"#define TONE_MAPPING\":'',parameters.toneMapping!==NoToneMapping?ShaderChunk['tonemapping_pars_fragment']:'',// this code is required here because it is used by the toneMapping() function defined below\nparameters.toneMapping!==NoToneMapping?getToneMappingFunction(\"toneMapping\",parameters.toneMapping):'',parameters.dithering?'#define DITHERING':'',parameters.outputEncoding||parameters.mapEncoding||parameters.envMapEncoding||parameters.emissiveMapEncoding?ShaderChunk['encodings_pars_fragment']:'',// this code is required here because it is used by the various encoding/decoding function defined below\nparameters.mapEncoding?getTexelDecodingFunction('mapTexelToLinear',parameters.mapEncoding):'',parameters.envMapEncoding?getTexelDecodingFunction('envMapTexelToLinear',parameters.envMapEncoding):'',parameters.emissiveMapEncoding?getTexelDecodingFunction('emissiveMapTexelToLinear',parameters.emissiveMapEncoding):'',parameters.outputEncoding?getTexelEncodingFunction(\"linearToOutputTexel\",parameters.outputEncoding):'',parameters.depthPacking?\"#define DEPTH_PACKING \"+material.depthPacking:'','\\n'].filter(filterEmptyLine).join('\\n');}vertexShader=parseIncludes(vertexShader);vertexShader=replaceLightNums(vertexShader,parameters);fragmentShader=parseIncludes(fragmentShader);fragmentShader=replaceLightNums(fragmentShader,parameters);if(!material.isShaderMaterial){vertexShader=unrollLoops(vertexShader);fragmentShader=unrollLoops(fragmentShader);}var vertexGlsl=prefixVertex+vertexShader;var fragmentGlsl=prefixFragment+fragmentShader;// console.log( '*VERTEX*', vertexGlsl );\n// console.log( '*FRAGMENT*', fragmentGlsl );\nvar glVertexShader=WebGLShader(gl,gl.VERTEX_SHADER,vertexGlsl);var glFragmentShader=WebGLShader(gl,gl.FRAGMENT_SHADER,fragmentGlsl);gl.attachShader(program,glVertexShader);gl.attachShader(program,glFragmentShader);// Force a particular attribute to index 0.\nif(material.index0AttributeName!==undefined){gl.bindAttribLocation(program,0,material.index0AttributeName);}else if(parameters.morphTargets===true){// programs with morphTargets displace position out of attribute 0\ngl.bindAttribLocation(program,0,'position');}gl.linkProgram(program);var programLog=gl.getProgramInfoLog(program);var vertexLog=gl.getShaderInfoLog(glVertexShader);var fragmentLog=gl.getShaderInfoLog(glFragmentShader);var runnable=true;var haveDiagnostics=true;// console.log( '**VERTEX**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glVertexShader ) );\n// console.log( '**FRAGMENT**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glFragmentShader ) );\nif(gl.getProgramParameter(program,gl.LINK_STATUS)===false){runnable=false;console.error('THREE.WebGLProgram: shader error: ',gl.getError(),'gl.VALIDATE_STATUS',gl.getProgramParameter(program,gl.VALIDATE_STATUS),'gl.getProgramInfoLog',programLog,vertexLog,fragmentLog);}else if(programLog!==''){console.warn('THREE.WebGLProgram: gl.getProgramInfoLog()',programLog);}else if(vertexLog===''||fragmentLog===''){haveDiagnostics=false;}if(haveDiagnostics){this.diagnostics={runnable:runnable,material:material,programLog:programLog,vertexShader:{log:vertexLog,prefix:prefixVertex},fragmentShader:{log:fragmentLog,prefix:prefixFragment}};}// clean up\ngl.deleteShader(glVertexShader);gl.deleteShader(glFragmentShader);// set up caching for uniform locations\nvar cachedUniforms;this.getUniforms=function(){if(cachedUniforms===undefined){cachedUniforms=new WebGLUniforms(gl,program,renderer);}return cachedUniforms;};// set up caching for attribute locations\nvar cachedAttributes;this.getAttributes=function(){if(cachedAttributes===undefined){cachedAttributes=fetchAttributeLocations(gl,program);}return cachedAttributes;};// free resource\nthis.destroy=function(){gl.deleteProgram(program);this.program=undefined;};// DEPRECATED\n__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(this,{uniforms:{get:function get(){console.warn('THREE.WebGLProgram: .uniforms is now .getUniforms().');return this.getUniforms();}},attributes:{get:function get(){console.warn('THREE.WebGLProgram: .attributes is now .getAttributes().');return this.getAttributes();}}});//\nthis.id=programIdCount++;this.code=code;this.usedTimes=1;this.program=program;this.vertexShader=glVertexShader;this.fragmentShader=glFragmentShader;return this;}/**\n * @author mrdoob / http://mrdoob.com/\n */function WebGLPrograms(renderer,extensions,capabilities){var programs=[];var shaderIDs={MeshDepthMaterial:'depth',MeshDistanceMaterial:'distanceRGBA',MeshNormalMaterial:'normal',MeshBasicMaterial:'basic',MeshLambertMaterial:'lambert',MeshPhongMaterial:'phong',MeshToonMaterial:'phong',MeshStandardMaterial:'physical',MeshPhysicalMaterial:'physical',LineBasicMaterial:'basic',LineDashedMaterial:'dashed',PointsMaterial:'points',ShadowMaterial:'shadow'};var parameterNames=[\"precision\",\"supportsVertexTextures\",\"map\",\"mapEncoding\",\"envMap\",\"envMapMode\",\"envMapEncoding\",\"lightMap\",\"aoMap\",\"emissiveMap\",\"emissiveMapEncoding\",\"bumpMap\",\"normalMap\",\"displacementMap\",\"specularMap\",\"roughnessMap\",\"metalnessMap\",\"gradientMap\",\"alphaMap\",\"combine\",\"vertexColors\",\"fog\",\"useFog\",\"fogExp\",\"flatShading\",\"sizeAttenuation\",\"logarithmicDepthBuffer\",\"skinning\",\"maxBones\",\"useVertexTexture\",\"morphTargets\",\"morphNormals\",\"maxMorphTargets\",\"maxMorphNormals\",\"premultipliedAlpha\",\"numDirLights\",\"numPointLights\",\"numSpotLights\",\"numHemiLights\",\"numRectAreaLights\",\"shadowMapEnabled\",\"shadowMapType\",\"toneMapping\",'physicallyCorrectLights',\"alphaTest\",\"doubleSided\",\"flipSided\",\"numClippingPlanes\",\"numClipIntersection\",\"depthPacking\",\"dithering\"];function allocateBones(object){var skeleton=object.skeleton;var bones=skeleton.bones;if(capabilities.floatVertexTextures){return 1024;}else{// default for when object is not specified\n// ( for example when prebuilding shader to be used with multiple objects )\n//\n//  - leave some extra space for other uniforms\n//  - limit here is ANGLE's 254 max uniform vectors\n//    (up to 54 should be safe)\nvar nVertexUniforms=capabilities.maxVertexUniforms;var nVertexMatrices=Math.floor((nVertexUniforms-20)/4);var maxBones=Math.min(nVertexMatrices,bones.length);if(maxBones<bones.length){console.warn('THREE.WebGLRenderer: Skeleton has '+bones.length+' bones. This GPU supports '+maxBones+'.');return 0;}return maxBones;}}function getTextureEncodingFromMap(map,gammaOverrideLinear){var encoding;if(!map){encoding=LinearEncoding;}else if(map.isTexture){encoding=map.encoding;}else if(map.isWebGLRenderTarget){console.warn(\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\");encoding=map.texture.encoding;}// add backwards compatibility for WebGLRenderer.gammaInput/gammaOutput parameter, should probably be removed at some point.\nif(encoding===LinearEncoding&&gammaOverrideLinear){encoding=GammaEncoding;}return encoding;}this.getParameters=function(material,lights,shadows,fog,nClipPlanes,nClipIntersection,object){var shaderID=shaderIDs[material.type];// heuristics to create shader parameters according to lights in the scene\n// (not to blow over maxLights budget)\nvar maxBones=object.isSkinnedMesh?allocateBones(object):0;var precision=capabilities.precision;if(material.precision!==null){precision=capabilities.getMaxPrecision(material.precision);if(precision!==material.precision){console.warn('THREE.WebGLProgram.getParameters:',material.precision,'not supported, using',precision,'instead.');}}var currentRenderTarget=renderer.getRenderTarget();var parameters={shaderID:shaderID,precision:precision,supportsVertexTextures:capabilities.vertexTextures,outputEncoding:getTextureEncodingFromMap(!currentRenderTarget?null:currentRenderTarget.texture,renderer.gammaOutput),map:!!material.map,mapEncoding:getTextureEncodingFromMap(material.map,renderer.gammaInput),envMap:!!material.envMap,envMapMode:material.envMap&&material.envMap.mapping,envMapEncoding:getTextureEncodingFromMap(material.envMap,renderer.gammaInput),envMapCubeUV:!!material.envMap&&(material.envMap.mapping===CubeUVReflectionMapping||material.envMap.mapping===CubeUVRefractionMapping),lightMap:!!material.lightMap,aoMap:!!material.aoMap,emissiveMap:!!material.emissiveMap,emissiveMapEncoding:getTextureEncodingFromMap(material.emissiveMap,renderer.gammaInput),bumpMap:!!material.bumpMap,normalMap:!!material.normalMap,displacementMap:!!material.displacementMap,roughnessMap:!!material.roughnessMap,metalnessMap:!!material.metalnessMap,specularMap:!!material.specularMap,alphaMap:!!material.alphaMap,gradientMap:!!material.gradientMap,combine:material.combine,vertexColors:material.vertexColors,fog:!!fog,useFog:material.fog,fogExp:fog&&fog.isFogExp2,flatShading:material.flatShading,sizeAttenuation:material.sizeAttenuation,logarithmicDepthBuffer:capabilities.logarithmicDepthBuffer,skinning:material.skinning&&maxBones>0,maxBones:maxBones,useVertexTexture:capabilities.floatVertexTextures,morphTargets:material.morphTargets,morphNormals:material.morphNormals,maxMorphTargets:renderer.maxMorphTargets,maxMorphNormals:renderer.maxMorphNormals,numDirLights:lights.directional.length,numPointLights:lights.point.length,numSpotLights:lights.spot.length,numRectAreaLights:lights.rectArea.length,numHemiLights:lights.hemi.length,numClippingPlanes:nClipPlanes,numClipIntersection:nClipIntersection,dithering:material.dithering,shadowMapEnabled:renderer.shadowMap.enabled&&object.receiveShadow&&shadows.length>0,shadowMapType:renderer.shadowMap.type,toneMapping:renderer.toneMapping,physicallyCorrectLights:renderer.physicallyCorrectLights,premultipliedAlpha:material.premultipliedAlpha,alphaTest:material.alphaTest,doubleSided:material.side===DoubleSide,flipSided:material.side===BackSide,depthPacking:material.depthPacking!==undefined?material.depthPacking:false};return parameters;};this.getProgramCode=function(material,parameters){var array=[];if(parameters.shaderID){array.push(parameters.shaderID);}else{array.push(material.fragmentShader);array.push(material.vertexShader);}if(material.defines!==undefined){for(var name in material.defines){array.push(name);array.push(material.defines[name]);}}for(var i=0;i<parameterNames.length;i++){array.push(parameters[parameterNames[i]]);}array.push(material.onBeforeCompile.toString());array.push(renderer.gammaOutput);return array.join();};this.acquireProgram=function(material,shader,parameters,code){var program;// Check if code has been already compiled\nfor(var p=0,pl=programs.length;p<pl;p++){var programInfo=programs[p];if(programInfo.code===code){program=programInfo;++program.usedTimes;break;}}if(program===undefined){program=new WebGLProgram(renderer,extensions,code,material,shader,parameters);programs.push(program);}return program;};this.releaseProgram=function(program){if(--program.usedTimes===0){// Remove from unordered set\nvar i=programs.indexOf(program);programs[i]=programs[programs.length-1];programs.pop();// Free WebGL resources\nprogram.destroy();}};// Exposed for resource monitoring & error feedback via renderer.info:\nthis.programs=programs;}/**\n * @author mrdoob / http://mrdoob.com/\n */function WebGLTextures(_gl,extensions,state,properties,capabilities,utils,infoMemory){var _isWebGL2=typeof WebGL2RenderingContext!=='undefined'&&_gl instanceof WebGL2RenderingContext;//\nfunction clampToMaxSize(image,maxSize){if(image.width>maxSize||image.height>maxSize){// Warning: Scaling through the canvas will only work with images that use\n// premultiplied alpha.\nvar scale=maxSize/Math.max(image.width,image.height);var canvas=document.createElementNS('http://www.w3.org/1999/xhtml','canvas');canvas.width=Math.floor(image.width*scale);canvas.height=Math.floor(image.height*scale);var context=canvas.getContext('2d');context.drawImage(image,0,0,image.width,image.height,0,0,canvas.width,canvas.height);console.warn('THREE.WebGLRenderer: image is too big ('+image.width+'x'+image.height+'). Resized to '+canvas.width+'x'+canvas.height,image);return canvas;}return image;}function isPowerOfTwo(image){return _Math.isPowerOfTwo(image.width)&&_Math.isPowerOfTwo(image.height);}function makePowerOfTwo(image){if(image instanceof HTMLImageElement||image instanceof HTMLCanvasElement){var canvas=document.createElementNS('http://www.w3.org/1999/xhtml','canvas');canvas.width=_Math.nearestPowerOfTwo(image.width);canvas.height=_Math.nearestPowerOfTwo(image.height);var context=canvas.getContext('2d');context.drawImage(image,0,0,canvas.width,canvas.height);console.warn('THREE.WebGLRenderer: image is not power of two ('+image.width+'x'+image.height+'). Resized to '+canvas.width+'x'+canvas.height,image);return canvas;}return image;}function textureNeedsPowerOfTwo(texture){return texture.wrapS!==ClampToEdgeWrapping||texture.wrapT!==ClampToEdgeWrapping||texture.minFilter!==NearestFilter&&texture.minFilter!==LinearFilter;}function textureNeedsGenerateMipmaps(texture,isPowerOfTwo){return texture.generateMipmaps&&isPowerOfTwo&&texture.minFilter!==NearestFilter&&texture.minFilter!==LinearFilter;}// Fallback filters for non-power-of-2 textures\nfunction filterFallback(f){if(f===NearestFilter||f===NearestMipMapNearestFilter||f===NearestMipMapLinearFilter){return _gl.NEAREST;}return _gl.LINEAR;}//\nfunction onTextureDispose(event){var texture=event.target;texture.removeEventListener('dispose',onTextureDispose);deallocateTexture(texture);infoMemory.textures--;}function onRenderTargetDispose(event){var renderTarget=event.target;renderTarget.removeEventListener('dispose',onRenderTargetDispose);deallocateRenderTarget(renderTarget);infoMemory.textures--;}//\nfunction deallocateTexture(texture){var textureProperties=properties.get(texture);if(texture.image&&textureProperties.__image__webglTextureCube){// cube texture\n_gl.deleteTexture(textureProperties.__image__webglTextureCube);}else{// 2D texture\nif(textureProperties.__webglInit===undefined)return;_gl.deleteTexture(textureProperties.__webglTexture);}// remove all webgl properties\nproperties.remove(texture);}function deallocateRenderTarget(renderTarget){var renderTargetProperties=properties.get(renderTarget);var textureProperties=properties.get(renderTarget.texture);if(!renderTarget)return;if(textureProperties.__webglTexture!==undefined){_gl.deleteTexture(textureProperties.__webglTexture);}if(renderTarget.depthTexture){renderTarget.depthTexture.dispose();}if(renderTarget.isWebGLRenderTargetCube){for(var i=0;i<6;i++){_gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer[i]);if(renderTargetProperties.__webglDepthbuffer)_gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer[i]);}}else{_gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer);if(renderTargetProperties.__webglDepthbuffer)_gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer);}properties.remove(renderTarget.texture);properties.remove(renderTarget);}//\nfunction setTexture2D(texture,slot){var textureProperties=properties.get(texture);if(texture.version>0&&textureProperties.__version!==texture.version){var image=texture.image;if(image===undefined){console.warn('THREE.WebGLRenderer: Texture marked for update but image is undefined',texture);}else if(image.complete===false){console.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete',texture);}else{uploadTexture(textureProperties,texture,slot);return;}}state.activeTexture(_gl.TEXTURE0+slot);state.bindTexture(_gl.TEXTURE_2D,textureProperties.__webglTexture);}function setTextureCube(texture,slot){var textureProperties=properties.get(texture);if(texture.image.length===6){if(texture.version>0&&textureProperties.__version!==texture.version){if(!textureProperties.__image__webglTextureCube){texture.addEventListener('dispose',onTextureDispose);textureProperties.__image__webglTextureCube=_gl.createTexture();infoMemory.textures++;}state.activeTexture(_gl.TEXTURE0+slot);state.bindTexture(_gl.TEXTURE_CUBE_MAP,textureProperties.__image__webglTextureCube);_gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL,texture.flipY);var isCompressed=texture&&texture.isCompressedTexture;var isDataTexture=texture.image[0]&&texture.image[0].isDataTexture;var cubeImage=[];for(var i=0;i<6;i++){if(!isCompressed&&!isDataTexture){cubeImage[i]=clampToMaxSize(texture.image[i],capabilities.maxCubemapSize);}else{cubeImage[i]=isDataTexture?texture.image[i].image:texture.image[i];}}var image=cubeImage[0],isPowerOfTwoImage=isPowerOfTwo(image),glFormat=utils.convert(texture.format),glType=utils.convert(texture.type);setTextureParameters(_gl.TEXTURE_CUBE_MAP,texture,isPowerOfTwoImage);for(var i=0;i<6;i++){if(!isCompressed){if(isDataTexture){state.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,glFormat,cubeImage[i].width,cubeImage[i].height,0,glFormat,glType,cubeImage[i].data);}else{state.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,glFormat,glFormat,glType,cubeImage[i]);}}else{var mipmap,mipmaps=cubeImage[i].mipmaps;for(var j=0,jl=mipmaps.length;j<jl;j++){mipmap=mipmaps[j];if(texture.format!==RGBAFormat&&texture.format!==RGBFormat){if(state.getCompressedTextureFormats().indexOf(glFormat)>-1){state.compressedTexImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,j,glFormat,mipmap.width,mipmap.height,0,mipmap.data);}else{console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()');}}else{state.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,j,glFormat,mipmap.width,mipmap.height,0,glFormat,glType,mipmap.data);}}}}if(textureNeedsGenerateMipmaps(texture,isPowerOfTwoImage)){_gl.generateMipmap(_gl.TEXTURE_CUBE_MAP);}textureProperties.__version=texture.version;if(texture.onUpdate)texture.onUpdate(texture);}else{state.activeTexture(_gl.TEXTURE0+slot);state.bindTexture(_gl.TEXTURE_CUBE_MAP,textureProperties.__image__webglTextureCube);}}}function setTextureCubeDynamic(texture,slot){state.activeTexture(_gl.TEXTURE0+slot);state.bindTexture(_gl.TEXTURE_CUBE_MAP,properties.get(texture).__webglTexture);}function setTextureParameters(textureType,texture,isPowerOfTwoImage){var extension;if(isPowerOfTwoImage){_gl.texParameteri(textureType,_gl.TEXTURE_WRAP_S,utils.convert(texture.wrapS));_gl.texParameteri(textureType,_gl.TEXTURE_WRAP_T,utils.convert(texture.wrapT));_gl.texParameteri(textureType,_gl.TEXTURE_MAG_FILTER,utils.convert(texture.magFilter));_gl.texParameteri(textureType,_gl.TEXTURE_MIN_FILTER,utils.convert(texture.minFilter));}else{_gl.texParameteri(textureType,_gl.TEXTURE_WRAP_S,_gl.CLAMP_TO_EDGE);_gl.texParameteri(textureType,_gl.TEXTURE_WRAP_T,_gl.CLAMP_TO_EDGE);if(texture.wrapS!==ClampToEdgeWrapping||texture.wrapT!==ClampToEdgeWrapping){console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.',texture);}_gl.texParameteri(textureType,_gl.TEXTURE_MAG_FILTER,filterFallback(texture.magFilter));_gl.texParameteri(textureType,_gl.TEXTURE_MIN_FILTER,filterFallback(texture.minFilter));if(texture.minFilter!==NearestFilter&&texture.minFilter!==LinearFilter){console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.',texture);}}extension=extensions.get('EXT_texture_filter_anisotropic');if(extension){if(texture.type===FloatType&&extensions.get('OES_texture_float_linear')===null)return;if(texture.type===HalfFloatType&&extensions.get('OES_texture_half_float_linear')===null)return;if(texture.anisotropy>1||properties.get(texture).__currentAnisotropy){_gl.texParameterf(textureType,extension.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(texture.anisotropy,capabilities.getMaxAnisotropy()));properties.get(texture).__currentAnisotropy=texture.anisotropy;}}}function uploadTexture(textureProperties,texture,slot){if(textureProperties.__webglInit===undefined){textureProperties.__webglInit=true;texture.addEventListener('dispose',onTextureDispose);textureProperties.__webglTexture=_gl.createTexture();infoMemory.textures++;}state.activeTexture(_gl.TEXTURE0+slot);state.bindTexture(_gl.TEXTURE_2D,textureProperties.__webglTexture);_gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL,texture.flipY);_gl.pixelStorei(_gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,texture.premultiplyAlpha);_gl.pixelStorei(_gl.UNPACK_ALIGNMENT,texture.unpackAlignment);var image=clampToMaxSize(texture.image,capabilities.maxTextureSize);if(textureNeedsPowerOfTwo(texture)&&isPowerOfTwo(image)===false){image=makePowerOfTwo(image);}var isPowerOfTwoImage=isPowerOfTwo(image),glFormat=utils.convert(texture.format),glType=utils.convert(texture.type);setTextureParameters(_gl.TEXTURE_2D,texture,isPowerOfTwoImage);var mipmap,mipmaps=texture.mipmaps;if(texture.isDepthTexture){// populate depth texture with dummy data\nvar internalFormat=_gl.DEPTH_COMPONENT;if(texture.type===FloatType){if(!_isWebGL2)throw new Error('Float Depth Texture only supported in WebGL2.0');internalFormat=_gl.DEPTH_COMPONENT32F;}else if(_isWebGL2){// WebGL 2.0 requires signed internalformat for glTexImage2D\ninternalFormat=_gl.DEPTH_COMPONENT16;}if(texture.format===DepthFormat&&internalFormat===_gl.DEPTH_COMPONENT){// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\nif(texture.type!==UnsignedShortType&&texture.type!==UnsignedIntType){console.warn('THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.');texture.type=UnsignedShortType;glType=utils.convert(texture.type);}}// Depth stencil textures need the DEPTH_STENCIL internal format\n// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\nif(texture.format===DepthStencilFormat){internalFormat=_gl.DEPTH_STENCIL;// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\nif(texture.type!==UnsignedInt248Type){console.warn('THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.');texture.type=UnsignedInt248Type;glType=utils.convert(texture.type);}}state.texImage2D(_gl.TEXTURE_2D,0,internalFormat,image.width,image.height,0,glFormat,glType,null);}else if(texture.isDataTexture){// use manually created mipmaps if available\n// if there are no manual mipmaps\n// set 0 level mipmap and then use GL to generate other mipmap levels\nif(mipmaps.length>0&&isPowerOfTwoImage){for(var i=0,il=mipmaps.length;i<il;i++){mipmap=mipmaps[i];state.texImage2D(_gl.TEXTURE_2D,i,glFormat,mipmap.width,mipmap.height,0,glFormat,glType,mipmap.data);}texture.generateMipmaps=false;}else{state.texImage2D(_gl.TEXTURE_2D,0,glFormat,image.width,image.height,0,glFormat,glType,image.data);}}else if(texture.isCompressedTexture){for(var i=0,il=mipmaps.length;i<il;i++){mipmap=mipmaps[i];if(texture.format!==RGBAFormat&&texture.format!==RGBFormat){if(state.getCompressedTextureFormats().indexOf(glFormat)>-1){state.compressedTexImage2D(_gl.TEXTURE_2D,i,glFormat,mipmap.width,mipmap.height,0,mipmap.data);}else{console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()');}}else{state.texImage2D(_gl.TEXTURE_2D,i,glFormat,mipmap.width,mipmap.height,0,glFormat,glType,mipmap.data);}}}else{// regular Texture (image, video, canvas)\n// use manually created mipmaps if available\n// if there are no manual mipmaps\n// set 0 level mipmap and then use GL to generate other mipmap levels\nif(mipmaps.length>0&&isPowerOfTwoImage){for(var i=0,il=mipmaps.length;i<il;i++){mipmap=mipmaps[i];state.texImage2D(_gl.TEXTURE_2D,i,glFormat,glFormat,glType,mipmap);}texture.generateMipmaps=false;}else{state.texImage2D(_gl.TEXTURE_2D,0,glFormat,glFormat,glType,image);}}if(textureNeedsGenerateMipmaps(texture,isPowerOfTwoImage))_gl.generateMipmap(_gl.TEXTURE_2D);textureProperties.__version=texture.version;if(texture.onUpdate)texture.onUpdate(texture);}// Render targets\n// Setup storage for target texture and bind it to correct framebuffer\nfunction setupFrameBufferTexture(framebuffer,renderTarget,attachment,textureTarget){var glFormat=utils.convert(renderTarget.texture.format);var glType=utils.convert(renderTarget.texture.type);state.texImage2D(textureTarget,0,glFormat,renderTarget.width,renderTarget.height,0,glFormat,glType,null);_gl.bindFramebuffer(_gl.FRAMEBUFFER,framebuffer);_gl.framebufferTexture2D(_gl.FRAMEBUFFER,attachment,textureTarget,properties.get(renderTarget.texture).__webglTexture,0);_gl.bindFramebuffer(_gl.FRAMEBUFFER,null);}// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\nfunction setupRenderBufferStorage(renderbuffer,renderTarget){_gl.bindRenderbuffer(_gl.RENDERBUFFER,renderbuffer);if(renderTarget.depthBuffer&&!renderTarget.stencilBuffer){_gl.renderbufferStorage(_gl.RENDERBUFFER,_gl.DEPTH_COMPONENT16,renderTarget.width,renderTarget.height);_gl.framebufferRenderbuffer(_gl.FRAMEBUFFER,_gl.DEPTH_ATTACHMENT,_gl.RENDERBUFFER,renderbuffer);}else if(renderTarget.depthBuffer&&renderTarget.stencilBuffer){_gl.renderbufferStorage(_gl.RENDERBUFFER,_gl.DEPTH_STENCIL,renderTarget.width,renderTarget.height);_gl.framebufferRenderbuffer(_gl.FRAMEBUFFER,_gl.DEPTH_STENCIL_ATTACHMENT,_gl.RENDERBUFFER,renderbuffer);}else{// FIXME: We don't support !depth !stencil\n_gl.renderbufferStorage(_gl.RENDERBUFFER,_gl.RGBA4,renderTarget.width,renderTarget.height);}_gl.bindRenderbuffer(_gl.RENDERBUFFER,null);}// Setup resources for a Depth Texture for a FBO (needs an extension)\nfunction setupDepthTexture(framebuffer,renderTarget){var isCube=renderTarget&&renderTarget.isWebGLRenderTargetCube;if(isCube)throw new Error('Depth Texture with cube render targets is not supported');_gl.bindFramebuffer(_gl.FRAMEBUFFER,framebuffer);if(!(renderTarget.depthTexture&&renderTarget.depthTexture.isDepthTexture)){throw new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');}// upload an empty depth texture with framebuffer size\nif(!properties.get(renderTarget.depthTexture).__webglTexture||renderTarget.depthTexture.image.width!==renderTarget.width||renderTarget.depthTexture.image.height!==renderTarget.height){renderTarget.depthTexture.image.width=renderTarget.width;renderTarget.depthTexture.image.height=renderTarget.height;renderTarget.depthTexture.needsUpdate=true;}setTexture2D(renderTarget.depthTexture,0);var webglDepthTexture=properties.get(renderTarget.depthTexture).__webglTexture;if(renderTarget.depthTexture.format===DepthFormat){_gl.framebufferTexture2D(_gl.FRAMEBUFFER,_gl.DEPTH_ATTACHMENT,_gl.TEXTURE_2D,webglDepthTexture,0);}else if(renderTarget.depthTexture.format===DepthStencilFormat){_gl.framebufferTexture2D(_gl.FRAMEBUFFER,_gl.DEPTH_STENCIL_ATTACHMENT,_gl.TEXTURE_2D,webglDepthTexture,0);}else{throw new Error('Unknown depthTexture format');}}// Setup GL resources for a non-texture depth buffer\nfunction setupDepthRenderbuffer(renderTarget){var renderTargetProperties=properties.get(renderTarget);var isCube=renderTarget.isWebGLRenderTargetCube===true;if(renderTarget.depthTexture){if(isCube)throw new Error('target.depthTexture not supported in Cube render targets');setupDepthTexture(renderTargetProperties.__webglFramebuffer,renderTarget);}else{if(isCube){renderTargetProperties.__webglDepthbuffer=[];for(var i=0;i<6;i++){_gl.bindFramebuffer(_gl.FRAMEBUFFER,renderTargetProperties.__webglFramebuffer[i]);renderTargetProperties.__webglDepthbuffer[i]=_gl.createRenderbuffer();setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer[i],renderTarget);}}else{_gl.bindFramebuffer(_gl.FRAMEBUFFER,renderTargetProperties.__webglFramebuffer);renderTargetProperties.__webglDepthbuffer=_gl.createRenderbuffer();setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer,renderTarget);}}_gl.bindFramebuffer(_gl.FRAMEBUFFER,null);}// Set up GL resources for the render target\nfunction setupRenderTarget(renderTarget){var renderTargetProperties=properties.get(renderTarget);var textureProperties=properties.get(renderTarget.texture);renderTarget.addEventListener('dispose',onRenderTargetDispose);textureProperties.__webglTexture=_gl.createTexture();infoMemory.textures++;var isCube=renderTarget.isWebGLRenderTargetCube===true;var isTargetPowerOfTwo=isPowerOfTwo(renderTarget);// Setup framebuffer\nif(isCube){renderTargetProperties.__webglFramebuffer=[];for(var i=0;i<6;i++){renderTargetProperties.__webglFramebuffer[i]=_gl.createFramebuffer();}}else{renderTargetProperties.__webglFramebuffer=_gl.createFramebuffer();}// Setup color buffer\nif(isCube){state.bindTexture(_gl.TEXTURE_CUBE_MAP,textureProperties.__webglTexture);setTextureParameters(_gl.TEXTURE_CUBE_MAP,renderTarget.texture,isTargetPowerOfTwo);for(var i=0;i<6;i++){setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer[i],renderTarget,_gl.COLOR_ATTACHMENT0,_gl.TEXTURE_CUBE_MAP_POSITIVE_X+i);}if(textureNeedsGenerateMipmaps(renderTarget.texture,isTargetPowerOfTwo))_gl.generateMipmap(_gl.TEXTURE_CUBE_MAP);state.bindTexture(_gl.TEXTURE_CUBE_MAP,null);}else{state.bindTexture(_gl.TEXTURE_2D,textureProperties.__webglTexture);setTextureParameters(_gl.TEXTURE_2D,renderTarget.texture,isTargetPowerOfTwo);setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer,renderTarget,_gl.COLOR_ATTACHMENT0,_gl.TEXTURE_2D);if(textureNeedsGenerateMipmaps(renderTarget.texture,isTargetPowerOfTwo))_gl.generateMipmap(_gl.TEXTURE_2D);state.bindTexture(_gl.TEXTURE_2D,null);}// Setup depth and stencil buffers\nif(renderTarget.depthBuffer){setupDepthRenderbuffer(renderTarget);}}function updateRenderTargetMipmap(renderTarget){var texture=renderTarget.texture;var isTargetPowerOfTwo=isPowerOfTwo(renderTarget);if(textureNeedsGenerateMipmaps(texture,isTargetPowerOfTwo)){var target=renderTarget.isWebGLRenderTargetCube?_gl.TEXTURE_CUBE_MAP:_gl.TEXTURE_2D;var webglTexture=properties.get(texture).__webglTexture;state.bindTexture(target,webglTexture);_gl.generateMipmap(target);state.bindTexture(target,null);}}this.setTexture2D=setTexture2D;this.setTextureCube=setTextureCube;this.setTextureCubeDynamic=setTextureCubeDynamic;this.setupRenderTarget=setupRenderTarget;this.updateRenderTargetMipmap=updateRenderTargetMipmap;}/**\n * @author fordacious / fordacious.github.io\n */function WebGLProperties(){var properties={};function get(object){var uuid=object.uuid;var map=properties[uuid];if(map===undefined){map={};properties[uuid]=map;}return map;}function remove(object){delete properties[object.uuid];}function clear(){properties={};}return{get:get,remove:remove,clear:clear};}/**\n * @author mrdoob / http://mrdoob.com/\n */function WebGLState(gl,extensions,utils){function ColorBuffer(){var locked=false;var color=new Vector4();var currentColorMask=null;var currentColorClear=new Vector4(0,0,0,0);return{setMask:function setMask(colorMask){if(currentColorMask!==colorMask&&!locked){gl.colorMask(colorMask,colorMask,colorMask,colorMask);currentColorMask=colorMask;}},setLocked:function setLocked(lock){locked=lock;},setClear:function setClear(r,g,b,a,premultipliedAlpha){if(premultipliedAlpha===true){r*=a;g*=a;b*=a;}color.set(r,g,b,a);if(currentColorClear.equals(color)===false){gl.clearColor(r,g,b,a);currentColorClear.copy(color);}},reset:function reset(){locked=false;currentColorMask=null;currentColorClear.set(-1,0,0,0);// set to invalid state\n}};}function DepthBuffer(){var locked=false;var currentDepthMask=null;var currentDepthFunc=null;var currentDepthClear=null;return{setTest:function setTest(depthTest){if(depthTest){enable(gl.DEPTH_TEST);}else{disable(gl.DEPTH_TEST);}},setMask:function setMask(depthMask){if(currentDepthMask!==depthMask&&!locked){gl.depthMask(depthMask);currentDepthMask=depthMask;}},setFunc:function setFunc(depthFunc){if(currentDepthFunc!==depthFunc){if(depthFunc){switch(depthFunc){case NeverDepth:gl.depthFunc(gl.NEVER);break;case AlwaysDepth:gl.depthFunc(gl.ALWAYS);break;case LessDepth:gl.depthFunc(gl.LESS);break;case LessEqualDepth:gl.depthFunc(gl.LEQUAL);break;case EqualDepth:gl.depthFunc(gl.EQUAL);break;case GreaterEqualDepth:gl.depthFunc(gl.GEQUAL);break;case GreaterDepth:gl.depthFunc(gl.GREATER);break;case NotEqualDepth:gl.depthFunc(gl.NOTEQUAL);break;default:gl.depthFunc(gl.LEQUAL);}}else{gl.depthFunc(gl.LEQUAL);}currentDepthFunc=depthFunc;}},setLocked:function setLocked(lock){locked=lock;},setClear:function setClear(depth){if(currentDepthClear!==depth){gl.clearDepth(depth);currentDepthClear=depth;}},reset:function reset(){locked=false;currentDepthMask=null;currentDepthFunc=null;currentDepthClear=null;}};}function StencilBuffer(){var locked=false;var currentStencilMask=null;var currentStencilFunc=null;var currentStencilRef=null;var currentStencilFuncMask=null;var currentStencilFail=null;var currentStencilZFail=null;var currentStencilZPass=null;var currentStencilClear=null;return{setTest:function setTest(stencilTest){if(stencilTest){enable(gl.STENCIL_TEST);}else{disable(gl.STENCIL_TEST);}},setMask:function setMask(stencilMask){if(currentStencilMask!==stencilMask&&!locked){gl.stencilMask(stencilMask);currentStencilMask=stencilMask;}},setFunc:function setFunc(stencilFunc,stencilRef,stencilMask){if(currentStencilFunc!==stencilFunc||currentStencilRef!==stencilRef||currentStencilFuncMask!==stencilMask){gl.stencilFunc(stencilFunc,stencilRef,stencilMask);currentStencilFunc=stencilFunc;currentStencilRef=stencilRef;currentStencilFuncMask=stencilMask;}},setOp:function setOp(stencilFail,stencilZFail,stencilZPass){if(currentStencilFail!==stencilFail||currentStencilZFail!==stencilZFail||currentStencilZPass!==stencilZPass){gl.stencilOp(stencilFail,stencilZFail,stencilZPass);currentStencilFail=stencilFail;currentStencilZFail=stencilZFail;currentStencilZPass=stencilZPass;}},setLocked:function setLocked(lock){locked=lock;},setClear:function setClear(stencil){if(currentStencilClear!==stencil){gl.clearStencil(stencil);currentStencilClear=stencil;}},reset:function reset(){locked=false;currentStencilMask=null;currentStencilFunc=null;currentStencilRef=null;currentStencilFuncMask=null;currentStencilFail=null;currentStencilZFail=null;currentStencilZPass=null;currentStencilClear=null;}};}//\nvar colorBuffer=new ColorBuffer();var depthBuffer=new DepthBuffer();var stencilBuffer=new StencilBuffer();var maxVertexAttributes=gl.getParameter(gl.MAX_VERTEX_ATTRIBS);var newAttributes=new Uint8Array(maxVertexAttributes);var enabledAttributes=new Uint8Array(maxVertexAttributes);var attributeDivisors=new Uint8Array(maxVertexAttributes);var capabilities={};var compressedTextureFormats=null;var currentProgram=null;var currentBlending=null;var currentBlendEquation=null;var currentBlendSrc=null;var currentBlendDst=null;var currentBlendEquationAlpha=null;var currentBlendSrcAlpha=null;var currentBlendDstAlpha=null;var currentPremultipledAlpha=false;var currentFlipSided=null;var currentCullFace=null;var currentLineWidth=null;var currentPolygonOffsetFactor=null;var currentPolygonOffsetUnits=null;var maxTextures=gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);var version=parseFloat(/^WebGL\\ ([0-9])/.exec(gl.getParameter(gl.VERSION))[1]);var lineWidthAvailable=parseFloat(version)>=1.0;var currentTextureSlot=null;var currentBoundTextures={};var currentScissor=new Vector4();var currentViewport=new Vector4();function createTexture(type,target,count){var data=new Uint8Array(4);// 4 is required to match default unpack alignment of 4.\nvar texture=gl.createTexture();gl.bindTexture(type,texture);gl.texParameteri(type,gl.TEXTURE_MIN_FILTER,gl.NEAREST);gl.texParameteri(type,gl.TEXTURE_MAG_FILTER,gl.NEAREST);for(var i=0;i<count;i++){gl.texImage2D(target+i,0,gl.RGBA,1,1,0,gl.RGBA,gl.UNSIGNED_BYTE,data);}return texture;}var emptyTextures={};emptyTextures[gl.TEXTURE_2D]=createTexture(gl.TEXTURE_2D,gl.TEXTURE_2D,1);emptyTextures[gl.TEXTURE_CUBE_MAP]=createTexture(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_CUBE_MAP_POSITIVE_X,6);// init\ncolorBuffer.setClear(0,0,0,1);depthBuffer.setClear(1);stencilBuffer.setClear(0);enable(gl.DEPTH_TEST);depthBuffer.setFunc(LessEqualDepth);setFlipSided(false);setCullFace(CullFaceBack);enable(gl.CULL_FACE);enable(gl.BLEND);setBlending(NormalBlending);//\nfunction initAttributes(){for(var i=0,l=newAttributes.length;i<l;i++){newAttributes[i]=0;}}function enableAttribute(attribute){newAttributes[attribute]=1;if(enabledAttributes[attribute]===0){gl.enableVertexAttribArray(attribute);enabledAttributes[attribute]=1;}if(attributeDivisors[attribute]!==0){var extension=extensions.get('ANGLE_instanced_arrays');extension.vertexAttribDivisorANGLE(attribute,0);attributeDivisors[attribute]=0;}}function enableAttributeAndDivisor(attribute,meshPerAttribute){newAttributes[attribute]=1;if(enabledAttributes[attribute]===0){gl.enableVertexAttribArray(attribute);enabledAttributes[attribute]=1;}if(attributeDivisors[attribute]!==meshPerAttribute){var extension=extensions.get('ANGLE_instanced_arrays');extension.vertexAttribDivisorANGLE(attribute,meshPerAttribute);attributeDivisors[attribute]=meshPerAttribute;}}function disableUnusedAttributes(){for(var i=0,l=enabledAttributes.length;i!==l;++i){if(enabledAttributes[i]!==newAttributes[i]){gl.disableVertexAttribArray(i);enabledAttributes[i]=0;}}}function enable(id){if(capabilities[id]!==true){gl.enable(id);capabilities[id]=true;}}function disable(id){if(capabilities[id]!==false){gl.disable(id);capabilities[id]=false;}}function getCompressedTextureFormats(){if(compressedTextureFormats===null){compressedTextureFormats=[];if(extensions.get('WEBGL_compressed_texture_pvrtc')||extensions.get('WEBGL_compressed_texture_s3tc')||extensions.get('WEBGL_compressed_texture_etc1')){var formats=gl.getParameter(gl.COMPRESSED_TEXTURE_FORMATS);for(var i=0;i<formats.length;i++){compressedTextureFormats.push(formats[i]);}}}return compressedTextureFormats;}function useProgram(program){if(currentProgram!==program){gl.useProgram(program);currentProgram=program;return true;}return false;}function setBlending(blending,blendEquation,blendSrc,blendDst,blendEquationAlpha,blendSrcAlpha,blendDstAlpha,premultipliedAlpha){if(blending!==NoBlending){enable(gl.BLEND);}else{disable(gl.BLEND);}if(blending!==CustomBlending){if(blending!==currentBlending||premultipliedAlpha!==currentPremultipledAlpha){switch(blending){case AdditiveBlending:if(premultipliedAlpha){gl.blendEquationSeparate(gl.FUNC_ADD,gl.FUNC_ADD);gl.blendFuncSeparate(gl.ONE,gl.ONE,gl.ONE,gl.ONE);}else{gl.blendEquation(gl.FUNC_ADD);gl.blendFunc(gl.SRC_ALPHA,gl.ONE);}break;case SubtractiveBlending:if(premultipliedAlpha){gl.blendEquationSeparate(gl.FUNC_ADD,gl.FUNC_ADD);gl.blendFuncSeparate(gl.ZERO,gl.ZERO,gl.ONE_MINUS_SRC_COLOR,gl.ONE_MINUS_SRC_ALPHA);}else{gl.blendEquation(gl.FUNC_ADD);gl.blendFunc(gl.ZERO,gl.ONE_MINUS_SRC_COLOR);}break;case MultiplyBlending:if(premultipliedAlpha){gl.blendEquationSeparate(gl.FUNC_ADD,gl.FUNC_ADD);gl.blendFuncSeparate(gl.ZERO,gl.SRC_COLOR,gl.ZERO,gl.SRC_ALPHA);}else{gl.blendEquation(gl.FUNC_ADD);gl.blendFunc(gl.ZERO,gl.SRC_COLOR);}break;default:if(premultipliedAlpha){gl.blendEquationSeparate(gl.FUNC_ADD,gl.FUNC_ADD);gl.blendFuncSeparate(gl.ONE,gl.ONE_MINUS_SRC_ALPHA,gl.ONE,gl.ONE_MINUS_SRC_ALPHA);}else{gl.blendEquationSeparate(gl.FUNC_ADD,gl.FUNC_ADD);gl.blendFuncSeparate(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA,gl.ONE,gl.ONE_MINUS_SRC_ALPHA);}}}currentBlendEquation=null;currentBlendSrc=null;currentBlendDst=null;currentBlendEquationAlpha=null;currentBlendSrcAlpha=null;currentBlendDstAlpha=null;}else{blendEquationAlpha=blendEquationAlpha||blendEquation;blendSrcAlpha=blendSrcAlpha||blendSrc;blendDstAlpha=blendDstAlpha||blendDst;if(blendEquation!==currentBlendEquation||blendEquationAlpha!==currentBlendEquationAlpha){gl.blendEquationSeparate(utils.convert(blendEquation),utils.convert(blendEquationAlpha));currentBlendEquation=blendEquation;currentBlendEquationAlpha=blendEquationAlpha;}if(blendSrc!==currentBlendSrc||blendDst!==currentBlendDst||blendSrcAlpha!==currentBlendSrcAlpha||blendDstAlpha!==currentBlendDstAlpha){gl.blendFuncSeparate(utils.convert(blendSrc),utils.convert(blendDst),utils.convert(blendSrcAlpha),utils.convert(blendDstAlpha));currentBlendSrc=blendSrc;currentBlendDst=blendDst;currentBlendSrcAlpha=blendSrcAlpha;currentBlendDstAlpha=blendDstAlpha;}}currentBlending=blending;currentPremultipledAlpha=premultipliedAlpha;}function setMaterial(material){material.side===DoubleSide?disable(gl.CULL_FACE):enable(gl.CULL_FACE);setFlipSided(material.side===BackSide);material.transparent===true?setBlending(material.blending,material.blendEquation,material.blendSrc,material.blendDst,material.blendEquationAlpha,material.blendSrcAlpha,material.blendDstAlpha,material.premultipliedAlpha):setBlending(NoBlending);depthBuffer.setFunc(material.depthFunc);depthBuffer.setTest(material.depthTest);depthBuffer.setMask(material.depthWrite);colorBuffer.setMask(material.colorWrite);setPolygonOffset(material.polygonOffset,material.polygonOffsetFactor,material.polygonOffsetUnits);}//\nfunction setFlipSided(flipSided){if(currentFlipSided!==flipSided){if(flipSided){gl.frontFace(gl.CW);}else{gl.frontFace(gl.CCW);}currentFlipSided=flipSided;}}function setCullFace(cullFace){if(cullFace!==CullFaceNone){enable(gl.CULL_FACE);if(cullFace!==currentCullFace){if(cullFace===CullFaceBack){gl.cullFace(gl.BACK);}else if(cullFace===CullFaceFront){gl.cullFace(gl.FRONT);}else{gl.cullFace(gl.FRONT_AND_BACK);}}}else{disable(gl.CULL_FACE);}currentCullFace=cullFace;}function setLineWidth(width){if(width!==currentLineWidth){if(lineWidthAvailable)gl.lineWidth(width);currentLineWidth=width;}}function setPolygonOffset(polygonOffset,factor,units){if(polygonOffset){enable(gl.POLYGON_OFFSET_FILL);if(currentPolygonOffsetFactor!==factor||currentPolygonOffsetUnits!==units){gl.polygonOffset(factor,units);currentPolygonOffsetFactor=factor;currentPolygonOffsetUnits=units;}}else{disable(gl.POLYGON_OFFSET_FILL);}}function setScissorTest(scissorTest){if(scissorTest){enable(gl.SCISSOR_TEST);}else{disable(gl.SCISSOR_TEST);}}// texture\nfunction activeTexture(webglSlot){if(webglSlot===undefined)webglSlot=gl.TEXTURE0+maxTextures-1;if(currentTextureSlot!==webglSlot){gl.activeTexture(webglSlot);currentTextureSlot=webglSlot;}}function bindTexture(webglType,webglTexture){if(currentTextureSlot===null){activeTexture();}var boundTexture=currentBoundTextures[currentTextureSlot];if(boundTexture===undefined){boundTexture={type:undefined,texture:undefined};currentBoundTextures[currentTextureSlot]=boundTexture;}if(boundTexture.type!==webglType||boundTexture.texture!==webglTexture){gl.bindTexture(webglType,webglTexture||emptyTextures[webglType]);boundTexture.type=webglType;boundTexture.texture=webglTexture;}}function compressedTexImage2D(){try{gl.compressedTexImage2D.apply(gl,arguments);}catch(error){console.error('THREE.WebGLState:',error);}}function texImage2D(){try{gl.texImage2D.apply(gl,arguments);}catch(error){console.error('THREE.WebGLState:',error);}}//\nfunction scissor(scissor){if(currentScissor.equals(scissor)===false){gl.scissor(scissor.x,scissor.y,scissor.z,scissor.w);currentScissor.copy(scissor);}}function viewport(viewport){if(currentViewport.equals(viewport)===false){gl.viewport(viewport.x,viewport.y,viewport.z,viewport.w);currentViewport.copy(viewport);}}//\nfunction reset(){for(var i=0;i<enabledAttributes.length;i++){if(enabledAttributes[i]===1){gl.disableVertexAttribArray(i);enabledAttributes[i]=0;}}capabilities={};compressedTextureFormats=null;currentTextureSlot=null;currentBoundTextures={};currentProgram=null;currentBlending=null;currentFlipSided=null;currentCullFace=null;colorBuffer.reset();depthBuffer.reset();stencilBuffer.reset();}return{buffers:{color:colorBuffer,depth:depthBuffer,stencil:stencilBuffer},initAttributes:initAttributes,enableAttribute:enableAttribute,enableAttributeAndDivisor:enableAttributeAndDivisor,disableUnusedAttributes:disableUnusedAttributes,enable:enable,disable:disable,getCompressedTextureFormats:getCompressedTextureFormats,useProgram:useProgram,setBlending:setBlending,setMaterial:setMaterial,setFlipSided:setFlipSided,setCullFace:setCullFace,setLineWidth:setLineWidth,setPolygonOffset:setPolygonOffset,setScissorTest:setScissorTest,activeTexture:activeTexture,bindTexture:bindTexture,compressedTexImage2D:compressedTexImage2D,texImage2D:texImage2D,scissor:scissor,viewport:viewport,reset:reset};}/**\n * @author mrdoob / http://mrdoob.com/\n */function WebGLCapabilities(gl,extensions,parameters){var maxAnisotropy;function getMaxAnisotropy(){if(maxAnisotropy!==undefined)return maxAnisotropy;var extension=extensions.get('EXT_texture_filter_anisotropic');if(extension!==null){maxAnisotropy=gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT);}else{maxAnisotropy=0;}return maxAnisotropy;}function getMaxPrecision(precision){if(precision==='highp'){if(gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.HIGH_FLOAT).precision>0&&gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.HIGH_FLOAT).precision>0){return'highp';}precision='mediump';}if(precision==='mediump'){if(gl.getShaderPrecisionFormat(gl.VERTEX_SHADER,gl.MEDIUM_FLOAT).precision>0&&gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER,gl.MEDIUM_FLOAT).precision>0){return'mediump';}}return'lowp';}var precision=parameters.precision!==undefined?parameters.precision:'highp';var maxPrecision=getMaxPrecision(precision);if(maxPrecision!==precision){console.warn('THREE.WebGLRenderer:',precision,'not supported, using',maxPrecision,'instead.');precision=maxPrecision;}var logarithmicDepthBuffer=parameters.logarithmicDepthBuffer===true&&!!extensions.get('EXT_frag_depth');var maxTextures=gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);var maxVertexTextures=gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS);var maxTextureSize=gl.getParameter(gl.MAX_TEXTURE_SIZE);var maxCubemapSize=gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);var maxAttributes=gl.getParameter(gl.MAX_VERTEX_ATTRIBS);var maxVertexUniforms=gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS);var maxVaryings=gl.getParameter(gl.MAX_VARYING_VECTORS);var maxFragmentUniforms=gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS);var vertexTextures=maxVertexTextures>0;var floatFragmentTextures=!!extensions.get('OES_texture_float');var floatVertexTextures=vertexTextures&&floatFragmentTextures;return{getMaxAnisotropy:getMaxAnisotropy,getMaxPrecision:getMaxPrecision,precision:precision,logarithmicDepthBuffer:logarithmicDepthBuffer,maxTextures:maxTextures,maxVertexTextures:maxVertexTextures,maxTextureSize:maxTextureSize,maxCubemapSize:maxCubemapSize,maxAttributes:maxAttributes,maxVertexUniforms:maxVertexUniforms,maxVaryings:maxVaryings,maxFragmentUniforms:maxFragmentUniforms,vertexTextures:vertexTextures,floatFragmentTextures:floatFragmentTextures,floatVertexTextures:floatVertexTextures};}/**\n * @author mrdoob / http://mrdoob.com/\n */function ArrayCamera(array){PerspectiveCamera.call(this);this.cameras=array||[];}ArrayCamera.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(PerspectiveCamera.prototype),{constructor:ArrayCamera,isArrayCamera:true});/**\n * @author mrdoob / http://mrdoob.com/\n */function WebVRManager(renderer){var scope=this;var device=null;var frameData=null;if('VRFrameData'in window){frameData=new window.VRFrameData();}var matrixWorldInverse=new Matrix4();var standingMatrix=new Matrix4();var standingMatrixInverse=new Matrix4();var cameraL=new PerspectiveCamera();cameraL.bounds=new Vector4(0.0,0.0,0.5,1.0);cameraL.layers.enable(1);var cameraR=new PerspectiveCamera();cameraR.bounds=new Vector4(0.5,0.0,0.5,1.0);cameraR.layers.enable(2);var cameraVR=new ArrayCamera([cameraL,cameraR]);cameraVR.layers.enable(1);cameraVR.layers.enable(2);//\nvar currentSize,currentPixelRatio;function onVRDisplayPresentChange(){if(device!==null&&device.isPresenting){var eyeParameters=device.getEyeParameters('left');var renderWidth=eyeParameters.renderWidth;var renderHeight=eyeParameters.renderHeight;currentPixelRatio=renderer.getPixelRatio();currentSize=renderer.getSize();renderer.setDrawingBufferSize(renderWidth*2,renderHeight,1);}else if(scope.enabled){renderer.setDrawingBufferSize(currentSize.width,currentSize.height,currentPixelRatio);}}window.addEventListener('vrdisplaypresentchange',onVRDisplayPresentChange,false);//\nthis.enabled=false;this.standing=false;this.getDevice=function(){return device;};this.setDevice=function(value){if(value!==undefined)device=value;};this.getCamera=function(camera){if(device===null)return camera;device.depthNear=camera.near;device.depthFar=camera.far;device.getFrameData(frameData);//\nvar pose=frameData.pose;if(pose.position!==null){camera.position.fromArray(pose.position);}else{camera.position.set(0,0,0);}if(pose.orientation!==null){camera.quaternion.fromArray(pose.orientation);}camera.updateMatrixWorld();var stageParameters=device.stageParameters;if(this.standing&&stageParameters){standingMatrix.fromArray(stageParameters.sittingToStandingTransform);standingMatrixInverse.getInverse(standingMatrix);camera.matrixWorld.multiply(standingMatrix);camera.matrixWorldInverse.multiply(standingMatrixInverse);}if(device.isPresenting===false)return camera;//\ncameraL.near=camera.near;cameraR.near=camera.near;cameraL.far=camera.far;cameraR.far=camera.far;cameraVR.matrixWorld.copy(camera.matrixWorld);cameraVR.matrixWorldInverse.copy(camera.matrixWorldInverse);cameraL.matrixWorldInverse.fromArray(frameData.leftViewMatrix);cameraR.matrixWorldInverse.fromArray(frameData.rightViewMatrix);if(this.standing&&stageParameters){cameraL.matrixWorldInverse.multiply(standingMatrixInverse);cameraR.matrixWorldInverse.multiply(standingMatrixInverse);}var parent=camera.parent;if(parent!==null){matrixWorldInverse.getInverse(parent.matrixWorld);cameraL.matrixWorldInverse.multiply(matrixWorldInverse);cameraR.matrixWorldInverse.multiply(matrixWorldInverse);}// envMap and Mirror needs camera.matrixWorld\ncameraL.matrixWorld.getInverse(cameraL.matrixWorldInverse);cameraR.matrixWorld.getInverse(cameraR.matrixWorldInverse);cameraL.projectionMatrix.fromArray(frameData.leftProjectionMatrix);cameraR.projectionMatrix.fromArray(frameData.rightProjectionMatrix);// HACK @mrdoob\n// https://github.com/w3c/webvr/issues/203\ncameraVR.projectionMatrix.copy(cameraL.projectionMatrix);//\nvar layers=device.getLayers();if(layers.length){var layer=layers[0];if(layer.leftBounds!==null&&layer.leftBounds.length===4){cameraL.bounds.fromArray(layer.leftBounds);}if(layer.rightBounds!==null&&layer.rightBounds.length===4){cameraR.bounds.fromArray(layer.rightBounds);}}return cameraVR;};this.getStandingMatrix=function(){return standingMatrix;};this.submitFrame=function(){if(device&&device.isPresenting)device.submitFrame();};this.dispose=function(){window.removeEventListener('vrdisplaypresentchange',onVRDisplayPresentChange);};}/**\n * @author mrdoob / http://mrdoob.com/\n */function WebGLExtensions(gl){var extensions={};return{get:function get(name){if(extensions[name]!==undefined){return extensions[name];}var extension;switch(name){case'WEBGL_depth_texture':extension=gl.getExtension('WEBGL_depth_texture')||gl.getExtension('MOZ_WEBGL_depth_texture')||gl.getExtension('WEBKIT_WEBGL_depth_texture');break;case'EXT_texture_filter_anisotropic':extension=gl.getExtension('EXT_texture_filter_anisotropic')||gl.getExtension('MOZ_EXT_texture_filter_anisotropic')||gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');break;case'WEBGL_compressed_texture_s3tc':extension=gl.getExtension('WEBGL_compressed_texture_s3tc')||gl.getExtension('MOZ_WEBGL_compressed_texture_s3tc')||gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');break;case'WEBGL_compressed_texture_pvrtc':extension=gl.getExtension('WEBGL_compressed_texture_pvrtc')||gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');break;case'WEBGL_compressed_texture_etc1':extension=gl.getExtension('WEBGL_compressed_texture_etc1');break;default:extension=gl.getExtension(name);}if(extension===null){console.warn('THREE.WebGLRenderer: '+name+' extension not supported.');}extensions[name]=extension;return extension;}};}/**\n * @author tschw\n */function WebGLClipping(){var scope=this,globalState=null,numGlobalPlanes=0,localClippingEnabled=false,renderingShadows=false,plane=new Plane(),viewNormalMatrix=new Matrix3(),uniform={value:null,needsUpdate:false};this.uniform=uniform;this.numPlanes=0;this.numIntersection=0;this.init=function(planes,enableLocalClipping,camera){var enabled=planes.length!==0||enableLocalClipping||// enable state of previous frame - the clipping code has to\n// run another frame in order to reset the state:\nnumGlobalPlanes!==0||localClippingEnabled;localClippingEnabled=enableLocalClipping;globalState=projectPlanes(planes,camera,0);numGlobalPlanes=planes.length;return enabled;};this.beginShadows=function(){renderingShadows=true;projectPlanes(null);};this.endShadows=function(){renderingShadows=false;resetGlobalState();};this.setState=function(planes,clipIntersection,clipShadows,camera,cache,fromCache){if(!localClippingEnabled||planes===null||planes.length===0||renderingShadows&&!clipShadows){// there's no local clipping\nif(renderingShadows){// there's no global clipping\nprojectPlanes(null);}else{resetGlobalState();}}else{var nGlobal=renderingShadows?0:numGlobalPlanes,lGlobal=nGlobal*4,dstArray=cache.clippingState||null;uniform.value=dstArray;// ensure unique state\ndstArray=projectPlanes(planes,camera,lGlobal,fromCache);for(var i=0;i!==lGlobal;++i){dstArray[i]=globalState[i];}cache.clippingState=dstArray;this.numIntersection=clipIntersection?this.numPlanes:0;this.numPlanes+=nGlobal;}};function resetGlobalState(){if(uniform.value!==globalState){uniform.value=globalState;uniform.needsUpdate=numGlobalPlanes>0;}scope.numPlanes=numGlobalPlanes;scope.numIntersection=0;}function projectPlanes(planes,camera,dstOffset,skipTransform){var nPlanes=planes!==null?planes.length:0,dstArray=null;if(nPlanes!==0){dstArray=uniform.value;if(skipTransform!==true||dstArray===null){var flatSize=dstOffset+nPlanes*4,viewMatrix=camera.matrixWorldInverse;viewNormalMatrix.getNormalMatrix(viewMatrix);if(dstArray===null||dstArray.length<flatSize){dstArray=new Float32Array(flatSize);}for(var i=0,i4=dstOffset;i!==nPlanes;++i,i4+=4){plane.copy(planes[i]).applyMatrix4(viewMatrix,viewNormalMatrix);plane.normal.toArray(dstArray,i4);dstArray[i4+3]=plane.constant;}}uniform.value=dstArray;uniform.needsUpdate=true;}scope.numPlanes=nPlanes;return dstArray;}}/**\n * @author thespite / http://www.twitter.com/thespite\n */function WebGLUtils(gl,extensions){function convert(p){var extension;if(p===RepeatWrapping)return gl.REPEAT;if(p===ClampToEdgeWrapping)return gl.CLAMP_TO_EDGE;if(p===MirroredRepeatWrapping)return gl.MIRRORED_REPEAT;if(p===NearestFilter)return gl.NEAREST;if(p===NearestMipMapNearestFilter)return gl.NEAREST_MIPMAP_NEAREST;if(p===NearestMipMapLinearFilter)return gl.NEAREST_MIPMAP_LINEAR;if(p===LinearFilter)return gl.LINEAR;if(p===LinearMipMapNearestFilter)return gl.LINEAR_MIPMAP_NEAREST;if(p===LinearMipMapLinearFilter)return gl.LINEAR_MIPMAP_LINEAR;if(p===UnsignedByteType)return gl.UNSIGNED_BYTE;if(p===UnsignedShort4444Type)return gl.UNSIGNED_SHORT_4_4_4_4;if(p===UnsignedShort5551Type)return gl.UNSIGNED_SHORT_5_5_5_1;if(p===UnsignedShort565Type)return gl.UNSIGNED_SHORT_5_6_5;if(p===ByteType)return gl.BYTE;if(p===ShortType)return gl.SHORT;if(p===UnsignedShortType)return gl.UNSIGNED_SHORT;if(p===IntType)return gl.INT;if(p===UnsignedIntType)return gl.UNSIGNED_INT;if(p===FloatType)return gl.FLOAT;if(p===HalfFloatType){extension=extensions.get('OES_texture_half_float');if(extension!==null)return extension.HALF_FLOAT_OES;}if(p===AlphaFormat)return gl.ALPHA;if(p===RGBFormat)return gl.RGB;if(p===RGBAFormat)return gl.RGBA;if(p===LuminanceFormat)return gl.LUMINANCE;if(p===LuminanceAlphaFormat)return gl.LUMINANCE_ALPHA;if(p===DepthFormat)return gl.DEPTH_COMPONENT;if(p===DepthStencilFormat)return gl.DEPTH_STENCIL;if(p===AddEquation)return gl.FUNC_ADD;if(p===SubtractEquation)return gl.FUNC_SUBTRACT;if(p===ReverseSubtractEquation)return gl.FUNC_REVERSE_SUBTRACT;if(p===ZeroFactor)return gl.ZERO;if(p===OneFactor)return gl.ONE;if(p===SrcColorFactor)return gl.SRC_COLOR;if(p===OneMinusSrcColorFactor)return gl.ONE_MINUS_SRC_COLOR;if(p===SrcAlphaFactor)return gl.SRC_ALPHA;if(p===OneMinusSrcAlphaFactor)return gl.ONE_MINUS_SRC_ALPHA;if(p===DstAlphaFactor)return gl.DST_ALPHA;if(p===OneMinusDstAlphaFactor)return gl.ONE_MINUS_DST_ALPHA;if(p===DstColorFactor)return gl.DST_COLOR;if(p===OneMinusDstColorFactor)return gl.ONE_MINUS_DST_COLOR;if(p===SrcAlphaSaturateFactor)return gl.SRC_ALPHA_SATURATE;if(p===RGB_S3TC_DXT1_Format||p===RGBA_S3TC_DXT1_Format||p===RGBA_S3TC_DXT3_Format||p===RGBA_S3TC_DXT5_Format){extension=extensions.get('WEBGL_compressed_texture_s3tc');if(extension!==null){if(p===RGB_S3TC_DXT1_Format)return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;if(p===RGBA_S3TC_DXT1_Format)return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(p===RGBA_S3TC_DXT3_Format)return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(p===RGBA_S3TC_DXT5_Format)return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;}}if(p===RGB_PVRTC_4BPPV1_Format||p===RGB_PVRTC_2BPPV1_Format||p===RGBA_PVRTC_4BPPV1_Format||p===RGBA_PVRTC_2BPPV1_Format){extension=extensions.get('WEBGL_compressed_texture_pvrtc');if(extension!==null){if(p===RGB_PVRTC_4BPPV1_Format)return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(p===RGB_PVRTC_2BPPV1_Format)return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(p===RGBA_PVRTC_4BPPV1_Format)return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(p===RGBA_PVRTC_2BPPV1_Format)return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;}}if(p===RGB_ETC1_Format){extension=extensions.get('WEBGL_compressed_texture_etc1');if(extension!==null)return extension.COMPRESSED_RGB_ETC1_WEBGL;}if(p===MinEquation||p===MaxEquation){extension=extensions.get('EXT_blend_minmax');if(extension!==null){if(p===MinEquation)return extension.MIN_EXT;if(p===MaxEquation)return extension.MAX_EXT;}}if(p===UnsignedInt248Type){extension=extensions.get('WEBGL_depth_texture');if(extension!==null)return extension.UNSIGNED_INT_24_8_WEBGL;}return 0;}return{convert:convert};}// import { Sphere } from '../math/Sphere';\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n * @author tschw\n */function WebGLRenderer(parameters){console.log('THREE.WebGLRenderer',REVISION);parameters=parameters||{};var _canvas=parameters.canvas!==undefined?parameters.canvas:document.createElementNS('http://www.w3.org/1999/xhtml','canvas'),_context=parameters.context!==undefined?parameters.context:null,_alpha=parameters.alpha!==undefined?parameters.alpha:false,_depth=parameters.depth!==undefined?parameters.depth:true,_stencil=parameters.stencil!==undefined?parameters.stencil:true,_antialias=parameters.antialias!==undefined?parameters.antialias:false,_premultipliedAlpha=parameters.premultipliedAlpha!==undefined?parameters.premultipliedAlpha:true,_preserveDrawingBuffer=parameters.preserveDrawingBuffer!==undefined?parameters.preserveDrawingBuffer:false;var lightsArray=[];var shadowsArray=[];var currentRenderList=null;var spritesArray=[];var flaresArray=[];// public properties\nthis.domElement=_canvas;this.context=null;// clearing\nthis.autoClear=true;this.autoClearColor=true;this.autoClearDepth=true;this.autoClearStencil=true;// scene graph\nthis.sortObjects=true;// user-defined clipping\nthis.clippingPlanes=[];this.localClippingEnabled=false;// physically based shading\nthis.gammaFactor=2.0;// for backwards compatibility\nthis.gammaInput=false;this.gammaOutput=false;// physical lights\nthis.physicallyCorrectLights=false;// tone mapping\nthis.toneMapping=LinearToneMapping;this.toneMappingExposure=1.0;this.toneMappingWhitePoint=1.0;// morphs\nthis.maxMorphTargets=8;this.maxMorphNormals=4;// internal properties\nvar _this=this,_isContextLost=false,// internal state cache\n_currentRenderTarget=null,_currentFramebuffer=null,_currentMaterialId=-1,_currentGeometryProgram='',_currentCamera=null,_currentArrayCamera=null,_currentViewport=new Vector4(),_currentScissor=new Vector4(),_currentScissorTest=null,//\n_usedTextureUnits=0,//\n_width=_canvas.width,_height=_canvas.height,_pixelRatio=1,_viewport=new Vector4(0,0,_width,_height),_scissor=new Vector4(0,0,_width,_height),_scissorTest=false,// frustum\n_frustum=new Frustum(),// clipping\n_clipping=new WebGLClipping(),_clippingEnabled=false,_localClippingEnabled=false,// camera matrices cache\n_projScreenMatrix=new Matrix4(),_vector3=new Vector3(),// info\n_infoMemory={geometries:0,textures:0},_infoRender={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:_infoRender,memory:_infoMemory,programs:null};function getTargetPixelRatio(){return _currentRenderTarget===null?_pixelRatio:1;}// initialize\nvar _gl;try{var contextAttributes={alpha:_alpha,depth:_depth,stencil:_stencil,antialias:_antialias,premultipliedAlpha:_premultipliedAlpha,preserveDrawingBuffer:_preserveDrawingBuffer};_gl=_context||_canvas.getContext('webgl',contextAttributes)||_canvas.getContext('experimental-webgl',contextAttributes);if(_gl===null){if(_canvas.getContext('webgl')!==null){throw'Error creating WebGL context with your selected attributes.';}else{throw'Error creating WebGL context.';}}// Some experimental-webgl implementations do not have getShaderPrecisionFormat\nif(_gl.getShaderPrecisionFormat===undefined){_gl.getShaderPrecisionFormat=function(){return{'rangeMin':1,'rangeMax':1,'precision':1};};}_canvas.addEventListener('webglcontextlost',onContextLost,false);_canvas.addEventListener('webglcontextrestored',onContextRestore,false);}catch(error){console.error('THREE.WebGLRenderer: '+error);}var extensions,capabilities,state;var properties,textures,attributes,geometries,objects,lights;var programCache,renderLists;var background,morphtargets,bufferRenderer,indexedBufferRenderer;var flareRenderer,spriteRenderer;var utils;function initGLContext(){extensions=new WebGLExtensions(_gl);extensions.get('WEBGL_depth_texture');extensions.get('OES_texture_float');extensions.get('OES_texture_float_linear');extensions.get('OES_texture_half_float');extensions.get('OES_texture_half_float_linear');extensions.get('OES_standard_derivatives');extensions.get('ANGLE_instanced_arrays');if(extensions.get('OES_element_index_uint')){BufferGeometry.MaxIndex=4294967296;}utils=new WebGLUtils(_gl,extensions);capabilities=new WebGLCapabilities(_gl,extensions,parameters);state=new WebGLState(_gl,extensions,utils);state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio));state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio));properties=new WebGLProperties();textures=new WebGLTextures(_gl,extensions,state,properties,capabilities,utils,_infoMemory);attributes=new WebGLAttributes(_gl);geometries=new WebGLGeometries(_gl,attributes,_infoMemory);objects=new WebGLObjects(geometries,_infoRender);morphtargets=new WebGLMorphtargets(_gl);programCache=new WebGLPrograms(_this,extensions,capabilities);lights=new WebGLLights();renderLists=new WebGLRenderLists();background=new WebGLBackground(_this,state,geometries,_premultipliedAlpha);bufferRenderer=new WebGLBufferRenderer(_gl,extensions,_infoRender);indexedBufferRenderer=new WebGLIndexedBufferRenderer(_gl,extensions,_infoRender);flareRenderer=new WebGLFlareRenderer(_this,_gl,state,textures,capabilities);spriteRenderer=new WebGLSpriteRenderer(_this,_gl,state,textures,capabilities);_this.info.programs=programCache.programs;_this.context=_gl;_this.capabilities=capabilities;_this.extensions=extensions;_this.properties=properties;_this.renderLists=renderLists;_this.state=state;}initGLContext();// vr\nvar vr=new WebVRManager(_this);this.vr=vr;// shadow map\nvar shadowMap=new WebGLShadowMap(_this,objects,capabilities.maxTextureSize);this.shadowMap=shadowMap;// API\nthis.getContext=function(){return _gl;};this.getContextAttributes=function(){return _gl.getContextAttributes();};this.forceContextLoss=function(){var extension=extensions.get('WEBGL_lose_context');if(extension)extension.loseContext();};this.forceContextRestore=function(){var extension=extensions.get('WEBGL_lose_context');if(extension)extension.restoreContext();};this.getPixelRatio=function(){return _pixelRatio;};this.setPixelRatio=function(value){if(value===undefined)return;_pixelRatio=value;this.setSize(_width,_height,false);};this.getSize=function(){return{width:_width,height:_height};};this.setSize=function(width,height,updateStyle){var device=vr.getDevice();if(device&&device.isPresenting){console.warn('THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.');return;}_width=width;_height=height;_canvas.width=width*_pixelRatio;_canvas.height=height*_pixelRatio;if(updateStyle!==false){_canvas.style.width=width+'px';_canvas.style.height=height+'px';}this.setViewport(0,0,width,height);};this.getDrawingBufferSize=function(){return{width:_width*_pixelRatio,height:_height*_pixelRatio};};this.setDrawingBufferSize=function(width,height,pixelRatio){_width=width;_height=height;_pixelRatio=pixelRatio;_canvas.width=width*pixelRatio;_canvas.height=height*pixelRatio;this.setViewport(0,0,width,height);};this.setViewport=function(x,y,width,height){_viewport.set(x,_height-y-height,width,height);state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio));};this.setScissor=function(x,y,width,height){_scissor.set(x,_height-y-height,width,height);state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio));};this.setScissorTest=function(boolean){state.setScissorTest(_scissorTest=boolean);};// Clearing\nthis.getClearColor=background.getClearColor;this.setClearColor=background.setClearColor;this.getClearAlpha=background.getClearAlpha;this.setClearAlpha=background.setClearAlpha;this.clear=function(color,depth,stencil){var bits=0;if(color===undefined||color)bits|=_gl.COLOR_BUFFER_BIT;if(depth===undefined||depth)bits|=_gl.DEPTH_BUFFER_BIT;if(stencil===undefined||stencil)bits|=_gl.STENCIL_BUFFER_BIT;_gl.clear(bits);};this.clearColor=function(){this.clear(true,false,false);};this.clearDepth=function(){this.clear(false,true,false);};this.clearStencil=function(){this.clear(false,false,true);};this.clearTarget=function(renderTarget,color,depth,stencil){this.setRenderTarget(renderTarget);this.clear(color,depth,stencil);};//\nthis.dispose=function(){_canvas.removeEventListener('webglcontextlost',onContextLost,false);_canvas.removeEventListener('webglcontextrestored',onContextRestore,false);renderLists.dispose();vr.dispose();};// Events\nfunction onContextLost(event){event.preventDefault();console.log('THREE.WebGLRenderer: Context Lost.');_isContextLost=true;}function onContextRestore(event){console.log('THREE.WebGLRenderer: Context Restored.');_isContextLost=false;initGLContext();}function onMaterialDispose(event){var material=event.target;material.removeEventListener('dispose',onMaterialDispose);deallocateMaterial(material);}// Buffer deallocation\nfunction deallocateMaterial(material){releaseMaterialProgramReference(material);properties.remove(material);}function releaseMaterialProgramReference(material){var programInfo=properties.get(material).program;material.program=undefined;if(programInfo!==undefined){programCache.releaseProgram(programInfo);}}// Buffer rendering\nfunction renderObjectImmediate(object,program,material){object.render(function(object){_this.renderBufferImmediate(object,program,material);});}this.renderBufferImmediate=function(object,program,material){state.initAttributes();var buffers=properties.get(object);if(object.hasPositions&&!buffers.position)buffers.position=_gl.createBuffer();if(object.hasNormals&&!buffers.normal)buffers.normal=_gl.createBuffer();if(object.hasUvs&&!buffers.uv)buffers.uv=_gl.createBuffer();if(object.hasColors&&!buffers.color)buffers.color=_gl.createBuffer();var programAttributes=program.getAttributes();if(object.hasPositions){_gl.bindBuffer(_gl.ARRAY_BUFFER,buffers.position);_gl.bufferData(_gl.ARRAY_BUFFER,object.positionArray,_gl.DYNAMIC_DRAW);state.enableAttribute(programAttributes.position);_gl.vertexAttribPointer(programAttributes.position,3,_gl.FLOAT,false,0,0);}if(object.hasNormals){_gl.bindBuffer(_gl.ARRAY_BUFFER,buffers.normal);if(!material.isMeshPhongMaterial&&!material.isMeshStandardMaterial&&!material.isMeshNormalMaterial&&material.flatShading===true){for(var i=0,l=object.count*3;i<l;i+=9){var array=object.normalArray;var nx=(array[i+0]+array[i+3]+array[i+6])/3;var ny=(array[i+1]+array[i+4]+array[i+7])/3;var nz=(array[i+2]+array[i+5]+array[i+8])/3;array[i+0]=nx;array[i+1]=ny;array[i+2]=nz;array[i+3]=nx;array[i+4]=ny;array[i+5]=nz;array[i+6]=nx;array[i+7]=ny;array[i+8]=nz;}}_gl.bufferData(_gl.ARRAY_BUFFER,object.normalArray,_gl.DYNAMIC_DRAW);state.enableAttribute(programAttributes.normal);_gl.vertexAttribPointer(programAttributes.normal,3,_gl.FLOAT,false,0,0);}if(object.hasUvs&&material.map){_gl.bindBuffer(_gl.ARRAY_BUFFER,buffers.uv);_gl.bufferData(_gl.ARRAY_BUFFER,object.uvArray,_gl.DYNAMIC_DRAW);state.enableAttribute(programAttributes.uv);_gl.vertexAttribPointer(programAttributes.uv,2,_gl.FLOAT,false,0,0);}if(object.hasColors&&material.vertexColors!==NoColors){_gl.bindBuffer(_gl.ARRAY_BUFFER,buffers.color);_gl.bufferData(_gl.ARRAY_BUFFER,object.colorArray,_gl.DYNAMIC_DRAW);state.enableAttribute(programAttributes.color);_gl.vertexAttribPointer(programAttributes.color,3,_gl.FLOAT,false,0,0);}state.disableUnusedAttributes();_gl.drawArrays(_gl.TRIANGLES,0,object.count);object.count=0;};this.renderBufferDirect=function(camera,fog,geometry,material,object,group){state.setMaterial(material);var program=setProgram(camera,fog,material,object);var geometryProgram=geometry.id+'_'+program.id+'_'+(material.wireframe===true);var updateBuffers=false;if(geometryProgram!==_currentGeometryProgram){_currentGeometryProgram=geometryProgram;updateBuffers=true;}if(object.morphTargetInfluences){morphtargets.update(object,geometry,material,program);updateBuffers=true;}//\nvar index=geometry.index;var position=geometry.attributes.position;var rangeFactor=1;if(material.wireframe===true){index=geometries.getWireframeAttribute(geometry);rangeFactor=2;}var attribute;var renderer=bufferRenderer;if(index!==null){attribute=attributes.get(index);renderer=indexedBufferRenderer;renderer.setIndex(attribute);}if(updateBuffers){setupVertexAttributes(material,program,geometry);if(index!==null){_gl.bindBuffer(_gl.ELEMENT_ARRAY_BUFFER,attribute.buffer);}}//\nvar dataCount=0;if(index!==null){dataCount=index.count;}else if(position!==undefined){dataCount=position.count;}var rangeStart=geometry.drawRange.start*rangeFactor;var rangeCount=geometry.drawRange.count*rangeFactor;var groupStart=group!==null?group.start*rangeFactor:0;var groupCount=group!==null?group.count*rangeFactor:Infinity;var drawStart=Math.max(rangeStart,groupStart);var drawEnd=Math.min(dataCount,rangeStart+rangeCount,groupStart+groupCount)-1;var drawCount=Math.max(0,drawEnd-drawStart+1);if(drawCount===0)return;//\nif(object.isMesh){if(material.wireframe===true){state.setLineWidth(material.wireframeLinewidth*getTargetPixelRatio());renderer.setMode(_gl.LINES);}else{switch(object.drawMode){case TrianglesDrawMode:renderer.setMode(_gl.TRIANGLES);break;case TriangleStripDrawMode:renderer.setMode(_gl.TRIANGLE_STRIP);break;case TriangleFanDrawMode:renderer.setMode(_gl.TRIANGLE_FAN);break;}}}else if(object.isLine){var lineWidth=material.linewidth;if(lineWidth===undefined)lineWidth=1;// Not using Line*Material\nstate.setLineWidth(lineWidth*getTargetPixelRatio());if(object.isLineSegments){renderer.setMode(_gl.LINES);}else if(object.isLineLoop){renderer.setMode(_gl.LINE_LOOP);}else{renderer.setMode(_gl.LINE_STRIP);}}else if(object.isPoints){renderer.setMode(_gl.POINTS);}if(geometry&&geometry.isInstancedBufferGeometry){if(geometry.maxInstancedCount>0){renderer.renderInstances(geometry,drawStart,drawCount);}}else{renderer.render(drawStart,drawCount);}};function setupVertexAttributes(material,program,geometry,startIndex){if(geometry&&geometry.isInstancedBufferGeometry){if(extensions.get('ANGLE_instanced_arrays')===null){console.error('THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');return;}}if(startIndex===undefined)startIndex=0;state.initAttributes();var geometryAttributes=geometry.attributes;var programAttributes=program.getAttributes();var materialDefaultAttributeValues=material.defaultAttributeValues;for(var name in programAttributes){var programAttribute=programAttributes[name];if(programAttribute>=0){var geometryAttribute=geometryAttributes[name];if(geometryAttribute!==undefined){var normalized=geometryAttribute.normalized;var size=geometryAttribute.itemSize;var attribute=attributes.get(geometryAttribute);// TODO Attribute may not be available on context restore\nif(attribute===undefined)continue;var buffer=attribute.buffer;var type=attribute.type;var bytesPerElement=attribute.bytesPerElement;if(geometryAttribute.isInterleavedBufferAttribute){var data=geometryAttribute.data;var stride=data.stride;var offset=geometryAttribute.offset;if(data&&data.isInstancedInterleavedBuffer){state.enableAttributeAndDivisor(programAttribute,data.meshPerAttribute);if(geometry.maxInstancedCount===undefined){geometry.maxInstancedCount=data.meshPerAttribute*data.count;}}else{state.enableAttribute(programAttribute);}_gl.bindBuffer(_gl.ARRAY_BUFFER,buffer);_gl.vertexAttribPointer(programAttribute,size,type,normalized,stride*bytesPerElement,(startIndex*stride+offset)*bytesPerElement);}else{if(geometryAttribute.isInstancedBufferAttribute){state.enableAttributeAndDivisor(programAttribute,geometryAttribute.meshPerAttribute);if(geometry.maxInstancedCount===undefined){geometry.maxInstancedCount=geometryAttribute.meshPerAttribute*geometryAttribute.count;}}else{state.enableAttribute(programAttribute);}_gl.bindBuffer(_gl.ARRAY_BUFFER,buffer);_gl.vertexAttribPointer(programAttribute,size,type,normalized,0,startIndex*size*bytesPerElement);}}else if(materialDefaultAttributeValues!==undefined){var value=materialDefaultAttributeValues[name];if(value!==undefined){switch(value.length){case 2:_gl.vertexAttrib2fv(programAttribute,value);break;case 3:_gl.vertexAttrib3fv(programAttribute,value);break;case 4:_gl.vertexAttrib4fv(programAttribute,value);break;default:_gl.vertexAttrib1fv(programAttribute,value);}}}}}state.disableUnusedAttributes();}// Compile\nthis.compile=function(scene,camera){lightsArray.length=0;shadowsArray.length=0;scene.traverse(function(object){if(object.isLight){lightsArray.push(object);if(object.castShadow){shadowsArray.push(object);}}});lights.setup(lightsArray,shadowsArray,camera);scene.traverse(function(object){if(object.material){if(Array.isArray(object.material)){for(var i=0;i<object.material.length;i++){initMaterial(object.material[i],scene.fog,object);}}else{initMaterial(object.material,scene.fog,object);}}});};// Animation Loop\nvar isAnimating=false;var onAnimationFrame=null;function start(){if(isAnimating)return;(vr.getDevice()||window).requestAnimationFrame(loop);isAnimating=true;}function loop(time){if(onAnimationFrame!==null)onAnimationFrame(time);(vr.getDevice()||window).requestAnimationFrame(loop);}this.animate=function(callback){onAnimationFrame=callback;start();};// Rendering\nthis.render=function(scene,camera,renderTarget,forceClear){if(!(camera&&camera.isCamera)){console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');return;}if(_isContextLost)return;// reset caching for this frame\n_currentGeometryProgram='';_currentMaterialId=-1;_currentCamera=null;// update scene graph\nif(scene.autoUpdate===true)scene.updateMatrixWorld();// update camera matrices and frustum\nif(camera.parent===null)camera.updateMatrixWorld();if(vr.enabled){camera=vr.getCamera(camera);}_projScreenMatrix.multiplyMatrices(camera.projectionMatrix,camera.matrixWorldInverse);_frustum.setFromMatrix(_projScreenMatrix);lightsArray.length=0;shadowsArray.length=0;spritesArray.length=0;flaresArray.length=0;_localClippingEnabled=this.localClippingEnabled;_clippingEnabled=_clipping.init(this.clippingPlanes,_localClippingEnabled,camera);currentRenderList=renderLists.get(scene,camera);currentRenderList.init();projectObject(scene,camera,_this.sortObjects);if(_this.sortObjects===true){currentRenderList.sort();}//\nif(_clippingEnabled)_clipping.beginShadows();shadowMap.render(shadowsArray,scene,camera);lights.setup(lightsArray,shadowsArray,camera);if(_clippingEnabled)_clipping.endShadows();//\n_infoRender.frame++;_infoRender.calls=0;_infoRender.vertices=0;_infoRender.faces=0;_infoRender.points=0;if(renderTarget===undefined){renderTarget=null;}this.setRenderTarget(renderTarget);//\nbackground.render(currentRenderList,scene,camera,forceClear);// render scene\nvar opaqueObjects=currentRenderList.opaque;var transparentObjects=currentRenderList.transparent;if(scene.overrideMaterial){var overrideMaterial=scene.overrideMaterial;if(opaqueObjects.length)renderObjects(opaqueObjects,scene,camera,overrideMaterial);if(transparentObjects.length)renderObjects(transparentObjects,scene,camera,overrideMaterial);}else{// opaque pass (front-to-back order)\nif(opaqueObjects.length)renderObjects(opaqueObjects,scene,camera);// transparent pass (back-to-front order)\nif(transparentObjects.length)renderObjects(transparentObjects,scene,camera);}// custom renderers\nspriteRenderer.render(spritesArray,scene,camera);flareRenderer.render(flaresArray,scene,camera,_currentViewport);// Generate mipmap if we're using any kind of mipmap filtering\nif(renderTarget){textures.updateRenderTargetMipmap(renderTarget);}// Ensure depth buffer writing is enabled so it can be cleared on next render\nstate.buffers.depth.setTest(true);state.buffers.depth.setMask(true);state.buffers.color.setMask(true);state.setPolygonOffset(false);if(vr.enabled){vr.submitFrame();}// _gl.finish();\n};/*\n   // TODO Duplicated code (Frustum)\n\n   var _sphere = new Sphere();\n\n   function isObjectViewable( object ) {\n\n   var geometry = object.geometry;\n\n   if ( geometry.boundingSphere === null )\n   geometry.computeBoundingSphere();\n\n   _sphere.copy( geometry.boundingSphere ).\n   applyMatrix4( object.matrixWorld );\n\n   return isSphereViewable( _sphere );\n\n   }\n\n   function isSpriteViewable( sprite ) {\n\n   _sphere.center.set( 0, 0, 0 );\n   _sphere.radius = 0.7071067811865476;\n   _sphere.applyMatrix4( sprite.matrixWorld );\n\n   return isSphereViewable( _sphere );\n\n   }\n\n   function isSphereViewable( sphere ) {\n\n   if ( ! _frustum.intersectsSphere( sphere ) ) return false;\n\n   var numPlanes = _clipping.numPlanes;\n\n   if ( numPlanes === 0 ) return true;\n\n   var planes = _this.clippingPlanes,\n\n   center = sphere.center,\n   negRad = - sphere.radius,\n   i = 0;\n\n   do {\n\n   // out when deeper than radius in the negative halfspace\n   if ( planes[ i ].distanceToPoint( center ) < negRad ) return false;\n\n   } while ( ++ i !== numPlanes );\n\n   return true;\n\n   }\n   */function projectObject(object,camera,sortObjects){if(!object.visible)return;var visible=object.layers.test(camera.layers);if(visible){if(object.isLight){lightsArray.push(object);if(object.castShadow){shadowsArray.push(object);}}else if(object.isSprite){if(!object.frustumCulled||_frustum.intersectsSprite(object)){spritesArray.push(object);}}else if(object.isLensFlare){flaresArray.push(object);}else if(object.isImmediateRenderObject){if(sortObjects){_vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);}currentRenderList.push(object,null,object.material,_vector3.z,null);}else if(object.isMesh||object.isLine||object.isPoints){if(object.isSkinnedMesh){object.skeleton.update();}if(!object.frustumCulled||_frustum.intersectsObject(object)){if(sortObjects){_vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);}var geometry=objects.update(object);var material=object.material;if(Array.isArray(material)){var groups=geometry.groups;for(var i=0,l=groups.length;i<l;i++){var group=groups[i];var groupMaterial=material[group.materialIndex];if(groupMaterial&&groupMaterial.visible){currentRenderList.push(object,geometry,groupMaterial,_vector3.z,group);}}}else if(material.visible){currentRenderList.push(object,geometry,material,_vector3.z,null);}}}}var children=object.children;for(var i=0,l=children.length;i<l;i++){projectObject(children[i],camera,sortObjects);}}function renderObjects(renderList,scene,camera,overrideMaterial){for(var i=0,l=renderList.length;i<l;i++){var renderItem=renderList[i];var object=renderItem.object;var geometry=renderItem.geometry;var material=overrideMaterial===undefined?renderItem.material:overrideMaterial;var group=renderItem.group;if(camera.isArrayCamera){_currentArrayCamera=camera;var cameras=camera.cameras;for(var j=0,jl=cameras.length;j<jl;j++){var camera2=cameras[j];if(object.layers.test(camera2.layers)){var bounds=camera2.bounds;var x=bounds.x*_width;var y=bounds.y*_height;var width=bounds.z*_width;var height=bounds.w*_height;state.viewport(_currentViewport.set(x,y,width,height).multiplyScalar(_pixelRatio));renderObject(object,scene,camera2,geometry,material,group);}}}else{_currentArrayCamera=null;renderObject(object,scene,camera,geometry,material,group);}}}function renderObject(object,scene,camera,geometry,material,group){object.onBeforeRender(_this,scene,camera,geometry,material,group);object.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse,object.matrixWorld);object.normalMatrix.getNormalMatrix(object.modelViewMatrix);if(object.isImmediateRenderObject){state.setMaterial(material);var program=setProgram(camera,scene.fog,material,object);_currentGeometryProgram='';renderObjectImmediate(object,program,material);}else{_this.renderBufferDirect(camera,scene.fog,geometry,material,object,group);}object.onAfterRender(_this,scene,camera,geometry,material,group);}function initMaterial(material,fog,object){var materialProperties=properties.get(material);var parameters=programCache.getParameters(material,lights.state,shadowsArray,fog,_clipping.numPlanes,_clipping.numIntersection,object);var code=programCache.getProgramCode(material,parameters);var program=materialProperties.program;var programChange=true;if(program===undefined){// new material\nmaterial.addEventListener('dispose',onMaterialDispose);}else if(program.code!==code){// changed glsl or parameters\nreleaseMaterialProgramReference(material);}else if(parameters.shaderID!==undefined){// same glsl and uniform list\nreturn;}else{// only rebuild uniform list\nprogramChange=false;}if(programChange){if(parameters.shaderID){var shader=ShaderLib[parameters.shaderID];materialProperties.shader={name:material.type,uniforms:UniformsUtils.clone(shader.uniforms),vertexShader:shader.vertexShader,fragmentShader:shader.fragmentShader};}else{materialProperties.shader={name:material.type,uniforms:material.uniforms,vertexShader:material.vertexShader,fragmentShader:material.fragmentShader};}material.onBeforeCompile(materialProperties.shader);program=programCache.acquireProgram(material,materialProperties.shader,parameters,code);materialProperties.program=program;material.program=program;}var programAttributes=program.getAttributes();if(material.morphTargets){material.numSupportedMorphTargets=0;for(var i=0;i<_this.maxMorphTargets;i++){if(programAttributes['morphTarget'+i]>=0){material.numSupportedMorphTargets++;}}}if(material.morphNormals){material.numSupportedMorphNormals=0;for(var i=0;i<_this.maxMorphNormals;i++){if(programAttributes['morphNormal'+i]>=0){material.numSupportedMorphNormals++;}}}var uniforms=materialProperties.shader.uniforms;if(!material.isShaderMaterial&&!material.isRawShaderMaterial||material.clipping===true){materialProperties.numClippingPlanes=_clipping.numPlanes;materialProperties.numIntersection=_clipping.numIntersection;uniforms.clippingPlanes=_clipping.uniform;}materialProperties.fog=fog;// store the light setup it was created for\nmaterialProperties.lightsHash=lights.state.hash;if(material.lights){// wire up the material to this renderer's lighting state\nuniforms.ambientLightColor.value=lights.state.ambient;uniforms.directionalLights.value=lights.state.directional;uniforms.spotLights.value=lights.state.spot;uniforms.rectAreaLights.value=lights.state.rectArea;uniforms.pointLights.value=lights.state.point;uniforms.hemisphereLights.value=lights.state.hemi;uniforms.directionalShadowMap.value=lights.state.directionalShadowMap;uniforms.directionalShadowMatrix.value=lights.state.directionalShadowMatrix;uniforms.spotShadowMap.value=lights.state.spotShadowMap;uniforms.spotShadowMatrix.value=lights.state.spotShadowMatrix;uniforms.pointShadowMap.value=lights.state.pointShadowMap;uniforms.pointShadowMatrix.value=lights.state.pointShadowMatrix;// TODO (abelnation): add area lights shadow info to uniforms\n}var progUniforms=materialProperties.program.getUniforms(),uniformsList=WebGLUniforms.seqWithValue(progUniforms.seq,uniforms);materialProperties.uniformsList=uniformsList;}function setProgram(camera,fog,material,object){_usedTextureUnits=0;var materialProperties=properties.get(material);if(_clippingEnabled){if(_localClippingEnabled||camera!==_currentCamera){var useCache=camera===_currentCamera&&material.id===_currentMaterialId;// we might want to call this function with some ClippingGroup\n// object instead of the material, once it becomes feasible\n// (#8465, #8379)\n_clipping.setState(material.clippingPlanes,material.clipIntersection,material.clipShadows,camera,materialProperties,useCache);}}if(material.needsUpdate===false){if(materialProperties.program===undefined){material.needsUpdate=true;}else if(material.fog&&materialProperties.fog!==fog){material.needsUpdate=true;}else if(material.lights&&materialProperties.lightsHash!==lights.state.hash){material.needsUpdate=true;}else if(materialProperties.numClippingPlanes!==undefined&&(materialProperties.numClippingPlanes!==_clipping.numPlanes||materialProperties.numIntersection!==_clipping.numIntersection)){material.needsUpdate=true;}}if(material.needsUpdate){initMaterial(material,fog,object);material.needsUpdate=false;}var refreshProgram=false;var refreshMaterial=false;var refreshLights=false;var program=materialProperties.program,p_uniforms=program.getUniforms(),m_uniforms=materialProperties.shader.uniforms;if(state.useProgram(program.program)){refreshProgram=true;refreshMaterial=true;refreshLights=true;}if(material.id!==_currentMaterialId){_currentMaterialId=material.id;refreshMaterial=true;}if(refreshProgram||camera!==_currentCamera){p_uniforms.setValue(_gl,'projectionMatrix',camera.projectionMatrix);if(capabilities.logarithmicDepthBuffer){p_uniforms.setValue(_gl,'logDepthBufFC',2.0/(Math.log(camera.far+1.0)/Math.LN2));}// Avoid unneeded uniform updates per ArrayCamera's sub-camera\nif(_currentCamera!==(_currentArrayCamera||camera)){_currentCamera=_currentArrayCamera||camera;// lighting uniforms depend on the camera so enforce an update\n// now, in case this material supports lights - or later, when\n// the next material that does gets activated:\nrefreshMaterial=true;// set to true on material change\nrefreshLights=true;// remains set until update done\n}// load material specific uniforms\n// (shader material also gets them for the sake of genericity)\nif(material.isShaderMaterial||material.isMeshPhongMaterial||material.isMeshStandardMaterial||material.envMap){var uCamPos=p_uniforms.map.cameraPosition;if(uCamPos!==undefined){uCamPos.setValue(_gl,_vector3.setFromMatrixPosition(camera.matrixWorld));}}if(material.isMeshPhongMaterial||material.isMeshLambertMaterial||material.isMeshBasicMaterial||material.isMeshStandardMaterial||material.isShaderMaterial||material.skinning){p_uniforms.setValue(_gl,'viewMatrix',camera.matrixWorldInverse);}}// skinning uniforms must be set even if material didn't change\n// auto-setting of texture unit for bone texture must go before other textures\n// not sure why, but otherwise weird things happen\nif(material.skinning){p_uniforms.setOptional(_gl,object,'bindMatrix');p_uniforms.setOptional(_gl,object,'bindMatrixInverse');var skeleton=object.skeleton;if(skeleton){var bones=skeleton.bones;if(capabilities.floatVertexTextures){if(skeleton.boneTexture===undefined){// layout (1 matrix = 4 pixels)\n//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\nvar size=Math.sqrt(bones.length*4);// 4 pixels needed for 1 matrix\nsize=_Math.nextPowerOfTwo(Math.ceil(size));size=Math.max(size,4);var boneMatrices=new Float32Array(size*size*4);// 4 floats per RGBA pixel\nboneMatrices.set(skeleton.boneMatrices);// copy current values\nvar boneTexture=new DataTexture(boneMatrices,size,size,RGBAFormat,FloatType);skeleton.boneMatrices=boneMatrices;skeleton.boneTexture=boneTexture;skeleton.boneTextureSize=size;}p_uniforms.setValue(_gl,'boneTexture',skeleton.boneTexture);p_uniforms.setValue(_gl,'boneTextureSize',skeleton.boneTextureSize);}else{p_uniforms.setOptional(_gl,skeleton,'boneMatrices');}}}if(refreshMaterial){p_uniforms.setValue(_gl,'toneMappingExposure',_this.toneMappingExposure);p_uniforms.setValue(_gl,'toneMappingWhitePoint',_this.toneMappingWhitePoint);if(material.lights){// the current material requires lighting info\n// note: all lighting uniforms are always set correctly\n// they simply reference the renderer's state for their\n// values\n//\n// use the current material's .needsUpdate flags to set\n// the GL state when required\nmarkUniformsLightsNeedsUpdate(m_uniforms,refreshLights);}// refresh uniforms common to several materials\nif(fog&&material.fog){refreshUniformsFog(m_uniforms,fog);}if(material.isMeshBasicMaterial){refreshUniformsCommon(m_uniforms,material);}else if(material.isMeshLambertMaterial){refreshUniformsCommon(m_uniforms,material);refreshUniformsLambert(m_uniforms,material);}else if(material.isMeshPhongMaterial){refreshUniformsCommon(m_uniforms,material);if(material.isMeshToonMaterial){refreshUniformsToon(m_uniforms,material);}else{refreshUniformsPhong(m_uniforms,material);}}else if(material.isMeshStandardMaterial){refreshUniformsCommon(m_uniforms,material);if(material.isMeshPhysicalMaterial){refreshUniformsPhysical(m_uniforms,material);}else{refreshUniformsStandard(m_uniforms,material);}}else if(material.isMeshDepthMaterial){refreshUniformsCommon(m_uniforms,material);refreshUniformsDepth(m_uniforms,material);}else if(material.isMeshDistanceMaterial){refreshUniformsCommon(m_uniforms,material);refreshUniformsDistance(m_uniforms,material);}else if(material.isMeshNormalMaterial){refreshUniformsCommon(m_uniforms,material);refreshUniformsNormal(m_uniforms,material);}else if(material.isLineBasicMaterial){refreshUniformsLine(m_uniforms,material);if(material.isLineDashedMaterial){refreshUniformsDash(m_uniforms,material);}}else if(material.isPointsMaterial){refreshUniformsPoints(m_uniforms,material);}else if(material.isShadowMaterial){m_uniforms.color.value=material.color;m_uniforms.opacity.value=material.opacity;}// RectAreaLight Texture\n// TODO (mrdoob): Find a nicer implementation\nif(m_uniforms.ltcMat!==undefined)m_uniforms.ltcMat.value=UniformsLib.LTC_MAT_TEXTURE;if(m_uniforms.ltcMag!==undefined)m_uniforms.ltcMag.value=UniformsLib.LTC_MAG_TEXTURE;WebGLUniforms.upload(_gl,materialProperties.uniformsList,m_uniforms,_this);}// common matrices\np_uniforms.setValue(_gl,'modelViewMatrix',object.modelViewMatrix);p_uniforms.setValue(_gl,'normalMatrix',object.normalMatrix);p_uniforms.setValue(_gl,'modelMatrix',object.matrixWorld);return program;}// Uniforms (refresh uniforms objects)\nfunction refreshUniformsCommon(uniforms,material){uniforms.opacity.value=material.opacity;if(material.color){uniforms.diffuse.value=material.color;}if(material.emissive){uniforms.emissive.value.copy(material.emissive).multiplyScalar(material.emissiveIntensity);}if(material.map){uniforms.map.value=material.map;}if(material.alphaMap){uniforms.alphaMap.value=material.alphaMap;}if(material.specularMap){uniforms.specularMap.value=material.specularMap;}if(material.envMap){uniforms.envMap.value=material.envMap;// don't flip CubeTexture envMaps, flip everything else:\n//  WebGLRenderTargetCube will be flipped for backwards compatibility\n//  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n// this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\nuniforms.flipEnvMap.value=!(material.envMap&&material.envMap.isCubeTexture)?1:-1;uniforms.reflectivity.value=material.reflectivity;uniforms.refractionRatio.value=material.refractionRatio;}if(material.lightMap){uniforms.lightMap.value=material.lightMap;uniforms.lightMapIntensity.value=material.lightMapIntensity;}if(material.aoMap){uniforms.aoMap.value=material.aoMap;uniforms.aoMapIntensity.value=material.aoMapIntensity;}// uv repeat and offset setting priorities\n// 1. color map\n// 2. specular map\n// 3. normal map\n// 4. bump map\n// 5. alpha map\n// 6. emissive map\nvar uvScaleMap;if(material.map){uvScaleMap=material.map;}else if(material.specularMap){uvScaleMap=material.specularMap;}else if(material.displacementMap){uvScaleMap=material.displacementMap;}else if(material.normalMap){uvScaleMap=material.normalMap;}else if(material.bumpMap){uvScaleMap=material.bumpMap;}else if(material.roughnessMap){uvScaleMap=material.roughnessMap;}else if(material.metalnessMap){uvScaleMap=material.metalnessMap;}else if(material.alphaMap){uvScaleMap=material.alphaMap;}else if(material.emissiveMap){uvScaleMap=material.emissiveMap;}if(uvScaleMap!==undefined){// backwards compatibility\nif(uvScaleMap.isWebGLRenderTarget){uvScaleMap=uvScaleMap.texture;}var offset=uvScaleMap.offset;var repeat=uvScaleMap.repeat;uniforms.offsetRepeat.value.set(offset.x,offset.y,repeat.x,repeat.y);}}function refreshUniformsLine(uniforms,material){uniforms.diffuse.value=material.color;uniforms.opacity.value=material.opacity;}function refreshUniformsDash(uniforms,material){uniforms.dashSize.value=material.dashSize;uniforms.totalSize.value=material.dashSize+material.gapSize;uniforms.scale.value=material.scale;}function refreshUniformsPoints(uniforms,material){uniforms.diffuse.value=material.color;uniforms.opacity.value=material.opacity;uniforms.size.value=material.size*_pixelRatio;uniforms.scale.value=_height*0.5;uniforms.map.value=material.map;if(material.map!==null){var offset=material.map.offset;var repeat=material.map.repeat;uniforms.offsetRepeat.value.set(offset.x,offset.y,repeat.x,repeat.y);}}function refreshUniformsFog(uniforms,fog){uniforms.fogColor.value=fog.color;if(fog.isFog){uniforms.fogNear.value=fog.near;uniforms.fogFar.value=fog.far;}else if(fog.isFogExp2){uniforms.fogDensity.value=fog.density;}}function refreshUniformsLambert(uniforms,material){if(material.emissiveMap){uniforms.emissiveMap.value=material.emissiveMap;}}function refreshUniformsPhong(uniforms,material){uniforms.specular.value=material.specular;uniforms.shininess.value=Math.max(material.shininess,1e-4);// to prevent pow( 0.0, 0.0 )\nif(material.emissiveMap){uniforms.emissiveMap.value=material.emissiveMap;}if(material.bumpMap){uniforms.bumpMap.value=material.bumpMap;uniforms.bumpScale.value=material.bumpScale;}if(material.normalMap){uniforms.normalMap.value=material.normalMap;uniforms.normalScale.value.copy(material.normalScale);}if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias;}}function refreshUniformsToon(uniforms,material){refreshUniformsPhong(uniforms,material);if(material.gradientMap){uniforms.gradientMap.value=material.gradientMap;}}function refreshUniformsStandard(uniforms,material){uniforms.roughness.value=material.roughness;uniforms.metalness.value=material.metalness;if(material.roughnessMap){uniforms.roughnessMap.value=material.roughnessMap;}if(material.metalnessMap){uniforms.metalnessMap.value=material.metalnessMap;}if(material.emissiveMap){uniforms.emissiveMap.value=material.emissiveMap;}if(material.bumpMap){uniforms.bumpMap.value=material.bumpMap;uniforms.bumpScale.value=material.bumpScale;}if(material.normalMap){uniforms.normalMap.value=material.normalMap;uniforms.normalScale.value.copy(material.normalScale);}if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias;}if(material.envMap){//uniforms.envMap.value = material.envMap; // part of uniforms common\nuniforms.envMapIntensity.value=material.envMapIntensity;}}function refreshUniformsPhysical(uniforms,material){uniforms.clearCoat.value=material.clearCoat;uniforms.clearCoatRoughness.value=material.clearCoatRoughness;refreshUniformsStandard(uniforms,material);}function refreshUniformsDepth(uniforms,material){if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias;}}function refreshUniformsDistance(uniforms,material){if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias;}uniforms.referencePosition.value.copy(material.referencePosition);uniforms.nearDistance.value=material.nearDistance;uniforms.farDistance.value=material.farDistance;}function refreshUniformsNormal(uniforms,material){if(material.bumpMap){uniforms.bumpMap.value=material.bumpMap;uniforms.bumpScale.value=material.bumpScale;}if(material.normalMap){uniforms.normalMap.value=material.normalMap;uniforms.normalScale.value.copy(material.normalScale);}if(material.displacementMap){uniforms.displacementMap.value=material.displacementMap;uniforms.displacementScale.value=material.displacementScale;uniforms.displacementBias.value=material.displacementBias;}}// If uniforms are marked as clean, they don't need to be loaded to the GPU.\nfunction markUniformsLightsNeedsUpdate(uniforms,value){uniforms.ambientLightColor.needsUpdate=value;uniforms.directionalLights.needsUpdate=value;uniforms.pointLights.needsUpdate=value;uniforms.spotLights.needsUpdate=value;uniforms.rectAreaLights.needsUpdate=value;uniforms.hemisphereLights.needsUpdate=value;}// GL state setting\nthis.setFaceCulling=function(cullFace,frontFaceDirection){state.setCullFace(cullFace);state.setFlipSided(frontFaceDirection===FrontFaceDirectionCW);};// Textures\nfunction allocTextureUnit(){var textureUnit=_usedTextureUnits;if(textureUnit>=capabilities.maxTextures){console.warn('THREE.WebGLRenderer: Trying to use '+textureUnit+' texture units while this GPU supports only '+capabilities.maxTextures);}_usedTextureUnits+=1;return textureUnit;}this.allocTextureUnit=allocTextureUnit;// this.setTexture2D = setTexture2D;\nthis.setTexture2D=function(){var warned=false;// backwards compatibility: peel texture.texture\nreturn function setTexture2D(texture,slot){if(texture&&texture.isWebGLRenderTarget){if(!warned){console.warn(\"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\");warned=true;}texture=texture.texture;}textures.setTexture2D(texture,slot);};}();this.setTexture=function(){var warned=false;return function setTexture(texture,slot){if(!warned){console.warn(\"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\");warned=true;}textures.setTexture2D(texture,slot);};}();this.setTextureCube=function(){var warned=false;return function setTextureCube(texture,slot){// backwards compatibility: peel texture.texture\nif(texture&&texture.isWebGLRenderTargetCube){if(!warned){console.warn(\"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\");warned=true;}texture=texture.texture;}// currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture\n// TODO: unify these code paths\nif(texture&&texture.isCubeTexture||Array.isArray(texture.image)&&texture.image.length===6){// CompressedTexture can have Array in image :/\n// this function alone should take care of cube textures\ntextures.setTextureCube(texture,slot);}else{// assumed: texture property of THREE.WebGLRenderTargetCube\ntextures.setTextureCubeDynamic(texture,slot);}};}();this.getRenderTarget=function(){return _currentRenderTarget;};this.setRenderTarget=function(renderTarget){_currentRenderTarget=renderTarget;if(renderTarget&&properties.get(renderTarget).__webglFramebuffer===undefined){textures.setupRenderTarget(renderTarget);}var framebuffer=null;var isCube=false;if(renderTarget){var __webglFramebuffer=properties.get(renderTarget).__webglFramebuffer;if(renderTarget.isWebGLRenderTargetCube){framebuffer=__webglFramebuffer[renderTarget.activeCubeFace];isCube=true;}else{framebuffer=__webglFramebuffer;}_currentViewport.copy(renderTarget.viewport);_currentScissor.copy(renderTarget.scissor);_currentScissorTest=renderTarget.scissorTest;}else{_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio);_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio);_currentScissorTest=_scissorTest;}if(_currentFramebuffer!==framebuffer){_gl.bindFramebuffer(_gl.FRAMEBUFFER,framebuffer);_currentFramebuffer=framebuffer;}state.viewport(_currentViewport);state.scissor(_currentScissor);state.setScissorTest(_currentScissorTest);if(isCube){var textureProperties=properties.get(renderTarget.texture);_gl.framebufferTexture2D(_gl.FRAMEBUFFER,_gl.COLOR_ATTACHMENT0,_gl.TEXTURE_CUBE_MAP_POSITIVE_X+renderTarget.activeCubeFace,textureProperties.__webglTexture,renderTarget.activeMipMapLevel);}};this.readRenderTargetPixels=function(renderTarget,x,y,width,height,buffer){if(!(renderTarget&&renderTarget.isWebGLRenderTarget)){console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');return;}var framebuffer=properties.get(renderTarget).__webglFramebuffer;if(framebuffer){var restore=false;if(framebuffer!==_currentFramebuffer){_gl.bindFramebuffer(_gl.FRAMEBUFFER,framebuffer);restore=true;}try{var texture=renderTarget.texture;var textureFormat=texture.format;var textureType=texture.type;if(textureFormat!==RGBAFormat&&utils.convert(textureFormat)!==_gl.getParameter(_gl.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');return;}if(textureType!==UnsignedByteType&&utils.convert(textureType)!==_gl.getParameter(_gl.IMPLEMENTATION_COLOR_READ_TYPE)&&// IE11, Edge and Chrome Mac < 52 (#9513)\n!(textureType===FloatType&&(extensions.get('OES_texture_float')||extensions.get('WEBGL_color_buffer_float')))&&// Chrome Mac >= 52 and Firefox\n!(textureType===HalfFloatType&&extensions.get('EXT_color_buffer_half_float'))){console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');return;}if(_gl.checkFramebufferStatus(_gl.FRAMEBUFFER)===_gl.FRAMEBUFFER_COMPLETE){// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\nif(x>=0&&x<=renderTarget.width-width&&y>=0&&y<=renderTarget.height-height){_gl.readPixels(x,y,width,height,utils.convert(textureFormat),utils.convert(textureType),buffer);}}else{console.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.');}}finally{if(restore){_gl.bindFramebuffer(_gl.FRAMEBUFFER,_currentFramebuffer);}}}};}/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */function FogExp2(color,density){this.name='';this.color=new Color(color);this.density=density!==undefined?density:0.00025;}FogExp2.prototype.isFogExp2=true;FogExp2.prototype.clone=function(){return new FogExp2(this.color.getHex(),this.density);};FogExp2.prototype.toJSON=function(meta){return{type:'FogExp2',color:this.color.getHex(),density:this.density};};/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */function Fog(color,near,far){this.name='';this.color=new Color(color);this.near=near!==undefined?near:1;this.far=far!==undefined?far:1000;}Fog.prototype.isFog=true;Fog.prototype.clone=function(){return new Fog(this.color.getHex(),this.near,this.far);};Fog.prototype.toJSON=function(meta){return{type:'Fog',color:this.color.getHex(),near:this.near,far:this.far};};/**\n * @author mrdoob / http://mrdoob.com/\n */function Scene(){Object3D.call(this);this.type='Scene';this.background=null;this.fog=null;this.overrideMaterial=null;this.autoUpdate=true;// checked by the renderer\n}Scene.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype),{constructor:Scene,copy:function copy(source,recursive){Object3D.prototype.copy.call(this,source,recursive);if(source.background!==null)this.background=source.background.clone();if(source.fog!==null)this.fog=source.fog.clone();if(source.overrideMaterial!==null)this.overrideMaterial=source.overrideMaterial.clone();this.autoUpdate=source.autoUpdate;this.matrixAutoUpdate=source.matrixAutoUpdate;return this;},toJSON:function toJSON(meta){var data=Object3D.prototype.toJSON.call(this,meta);if(this.background!==null)data.object.background=this.background.toJSON(meta);if(this.fog!==null)data.object.fog=this.fog.toJSON();return data;}});/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */function LensFlare(texture,size,distance,blending,color){Object3D.call(this);this.lensFlares=[];this.positionScreen=new Vector3();this.customUpdateCallback=undefined;if(texture!==undefined){this.add(texture,size,distance,blending,color);}}LensFlare.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype),{constructor:LensFlare,isLensFlare:true,copy:function copy(source){Object3D.prototype.copy.call(this,source);this.positionScreen.copy(source.positionScreen);this.customUpdateCallback=source.customUpdateCallback;for(var i=0,l=source.lensFlares.length;i<l;i++){this.lensFlares.push(source.lensFlares[i]);}return this;},add:function add(texture,size,distance,blending,color,opacity){if(size===undefined)size=-1;if(distance===undefined)distance=0;if(opacity===undefined)opacity=1;if(color===undefined)color=new Color(0xffffff);if(blending===undefined)blending=NormalBlending;distance=Math.min(distance,Math.max(0,distance));this.lensFlares.push({texture:texture,// THREE.Texture\nsize:size,// size in pixels (-1 = use texture.width)\ndistance:distance,// distance (0-1) from light source (0=at light source)\nx:0,y:0,z:0,// screen position (-1 => 1) z = 0 is in front z = 1 is back\nscale:1,// scale\nrotation:0,// rotation\nopacity:opacity,// opacity\ncolor:color,// color\nblending:blending// blending\n});},/*\n   * Update lens flares update positions on all flares based on the screen position\n   * Set myLensFlare.customUpdateCallback to alter the flares in your project specific way.\n   */updateLensFlares:function updateLensFlares(){var f,fl=this.lensFlares.length;var flare;var vecX=-this.positionScreen.x*2;var vecY=-this.positionScreen.y*2;for(f=0;f<fl;f++){flare=this.lensFlares[f];flare.x=this.positionScreen.x+vecX*flare.distance;flare.y=this.positionScreen.y+vecY*flare.distance;flare.wantedRotation=flare.x*Math.PI*0.25;flare.rotation+=(flare.wantedRotation-flare.rotation)*0.25;}}});/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *\tuvOffset: new THREE.Vector2(),\n *\tuvScale: new THREE.Vector2()\n * }\n */function SpriteMaterial(parameters){Material.call(this);this.type='SpriteMaterial';this.color=new Color(0xffffff);this.map=null;this.rotation=0;this.fog=false;this.lights=false;this.setValues(parameters);}SpriteMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Material.prototype);SpriteMaterial.prototype.constructor=SpriteMaterial;SpriteMaterial.prototype.isSpriteMaterial=true;SpriteMaterial.prototype.copy=function(source){Material.prototype.copy.call(this,source);this.color.copy(source.color);this.map=source.map;this.rotation=source.rotation;return this;};/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */function Sprite(material){Object3D.call(this);this.type='Sprite';this.material=material!==undefined?material:new SpriteMaterial();}Sprite.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype),{constructor:Sprite,isSprite:true,raycast:function(){var intersectPoint=new Vector3();var worldPosition=new Vector3();var worldScale=new Vector3();return function raycast(raycaster,intersects){worldPosition.setFromMatrixPosition(this.matrixWorld);raycaster.ray.closestPointToPoint(worldPosition,intersectPoint);worldScale.setFromMatrixScale(this.matrixWorld);var guessSizeSq=worldScale.x*worldScale.y/4;if(worldPosition.distanceToSquared(intersectPoint)>guessSizeSq)return;var distance=raycaster.ray.origin.distanceTo(intersectPoint);if(distance<raycaster.near||distance>raycaster.far)return;intersects.push({distance:distance,point:intersectPoint.clone(),face:null,object:this});};}(),clone:function clone(){return new this.constructor(this.material).copy(this);}});/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */function LOD(){Object3D.call(this);this.type='LOD';__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(this,{levels:{enumerable:true,value:[]}});}LOD.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype),{constructor:LOD,copy:function copy(source){Object3D.prototype.copy.call(this,source,false);var levels=source.levels;for(var i=0,l=levels.length;i<l;i++){var level=levels[i];this.addLevel(level.object.clone(),level.distance);}return this;},addLevel:function addLevel(object,distance){if(distance===undefined)distance=0;distance=Math.abs(distance);var levels=this.levels;for(var l=0;l<levels.length;l++){if(distance<levels[l].distance){break;}}levels.splice(l,0,{distance:distance,object:object});this.add(object);},getObjectForDistance:function getObjectForDistance(distance){var levels=this.levels;for(var i=1,l=levels.length;i<l;i++){if(distance<levels[i].distance){break;}}return levels[i-1].object;},raycast:function(){var matrixPosition=new Vector3();return function raycast(raycaster,intersects){matrixPosition.setFromMatrixPosition(this.matrixWorld);var distance=raycaster.ray.origin.distanceTo(matrixPosition);this.getObjectForDistance(distance).raycast(raycaster,intersects);};}(),update:function(){var v1=new Vector3();var v2=new Vector3();return function update(camera){var levels=this.levels;if(levels.length>1){v1.setFromMatrixPosition(camera.matrixWorld);v2.setFromMatrixPosition(this.matrixWorld);var distance=v1.distanceTo(v2);levels[0].object.visible=true;for(var i=1,l=levels.length;i<l;i++){if(distance>=levels[i].distance){levels[i-1].object.visible=false;levels[i].object.visible=true;}else{break;}}for(;i<l;i++){levels[i].object.visible=false;}}};}(),toJSON:function toJSON(meta){var data=Object3D.prototype.toJSON.call(this,meta);data.object.levels=[];var levels=this.levels;for(var i=0,l=levels.length;i<l;i++){var level=levels[i];data.object.levels.push({object:level.object.uuid,distance:level.distance});}return data;}});/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author michael guerrero / http://realitymeltdown.com\n * @author ikerr / http://verold.com\n */function Skeleton(bones,boneInverses){// copy the bone array\nbones=bones||[];this.bones=bones.slice(0);this.boneMatrices=new Float32Array(this.bones.length*16);// use the supplied bone inverses or calculate the inverses\nif(boneInverses===undefined){this.calculateInverses();}else{if(this.bones.length===boneInverses.length){this.boneInverses=boneInverses.slice(0);}else{console.warn('THREE.Skeleton boneInverses is the wrong length.');this.boneInverses=[];for(var i=0,il=this.bones.length;i<il;i++){this.boneInverses.push(new Matrix4());}}}}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Skeleton.prototype,{calculateInverses:function calculateInverses(){this.boneInverses=[];for(var i=0,il=this.bones.length;i<il;i++){var inverse=new Matrix4();if(this.bones[i]){inverse.getInverse(this.bones[i].matrixWorld);}this.boneInverses.push(inverse);}},pose:function pose(){var bone,i,il;// recover the bind-time world matrices\nfor(i=0,il=this.bones.length;i<il;i++){bone=this.bones[i];if(bone){bone.matrixWorld.getInverse(this.boneInverses[i]);}}// compute the local matrices, positions, rotations and scales\nfor(i=0,il=this.bones.length;i<il;i++){bone=this.bones[i];if(bone){if(bone.parent&&bone.parent.isBone){bone.matrix.getInverse(bone.parent.matrixWorld);bone.matrix.multiply(bone.matrixWorld);}else{bone.matrix.copy(bone.matrixWorld);}bone.matrix.decompose(bone.position,bone.quaternion,bone.scale);}}},update:function(){var offsetMatrix=new Matrix4();var identityMatrix=new Matrix4();return function update(){var bones=this.bones;var boneInverses=this.boneInverses;var boneMatrices=this.boneMatrices;var boneTexture=this.boneTexture;// flatten bone matrices to array\nfor(var i=0,il=bones.length;i<il;i++){// compute the offset between the current and the original transform\nvar matrix=bones[i]?bones[i].matrixWorld:identityMatrix;offsetMatrix.multiplyMatrices(matrix,boneInverses[i]);offsetMatrix.toArray(boneMatrices,i*16);}if(boneTexture!==undefined){boneTexture.needsUpdate=true;}};}(),clone:function clone(){return new Skeleton(this.bones,this.boneInverses);}});/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */function Bone(){Object3D.call(this);this.type='Bone';}Bone.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype),{constructor:Bone,isBone:true});/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */function SkinnedMesh(geometry,material){Mesh.call(this,geometry,material);this.type='SkinnedMesh';this.bindMode='attached';this.bindMatrix=new Matrix4();this.bindMatrixInverse=new Matrix4();var bones=this.initBones();var skeleton=new Skeleton(bones);this.bind(skeleton,this.matrixWorld);this.normalizeSkinWeights();}SkinnedMesh.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Mesh.prototype),{constructor:SkinnedMesh,isSkinnedMesh:true,initBones:function initBones(){var bones=[],bone,gbone;var i,il;if(this.geometry&&this.geometry.bones!==undefined){// first, create array of 'Bone' objects from geometry data\nfor(i=0,il=this.geometry.bones.length;i<il;i++){gbone=this.geometry.bones[i];// create new 'Bone' object\nbone=new Bone();bones.push(bone);// apply values\nbone.name=gbone.name;bone.position.fromArray(gbone.pos);bone.quaternion.fromArray(gbone.rotq);if(gbone.scl!==undefined)bone.scale.fromArray(gbone.scl);}// second, create bone hierarchy\nfor(i=0,il=this.geometry.bones.length;i<il;i++){gbone=this.geometry.bones[i];if(gbone.parent!==-1&&gbone.parent!==null&&bones[gbone.parent]!==undefined){// subsequent bones in the hierarchy\nbones[gbone.parent].add(bones[i]);}else{// topmost bone, immediate child of the skinned mesh\nthis.add(bones[i]);}}}// now the bones are part of the scene graph and children of the skinned mesh.\n// let's update the corresponding matrices\nthis.updateMatrixWorld(true);return bones;},bind:function bind(skeleton,bindMatrix){this.skeleton=skeleton;if(bindMatrix===undefined){this.updateMatrixWorld(true);this.skeleton.calculateInverses();bindMatrix=this.matrixWorld;}this.bindMatrix.copy(bindMatrix);this.bindMatrixInverse.getInverse(bindMatrix);},pose:function pose(){this.skeleton.pose();},normalizeSkinWeights:function normalizeSkinWeights(){var scale,i;if(this.geometry&&this.geometry.isGeometry){for(i=0;i<this.geometry.skinWeights.length;i++){var sw=this.geometry.skinWeights[i];scale=1.0/sw.lengthManhattan();if(scale!==Infinity){sw.multiplyScalar(scale);}else{sw.set(1,0,0,0);// do something reasonable\n}}}else if(this.geometry&&this.geometry.isBufferGeometry){var vec=new Vector4();var skinWeight=this.geometry.attributes.skinWeight;for(i=0;i<skinWeight.count;i++){vec.x=skinWeight.getX(i);vec.y=skinWeight.getY(i);vec.z=skinWeight.getZ(i);vec.w=skinWeight.getW(i);scale=1.0/vec.lengthManhattan();if(scale!==Infinity){vec.multiplyScalar(scale);}else{vec.set(1,0,0,0);// do something reasonable\n}skinWeight.setXYZW(i,vec.x,vec.y,vec.z,vec.w);}}},updateMatrixWorld:function updateMatrixWorld(force){Mesh.prototype.updateMatrixWorld.call(this,force);if(this.bindMode==='attached'){this.bindMatrixInverse.getInverse(this.matrixWorld);}else if(this.bindMode==='detached'){this.bindMatrixInverse.getInverse(this.bindMatrix);}else{console.warn('THREE.SkinnedMesh: Unrecognized bindMode: '+this.bindMode);}},clone:function clone(){return new this.constructor(this.geometry,this.material).copy(this);}});/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */function LineBasicMaterial(parameters){Material.call(this);this.type='LineBasicMaterial';this.color=new Color(0xffffff);this.linewidth=1;this.linecap='round';this.linejoin='round';this.lights=false;this.setValues(parameters);}LineBasicMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Material.prototype);LineBasicMaterial.prototype.constructor=LineBasicMaterial;LineBasicMaterial.prototype.isLineBasicMaterial=true;LineBasicMaterial.prototype.copy=function(source){Material.prototype.copy.call(this,source);this.color.copy(source.color);this.linewidth=source.linewidth;this.linecap=source.linecap;this.linejoin=source.linejoin;return this;};/**\n * @author mrdoob / http://mrdoob.com/\n */function Line(geometry,material,mode){if(mode===1){console.warn('THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.');return new LineSegments(geometry,material);}Object3D.call(this);this.type='Line';this.geometry=geometry!==undefined?geometry:new BufferGeometry();this.material=material!==undefined?material:new LineBasicMaterial({color:Math.random()*0xffffff});}Line.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype),{constructor:Line,isLine:true,raycast:function(){var inverseMatrix=new Matrix4();var ray=new Ray();var sphere=new Sphere();return function raycast(raycaster,intersects){var precision=raycaster.linePrecision;var precisionSq=precision*precision;var geometry=this.geometry;var matrixWorld=this.matrixWorld;// Checking boundingSphere distance to ray\nif(geometry.boundingSphere===null)geometry.computeBoundingSphere();sphere.copy(geometry.boundingSphere);sphere.applyMatrix4(matrixWorld);if(raycaster.ray.intersectsSphere(sphere)===false)return;//\ninverseMatrix.getInverse(matrixWorld);ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);var vStart=new Vector3();var vEnd=new Vector3();var interSegment=new Vector3();var interRay=new Vector3();var step=this&&this.isLineSegments?2:1;if(geometry.isBufferGeometry){var index=geometry.index;var attributes=geometry.attributes;var positions=attributes.position.array;if(index!==null){var indices=index.array;for(var i=0,l=indices.length-1;i<l;i+=step){var a=indices[i];var b=indices[i+1];vStart.fromArray(positions,a*3);vEnd.fromArray(positions,b*3);var distSq=ray.distanceSqToSegment(vStart,vEnd,interRay,interSegment);if(distSq>precisionSq)continue;interRay.applyMatrix4(this.matrixWorld);//Move back to world space for distance calculation\nvar distance=raycaster.ray.origin.distanceTo(interRay);if(distance<raycaster.near||distance>raycaster.far)continue;intersects.push({distance:distance,// What do we want? intersection point on the ray or on the segment??\n// point: raycaster.ray.at( distance ),\npoint:interSegment.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this});}}else{for(var i=0,l=positions.length/3-1;i<l;i+=step){vStart.fromArray(positions,3*i);vEnd.fromArray(positions,3*i+3);var distSq=ray.distanceSqToSegment(vStart,vEnd,interRay,interSegment);if(distSq>precisionSq)continue;interRay.applyMatrix4(this.matrixWorld);//Move back to world space for distance calculation\nvar distance=raycaster.ray.origin.distanceTo(interRay);if(distance<raycaster.near||distance>raycaster.far)continue;intersects.push({distance:distance,// What do we want? intersection point on the ray or on the segment??\n// point: raycaster.ray.at( distance ),\npoint:interSegment.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this});}}}else if(geometry.isGeometry){var vertices=geometry.vertices;var nbVertices=vertices.length;for(var i=0;i<nbVertices-1;i+=step){var distSq=ray.distanceSqToSegment(vertices[i],vertices[i+1],interRay,interSegment);if(distSq>precisionSq)continue;interRay.applyMatrix4(this.matrixWorld);//Move back to world space for distance calculation\nvar distance=raycaster.ray.origin.distanceTo(interRay);if(distance<raycaster.near||distance>raycaster.far)continue;intersects.push({distance:distance,// What do we want? intersection point on the ray or on the segment??\n// point: raycaster.ray.at( distance ),\npoint:interSegment.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this});}}};}(),clone:function clone(){return new this.constructor(this.geometry,this.material).copy(this);}});/**\n * @author mrdoob / http://mrdoob.com/\n */function LineSegments(geometry,material){Line.call(this,geometry,material);this.type='LineSegments';}LineSegments.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Line.prototype),{constructor:LineSegments,isLineSegments:true});/**\n * @author mgreter / http://github.com/mgreter\n */function LineLoop(geometry,material){Line.call(this,geometry,material);this.type='LineLoop';}LineLoop.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Line.prototype),{constructor:LineLoop,isLineLoop:true});/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n * }\n */function PointsMaterial(parameters){Material.call(this);this.type='PointsMaterial';this.color=new Color(0xffffff);this.map=null;this.size=1;this.sizeAttenuation=true;this.lights=false;this.setValues(parameters);}PointsMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Material.prototype);PointsMaterial.prototype.constructor=PointsMaterial;PointsMaterial.prototype.isPointsMaterial=true;PointsMaterial.prototype.copy=function(source){Material.prototype.copy.call(this,source);this.color.copy(source.color);this.map=source.map;this.size=source.size;this.sizeAttenuation=source.sizeAttenuation;return this;};/**\n * @author alteredq / http://alteredqualia.com/\n */function Points(geometry,material){Object3D.call(this);this.type='Points';this.geometry=geometry!==undefined?geometry:new BufferGeometry();this.material=material!==undefined?material:new PointsMaterial({color:Math.random()*0xffffff});}Points.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype),{constructor:Points,isPoints:true,raycast:function(){var inverseMatrix=new Matrix4();var ray=new Ray();var sphere=new Sphere();return function raycast(raycaster,intersects){var object=this;var geometry=this.geometry;var matrixWorld=this.matrixWorld;var threshold=raycaster.params.Points.threshold;// Checking boundingSphere distance to ray\nif(geometry.boundingSphere===null)geometry.computeBoundingSphere();sphere.copy(geometry.boundingSphere);sphere.applyMatrix4(matrixWorld);sphere.radius+=threshold;if(raycaster.ray.intersectsSphere(sphere)===false)return;//\ninverseMatrix.getInverse(matrixWorld);ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);var localThreshold=threshold/((this.scale.x+this.scale.y+this.scale.z)/3);var localThresholdSq=localThreshold*localThreshold;var position=new Vector3();function testPoint(point,index){var rayPointDistanceSq=ray.distanceSqToPoint(point);if(rayPointDistanceSq<localThresholdSq){var intersectPoint=ray.closestPointToPoint(point);intersectPoint.applyMatrix4(matrixWorld);var distance=raycaster.ray.origin.distanceTo(intersectPoint);if(distance<raycaster.near||distance>raycaster.far)return;intersects.push({distance:distance,distanceToRay:Math.sqrt(rayPointDistanceSq),point:intersectPoint.clone(),index:index,face:null,object:object});}}if(geometry.isBufferGeometry){var index=geometry.index;var attributes=geometry.attributes;var positions=attributes.position.array;if(index!==null){var indices=index.array;for(var i=0,il=indices.length;i<il;i++){var a=indices[i];position.fromArray(positions,a*3);testPoint(position,a);}}else{for(var i=0,l=positions.length/3;i<l;i++){position.fromArray(positions,i*3);testPoint(position,i);}}}else{var vertices=geometry.vertices;for(var i=0,l=vertices.length;i<l;i++){testPoint(vertices[i],i);}}};}(),clone:function clone(){return new this.constructor(this.geometry,this.material).copy(this);}});/**\n * @author mrdoob / http://mrdoob.com/\n */function Group(){Object3D.call(this);this.type='Group';}Group.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype),{constructor:Group});/**\n * @author mrdoob / http://mrdoob.com/\n */function VideoTexture(video,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy){Texture.call(this,video,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy);this.generateMipmaps=false;var scope=this;function update(){requestAnimationFrame(update);if(video.readyState>=video.HAVE_CURRENT_DATA){scope.needsUpdate=true;}}update();}VideoTexture.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Texture.prototype);VideoTexture.prototype.constructor=VideoTexture;/**\n * @author alteredq / http://alteredqualia.com/\n */function CompressedTexture(mipmaps,width,height,format,type,mapping,wrapS,wrapT,magFilter,minFilter,anisotropy,encoding){Texture.call(this,null,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy,encoding);this.image={width:width,height:height};this.mipmaps=mipmaps;// no flipping for cube textures\n// (also flipping doesn't work for compressed textures )\nthis.flipY=false;// can't generate mipmaps for compressed textures\n// mips must be embedded in DDS files\nthis.generateMipmaps=false;}CompressedTexture.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Texture.prototype);CompressedTexture.prototype.constructor=CompressedTexture;CompressedTexture.prototype.isCompressedTexture=true;/**\n * @author Matt DesLauriers / @mattdesl\n * @author atix / arthursilber.de\n */function DepthTexture(width,height,type,mapping,wrapS,wrapT,magFilter,minFilter,anisotropy,format){format=format!==undefined?format:DepthFormat;if(format!==DepthFormat&&format!==DepthStencilFormat){throw new Error('DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat');}if(type===undefined&&format===DepthFormat)type=UnsignedShortType;if(type===undefined&&format===DepthStencilFormat)type=UnsignedInt248Type;Texture.call(this,null,mapping,wrapS,wrapT,magFilter,minFilter,format,type,anisotropy);this.image={width:width,height:height};this.magFilter=magFilter!==undefined?magFilter:NearestFilter;this.minFilter=minFilter!==undefined?minFilter:NearestFilter;this.flipY=false;this.generateMipmaps=false;}DepthTexture.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Texture.prototype);DepthTexture.prototype.constructor=DepthTexture;DepthTexture.prototype.isDepthTexture=true;/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */function WireframeGeometry(geometry){BufferGeometry.call(this);this.type='WireframeGeometry';// buffer\nvar vertices=[];// helper variables\nvar i,j,l,o,ol;var edge=[0,0],edges={},e,edge1,edge2;var key,keys=['a','b','c'];var vertex;// different logic for Geometry and BufferGeometry\nif(geometry&&geometry.isGeometry){// create a data structure that contains all edges without duplicates\nvar faces=geometry.faces;for(i=0,l=faces.length;i<l;i++){var face=faces[i];for(j=0;j<3;j++){edge1=face[keys[j]];edge2=face[keys[(j+1)%3]];edge[0]=Math.min(edge1,edge2);// sorting prevents duplicates\nedge[1]=Math.max(edge1,edge2);key=edge[0]+','+edge[1];if(edges[key]===undefined){edges[key]={index1:edge[0],index2:edge[1]};}}}// generate vertices\nfor(key in edges){e=edges[key];vertex=geometry.vertices[e.index1];vertices.push(vertex.x,vertex.y,vertex.z);vertex=geometry.vertices[e.index2];vertices.push(vertex.x,vertex.y,vertex.z);}}else if(geometry&&geometry.isBufferGeometry){var position,indices,groups;var group,start,count;var index1,index2;vertex=new Vector3();if(geometry.index!==null){// indexed BufferGeometry\nposition=geometry.attributes.position;indices=geometry.index;groups=geometry.groups;if(groups.length===0){groups=[{start:0,count:indices.count,materialIndex:0}];}// create a data structure that contains all eges without duplicates\nfor(o=0,ol=groups.length;o<ol;++o){group=groups[o];start=group.start;count=group.count;for(i=start,l=start+count;i<l;i+=3){for(j=0;j<3;j++){edge1=indices.getX(i+j);edge2=indices.getX(i+(j+1)%3);edge[0]=Math.min(edge1,edge2);// sorting prevents duplicates\nedge[1]=Math.max(edge1,edge2);key=edge[0]+','+edge[1];if(edges[key]===undefined){edges[key]={index1:edge[0],index2:edge[1]};}}}}// generate vertices\nfor(key in edges){e=edges[key];vertex.fromBufferAttribute(position,e.index1);vertices.push(vertex.x,vertex.y,vertex.z);vertex.fromBufferAttribute(position,e.index2);vertices.push(vertex.x,vertex.y,vertex.z);}}else{// non-indexed BufferGeometry\nposition=geometry.attributes.position;for(i=0,l=position.count/3;i<l;i++){for(j=0;j<3;j++){// three edges per triangle, an edge is represented as (index1, index2)\n// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\nindex1=3*i+j;vertex.fromBufferAttribute(position,index1);vertices.push(vertex.x,vertex.y,vertex.z);index2=3*i+(j+1)%3;vertex.fromBufferAttribute(position,index2);vertices.push(vertex.x,vertex.y,vertex.z);}}}}// build geometry\nthis.addAttribute('position',new Float32BufferAttribute(vertices,3));}WireframeGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);WireframeGeometry.prototype.constructor=WireframeGeometry;/**\n * @author zz85 / https://github.com/zz85\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\n */// ParametricGeometry\nfunction ParametricGeometry(func,slices,stacks){Geometry.call(this);this.type='ParametricGeometry';this.parameters={func:func,slices:slices,stacks:stacks};this.fromBufferGeometry(new ParametricBufferGeometry(func,slices,stacks));this.mergeVertices();}ParametricGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);ParametricGeometry.prototype.constructor=ParametricGeometry;// ParametricBufferGeometry\nfunction ParametricBufferGeometry(func,slices,stacks){BufferGeometry.call(this);this.type='ParametricBufferGeometry';this.parameters={func:func,slices:slices,stacks:stacks};// buffers\nvar indices=[];var vertices=[];var normals=[];var uvs=[];var EPS=0.00001;var normal=new Vector3();var p0=new Vector3(),p1=new Vector3();var pu=new Vector3(),pv=new Vector3();var i,j;// generate vertices, normals and uvs\nvar sliceCount=slices+1;for(i=0;i<=stacks;i++){var v=i/stacks;for(j=0;j<=slices;j++){var u=j/slices;// vertex\np0=func(u,v,p0);vertices.push(p0.x,p0.y,p0.z);// normal\n// approximate tangent vectors via finite differences\nif(u-EPS>=0){p1=func(u-EPS,v,p1);pu.subVectors(p0,p1);}else{p1=func(u+EPS,v,p1);pu.subVectors(p1,p0);}if(v-EPS>=0){p1=func(u,v-EPS,p1);pv.subVectors(p0,p1);}else{p1=func(u,v+EPS,p1);pv.subVectors(p1,p0);}// cross product of tangent vectors returns surface normal\nnormal.crossVectors(pu,pv).normalize();normals.push(normal.x,normal.y,normal.z);// uv\nuvs.push(u,v);}}// generate indices\nfor(i=0;i<stacks;i++){for(j=0;j<slices;j++){var a=i*sliceCount+j;var b=i*sliceCount+j+1;var c=(i+1)*sliceCount+j+1;var d=(i+1)*sliceCount+j;// faces one and two\nindices.push(a,b,d);indices.push(b,c,d);}}// build geometry\nthis.setIndex(indices);this.addAttribute('position',new Float32BufferAttribute(vertices,3));this.addAttribute('normal',new Float32BufferAttribute(normals,3));this.addAttribute('uv',new Float32BufferAttribute(uvs,2));}ParametricBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);ParametricBufferGeometry.prototype.constructor=ParametricBufferGeometry;/**\n * @author clockworkgeek / https://github.com/clockworkgeek\n * @author timothypratley / https://github.com/timothypratley\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */// PolyhedronGeometry\nfunction PolyhedronGeometry(vertices,indices,radius,detail){Geometry.call(this);this.type='PolyhedronGeometry';this.parameters={vertices:vertices,indices:indices,radius:radius,detail:detail};this.fromBufferGeometry(new PolyhedronBufferGeometry(vertices,indices,radius,detail));this.mergeVertices();}PolyhedronGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);PolyhedronGeometry.prototype.constructor=PolyhedronGeometry;// PolyhedronBufferGeometry\nfunction PolyhedronBufferGeometry(vertices,indices,radius,detail){BufferGeometry.call(this);this.type='PolyhedronBufferGeometry';this.parameters={vertices:vertices,indices:indices,radius:radius,detail:detail};radius=radius||1;detail=detail||0;// default buffer data\nvar vertexBuffer=[];var uvBuffer=[];// the subdivision creates the vertex buffer data\nsubdivide(detail);// all vertices should lie on a conceptual sphere with a given radius\nappplyRadius(radius);// finally, create the uv data\ngenerateUVs();// build non-indexed geometry\nthis.addAttribute('position',new Float32BufferAttribute(vertexBuffer,3));this.addAttribute('normal',new Float32BufferAttribute(vertexBuffer.slice(),3));this.addAttribute('uv',new Float32BufferAttribute(uvBuffer,2));if(detail===0){this.computeVertexNormals();// flat normals\n}else{this.normalizeNormals();// smooth normals\n}// helper functions\nfunction subdivide(detail){var a=new Vector3();var b=new Vector3();var c=new Vector3();// iterate over all faces and apply a subdivison with the given detail value\nfor(var i=0;i<indices.length;i+=3){// get the vertices of the face\ngetVertexByIndex(indices[i+0],a);getVertexByIndex(indices[i+1],b);getVertexByIndex(indices[i+2],c);// perform subdivision\nsubdivideFace(a,b,c,detail);}}function subdivideFace(a,b,c,detail){var cols=Math.pow(2,detail);// we use this multidimensional array as a data structure for creating the subdivision\nvar v=[];var i,j;// construct all of the vertices for this subdivision\nfor(i=0;i<=cols;i++){v[i]=[];var aj=a.clone().lerp(c,i/cols);var bj=b.clone().lerp(c,i/cols);var rows=cols-i;for(j=0;j<=rows;j++){if(j===0&&i===cols){v[i][j]=aj;}else{v[i][j]=aj.clone().lerp(bj,j/rows);}}}// construct all of the faces\nfor(i=0;i<cols;i++){for(j=0;j<2*(cols-i)-1;j++){var k=Math.floor(j/2);if(j%2===0){pushVertex(v[i][k+1]);pushVertex(v[i+1][k]);pushVertex(v[i][k]);}else{pushVertex(v[i][k+1]);pushVertex(v[i+1][k+1]);pushVertex(v[i+1][k]);}}}}function appplyRadius(radius){var vertex=new Vector3();// iterate over the entire buffer and apply the radius to each vertex\nfor(var i=0;i<vertexBuffer.length;i+=3){vertex.x=vertexBuffer[i+0];vertex.y=vertexBuffer[i+1];vertex.z=vertexBuffer[i+2];vertex.normalize().multiplyScalar(radius);vertexBuffer[i+0]=vertex.x;vertexBuffer[i+1]=vertex.y;vertexBuffer[i+2]=vertex.z;}}function generateUVs(){var vertex=new Vector3();for(var i=0;i<vertexBuffer.length;i+=3){vertex.x=vertexBuffer[i+0];vertex.y=vertexBuffer[i+1];vertex.z=vertexBuffer[i+2];var u=azimuth(vertex)/2/Math.PI+0.5;var v=inclination(vertex)/Math.PI+0.5;uvBuffer.push(u,1-v);}correctUVs();correctSeam();}function correctSeam(){// handle case when face straddles the seam, see #3269\nfor(var i=0;i<uvBuffer.length;i+=6){// uv data of a single face\nvar x0=uvBuffer[i+0];var x1=uvBuffer[i+2];var x2=uvBuffer[i+4];var max=Math.max(x0,x1,x2);var min=Math.min(x0,x1,x2);// 0.9 is somewhat arbitrary\nif(max>0.9&&min<0.1){if(x0<0.2)uvBuffer[i+0]+=1;if(x1<0.2)uvBuffer[i+2]+=1;if(x2<0.2)uvBuffer[i+4]+=1;}}}function pushVertex(vertex){vertexBuffer.push(vertex.x,vertex.y,vertex.z);}function getVertexByIndex(index,vertex){var stride=index*3;vertex.x=vertices[stride+0];vertex.y=vertices[stride+1];vertex.z=vertices[stride+2];}function correctUVs(){var a=new Vector3();var b=new Vector3();var c=new Vector3();var centroid=new Vector3();var uvA=new Vector2();var uvB=new Vector2();var uvC=new Vector2();for(var i=0,j=0;i<vertexBuffer.length;i+=9,j+=6){a.set(vertexBuffer[i+0],vertexBuffer[i+1],vertexBuffer[i+2]);b.set(vertexBuffer[i+3],vertexBuffer[i+4],vertexBuffer[i+5]);c.set(vertexBuffer[i+6],vertexBuffer[i+7],vertexBuffer[i+8]);uvA.set(uvBuffer[j+0],uvBuffer[j+1]);uvB.set(uvBuffer[j+2],uvBuffer[j+3]);uvC.set(uvBuffer[j+4],uvBuffer[j+5]);centroid.copy(a).add(b).add(c).divideScalar(3);var azi=azimuth(centroid);correctUV(uvA,j+0,a,azi);correctUV(uvB,j+2,b,azi);correctUV(uvC,j+4,c,azi);}}function correctUV(uv,stride,vector,azimuth){if(azimuth<0&&uv.x===1){uvBuffer[stride]=uv.x-1;}if(vector.x===0&&vector.z===0){uvBuffer[stride]=azimuth/2/Math.PI+0.5;}}// Angle around the Y axis, counter-clockwise when looking from above.\nfunction azimuth(vector){return Math.atan2(vector.z,-vector.x);}// Angle above the XZ plane.\nfunction inclination(vector){return Math.atan2(-vector.y,Math.sqrt(vector.x*vector.x+vector.z*vector.z));}}PolyhedronBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);PolyhedronBufferGeometry.prototype.constructor=PolyhedronBufferGeometry;/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */// TetrahedronGeometry\nfunction TetrahedronGeometry(radius,detail){Geometry.call(this);this.type='TetrahedronGeometry';this.parameters={radius:radius,detail:detail};this.fromBufferGeometry(new TetrahedronBufferGeometry(radius,detail));this.mergeVertices();}TetrahedronGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);TetrahedronGeometry.prototype.constructor=TetrahedronGeometry;// TetrahedronBufferGeometry\nfunction TetrahedronBufferGeometry(radius,detail){var vertices=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1];var indices=[2,1,0,0,3,2,1,3,0,2,3,1];PolyhedronBufferGeometry.call(this,vertices,indices,radius,detail);this.type='TetrahedronBufferGeometry';this.parameters={radius:radius,detail:detail};}TetrahedronBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(PolyhedronBufferGeometry.prototype);TetrahedronBufferGeometry.prototype.constructor=TetrahedronBufferGeometry;/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */// OctahedronGeometry\nfunction OctahedronGeometry(radius,detail){Geometry.call(this);this.type='OctahedronGeometry';this.parameters={radius:radius,detail:detail};this.fromBufferGeometry(new OctahedronBufferGeometry(radius,detail));this.mergeVertices();}OctahedronGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);OctahedronGeometry.prototype.constructor=OctahedronGeometry;// OctahedronBufferGeometry\nfunction OctahedronBufferGeometry(radius,detail){var vertices=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1];var indices=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];PolyhedronBufferGeometry.call(this,vertices,indices,radius,detail);this.type='OctahedronBufferGeometry';this.parameters={radius:radius,detail:detail};}OctahedronBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(PolyhedronBufferGeometry.prototype);OctahedronBufferGeometry.prototype.constructor=OctahedronBufferGeometry;/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */// IcosahedronGeometry\nfunction IcosahedronGeometry(radius,detail){Geometry.call(this);this.type='IcosahedronGeometry';this.parameters={radius:radius,detail:detail};this.fromBufferGeometry(new IcosahedronBufferGeometry(radius,detail));this.mergeVertices();}IcosahedronGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);IcosahedronGeometry.prototype.constructor=IcosahedronGeometry;// IcosahedronBufferGeometry\nfunction IcosahedronBufferGeometry(radius,detail){var t=(1+Math.sqrt(5))/2;var vertices=[-1,t,0,1,t,0,-1,-t,0,1,-t,0,0,-1,t,0,1,t,0,-1,-t,0,1,-t,t,0,-1,t,0,1,-t,0,-1,-t,0,1];var indices=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];PolyhedronBufferGeometry.call(this,vertices,indices,radius,detail);this.type='IcosahedronBufferGeometry';this.parameters={radius:radius,detail:detail};}IcosahedronBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(PolyhedronBufferGeometry.prototype);IcosahedronBufferGeometry.prototype.constructor=IcosahedronBufferGeometry;/**\n * @author Abe Pazos / https://hamoid.com\n * @author Mugen87 / https://github.com/Mugen87\n */// DodecahedronGeometry\nfunction DodecahedronGeometry(radius,detail){Geometry.call(this);this.type='DodecahedronGeometry';this.parameters={radius:radius,detail:detail};this.fromBufferGeometry(new DodecahedronBufferGeometry(radius,detail));this.mergeVertices();}DodecahedronGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);DodecahedronGeometry.prototype.constructor=DodecahedronGeometry;// DodecahedronBufferGeometry\nfunction DodecahedronBufferGeometry(radius,detail){var t=(1+Math.sqrt(5))/2;var r=1/t;var vertices=[// (±1, ±1, ±1)\n-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,// (0, ±1/φ, ±φ)\n0,-r,-t,0,-r,t,0,r,-t,0,r,t,// (±1/φ, ±φ, 0)\n-r,-t,0,-r,t,0,r,-t,0,r,t,0,// (±φ, 0, ±1/φ)\n-t,0,-r,t,0,-r,-t,0,r,t,0,r];var indices=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];PolyhedronBufferGeometry.call(this,vertices,indices,radius,detail);this.type='DodecahedronBufferGeometry';this.parameters={radius:radius,detail:detail};}DodecahedronBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(PolyhedronBufferGeometry.prototype);DodecahedronBufferGeometry.prototype.constructor=DodecahedronBufferGeometry;/**\n * @author oosmoxiecode / https://github.com/oosmoxiecode\n * @author WestLangley / https://github.com/WestLangley\n * @author zz85 / https://github.com/zz85\n * @author miningold / https://github.com/miningold\n * @author jonobr1 / https://github.com/jonobr1\n * @author Mugen87 / https://github.com/Mugen87\n *\n */// TubeGeometry\nfunction TubeGeometry(path,tubularSegments,radius,radialSegments,closed,taper){Geometry.call(this);this.type='TubeGeometry';this.parameters={path:path,tubularSegments:tubularSegments,radius:radius,radialSegments:radialSegments,closed:closed};if(taper!==undefined)console.warn('THREE.TubeGeometry: taper has been removed.');var bufferGeometry=new TubeBufferGeometry(path,tubularSegments,radius,radialSegments,closed);// expose internals\nthis.tangents=bufferGeometry.tangents;this.normals=bufferGeometry.normals;this.binormals=bufferGeometry.binormals;// create geometry\nthis.fromBufferGeometry(bufferGeometry);this.mergeVertices();}TubeGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);TubeGeometry.prototype.constructor=TubeGeometry;// TubeBufferGeometry\nfunction TubeBufferGeometry(path,tubularSegments,radius,radialSegments,closed){BufferGeometry.call(this);this.type='TubeBufferGeometry';this.parameters={path:path,tubularSegments:tubularSegments,radius:radius,radialSegments:radialSegments,closed:closed};tubularSegments=tubularSegments||64;radius=radius||1;radialSegments=radialSegments||8;closed=closed||false;var frames=path.computeFrenetFrames(tubularSegments,closed);// expose internals\nthis.tangents=frames.tangents;this.normals=frames.normals;this.binormals=frames.binormals;// helper variables\nvar vertex=new Vector3();var normal=new Vector3();var uv=new Vector2();var i,j;// buffer\nvar vertices=[];var normals=[];var uvs=[];var indices=[];// create buffer data\ngenerateBufferData();// build geometry\nthis.setIndex(indices);this.addAttribute('position',new Float32BufferAttribute(vertices,3));this.addAttribute('normal',new Float32BufferAttribute(normals,3));this.addAttribute('uv',new Float32BufferAttribute(uvs,2));// functions\nfunction generateBufferData(){for(i=0;i<tubularSegments;i++){generateSegment(i);}// if the geometry is not closed, generate the last row of vertices and normals\n// at the regular position on the given path\n//\n// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\ngenerateSegment(closed===false?tubularSegments:0);// uvs are generated in a separate function.\n// this makes it easy compute correct values for closed geometries\ngenerateUVs();// finally create faces\ngenerateIndices();}function generateSegment(i){// we use getPointAt to sample evenly distributed points from the given path\nvar P=path.getPointAt(i/tubularSegments);// retrieve corresponding normal and binormal\nvar N=frames.normals[i];var B=frames.binormals[i];// generate normals and vertices for the current segment\nfor(j=0;j<=radialSegments;j++){var v=j/radialSegments*Math.PI*2;var sin=Math.sin(v);var cos=-Math.cos(v);// normal\nnormal.x=cos*N.x+sin*B.x;normal.y=cos*N.y+sin*B.y;normal.z=cos*N.z+sin*B.z;normal.normalize();normals.push(normal.x,normal.y,normal.z);// vertex\nvertex.x=P.x+radius*normal.x;vertex.y=P.y+radius*normal.y;vertex.z=P.z+radius*normal.z;vertices.push(vertex.x,vertex.y,vertex.z);}}function generateIndices(){for(j=1;j<=tubularSegments;j++){for(i=1;i<=radialSegments;i++){var a=(radialSegments+1)*(j-1)+(i-1);var b=(radialSegments+1)*j+(i-1);var c=(radialSegments+1)*j+i;var d=(radialSegments+1)*(j-1)+i;// faces\nindices.push(a,b,d);indices.push(b,c,d);}}}function generateUVs(){for(i=0;i<=tubularSegments;i++){for(j=0;j<=radialSegments;j++){uv.x=i/tubularSegments;uv.y=j/radialSegments;uvs.push(uv.x,uv.y);}}}}TubeBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);TubeBufferGeometry.prototype.constructor=TubeBufferGeometry;/**\n * @author oosmoxiecode\n * @author Mugen87 / https://github.com/Mugen87\n *\n * based on http://www.blackpawn.com/texts/pqtorus/\n */// TorusKnotGeometry\nfunction TorusKnotGeometry(radius,tube,tubularSegments,radialSegments,p,q,heightScale){Geometry.call(this);this.type='TorusKnotGeometry';this.parameters={radius:radius,tube:tube,tubularSegments:tubularSegments,radialSegments:radialSegments,p:p,q:q};if(heightScale!==undefined)console.warn('THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.');this.fromBufferGeometry(new TorusKnotBufferGeometry(radius,tube,tubularSegments,radialSegments,p,q));this.mergeVertices();}TorusKnotGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);TorusKnotGeometry.prototype.constructor=TorusKnotGeometry;// TorusKnotBufferGeometry\nfunction TorusKnotBufferGeometry(radius,tube,tubularSegments,radialSegments,p,q){BufferGeometry.call(this);this.type='TorusKnotBufferGeometry';this.parameters={radius:radius,tube:tube,tubularSegments:tubularSegments,radialSegments:radialSegments,p:p,q:q};radius=radius||100;tube=tube||40;tubularSegments=Math.floor(tubularSegments)||64;radialSegments=Math.floor(radialSegments)||8;p=p||2;q=q||3;// buffers\nvar indices=[];var vertices=[];var normals=[];var uvs=[];// helper variables\nvar i,j;var vertex=new Vector3();var normal=new Vector3();var P1=new Vector3();var P2=new Vector3();var B=new Vector3();var T=new Vector3();var N=new Vector3();// generate vertices, normals and uvs\nfor(i=0;i<=tubularSegments;++i){// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\nvar u=i/tubularSegments*p*Math.PI*2;// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\ncalculatePositionOnCurve(u,p,q,radius,P1);calculatePositionOnCurve(u+0.01,p,q,radius,P2);// calculate orthonormal basis\nT.subVectors(P2,P1);N.addVectors(P2,P1);B.crossVectors(T,N);N.crossVectors(B,T);// normalize B, N. T can be ignored, we don't use it\nB.normalize();N.normalize();for(j=0;j<=radialSegments;++j){// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\nvar v=j/radialSegments*Math.PI*2;var cx=-tube*Math.cos(v);var cy=tube*Math.sin(v);// now calculate the final vertex position.\n// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\nvertex.x=P1.x+(cx*N.x+cy*B.x);vertex.y=P1.y+(cx*N.y+cy*B.y);vertex.z=P1.z+(cx*N.z+cy*B.z);vertices.push(vertex.x,vertex.y,vertex.z);// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\nnormal.subVectors(vertex,P1).normalize();normals.push(normal.x,normal.y,normal.z);// uv\nuvs.push(i/tubularSegments);uvs.push(j/radialSegments);}}// generate indices\nfor(j=1;j<=tubularSegments;j++){for(i=1;i<=radialSegments;i++){// indices\nvar a=(radialSegments+1)*(j-1)+(i-1);var b=(radialSegments+1)*j+(i-1);var c=(radialSegments+1)*j+i;var d=(radialSegments+1)*(j-1)+i;// faces\nindices.push(a,b,d);indices.push(b,c,d);}}// build geometry\nthis.setIndex(indices);this.addAttribute('position',new Float32BufferAttribute(vertices,3));this.addAttribute('normal',new Float32BufferAttribute(normals,3));this.addAttribute('uv',new Float32BufferAttribute(uvs,2));// this function calculates the current position on the torus curve\nfunction calculatePositionOnCurve(u,p,q,radius,position){var cu=Math.cos(u);var su=Math.sin(u);var quOverP=q/p*u;var cs=Math.cos(quOverP);position.x=radius*(2+cs)*0.5*cu;position.y=radius*(2+cs)*su*0.5;position.z=radius*Math.sin(quOverP)*0.5;}}TorusKnotBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);TorusKnotBufferGeometry.prototype.constructor=TorusKnotBufferGeometry;/**\n * @author oosmoxiecode\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */// TorusGeometry\nfunction TorusGeometry(radius,tube,radialSegments,tubularSegments,arc){Geometry.call(this);this.type='TorusGeometry';this.parameters={radius:radius,tube:tube,radialSegments:radialSegments,tubularSegments:tubularSegments,arc:arc};this.fromBufferGeometry(new TorusBufferGeometry(radius,tube,radialSegments,tubularSegments,arc));this.mergeVertices();}TorusGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);TorusGeometry.prototype.constructor=TorusGeometry;// TorusBufferGeometry\nfunction TorusBufferGeometry(radius,tube,radialSegments,tubularSegments,arc){BufferGeometry.call(this);this.type='TorusBufferGeometry';this.parameters={radius:radius,tube:tube,radialSegments:radialSegments,tubularSegments:tubularSegments,arc:arc};radius=radius||100;tube=tube||40;radialSegments=Math.floor(radialSegments)||8;tubularSegments=Math.floor(tubularSegments)||6;arc=arc||Math.PI*2;// buffers\nvar indices=[];var vertices=[];var normals=[];var uvs=[];// helper variables\nvar center=new Vector3();var vertex=new Vector3();var normal=new Vector3();var j,i;// generate vertices, normals and uvs\nfor(j=0;j<=radialSegments;j++){for(i=0;i<=tubularSegments;i++){var u=i/tubularSegments*arc;var v=j/radialSegments*Math.PI*2;// vertex\nvertex.x=(radius+tube*Math.cos(v))*Math.cos(u);vertex.y=(radius+tube*Math.cos(v))*Math.sin(u);vertex.z=tube*Math.sin(v);vertices.push(vertex.x,vertex.y,vertex.z);// normal\ncenter.x=radius*Math.cos(u);center.y=radius*Math.sin(u);normal.subVectors(vertex,center).normalize();normals.push(normal.x,normal.y,normal.z);// uv\nuvs.push(i/tubularSegments);uvs.push(j/radialSegments);}}// generate indices\nfor(j=1;j<=radialSegments;j++){for(i=1;i<=tubularSegments;i++){// indices\nvar a=(tubularSegments+1)*j+i-1;var b=(tubularSegments+1)*(j-1)+i-1;var c=(tubularSegments+1)*(j-1)+i;var d=(tubularSegments+1)*j+i;// faces\nindices.push(a,b,d);indices.push(b,c,d);}}// build geometry\nthis.setIndex(indices);this.addAttribute('position',new Float32BufferAttribute(vertices,3));this.addAttribute('normal',new Float32BufferAttribute(normals,3));this.addAttribute('uv',new Float32BufferAttribute(uvs,2));}TorusBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);TorusBufferGeometry.prototype.constructor=TorusBufferGeometry;/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */var ShapeUtils={// calculate area of the contour polygon\narea:function area(contour){var n=contour.length;var a=0.0;for(var p=n-1,q=0;q<n;p=q++){a+=contour[p].x*contour[q].y-contour[q].x*contour[p].y;}return a*0.5;},triangulate:function(){/**\n     * This code is a quick port of code written in C++ which was submitted to\n     * flipcode.com by John W. Ratcliff  // July 22, 2000\n     * See original code and more information here:\n     * http://www.flipcode.com/archives/Efficient_Polygon_Triangulation.shtml\n     *\n     * ported to actionscript by Zevan Rosser\n     * www.actionsnippet.com\n     *\n     * ported to javascript by Joshua Koo\n     * http://www.lab4games.net/zz85/blog\n     *\n     */function snip(contour,u,v,w,n,verts){var p;var ax,ay,bx,by;var cx,cy,px,py;ax=contour[verts[u]].x;ay=contour[verts[u]].y;bx=contour[verts[v]].x;by=contour[verts[v]].y;cx=contour[verts[w]].x;cy=contour[verts[w]].y;if((bx-ax)*(cy-ay)-(by-ay)*(cx-ax)<=0)return false;var aX,aY,bX,bY,cX,cY;var apx,apy,bpx,bpy,cpx,cpy;var cCROSSap,bCROSScp,aCROSSbp;aX=cx-bx;aY=cy-by;bX=ax-cx;bY=ay-cy;cX=bx-ax;cY=by-ay;for(p=0;p<n;p++){px=contour[verts[p]].x;py=contour[verts[p]].y;if(px===ax&&py===ay||px===bx&&py===by||px===cx&&py===cy)continue;apx=px-ax;apy=py-ay;bpx=px-bx;bpy=py-by;cpx=px-cx;cpy=py-cy;// see if p is inside triangle abc\naCROSSbp=aX*bpy-aY*bpx;cCROSSap=cX*apy-cY*apx;bCROSScp=bX*cpy-bY*cpx;if(aCROSSbp>=-__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a&&bCROSScp>=-__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a&&cCROSSap>=-__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a)return false;}return true;}// takes in an contour array and returns\nreturn function triangulate(contour,indices){var n=contour.length;if(n<3)return null;var result=[],verts=[],vertIndices=[];/* we want a counter-clockwise polygon in verts */var u,v,w;if(ShapeUtils.area(contour)>0.0){for(v=0;v<n;v++){verts[v]=v;}}else{for(v=0;v<n;v++){verts[v]=n-1-v;}}var nv=n;/*  remove nv - 2 vertices, creating 1 triangle every time */var count=2*nv;/* error detection */for(v=nv-1;nv>2;){/* if we loop, it is probably a non-simple polygon */if(count--<=0){//** Triangulate: ERROR - probable bad polygon!\n//throw ( \"Warning, unable to triangulate polygon!\" );\n//return null;\n// Sometimes warning is fine, especially polygons are triangulated in reverse.\nconsole.warn('THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()');if(indices)return vertIndices;return result;}/* three consecutive vertices in current polygon, <u,v,w> */u=v;if(nv<=u)u=0;/* previous */v=u+1;if(nv<=v)v=0;/* new v    */w=v+1;if(nv<=w)w=0;/* next     */if(snip(contour,u,v,w,nv,verts)){var a,b,c,s,t;/* true names of the vertices */a=verts[u];b=verts[v];c=verts[w];/* output Triangle */result.push([contour[a],contour[b],contour[c]]);vertIndices.push([verts[u],verts[v],verts[w]]);/* remove v from the remaining polygon */for(s=v,t=v+1;t<nv;s++,t++){verts[s]=verts[t];}nv--;/* reset error detection counter */count=2*nv;}}if(indices)return vertIndices;return result;};}(),triangulateShape:function triangulateShape(contour,holes){function removeDupEndPts(points){var l=points.length;if(l>2&&points[l-1].equals(points[0])){points.pop();}}removeDupEndPts(contour);holes.forEach(removeDupEndPts);function point_in_segment_2D_colin(inSegPt1,inSegPt2,inOtherPt){// inOtherPt needs to be collinear to the inSegment\nif(inSegPt1.x!==inSegPt2.x){if(inSegPt1.x<inSegPt2.x){return inSegPt1.x<=inOtherPt.x&&inOtherPt.x<=inSegPt2.x;}else{return inSegPt2.x<=inOtherPt.x&&inOtherPt.x<=inSegPt1.x;}}else{if(inSegPt1.y<inSegPt2.y){return inSegPt1.y<=inOtherPt.y&&inOtherPt.y<=inSegPt2.y;}else{return inSegPt2.y<=inOtherPt.y&&inOtherPt.y<=inSegPt1.y;}}}function intersect_segments_2D(inSeg1Pt1,inSeg1Pt2,inSeg2Pt1,inSeg2Pt2,inExcludeAdjacentSegs){var seg1dx=inSeg1Pt2.x-inSeg1Pt1.x,seg1dy=inSeg1Pt2.y-inSeg1Pt1.y;var seg2dx=inSeg2Pt2.x-inSeg2Pt1.x,seg2dy=inSeg2Pt2.y-inSeg2Pt1.y;var seg1seg2dx=inSeg1Pt1.x-inSeg2Pt1.x;var seg1seg2dy=inSeg1Pt1.y-inSeg2Pt1.y;var limit=seg1dy*seg2dx-seg1dx*seg2dy;var perpSeg1=seg1dy*seg1seg2dx-seg1dx*seg1seg2dy;if(Math.abs(limit)>__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a){// not parallel\nvar perpSeg2;if(limit>0){if(perpSeg1<0||perpSeg1>limit)return[];perpSeg2=seg2dy*seg1seg2dx-seg2dx*seg1seg2dy;if(perpSeg2<0||perpSeg2>limit)return[];}else{if(perpSeg1>0||perpSeg1<limit)return[];perpSeg2=seg2dy*seg1seg2dx-seg2dx*seg1seg2dy;if(perpSeg2>0||perpSeg2<limit)return[];}// i.e. to reduce rounding errors\n// intersection at endpoint of segment#1?\nif(perpSeg2===0){if(inExcludeAdjacentSegs&&(perpSeg1===0||perpSeg1===limit))return[];return[inSeg1Pt1];}if(perpSeg2===limit){if(inExcludeAdjacentSegs&&(perpSeg1===0||perpSeg1===limit))return[];return[inSeg1Pt2];}// intersection at endpoint of segment#2?\nif(perpSeg1===0)return[inSeg2Pt1];if(perpSeg1===limit)return[inSeg2Pt2];// return real intersection point\nvar factorSeg1=perpSeg2/limit;return[{x:inSeg1Pt1.x+factorSeg1*seg1dx,y:inSeg1Pt1.y+factorSeg1*seg1dy}];}else{// parallel or collinear\nif(perpSeg1!==0||seg2dy*seg1seg2dx!==seg2dx*seg1seg2dy)return[];// they are collinear or degenerate\nvar seg1Pt=seg1dx===0&&seg1dy===0;// segment1 is just a point?\nvar seg2Pt=seg2dx===0&&seg2dy===0;// segment2 is just a point?\n// both segments are points\nif(seg1Pt&&seg2Pt){if(inSeg1Pt1.x!==inSeg2Pt1.x||inSeg1Pt1.y!==inSeg2Pt1.y)return[];// they are distinct  points\nreturn[inSeg1Pt1];// they are the same point\n}// segment#1  is a single point\nif(seg1Pt){if(!point_in_segment_2D_colin(inSeg2Pt1,inSeg2Pt2,inSeg1Pt1))return[];// but not in segment#2\nreturn[inSeg1Pt1];}// segment#2  is a single point\nif(seg2Pt){if(!point_in_segment_2D_colin(inSeg1Pt1,inSeg1Pt2,inSeg2Pt1))return[];// but not in segment#1\nreturn[inSeg2Pt1];}// they are collinear segments, which might overlap\nvar seg1min,seg1max,seg1minVal,seg1maxVal;var seg2min,seg2max,seg2minVal,seg2maxVal;if(seg1dx!==0){// the segments are NOT on a vertical line\nif(inSeg1Pt1.x<inSeg1Pt2.x){seg1min=inSeg1Pt1;seg1minVal=inSeg1Pt1.x;seg1max=inSeg1Pt2;seg1maxVal=inSeg1Pt2.x;}else{seg1min=inSeg1Pt2;seg1minVal=inSeg1Pt2.x;seg1max=inSeg1Pt1;seg1maxVal=inSeg1Pt1.x;}if(inSeg2Pt1.x<inSeg2Pt2.x){seg2min=inSeg2Pt1;seg2minVal=inSeg2Pt1.x;seg2max=inSeg2Pt2;seg2maxVal=inSeg2Pt2.x;}else{seg2min=inSeg2Pt2;seg2minVal=inSeg2Pt2.x;seg2max=inSeg2Pt1;seg2maxVal=inSeg2Pt1.x;}}else{// the segments are on a vertical line\nif(inSeg1Pt1.y<inSeg1Pt2.y){seg1min=inSeg1Pt1;seg1minVal=inSeg1Pt1.y;seg1max=inSeg1Pt2;seg1maxVal=inSeg1Pt2.y;}else{seg1min=inSeg1Pt2;seg1minVal=inSeg1Pt2.y;seg1max=inSeg1Pt1;seg1maxVal=inSeg1Pt1.y;}if(inSeg2Pt1.y<inSeg2Pt2.y){seg2min=inSeg2Pt1;seg2minVal=inSeg2Pt1.y;seg2max=inSeg2Pt2;seg2maxVal=inSeg2Pt2.y;}else{seg2min=inSeg2Pt2;seg2minVal=inSeg2Pt2.y;seg2max=inSeg2Pt1;seg2maxVal=inSeg2Pt1.y;}}if(seg1minVal<=seg2minVal){if(seg1maxVal<seg2minVal)return[];if(seg1maxVal===seg2minVal){if(inExcludeAdjacentSegs)return[];return[seg2min];}if(seg1maxVal<=seg2maxVal)return[seg2min,seg1max];return[seg2min,seg2max];}else{if(seg1minVal>seg2maxVal)return[];if(seg1minVal===seg2maxVal){if(inExcludeAdjacentSegs)return[];return[seg1min];}if(seg1maxVal<=seg2maxVal)return[seg1min,seg1max];return[seg1min,seg2max];}}}function isPointInsideAngle(inVertex,inLegFromPt,inLegToPt,inOtherPt){// The order of legs is important\n// translation of all points, so that Vertex is at (0,0)\nvar legFromPtX=inLegFromPt.x-inVertex.x,legFromPtY=inLegFromPt.y-inVertex.y;var legToPtX=inLegToPt.x-inVertex.x,legToPtY=inLegToPt.y-inVertex.y;var otherPtX=inOtherPt.x-inVertex.x,otherPtY=inOtherPt.y-inVertex.y;// main angle >0: < 180 deg.; 0: 180 deg.; <0: > 180 deg.\nvar from2toAngle=legFromPtX*legToPtY-legFromPtY*legToPtX;var from2otherAngle=legFromPtX*otherPtY-legFromPtY*otherPtX;if(Math.abs(from2toAngle)>__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a){// angle != 180 deg.\nvar other2toAngle=otherPtX*legToPtY-otherPtY*legToPtX;// console.log( \"from2to: \" + from2toAngle + \", from2other: \" + from2otherAngle + \", other2to: \" + other2toAngle );\nif(from2toAngle>0){// main angle < 180 deg.\nreturn from2otherAngle>=0&&other2toAngle>=0;}else{// main angle > 180 deg.\nreturn from2otherAngle>=0||other2toAngle>=0;}}else{// angle == 180 deg.\n// console.log( \"from2to: 180 deg., from2other: \" + from2otherAngle  );\nreturn from2otherAngle>0;}}function removeHoles(contour,holes){var shape=contour.concat();// work on this shape\nvar hole;function isCutLineInsideAngles(inShapeIdx,inHoleIdx){// Check if hole point lies within angle around shape point\nvar lastShapeIdx=shape.length-1;var prevShapeIdx=inShapeIdx-1;if(prevShapeIdx<0)prevShapeIdx=lastShapeIdx;var nextShapeIdx=inShapeIdx+1;if(nextShapeIdx>lastShapeIdx)nextShapeIdx=0;var insideAngle=isPointInsideAngle(shape[inShapeIdx],shape[prevShapeIdx],shape[nextShapeIdx],hole[inHoleIdx]);if(!insideAngle){// console.log( \"Vertex (Shape): \" + inShapeIdx + \", Point: \" + hole[inHoleIdx].x + \"/\" + hole[inHoleIdx].y );\nreturn false;}// Check if shape point lies within angle around hole point\nvar lastHoleIdx=hole.length-1;var prevHoleIdx=inHoleIdx-1;if(prevHoleIdx<0)prevHoleIdx=lastHoleIdx;var nextHoleIdx=inHoleIdx+1;if(nextHoleIdx>lastHoleIdx)nextHoleIdx=0;insideAngle=isPointInsideAngle(hole[inHoleIdx],hole[prevHoleIdx],hole[nextHoleIdx],shape[inShapeIdx]);if(!insideAngle){// console.log( \"Vertex (Hole): \" + inHoleIdx + \", Point: \" + shape[inShapeIdx].x + \"/\" + shape[inShapeIdx].y );\nreturn false;}return true;}function intersectsShapeEdge(inShapePt,inHolePt){// checks for intersections with shape edges\nvar sIdx,nextIdx,intersection;for(sIdx=0;sIdx<shape.length;sIdx++){nextIdx=sIdx+1;nextIdx%=shape.length;intersection=intersect_segments_2D(inShapePt,inHolePt,shape[sIdx],shape[nextIdx],true);if(intersection.length>0)return true;}return false;}var indepHoles=[];function intersectsHoleEdge(inShapePt,inHolePt){// checks for intersections with hole edges\nvar ihIdx,chkHole,hIdx,nextIdx,intersection;for(ihIdx=0;ihIdx<indepHoles.length;ihIdx++){chkHole=holes[indepHoles[ihIdx]];for(hIdx=0;hIdx<chkHole.length;hIdx++){nextIdx=hIdx+1;nextIdx%=chkHole.length;intersection=intersect_segments_2D(inShapePt,inHolePt,chkHole[hIdx],chkHole[nextIdx],true);if(intersection.length>0)return true;}}return false;}var holeIndex,shapeIndex,shapePt,holePt,holeIdx,cutKey,failedCuts=[],tmpShape1,tmpShape2,tmpHole1,tmpHole2;for(var h=0,hl=holes.length;h<hl;h++){indepHoles.push(h);}var minShapeIndex=0;var counter=indepHoles.length*2;while(indepHoles.length>0){counter--;if(counter<0){console.log('THREE.ShapeUtils: Infinite Loop! Holes left:\" + indepHoles.length + \", Probably Hole outside Shape!');break;}// search for shape-vertex and hole-vertex,\n// which can be connected without intersections\nfor(shapeIndex=minShapeIndex;shapeIndex<shape.length;shapeIndex++){shapePt=shape[shapeIndex];holeIndex=-1;// search for hole which can be reached without intersections\nfor(var h=0;h<indepHoles.length;h++){holeIdx=indepHoles[h];// prevent multiple checks\ncutKey=shapePt.x+':'+shapePt.y+':'+holeIdx;if(failedCuts[cutKey]!==undefined)continue;hole=holes[holeIdx];for(var h2=0;h2<hole.length;h2++){holePt=hole[h2];if(!isCutLineInsideAngles(shapeIndex,h2))continue;if(intersectsShapeEdge(shapePt,holePt))continue;if(intersectsHoleEdge(shapePt,holePt))continue;holeIndex=h2;indepHoles.splice(h,1);tmpShape1=shape.slice(0,shapeIndex+1);tmpShape2=shape.slice(shapeIndex);tmpHole1=hole.slice(holeIndex);tmpHole2=hole.slice(0,holeIndex+1);shape=tmpShape1.concat(tmpHole1).concat(tmpHole2).concat(tmpShape2);minShapeIndex=shapeIndex;// Debug only, to show the selected cuts\n// glob_CutLines.push( [ shapePt, holePt ] );\nbreak;}if(holeIndex>=0)break;// hole-vertex found\nfailedCuts[cutKey]=true;// remember failure\n}if(holeIndex>=0)break;// hole-vertex found\n}}return shape;/* shape with no holes */}var i,il,f,face,key,index,allPointsMap={};// To maintain reference to old shape, one must match coordinates, or offset the indices from original arrays. It's probably easier to do the first.\nvar allpoints=contour.concat();for(var h=0,hl=holes.length;h<hl;h++){Array.prototype.push.apply(allpoints,holes[h]);}//console.log( \"allpoints\",allpoints, allpoints.length );\n// prepare all points map\nfor(i=0,il=allpoints.length;i<il;i++){key=allpoints[i].x+':'+allpoints[i].y;if(allPointsMap[key]!==undefined){console.warn('THREE.ShapeUtils: Duplicate point',key,i);}allPointsMap[key]=i;}// remove holes by cutting paths to holes and adding them to the shape\nvar shapeWithoutHoles=removeHoles(contour,holes);var triangles=ShapeUtils.triangulate(shapeWithoutHoles,false);// True returns indices for points of spooled shape\n//console.log( \"triangles\",triangles, triangles.length );\n// check all face vertices against all points map\nfor(i=0,il=triangles.length;i<il;i++){face=triangles[i];for(f=0;f<3;f++){key=face[f].x+':'+face[f].y;index=allPointsMap[key];if(index!==undefined){face[f]=index;}}}return triangles.concat();},isClockWise:function isClockWise(pts){return ShapeUtils.area(pts)<0;}};/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  amount: <int>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline is bevel\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *  frames: <Object> // containing arrays of tangents, normals, binormals\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */// ExtrudeGeometry\nfunction ExtrudeGeometry(shapes,options){Geometry.call(this);this.type='ExtrudeGeometry';this.parameters={shapes:shapes,options:options};this.fromBufferGeometry(new ExtrudeBufferGeometry(shapes,options));this.mergeVertices();}ExtrudeGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);ExtrudeGeometry.prototype.constructor=ExtrudeGeometry;// ExtrudeBufferGeometry\nfunction ExtrudeBufferGeometry(shapes,options){if(typeof shapes===\"undefined\"){return;}BufferGeometry.call(this);this.type='ExtrudeBufferGeometry';shapes=Array.isArray(shapes)?shapes:[shapes];this.addShapeList(shapes,options);this.computeVertexNormals();// can't really use automatic vertex normals\n// as then front and back sides get smoothed too\n// should do separate smoothing just for sides\n//this.computeVertexNormals();\n//console.log( \"took\", ( Date.now() - startTime ) );\n}ExtrudeBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);ExtrudeBufferGeometry.prototype.constructor=ExtrudeBufferGeometry;ExtrudeBufferGeometry.prototype.getArrays=function(){var positionAttribute=this.getAttribute(\"position\");var verticesArray=positionAttribute?Array.prototype.slice.call(positionAttribute.array):[];var uvAttribute=this.getAttribute(\"uv\");var uvArray=uvAttribute?Array.prototype.slice.call(uvAttribute.array):[];var IndexAttribute=this.index;var indicesArray=IndexAttribute?Array.prototype.slice.call(IndexAttribute.array):[];return{position:verticesArray,uv:uvArray,index:indicesArray};};ExtrudeBufferGeometry.prototype.addShapeList=function(shapes,options){var sl=shapes.length;options.arrays=this.getArrays();for(var s=0;s<sl;s++){var shape=shapes[s];this.addShape(shape,options);}this.setIndex(options.arrays.index);this.addAttribute('position',new Float32BufferAttribute(options.arrays.position,3));this.addAttribute('uv',new Float32BufferAttribute(options.arrays.uv,2));};ExtrudeBufferGeometry.prototype.addShape=function(shape,options){var arrays=options.arrays?options.arrays:this.getArrays();var verticesArray=arrays.position;var indicesArray=arrays.index;var uvArray=arrays.uv;var placeholder=[];var amount=options.amount!==undefined?options.amount:100;var bevelThickness=options.bevelThickness!==undefined?options.bevelThickness:6;// 10\nvar bevelSize=options.bevelSize!==undefined?options.bevelSize:bevelThickness-2;// 8\nvar bevelSegments=options.bevelSegments!==undefined?options.bevelSegments:3;var bevelEnabled=options.bevelEnabled!==undefined?options.bevelEnabled:true;// false\nvar curveSegments=options.curveSegments!==undefined?options.curveSegments:12;var steps=options.steps!==undefined?options.steps:1;var extrudePath=options.extrudePath;var extrudePts,extrudeByPath=false;// Use default WorldUVGenerator if no UV generators are specified.\nvar uvgen=options.UVGenerator!==undefined?options.UVGenerator:ExtrudeGeometry.WorldUVGenerator;var splineTube,binormal,normal,position2;if(extrudePath){extrudePts=extrudePath.getSpacedPoints(steps);extrudeByPath=true;bevelEnabled=false;// bevels not supported for path extrusion\n// SETUP TNB variables\n// TODO1 - have a .isClosed in spline?\nsplineTube=options.frames!==undefined?options.frames:extrudePath.computeFrenetFrames(steps,false);// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\nbinormal=new Vector3();normal=new Vector3();position2=new Vector3();}// Safeguards if bevels are not enabled\nif(!bevelEnabled){bevelSegments=0;bevelThickness=0;bevelSize=0;}// Variables initialization\nvar ahole,h,hl;// looping of holes\nvar scope=this;var shapePoints=shape.extractPoints(curveSegments);var vertices=shapePoints.shape;var holes=shapePoints.holes;var reverse=!ShapeUtils.isClockWise(vertices);if(reverse){vertices=vertices.reverse();// Maybe we should also check if holes are in the opposite direction, just to be safe ...\nfor(h=0,hl=holes.length;h<hl;h++){ahole=holes[h];if(ShapeUtils.isClockWise(ahole)){holes[h]=ahole.reverse();}}}var faces=ShapeUtils.triangulateShape(vertices,holes);/* Vertices */var contour=vertices;// vertices has all points but contour has only points of circumference\nfor(h=0,hl=holes.length;h<hl;h++){ahole=holes[h];vertices=vertices.concat(ahole);}function scalePt2(pt,vec,size){if(!vec)console.error(\"THREE.ExtrudeGeometry: vec does not exist\");return vec.clone().multiplyScalar(size).add(pt);}var b,bs,t,z,vert,vlen=vertices.length,face,flen=faces.length;// Find directions for point movement\nfunction getBevelVec(inPt,inPrev,inNext){// computes for inPt the corresponding point inPt' on a new contour\n//   shifted by 1 unit (length of normalized vector) to the left\n// if we walk along contour clockwise, this new contour is outside the old one\n//\n// inPt' is the intersection of the two lines parallel to the two\n//  adjacent edges of inPt at a distance of 1 unit on the left side.\nvar v_trans_x,v_trans_y,shrink_by;// resulting translation vector for inPt\n// good reading for geometry algorithms (here: line-line intersection)\n// http://geomalgorithms.com/a05-_intersect-1.html\nvar v_prev_x=inPt.x-inPrev.x,v_prev_y=inPt.y-inPrev.y;var v_next_x=inNext.x-inPt.x,v_next_y=inNext.y-inPt.y;var v_prev_lensq=v_prev_x*v_prev_x+v_prev_y*v_prev_y;// check for collinear edges\nvar collinear0=v_prev_x*v_next_y-v_prev_y*v_next_x;if(Math.abs(collinear0)>__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a){// not collinear\n// length of vectors for normalizing\nvar v_prev_len=Math.sqrt(v_prev_lensq);var v_next_len=Math.sqrt(v_next_x*v_next_x+v_next_y*v_next_y);// shift adjacent points by unit vectors to the left\nvar ptPrevShift_x=inPrev.x-v_prev_y/v_prev_len;var ptPrevShift_y=inPrev.y+v_prev_x/v_prev_len;var ptNextShift_x=inNext.x-v_next_y/v_next_len;var ptNextShift_y=inNext.y+v_next_x/v_next_len;// scaling factor for v_prev to intersection point\nvar sf=((ptNextShift_x-ptPrevShift_x)*v_next_y-(ptNextShift_y-ptPrevShift_y)*v_next_x)/(v_prev_x*v_next_y-v_prev_y*v_next_x);// vector from inPt to intersection point\nv_trans_x=ptPrevShift_x+v_prev_x*sf-inPt.x;v_trans_y=ptPrevShift_y+v_prev_y*sf-inPt.y;// Don't normalize!, otherwise sharp corners become ugly\n//  but prevent crazy spikes\nvar v_trans_lensq=v_trans_x*v_trans_x+v_trans_y*v_trans_y;if(v_trans_lensq<=2){return new Vector2(v_trans_x,v_trans_y);}else{shrink_by=Math.sqrt(v_trans_lensq/2);}}else{// handle special case of collinear edges\nvar direction_eq=false;// assumes: opposite\nif(v_prev_x>__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a){if(v_next_x>__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a){direction_eq=true;}}else{if(v_prev_x<-__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a){if(v_next_x<-__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a){direction_eq=true;}}else{if(__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_math_sign___default()(v_prev_y)===__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_math_sign___default()(v_next_y)){direction_eq=true;}}}if(direction_eq){// console.log(\"Warning: lines are a straight sequence\");\nv_trans_x=-v_prev_y;v_trans_y=v_prev_x;shrink_by=Math.sqrt(v_prev_lensq);}else{// console.log(\"Warning: lines are a straight spike\");\nv_trans_x=v_prev_x;v_trans_y=v_prev_y;shrink_by=Math.sqrt(v_prev_lensq/2);}}return new Vector2(v_trans_x/shrink_by,v_trans_y/shrink_by);}var contourMovements=[];for(var i=0,il=contour.length,j=il-1,k=i+1;i<il;i++,j++,k++){if(j===il)j=0;if(k===il)k=0;//  (j)---(i)---(k)\n// console.log('i,j,k', i, j , k)\ncontourMovements[i]=getBevelVec(contour[i],contour[j],contour[k]);}var holesMovements=[],oneHoleMovements,verticesMovements=contourMovements.concat();for(h=0,hl=holes.length;h<hl;h++){ahole=holes[h];oneHoleMovements=[];for(i=0,il=ahole.length,j=il-1,k=i+1;i<il;i++,j++,k++){if(j===il)j=0;if(k===il)k=0;//  (j)---(i)---(k)\noneHoleMovements[i]=getBevelVec(ahole[i],ahole[j],ahole[k]);}holesMovements.push(oneHoleMovements);verticesMovements=verticesMovements.concat(oneHoleMovements);}// Loop bevelSegments, 1 for the front, 1 for the back\nfor(b=0;b<bevelSegments;b++){//for ( b = bevelSegments; b > 0; b -- ) {\nt=b/bevelSegments;z=bevelThickness*Math.cos(t*Math.PI/2);bs=bevelSize*Math.sin(t*Math.PI/2);// contract shape\nfor(i=0,il=contour.length;i<il;i++){vert=scalePt2(contour[i],contourMovements[i],bs);v(vert.x,vert.y,-z);}// expand holes\nfor(h=0,hl=holes.length;h<hl;h++){ahole=holes[h];oneHoleMovements=holesMovements[h];for(i=0,il=ahole.length;i<il;i++){vert=scalePt2(ahole[i],oneHoleMovements[i],bs);v(vert.x,vert.y,-z);}}}bs=bevelSize;// Back facing vertices\nfor(i=0;i<vlen;i++){vert=bevelEnabled?scalePt2(vertices[i],verticesMovements[i],bs):vertices[i];if(!extrudeByPath){v(vert.x,vert.y,0);}else{// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\nnormal.copy(splineTube.normals[0]).multiplyScalar(vert.x);binormal.copy(splineTube.binormals[0]).multiplyScalar(vert.y);position2.copy(extrudePts[0]).add(normal).add(binormal);v(position2.x,position2.y,position2.z);}}// Add stepped vertices...\n// Including front facing vertices\nvar s;for(s=1;s<=steps;s++){for(i=0;i<vlen;i++){vert=bevelEnabled?scalePt2(vertices[i],verticesMovements[i],bs):vertices[i];if(!extrudeByPath){v(vert.x,vert.y,amount/steps*s);}else{// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\nnormal.copy(splineTube.normals[s]).multiplyScalar(vert.x);binormal.copy(splineTube.binormals[s]).multiplyScalar(vert.y);position2.copy(extrudePts[s]).add(normal).add(binormal);v(position2.x,position2.y,position2.z);}}}// Add bevel segments planes\n//for ( b = 1; b <= bevelSegments; b ++ ) {\nfor(b=bevelSegments-1;b>=0;b--){t=b/bevelSegments;z=bevelThickness*Math.cos(t*Math.PI/2);bs=bevelSize*Math.sin(t*Math.PI/2);// contract shape\nfor(i=0,il=contour.length;i<il;i++){vert=scalePt2(contour[i],contourMovements[i],bs);v(vert.x,vert.y,amount+z);}// expand holes\nfor(h=0,hl=holes.length;h<hl;h++){ahole=holes[h];oneHoleMovements=holesMovements[h];for(i=0,il=ahole.length;i<il;i++){vert=scalePt2(ahole[i],oneHoleMovements[i],bs);if(!extrudeByPath){v(vert.x,vert.y,amount+z);}else{v(vert.x,vert.y+extrudePts[steps-1].y,extrudePts[steps-1].x+z);}}}}/* Faces */// Top and bottom faces\nbuildLidFaces();// Sides faces\nbuildSideFaces();/////  Internal functions\nfunction buildLidFaces(){var start=verticesArray.length/3;if(bevelEnabled){var layer=0;// steps + 1\nvar offset=vlen*layer;// Bottom faces\nfor(i=0;i<flen;i++){face=faces[i];f3(face[2]+offset,face[1]+offset,face[0]+offset);}layer=steps+bevelSegments*2;offset=vlen*layer;// Top faces\nfor(i=0;i<flen;i++){face=faces[i];f3(face[0]+offset,face[1]+offset,face[2]+offset);}}else{// Bottom faces\nfor(i=0;i<flen;i++){face=faces[i];f3(face[2],face[1],face[0]);}// Top faces\nfor(i=0;i<flen;i++){face=faces[i];f3(face[0]+vlen*steps,face[1]+vlen*steps,face[2]+vlen*steps);}}scope.addGroup(start,verticesArray.length/3-start,options.material!==undefined?options.material:0);}// Create faces for the z-sides of the shape\nfunction buildSideFaces(){var start=verticesArray.length/3;var layeroffset=0;sidewalls(contour,layeroffset);layeroffset+=contour.length;for(h=0,hl=holes.length;h<hl;h++){ahole=holes[h];sidewalls(ahole,layeroffset);//, true\nlayeroffset+=ahole.length;}scope.addGroup(start,verticesArray.length/3-start,options.extrudeMaterial!==undefined?options.extrudeMaterial:1);}function sidewalls(contour,layeroffset){var j,k;i=contour.length;while(--i>=0){j=i;k=i-1;if(k<0)k=contour.length-1;//console.log('b', i,j, i-1, k,vertices.length);\nvar s=0,sl=steps+bevelSegments*2;for(s=0;s<sl;s++){var slen1=vlen*s;var slen2=vlen*(s+1);var a=layeroffset+j+slen1,b=layeroffset+k+slen1,c=layeroffset+k+slen2,d=layeroffset+j+slen2;f4(a,b,c,d,contour,s,sl,j,k);}}}function v(x,y,z){placeholder.push(x);placeholder.push(y);placeholder.push(z);}function f3(a,b,c){addVertex(a);addVertex(b);addVertex(c);var nextIndex=verticesArray.length/3;var uvs=uvgen.generateTopUV(scope,verticesArray,nextIndex-3,nextIndex-2,nextIndex-1);addUV(uvs[0]);addUV(uvs[1]);addUV(uvs[2]);}function f4(a,b,c,d,wallContour,stepIndex,stepsLength,contourIndex1,contourIndex2){addVertex(a);addVertex(b);addVertex(d);addVertex(b);addVertex(c);addVertex(d);var nextIndex=verticesArray.length/3;var uvs=uvgen.generateSideWallUV(scope,verticesArray,nextIndex-6,nextIndex-3,nextIndex-2,nextIndex-1);addUV(uvs[0]);addUV(uvs[1]);addUV(uvs[3]);addUV(uvs[1]);addUV(uvs[2]);addUV(uvs[3]);}function addVertex(index){indicesArray.push(verticesArray.length/3);verticesArray.push(placeholder[index*3+0]);verticesArray.push(placeholder[index*3+1]);verticesArray.push(placeholder[index*3+2]);}function addUV(vector2){uvArray.push(vector2.x);uvArray.push(vector2.y);}if(!options.arrays){this.setIndex(indicesArray);this.addAttribute('position',new Float32BufferAttribute(verticesArray,3));this.addAttribute('uv',new Float32BufferAttribute(options.arrays.uv,2));}};ExtrudeGeometry.WorldUVGenerator={generateTopUV:function generateTopUV(geometry,vertices,indexA,indexB,indexC){var a_x=vertices[indexA*3];var a_y=vertices[indexA*3+1];var b_x=vertices[indexB*3];var b_y=vertices[indexB*3+1];var c_x=vertices[indexC*3];var c_y=vertices[indexC*3+1];return[new Vector2(a_x,a_y),new Vector2(b_x,b_y),new Vector2(c_x,c_y)];},generateSideWallUV:function generateSideWallUV(geometry,vertices,indexA,indexB,indexC,indexD){var a_x=vertices[indexA*3];var a_y=vertices[indexA*3+1];var a_z=vertices[indexA*3+2];var b_x=vertices[indexB*3];var b_y=vertices[indexB*3+1];var b_z=vertices[indexB*3+2];var c_x=vertices[indexC*3];var c_y=vertices[indexC*3+1];var c_z=vertices[indexC*3+2];var d_x=vertices[indexD*3];var d_y=vertices[indexD*3+1];var d_z=vertices[indexD*3+2];if(Math.abs(a_y-b_y)<0.01){return[new Vector2(a_x,1-a_z),new Vector2(b_x,1-b_z),new Vector2(c_x,1-c_z),new Vector2(d_x,1-d_z)];}else{return[new Vector2(a_y,1-a_z),new Vector2(b_y,1-b_z),new Vector2(c_y,1-c_z),new Vector2(d_y,1-d_z)];}}};/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author alteredq / http://alteredqualia.com/\n *\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float> // how far from text outline is bevel\n * }\n */// TextGeometry\nfunction TextGeometry(text,parameters){Geometry.call(this);this.type='TextGeometry';this.parameters={text:text,parameters:parameters};this.fromBufferGeometry(new TextBufferGeometry(text,parameters));this.mergeVertices();}TextGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);TextGeometry.prototype.constructor=TextGeometry;// TextBufferGeometry\nfunction TextBufferGeometry(text,parameters){parameters=parameters||{};var font=parameters.font;if(!(font&&font.isFont)){console.error('THREE.TextGeometry: font parameter is not an instance of THREE.Font.');return new Geometry();}var shapes=font.generateShapes(text,parameters.size,parameters.curveSegments);// translate parameters to ExtrudeGeometry API\nparameters.amount=parameters.height!==undefined?parameters.height:50;// defaults\nif(parameters.bevelThickness===undefined)parameters.bevelThickness=10;if(parameters.bevelSize===undefined)parameters.bevelSize=8;if(parameters.bevelEnabled===undefined)parameters.bevelEnabled=false;ExtrudeBufferGeometry.call(this,shapes,parameters);this.type='TextBufferGeometry';}TextBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(ExtrudeBufferGeometry.prototype);TextBufferGeometry.prototype.constructor=TextBufferGeometry;/**\n * @author mrdoob / http://mrdoob.com/\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n */// SphereGeometry\nfunction SphereGeometry(radius,widthSegments,heightSegments,phiStart,phiLength,thetaStart,thetaLength){Geometry.call(this);this.type='SphereGeometry';this.parameters={radius:radius,widthSegments:widthSegments,heightSegments:heightSegments,phiStart:phiStart,phiLength:phiLength,thetaStart:thetaStart,thetaLength:thetaLength};this.fromBufferGeometry(new SphereBufferGeometry(radius,widthSegments,heightSegments,phiStart,phiLength,thetaStart,thetaLength));this.mergeVertices();}SphereGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);SphereGeometry.prototype.constructor=SphereGeometry;// SphereBufferGeometry\nfunction SphereBufferGeometry(radius,widthSegments,heightSegments,phiStart,phiLength,thetaStart,thetaLength){BufferGeometry.call(this);this.type='SphereBufferGeometry';this.parameters={radius:radius,widthSegments:widthSegments,heightSegments:heightSegments,phiStart:phiStart,phiLength:phiLength,thetaStart:thetaStart,thetaLength:thetaLength};radius=radius||50;widthSegments=Math.max(3,Math.floor(widthSegments)||8);heightSegments=Math.max(2,Math.floor(heightSegments)||6);phiStart=phiStart!==undefined?phiStart:0;phiLength=phiLength!==undefined?phiLength:Math.PI*2;thetaStart=thetaStart!==undefined?thetaStart:0;thetaLength=thetaLength!==undefined?thetaLength:Math.PI;var thetaEnd=thetaStart+thetaLength;var ix,iy;var index=0;var grid=[];var vertex=new Vector3();var normal=new Vector3();// buffers\nvar indices=[];var vertices=[];var normals=[];var uvs=[];// generate vertices, normals and uvs\nfor(iy=0;iy<=heightSegments;iy++){var verticesRow=[];var v=iy/heightSegments;for(ix=0;ix<=widthSegments;ix++){var u=ix/widthSegments;// vertex\nvertex.x=-radius*Math.cos(phiStart+u*phiLength)*Math.sin(thetaStart+v*thetaLength);vertex.y=radius*Math.cos(thetaStart+v*thetaLength);vertex.z=radius*Math.sin(phiStart+u*phiLength)*Math.sin(thetaStart+v*thetaLength);vertices.push(vertex.x,vertex.y,vertex.z);// normal\nnormal.set(vertex.x,vertex.y,vertex.z).normalize();normals.push(normal.x,normal.y,normal.z);// uv\nuvs.push(u,1-v);verticesRow.push(index++);}grid.push(verticesRow);}// indices\nfor(iy=0;iy<heightSegments;iy++){for(ix=0;ix<widthSegments;ix++){var a=grid[iy][ix+1];var b=grid[iy][ix];var c=grid[iy+1][ix];var d=grid[iy+1][ix+1];if(iy!==0||thetaStart>0)indices.push(a,b,d);if(iy!==heightSegments-1||thetaEnd<Math.PI)indices.push(b,c,d);}}// build geometry\nthis.setIndex(indices);this.addAttribute('position',new Float32BufferAttribute(vertices,3));this.addAttribute('normal',new Float32BufferAttribute(normals,3));this.addAttribute('uv',new Float32BufferAttribute(uvs,2));}SphereBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);SphereBufferGeometry.prototype.constructor=SphereBufferGeometry;/**\n * @author Kaleb Murphy\n * @author Mugen87 / https://github.com/Mugen87\n */// RingGeometry\nfunction RingGeometry(innerRadius,outerRadius,thetaSegments,phiSegments,thetaStart,thetaLength){Geometry.call(this);this.type='RingGeometry';this.parameters={innerRadius:innerRadius,outerRadius:outerRadius,thetaSegments:thetaSegments,phiSegments:phiSegments,thetaStart:thetaStart,thetaLength:thetaLength};this.fromBufferGeometry(new RingBufferGeometry(innerRadius,outerRadius,thetaSegments,phiSegments,thetaStart,thetaLength));this.mergeVertices();}RingGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);RingGeometry.prototype.constructor=RingGeometry;// RingBufferGeometry\nfunction RingBufferGeometry(innerRadius,outerRadius,thetaSegments,phiSegments,thetaStart,thetaLength){BufferGeometry.call(this);this.type='RingBufferGeometry';this.parameters={innerRadius:innerRadius,outerRadius:outerRadius,thetaSegments:thetaSegments,phiSegments:phiSegments,thetaStart:thetaStart,thetaLength:thetaLength};innerRadius=innerRadius||20;outerRadius=outerRadius||50;thetaStart=thetaStart!==undefined?thetaStart:0;thetaLength=thetaLength!==undefined?thetaLength:Math.PI*2;thetaSegments=thetaSegments!==undefined?Math.max(3,thetaSegments):8;phiSegments=phiSegments!==undefined?Math.max(1,phiSegments):1;// buffers\nvar indices=[];var vertices=[];var normals=[];var uvs=[];// some helper variables\nvar segment;var radius=innerRadius;var radiusStep=(outerRadius-innerRadius)/phiSegments;var vertex=new Vector3();var uv=new Vector2();var j,i;// generate vertices, normals and uvs\nfor(j=0;j<=phiSegments;j++){for(i=0;i<=thetaSegments;i++){// values are generate from the inside of the ring to the outside\nsegment=thetaStart+i/thetaSegments*thetaLength;// vertex\nvertex.x=radius*Math.cos(segment);vertex.y=radius*Math.sin(segment);vertices.push(vertex.x,vertex.y,vertex.z);// normal\nnormals.push(0,0,1);// uv\nuv.x=(vertex.x/outerRadius+1)/2;uv.y=(vertex.y/outerRadius+1)/2;uvs.push(uv.x,uv.y);}// increase the radius for next row of vertices\nradius+=radiusStep;}// indices\nfor(j=0;j<phiSegments;j++){var thetaSegmentLevel=j*(thetaSegments+1);for(i=0;i<thetaSegments;i++){segment=i+thetaSegmentLevel;var a=segment;var b=segment+thetaSegments+1;var c=segment+thetaSegments+2;var d=segment+1;// faces\nindices.push(a,b,d);indices.push(b,c,d);}}// build geometry\nthis.setIndex(indices);this.addAttribute('position',new Float32BufferAttribute(vertices,3));this.addAttribute('normal',new Float32BufferAttribute(normals,3));this.addAttribute('uv',new Float32BufferAttribute(uvs,2));}RingBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);RingBufferGeometry.prototype.constructor=RingBufferGeometry;/**\n * @author astrodud / http://astrodud.isgreat.org/\n * @author zz85 / https://github.com/zz85\n * @author bhouston / http://clara.io\n * @author Mugen87 / https://github.com/Mugen87\n */// LatheGeometry\nfunction LatheGeometry(points,segments,phiStart,phiLength){Geometry.call(this);this.type='LatheGeometry';this.parameters={points:points,segments:segments,phiStart:phiStart,phiLength:phiLength};this.fromBufferGeometry(new LatheBufferGeometry(points,segments,phiStart,phiLength));this.mergeVertices();}LatheGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);LatheGeometry.prototype.constructor=LatheGeometry;// LatheBufferGeometry\nfunction LatheBufferGeometry(points,segments,phiStart,phiLength){BufferGeometry.call(this);this.type='LatheBufferGeometry';this.parameters={points:points,segments:segments,phiStart:phiStart,phiLength:phiLength};segments=Math.floor(segments)||12;phiStart=phiStart||0;phiLength=phiLength||Math.PI*2;// clamp phiLength so it's in range of [ 0, 2PI ]\nphiLength=_Math.clamp(phiLength,0,Math.PI*2);// buffers\nvar indices=[];var vertices=[];var uvs=[];// helper variables\nvar base;var inverseSegments=1.0/segments;var vertex=new Vector3();var uv=new Vector2();var i,j;// generate vertices and uvs\nfor(i=0;i<=segments;i++){var phi=phiStart+i*inverseSegments*phiLength;var sin=Math.sin(phi);var cos=Math.cos(phi);for(j=0;j<=points.length-1;j++){// vertex\nvertex.x=points[j].x*sin;vertex.y=points[j].y;vertex.z=points[j].x*cos;vertices.push(vertex.x,vertex.y,vertex.z);// uv\nuv.x=i/segments;uv.y=j/(points.length-1);uvs.push(uv.x,uv.y);}}// indices\nfor(i=0;i<segments;i++){for(j=0;j<points.length-1;j++){base=j+i*points.length;var a=base;var b=base+points.length;var c=base+points.length+1;var d=base+1;// faces\nindices.push(a,b,d);indices.push(b,c,d);}}// build geometry\nthis.setIndex(indices);this.addAttribute('position',new Float32BufferAttribute(vertices,3));this.addAttribute('uv',new Float32BufferAttribute(uvs,2));// generate normals\nthis.computeVertexNormals();// if the geometry is closed, we need to average the normals along the seam.\n// because the corresponding vertices are identical (but still have different UVs).\nif(phiLength===Math.PI*2){var normals=this.attributes.normal.array;var n1=new Vector3();var n2=new Vector3();var n=new Vector3();// this is the buffer offset for the last line of vertices\nbase=segments*points.length*3;for(i=0,j=0;i<points.length;i++,j+=3){// select the normal of the vertex in the first line\nn1.x=normals[j+0];n1.y=normals[j+1];n1.z=normals[j+2];// select the normal of the vertex in the last line\nn2.x=normals[base+j+0];n2.y=normals[base+j+1];n2.z=normals[base+j+2];// average normals\nn.addVectors(n1,n2).normalize();// assign the new values to both normals\nnormals[j+0]=normals[base+j+0]=n.x;normals[j+1]=normals[base+j+1]=n.y;normals[j+2]=normals[base+j+2]=n.z;}}}LatheBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);LatheBufferGeometry.prototype.constructor=LatheBufferGeometry;/**\n * @author jonobr1 / http://jonobr1.com\n * @author Mugen87 / https://github.com/Mugen87\n */// ShapeGeometry\nfunction ShapeGeometry(shapes,curveSegments){Geometry.call(this);this.type='ShapeGeometry';if((typeof curveSegments==='undefined'?'undefined':__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(curveSegments))==='object'){console.warn('THREE.ShapeGeometry: Options parameter has been removed.');curveSegments=curveSegments.curveSegments;}this.parameters={shapes:shapes,curveSegments:curveSegments};this.fromBufferGeometry(new ShapeBufferGeometry(shapes,curveSegments));this.mergeVertices();}ShapeGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);ShapeGeometry.prototype.constructor=ShapeGeometry;// ShapeBufferGeometry\nfunction ShapeBufferGeometry(shapes,curveSegments){BufferGeometry.call(this);this.type='ShapeBufferGeometry';this.parameters={shapes:shapes,curveSegments:curveSegments};curveSegments=curveSegments||12;// buffers\nvar indices=[];var vertices=[];var normals=[];var uvs=[];// helper variables\nvar groupStart=0;var groupCount=0;// allow single and array values for \"shapes\" parameter\nif(Array.isArray(shapes)===false){addShape(shapes);}else{for(var i=0;i<shapes.length;i++){addShape(shapes[i]);this.addGroup(groupStart,groupCount,i);// enables MultiMaterial support\ngroupStart+=groupCount;groupCount=0;}}// build geometry\nthis.setIndex(indices);this.addAttribute('position',new Float32BufferAttribute(vertices,3));this.addAttribute('normal',new Float32BufferAttribute(normals,3));this.addAttribute('uv',new Float32BufferAttribute(uvs,2));// helper functions\nfunction addShape(shape){var i,l,shapeHole;var indexOffset=vertices.length/3;var points=shape.extractPoints(curveSegments);var shapeVertices=points.shape;var shapeHoles=points.holes;// check direction of vertices\nif(ShapeUtils.isClockWise(shapeVertices)===false){shapeVertices=shapeVertices.reverse();// also check if holes are in the opposite direction\nfor(i=0,l=shapeHoles.length;i<l;i++){shapeHole=shapeHoles[i];if(ShapeUtils.isClockWise(shapeHole)===true){shapeHoles[i]=shapeHole.reverse();}}}var faces=ShapeUtils.triangulateShape(shapeVertices,shapeHoles);// join vertices of inner and outer paths to a single array\nfor(i=0,l=shapeHoles.length;i<l;i++){shapeHole=shapeHoles[i];shapeVertices=shapeVertices.concat(shapeHole);}// vertices, normals, uvs\nfor(i=0,l=shapeVertices.length;i<l;i++){var vertex=shapeVertices[i];vertices.push(vertex.x,vertex.y,0);normals.push(0,0,1);uvs.push(vertex.x,vertex.y);// world uvs\n}// incides\nfor(i=0,l=faces.length;i<l;i++){var face=faces[i];var a=face[0]+indexOffset;var b=face[1]+indexOffset;var c=face[2]+indexOffset;indices.push(a,b,c);groupCount+=3;}}}ShapeBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);ShapeBufferGeometry.prototype.constructor=ShapeBufferGeometry;/**\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */function EdgesGeometry(geometry,thresholdAngle){BufferGeometry.call(this);this.type='EdgesGeometry';this.parameters={thresholdAngle:thresholdAngle};thresholdAngle=thresholdAngle!==undefined?thresholdAngle:1;// buffer\nvar vertices=[];// helper variables\nvar thresholdDot=Math.cos(_Math.DEG2RAD*thresholdAngle);var edge=[0,0],edges={},edge1,edge2;var key,keys=['a','b','c'];// prepare source geometry\nvar geometry2;if(geometry.isBufferGeometry){geometry2=new Geometry();geometry2.fromBufferGeometry(geometry);}else{geometry2=geometry.clone();}geometry2.mergeVertices();geometry2.computeFaceNormals();var sourceVertices=geometry2.vertices;var faces=geometry2.faces;// now create a data structure where each entry represents an edge with its adjoining faces\nfor(var i=0,l=faces.length;i<l;i++){var face=faces[i];for(var j=0;j<3;j++){edge1=face[keys[j]];edge2=face[keys[(j+1)%3]];edge[0]=Math.min(edge1,edge2);edge[1]=Math.max(edge1,edge2);key=edge[0]+','+edge[1];if(edges[key]===undefined){edges[key]={index1:edge[0],index2:edge[1],face1:i,face2:undefined};}else{edges[key].face2=i;}}}// generate vertices\nfor(key in edges){var e=edges[key];// an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\nif(e.face2===undefined||faces[e.face1].normal.dot(faces[e.face2].normal)<=thresholdDot){var vertex=sourceVertices[e.index1];vertices.push(vertex.x,vertex.y,vertex.z);vertex=sourceVertices[e.index2];vertices.push(vertex.x,vertex.y,vertex.z);}}// build geometry\nthis.addAttribute('position',new Float32BufferAttribute(vertices,3));}EdgesGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);EdgesGeometry.prototype.constructor=EdgesGeometry;/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */// CylinderGeometry\nfunction CylinderGeometry(radiusTop,radiusBottom,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength){Geometry.call(this);this.type='CylinderGeometry';this.parameters={radiusTop:radiusTop,radiusBottom:radiusBottom,height:height,radialSegments:radialSegments,heightSegments:heightSegments,openEnded:openEnded,thetaStart:thetaStart,thetaLength:thetaLength};this.fromBufferGeometry(new CylinderBufferGeometry(radiusTop,radiusBottom,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength));this.mergeVertices();}CylinderGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);CylinderGeometry.prototype.constructor=CylinderGeometry;// CylinderBufferGeometry\nfunction CylinderBufferGeometry(radiusTop,radiusBottom,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength){BufferGeometry.call(this);this.type='CylinderBufferGeometry';this.parameters={radiusTop:radiusTop,radiusBottom:radiusBottom,height:height,radialSegments:radialSegments,heightSegments:heightSegments,openEnded:openEnded,thetaStart:thetaStart,thetaLength:thetaLength};var scope=this;radiusTop=radiusTop!==undefined?radiusTop:20;radiusBottom=radiusBottom!==undefined?radiusBottom:20;height=height!==undefined?height:100;radialSegments=Math.floor(radialSegments)||8;heightSegments=Math.floor(heightSegments)||1;openEnded=openEnded!==undefined?openEnded:false;thetaStart=thetaStart!==undefined?thetaStart:0.0;thetaLength=thetaLength!==undefined?thetaLength:2.0*Math.PI;// buffers\nvar indices=[];var vertices=[];var normals=[];var uvs=[];// helper variables\nvar index=0;var indexArray=[];var halfHeight=height/2;var groupStart=0;// generate geometry\ngenerateTorso();if(openEnded===false){if(radiusTop>0)generateCap(true);if(radiusBottom>0)generateCap(false);}// build geometry\nthis.setIndex(indices);this.addAttribute('position',new Float32BufferAttribute(vertices,3));this.addAttribute('normal',new Float32BufferAttribute(normals,3));this.addAttribute('uv',new Float32BufferAttribute(uvs,2));function generateTorso(){var x,y;var normal=new Vector3();var vertex=new Vector3();var groupCount=0;// this will be used to calculate the normal\nvar slope=(radiusBottom-radiusTop)/height;// generate vertices, normals and uvs\nfor(y=0;y<=heightSegments;y++){var indexRow=[];var v=y/heightSegments;// calculate the radius of the current row\nvar radius=v*(radiusBottom-radiusTop)+radiusTop;for(x=0;x<=radialSegments;x++){var u=x/radialSegments;var theta=u*thetaLength+thetaStart;var sinTheta=Math.sin(theta);var cosTheta=Math.cos(theta);// vertex\nvertex.x=radius*sinTheta;vertex.y=-v*height+halfHeight;vertex.z=radius*cosTheta;vertices.push(vertex.x,vertex.y,vertex.z);// normal\nnormal.set(sinTheta,slope,cosTheta).normalize();normals.push(normal.x,normal.y,normal.z);// uv\nuvs.push(u,1-v);// save index of vertex in respective row\nindexRow.push(index++);}// now save vertices of the row in our index array\nindexArray.push(indexRow);}// generate indices\nfor(x=0;x<radialSegments;x++){for(y=0;y<heightSegments;y++){// we use the index array to access the correct indices\nvar a=indexArray[y][x];var b=indexArray[y+1][x];var c=indexArray[y+1][x+1];var d=indexArray[y][x+1];// faces\nindices.push(a,b,d);indices.push(b,c,d);// update group counter\ngroupCount+=6;}}// add a group to the geometry. this will ensure multi material support\nscope.addGroup(groupStart,groupCount,0);// calculate new start value for groups\ngroupStart+=groupCount;}function generateCap(top){var x,centerIndexStart,centerIndexEnd;var uv=new Vector2();var vertex=new Vector3();var groupCount=0;var radius=top===true?radiusTop:radiusBottom;var sign=top===true?1:-1;// save the index of the first center vertex\ncenterIndexStart=index;// first we generate the center vertex data of the cap.\n// because the geometry needs one set of uvs per face,\n// we must generate a center vertex per face/segment\nfor(x=1;x<=radialSegments;x++){// vertex\nvertices.push(0,halfHeight*sign,0);// normal\nnormals.push(0,sign,0);// uv\nuvs.push(0.5,0.5);// increase index\nindex++;}// save the index of the last center vertex\ncenterIndexEnd=index;// now we generate the surrounding vertices, normals and uvs\nfor(x=0;x<=radialSegments;x++){var u=x/radialSegments;var theta=u*thetaLength+thetaStart;var cosTheta=Math.cos(theta);var sinTheta=Math.sin(theta);// vertex\nvertex.x=radius*sinTheta;vertex.y=halfHeight*sign;vertex.z=radius*cosTheta;vertices.push(vertex.x,vertex.y,vertex.z);// normal\nnormals.push(0,sign,0);// uv\nuv.x=cosTheta*0.5+0.5;uv.y=sinTheta*0.5*sign+0.5;uvs.push(uv.x,uv.y);// increase index\nindex++;}// generate indices\nfor(x=0;x<radialSegments;x++){var c=centerIndexStart+x;var i=centerIndexEnd+x;if(top===true){// face top\nindices.push(i,i+1,c);}else{// face bottom\nindices.push(i+1,i,c);}groupCount+=3;}// add a group to the geometry. this will ensure multi material support\nscope.addGroup(groupStart,groupCount,top===true?1:2);// calculate new start value for groups\ngroupStart+=groupCount;}}CylinderBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);CylinderBufferGeometry.prototype.constructor=CylinderBufferGeometry;/**\n * @author abelnation / http://github.com/abelnation\n */// ConeGeometry\nfunction ConeGeometry(radius,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength){CylinderGeometry.call(this,0,radius,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength);this.type='ConeGeometry';this.parameters={radius:radius,height:height,radialSegments:radialSegments,heightSegments:heightSegments,openEnded:openEnded,thetaStart:thetaStart,thetaLength:thetaLength};}ConeGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(CylinderGeometry.prototype);ConeGeometry.prototype.constructor=ConeGeometry;// ConeBufferGeometry\nfunction ConeBufferGeometry(radius,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength){CylinderBufferGeometry.call(this,0,radius,height,radialSegments,heightSegments,openEnded,thetaStart,thetaLength);this.type='ConeBufferGeometry';this.parameters={radius:radius,height:height,radialSegments:radialSegments,heightSegments:heightSegments,openEnded:openEnded,thetaStart:thetaStart,thetaLength:thetaLength};}ConeBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(CylinderBufferGeometry.prototype);ConeBufferGeometry.prototype.constructor=ConeBufferGeometry;/**\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n * @author hughes\n */// CircleGeometry\nfunction CircleGeometry(radius,segments,thetaStart,thetaLength){Geometry.call(this);this.type='CircleGeometry';this.parameters={radius:radius,segments:segments,thetaStart:thetaStart,thetaLength:thetaLength};this.fromBufferGeometry(new CircleBufferGeometry(radius,segments,thetaStart,thetaLength));this.mergeVertices();}CircleGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Geometry.prototype);CircleGeometry.prototype.constructor=CircleGeometry;// CircleBufferGeometry\nfunction CircleBufferGeometry(radius,segments,thetaStart,thetaLength){BufferGeometry.call(this);this.type='CircleBufferGeometry';this.parameters={radius:radius,segments:segments,thetaStart:thetaStart,thetaLength:thetaLength};radius=radius||50;segments=segments!==undefined?Math.max(3,segments):8;thetaStart=thetaStart!==undefined?thetaStart:0;thetaLength=thetaLength!==undefined?thetaLength:Math.PI*2;// buffers\nvar indices=[];var vertices=[];var normals=[];var uvs=[];// helper variables\nvar i,s;var vertex=new Vector3();var uv=new Vector2();// center point\nvertices.push(0,0,0);normals.push(0,0,1);uvs.push(0.5,0.5);for(s=0,i=3;s<=segments;s++,i+=3){var segment=thetaStart+s/segments*thetaLength;// vertex\nvertex.x=radius*Math.cos(segment);vertex.y=radius*Math.sin(segment);vertices.push(vertex.x,vertex.y,vertex.z);// normal\nnormals.push(0,0,1);// uvs\nuv.x=(vertices[i]/radius+1)/2;uv.y=(vertices[i+1]/radius+1)/2;uvs.push(uv.x,uv.y);}// indices\nfor(i=1;i<=segments;i++){indices.push(i,i+1,0);}// build geometry\nthis.setIndex(indices);this.addAttribute('position',new Float32BufferAttribute(vertices,3));this.addAttribute('normal',new Float32BufferAttribute(normals,3));this.addAttribute('uv',new Float32BufferAttribute(uvs,2));}CircleBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype);CircleBufferGeometry.prototype.constructor=CircleBufferGeometry;var Geometries=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze___default()({WireframeGeometry:WireframeGeometry,ParametricGeometry:ParametricGeometry,ParametricBufferGeometry:ParametricBufferGeometry,TetrahedronGeometry:TetrahedronGeometry,TetrahedronBufferGeometry:TetrahedronBufferGeometry,OctahedronGeometry:OctahedronGeometry,OctahedronBufferGeometry:OctahedronBufferGeometry,IcosahedronGeometry:IcosahedronGeometry,IcosahedronBufferGeometry:IcosahedronBufferGeometry,DodecahedronGeometry:DodecahedronGeometry,DodecahedronBufferGeometry:DodecahedronBufferGeometry,PolyhedronGeometry:PolyhedronGeometry,PolyhedronBufferGeometry:PolyhedronBufferGeometry,TubeGeometry:TubeGeometry,TubeBufferGeometry:TubeBufferGeometry,TorusKnotGeometry:TorusKnotGeometry,TorusKnotBufferGeometry:TorusKnotBufferGeometry,TorusGeometry:TorusGeometry,TorusBufferGeometry:TorusBufferGeometry,TextGeometry:TextGeometry,TextBufferGeometry:TextBufferGeometry,SphereGeometry:SphereGeometry,SphereBufferGeometry:SphereBufferGeometry,RingGeometry:RingGeometry,RingBufferGeometry:RingBufferGeometry,PlaneGeometry:PlaneGeometry,PlaneBufferGeometry:PlaneBufferGeometry,LatheGeometry:LatheGeometry,LatheBufferGeometry:LatheBufferGeometry,ShapeGeometry:ShapeGeometry,ShapeBufferGeometry:ShapeBufferGeometry,ExtrudeGeometry:ExtrudeGeometry,ExtrudeBufferGeometry:ExtrudeBufferGeometry,EdgesGeometry:EdgesGeometry,ConeGeometry:ConeGeometry,ConeBufferGeometry:ConeBufferGeometry,CylinderGeometry:CylinderGeometry,CylinderBufferGeometry:CylinderBufferGeometry,CircleGeometry:CircleGeometry,CircleBufferGeometry:CircleBufferGeometry,BoxGeometry:BoxGeometry,BoxBufferGeometry:BoxBufferGeometry});/**\n * @author mrdoob / http://mrdoob.com/\n *\n * parameters = {\n *  color: <THREE.Color>,\n *  opacity: <float>\n * }\n */function ShadowMaterial(parameters){Material.call(this);this.type='ShadowMaterial';this.color=new Color(0x000000);this.opacity=1.0;this.lights=true;this.transparent=true;this.setValues(parameters);}ShadowMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Material.prototype);ShadowMaterial.prototype.constructor=ShadowMaterial;ShadowMaterial.prototype.isShadowMaterial=true;/**\n * @author mrdoob / http://mrdoob.com/\n */function RawShaderMaterial(parameters){ShaderMaterial.call(this,parameters);this.type='RawShaderMaterial';}RawShaderMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(ShaderMaterial.prototype);RawShaderMaterial.prototype.constructor=RawShaderMaterial;RawShaderMaterial.prototype.isRawShaderMaterial=true;/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */function MeshStandardMaterial(parameters){Material.call(this);this.defines={'STANDARD':''};this.type='MeshStandardMaterial';this.color=new Color(0xffffff);// diffuse\nthis.roughness=0.5;this.metalness=0.5;this.map=null;this.lightMap=null;this.lightMapIntensity=1.0;this.aoMap=null;this.aoMapIntensity=1.0;this.emissive=new Color(0x000000);this.emissiveIntensity=1.0;this.emissiveMap=null;this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.roughnessMap=null;this.metalnessMap=null;this.alphaMap=null;this.envMap=null;this.envMapIntensity=1.0;this.refractionRatio=0.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap='round';this.wireframeLinejoin='round';this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(parameters);}MeshStandardMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Material.prototype);MeshStandardMaterial.prototype.constructor=MeshStandardMaterial;MeshStandardMaterial.prototype.isMeshStandardMaterial=true;MeshStandardMaterial.prototype.copy=function(source){Material.prototype.copy.call(this,source);this.defines={'STANDARD':''};this.color.copy(source.color);this.roughness=source.roughness;this.metalness=source.metalness;this.map=source.map;this.lightMap=source.lightMap;this.lightMapIntensity=source.lightMapIntensity;this.aoMap=source.aoMap;this.aoMapIntensity=source.aoMapIntensity;this.emissive.copy(source.emissive);this.emissiveMap=source.emissiveMap;this.emissiveIntensity=source.emissiveIntensity;this.bumpMap=source.bumpMap;this.bumpScale=source.bumpScale;this.normalMap=source.normalMap;this.normalScale.copy(source.normalScale);this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;this.roughnessMap=source.roughnessMap;this.metalnessMap=source.metalnessMap;this.alphaMap=source.alphaMap;this.envMap=source.envMap;this.envMapIntensity=source.envMapIntensity;this.refractionRatio=source.refractionRatio;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.morphNormals=source.morphNormals;return this;};/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  reflectivity: <float>\n * }\n */function MeshPhysicalMaterial(parameters){MeshStandardMaterial.call(this);this.defines={'PHYSICAL':''};this.type='MeshPhysicalMaterial';this.reflectivity=0.5;// maps to F0 = 0.04\nthis.clearCoat=0.0;this.clearCoatRoughness=0.0;this.setValues(parameters);}MeshPhysicalMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(MeshStandardMaterial.prototype);MeshPhysicalMaterial.prototype.constructor=MeshPhysicalMaterial;MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial=true;MeshPhysicalMaterial.prototype.copy=function(source){MeshStandardMaterial.prototype.copy.call(this,source);this.defines={'PHYSICAL':''};this.reflectivity=source.reflectivity;this.clearCoat=source.clearCoat;this.clearCoatRoughness=source.clearCoatRoughness;return this;};/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */function MeshPhongMaterial(parameters){Material.call(this);this.type='MeshPhongMaterial';this.color=new Color(0xffffff);// diffuse\nthis.specular=new Color(0x111111);this.shininess=30;this.map=null;this.lightMap=null;this.lightMapIntensity=1.0;this.aoMap=null;this.aoMapIntensity=1.0;this.emissive=new Color(0x000000);this.emissiveIntensity=1.0;this.emissiveMap=null;this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.specularMap=null;this.alphaMap=null;this.envMap=null;this.combine=MultiplyOperation;this.reflectivity=1;this.refractionRatio=0.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap='round';this.wireframeLinejoin='round';this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(parameters);}MeshPhongMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Material.prototype);MeshPhongMaterial.prototype.constructor=MeshPhongMaterial;MeshPhongMaterial.prototype.isMeshPhongMaterial=true;MeshPhongMaterial.prototype.copy=function(source){Material.prototype.copy.call(this,source);this.color.copy(source.color);this.specular.copy(source.specular);this.shininess=source.shininess;this.map=source.map;this.lightMap=source.lightMap;this.lightMapIntensity=source.lightMapIntensity;this.aoMap=source.aoMap;this.aoMapIntensity=source.aoMapIntensity;this.emissive.copy(source.emissive);this.emissiveMap=source.emissiveMap;this.emissiveIntensity=source.emissiveIntensity;this.bumpMap=source.bumpMap;this.bumpScale=source.bumpScale;this.normalMap=source.normalMap;this.normalScale.copy(source.normalScale);this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;this.specularMap=source.specularMap;this.alphaMap=source.alphaMap;this.envMap=source.envMap;this.combine=source.combine;this.reflectivity=source.reflectivity;this.refractionRatio=source.refractionRatio;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.morphNormals=source.morphNormals;return this;};/**\n * @author takahirox / http://github.com/takahirox\n *\n * parameters = {\n *  gradientMap: new THREE.Texture( <Image> )\n * }\n */function MeshToonMaterial(parameters){MeshPhongMaterial.call(this);this.defines={'TOON':''};this.type='MeshToonMaterial';this.gradientMap=null;this.setValues(parameters);}MeshToonMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(MeshPhongMaterial.prototype);MeshToonMaterial.prototype.constructor=MeshToonMaterial;MeshToonMaterial.prototype.isMeshToonMaterial=true;MeshToonMaterial.prototype.copy=function(source){MeshPhongMaterial.prototype.copy.call(this,source);this.gradientMap=source.gradientMap;return this;};/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */function MeshNormalMaterial(parameters){Material.call(this);this.type='MeshNormalMaterial';this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=false;this.wireframeLinewidth=1;this.fog=false;this.lights=false;this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(parameters);}MeshNormalMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Material.prototype);MeshNormalMaterial.prototype.constructor=MeshNormalMaterial;MeshNormalMaterial.prototype.isMeshNormalMaterial=true;MeshNormalMaterial.prototype.copy=function(source){Material.prototype.copy.call(this,source);this.bumpMap=source.bumpMap;this.bumpScale=source.bumpScale;this.normalMap=source.normalMap;this.normalScale.copy(source.normalScale);this.displacementMap=source.displacementMap;this.displacementScale=source.displacementScale;this.displacementBias=source.displacementBias;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.morphNormals=source.morphNormals;return this;};/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */function MeshLambertMaterial(parameters){Material.call(this);this.type='MeshLambertMaterial';this.color=new Color(0xffffff);// diffuse\nthis.map=null;this.lightMap=null;this.lightMapIntensity=1.0;this.aoMap=null;this.aoMapIntensity=1.0;this.emissive=new Color(0x000000);this.emissiveIntensity=1.0;this.emissiveMap=null;this.specularMap=null;this.alphaMap=null;this.envMap=null;this.combine=MultiplyOperation;this.reflectivity=1;this.refractionRatio=0.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap='round';this.wireframeLinejoin='round';this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(parameters);}MeshLambertMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Material.prototype);MeshLambertMaterial.prototype.constructor=MeshLambertMaterial;MeshLambertMaterial.prototype.isMeshLambertMaterial=true;MeshLambertMaterial.prototype.copy=function(source){Material.prototype.copy.call(this,source);this.color.copy(source.color);this.map=source.map;this.lightMap=source.lightMap;this.lightMapIntensity=source.lightMapIntensity;this.aoMap=source.aoMap;this.aoMapIntensity=source.aoMapIntensity;this.emissive.copy(source.emissive);this.emissiveMap=source.emissiveMap;this.emissiveIntensity=source.emissiveIntensity;this.specularMap=source.specularMap;this.alphaMap=source.alphaMap;this.envMap=source.envMap;this.combine=source.combine;this.reflectivity=source.reflectivity;this.refractionRatio=source.refractionRatio;this.wireframe=source.wireframe;this.wireframeLinewidth=source.wireframeLinewidth;this.wireframeLinecap=source.wireframeLinecap;this.wireframeLinejoin=source.wireframeLinejoin;this.skinning=source.skinning;this.morphTargets=source.morphTargets;this.morphNormals=source.morphNormals;return this;};/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */function LineDashedMaterial(parameters){LineBasicMaterial.call(this);this.type='LineDashedMaterial';this.scale=1;this.dashSize=3;this.gapSize=1;this.setValues(parameters);}LineDashedMaterial.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(LineBasicMaterial.prototype);LineDashedMaterial.prototype.constructor=LineDashedMaterial;LineDashedMaterial.prototype.isLineDashedMaterial=true;LineDashedMaterial.prototype.copy=function(source){LineBasicMaterial.prototype.copy.call(this,source);this.scale=source.scale;this.dashSize=source.dashSize;this.gapSize=source.gapSize;return this;};var Materials=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze___default()({ShadowMaterial:ShadowMaterial,SpriteMaterial:SpriteMaterial,RawShaderMaterial:RawShaderMaterial,ShaderMaterial:ShaderMaterial,PointsMaterial:PointsMaterial,MeshPhysicalMaterial:MeshPhysicalMaterial,MeshStandardMaterial:MeshStandardMaterial,MeshPhongMaterial:MeshPhongMaterial,MeshToonMaterial:MeshToonMaterial,MeshNormalMaterial:MeshNormalMaterial,MeshLambertMaterial:MeshLambertMaterial,MeshDepthMaterial:MeshDepthMaterial,MeshDistanceMaterial:MeshDistanceMaterial,MeshBasicMaterial:MeshBasicMaterial,LineDashedMaterial:LineDashedMaterial,LineBasicMaterial:LineBasicMaterial,Material:Material});/**\n * @author mrdoob / http://mrdoob.com/\n */var Cache={enabled:false,files:{},add:function add(key,file){if(this.enabled===false)return;// console.log( 'THREE.Cache', 'Adding key:', key );\nthis.files[key]=file;},get:function get(key){if(this.enabled===false)return;// console.log( 'THREE.Cache', 'Checking key:', key );\nreturn this.files[key];},remove:function remove(key){delete this.files[key];},clear:function clear(){this.files={};}};/**\n * @author mrdoob / http://mrdoob.com/\n */function LoadingManager(onLoad,onProgress,onError){var scope=this;var isLoading=false,itemsLoaded=0,itemsTotal=0;this.onStart=undefined;this.onLoad=onLoad;this.onProgress=onProgress;this.onError=onError;this.itemStart=function(url){itemsTotal++;if(isLoading===false){if(scope.onStart!==undefined){scope.onStart(url,itemsLoaded,itemsTotal);}}isLoading=true;};this.itemEnd=function(url){itemsLoaded++;if(scope.onProgress!==undefined){scope.onProgress(url,itemsLoaded,itemsTotal);}if(itemsLoaded===itemsTotal){isLoading=false;if(scope.onLoad!==undefined){scope.onLoad();}}};this.itemError=function(url){if(scope.onError!==undefined){scope.onError(url);}};}var DefaultLoadingManager=new LoadingManager();/**\n * @author mrdoob / http://mrdoob.com/\n */function FileLoader(manager){this.manager=manager!==undefined?manager:DefaultLoadingManager;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(FileLoader.prototype,{load:function load(url,onLoad,onProgress,onError){if(url===undefined)url='';if(this.path!==undefined)url=this.path+url;var scope=this;var cached=Cache.get(url);if(cached!==undefined){scope.manager.itemStart(url);setTimeout(function(){if(onLoad)onLoad(cached);scope.manager.itemEnd(url);},0);return cached;}// Check for data: URI\nvar dataUriRegex=/^data:(.*?)(;base64)?,(.*)$/;var dataUriRegexResult=url.match(dataUriRegex);// Safari can not handle Data URIs through XMLHttpRequest so process manually\nif(dataUriRegexResult){var mimeType=dataUriRegexResult[1];var isBase64=!!dataUriRegexResult[2];var data=dataUriRegexResult[3];data=window.decodeURIComponent(data);if(isBase64)data=window.atob(data);try{var response;var responseType=(this.responseType||'').toLowerCase();switch(responseType){case'arraybuffer':case'blob':response=new ArrayBuffer(data.length);var view=new Uint8Array(response);for(var i=0;i<data.length;i++){view[i]=data.charCodeAt(i);}if(responseType==='blob'){response=new Blob([response],{type:mimeType});}break;case'document':var parser=new DOMParser();response=parser.parseFromString(data,mimeType);break;case'json':response=JSON.parse(data);break;default:// 'text' or other\nresponse=data;break;}// Wait for next browser tick\nwindow.setTimeout(function(){if(onLoad)onLoad(response);scope.manager.itemEnd(url);},0);}catch(error){// Wait for next browser tick\nwindow.setTimeout(function(){if(onError)onError(error);scope.manager.itemEnd(url);scope.manager.itemError(url);},0);}}else{var request=new XMLHttpRequest();request.open('GET',url,true);request.addEventListener('load',function(event){var response=event.target.response;Cache.add(url,response);if(this.status===200){if(onLoad)onLoad(response);scope.manager.itemEnd(url);}else if(this.status===0){// Some browsers return HTTP Status 0 when using non-http protocol\n// e.g. 'file://' or 'data://'. Handle as success.\nconsole.warn('THREE.FileLoader: HTTP Status 0 received.');if(onLoad)onLoad(response);scope.manager.itemEnd(url);}else{if(onError)onError(event);scope.manager.itemEnd(url);scope.manager.itemError(url);}},false);if(onProgress!==undefined){request.addEventListener('progress',function(event){onProgress(event);},false);}request.addEventListener('error',function(event){if(onError)onError(event);scope.manager.itemEnd(url);scope.manager.itemError(url);},false);if(this.responseType!==undefined)request.responseType=this.responseType;if(this.withCredentials!==undefined)request.withCredentials=this.withCredentials;if(request.overrideMimeType)request.overrideMimeType(this.mimeType!==undefined?this.mimeType:'text/plain');for(var header in this.requestHeader){request.setRequestHeader(header,this.requestHeader[header]);}request.send(null);}scope.manager.itemStart(url);return request;},setPath:function setPath(value){this.path=value;return this;},setResponseType:function setResponseType(value){this.responseType=value;return this;},setWithCredentials:function setWithCredentials(value){this.withCredentials=value;return this;},setMimeType:function setMimeType(value){this.mimeType=value;return this;},setRequestHeader:function setRequestHeader(value){this.requestHeader=value;return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n *\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n */function CompressedTextureLoader(manager){this.manager=manager!==undefined?manager:DefaultLoadingManager;// override in sub classes\nthis._parser=null;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(CompressedTextureLoader.prototype,{load:function load(url,onLoad,onProgress,onError){var scope=this;var images=[];var texture=new CompressedTexture();texture.image=images;var loader=new FileLoader(this.manager);loader.setPath(this.path);loader.setResponseType('arraybuffer');function loadTexture(i){loader.load(url[i],function(buffer){var texDatas=scope._parser(buffer,true);images[i]={width:texDatas.width,height:texDatas.height,format:texDatas.format,mipmaps:texDatas.mipmaps};loaded+=1;if(loaded===6){if(texDatas.mipmapCount===1)texture.minFilter=LinearFilter;texture.format=texDatas.format;texture.needsUpdate=true;if(onLoad)onLoad(texture);}},onProgress,onError);}if(Array.isArray(url)){var loaded=0;for(var i=0,il=url.length;i<il;++i){loadTexture(i);}}else{// compressed cubemap texture stored in a single DDS file\nloader.load(url,function(buffer){var texDatas=scope._parser(buffer,true);if(texDatas.isCubemap){var faces=texDatas.mipmaps.length/texDatas.mipmapCount;for(var f=0;f<faces;f++){images[f]={mipmaps:[]};for(var i=0;i<texDatas.mipmapCount;i++){images[f].mipmaps.push(texDatas.mipmaps[f*texDatas.mipmapCount+i]);images[f].format=texDatas.format;images[f].width=texDatas.width;images[f].height=texDatas.height;}}}else{texture.image.width=texDatas.width;texture.image.height=texDatas.height;texture.mipmaps=texDatas.mipmaps;}if(texDatas.mipmapCount===1){texture.minFilter=LinearFilter;}texture.format=texDatas.format;texture.needsUpdate=true;if(onLoad)onLoad(texture);},onProgress,onError);}return texture;},setPath:function setPath(value){this.path=value;return this;}});/**\n * @author Nikos M. / https://github.com/foo123/\n *\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n */function DataTextureLoader(manager){this.manager=manager!==undefined?manager:DefaultLoadingManager;// override in sub classes\nthis._parser=null;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(DataTextureLoader.prototype,{load:function load(url,onLoad,onProgress,onError){var scope=this;var texture=new DataTexture();var loader=new FileLoader(this.manager);loader.setResponseType('arraybuffer');loader.load(url,function(buffer){var texData=scope._parser(buffer);if(!texData)return;if(undefined!==texData.image){texture.image=texData.image;}else if(undefined!==texData.data){texture.image.width=texData.width;texture.image.height=texData.height;texture.image.data=texData.data;}texture.wrapS=undefined!==texData.wrapS?texData.wrapS:ClampToEdgeWrapping;texture.wrapT=undefined!==texData.wrapT?texData.wrapT:ClampToEdgeWrapping;texture.magFilter=undefined!==texData.magFilter?texData.magFilter:LinearFilter;texture.minFilter=undefined!==texData.minFilter?texData.minFilter:LinearMipMapLinearFilter;texture.anisotropy=undefined!==texData.anisotropy?texData.anisotropy:1;if(undefined!==texData.format){texture.format=texData.format;}if(undefined!==texData.type){texture.type=texData.type;}if(undefined!==texData.mipmaps){texture.mipmaps=texData.mipmaps;}if(1===texData.mipmapCount){texture.minFilter=LinearFilter;}texture.needsUpdate=true;if(onLoad)onLoad(texture,texData);},onProgress,onError);return texture;}});/**\n * @author mrdoob / http://mrdoob.com/\n */function ImageLoader(manager){this.manager=manager!==undefined?manager:DefaultLoadingManager;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(ImageLoader.prototype,{crossOrigin:'Anonymous',load:function load(url,onLoad,onProgress,onError){if(url===undefined)url='';if(this.path!==undefined)url=this.path+url;var scope=this;var cached=Cache.get(url);if(cached!==undefined){scope.manager.itemStart(url);setTimeout(function(){if(onLoad)onLoad(cached);scope.manager.itemEnd(url);},0);return cached;}var image=document.createElementNS('http://www.w3.org/1999/xhtml','img');image.addEventListener('load',function(){Cache.add(url,this);if(onLoad)onLoad(this);scope.manager.itemEnd(url);},false);/*\n     image.addEventListener( 'progress', function ( event ) {\n\n     if ( onProgress ) onProgress( event );\n\n     }, false );\n     */image.addEventListener('error',function(event){if(onError)onError(event);scope.manager.itemEnd(url);scope.manager.itemError(url);},false);if(url.substr(0,5)!=='data:'){if(this.crossOrigin!==undefined)image.crossOrigin=this.crossOrigin;}scope.manager.itemStart(url);image.src=url;return image;},setCrossOrigin:function setCrossOrigin(value){this.crossOrigin=value;return this;},setPath:function setPath(value){this.path=value;return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n */function CubeTextureLoader(manager){this.manager=manager!==undefined?manager:DefaultLoadingManager;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(CubeTextureLoader.prototype,{crossOrigin:'Anonymous',load:function load(urls,onLoad,onProgress,onError){var texture=new CubeTexture();var loader=new ImageLoader(this.manager);loader.setCrossOrigin(this.crossOrigin);loader.setPath(this.path);var loaded=0;function loadTexture(i){loader.load(urls[i],function(image){texture.images[i]=image;loaded++;if(loaded===6){texture.needsUpdate=true;if(onLoad)onLoad(texture);}},undefined,onError);}for(var i=0;i<urls.length;++i){loadTexture(i);}return texture;},setCrossOrigin:function setCrossOrigin(value){this.crossOrigin=value;return this;},setPath:function setPath(value){this.path=value;return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n */function TextureLoader(manager){this.manager=manager!==undefined?manager:DefaultLoadingManager;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(TextureLoader.prototype,{crossOrigin:'Anonymous',load:function load(url,onLoad,onProgress,onError){var loader=new ImageLoader(this.manager);loader.setCrossOrigin(this.crossOrigin);loader.setPath(this.path);var texture=new Texture();texture.image=loader.load(url,function(){// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\nvar isJPEG=url.search(/\\.(jpg|jpeg)$/)>0||url.search(/^data\\:image\\/jpeg/)===0;texture.format=isJPEG?RGBFormat:RGBAFormat;texture.needsUpdate=true;if(onLoad!==undefined){onLoad(texture);}},onProgress,onError);return texture;},setCrossOrigin:function setCrossOrigin(value){this.crossOrigin=value;return this;},setPath:function setPath(value){this.path=value;return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */function Light(color,intensity){Object3D.call(this);this.type='Light';this.color=new Color(color);this.intensity=intensity!==undefined?intensity:1;this.receiveShadow=undefined;}Light.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype),{constructor:Light,isLight:true,copy:function copy(source){Object3D.prototype.copy.call(this,source);this.color.copy(source.color);this.intensity=source.intensity;return this;},toJSON:function toJSON(meta){var data=Object3D.prototype.toJSON.call(this,meta);data.object.color=this.color.getHex();data.object.intensity=this.intensity;if(this.groundColor!==undefined)data.object.groundColor=this.groundColor.getHex();if(this.distance!==undefined)data.object.distance=this.distance;if(this.angle!==undefined)data.object.angle=this.angle;if(this.decay!==undefined)data.object.decay=this.decay;if(this.penumbra!==undefined)data.object.penumbra=this.penumbra;if(this.shadow!==undefined)data.object.shadow=this.shadow.toJSON();return data;}});/**\n * @author alteredq / http://alteredqualia.com/\n */function HemisphereLight(skyColor,groundColor,intensity){Light.call(this,skyColor,intensity);this.type='HemisphereLight';this.castShadow=undefined;this.position.copy(Object3D.DefaultUp);this.updateMatrix();this.groundColor=new Color(groundColor);}HemisphereLight.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Light.prototype),{constructor:HemisphereLight,isHemisphereLight:true,copy:function copy(source){Light.prototype.copy.call(this,source);this.groundColor.copy(source.groundColor);return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n */function LightShadow(camera){this.camera=camera;this.bias=0;this.radius=1;this.mapSize=new Vector2(512,512);this.map=null;this.matrix=new Matrix4();}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(LightShadow.prototype,{copy:function copy(source){this.camera=source.camera.clone();this.bias=source.bias;this.radius=source.radius;this.mapSize.copy(source.mapSize);return this;},clone:function clone(){return new this.constructor().copy(this);},toJSON:function toJSON(){var object={};if(this.bias!==0)object.bias=this.bias;if(this.radius!==1)object.radius=this.radius;if(this.mapSize.x!==512||this.mapSize.y!==512)object.mapSize=this.mapSize.toArray();object.camera=this.camera.toJSON(false).object;delete object.camera.matrix;return object;}});/**\n * @author mrdoob / http://mrdoob.com/\n */function SpotLightShadow(){LightShadow.call(this,new PerspectiveCamera(50,1,0.5,500));}SpotLightShadow.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(LightShadow.prototype),{constructor:SpotLightShadow,isSpotLightShadow:true,update:function update(light){var camera=this.camera;var fov=_Math.RAD2DEG*2*light.angle;var aspect=this.mapSize.width/this.mapSize.height;var far=light.distance||camera.far;if(fov!==camera.fov||aspect!==camera.aspect||far!==camera.far){camera.fov=fov;camera.aspect=aspect;camera.far=far;camera.updateProjectionMatrix();}}});/**\n * @author alteredq / http://alteredqualia.com/\n */function SpotLight(color,intensity,distance,angle,penumbra,decay){Light.call(this,color,intensity);this.type='SpotLight';this.position.copy(Object3D.DefaultUp);this.updateMatrix();this.target=new Object3D();Object.defineProperty(this,'power',{get:function get(){// intensity = power per solid angle.\n// ref: equation (17) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\nreturn this.intensity*Math.PI;},set:function set(power){// intensity = power per solid angle.\n// ref: equation (17) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\nthis.intensity=power/Math.PI;}});this.distance=distance!==undefined?distance:0;this.angle=angle!==undefined?angle:Math.PI/3;this.penumbra=penumbra!==undefined?penumbra:0;this.decay=decay!==undefined?decay:1;// for physically correct lights, should be 2.\nthis.shadow=new SpotLightShadow();}SpotLight.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Light.prototype),{constructor:SpotLight,isSpotLight:true,copy:function copy(source){Light.prototype.copy.call(this,source);this.distance=source.distance;this.angle=source.angle;this.penumbra=source.penumbra;this.decay=source.decay;this.target=source.target.clone();this.shadow=source.shadow.clone();return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n */function PointLight(color,intensity,distance,decay){Light.call(this,color,intensity);this.type='PointLight';Object.defineProperty(this,'power',{get:function get(){// intensity = power per solid angle.\n// ref: equation (15) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\nreturn this.intensity*4*Math.PI;},set:function set(power){// intensity = power per solid angle.\n// ref: equation (15) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\nthis.intensity=power/(4*Math.PI);}});this.distance=distance!==undefined?distance:0;this.decay=decay!==undefined?decay:1;// for physically correct lights, should be 2.\nthis.shadow=new LightShadow(new PerspectiveCamera(90,1,0.5,500));}PointLight.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Light.prototype),{constructor:PointLight,isPointLight:true,copy:function copy(source){Light.prototype.copy.call(this,source);this.distance=source.distance;this.decay=source.decay;this.shadow=source.shadow.clone();return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n */function DirectionalLightShadow(){LightShadow.call(this,new OrthographicCamera(-5,5,5,-5,0.5,500));}DirectionalLightShadow.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(LightShadow.prototype),{constructor:DirectionalLightShadow});/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */function DirectionalLight(color,intensity){Light.call(this,color,intensity);this.type='DirectionalLight';this.position.copy(Object3D.DefaultUp);this.updateMatrix();this.target=new Object3D();this.shadow=new DirectionalLightShadow();}DirectionalLight.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Light.prototype),{constructor:DirectionalLight,isDirectionalLight:true,copy:function copy(source){Light.prototype.copy.call(this,source);this.target=source.target.clone();this.shadow=source.shadow.clone();return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n */function AmbientLight(color,intensity){Light.call(this,color,intensity);this.type='AmbientLight';this.castShadow=undefined;}AmbientLight.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Light.prototype),{constructor:AmbientLight,isAmbientLight:true});/**\n * @author abelnation / http://github.com/abelnation\n */function RectAreaLight(color,intensity,width,height){Light.call(this,color,intensity);this.type='RectAreaLight';this.position.set(0,1,0);this.updateMatrix();this.width=width!==undefined?width:10;this.height=height!==undefined?height:10;// TODO (abelnation): distance/decay\n// TODO (abelnation): update method for RectAreaLight to update transform to lookat target\n// TODO (abelnation): shadows\n}// TODO (abelnation): RectAreaLight update when light shape is changed\nRectAreaLight.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Light.prototype),{constructor:RectAreaLight,isRectAreaLight:true,copy:function copy(source){Light.prototype.copy.call(this,source);this.width=source.width;this.height=source.height;return this;},toJSON:function toJSON(meta){var data=Light.prototype.toJSON.call(this,meta);data.object.width=this.width;data.object.height=this.height;return data;}});/**\n * @author tschw\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */var AnimationUtils={// same as Array.prototype.slice, but also works on typed arrays\narraySlice:function arraySlice(array,from,to){if(AnimationUtils.isTypedArray(array)){// in ios9 array.subarray(from, undefined) will return empty array\n// but array.subarray(from) or array.subarray(from, len) is correct\nreturn new array.constructor(array.subarray(from,to!==undefined?to:array.length));}return array.slice(from,to);},// converts an array to a specific type\nconvertArray:function convertArray(array,type,forceClone){if(!array||// let 'undefined' and 'null' pass\n!forceClone&&array.constructor===type)return array;if(typeof type.BYTES_PER_ELEMENT==='number'){return new type(array);// create typed array\n}return Array.prototype.slice.call(array);// create Array\n},isTypedArray:function isTypedArray(object){return ArrayBuffer.isView(object)&&!(object instanceof DataView);},// returns an array by which times and values can be sorted\ngetKeyframeOrder:function getKeyframeOrder(times){function compareTime(i,j){return times[i]-times[j];}var n=times.length;var result=new Array(n);for(var i=0;i!==n;++i){result[i]=i;}result.sort(compareTime);return result;},// uses the array previously returned by 'getKeyframeOrder' to sort data\nsortedArray:function sortedArray(values,stride,order){var nValues=values.length;var result=new values.constructor(nValues);for(var i=0,dstOffset=0;dstOffset!==nValues;++i){var srcOffset=order[i]*stride;for(var j=0;j!==stride;++j){result[dstOffset++]=values[srcOffset+j];}}return result;},// function for parsing AOS keyframe formats\nflattenJSON:function flattenJSON(jsonKeys,times,values,valuePropertyName){var i=1,key=jsonKeys[0];while(key!==undefined&&key[valuePropertyName]===undefined){key=jsonKeys[i++];}if(key===undefined)return;// no data\nvar value=key[valuePropertyName];if(value===undefined)return;// no data\nif(Array.isArray(value)){do{value=key[valuePropertyName];if(value!==undefined){times.push(key.time);values.push.apply(values,value);// push all elements\n}key=jsonKeys[i++];}while(key!==undefined);}else if(value.toArray!==undefined){// ...assume THREE.Math-ish\ndo{value=key[valuePropertyName];if(value!==undefined){times.push(key.time);value.toArray(values,values.length);}key=jsonKeys[i++];}while(key!==undefined);}else{// otherwise push as-is\ndo{value=key[valuePropertyName];if(value!==undefined){times.push(key.time);values.push(value);}key=jsonKeys[i++];}while(key!==undefined);}}};/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n * @author tschw\n */function Interpolant(parameterPositions,sampleValues,sampleSize,resultBuffer){this.parameterPositions=parameterPositions;this._cachedIndex=0;this.resultBuffer=resultBuffer!==undefined?resultBuffer:new sampleValues.constructor(sampleSize);this.sampleValues=sampleValues;this.valueSize=sampleSize;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Interpolant.prototype,{evaluate:function evaluate(t){var pp=this.parameterPositions,i1=this._cachedIndex,t1=pp[i1],t0=pp[i1-1];validate_interval:{seek:{var right;linear_scan:{//- See http://jsperf.com/comparison-to-undefined/3\n//- slower code:\n//-\n//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\nforward_scan:if(!(t<t1)){for(var giveUpAt=i1+2;;){if(t1===undefined){if(t<t0)break forward_scan;// after end\ni1=pp.length;this._cachedIndex=i1;return this.afterEnd_(i1-1,t,t0);}if(i1===giveUpAt)break;// this loop\nt0=t1;t1=pp[++i1];if(t<t1){// we have arrived at the sought interval\nbreak seek;}}// prepare binary search on the right side of the index\nright=pp.length;break linear_scan;}//- slower code:\n//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\nif(!(t>=t0)){// looping?\nvar t1global=pp[1];if(t<t1global){i1=2;// + 1, using the scan for the details\nt0=t1global;}// linear reverse scan\nfor(var giveUpAt=i1-2;;){if(t0===undefined){// before start\nthis._cachedIndex=0;return this.beforeStart_(0,t,t1);}if(i1===giveUpAt)break;// this loop\nt1=t0;t0=pp[--i1-1];if(t>=t0){// we have arrived at the sought interval\nbreak seek;}}// prepare binary search on the left side of the index\nright=i1;i1=0;break linear_scan;}// the interval is valid\nbreak validate_interval;}// linear scan\n// binary search\nwhile(i1<right){var mid=i1+right>>>1;if(t<pp[mid]){right=mid;}else{i1=mid+1;}}t1=pp[i1];t0=pp[i1-1];// check boundary cases, again\nif(t0===undefined){this._cachedIndex=0;return this.beforeStart_(0,t,t1);}if(t1===undefined){i1=pp.length;this._cachedIndex=i1;return this.afterEnd_(i1-1,t0,t);}}// seek\nthis._cachedIndex=i1;this.intervalChanged_(i1,t0,t1);}// validate_interval\nreturn this.interpolate_(i1,t0,t,t1);},settings:null,// optional, subclass-specific settings structure\n// Note: The indirection allows central control of many interpolants.\n// --- Protected interface\nDefaultSettings_:{},getSettings_:function getSettings_(){return this.settings||this.DefaultSettings_;},copySampleValue_:function copySampleValue_(index){// copies a sample value to the result buffer\nvar result=this.resultBuffer,values=this.sampleValues,stride=this.valueSize,offset=index*stride;for(var i=0;i!==stride;++i){result[i]=values[offset+i];}return result;},// Template methods for derived classes:\ninterpolate_:function interpolate_(i1,t0,t,t1){throw new Error(\"call to abstract method\");// implementations shall return this.resultBuffer\n},intervalChanged_:function intervalChanged_(i1,t0,t1){// empty\n}});//!\\ DECLARE ALIAS AFTER assign prototype !\n__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Interpolant.prototype,{//( 0, t, t0 ), returns this.resultBuffer\nbeforeStart_:Interpolant.prototype.copySampleValue_,//( N-1, tN-1, t ), returns this.resultBuffer\nafterEnd_:Interpolant.prototype.copySampleValue_});/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n *\n * @author tschw\n */function CubicInterpolant(parameterPositions,sampleValues,sampleSize,resultBuffer){Interpolant.call(this,parameterPositions,sampleValues,sampleSize,resultBuffer);this._weightPrev=-0;this._offsetPrev=-0;this._weightNext=-0;this._offsetNext=-0;}CubicInterpolant.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Interpolant.prototype),{constructor:CubicInterpolant,DefaultSettings_:{endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding},intervalChanged_:function intervalChanged_(i1,t0,t1){var pp=this.parameterPositions,iPrev=i1-2,iNext=i1+1,tPrev=pp[iPrev],tNext=pp[iNext];if(tPrev===undefined){switch(this.getSettings_().endingStart){case ZeroSlopeEnding:// f'(t0) = 0\niPrev=i1;tPrev=2*t0-t1;break;case WrapAroundEnding:// use the other end of the curve\niPrev=pp.length-2;tPrev=t0+pp[iPrev]-pp[iPrev+1];break;default:// ZeroCurvatureEnding\n// f''(t0) = 0 a.k.a. Natural Spline\niPrev=i1;tPrev=t1;}}if(tNext===undefined){switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:// f'(tN) = 0\niNext=i1;tNext=2*t1-t0;break;case WrapAroundEnding:// use the other end of the curve\niNext=1;tNext=t1+pp[1]-pp[0];break;default:// ZeroCurvatureEnding\n// f''(tN) = 0, a.k.a. Natural Spline\niNext=i1-1;tNext=t0;}}var halfDt=(t1-t0)*0.5,stride=this.valueSize;this._weightPrev=halfDt/(t0-tPrev);this._weightNext=halfDt/(tNext-t1);this._offsetPrev=iPrev*stride;this._offsetNext=iNext*stride;},interpolate_:function interpolate_(i1,t0,t,t1){var result=this.resultBuffer,values=this.sampleValues,stride=this.valueSize,o1=i1*stride,o0=o1-stride,oP=this._offsetPrev,oN=this._offsetNext,wP=this._weightPrev,wN=this._weightNext,p=(t-t0)/(t1-t0),pp=p*p,ppp=pp*p;// evaluate polynomials\nvar sP=-wP*ppp+2*wP*pp-wP*p;var s0=(1+wP)*ppp+(-1.5-2*wP)*pp+(-0.5+wP)*p+1;var s1=(-1-wN)*ppp+(1.5+wN)*pp+0.5*p;var sN=wN*ppp-wN*pp;// combine data linearly\nfor(var i=0;i!==stride;++i){result[i]=sP*values[oP+i]+s0*values[o0+i]+s1*values[o1+i]+sN*values[oN+i];}return result;}});/**\n * @author tschw\n */function LinearInterpolant(parameterPositions,sampleValues,sampleSize,resultBuffer){Interpolant.call(this,parameterPositions,sampleValues,sampleSize,resultBuffer);}LinearInterpolant.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Interpolant.prototype),{constructor:LinearInterpolant,interpolate_:function interpolate_(i1,t0,t,t1){var result=this.resultBuffer,values=this.sampleValues,stride=this.valueSize,offset1=i1*stride,offset0=offset1-stride,weight1=(t-t0)/(t1-t0),weight0=1-weight1;for(var i=0;i!==stride;++i){result[i]=values[offset0+i]*weight0+values[offset1+i]*weight1;}return result;}});/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n *\n * @author tschw\n */function DiscreteInterpolant(parameterPositions,sampleValues,sampleSize,resultBuffer){Interpolant.call(this,parameterPositions,sampleValues,sampleSize,resultBuffer);}DiscreteInterpolant.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Interpolant.prototype),{constructor:DiscreteInterpolant,interpolate_:function interpolate_(i1,t0,t,t1){return this.copySampleValue_(i1-1);}});var KeyframeTrackPrototype;KeyframeTrackPrototype={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:InterpolateLinear,InterpolantFactoryMethodDiscrete:function InterpolantFactoryMethodDiscrete(result){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),result);},InterpolantFactoryMethodLinear:function InterpolantFactoryMethodLinear(result){return new LinearInterpolant(this.times,this.values,this.getValueSize(),result);},InterpolantFactoryMethodSmooth:function InterpolantFactoryMethodSmooth(result){return new CubicInterpolant(this.times,this.values,this.getValueSize(),result);},setInterpolation:function setInterpolation(interpolation){var factoryMethod;switch(interpolation){case InterpolateDiscrete:factoryMethod=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:factoryMethod=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:factoryMethod=this.InterpolantFactoryMethodSmooth;break;}if(factoryMethod===undefined){var message=\"unsupported interpolation for \"+this.ValueTypeName+\" keyframe track named \"+this.name;if(this.createInterpolant===undefined){// fall back to default, unless the default itself is messed up\nif(interpolation!==this.DefaultInterpolation){this.setInterpolation(this.DefaultInterpolation);}else{throw new Error(message);// fatal, in this case\n}}console.warn('THREE.KeyframeTrackPrototype:',message);return;}this.createInterpolant=factoryMethod;},getInterpolation:function getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth;}},getValueSize:function getValueSize(){return this.values.length/this.times.length;},// move all keyframes either forwards or backwards in time\nshift:function shift(timeOffset){if(timeOffset!==0.0){var times=this.times;for(var i=0,n=times.length;i!==n;++i){times[i]+=timeOffset;}}return this;},// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\nscale:function scale(timeScale){if(timeScale!==1.0){var times=this.times;for(var i=0,n=times.length;i!==n;++i){times[i]*=timeScale;}}return this;},// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\ntrim:function trim(startTime,endTime){var times=this.times,nKeys=times.length,from=0,to=nKeys-1;while(from!==nKeys&&times[from]<startTime){++from;}while(to!==-1&&times[to]>endTime){--to;}++to;// inclusive -> exclusive bound\nif(from!==0||to!==nKeys){// empty tracks are forbidden, so keep at least one keyframe\nif(from>=to)to=Math.max(to,1),from=to-1;var stride=this.getValueSize();this.times=AnimationUtils.arraySlice(times,from,to);this.values=AnimationUtils.arraySlice(this.values,from*stride,to*stride);}return this;},// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\nvalidate:function validate(){var valid=true;var valueSize=this.getValueSize();if(valueSize-Math.floor(valueSize)!==0){console.error('THREE.KeyframeTrackPrototype: Invalid value size in track.',this);valid=false;}var times=this.times,values=this.values,nKeys=times.length;if(nKeys===0){console.error('THREE.KeyframeTrackPrototype: Track is empty.',this);valid=false;}var prevTime=null;for(var i=0;i!==nKeys;i++){var currTime=times[i];if(typeof currTime==='number'&&isNaN(currTime)){console.error('THREE.KeyframeTrackPrototype: Time is not a valid number.',this,i,currTime);valid=false;break;}if(prevTime!==null&&prevTime>currTime){console.error('THREE.KeyframeTrackPrototype: Out of order keys.',this,i,currTime,prevTime);valid=false;break;}prevTime=currTime;}if(values!==undefined){if(AnimationUtils.isTypedArray(values)){for(var i=0,n=values.length;i!==n;++i){var value=values[i];if(isNaN(value)){console.error('THREE.KeyframeTrackPrototype: Value is not a valid number.',this,i,value);valid=false;break;}}}}return valid;},// removes equivalent sequential keys as common in morph target sequences\n// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\noptimize:function optimize(){var times=this.times,values=this.values,stride=this.getValueSize(),smoothInterpolation=this.getInterpolation()===InterpolateSmooth,writeIndex=1,lastIndex=times.length-1;for(var i=1;i<lastIndex;++i){var keep=false;var time=times[i];var timeNext=times[i+1];// remove adjacent keyframes scheduled at the same time\nif(time!==timeNext&&(i!==1||time!==time[0])){if(!smoothInterpolation){// remove unnecessary keyframes same as their neighbors\nvar offset=i*stride,offsetP=offset-stride,offsetN=offset+stride;for(var j=0;j!==stride;++j){var value=values[offset+j];if(value!==values[offsetP+j]||value!==values[offsetN+j]){keep=true;break;}}}else keep=true;}// in-place compaction\nif(keep){if(i!==writeIndex){times[writeIndex]=times[i];var readOffset=i*stride,writeOffset=writeIndex*stride;for(var j=0;j!==stride;++j){values[writeOffset+j]=values[readOffset+j];}}++writeIndex;}}// flush last keyframe (compaction looks ahead)\nif(lastIndex>0){times[writeIndex]=times[lastIndex];for(var readOffset=lastIndex*stride,writeOffset=writeIndex*stride,j=0;j!==stride;++j){values[writeOffset+j]=values[readOffset+j];}++writeIndex;}if(writeIndex!==times.length){this.times=AnimationUtils.arraySlice(times,0,writeIndex);this.values=AnimationUtils.arraySlice(values,0,writeIndex*stride);}return this;}};function KeyframeTrackConstructor(name,times,values,interpolation){if(name===undefined)throw new Error(\"track name is undefined\");if(times===undefined||times.length===0){throw new Error(\"no keyframes in track named \"+name);}this.name=name;this.times=AnimationUtils.convertArray(times,this.TimeBufferType);this.values=AnimationUtils.convertArray(values,this.ValueBufferType);this.setInterpolation(interpolation||this.DefaultInterpolation);this.validate();this.optimize();}/**\n *\n * A Track of vectored keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */function VectorKeyframeTrack(name,times,values,interpolation){KeyframeTrackConstructor.call(this,name,times,values,interpolation);}VectorKeyframeTrack.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(KeyframeTrackPrototype),{constructor:VectorKeyframeTrack,ValueTypeName:'vector'// ValueBufferType is inherited\n// DefaultInterpolation is inherited\n});/**\n * Spherical linear unit quaternion interpolant.\n *\n * @author tschw\n */function QuaternionLinearInterpolant(parameterPositions,sampleValues,sampleSize,resultBuffer){Interpolant.call(this,parameterPositions,sampleValues,sampleSize,resultBuffer);}QuaternionLinearInterpolant.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Interpolant.prototype),{constructor:QuaternionLinearInterpolant,interpolate_:function interpolate_(i1,t0,t,t1){var result=this.resultBuffer,values=this.sampleValues,stride=this.valueSize,offset=i1*stride,alpha=(t-t0)/(t1-t0);for(var end=offset+stride;offset!==end;offset+=4){Quaternion.slerpFlat(result,0,values,offset-stride,values,offset,alpha);}return result;}});/**\n *\n * A Track of quaternion keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */function QuaternionKeyframeTrack(name,times,values,interpolation){KeyframeTrackConstructor.call(this,name,times,values,interpolation);}QuaternionKeyframeTrack.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(KeyframeTrackPrototype),{constructor:QuaternionKeyframeTrack,ValueTypeName:'quaternion',// ValueBufferType is inherited\nDefaultInterpolation:InterpolateLinear,InterpolantFactoryMethodLinear:function InterpolantFactoryMethodLinear(result){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),result);},InterpolantFactoryMethodSmooth:undefined// not yet implemented\n});/**\n *\n * A Track of numeric keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */function NumberKeyframeTrack(name,times,values,interpolation){KeyframeTrackConstructor.call(this,name,times,values,interpolation);}NumberKeyframeTrack.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(KeyframeTrackPrototype),{constructor:NumberKeyframeTrack,ValueTypeName:'number'// ValueBufferType is inherited\n// DefaultInterpolation is inherited\n});/**\n *\n * A Track that interpolates Strings\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */function StringKeyframeTrack(name,times,values,interpolation){KeyframeTrackConstructor.call(this,name,times,values,interpolation);}StringKeyframeTrack.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(KeyframeTrackPrototype),{constructor:StringKeyframeTrack,ValueTypeName:'string',ValueBufferType:Array,DefaultInterpolation:InterpolateDiscrete,InterpolantFactoryMethodLinear:undefined,InterpolantFactoryMethodSmooth:undefined});/**\n *\n * A Track of Boolean keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */function BooleanKeyframeTrack(name,times,values){KeyframeTrackConstructor.call(this,name,times,values);}BooleanKeyframeTrack.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(KeyframeTrackPrototype),{constructor:BooleanKeyframeTrack,ValueTypeName:'bool',ValueBufferType:Array,DefaultInterpolation:InterpolateDiscrete,InterpolantFactoryMethodLinear:undefined,InterpolantFactoryMethodSmooth:undefined// Note: Actually this track could have a optimized / compressed\n// representation of a single value and a custom interpolant that\n// computes \"firstValue ^ isOdd( index )\".\n});/**\n *\n * A Track of keyframe values that represent color.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */function ColorKeyframeTrack(name,times,values,interpolation){KeyframeTrackConstructor.call(this,name,times,values,interpolation);}ColorKeyframeTrack.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(KeyframeTrackPrototype),{constructor:ColorKeyframeTrack,ValueTypeName:'color'// ValueBufferType is inherited\n// DefaultInterpolation is inherited\n// Note: Very basic implementation and nothing special yet.\n// However, this is the place for color space parameterization.\n});/**\n *\n * A timed sequence of keyframes for a specific property.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */function KeyframeTrack(name,times,values,interpolation){KeyframeTrackConstructor.apply(this,arguments);}KeyframeTrack.prototype=KeyframeTrackPrototype;KeyframeTrackPrototype.constructor=KeyframeTrack;// Static methods:\n__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(KeyframeTrack,{// Serialization (in static context, because of constructor invocation\n// and automatic invocation of .toJSON):\nparse:function parse(json){if(json.type===undefined){throw new Error(\"track type undefined, can not parse\");}var trackType=KeyframeTrack._getTrackTypeForValueTypeName(json.type);if(json.times===undefined){var times=[],values=[];AnimationUtils.flattenJSON(json.keys,times,values,'value');json.times=times;json.values=values;}// derived classes can define a static parse method\nif(trackType.parse!==undefined){return trackType.parse(json);}else{// by default, we assume a constructor compatible with the base\nreturn new trackType(json.name,json.times,json.values,json.interpolation);}},toJSON:function toJSON(track){var trackType=track.constructor;var json;// derived classes can define a static toJSON method\nif(trackType.toJSON!==undefined){json=trackType.toJSON(track);}else{// by default, we assume the data can be serialized as-is\njson={'name':track.name,'times':AnimationUtils.convertArray(track.times,Array),'values':AnimationUtils.convertArray(track.values,Array)};var interpolation=track.getInterpolation();if(interpolation!==track.DefaultInterpolation){json.interpolation=interpolation;}}json.type=track.ValueTypeName;// mandatory\nreturn json;},_getTrackTypeForValueTypeName:function _getTrackTypeForValueTypeName(typeName){switch(typeName.toLowerCase()){case\"scalar\":case\"double\":case\"float\":case\"number\":case\"integer\":return NumberKeyframeTrack;case\"vector\":case\"vector2\":case\"vector3\":case\"vector4\":return VectorKeyframeTrack;case\"color\":return ColorKeyframeTrack;case\"quaternion\":return QuaternionKeyframeTrack;case\"bool\":case\"boolean\":return BooleanKeyframeTrack;case\"string\":return StringKeyframeTrack;}throw new Error(\"Unsupported typeName: \"+typeName);}});/**\n *\n * Reusable set of Tracks that represent an animation.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */function AnimationClip(name,duration,tracks){this.name=name;this.tracks=tracks;this.duration=duration!==undefined?duration:-1;this.uuid=_Math.generateUUID();// this means it should figure out its duration by scanning the tracks\nif(this.duration<0){this.resetDuration();}this.optimize();}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(AnimationClip,{parse:function parse(json){var tracks=[],jsonTracks=json.tracks,frameTime=1.0/(json.fps||1.0);for(var i=0,n=jsonTracks.length;i!==n;++i){tracks.push(KeyframeTrack.parse(jsonTracks[i]).scale(frameTime));}return new AnimationClip(json.name,json.duration,tracks);},toJSON:function toJSON(clip){var tracks=[],clipTracks=clip.tracks;var json={'name':clip.name,'duration':clip.duration,'tracks':tracks};for(var i=0,n=clipTracks.length;i!==n;++i){tracks.push(KeyframeTrack.toJSON(clipTracks[i]));}return json;},CreateFromMorphTargetSequence:function CreateFromMorphTargetSequence(name,morphTargetSequence,fps,noLoop){var numMorphTargets=morphTargetSequence.length;var tracks=[];for(var i=0;i<numMorphTargets;i++){var times=[];var values=[];times.push((i+numMorphTargets-1)%numMorphTargets,i,(i+1)%numMorphTargets);values.push(0,1,0);var order=AnimationUtils.getKeyframeOrder(times);times=AnimationUtils.sortedArray(times,1,order);values=AnimationUtils.sortedArray(values,1,order);// if there is a key at the first frame, duplicate it as the\n// last frame as well for perfect loop.\nif(!noLoop&&times[0]===0){times.push(numMorphTargets);values.push(values[0]);}tracks.push(new NumberKeyframeTrack('.morphTargetInfluences['+morphTargetSequence[i].name+']',times,values).scale(1.0/fps));}return new AnimationClip(name,-1,tracks);},findByName:function findByName(objectOrClipArray,name){var clipArray=objectOrClipArray;if(!Array.isArray(objectOrClipArray)){var o=objectOrClipArray;clipArray=o.geometry&&o.geometry.animations||o.animations;}for(var i=0;i<clipArray.length;i++){if(clipArray[i].name===name){return clipArray[i];}}return null;},CreateClipsFromMorphTargetSequences:function CreateClipsFromMorphTargetSequences(morphTargets,fps,noLoop){var animationToMorphTargets={};// tested with https://regex101.com/ on trick sequences\n// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\nvar pattern=/^([\\w-]*?)([\\d]+)$/;// sort morph target names into animation groups based\n// patterns like Walk_001, Walk_002, Run_001, Run_002\nfor(var i=0,il=morphTargets.length;i<il;i++){var morphTarget=morphTargets[i];var parts=morphTarget.name.match(pattern);if(parts&&parts.length>1){var name=parts[1];var animationMorphTargets=animationToMorphTargets[name];if(!animationMorphTargets){animationToMorphTargets[name]=animationMorphTargets=[];}animationMorphTargets.push(morphTarget);}}var clips=[];for(var name in animationToMorphTargets){clips.push(AnimationClip.CreateFromMorphTargetSequence(name,animationToMorphTargets[name],fps,noLoop));}return clips;},// parse the animation.hierarchy format\nparseAnimation:function parseAnimation(animation,bones){if(!animation){console.error('THREE.AnimationClip: No animation in JSONLoader data.');return null;}var addNonemptyTrack=function addNonemptyTrack(trackType,trackName,animationKeys,propertyName,destTracks){// only return track if there are actually keys.\nif(animationKeys.length!==0){var times=[];var values=[];AnimationUtils.flattenJSON(animationKeys,times,values,propertyName);// empty keys are filtered out, so check again\nif(times.length!==0){destTracks.push(new trackType(trackName,times,values));}}};var tracks=[];var clipName=animation.name||'default';// automatic length determination in AnimationClip.\nvar duration=animation.length||-1;var fps=animation.fps||30;var hierarchyTracks=animation.hierarchy||[];for(var h=0;h<hierarchyTracks.length;h++){var animationKeys=hierarchyTracks[h].keys;// skip empty tracks\nif(!animationKeys||animationKeys.length===0)continue;// process morph targets\nif(animationKeys[0].morphTargets){// figure out all morph targets used in this track\nvar morphTargetNames={};for(var k=0;k<animationKeys.length;k++){if(animationKeys[k].morphTargets){for(var m=0;m<animationKeys[k].morphTargets.length;m++){morphTargetNames[animationKeys[k].morphTargets[m]]=-1;}}}// create a track for each morph target with all zero\n// morphTargetInfluences except for the keys in which\n// the morphTarget is named.\nfor(var morphTargetName in morphTargetNames){var times=[];var values=[];for(var m=0;m!==animationKeys[k].morphTargets.length;++m){var animationKey=animationKeys[k];times.push(animationKey.time);values.push(animationKey.morphTarget===morphTargetName?1:0);}tracks.push(new NumberKeyframeTrack('.morphTargetInfluence['+morphTargetName+']',times,values));}duration=morphTargetNames.length*(fps||1.0);}else{// ...assume skeletal animation\nvar boneName='.bones['+bones[h].name+']';addNonemptyTrack(VectorKeyframeTrack,boneName+'.position',animationKeys,'pos',tracks);addNonemptyTrack(QuaternionKeyframeTrack,boneName+'.quaternion',animationKeys,'rot',tracks);addNonemptyTrack(VectorKeyframeTrack,boneName+'.scale',animationKeys,'scl',tracks);}}if(tracks.length===0){return null;}var clip=new AnimationClip(clipName,duration,tracks);return clip;}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(AnimationClip.prototype,{resetDuration:function resetDuration(){var tracks=this.tracks,duration=0;for(var i=0,n=tracks.length;i!==n;++i){var track=this.tracks[i];duration=Math.max(duration,track.times[track.times.length-1]);}this.duration=duration;},trim:function trim(){for(var i=0;i<this.tracks.length;i++){this.tracks[i].trim(0,this.duration);}return this;},optimize:function optimize(){for(var i=0;i<this.tracks.length;i++){this.tracks[i].optimize();}return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n */function MaterialLoader(manager){this.manager=manager!==undefined?manager:DefaultLoadingManager;this.textures={};}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(MaterialLoader.prototype,{load:function load(url,onLoad,onProgress,onError){var scope=this;var loader=new FileLoader(scope.manager);loader.load(url,function(text){onLoad(scope.parse(JSON.parse(text)));},onProgress,onError);},setTextures:function setTextures(value){this.textures=value;},parse:function parse(json){var textures=this.textures;function getTexture(name){if(textures[name]===undefined){console.warn('THREE.MaterialLoader: Undefined texture',name);}return textures[name];}var material=new Materials[json.type]();if(json.uuid!==undefined)material.uuid=json.uuid;if(json.name!==undefined)material.name=json.name;if(json.color!==undefined)material.color.setHex(json.color);if(json.roughness!==undefined)material.roughness=json.roughness;if(json.metalness!==undefined)material.metalness=json.metalness;if(json.emissive!==undefined)material.emissive.setHex(json.emissive);if(json.specular!==undefined)material.specular.setHex(json.specular);if(json.shininess!==undefined)material.shininess=json.shininess;if(json.clearCoat!==undefined)material.clearCoat=json.clearCoat;if(json.clearCoatRoughness!==undefined)material.clearCoatRoughness=json.clearCoatRoughness;if(json.uniforms!==undefined)material.uniforms=json.uniforms;if(json.vertexShader!==undefined)material.vertexShader=json.vertexShader;if(json.fragmentShader!==undefined)material.fragmentShader=json.fragmentShader;if(json.vertexColors!==undefined)material.vertexColors=json.vertexColors;if(json.fog!==undefined)material.fog=json.fog;if(json.flatShading!==undefined)material.flatShading=json.flatShading;if(json.blending!==undefined)material.blending=json.blending;if(json.side!==undefined)material.side=json.side;if(json.opacity!==undefined)material.opacity=json.opacity;if(json.transparent!==undefined)material.transparent=json.transparent;if(json.alphaTest!==undefined)material.alphaTest=json.alphaTest;if(json.depthTest!==undefined)material.depthTest=json.depthTest;if(json.depthWrite!==undefined)material.depthWrite=json.depthWrite;if(json.colorWrite!==undefined)material.colorWrite=json.colorWrite;if(json.wireframe!==undefined)material.wireframe=json.wireframe;if(json.wireframeLinewidth!==undefined)material.wireframeLinewidth=json.wireframeLinewidth;if(json.wireframeLinecap!==undefined)material.wireframeLinecap=json.wireframeLinecap;if(json.wireframeLinejoin!==undefined)material.wireframeLinejoin=json.wireframeLinejoin;if(json.skinning!==undefined)material.skinning=json.skinning;if(json.morphTargets!==undefined)material.morphTargets=json.morphTargets;if(json.dithering!==undefined)material.dithering=json.dithering;if(json.visible!==undefined)material.visible=json.visible;if(json.userData!==undefined)material.userData=json.userData;// Deprecated\nif(json.shading!==undefined)material.flatShading=json.shading===1;// THREE.FlatShading\n// for PointsMaterial\nif(json.size!==undefined)material.size=json.size;if(json.sizeAttenuation!==undefined)material.sizeAttenuation=json.sizeAttenuation;// maps\nif(json.map!==undefined)material.map=getTexture(json.map);if(json.alphaMap!==undefined){material.alphaMap=getTexture(json.alphaMap);material.transparent=true;}if(json.bumpMap!==undefined)material.bumpMap=getTexture(json.bumpMap);if(json.bumpScale!==undefined)material.bumpScale=json.bumpScale;if(json.normalMap!==undefined)material.normalMap=getTexture(json.normalMap);if(json.normalScale!==undefined){var normalScale=json.normalScale;if(Array.isArray(normalScale)===false){// Blender exporter used to export a scalar. See #7459\nnormalScale=[normalScale,normalScale];}material.normalScale=new Vector2().fromArray(normalScale);}if(json.displacementMap!==undefined)material.displacementMap=getTexture(json.displacementMap);if(json.displacementScale!==undefined)material.displacementScale=json.displacementScale;if(json.displacementBias!==undefined)material.displacementBias=json.displacementBias;if(json.roughnessMap!==undefined)material.roughnessMap=getTexture(json.roughnessMap);if(json.metalnessMap!==undefined)material.metalnessMap=getTexture(json.metalnessMap);if(json.emissiveMap!==undefined)material.emissiveMap=getTexture(json.emissiveMap);if(json.emissiveIntensity!==undefined)material.emissiveIntensity=json.emissiveIntensity;if(json.specularMap!==undefined)material.specularMap=getTexture(json.specularMap);if(json.envMap!==undefined)material.envMap=getTexture(json.envMap);if(json.reflectivity!==undefined)material.reflectivity=json.reflectivity;if(json.lightMap!==undefined)material.lightMap=getTexture(json.lightMap);if(json.lightMapIntensity!==undefined)material.lightMapIntensity=json.lightMapIntensity;if(json.aoMap!==undefined)material.aoMap=getTexture(json.aoMap);if(json.aoMapIntensity!==undefined)material.aoMapIntensity=json.aoMapIntensity;if(json.gradientMap!==undefined)material.gradientMap=getTexture(json.gradientMap);return material;}});/**\n * @author mrdoob / http://mrdoob.com/\n */function BufferGeometryLoader(manager){this.manager=manager!==undefined?manager:DefaultLoadingManager;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(BufferGeometryLoader.prototype,{load:function load(url,onLoad,onProgress,onError){var scope=this;var loader=new FileLoader(scope.manager);loader.load(url,function(text){onLoad(scope.parse(JSON.parse(text)));},onProgress,onError);},parse:function parse(json){var geometry=new BufferGeometry();var index=json.data.index;if(index!==undefined){var typedArray=new TYPED_ARRAYS[index.type](index.array);geometry.setIndex(new BufferAttribute(typedArray,1));}var attributes=json.data.attributes;for(var key in attributes){var attribute=attributes[key];var typedArray=new TYPED_ARRAYS[attribute.type](attribute.array);geometry.addAttribute(key,new BufferAttribute(typedArray,attribute.itemSize,attribute.normalized));}var groups=json.data.groups||json.data.drawcalls||json.data.offsets;if(groups!==undefined){for(var i=0,n=groups.length;i!==n;++i){var group=groups[i];geometry.addGroup(group.start,group.count,group.materialIndex);}}var boundingSphere=json.data.boundingSphere;if(boundingSphere!==undefined){var center=new Vector3();if(boundingSphere.center!==undefined){center.fromArray(boundingSphere.center);}geometry.boundingSphere=new Sphere(center,boundingSphere.radius);}return geometry;}});var TYPED_ARRAYS={Int8Array:Int8Array,Uint8Array:Uint8Array,// Workaround for IE11 pre KB2929437. See #11440\nUint8ClampedArray:typeof Uint8ClampedArray!=='undefined'?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};/**\n * @author alteredq / http://alteredqualia.com/\n */function Loader(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){};}Loader.Handlers={handlers:[],add:function add(regex,loader){this.handlers.push(regex,loader);},get:function get(file){var handlers=this.handlers;for(var i=0,l=handlers.length;i<l;i+=2){var regex=handlers[i];var loader=handlers[i+1];if(regex.test(file)){return loader;}}return null;}};__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Loader.prototype,{crossOrigin:undefined,extractUrlBase:function extractUrlBase(url){var parts=url.split('/');if(parts.length===1)return'./';parts.pop();return parts.join('/')+'/';},initMaterials:function initMaterials(materials,texturePath,crossOrigin){var array=[];for(var i=0;i<materials.length;++i){array[i]=this.createMaterial(materials[i],texturePath,crossOrigin);}return array;},createMaterial:function(){var BlendingMode={NoBlending:NoBlending,NormalBlending:NormalBlending,AdditiveBlending:AdditiveBlending,SubtractiveBlending:SubtractiveBlending,MultiplyBlending:MultiplyBlending,CustomBlending:CustomBlending};var color=new Color();var textureLoader=new TextureLoader();var materialLoader=new MaterialLoader();return function createMaterial(m,texturePath,crossOrigin){// convert from old material format\nvar textures={};function loadTexture(path,repeat,offset,wrap,anisotropy){var fullPath=texturePath+path;var loader=Loader.Handlers.get(fullPath);var texture;if(loader!==null){texture=loader.load(fullPath);}else{textureLoader.setCrossOrigin(crossOrigin);texture=textureLoader.load(fullPath);}if(repeat!==undefined){texture.repeat.fromArray(repeat);if(repeat[0]!==1)texture.wrapS=RepeatWrapping;if(repeat[1]!==1)texture.wrapT=RepeatWrapping;}if(offset!==undefined){texture.offset.fromArray(offset);}if(wrap!==undefined){if(wrap[0]==='repeat')texture.wrapS=RepeatWrapping;if(wrap[0]==='mirror')texture.wrapS=MirroredRepeatWrapping;if(wrap[1]==='repeat')texture.wrapT=RepeatWrapping;if(wrap[1]==='mirror')texture.wrapT=MirroredRepeatWrapping;}if(anisotropy!==undefined){texture.anisotropy=anisotropy;}var uuid=_Math.generateUUID();textures[uuid]=texture;return uuid;}//\nvar json={uuid:_Math.generateUUID(),type:'MeshLambertMaterial'};for(var name in m){var value=m[name];switch(name){case'DbgColor':case'DbgIndex':case'opticalDensity':case'illumination':break;case'DbgName':json.name=value;break;case'blending':json.blending=BlendingMode[value];break;case'colorAmbient':case'mapAmbient':console.warn('THREE.Loader.createMaterial:',name,'is no longer supported.');break;case'colorDiffuse':json.color=color.fromArray(value).getHex();break;case'colorSpecular':json.specular=color.fromArray(value).getHex();break;case'colorEmissive':json.emissive=color.fromArray(value).getHex();break;case'specularCoef':json.shininess=value;break;case'shading':if(value.toLowerCase()==='basic')json.type='MeshBasicMaterial';if(value.toLowerCase()==='phong')json.type='MeshPhongMaterial';if(value.toLowerCase()==='standard')json.type='MeshStandardMaterial';break;case'mapDiffuse':json.map=loadTexture(value,m.mapDiffuseRepeat,m.mapDiffuseOffset,m.mapDiffuseWrap,m.mapDiffuseAnisotropy);break;case'mapDiffuseRepeat':case'mapDiffuseOffset':case'mapDiffuseWrap':case'mapDiffuseAnisotropy':break;case'mapEmissive':json.emissiveMap=loadTexture(value,m.mapEmissiveRepeat,m.mapEmissiveOffset,m.mapEmissiveWrap,m.mapEmissiveAnisotropy);break;case'mapEmissiveRepeat':case'mapEmissiveOffset':case'mapEmissiveWrap':case'mapEmissiveAnisotropy':break;case'mapLight':json.lightMap=loadTexture(value,m.mapLightRepeat,m.mapLightOffset,m.mapLightWrap,m.mapLightAnisotropy);break;case'mapLightRepeat':case'mapLightOffset':case'mapLightWrap':case'mapLightAnisotropy':break;case'mapAO':json.aoMap=loadTexture(value,m.mapAORepeat,m.mapAOOffset,m.mapAOWrap,m.mapAOAnisotropy);break;case'mapAORepeat':case'mapAOOffset':case'mapAOWrap':case'mapAOAnisotropy':break;case'mapBump':json.bumpMap=loadTexture(value,m.mapBumpRepeat,m.mapBumpOffset,m.mapBumpWrap,m.mapBumpAnisotropy);break;case'mapBumpScale':json.bumpScale=value;break;case'mapBumpRepeat':case'mapBumpOffset':case'mapBumpWrap':case'mapBumpAnisotropy':break;case'mapNormal':json.normalMap=loadTexture(value,m.mapNormalRepeat,m.mapNormalOffset,m.mapNormalWrap,m.mapNormalAnisotropy);break;case'mapNormalFactor':json.normalScale=[value,value];break;case'mapNormalRepeat':case'mapNormalOffset':case'mapNormalWrap':case'mapNormalAnisotropy':break;case'mapSpecular':json.specularMap=loadTexture(value,m.mapSpecularRepeat,m.mapSpecularOffset,m.mapSpecularWrap,m.mapSpecularAnisotropy);break;case'mapSpecularRepeat':case'mapSpecularOffset':case'mapSpecularWrap':case'mapSpecularAnisotropy':break;case'mapMetalness':json.metalnessMap=loadTexture(value,m.mapMetalnessRepeat,m.mapMetalnessOffset,m.mapMetalnessWrap,m.mapMetalnessAnisotropy);break;case'mapMetalnessRepeat':case'mapMetalnessOffset':case'mapMetalnessWrap':case'mapMetalnessAnisotropy':break;case'mapRoughness':json.roughnessMap=loadTexture(value,m.mapRoughnessRepeat,m.mapRoughnessOffset,m.mapRoughnessWrap,m.mapRoughnessAnisotropy);break;case'mapRoughnessRepeat':case'mapRoughnessOffset':case'mapRoughnessWrap':case'mapRoughnessAnisotropy':break;case'mapAlpha':json.alphaMap=loadTexture(value,m.mapAlphaRepeat,m.mapAlphaOffset,m.mapAlphaWrap,m.mapAlphaAnisotropy);break;case'mapAlphaRepeat':case'mapAlphaOffset':case'mapAlphaWrap':case'mapAlphaAnisotropy':break;case'flipSided':json.side=BackSide;break;case'doubleSided':json.side=DoubleSide;break;case'transparency':console.warn('THREE.Loader.createMaterial: transparency has been renamed to opacity');json.opacity=value;break;case'depthTest':case'depthWrite':case'colorWrite':case'opacity':case'reflectivity':case'transparent':case'visible':case'wireframe':json[name]=value;break;case'vertexColors':if(value===true)json.vertexColors=VertexColors;if(value==='face')json.vertexColors=FaceColors;break;default:console.error('THREE.Loader.createMaterial: Unsupported',name,value);break;}}if(json.type==='MeshBasicMaterial')delete json.emissive;if(json.type!=='MeshPhongMaterial')delete json.specular;if(json.opacity<1)json.transparent=true;materialLoader.setTextures(textures);return materialLoader.parse(json);};}()});/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */function JSONLoader(manager){if(typeof manager==='boolean'){console.warn('THREE.JSONLoader: showStatus parameter has been removed from constructor.');manager=undefined;}this.manager=manager!==undefined?manager:DefaultLoadingManager;this.withCredentials=false;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(JSONLoader.prototype,{load:function load(url,onLoad,onProgress,onError){var scope=this;var texturePath=this.texturePath&&typeof this.texturePath===\"string\"?this.texturePath:Loader.prototype.extractUrlBase(url);var loader=new FileLoader(this.manager);loader.setWithCredentials(this.withCredentials);loader.load(url,function(text){var json=JSON.parse(text);var metadata=json.metadata;if(metadata!==undefined){var type=metadata.type;if(type!==undefined){if(type.toLowerCase()==='object'){console.error('THREE.JSONLoader: '+url+' should be loaded with THREE.ObjectLoader instead.');return;}if(type.toLowerCase()==='scene'){console.error('THREE.JSONLoader: '+url+' should be loaded with THREE.SceneLoader instead.');return;}}}var object=scope.parse(json,texturePath);onLoad(object.geometry,object.materials);},onProgress,onError);},setTexturePath:function setTexturePath(value){this.texturePath=value;},parse:function(){function parseModel(json,geometry){function isBitSet(value,position){return value&1<<position;}var i,j,fi,offset,zLength,colorIndex,normalIndex,uvIndex,materialIndex,type,isQuad,hasMaterial,hasFaceVertexUv,hasFaceNormal,hasFaceVertexNormal,hasFaceColor,hasFaceVertexColor,vertex,face,faceA,faceB,hex,normal,uvLayer,uv,u,v,faces=json.faces,vertices=json.vertices,normals=json.normals,colors=json.colors,scale=json.scale,nUvLayers=0;if(json.uvs!==undefined){// disregard empty arrays\nfor(i=0;i<json.uvs.length;i++){if(json.uvs[i].length)nUvLayers++;}for(i=0;i<nUvLayers;i++){geometry.faceVertexUvs[i]=[];}}offset=0;zLength=vertices.length;while(offset<zLength){vertex=new Vector3();vertex.x=vertices[offset++]*scale;vertex.y=vertices[offset++]*scale;vertex.z=vertices[offset++]*scale;geometry.vertices.push(vertex);}offset=0;zLength=faces.length;while(offset<zLength){type=faces[offset++];isQuad=isBitSet(type,0);hasMaterial=isBitSet(type,1);hasFaceVertexUv=isBitSet(type,3);hasFaceNormal=isBitSet(type,4);hasFaceVertexNormal=isBitSet(type,5);hasFaceColor=isBitSet(type,6);hasFaceVertexColor=isBitSet(type,7);// console.log(\"type\", type, \"bits\", isQuad, hasMaterial, hasFaceVertexUv, hasFaceNormal, hasFaceVertexNormal, hasFaceColor, hasFaceVertexColor);\nif(isQuad){faceA=new Face3();faceA.a=faces[offset];faceA.b=faces[offset+1];faceA.c=faces[offset+3];faceB=new Face3();faceB.a=faces[offset+1];faceB.b=faces[offset+2];faceB.c=faces[offset+3];offset+=4;if(hasMaterial){materialIndex=faces[offset++];faceA.materialIndex=materialIndex;faceB.materialIndex=materialIndex;}// to get face <=> uv index correspondence\nfi=geometry.faces.length;if(hasFaceVertexUv){for(i=0;i<nUvLayers;i++){uvLayer=json.uvs[i];geometry.faceVertexUvs[i][fi]=[];geometry.faceVertexUvs[i][fi+1]=[];for(j=0;j<4;j++){uvIndex=faces[offset++];u=uvLayer[uvIndex*2];v=uvLayer[uvIndex*2+1];uv=new Vector2(u,v);if(j!==2)geometry.faceVertexUvs[i][fi].push(uv);if(j!==0)geometry.faceVertexUvs[i][fi+1].push(uv);}}}if(hasFaceNormal){normalIndex=faces[offset++]*3;faceA.normal.set(normals[normalIndex++],normals[normalIndex++],normals[normalIndex]);faceB.normal.copy(faceA.normal);}if(hasFaceVertexNormal){for(i=0;i<4;i++){normalIndex=faces[offset++]*3;normal=new Vector3(normals[normalIndex++],normals[normalIndex++],normals[normalIndex]);if(i!==2)faceA.vertexNormals.push(normal);if(i!==0)faceB.vertexNormals.push(normal);}}if(hasFaceColor){colorIndex=faces[offset++];hex=colors[colorIndex];faceA.color.setHex(hex);faceB.color.setHex(hex);}if(hasFaceVertexColor){for(i=0;i<4;i++){colorIndex=faces[offset++];hex=colors[colorIndex];if(i!==2)faceA.vertexColors.push(new Color(hex));if(i!==0)faceB.vertexColors.push(new Color(hex));}}geometry.faces.push(faceA);geometry.faces.push(faceB);}else{face=new Face3();face.a=faces[offset++];face.b=faces[offset++];face.c=faces[offset++];if(hasMaterial){materialIndex=faces[offset++];face.materialIndex=materialIndex;}// to get face <=> uv index correspondence\nfi=geometry.faces.length;if(hasFaceVertexUv){for(i=0;i<nUvLayers;i++){uvLayer=json.uvs[i];geometry.faceVertexUvs[i][fi]=[];for(j=0;j<3;j++){uvIndex=faces[offset++];u=uvLayer[uvIndex*2];v=uvLayer[uvIndex*2+1];uv=new Vector2(u,v);geometry.faceVertexUvs[i][fi].push(uv);}}}if(hasFaceNormal){normalIndex=faces[offset++]*3;face.normal.set(normals[normalIndex++],normals[normalIndex++],normals[normalIndex]);}if(hasFaceVertexNormal){for(i=0;i<3;i++){normalIndex=faces[offset++]*3;normal=new Vector3(normals[normalIndex++],normals[normalIndex++],normals[normalIndex]);face.vertexNormals.push(normal);}}if(hasFaceColor){colorIndex=faces[offset++];face.color.setHex(colors[colorIndex]);}if(hasFaceVertexColor){for(i=0;i<3;i++){colorIndex=faces[offset++];face.vertexColors.push(new Color(colors[colorIndex]));}}geometry.faces.push(face);}}}function parseSkin(json,geometry){var influencesPerVertex=json.influencesPerVertex!==undefined?json.influencesPerVertex:2;if(json.skinWeights){for(var i=0,l=json.skinWeights.length;i<l;i+=influencesPerVertex){var x=json.skinWeights[i];var y=influencesPerVertex>1?json.skinWeights[i+1]:0;var z=influencesPerVertex>2?json.skinWeights[i+2]:0;var w=influencesPerVertex>3?json.skinWeights[i+3]:0;geometry.skinWeights.push(new Vector4(x,y,z,w));}}if(json.skinIndices){for(var i=0,l=json.skinIndices.length;i<l;i+=influencesPerVertex){var a=json.skinIndices[i];var b=influencesPerVertex>1?json.skinIndices[i+1]:0;var c=influencesPerVertex>2?json.skinIndices[i+2]:0;var d=influencesPerVertex>3?json.skinIndices[i+3]:0;geometry.skinIndices.push(new Vector4(a,b,c,d));}}geometry.bones=json.bones;if(geometry.bones&&geometry.bones.length>0&&(geometry.skinWeights.length!==geometry.skinIndices.length||geometry.skinIndices.length!==geometry.vertices.length)){console.warn('When skinning, number of vertices ('+geometry.vertices.length+'), skinIndices ('+geometry.skinIndices.length+'), and skinWeights ('+geometry.skinWeights.length+') should match.');}}function parseMorphing(json,geometry){var scale=json.scale;if(json.morphTargets!==undefined){for(var i=0,l=json.morphTargets.length;i<l;i++){geometry.morphTargets[i]={};geometry.morphTargets[i].name=json.morphTargets[i].name;geometry.morphTargets[i].vertices=[];var dstVertices=geometry.morphTargets[i].vertices;var srcVertices=json.morphTargets[i].vertices;for(var v=0,vl=srcVertices.length;v<vl;v+=3){var vertex=new Vector3();vertex.x=srcVertices[v]*scale;vertex.y=srcVertices[v+1]*scale;vertex.z=srcVertices[v+2]*scale;dstVertices.push(vertex);}}}if(json.morphColors!==undefined&&json.morphColors.length>0){console.warn('THREE.JSONLoader: \"morphColors\" no longer supported. Using them as face colors.');var faces=geometry.faces;var morphColors=json.morphColors[0].colors;for(var i=0,l=faces.length;i<l;i++){faces[i].color.fromArray(morphColors,i*3);}}}function parseAnimations(json,geometry){var outputAnimations=[];// parse old style Bone/Hierarchy animations\nvar animations=[];if(json.animation!==undefined){animations.push(json.animation);}if(json.animations!==undefined){if(json.animations.length){animations=animations.concat(json.animations);}else{animations.push(json.animations);}}for(var i=0;i<animations.length;i++){var clip=AnimationClip.parseAnimation(animations[i],geometry.bones);if(clip)outputAnimations.push(clip);}// parse implicit morph animations\nif(geometry.morphTargets){// TODO: Figure out what an appropraite FPS is for morph target animations -- defaulting to 10, but really it is completely arbitrary.\nvar morphAnimationClips=AnimationClip.CreateClipsFromMorphTargetSequences(geometry.morphTargets,10);outputAnimations=outputAnimations.concat(morphAnimationClips);}if(outputAnimations.length>0)geometry.animations=outputAnimations;}return function(json,texturePath){if(json.data!==undefined){// Geometry 4.0 spec\njson=json.data;}if(json.scale!==undefined){json.scale=1.0/json.scale;}else{json.scale=1.0;}var geometry=new Geometry();parseModel(json,geometry);parseSkin(json,geometry);parseMorphing(json,geometry);parseAnimations(json,geometry);geometry.computeFaceNormals();geometry.computeBoundingSphere();if(json.materials===undefined||json.materials.length===0){return{geometry:geometry};}else{var materials=Loader.prototype.initMaterials(json.materials,texturePath,this.crossOrigin);return{geometry:geometry,materials:materials};}};}()});/**\n * @author mrdoob / http://mrdoob.com/\n */function ObjectLoader(manager){this.manager=manager!==undefined?manager:DefaultLoadingManager;this.texturePath='';}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(ObjectLoader.prototype,{load:function load(url,onLoad,onProgress,onError){if(this.texturePath===''){this.texturePath=url.substring(0,url.lastIndexOf('/')+1);}var scope=this;var loader=new FileLoader(scope.manager);loader.load(url,function(text){var json=null;try{json=JSON.parse(text);}catch(error){if(onError!==undefined)onError(error);console.error('THREE:ObjectLoader: Can\\'t parse '+url+'.',error.message);return;}var metadata=json.metadata;if(metadata===undefined||metadata.type===undefined||metadata.type.toLowerCase()==='geometry'){console.error('THREE.ObjectLoader: Can\\'t load '+url+'. Use THREE.JSONLoader instead.');return;}scope.parse(json,onLoad);},onProgress,onError);},setTexturePath:function setTexturePath(value){this.texturePath=value;},setCrossOrigin:function setCrossOrigin(value){this.crossOrigin=value;},parse:function parse(json,onLoad){var geometries=this.parseGeometries(json.geometries);var images=this.parseImages(json.images,function(){if(onLoad!==undefined)onLoad(object);});var textures=this.parseTextures(json.textures,images);var materials=this.parseMaterials(json.materials,textures);var object=this.parseObject(json.object,geometries,materials);if(json.animations){object.animations=this.parseAnimations(json.animations);}if(json.images===undefined||json.images.length===0){if(onLoad!==undefined)onLoad(object);}return object;},parseGeometries:function parseGeometries(json){var geometries={};if(json!==undefined){var geometryLoader=new JSONLoader();var bufferGeometryLoader=new BufferGeometryLoader();for(var i=0,l=json.length;i<l;i++){var geometry;var data=json[i];switch(data.type){case'PlaneGeometry':case'PlaneBufferGeometry':geometry=new Geometries[data.type](data.width,data.height,data.widthSegments,data.heightSegments);break;case'BoxGeometry':case'BoxBufferGeometry':case'CubeGeometry':// backwards compatible\ngeometry=new Geometries[data.type](data.width,data.height,data.depth,data.widthSegments,data.heightSegments,data.depthSegments);break;case'CircleGeometry':case'CircleBufferGeometry':geometry=new Geometries[data.type](data.radius,data.segments,data.thetaStart,data.thetaLength);break;case'CylinderGeometry':case'CylinderBufferGeometry':geometry=new Geometries[data.type](data.radiusTop,data.radiusBottom,data.height,data.radialSegments,data.heightSegments,data.openEnded,data.thetaStart,data.thetaLength);break;case'ConeGeometry':case'ConeBufferGeometry':geometry=new Geometries[data.type](data.radius,data.height,data.radialSegments,data.heightSegments,data.openEnded,data.thetaStart,data.thetaLength);break;case'SphereGeometry':case'SphereBufferGeometry':geometry=new Geometries[data.type](data.radius,data.widthSegments,data.heightSegments,data.phiStart,data.phiLength,data.thetaStart,data.thetaLength);break;case'DodecahedronGeometry':case'IcosahedronGeometry':case'OctahedronGeometry':case'TetrahedronGeometry':geometry=new Geometries[data.type](data.radius,data.detail);break;case'RingGeometry':case'RingBufferGeometry':geometry=new Geometries[data.type](data.innerRadius,data.outerRadius,data.thetaSegments,data.phiSegments,data.thetaStart,data.thetaLength);break;case'TorusGeometry':case'TorusBufferGeometry':geometry=new Geometries[data.type](data.radius,data.tube,data.radialSegments,data.tubularSegments,data.arc);break;case'TorusKnotGeometry':case'TorusKnotBufferGeometry':geometry=new Geometries[data.type](data.radius,data.tube,data.tubularSegments,data.radialSegments,data.p,data.q);break;case'LatheGeometry':case'LatheBufferGeometry':geometry=new Geometries[data.type](data.points,data.segments,data.phiStart,data.phiLength);break;case'BufferGeometry':geometry=bufferGeometryLoader.parse(data);break;case'Geometry':geometry=geometryLoader.parse(data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type \"'+data.type+'\"');continue;}geometry.uuid=data.uuid;if(data.name!==undefined)geometry.name=data.name;geometries[data.uuid]=geometry;}}return geometries;},parseMaterials:function parseMaterials(json,textures){var materials={};if(json!==undefined){var loader=new MaterialLoader();loader.setTextures(textures);for(var i=0,l=json.length;i<l;i++){var data=json[i];if(data.type==='MultiMaterial'){// Deprecated\nvar array=[];for(var j=0;j<data.materials.length;j++){array.push(loader.parse(data.materials[j]));}materials[data.uuid]=array;}else{materials[data.uuid]=loader.parse(data);}}}return materials;},parseAnimations:function parseAnimations(json){var animations=[];for(var i=0;i<json.length;i++){var clip=AnimationClip.parse(json[i]);animations.push(clip);}return animations;},parseImages:function parseImages(json,onLoad){var scope=this;var images={};function loadImage(url){scope.manager.itemStart(url);return loader.load(url,function(){scope.manager.itemEnd(url);},undefined,function(){scope.manager.itemEnd(url);scope.manager.itemError(url);});}if(json!==undefined&&json.length>0){var manager=new LoadingManager(onLoad);var loader=new ImageLoader(manager);loader.setCrossOrigin(this.crossOrigin);for(var i=0,l=json.length;i<l;i++){var image=json[i];var path=/^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(image.url)?image.url:scope.texturePath+image.url;images[image.uuid]=loadImage(path);}}return images;},parseTextures:function parseTextures(json,images){function parseConstant(value,type){if(typeof value==='number')return value;console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.',value);return type[value];}var textures={};if(json!==undefined){for(var i=0,l=json.length;i<l;i++){var data=json[i];if(data.image===undefined){console.warn('THREE.ObjectLoader: No \"image\" specified for',data.uuid);}if(images[data.image]===undefined){console.warn('THREE.ObjectLoader: Undefined image',data.image);}var texture=new Texture(images[data.image]);texture.needsUpdate=true;texture.uuid=data.uuid;if(data.name!==undefined)texture.name=data.name;if(data.mapping!==undefined)texture.mapping=parseConstant(data.mapping,TEXTURE_MAPPING);if(data.offset!==undefined)texture.offset.fromArray(data.offset);if(data.repeat!==undefined)texture.repeat.fromArray(data.repeat);if(data.wrap!==undefined){texture.wrapS=parseConstant(data.wrap[0],TEXTURE_WRAPPING);texture.wrapT=parseConstant(data.wrap[1],TEXTURE_WRAPPING);}if(data.minFilter!==undefined)texture.minFilter=parseConstant(data.minFilter,TEXTURE_FILTER);if(data.magFilter!==undefined)texture.magFilter=parseConstant(data.magFilter,TEXTURE_FILTER);if(data.anisotropy!==undefined)texture.anisotropy=data.anisotropy;if(data.flipY!==undefined)texture.flipY=data.flipY;textures[data.uuid]=texture;}}return textures;},parseObject:function(){var matrix=new Matrix4();return function parseObject(data,geometries,materials){var object;function getGeometry(name){if(geometries[name]===undefined){console.warn('THREE.ObjectLoader: Undefined geometry',name);}return geometries[name];}function getMaterial(name){if(name===undefined)return undefined;if(Array.isArray(name)){var array=[];for(var i=0,l=name.length;i<l;i++){var uuid=name[i];if(materials[uuid]===undefined){console.warn('THREE.ObjectLoader: Undefined material',uuid);}array.push(materials[uuid]);}return array;}if(materials[name]===undefined){console.warn('THREE.ObjectLoader: Undefined material',name);}return materials[name];}switch(data.type){case'Scene':object=new Scene();if(data.background!==undefined){if(__WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_number_is_integer___default()(data.background)){object.background=new Color(data.background);}}if(data.fog!==undefined){if(data.fog.type==='Fog'){object.fog=new Fog(data.fog.color,data.fog.near,data.fog.far);}else if(data.fog.type==='FogExp2'){object.fog=new FogExp2(data.fog.color,data.fog.density);}}break;case'PerspectiveCamera':object=new PerspectiveCamera(data.fov,data.aspect,data.near,data.far);if(data.focus!==undefined)object.focus=data.focus;if(data.zoom!==undefined)object.zoom=data.zoom;if(data.filmGauge!==undefined)object.filmGauge=data.filmGauge;if(data.filmOffset!==undefined)object.filmOffset=data.filmOffset;if(data.view!==undefined)object.view=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()({},data.view);break;case'OrthographicCamera':object=new OrthographicCamera(data.left,data.right,data.top,data.bottom,data.near,data.far);break;case'AmbientLight':object=new AmbientLight(data.color,data.intensity);break;case'DirectionalLight':object=new DirectionalLight(data.color,data.intensity);break;case'PointLight':object=new PointLight(data.color,data.intensity,data.distance,data.decay);break;case'RectAreaLight':object=new RectAreaLight(data.color,data.intensity,data.width,data.height);break;case'SpotLight':object=new SpotLight(data.color,data.intensity,data.distance,data.angle,data.penumbra,data.decay);break;case'HemisphereLight':object=new HemisphereLight(data.color,data.groundColor,data.intensity);break;case'SkinnedMesh':console.warn('THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.');case'Mesh':var geometry=getGeometry(data.geometry);var material=getMaterial(data.material);if(geometry.bones&&geometry.bones.length>0){object=new SkinnedMesh(geometry,material);}else{object=new Mesh(geometry,material);}break;case'LOD':object=new LOD();break;case'Line':object=new Line(getGeometry(data.geometry),getMaterial(data.material),data.mode);break;case'LineLoop':object=new LineLoop(getGeometry(data.geometry),getMaterial(data.material));break;case'LineSegments':object=new LineSegments(getGeometry(data.geometry),getMaterial(data.material));break;case'PointCloud':case'Points':object=new Points(getGeometry(data.geometry),getMaterial(data.material));break;case'Sprite':object=new Sprite(getMaterial(data.material));break;case'Group':object=new Group();break;default:object=new Object3D();}object.uuid=data.uuid;if(data.name!==undefined)object.name=data.name;if(data.matrix!==undefined){matrix.fromArray(data.matrix);matrix.decompose(object.position,object.quaternion,object.scale);}else{if(data.position!==undefined)object.position.fromArray(data.position);if(data.rotation!==undefined)object.rotation.fromArray(data.rotation);if(data.quaternion!==undefined)object.quaternion.fromArray(data.quaternion);if(data.scale!==undefined)object.scale.fromArray(data.scale);}if(data.castShadow!==undefined)object.castShadow=data.castShadow;if(data.receiveShadow!==undefined)object.receiveShadow=data.receiveShadow;if(data.shadow){if(data.shadow.bias!==undefined)object.shadow.bias=data.shadow.bias;if(data.shadow.radius!==undefined)object.shadow.radius=data.shadow.radius;if(data.shadow.mapSize!==undefined)object.shadow.mapSize.fromArray(data.shadow.mapSize);if(data.shadow.camera!==undefined)object.shadow.camera=this.parseObject(data.shadow.camera);}if(data.visible!==undefined)object.visible=data.visible;if(data.userData!==undefined)object.userData=data.userData;if(data.children!==undefined){var children=data.children;for(var i=0;i<children.length;i++){object.add(this.parseObject(children[i],geometries,materials));}}if(data.type==='LOD'){var levels=data.levels;for(var l=0;l<levels.length;l++){var level=levels[l];var child=object.getObjectByProperty('uuid',level.object);if(child!==undefined){object.addLevel(child,level.distance);}}}return object;};}()});var TEXTURE_MAPPING={UVMapping:UVMapping,CubeReflectionMapping:CubeReflectionMapping,CubeRefractionMapping:CubeRefractionMapping,EquirectangularReflectionMapping:EquirectangularReflectionMapping,EquirectangularRefractionMapping:EquirectangularRefractionMapping,SphericalReflectionMapping:SphericalReflectionMapping,CubeUVReflectionMapping:CubeUVReflectionMapping,CubeUVRefractionMapping:CubeUVRefractionMapping};var TEXTURE_WRAPPING={RepeatWrapping:RepeatWrapping,ClampToEdgeWrapping:ClampToEdgeWrapping,MirroredRepeatWrapping:MirroredRepeatWrapping};var TEXTURE_FILTER={NearestFilter:NearestFilter,NearestMipMapNearestFilter:NearestMipMapNearestFilter,NearestMipMapLinearFilter:NearestMipMapLinearFilter,LinearFilter:LinearFilter,LinearMipMapNearestFilter:LinearMipMapNearestFilter,LinearMipMapLinearFilter:LinearMipMapLinearFilter};/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */function CatmullRom(t,p0,p1,p2,p3){var v0=(p2-p0)*0.5;var v1=(p3-p1)*0.5;var t2=t*t;var t3=t*t2;return(2*p1-2*p2+v0+v1)*t3+(-3*p1+3*p2-2*v0-v1)*t2+v0*t+p1;}//\nfunction QuadraticBezierP0(t,p){var k=1-t;return k*k*p;}function QuadraticBezierP1(t,p){return 2*(1-t)*t*p;}function QuadraticBezierP2(t,p){return t*t*p;}function QuadraticBezier(t,p0,p1,p2){return QuadraticBezierP0(t,p0)+QuadraticBezierP1(t,p1)+QuadraticBezierP2(t,p2);}//\nfunction CubicBezierP0(t,p){var k=1-t;return k*k*k*p;}function CubicBezierP1(t,p){var k=1-t;return 3*k*k*t*p;}function CubicBezierP2(t,p){return 3*(1-t)*t*t*p;}function CubicBezierP3(t,p){return t*t*t*p;}function CubicBezier(t,p0,p1,p2,p3){return CubicBezierP0(t,p0)+CubicBezierP1(t,p1)+CubicBezierP2(t,p2)+CubicBezierP3(t,p3);}/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Extensible curve object\n *\n * Some common of curve methods:\n * .getPoint(t), getTangent(t)\n * .getPointAt(u), getTangentAt(u)\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **//**************************************************************\n *\tAbstract Curve base class\n **************************************************************/function Curve(){this.arcLengthDivisions=200;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Curve.prototype,{// Virtual base class method to overwrite and implement in subclasses\n//\t- t [0 .. 1]\ngetPoint:function getPoint(){console.warn('THREE.Curve: .getPoint() not implemented.');return null;},// Get point at relative position in curve according to arc length\n// - u [0 .. 1]\ngetPointAt:function getPointAt(u){var t=this.getUtoTmapping(u);return this.getPoint(t);},// Get sequence of points using getPoint( t )\ngetPoints:function getPoints(divisions){if(divisions===undefined)divisions=5;var points=[];for(var d=0;d<=divisions;d++){points.push(this.getPoint(d/divisions));}return points;},// Get sequence of points using getPointAt( u )\ngetSpacedPoints:function getSpacedPoints(divisions){if(divisions===undefined)divisions=5;var points=[];for(var d=0;d<=divisions;d++){points.push(this.getPointAt(d/divisions));}return points;},// Get total curve arc length\ngetLength:function getLength(){var lengths=this.getLengths();return lengths[lengths.length-1];},// Get list of cumulative segment lengths\ngetLengths:function getLengths(divisions){if(divisions===undefined)divisions=this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===divisions+1&&!this.needsUpdate){return this.cacheArcLengths;}this.needsUpdate=false;var cache=[];var current,last=this.getPoint(0);var p,sum=0;cache.push(0);for(p=1;p<=divisions;p++){current=this.getPoint(p/divisions);sum+=current.distanceTo(last);cache.push(sum);last=current;}this.cacheArcLengths=cache;return cache;// { sums: cache, sum: sum }; Sum is in the last element.\n},updateArcLengths:function updateArcLengths(){this.needsUpdate=true;this.getLengths();},// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\ngetUtoTmapping:function getUtoTmapping(u,distance){var arcLengths=this.getLengths();var i=0,il=arcLengths.length;var targetArcLength;// The targeted u distance value to get\nif(distance){targetArcLength=distance;}else{targetArcLength=u*arcLengths[il-1];}// binary search for the index with largest value smaller than target u distance\nvar low=0,high=il-1,comparison;while(low<=high){i=Math.floor(low+(high-low)/2);// less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\ncomparison=arcLengths[i]-targetArcLength;if(comparison<0){low=i+1;}else if(comparison>0){high=i-1;}else{high=i;break;// DONE\n}}i=high;if(arcLengths[i]===targetArcLength){return i/(il-1);}// we could get finer grain at lengths, or use simple interpolation between two points\nvar lengthBefore=arcLengths[i];var lengthAfter=arcLengths[i+1];var segmentLength=lengthAfter-lengthBefore;// determine where we are between the 'before' and 'after' points\nvar segmentFraction=(targetArcLength-lengthBefore)/segmentLength;// add that fractional amount to t\nvar t=(i+segmentFraction)/(il-1);return t;},// Returns a unit vector tangent at t\n// In case any sub curve does not implement its tangent derivation,\n// 2 points a small delta apart will be used to find its gradient\n// which seems to give a reasonable approximation\ngetTangent:function getTangent(t){var delta=0.0001;var t1=t-delta;var t2=t+delta;// Capping in case of danger\nif(t1<0)t1=0;if(t2>1)t2=1;var pt1=this.getPoint(t1);var pt2=this.getPoint(t2);var vec=pt2.clone().sub(pt1);return vec.normalize();},getTangentAt:function getTangentAt(u){var t=this.getUtoTmapping(u);return this.getTangent(t);},computeFrenetFrames:function computeFrenetFrames(segments,closed){// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\nvar normal=new Vector3();var tangents=[];var normals=[];var binormals=[];var vec=new Vector3();var mat=new Matrix4();var i,u,theta;// compute the tangent vectors for each segment on the curve\nfor(i=0;i<=segments;i++){u=i/segments;tangents[i]=this.getTangentAt(u);tangents[i].normalize();}// select an initial normal vector perpendicular to the first tangent vector,\n// and in the direction of the minimum tangent xyz component\nnormals[0]=new Vector3();binormals[0]=new Vector3();var min=Number.MAX_VALUE;var tx=Math.abs(tangents[0].x);var ty=Math.abs(tangents[0].y);var tz=Math.abs(tangents[0].z);if(tx<=min){min=tx;normal.set(1,0,0);}if(ty<=min){min=ty;normal.set(0,1,0);}if(tz<=min){normal.set(0,0,1);}vec.crossVectors(tangents[0],normal).normalize();normals[0].crossVectors(tangents[0],vec);binormals[0].crossVectors(tangents[0],normals[0]);// compute the slowly-varying normal and binormal vectors for each segment on the curve\nfor(i=1;i<=segments;i++){normals[i]=normals[i-1].clone();binormals[i]=binormals[i-1].clone();vec.crossVectors(tangents[i-1],tangents[i]);if(vec.length()>__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a){vec.normalize();theta=Math.acos(_Math.clamp(tangents[i-1].dot(tangents[i]),-1,1));// clamp for floating pt errors\nnormals[i].applyMatrix4(mat.makeRotationAxis(vec,theta));}binormals[i].crossVectors(tangents[i],normals[i]);}// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\nif(closed===true){theta=Math.acos(_Math.clamp(normals[0].dot(normals[segments]),-1,1));theta/=segments;if(tangents[0].dot(vec.crossVectors(normals[0],normals[segments]))>0){theta=-theta;}for(i=1;i<=segments;i++){// twist a little...\nnormals[i].applyMatrix4(mat.makeRotationAxis(tangents[i],theta*i));binormals[i].crossVectors(tangents[i],normals[i]);}}return{tangents:tangents,normals:normals,binormals:binormals};}});function LineCurve(v1,v2){Curve.call(this);this.v1=v1;this.v2=v2;}LineCurve.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Curve.prototype);LineCurve.prototype.constructor=LineCurve;LineCurve.prototype.isLineCurve=true;LineCurve.prototype.getPoint=function(t){if(t===1){return this.v2.clone();}var point=this.v2.clone().sub(this.v1);point.multiplyScalar(t).add(this.v1);return point;};// Line curve is linear, so we can overwrite default getPointAt\nLineCurve.prototype.getPointAt=function(u){return this.getPoint(u);};LineCurve.prototype.getTangent=function(t){var tangent=this.v2.clone().sub(this.v1);return tangent.normalize();};/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n **//**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/function CurvePath(){Curve.call(this);this.curves=[];this.autoClose=false;// Automatically closes the path\n}CurvePath.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Curve.prototype),{constructor:CurvePath,add:function add(curve){this.curves.push(curve);},closePath:function closePath(){// Add a line curve if start and end of lines are not connected\nvar startPoint=this.curves[0].getPoint(0);var endPoint=this.curves[this.curves.length-1].getPoint(1);if(!startPoint.equals(endPoint)){this.curves.push(new LineCurve(endPoint,startPoint));}},// To get accurate point with reference to\n// entire path distance at time t,\n// following has to be done:\n// 1. Length of each sub path have to be known\n// 2. Locate and identify type of curve\n// 3. Get t for the curve\n// 4. Return curve.getPointAt(t')\ngetPoint:function getPoint(t){var d=t*this.getLength();var curveLengths=this.getCurveLengths();var i=0;// To think about boundaries points.\nwhile(i<curveLengths.length){if(curveLengths[i]>=d){var diff=curveLengths[i]-d;var curve=this.curves[i];var segmentLength=curve.getLength();var u=segmentLength===0?0:1-diff/segmentLength;return curve.getPointAt(u);}i++;}return null;// loop where sum != 0, sum > d , sum+1 <d\n},// We cannot use the default THREE.Curve getPoint() with getLength() because in\n// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n// getPoint() depends on getLength\ngetLength:function getLength(){var lens=this.getCurveLengths();return lens[lens.length-1];},// cacheLengths must be recalculated.\nupdateArcLengths:function updateArcLengths(){this.needsUpdate=true;this.cacheLengths=null;this.getCurveLengths();},// Compute lengths and cache them\n// We cannot overwrite getLengths() because UtoT mapping uses it.\ngetCurveLengths:function getCurveLengths(){// We use cache values if curves and cache array are same length\nif(this.cacheLengths&&this.cacheLengths.length===this.curves.length){return this.cacheLengths;}// Get length of sub-curve\n// Push sums into cached array\nvar lengths=[],sums=0;for(var i=0,l=this.curves.length;i<l;i++){sums+=this.curves[i].getLength();lengths.push(sums);}this.cacheLengths=lengths;return lengths;},getSpacedPoints:function getSpacedPoints(divisions){if(divisions===undefined)divisions=40;var points=[];for(var i=0;i<=divisions;i++){points.push(this.getPoint(i/divisions));}if(this.autoClose){points.push(points[0]);}return points;},getPoints:function getPoints(divisions){divisions=divisions||12;var points=[],last;for(var i=0,curves=this.curves;i<curves.length;i++){var curve=curves[i];var resolution=curve&&curve.isEllipseCurve?divisions*2:curve&&curve.isLineCurve?1:curve&&curve.isSplineCurve?divisions*curve.points.length:divisions;var pts=curve.getPoints(resolution);for(var j=0;j<pts.length;j++){var point=pts[j];if(last&&last.equals(point))continue;// ensures no consecutive points are duplicates\npoints.push(point);last=point;}}if(this.autoClose&&points.length>1&&!points[points.length-1].equals(points[0])){points.push(points[0]);}return points;},/**************************************************************\n   *\tCreate Geometries Helpers\n   **************************************************************//// Generate geometry from path points (for Line or Points objects)\ncreatePointsGeometry:function createPointsGeometry(divisions){var pts=this.getPoints(divisions);return this.createGeometry(pts);},// Generate geometry from equidistant sampling along the path\ncreateSpacedPointsGeometry:function createSpacedPointsGeometry(divisions){var pts=this.getSpacedPoints(divisions);return this.createGeometry(pts);},createGeometry:function createGeometry(points){var geometry=new Geometry();for(var i=0,l=points.length;i<l;i++){var point=points[i];geometry.vertices.push(new Vector3(point.x,point.y,point.z||0));}return geometry;}});function EllipseCurve(aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation){Curve.call(this);this.aX=aX;this.aY=aY;this.xRadius=xRadius;this.yRadius=yRadius;this.aStartAngle=aStartAngle;this.aEndAngle=aEndAngle;this.aClockwise=aClockwise;this.aRotation=aRotation||0;}EllipseCurve.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Curve.prototype);EllipseCurve.prototype.constructor=EllipseCurve;EllipseCurve.prototype.isEllipseCurve=true;EllipseCurve.prototype.getPoint=function(t){var twoPi=Math.PI*2;var deltaAngle=this.aEndAngle-this.aStartAngle;var samePoints=Math.abs(deltaAngle)<__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a;// ensures that deltaAngle is 0 .. 2 PI\nwhile(deltaAngle<0){deltaAngle+=twoPi;}while(deltaAngle>twoPi){deltaAngle-=twoPi;}if(deltaAngle<__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a){if(samePoints){deltaAngle=0;}else{deltaAngle=twoPi;}}if(this.aClockwise===true&&!samePoints){if(deltaAngle===twoPi){deltaAngle=-twoPi;}else{deltaAngle=deltaAngle-twoPi;}}var angle=this.aStartAngle+t*deltaAngle;var x=this.aX+this.xRadius*Math.cos(angle);var y=this.aY+this.yRadius*Math.sin(angle);if(this.aRotation!==0){var cos=Math.cos(this.aRotation);var sin=Math.sin(this.aRotation);var tx=x-this.aX;var ty=y-this.aY;// Rotate the point about the center of the ellipse.\nx=tx*cos-ty*sin+this.aX;y=tx*sin+ty*cos+this.aY;}return new Vector2(x,y);};function SplineCurve(points/* array of Vector2 */){Curve.call(this);this.points=points===undefined?[]:points;}SplineCurve.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Curve.prototype);SplineCurve.prototype.constructor=SplineCurve;SplineCurve.prototype.isSplineCurve=true;SplineCurve.prototype.getPoint=function(t){var points=this.points;var point=(points.length-1)*t;var intPoint=Math.floor(point);var weight=point-intPoint;var point0=points[intPoint===0?intPoint:intPoint-1];var point1=points[intPoint];var point2=points[intPoint>points.length-2?points.length-1:intPoint+1];var point3=points[intPoint>points.length-3?points.length-1:intPoint+2];return new Vector2(CatmullRom(weight,point0.x,point1.x,point2.x,point3.x),CatmullRom(weight,point0.y,point1.y,point2.y,point3.y));};function CubicBezierCurve(v0,v1,v2,v3){Curve.call(this);this.v0=v0;this.v1=v1;this.v2=v2;this.v3=v3;}CubicBezierCurve.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Curve.prototype);CubicBezierCurve.prototype.constructor=CubicBezierCurve;CubicBezierCurve.prototype.getPoint=function(t){var v0=this.v0,v1=this.v1,v2=this.v2,v3=this.v3;return new Vector2(CubicBezier(t,v0.x,v1.x,v2.x,v3.x),CubicBezier(t,v0.y,v1.y,v2.y,v3.y));};function QuadraticBezierCurve(v0,v1,v2){Curve.call(this);this.v0=v0;this.v1=v1;this.v2=v2;}QuadraticBezierCurve.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Curve.prototype);QuadraticBezierCurve.prototype.constructor=QuadraticBezierCurve;QuadraticBezierCurve.prototype.getPoint=function(t){var v0=this.v0,v1=this.v1,v2=this.v2;return new Vector2(QuadraticBezier(t,v0.x,v1.x,v2.x),QuadraticBezier(t,v0.y,v1.y,v2.y));};var PathPrototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(CurvePath.prototype),{fromPoints:function fromPoints(vectors){this.moveTo(vectors[0].x,vectors[0].y);for(var i=1,l=vectors.length;i<l;i++){this.lineTo(vectors[i].x,vectors[i].y);}},moveTo:function moveTo(x,y){this.currentPoint.set(x,y);// TODO consider referencing vectors instead of copying?\n},lineTo:function lineTo(x,y){var curve=new LineCurve(this.currentPoint.clone(),new Vector2(x,y));this.curves.push(curve);this.currentPoint.set(x,y);},quadraticCurveTo:function quadraticCurveTo(aCPx,aCPy,aX,aY){var curve=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(aCPx,aCPy),new Vector2(aX,aY));this.curves.push(curve);this.currentPoint.set(aX,aY);},bezierCurveTo:function bezierCurveTo(aCP1x,aCP1y,aCP2x,aCP2y,aX,aY){var curve=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(aCP1x,aCP1y),new Vector2(aCP2x,aCP2y),new Vector2(aX,aY));this.curves.push(curve);this.currentPoint.set(aX,aY);},splineThru:function splineThru(pts/*Array of Vector*/){var npts=[this.currentPoint.clone()].concat(pts);var curve=new SplineCurve(npts);this.curves.push(curve);this.currentPoint.copy(pts[pts.length-1]);},arc:function arc(aX,aY,aRadius,aStartAngle,aEndAngle,aClockwise){var x0=this.currentPoint.x;var y0=this.currentPoint.y;this.absarc(aX+x0,aY+y0,aRadius,aStartAngle,aEndAngle,aClockwise);},absarc:function absarc(aX,aY,aRadius,aStartAngle,aEndAngle,aClockwise){this.absellipse(aX,aY,aRadius,aRadius,aStartAngle,aEndAngle,aClockwise);},ellipse:function ellipse(aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation){var x0=this.currentPoint.x;var y0=this.currentPoint.y;this.absellipse(aX+x0,aY+y0,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation);},absellipse:function absellipse(aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation){var curve=new EllipseCurve(aX,aY,xRadius,yRadius,aStartAngle,aEndAngle,aClockwise,aRotation);if(this.curves.length>0){// if a previous curve is present, attempt to join\nvar firstPoint=curve.getPoint(0);if(!firstPoint.equals(this.currentPoint)){this.lineTo(firstPoint.x,firstPoint.y);}}this.curves.push(curve);var lastPoint=curve.getPoint(1);this.currentPoint.copy(lastPoint);}});/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Creates free form 2d path using series of points, lines or curves.\n **/function Path(points){CurvePath.call(this);this.currentPoint=new Vector2();if(points){this.fromPoints(points);}}Path.prototype=PathPrototype;PathPrototype.constructor=Path;/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\nfunction Shape(){Path.apply(this,arguments);this.holes=[];}Shape.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(PathPrototype),{constructor:Shape,getPointsHoles:function getPointsHoles(divisions){var holesPts=[];for(var i=0,l=this.holes.length;i<l;i++){holesPts[i]=this.holes[i].getPoints(divisions);}return holesPts;},// Get points of shape and holes (keypoints based on segments parameter)\nextractAllPoints:function extractAllPoints(divisions){return{shape:this.getPoints(divisions),holes:this.getPointsHoles(divisions)};},extractPoints:function extractPoints(divisions){return this.extractAllPoints(divisions);}});/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\n **/function ShapePath(){this.subPaths=[];this.currentPath=null;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(ShapePath.prototype,{moveTo:function moveTo(x,y){this.currentPath=new Path();this.subPaths.push(this.currentPath);this.currentPath.moveTo(x,y);},lineTo:function lineTo(x,y){this.currentPath.lineTo(x,y);},quadraticCurveTo:function quadraticCurveTo(aCPx,aCPy,aX,aY){this.currentPath.quadraticCurveTo(aCPx,aCPy,aX,aY);},bezierCurveTo:function bezierCurveTo(aCP1x,aCP1y,aCP2x,aCP2y,aX,aY){this.currentPath.bezierCurveTo(aCP1x,aCP1y,aCP2x,aCP2y,aX,aY);},splineThru:function splineThru(pts){this.currentPath.splineThru(pts);},toShapes:function toShapes(isCCW,noHoles){function toShapesNoHoles(inSubpaths){var shapes=[];for(var i=0,l=inSubpaths.length;i<l;i++){var tmpPath=inSubpaths[i];var tmpShape=new Shape();tmpShape.curves=tmpPath.curves;shapes.push(tmpShape);}return shapes;}function isPointInsidePolygon(inPt,inPolygon){var polyLen=inPolygon.length;// inPt on polygon contour => immediate success    or\n// toggling of inside/outside at every single! intersection point of an edge\n//  with the horizontal line through inPt, left of inPt\n//  not counting lowerY endpoints of edges and whole edges on that line\nvar inside=false;for(var p=polyLen-1,q=0;q<polyLen;p=q++){var edgeLowPt=inPolygon[p];var edgeHighPt=inPolygon[q];var edgeDx=edgeHighPt.x-edgeLowPt.x;var edgeDy=edgeHighPt.y-edgeLowPt.y;if(Math.abs(edgeDy)>__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_number_epsilon___default.a){// not parallel\nif(edgeDy<0){edgeLowPt=inPolygon[q];edgeDx=-edgeDx;edgeHighPt=inPolygon[p];edgeDy=-edgeDy;}if(inPt.y<edgeLowPt.y||inPt.y>edgeHighPt.y)continue;if(inPt.y===edgeLowPt.y){if(inPt.x===edgeLowPt.x)return true;// inPt is on contour ?\n// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n}else{var perpEdge=edgeDy*(inPt.x-edgeLowPt.x)-edgeDx*(inPt.y-edgeLowPt.y);if(perpEdge===0)return true;// inPt is on contour ?\nif(perpEdge<0)continue;inside=!inside;// true intersection left of inPt\n}}else{// parallel or collinear\nif(inPt.y!==edgeLowPt.y)continue;// parallel\n// edge lies on the same horizontal line as inPt\nif(edgeHighPt.x<=inPt.x&&inPt.x<=edgeLowPt.x||edgeLowPt.x<=inPt.x&&inPt.x<=edgeHighPt.x)return true;// inPt: Point on contour !\n// continue;\n}}return inside;}var isClockWise=ShapeUtils.isClockWise;var subPaths=this.subPaths;if(subPaths.length===0)return[];if(noHoles===true)return toShapesNoHoles(subPaths);var solid,tmpPath,tmpShape,shapes=[];if(subPaths.length===1){tmpPath=subPaths[0];tmpShape=new Shape();tmpShape.curves=tmpPath.curves;shapes.push(tmpShape);return shapes;}var holesFirst=!isClockWise(subPaths[0].getPoints());holesFirst=isCCW?!holesFirst:holesFirst;// console.log(\"Holes first\", holesFirst);\nvar betterShapeHoles=[];var newShapes=[];var newShapeHoles=[];var mainIdx=0;var tmpPoints;newShapes[mainIdx]=undefined;newShapeHoles[mainIdx]=[];for(var i=0,l=subPaths.length;i<l;i++){tmpPath=subPaths[i];tmpPoints=tmpPath.getPoints();solid=isClockWise(tmpPoints);solid=isCCW?!solid:solid;if(solid){if(!holesFirst&&newShapes[mainIdx])mainIdx++;newShapes[mainIdx]={s:new Shape(),p:tmpPoints};newShapes[mainIdx].s.curves=tmpPath.curves;if(holesFirst)mainIdx++;newShapeHoles[mainIdx]=[];//console.log('cw', i);\n}else{newShapeHoles[mainIdx].push({h:tmpPath,p:tmpPoints[0]});//console.log('ccw', i);\n}}// only Holes? -> probably all Shapes with wrong orientation\nif(!newShapes[0])return toShapesNoHoles(subPaths);if(newShapes.length>1){var ambiguous=false;var toChange=[];for(var sIdx=0,sLen=newShapes.length;sIdx<sLen;sIdx++){betterShapeHoles[sIdx]=[];}for(var sIdx=0,sLen=newShapes.length;sIdx<sLen;sIdx++){var sho=newShapeHoles[sIdx];for(var hIdx=0;hIdx<sho.length;hIdx++){var ho=sho[hIdx];var hole_unassigned=true;for(var s2Idx=0;s2Idx<newShapes.length;s2Idx++){if(isPointInsidePolygon(ho.p,newShapes[s2Idx].p)){if(sIdx!==s2Idx)toChange.push({froms:sIdx,tos:s2Idx,hole:hIdx});if(hole_unassigned){hole_unassigned=false;betterShapeHoles[s2Idx].push(ho);}else{ambiguous=true;}}}if(hole_unassigned){betterShapeHoles[sIdx].push(ho);}}}// console.log(\"ambiguous: \", ambiguous);\nif(toChange.length>0){// console.log(\"to change: \", toChange);\nif(!ambiguous)newShapeHoles=betterShapeHoles;}}var tmpHoles;for(var i=0,il=newShapes.length;i<il;i++){tmpShape=newShapes[i].s;shapes.push(tmpShape);tmpHoles=newShapeHoles[i];for(var j=0,jl=tmpHoles.length;j<jl;j++){tmpShape.holes.push(tmpHoles[j].h);}}//console.log(\"shape\", shapes);\nreturn shapes;}});/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author mrdoob / http://mrdoob.com/\n */function Font(data){this.data=data;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Font.prototype,{isFont:true,generateShapes:function generateShapes(text,size,divisions){function createPaths(text){var chars=String(text).split('');var scale=size/data.resolution;var line_height=(data.boundingBox.yMax-data.boundingBox.yMin+data.underlineThickness)*scale;var offsetX=0,offsetY=0;var paths=[];for(var i=0;i<chars.length;i++){var char=chars[i];if(char==='\\n'){offsetX=0;offsetY-=line_height;}else{var ret=createPath(char,scale,offsetX,offsetY);offsetX+=ret.offsetX;paths.push(ret.path);}}return paths;}function createPath(c,scale,offsetX,offsetY){var glyph=data.glyphs[c]||data.glyphs['?'];if(!glyph)return;var path=new ShapePath();var pts=[];var x,y,cpx,cpy,cpx0,cpy0,cpx1,cpy1,cpx2,cpy2,laste;if(glyph.o){var outline=glyph._cachedOutline||(glyph._cachedOutline=glyph.o.split(' '));for(var i=0,l=outline.length;i<l;){var action=outline[i++];switch(action){case'm':// moveTo\nx=outline[i++]*scale+offsetX;y=outline[i++]*scale+offsetY;path.moveTo(x,y);break;case'l':// lineTo\nx=outline[i++]*scale+offsetX;y=outline[i++]*scale+offsetY;path.lineTo(x,y);break;case'q':// quadraticCurveTo\ncpx=outline[i++]*scale+offsetX;cpy=outline[i++]*scale+offsetY;cpx1=outline[i++]*scale+offsetX;cpy1=outline[i++]*scale+offsetY;path.quadraticCurveTo(cpx1,cpy1,cpx,cpy);laste=pts[pts.length-1];if(laste){cpx0=laste.x;cpy0=laste.y;for(var i2=1;i2<=divisions;i2++){var t=i2/divisions;QuadraticBezier(t,cpx0,cpx1,cpx);QuadraticBezier(t,cpy0,cpy1,cpy);}}break;case'b':// bezierCurveTo\ncpx=outline[i++]*scale+offsetX;cpy=outline[i++]*scale+offsetY;cpx1=outline[i++]*scale+offsetX;cpy1=outline[i++]*scale+offsetY;cpx2=outline[i++]*scale+offsetX;cpy2=outline[i++]*scale+offsetY;path.bezierCurveTo(cpx1,cpy1,cpx2,cpy2,cpx,cpy);laste=pts[pts.length-1];if(laste){cpx0=laste.x;cpy0=laste.y;for(var i2=1;i2<=divisions;i2++){var t=i2/divisions;CubicBezier(t,cpx0,cpx1,cpx2,cpx);CubicBezier(t,cpy0,cpy1,cpy2,cpy);}}break;}}}return{offsetX:glyph.ha*scale,path:path};}//\nif(size===undefined)size=100;if(divisions===undefined)divisions=4;var data=this.data;var paths=createPaths(text);var shapes=[];for(var p=0,pl=paths.length;p<pl;p++){Array.prototype.push.apply(shapes,paths[p].toShapes());}return shapes;}});/**\n * @author mrdoob / http://mrdoob.com/\n */function FontLoader(manager){this.manager=manager!==undefined?manager:DefaultLoadingManager;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(FontLoader.prototype,{load:function load(url,onLoad,onProgress,onError){var scope=this;var loader=new FileLoader(this.manager);loader.load(url,function(text){var json;try{json=JSON.parse(text);}catch(e){console.warn('THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.');json=JSON.parse(text.substring(65,text.length-2));}var font=scope.parse(json);if(onLoad)onLoad(font);},onProgress,onError);},parse:function parse(json){return new Font(json);}});var context;var AudioContext={getContext:function getContext(){if(context===undefined){context=new(window.AudioContext||window.webkitAudioContext)();}return context;},setContext:function setContext(value){context=value;}};/**\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */function AudioLoader(manager){this.manager=manager!==undefined?manager:DefaultLoadingManager;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(AudioLoader.prototype,{load:function load(url,onLoad,onProgress,onError){var loader=new FileLoader(this.manager);loader.setResponseType('arraybuffer');loader.load(url,function(buffer){var context=AudioContext.getContext();context.decodeAudioData(buffer,function(audioBuffer){onLoad(audioBuffer);});},onProgress,onError);}});/**\n * @author mrdoob / http://mrdoob.com/\n */function StereoCamera(){this.type='StereoCamera';this.aspect=1;this.eyeSep=0.064;this.cameraL=new PerspectiveCamera();this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=false;this.cameraR=new PerspectiveCamera();this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=false;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(StereoCamera.prototype,{update:function(){var instance,focus,fov,aspect,near,far,zoom,eyeSep;var eyeRight=new Matrix4();var eyeLeft=new Matrix4();return function update(camera){var needsUpdate=instance!==this||focus!==camera.focus||fov!==camera.fov||aspect!==camera.aspect*this.aspect||near!==camera.near||far!==camera.far||zoom!==camera.zoom||eyeSep!==this.eyeSep;if(needsUpdate){instance=this;focus=camera.focus;fov=camera.fov;aspect=camera.aspect*this.aspect;near=camera.near;far=camera.far;zoom=camera.zoom;// Off-axis stereoscopic effect based on\n// http://paulbourke.net/stereographics/stereorender/\nvar projectionMatrix=camera.projectionMatrix.clone();eyeSep=this.eyeSep/2;var eyeSepOnProjection=eyeSep*near/focus;var ymax=near*Math.tan(_Math.DEG2RAD*fov*0.5)/zoom;var xmin,xmax;// translate xOffset\neyeLeft.elements[12]=-eyeSep;eyeRight.elements[12]=eyeSep;// for left eye\nxmin=-ymax*aspect+eyeSepOnProjection;xmax=ymax*aspect+eyeSepOnProjection;projectionMatrix.elements[0]=2*near/(xmax-xmin);projectionMatrix.elements[8]=(xmax+xmin)/(xmax-xmin);this.cameraL.projectionMatrix.copy(projectionMatrix);// for right eye\nxmin=-ymax*aspect-eyeSepOnProjection;xmax=ymax*aspect-eyeSepOnProjection;projectionMatrix.elements[0]=2*near/(xmax-xmin);projectionMatrix.elements[8]=(xmax+xmin)/(xmax-xmin);this.cameraR.projectionMatrix.copy(projectionMatrix);}this.cameraL.matrixWorld.copy(camera.matrixWorld).multiply(eyeLeft);this.cameraR.matrixWorld.copy(camera.matrixWorld).multiply(eyeRight);};}()});/**\n * Camera for rendering cube maps\n *\t- renders scene into axis-aligned cube\n *\n * @author alteredq / http://alteredqualia.com/\n */function CubeCamera(near,far,cubeResolution){Object3D.call(this);this.type='CubeCamera';var fov=90,aspect=1;var cameraPX=new PerspectiveCamera(fov,aspect,near,far);cameraPX.up.set(0,-1,0);cameraPX.lookAt(new Vector3(1,0,0));this.add(cameraPX);var cameraNX=new PerspectiveCamera(fov,aspect,near,far);cameraNX.up.set(0,-1,0);cameraNX.lookAt(new Vector3(-1,0,0));this.add(cameraNX);var cameraPY=new PerspectiveCamera(fov,aspect,near,far);cameraPY.up.set(0,0,1);cameraPY.lookAt(new Vector3(0,1,0));this.add(cameraPY);var cameraNY=new PerspectiveCamera(fov,aspect,near,far);cameraNY.up.set(0,0,-1);cameraNY.lookAt(new Vector3(0,-1,0));this.add(cameraNY);var cameraPZ=new PerspectiveCamera(fov,aspect,near,far);cameraPZ.up.set(0,-1,0);cameraPZ.lookAt(new Vector3(0,0,1));this.add(cameraPZ);var cameraNZ=new PerspectiveCamera(fov,aspect,near,far);cameraNZ.up.set(0,-1,0);cameraNZ.lookAt(new Vector3(0,0,-1));this.add(cameraNZ);var options={format:RGBFormat,magFilter:LinearFilter,minFilter:LinearFilter};this.renderTarget=new WebGLRenderTargetCube(cubeResolution,cubeResolution,options);this.renderTarget.texture.name=\"CubeCamera\";this.update=function(renderer,scene){if(this.parent===null)this.updateMatrixWorld();var renderTarget=this.renderTarget;var generateMipmaps=renderTarget.texture.generateMipmaps;renderTarget.texture.generateMipmaps=false;renderTarget.activeCubeFace=0;renderer.render(scene,cameraPX,renderTarget);renderTarget.activeCubeFace=1;renderer.render(scene,cameraNX,renderTarget);renderTarget.activeCubeFace=2;renderer.render(scene,cameraPY,renderTarget);renderTarget.activeCubeFace=3;renderer.render(scene,cameraNY,renderTarget);renderTarget.activeCubeFace=4;renderer.render(scene,cameraPZ,renderTarget);renderTarget.texture.generateMipmaps=generateMipmaps;renderTarget.activeCubeFace=5;renderer.render(scene,cameraNZ,renderTarget);renderer.setRenderTarget(null);};this.clear=function(renderer,color,depth,stencil){var renderTarget=this.renderTarget;for(var i=0;i<6;i++){renderTarget.activeCubeFace=i;renderer.setRenderTarget(renderTarget);renderer.clear(color,depth,stencil);}renderer.setRenderTarget(null);};}CubeCamera.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype);CubeCamera.prototype.constructor=CubeCamera;/**\n * @author mrdoob / http://mrdoob.com/\n */function AudioListener(){Object3D.call(this);this.type='AudioListener';this.context=AudioContext.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null;}AudioListener.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype),{constructor:AudioListener,getInput:function getInput(){return this.gain;},removeFilter:function removeFilter(){if(this.filter!==null){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination);this.gain.connect(this.context.destination);this.filter=null;}},getFilter:function getFilter(){return this.filter;},setFilter:function setFilter(value){if(this.filter!==null){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination);}else{this.gain.disconnect(this.context.destination);}this.filter=value;this.gain.connect(this.filter);this.filter.connect(this.context.destination);},getMasterVolume:function getMasterVolume(){return this.gain.gain.value;},setMasterVolume:function setMasterVolume(value){this.gain.gain.value=value;},updateMatrixWorld:function(){var position=new Vector3();var quaternion=new Quaternion();var scale=new Vector3();var orientation=new Vector3();return function updateMatrixWorld(force){Object3D.prototype.updateMatrixWorld.call(this,force);var listener=this.context.listener;var up=this.up;this.matrixWorld.decompose(position,quaternion,scale);orientation.set(0,0,-1).applyQuaternion(quaternion);if(listener.positionX){listener.positionX.setValueAtTime(position.x,this.context.currentTime);listener.positionY.setValueAtTime(position.y,this.context.currentTime);listener.positionZ.setValueAtTime(position.z,this.context.currentTime);listener.forwardX.setValueAtTime(orientation.x,this.context.currentTime);listener.forwardY.setValueAtTime(orientation.y,this.context.currentTime);listener.forwardZ.setValueAtTime(orientation.z,this.context.currentTime);listener.upX.setValueAtTime(up.x,this.context.currentTime);listener.upY.setValueAtTime(up.y,this.context.currentTime);listener.upZ.setValueAtTime(up.z,this.context.currentTime);}else{listener.setPosition(position.x,position.y,position.z);listener.setOrientation(orientation.x,orientation.y,orientation.z,up.x,up.y,up.z);}};}()});/**\n * @author mrdoob / http://mrdoob.com/\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */function Audio(listener){Object3D.call(this);this.type='Audio';this.context=listener.context;this.gain=this.context.createGain();this.gain.connect(listener.getInput());this.autoplay=false;this.buffer=null;this.loop=false;this.startTime=0;this.playbackRate=1;this.isPlaying=false;this.hasPlaybackControl=true;this.sourceType='empty';this.filters=[];}Audio.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype),{constructor:Audio,getOutput:function getOutput(){return this.gain;},setNodeSource:function setNodeSource(audioNode){this.hasPlaybackControl=false;this.sourceType='audioNode';this.source=audioNode;this.connect();return this;},setBuffer:function setBuffer(audioBuffer){this.buffer=audioBuffer;this.sourceType='buffer';if(this.autoplay)this.play();return this;},play:function play(){if(this.isPlaying===true){console.warn('THREE.Audio: Audio is already playing.');return;}if(this.hasPlaybackControl===false){console.warn('THREE.Audio: this Audio has no playback control.');return;}var source=this.context.createBufferSource();source.buffer=this.buffer;source.loop=this.loop;source.onended=this.onEnded.bind(this);source.playbackRate.setValueAtTime(this.playbackRate,this.startTime);source.start(0,this.startTime);this.isPlaying=true;this.source=source;return this.connect();},pause:function pause(){if(this.hasPlaybackControl===false){console.warn('THREE.Audio: this Audio has no playback control.');return;}this.source.stop();this.startTime=this.context.currentTime;this.isPlaying=false;return this;},stop:function stop(){if(this.hasPlaybackControl===false){console.warn('THREE.Audio: this Audio has no playback control.');return;}this.source.stop();this.startTime=0;this.isPlaying=false;return this;},connect:function connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var i=1,l=this.filters.length;i<l;i++){this.filters[i-1].connect(this.filters[i]);}this.filters[this.filters.length-1].connect(this.getOutput());}else{this.source.connect(this.getOutput());}return this;},disconnect:function disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var i=1,l=this.filters.length;i<l;i++){this.filters[i-1].disconnect(this.filters[i]);}this.filters[this.filters.length-1].disconnect(this.getOutput());}else{this.source.disconnect(this.getOutput());}return this;},getFilters:function getFilters(){return this.filters;},setFilters:function setFilters(value){if(!value)value=[];if(this.isPlaying===true){this.disconnect();this.filters=value;this.connect();}else{this.filters=value;}return this;},getFilter:function getFilter(){return this.getFilters()[0];},setFilter:function setFilter(filter){return this.setFilters(filter?[filter]:[]);},setPlaybackRate:function setPlaybackRate(value){if(this.hasPlaybackControl===false){console.warn('THREE.Audio: this Audio has no playback control.');return;}this.playbackRate=value;if(this.isPlaying===true){this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime);}return this;},getPlaybackRate:function getPlaybackRate(){return this.playbackRate;},onEnded:function onEnded(){this.isPlaying=false;},getLoop:function getLoop(){if(this.hasPlaybackControl===false){console.warn('THREE.Audio: this Audio has no playback control.');return false;}return this.loop;},setLoop:function setLoop(value){if(this.hasPlaybackControl===false){console.warn('THREE.Audio: this Audio has no playback control.');return;}this.loop=value;if(this.isPlaying===true){this.source.loop=this.loop;}return this;},getVolume:function getVolume(){return this.gain.gain.value;},setVolume:function setVolume(value){this.gain.gain.value=value;return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n */function PositionalAudio(listener){Audio.call(this,listener);this.panner=this.context.createPanner();this.panner.connect(this.gain);}PositionalAudio.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Audio.prototype),{constructor:PositionalAudio,getOutput:function getOutput(){return this.panner;},getRefDistance:function getRefDistance(){return this.panner.refDistance;},setRefDistance:function setRefDistance(value){this.panner.refDistance=value;},getRolloffFactor:function getRolloffFactor(){return this.panner.rolloffFactor;},setRolloffFactor:function setRolloffFactor(value){this.panner.rolloffFactor=value;},getDistanceModel:function getDistanceModel(){return this.panner.distanceModel;},setDistanceModel:function setDistanceModel(value){this.panner.distanceModel=value;},getMaxDistance:function getMaxDistance(){return this.panner.maxDistance;},setMaxDistance:function setMaxDistance(value){this.panner.maxDistance=value;},updateMatrixWorld:function(){var position=new Vector3();return function updateMatrixWorld(force){Object3D.prototype.updateMatrixWorld.call(this,force);position.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(position.x,position.y,position.z);};}()});/**\n * @author mrdoob / http://mrdoob.com/\n */function AudioAnalyser(audio,fftSize){this.analyser=audio.context.createAnalyser();this.analyser.fftSize=fftSize!==undefined?fftSize:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);audio.getOutput().connect(this.analyser);}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(AudioAnalyser.prototype,{getFrequencyData:function getFrequencyData(){this.analyser.getByteFrequencyData(this.data);return this.data;},getAverageFrequency:function getAverageFrequency(){var value=0,data=this.getFrequencyData();for(var i=0;i<data.length;i++){value+=data[i];}return value/data.length;}});/**\n *\n * Buffered scene graph property that allows weighted accumulation.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */function PropertyMixer(binding,typeName,valueSize){this.binding=binding;this.valueSize=valueSize;var bufferType=Float64Array,mixFunction;switch(typeName){case'quaternion':mixFunction=this._slerp;break;case'string':case'bool':bufferType=Array;mixFunction=this._select;break;default:mixFunction=this._lerp;}this.buffer=new bufferType(valueSize*4);// layout: [ incoming | accu0 | accu1 | orig ]\n//\n// interpolators can use .buffer as their .result\n// the data then goes to 'incoming'\n//\n// 'accu0' and 'accu1' are used frame-interleaved for\n// the cumulative result and are compared to detect\n// changes\n//\n// 'orig' stores the original state of the property\nthis._mixBufferRegion=mixFunction;this.cumulativeWeight=0;this.useCount=0;this.referenceCount=0;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(PropertyMixer.prototype,{// accumulate data in the 'incoming' region into 'accu<i>'\naccumulate:function accumulate(accuIndex,weight){// note: happily accumulating nothing when weight = 0, the caller knows\n// the weight and shouldn't have made the call in the first place\nvar buffer=this.buffer,stride=this.valueSize,offset=accuIndex*stride+stride,currentWeight=this.cumulativeWeight;if(currentWeight===0){// accuN := incoming * weight\nfor(var i=0;i!==stride;++i){buffer[offset+i]=buffer[i];}currentWeight=weight;}else{// accuN := accuN + incoming * weight\ncurrentWeight+=weight;var mix=weight/currentWeight;this._mixBufferRegion(buffer,offset,0,mix,stride);}this.cumulativeWeight=currentWeight;},// apply the state of 'accu<i>' to the binding when accus differ\napply:function apply(accuIndex){var stride=this.valueSize,buffer=this.buffer,offset=accuIndex*stride+stride,weight=this.cumulativeWeight,binding=this.binding;this.cumulativeWeight=0;if(weight<1){// accuN := accuN + original * ( 1 - cumulativeWeight )\nvar originalValueOffset=stride*3;this._mixBufferRegion(buffer,offset,originalValueOffset,1-weight,stride);}for(var i=stride,e=stride+stride;i!==e;++i){if(buffer[i]!==buffer[i+stride]){// value has changed -> update scene graph\nbinding.setValue(buffer,offset);break;}}},// remember the state of the bound property and copy it to both accus\nsaveOriginalState:function saveOriginalState(){var binding=this.binding;var buffer=this.buffer,stride=this.valueSize,originalValueOffset=stride*3;binding.getValue(buffer,originalValueOffset);// accu[0..1] := orig -- initially detect changes against the original\nfor(var i=stride,e=originalValueOffset;i!==e;++i){buffer[i]=buffer[originalValueOffset+i%stride];}this.cumulativeWeight=0;},// apply the state previously taken via 'saveOriginalState' to the binding\nrestoreOriginalState:function restoreOriginalState(){var originalValueOffset=this.valueSize*3;this.binding.setValue(this.buffer,originalValueOffset);},// mix functions\n_select:function _select(buffer,dstOffset,srcOffset,t,stride){if(t>=0.5){for(var i=0;i!==stride;++i){buffer[dstOffset+i]=buffer[srcOffset+i];}}},_slerp:function _slerp(buffer,dstOffset,srcOffset,t){Quaternion.slerpFlat(buffer,dstOffset,buffer,dstOffset,buffer,srcOffset,t);},_lerp:function _lerp(buffer,dstOffset,srcOffset,t,stride){var s=1-t;for(var i=0;i!==stride;++i){var j=dstOffset+i;buffer[j]=buffer[j]*s+buffer[srcOffset+i]*t;}}});/**\n *\n * A reference to a real property in the scene graph.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */function Composite(targetGroup,path,optionalParsedPath){var parsedPath=optionalParsedPath||PropertyBinding.parseTrackName(path);this._targetGroup=targetGroup;this._bindings=targetGroup.subscribe_(path,parsedPath);}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Composite.prototype,{getValue:function getValue(array,offset){this.bind();// bind all binding\nvar firstValidIndex=this._targetGroup.nCachedObjects_,binding=this._bindings[firstValidIndex];// and only call .getValue on the first\nif(binding!==undefined)binding.getValue(array,offset);},setValue:function setValue(array,offset){var bindings=this._bindings;for(var i=this._targetGroup.nCachedObjects_,n=bindings.length;i!==n;++i){bindings[i].setValue(array,offset);}},bind:function bind(){var bindings=this._bindings;for(var i=this._targetGroup.nCachedObjects_,n=bindings.length;i!==n;++i){bindings[i].bind();}},unbind:function unbind(){var bindings=this._bindings;for(var i=this._targetGroup.nCachedObjects_,n=bindings.length;i!==n;++i){bindings[i].unbind();}}});function PropertyBinding(rootNode,path,parsedPath){this.path=path;this.parsedPath=parsedPath||PropertyBinding.parseTrackName(path);this.node=PropertyBinding.findNode(rootNode,this.parsedPath.nodeName)||rootNode;this.rootNode=rootNode;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(PropertyBinding,{Composite:Composite,create:function create(root,path,parsedPath){if(!(root&&root.isAnimationObjectGroup)){return new PropertyBinding(root,path,parsedPath);}else{return new PropertyBinding.Composite(root,path,parsedPath);}},/**\n   * Replaces spaces with underscores and removes unsupported characters from\n   * node names, to ensure compatibility with parseTrackName().\n   *\n   * @param  {string} name Node name to be sanitized.\n   * @return {string}\n   */sanitizeNodeName:function sanitizeNodeName(name){return name.replace(/\\s/g,'_').replace(/[^\\w-]/g,'');},parseTrackName:function(){// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nvar directoryRe=/((?:[\\w-]+[\\/:])*)/;// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nvar nodeRe=/([\\w-\\.]+)?/;// Object on target node, and accessor. Name may contain only word\n// characters. Accessor may contain any character except closing bracket.\nvar objectRe=/(?:\\.([\\w-]+)(?:\\[(.+)\\])?)?/;// Property and accessor. May contain only word characters. Accessor may\n// contain any non-bracket characters.\nvar propertyRe=/\\.([\\w-]+)(?:\\[(.+)\\])?/;var trackRe=new RegExp(''+'^'+directoryRe.source+nodeRe.source+objectRe.source+propertyRe.source+'$');var supportedObjectNames=['material','materials','bones'];return function(trackName){var matches=trackRe.exec(trackName);if(!matches){throw new Error('PropertyBinding: Cannot parse trackName: '+trackName);}var results={// directoryName: matches[ 1 ], // (tschw) currently unused\nnodeName:matches[2],objectName:matches[3],objectIndex:matches[4],propertyName:matches[5],// required\npropertyIndex:matches[6]};var lastDot=results.nodeName&&results.nodeName.lastIndexOf('.');if(lastDot!==undefined&&lastDot!==-1){var objectName=results.nodeName.substring(lastDot+1);// Object names must be checked against a whitelist. Otherwise, there\n// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n// 'bar' could be the objectName, or part of a nodeName (which can\n// include '.' characters).\nif(supportedObjectNames.indexOf(objectName)!==-1){results.nodeName=results.nodeName.substring(0,lastDot);results.objectName=objectName;}}if(results.propertyName===null||results.propertyName.length===0){throw new Error('PropertyBinding: can not parse propertyName from trackName: '+trackName);}return results;};}(),findNode:function findNode(root,nodeName){if(!nodeName||nodeName===\"\"||nodeName===\"root\"||nodeName===\".\"||nodeName===-1||nodeName===root.name||nodeName===root.uuid){return root;}// search into skeleton bones.\nif(root.skeleton){var searchSkeleton=function searchSkeleton(skeleton){for(var i=0;i<skeleton.bones.length;i++){var bone=skeleton.bones[i];if(bone.name===nodeName){return bone;}}return null;};var bone=searchSkeleton(root.skeleton);if(bone){return bone;}}// search into node subtree.\nif(root.children){var searchNodeSubtree=function searchNodeSubtree(children){for(var i=0;i<children.length;i++){var childNode=children[i];if(childNode.name===nodeName||childNode.uuid===nodeName){return childNode;}var result=searchNodeSubtree(childNode.children);if(result)return result;}return null;};var subTreeNode=searchNodeSubtree(root.children);if(subTreeNode){return subTreeNode;}}return null;}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(PropertyBinding.prototype,{// prototype, continued\n// these are used to \"bind\" a nonexistent property\n_getValue_unavailable:function _getValue_unavailable(){},_setValue_unavailable:function _setValue_unavailable(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function getValue_direct(buffer,offset){buffer[offset]=this.node[this.propertyName];},function getValue_array(buffer,offset){var source=this.resolvedProperty;for(var i=0,n=source.length;i!==n;++i){buffer[offset++]=source[i];}},function getValue_arrayElement(buffer,offset){buffer[offset]=this.resolvedProperty[this.propertyIndex];},function getValue_toArray(buffer,offset){this.resolvedProperty.toArray(buffer,offset);}],SetterByBindingTypeAndVersioning:[[// Direct\nfunction setValue_direct(buffer,offset){this.node[this.propertyName]=buffer[offset];},function setValue_direct_setNeedsUpdate(buffer,offset){this.node[this.propertyName]=buffer[offset];this.targetObject.needsUpdate=true;},function setValue_direct_setMatrixWorldNeedsUpdate(buffer,offset){this.node[this.propertyName]=buffer[offset];this.targetObject.matrixWorldNeedsUpdate=true;}],[// EntireArray\nfunction setValue_array(buffer,offset){var dest=this.resolvedProperty;for(var i=0,n=dest.length;i!==n;++i){dest[i]=buffer[offset++];}},function setValue_array_setNeedsUpdate(buffer,offset){var dest=this.resolvedProperty;for(var i=0,n=dest.length;i!==n;++i){dest[i]=buffer[offset++];}this.targetObject.needsUpdate=true;},function setValue_array_setMatrixWorldNeedsUpdate(buffer,offset){var dest=this.resolvedProperty;for(var i=0,n=dest.length;i!==n;++i){dest[i]=buffer[offset++];}this.targetObject.matrixWorldNeedsUpdate=true;}],[// ArrayElement\nfunction setValue_arrayElement(buffer,offset){this.resolvedProperty[this.propertyIndex]=buffer[offset];},function setValue_arrayElement_setNeedsUpdate(buffer,offset){this.resolvedProperty[this.propertyIndex]=buffer[offset];this.targetObject.needsUpdate=true;},function setValue_arrayElement_setMatrixWorldNeedsUpdate(buffer,offset){this.resolvedProperty[this.propertyIndex]=buffer[offset];this.targetObject.matrixWorldNeedsUpdate=true;}],[// HasToFromArray\nfunction setValue_fromArray(buffer,offset){this.resolvedProperty.fromArray(buffer,offset);},function setValue_fromArray_setNeedsUpdate(buffer,offset){this.resolvedProperty.fromArray(buffer,offset);this.targetObject.needsUpdate=true;},function setValue_fromArray_setMatrixWorldNeedsUpdate(buffer,offset){this.resolvedProperty.fromArray(buffer,offset);this.targetObject.matrixWorldNeedsUpdate=true;}]],getValue:function getValue_unbound(targetArray,offset){this.bind();this.getValue(targetArray,offset);// Note: This class uses a State pattern on a per-method basis:\n// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n// prototype version of these methods with one that represents\n// the bound state. When the property is not found, the methods\n// become no-ops.\n},setValue:function getValue_unbound(sourceArray,offset){this.bind();this.setValue(sourceArray,offset);},// create getter / setter pair for a property in the scene graph\nbind:function bind(){var targetObject=this.node,parsedPath=this.parsedPath,objectName=parsedPath.objectName,propertyName=parsedPath.propertyName,propertyIndex=parsedPath.propertyIndex;if(!targetObject){targetObject=PropertyBinding.findNode(this.rootNode,parsedPath.nodeName)||this.rootNode;this.node=targetObject;}// set fail state so we can just 'return' on error\nthis.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;// ensure there is a value node\nif(!targetObject){console.error('THREE.PropertyBinding: Trying to update node for track: '+this.path+' but it wasn\\'t found.');return;}if(objectName){var objectIndex=parsedPath.objectIndex;// special cases were we need to reach deeper into the hierarchy to get the face materials....\nswitch(objectName){case'materials':if(!targetObject.material){console.error('THREE.PropertyBinding: Can not bind to material as node does not have a material.',this);return;}if(!targetObject.material.materials){console.error('THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.',this);return;}targetObject=targetObject.material.materials;break;case'bones':if(!targetObject.skeleton){console.error('THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.',this);return;}// potential future optimization: skip this if propertyIndex is already an integer\n// and convert the integer string to a true integer.\ntargetObject=targetObject.skeleton.bones;// support resolving morphTarget names into indices.\nfor(var i=0;i<targetObject.length;i++){if(targetObject[i].name===objectIndex){objectIndex=i;break;}}break;default:if(targetObject[objectName]===undefined){console.error('THREE.PropertyBinding: Can not bind to objectName of node undefined.',this);return;}targetObject=targetObject[objectName];}if(objectIndex!==undefined){if(targetObject[objectIndex]===undefined){console.error('THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.',this,targetObject);return;}targetObject=targetObject[objectIndex];}}// resolve property\nvar nodeProperty=targetObject[propertyName];if(nodeProperty===undefined){var nodeName=parsedPath.nodeName;console.error('THREE.PropertyBinding: Trying to update property for track: '+nodeName+'.'+propertyName+' but it wasn\\'t found.',targetObject);return;}// determine versioning scheme\nvar versioning=this.Versioning.None;if(targetObject.needsUpdate!==undefined){// material\nversioning=this.Versioning.NeedsUpdate;this.targetObject=targetObject;}else if(targetObject.matrixWorldNeedsUpdate!==undefined){// node transform\nversioning=this.Versioning.MatrixWorldNeedsUpdate;this.targetObject=targetObject;}// determine how the property gets bound\nvar bindingType=this.BindingType.Direct;if(propertyIndex!==undefined){// access a sub element of the property array (only primitives are supported right now)\nif(propertyName===\"morphTargetInfluences\"){// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n// support resolving morphTarget names into indices.\nif(!targetObject.geometry){console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.',this);return;}if(targetObject.geometry.isBufferGeometry){if(!targetObject.geometry.morphAttributes){console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.',this);return;}for(var i=0;i<this.node.geometry.morphAttributes.position.length;i++){if(targetObject.geometry.morphAttributes.position[i].name===propertyIndex){propertyIndex=i;break;}}}else{if(!targetObject.geometry.morphTargets){console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.',this);return;}for(var i=0;i<this.node.geometry.morphTargets.length;i++){if(targetObject.geometry.morphTargets[i].name===propertyIndex){propertyIndex=i;break;}}}}bindingType=this.BindingType.ArrayElement;this.resolvedProperty=nodeProperty;this.propertyIndex=propertyIndex;}else if(nodeProperty.fromArray!==undefined&&nodeProperty.toArray!==undefined){// must use copy for Object3D.Euler/Quaternion\nbindingType=this.BindingType.HasFromToArray;this.resolvedProperty=nodeProperty;}else if(Array.isArray(nodeProperty)){bindingType=this.BindingType.EntireArray;this.resolvedProperty=nodeProperty;}else{this.propertyName=propertyName;}// select getter / setter\nthis.getValue=this.GetterByBindingType[bindingType];this.setValue=this.SetterByBindingTypeAndVersioning[bindingType][versioning];},unbind:function unbind(){this.node=null;// back to the prototype version of getValue / setValue\n// note: avoiding to mutate the shape of 'this' via 'delete'\nthis.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound;}});//!\\ DECLARE ALIAS AFTER assign prototype !\n__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(PropertyBinding.prototype,{// initial state of these methods that calls 'bind'\n_getValue_unbound:PropertyBinding.prototype.getValue,_setValue_unbound:PropertyBinding.prototype.setValue});/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n * \t-\tAdd objects you would otherwise pass as 'root' to the\n * \t\tconstructor or the .clipAction method of AnimationMixer.\n *\n * \t-\tInstead pass this object as 'root'.\n *\n * \t-\tYou can also add and remove objects later when the mixer\n * \t\tis running.\n *\n * Note:\n *\n *  \tObjects of this class appear as one object to the mixer,\n *  \tso cache control of the individual objects must be done\n *  \ton the group.\n *\n * Limitation:\n *\n * \t- \tThe animated properties must be compatible among the\n * \t\tall objects in the group.\n *\n *  -\tA single property can either be controlled through a\n *  \ttarget group or directly, but not both.\n *\n * @author tschw\n */function AnimationObjectGroup(var_args){this.uuid=_Math.generateUUID();// cached objects followed by the active ones\nthis._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;// threshold\n// note: read by PropertyBinding.Composite\nvar indices={};this._indicesByUUID=indices;// for bookkeeping\nfor(var i=0,n=arguments.length;i!==n;++i){indices[arguments[i].uuid]=i;}this._paths=[];// inside: string\nthis._parsedPaths=[];// inside: { we don't care, here }\nthis._bindings=[];// inside: Array< PropertyBinding >\nthis._bindingsIndicesByPath={};// inside: indices in these arrays\nvar scope=this;this.stats={objects:{get total(){return scope._objects.length;},get inUse(){return this.total-scope.nCachedObjects_;}},get bindingsPerObject(){return scope._bindings.length;}};}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(AnimationObjectGroup.prototype,{isAnimationObjectGroup:true,add:function add(var_args){var objects=this._objects,nObjects=objects.length,nCachedObjects=this.nCachedObjects_,indicesByUUID=this._indicesByUUID,paths=this._paths,parsedPaths=this._parsedPaths,bindings=this._bindings,nBindings=bindings.length;for(var i=0,n=arguments.length;i!==n;++i){var object=arguments[i],uuid=object.uuid,index=indicesByUUID[uuid],knownObject=undefined;if(index===undefined){// unknown object -> add it to the ACTIVE region\nindex=nObjects++;indicesByUUID[uuid]=index;objects.push(object);// accounting is done, now do the same for all bindings\nfor(var j=0,m=nBindings;j!==m;++j){bindings[j].push(new PropertyBinding(object,paths[j],parsedPaths[j]));}}else if(index<nCachedObjects){knownObject=objects[index];// move existing object to the ACTIVE region\nvar firstActiveIndex=--nCachedObjects,lastCachedObject=objects[firstActiveIndex];indicesByUUID[lastCachedObject.uuid]=index;objects[index]=lastCachedObject;indicesByUUID[uuid]=firstActiveIndex;objects[firstActiveIndex]=object;// accounting is done, now do the same for all bindings\nfor(var j=0,m=nBindings;j!==m;++j){var bindingsForPath=bindings[j],lastCached=bindingsForPath[firstActiveIndex],binding=bindingsForPath[index];bindingsForPath[index]=lastCached;if(binding===undefined){// since we do not bother to create new bindings\n// for objects that are cached, the binding may\n// or may not exist\nbinding=new PropertyBinding(object,paths[j],parsedPaths[j]);}bindingsForPath[firstActiveIndex]=binding;}}else if(objects[index]!==knownObject){console.error('THREE.AnimationObjectGroup: Different objects with the same UUID '+'detected. Clean the caches or recreate your infrastructure when reloading scenes.');}// else the object is already where we want it to be\n}// for arguments\nthis.nCachedObjects_=nCachedObjects;},remove:function remove(var_args){var objects=this._objects,nCachedObjects=this.nCachedObjects_,indicesByUUID=this._indicesByUUID,bindings=this._bindings,nBindings=bindings.length;for(var i=0,n=arguments.length;i!==n;++i){var object=arguments[i],uuid=object.uuid,index=indicesByUUID[uuid];if(index!==undefined&&index>=nCachedObjects){// move existing object into the CACHED region\nvar lastCachedIndex=nCachedObjects++,firstActiveObject=objects[lastCachedIndex];indicesByUUID[firstActiveObject.uuid]=index;objects[index]=firstActiveObject;indicesByUUID[uuid]=lastCachedIndex;objects[lastCachedIndex]=object;// accounting is done, now do the same for all bindings\nfor(var j=0,m=nBindings;j!==m;++j){var bindingsForPath=bindings[j],firstActive=bindingsForPath[lastCachedIndex],binding=bindingsForPath[index];bindingsForPath[index]=firstActive;bindingsForPath[lastCachedIndex]=binding;}}}// for arguments\nthis.nCachedObjects_=nCachedObjects;},// remove & forget\nuncache:function uncache(var_args){var objects=this._objects,nObjects=objects.length,nCachedObjects=this.nCachedObjects_,indicesByUUID=this._indicesByUUID,bindings=this._bindings,nBindings=bindings.length;for(var i=0,n=arguments.length;i!==n;++i){var object=arguments[i],uuid=object.uuid,index=indicesByUUID[uuid];if(index!==undefined){delete indicesByUUID[uuid];if(index<nCachedObjects){// object is cached, shrink the CACHED region\nvar firstActiveIndex=--nCachedObjects,lastCachedObject=objects[firstActiveIndex],lastIndex=--nObjects,lastObject=objects[lastIndex];// last cached object takes this object's place\nindicesByUUID[lastCachedObject.uuid]=index;objects[index]=lastCachedObject;// last object goes to the activated slot and pop\nindicesByUUID[lastObject.uuid]=firstActiveIndex;objects[firstActiveIndex]=lastObject;objects.pop();// accounting is done, now do the same for all bindings\nfor(var j=0,m=nBindings;j!==m;++j){var bindingsForPath=bindings[j],lastCached=bindingsForPath[firstActiveIndex],last=bindingsForPath[lastIndex];bindingsForPath[index]=lastCached;bindingsForPath[firstActiveIndex]=last;bindingsForPath.pop();}}else{// object is active, just swap with the last and pop\nvar lastIndex=--nObjects,lastObject=objects[lastIndex];indicesByUUID[lastObject.uuid]=index;objects[index]=lastObject;objects.pop();// accounting is done, now do the same for all bindings\nfor(var j=0,m=nBindings;j!==m;++j){var bindingsForPath=bindings[j];bindingsForPath[index]=bindingsForPath[lastIndex];bindingsForPath.pop();}}// cached or active\n}// if object is known\n}// for arguments\nthis.nCachedObjects_=nCachedObjects;},// Internal interface used by befriended PropertyBinding.Composite:\nsubscribe_:function subscribe_(path,parsedPath){// returns an array of bindings for the given path that is changed\n// according to the contained objects in the group\nvar indicesByPath=this._bindingsIndicesByPath,index=indicesByPath[path],bindings=this._bindings;if(index!==undefined)return bindings[index];var paths=this._paths,parsedPaths=this._parsedPaths,objects=this._objects,nObjects=objects.length,nCachedObjects=this.nCachedObjects_,bindingsForPath=new Array(nObjects);index=bindings.length;indicesByPath[path]=index;paths.push(path);parsedPaths.push(parsedPath);bindings.push(bindingsForPath);for(var i=nCachedObjects,n=objects.length;i!==n;++i){var object=objects[i];bindingsForPath[i]=new PropertyBinding(object,path,parsedPath);}return bindingsForPath;},unsubscribe_:function unsubscribe_(path){// tells the group to forget about a property path and no longer\n// update the array previously obtained with 'subscribe_'\nvar indicesByPath=this._bindingsIndicesByPath,index=indicesByPath[path];if(index!==undefined){var paths=this._paths,parsedPaths=this._parsedPaths,bindings=this._bindings,lastBindingsIndex=bindings.length-1,lastBindings=bindings[lastBindingsIndex],lastBindingsPath=path[lastBindingsIndex];indicesByPath[lastBindingsPath]=index;bindings[index]=lastBindings;bindings.pop();parsedPaths[index]=parsedPaths[lastBindingsIndex];parsedPaths.pop();paths[index]=paths[lastBindingsIndex];paths.pop();}}});/**\n *\n * Action provided by AnimationMixer for scheduling clip playback on specific\n * objects.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n *\n */function AnimationAction(mixer,clip,localRoot){this._mixer=mixer;this._clip=clip;this._localRoot=localRoot||null;var tracks=clip.tracks,nTracks=tracks.length,interpolants=new Array(nTracks);var interpolantSettings={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(var i=0;i!==nTracks;++i){var interpolant=tracks[i].createInterpolant(null);interpolants[i]=interpolant;interpolant.settings=interpolantSettings;}this._interpolantSettings=interpolantSettings;this._interpolants=interpolants;// bound by the mixer\n// inside: PropertyMixer (managed by the mixer)\nthis._propertyBindings=new Array(nTracks);this._cacheIndex=null;// for the memory manager\nthis._byClipCacheIndex=null;// for the memory manager\nthis._timeScaleInterpolant=null;this._weightInterpolant=null;this.loop=LoopRepeat;this._loopCount=-1;// global mixer time when the action is to be started\n// it's set back to 'null' upon start of the action\nthis._startTime=null;// scaled local time of the action\n// gets clamped or wrapped to 0..clip.duration according to loop\nthis.time=0;this.timeScale=1;this._effectiveTimeScale=1;this.weight=1;this._effectiveWeight=1;this.repetitions=Infinity;// no. of repetitions when looping\nthis.paused=false;// true -> zero effective time scale\nthis.enabled=true;// false -> zero effective weight\nthis.clampWhenFinished=false;// keep feeding the last frame?\nthis.zeroSlopeAtStart=true;// for smooth interpolation w/o separate\nthis.zeroSlopeAtEnd=true;// clips for start, loop and end\n}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(AnimationAction.prototype,{// State & Scheduling\nplay:function play(){this._mixer._activateAction(this);return this;},stop:function stop(){this._mixer._deactivateAction(this);return this.reset();},reset:function reset(){this.paused=false;this.enabled=true;this.time=0;// restart clip\nthis._loopCount=-1;// forget previous loops\nthis._startTime=null;// forget scheduling\nreturn this.stopFading().stopWarping();},isRunning:function isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this);},// return true when play has been called\nisScheduled:function isScheduled(){return this._mixer._isActiveAction(this);},startAt:function startAt(time){this._startTime=time;return this;},setLoop:function setLoop(mode,repetitions){this.loop=mode;this.repetitions=repetitions;return this;},// Weight\n// set the weight stopping any scheduled fading\n// although .enabled = false yields an effective weight of zero, this\n// method does *not* change .enabled, because it would be confusing\nsetEffectiveWeight:function setEffectiveWeight(weight){this.weight=weight;// note: same logic as when updated at runtime\nthis._effectiveWeight=this.enabled?weight:0;return this.stopFading();},// return the weight considering fading and .enabled\ngetEffectiveWeight:function getEffectiveWeight(){return this._effectiveWeight;},fadeIn:function fadeIn(duration){return this._scheduleFading(duration,0,1);},fadeOut:function fadeOut(duration){return this._scheduleFading(duration,1,0);},crossFadeFrom:function crossFadeFrom(fadeOutAction,duration,warp){fadeOutAction.fadeOut(duration);this.fadeIn(duration);if(warp){var fadeInDuration=this._clip.duration,fadeOutDuration=fadeOutAction._clip.duration,startEndRatio=fadeOutDuration/fadeInDuration,endStartRatio=fadeInDuration/fadeOutDuration;fadeOutAction.warp(1.0,startEndRatio,duration);this.warp(endStartRatio,1.0,duration);}return this;},crossFadeTo:function crossFadeTo(fadeInAction,duration,warp){return fadeInAction.crossFadeFrom(this,duration,warp);},stopFading:function stopFading(){var weightInterpolant=this._weightInterpolant;if(weightInterpolant!==null){this._weightInterpolant=null;this._mixer._takeBackControlInterpolant(weightInterpolant);}return this;},// Time Scale Control\n// set the time scale stopping any scheduled warping\n// although .paused = true yields an effective time scale of zero, this\n// method does *not* change .paused, because it would be confusing\nsetEffectiveTimeScale:function setEffectiveTimeScale(timeScale){this.timeScale=timeScale;this._effectiveTimeScale=this.paused?0:timeScale;return this.stopWarping();},// return the time scale considering warping and .paused\ngetEffectiveTimeScale:function getEffectiveTimeScale(){return this._effectiveTimeScale;},setDuration:function setDuration(duration){this.timeScale=this._clip.duration/duration;return this.stopWarping();},syncWith:function syncWith(action){this.time=action.time;this.timeScale=action.timeScale;return this.stopWarping();},halt:function halt(duration){return this.warp(this._effectiveTimeScale,0,duration);},warp:function warp(startTimeScale,endTimeScale,duration){var mixer=this._mixer,now=mixer.time,interpolant=this._timeScaleInterpolant,timeScale=this.timeScale;if(interpolant===null){interpolant=mixer._lendControlInterpolant();this._timeScaleInterpolant=interpolant;}var times=interpolant.parameterPositions,values=interpolant.sampleValues;times[0]=now;times[1]=now+duration;values[0]=startTimeScale/timeScale;values[1]=endTimeScale/timeScale;return this;},stopWarping:function stopWarping(){var timeScaleInterpolant=this._timeScaleInterpolant;if(timeScaleInterpolant!==null){this._timeScaleInterpolant=null;this._mixer._takeBackControlInterpolant(timeScaleInterpolant);}return this;},// Object Accessors\ngetMixer:function getMixer(){return this._mixer;},getClip:function getClip(){return this._clip;},getRoot:function getRoot(){return this._localRoot||this._mixer._root;},// Interna\n_update:function _update(time,deltaTime,timeDirection,accuIndex){// called by the mixer\nif(!this.enabled){// call ._updateWeight() to update ._effectiveWeight\nthis._updateWeight(time);return;}var startTime=this._startTime;if(startTime!==null){// check for scheduled start of action\nvar timeRunning=(time-startTime)*timeDirection;if(timeRunning<0||timeDirection===0){return;// yet to come / don't decide when delta = 0\n}// start\nthis._startTime=null;// unschedule\ndeltaTime=timeDirection*timeRunning;}// apply time scale and advance time\ndeltaTime*=this._updateTimeScale(time);var clipTime=this._updateTime(deltaTime);// note: _updateTime may disable the action resulting in\n// an effective weight of 0\nvar weight=this._updateWeight(time);if(weight>0){var interpolants=this._interpolants;var propertyMixers=this._propertyBindings;for(var j=0,m=interpolants.length;j!==m;++j){interpolants[j].evaluate(clipTime);propertyMixers[j].accumulate(accuIndex,weight);}}},_updateWeight:function _updateWeight(time){var weight=0;if(this.enabled){weight=this.weight;var interpolant=this._weightInterpolant;if(interpolant!==null){var interpolantValue=interpolant.evaluate(time)[0];weight*=interpolantValue;if(time>interpolant.parameterPositions[1]){this.stopFading();if(interpolantValue===0){// faded out, disable\nthis.enabled=false;}}}}this._effectiveWeight=weight;return weight;},_updateTimeScale:function _updateTimeScale(time){var timeScale=0;if(!this.paused){timeScale=this.timeScale;var interpolant=this._timeScaleInterpolant;if(interpolant!==null){var interpolantValue=interpolant.evaluate(time)[0];timeScale*=interpolantValue;if(time>interpolant.parameterPositions[1]){this.stopWarping();if(timeScale===0){// motion has halted, pause\nthis.paused=true;}else{// warp done - apply final time scale\nthis.timeScale=timeScale;}}}}this._effectiveTimeScale=timeScale;return timeScale;},_updateTime:function _updateTime(deltaTime){var time=this.time+deltaTime;if(deltaTime===0)return time;var duration=this._clip.duration,loop=this.loop,loopCount=this._loopCount;if(loop===LoopOnce){if(loopCount===-1){// just started\nthis._loopCount=0;this._setEndings(true,true,false);}handle_stop:{if(time>=duration){time=duration;}else if(time<0){time=0;}else break handle_stop;if(this.clampWhenFinished)this.paused=true;else this.enabled=false;this._mixer.dispatchEvent({type:'finished',action:this,direction:deltaTime<0?-1:1});}}else{// repetitive Repeat or PingPong\nvar pingPong=loop===LoopPingPong;if(loopCount===-1){// just started\nif(deltaTime>=0){loopCount=0;this._setEndings(true,this.repetitions===0,pingPong);}else{// when looping in reverse direction, the initial\n// transition through zero counts as a repetition,\n// so leave loopCount at -1\nthis._setEndings(this.repetitions===0,true,pingPong);}}if(time>=duration||time<0){// wrap around\nvar loopDelta=Math.floor(time/duration);// signed\ntime-=duration*loopDelta;loopCount+=Math.abs(loopDelta);var pending=this.repetitions-loopCount;if(pending<0){// have to stop (switch state, clamp time, fire event)\nif(this.clampWhenFinished)this.paused=true;else this.enabled=false;time=deltaTime>0?duration:0;this._mixer.dispatchEvent({type:'finished',action:this,direction:deltaTime>0?1:-1});}else{// keep running\nif(pending===0){// entering the last round\nvar atStart=deltaTime<0;this._setEndings(atStart,!atStart,pingPong);}else{this._setEndings(false,false,pingPong);}this._loopCount=loopCount;this._mixer.dispatchEvent({type:'loop',action:this,loopDelta:loopDelta});}}if(pingPong&&(loopCount&1)===1){// invert time for the \"pong round\"\nthis.time=time;return duration-time;}}this.time=time;return time;},_setEndings:function _setEndings(atStart,atEnd,pingPong){var settings=this._interpolantSettings;if(pingPong){settings.endingStart=ZeroSlopeEnding;settings.endingEnd=ZeroSlopeEnding;}else{// assuming for LoopOnce atStart == atEnd == true\nif(atStart){settings.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding;}else{settings.endingStart=WrapAroundEnding;}if(atEnd){settings.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding;}else{settings.endingEnd=WrapAroundEnding;}}},_scheduleFading:function _scheduleFading(duration,weightNow,weightThen){var mixer=this._mixer,now=mixer.time,interpolant=this._weightInterpolant;if(interpolant===null){interpolant=mixer._lendControlInterpolant();this._weightInterpolant=interpolant;}var times=interpolant.parameterPositions,values=interpolant.sampleValues;times[0]=now;values[0]=weightNow;times[1]=now+duration;values[1]=weightThen;return this;}});/**\n *\n * Player for AnimationClips.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */function AnimationMixer(root){this._root=root;this._initMemoryManager();this._accuIndex=0;this.time=0;this.timeScale=1.0;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(AnimationMixer.prototype,EventDispatcher.prototype,{_bindAction:function _bindAction(action,prototypeAction){var root=action._localRoot||this._root,tracks=action._clip.tracks,nTracks=tracks.length,bindings=action._propertyBindings,interpolants=action._interpolants,rootUuid=root.uuid,bindingsByRoot=this._bindingsByRootAndName,bindingsByName=bindingsByRoot[rootUuid];if(bindingsByName===undefined){bindingsByName={};bindingsByRoot[rootUuid]=bindingsByName;}for(var i=0;i!==nTracks;++i){var track=tracks[i],trackName=track.name,binding=bindingsByName[trackName];if(binding!==undefined){bindings[i]=binding;}else{binding=bindings[i];if(binding!==undefined){// existing binding, make sure the cache knows\nif(binding._cacheIndex===null){++binding.referenceCount;this._addInactiveBinding(binding,rootUuid,trackName);}continue;}var path=prototypeAction&&prototypeAction._propertyBindings[i].binding.parsedPath;binding=new PropertyMixer(PropertyBinding.create(root,trackName,path),track.ValueTypeName,track.getValueSize());++binding.referenceCount;this._addInactiveBinding(binding,rootUuid,trackName);bindings[i]=binding;}interpolants[i].resultBuffer=binding.buffer;}},_activateAction:function _activateAction(action){if(!this._isActiveAction(action)){if(action._cacheIndex===null){// this action has been forgotten by the cache, but the user\n// appears to be still using it -> rebind\nvar rootUuid=(action._localRoot||this._root).uuid,clipUuid=action._clip.uuid,actionsForClip=this._actionsByClip[clipUuid];this._bindAction(action,actionsForClip&&actionsForClip.knownActions[0]);this._addInactiveAction(action,clipUuid,rootUuid);}var bindings=action._propertyBindings;// increment reference counts / sort out state\nfor(var i=0,n=bindings.length;i!==n;++i){var binding=bindings[i];if(binding.useCount++===0){this._lendBinding(binding);binding.saveOriginalState();}}this._lendAction(action);}},_deactivateAction:function _deactivateAction(action){if(this._isActiveAction(action)){var bindings=action._propertyBindings;// decrement reference counts / sort out state\nfor(var i=0,n=bindings.length;i!==n;++i){var binding=bindings[i];if(--binding.useCount===0){binding.restoreOriginalState();this._takeBackBinding(binding);}}this._takeBackAction(action);}},// Memory manager\n_initMemoryManager:function _initMemoryManager(){this._actions=[];// 'nActiveActions' followed by inactive ones\nthis._nActiveActions=0;this._actionsByClip={};// inside:\n// {\n// \t\tknownActions: Array< AnimationAction >\t- used as prototypes\n// \t\tactionByRoot: AnimationAction\t\t\t- lookup\n// }\nthis._bindings=[];// 'nActiveBindings' followed by inactive ones\nthis._nActiveBindings=0;this._bindingsByRootAndName={};// inside: Map< name, PropertyMixer >\nthis._controlInterpolants=[];// same game as above\nthis._nActiveControlInterpolants=0;var scope=this;this.stats={actions:{get total(){return scope._actions.length;},get inUse(){return scope._nActiveActions;}},bindings:{get total(){return scope._bindings.length;},get inUse(){return scope._nActiveBindings;}},controlInterpolants:{get total(){return scope._controlInterpolants.length;},get inUse(){return scope._nActiveControlInterpolants;}}};},// Memory management for AnimationAction objects\n_isActiveAction:function _isActiveAction(action){var index=action._cacheIndex;return index!==null&&index<this._nActiveActions;},_addInactiveAction:function _addInactiveAction(action,clipUuid,rootUuid){var actions=this._actions,actionsByClip=this._actionsByClip,actionsForClip=actionsByClip[clipUuid];if(actionsForClip===undefined){actionsForClip={knownActions:[action],actionByRoot:{}};action._byClipCacheIndex=0;actionsByClip[clipUuid]=actionsForClip;}else{var knownActions=actionsForClip.knownActions;action._byClipCacheIndex=knownActions.length;knownActions.push(action);}action._cacheIndex=actions.length;actions.push(action);actionsForClip.actionByRoot[rootUuid]=action;},_removeInactiveAction:function _removeInactiveAction(action){var actions=this._actions,lastInactiveAction=actions[actions.length-1],cacheIndex=action._cacheIndex;lastInactiveAction._cacheIndex=cacheIndex;actions[cacheIndex]=lastInactiveAction;actions.pop();action._cacheIndex=null;var clipUuid=action._clip.uuid,actionsByClip=this._actionsByClip,actionsForClip=actionsByClip[clipUuid],knownActionsForClip=actionsForClip.knownActions,lastKnownAction=knownActionsForClip[knownActionsForClip.length-1],byClipCacheIndex=action._byClipCacheIndex;lastKnownAction._byClipCacheIndex=byClipCacheIndex;knownActionsForClip[byClipCacheIndex]=lastKnownAction;knownActionsForClip.pop();action._byClipCacheIndex=null;var actionByRoot=actionsForClip.actionByRoot,rootUuid=(action._localRoot||this._root).uuid;delete actionByRoot[rootUuid];if(knownActionsForClip.length===0){delete actionsByClip[clipUuid];}this._removeInactiveBindingsForAction(action);},_removeInactiveBindingsForAction:function _removeInactiveBindingsForAction(action){var bindings=action._propertyBindings;for(var i=0,n=bindings.length;i!==n;++i){var binding=bindings[i];if(--binding.referenceCount===0){this._removeInactiveBinding(binding);}}},_lendAction:function _lendAction(action){// [ active actions |  inactive actions  ]\n// [  active actions >| inactive actions ]\n//                 s        a\n//                  <-swap->\n//                 a        s\nvar actions=this._actions,prevIndex=action._cacheIndex,lastActiveIndex=this._nActiveActions++,firstInactiveAction=actions[lastActiveIndex];action._cacheIndex=lastActiveIndex;actions[lastActiveIndex]=action;firstInactiveAction._cacheIndex=prevIndex;actions[prevIndex]=firstInactiveAction;},_takeBackAction:function _takeBackAction(action){// [  active actions  | inactive actions ]\n// [ active actions |< inactive actions  ]\n//        a        s\n//         <-swap->\n//        s        a\nvar actions=this._actions,prevIndex=action._cacheIndex,firstInactiveIndex=--this._nActiveActions,lastActiveAction=actions[firstInactiveIndex];action._cacheIndex=firstInactiveIndex;actions[firstInactiveIndex]=action;lastActiveAction._cacheIndex=prevIndex;actions[prevIndex]=lastActiveAction;},// Memory management for PropertyMixer objects\n_addInactiveBinding:function _addInactiveBinding(binding,rootUuid,trackName){var bindingsByRoot=this._bindingsByRootAndName,bindingByName=bindingsByRoot[rootUuid],bindings=this._bindings;if(bindingByName===undefined){bindingByName={};bindingsByRoot[rootUuid]=bindingByName;}bindingByName[trackName]=binding;binding._cacheIndex=bindings.length;bindings.push(binding);},_removeInactiveBinding:function _removeInactiveBinding(binding){var bindings=this._bindings,propBinding=binding.binding,rootUuid=propBinding.rootNode.uuid,trackName=propBinding.path,bindingsByRoot=this._bindingsByRootAndName,bindingByName=bindingsByRoot[rootUuid],lastInactiveBinding=bindings[bindings.length-1],cacheIndex=binding._cacheIndex;lastInactiveBinding._cacheIndex=cacheIndex;bindings[cacheIndex]=lastInactiveBinding;bindings.pop();delete bindingByName[trackName];remove_empty_map:{for(var _ in bindingByName){break remove_empty_map;}delete bindingsByRoot[rootUuid];}},_lendBinding:function _lendBinding(binding){var bindings=this._bindings,prevIndex=binding._cacheIndex,lastActiveIndex=this._nActiveBindings++,firstInactiveBinding=bindings[lastActiveIndex];binding._cacheIndex=lastActiveIndex;bindings[lastActiveIndex]=binding;firstInactiveBinding._cacheIndex=prevIndex;bindings[prevIndex]=firstInactiveBinding;},_takeBackBinding:function _takeBackBinding(binding){var bindings=this._bindings,prevIndex=binding._cacheIndex,firstInactiveIndex=--this._nActiveBindings,lastActiveBinding=bindings[firstInactiveIndex];binding._cacheIndex=firstInactiveIndex;bindings[firstInactiveIndex]=binding;lastActiveBinding._cacheIndex=prevIndex;bindings[prevIndex]=lastActiveBinding;},// Memory management of Interpolants for weight and time scale\n_lendControlInterpolant:function _lendControlInterpolant(){var interpolants=this._controlInterpolants,lastActiveIndex=this._nActiveControlInterpolants++,interpolant=interpolants[lastActiveIndex];if(interpolant===undefined){interpolant=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer);interpolant.__cacheIndex=lastActiveIndex;interpolants[lastActiveIndex]=interpolant;}return interpolant;},_takeBackControlInterpolant:function _takeBackControlInterpolant(interpolant){var interpolants=this._controlInterpolants,prevIndex=interpolant.__cacheIndex,firstInactiveIndex=--this._nActiveControlInterpolants,lastActiveInterpolant=interpolants[firstInactiveIndex];interpolant.__cacheIndex=firstInactiveIndex;interpolants[firstInactiveIndex]=interpolant;lastActiveInterpolant.__cacheIndex=prevIndex;interpolants[prevIndex]=lastActiveInterpolant;},_controlInterpolantsResultBuffer:new Float32Array(1),// return an action for a clip optionally using a custom root target\n// object (this method allocates a lot of dynamic memory in case a\n// previously unknown clip/root combination is specified)\nclipAction:function clipAction(clip,optionalRoot){var root=optionalRoot||this._root,rootUuid=root.uuid,clipObject=typeof clip==='string'?AnimationClip.findByName(root,clip):clip,clipUuid=clipObject!==null?clipObject.uuid:clip,actionsForClip=this._actionsByClip[clipUuid],prototypeAction=null;if(actionsForClip!==undefined){var existingAction=actionsForClip.actionByRoot[rootUuid];if(existingAction!==undefined){return existingAction;}// we know the clip, so we don't have to parse all\n// the bindings again but can just copy\nprototypeAction=actionsForClip.knownActions[0];// also, take the clip from the prototype action\nif(clipObject===null)clipObject=prototypeAction._clip;}// clip must be known when specified via string\nif(clipObject===null)return null;// allocate all resources required to run it\nvar newAction=new AnimationAction(this,clipObject,optionalRoot);this._bindAction(newAction,prototypeAction);// and make the action known to the memory manager\nthis._addInactiveAction(newAction,clipUuid,rootUuid);return newAction;},// get an existing action\nexistingAction:function existingAction(clip,optionalRoot){var root=optionalRoot||this._root,rootUuid=root.uuid,clipObject=typeof clip==='string'?AnimationClip.findByName(root,clip):clip,clipUuid=clipObject?clipObject.uuid:clip,actionsForClip=this._actionsByClip[clipUuid];if(actionsForClip!==undefined){return actionsForClip.actionByRoot[rootUuid]||null;}return null;},// deactivates all previously scheduled actions\nstopAllAction:function stopAllAction(){var actions=this._actions,nActions=this._nActiveActions,bindings=this._bindings,nBindings=this._nActiveBindings;this._nActiveActions=0;this._nActiveBindings=0;for(var i=0;i!==nActions;++i){actions[i].reset();}for(var i=0;i!==nBindings;++i){bindings[i].useCount=0;}return this;},// advance the time and update apply the animation\nupdate:function update(deltaTime){deltaTime*=this.timeScale;var actions=this._actions,nActions=this._nActiveActions,time=this.time+=deltaTime,timeDirection=__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_math_sign___default()(deltaTime),accuIndex=this._accuIndex^=1;// run active actions\nfor(var i=0;i!==nActions;++i){var action=actions[i];action._update(time,deltaTime,timeDirection,accuIndex);}// update scene graph\nvar bindings=this._bindings,nBindings=this._nActiveBindings;for(var i=0;i!==nBindings;++i){bindings[i].apply(accuIndex);}return this;},// return this mixer's root target object\ngetRoot:function getRoot(){return this._root;},// free all resources specific to a particular clip\nuncacheClip:function uncacheClip(clip){var actions=this._actions,clipUuid=clip.uuid,actionsByClip=this._actionsByClip,actionsForClip=actionsByClip[clipUuid];if(actionsForClip!==undefined){// note: just calling _removeInactiveAction would mess up the\n// iteration state and also require updating the state we can\n// just throw away\nvar actionsToRemove=actionsForClip.knownActions;for(var i=0,n=actionsToRemove.length;i!==n;++i){var action=actionsToRemove[i];this._deactivateAction(action);var cacheIndex=action._cacheIndex,lastInactiveAction=actions[actions.length-1];action._cacheIndex=null;action._byClipCacheIndex=null;lastInactiveAction._cacheIndex=cacheIndex;actions[cacheIndex]=lastInactiveAction;actions.pop();this._removeInactiveBindingsForAction(action);}delete actionsByClip[clipUuid];}},// free all resources specific to a particular root target object\nuncacheRoot:function uncacheRoot(root){var rootUuid=root.uuid,actionsByClip=this._actionsByClip;for(var clipUuid in actionsByClip){var actionByRoot=actionsByClip[clipUuid].actionByRoot,action=actionByRoot[rootUuid];if(action!==undefined){this._deactivateAction(action);this._removeInactiveAction(action);}}var bindingsByRoot=this._bindingsByRootAndName,bindingByName=bindingsByRoot[rootUuid];if(bindingByName!==undefined){for(var trackName in bindingByName){var binding=bindingByName[trackName];binding.restoreOriginalState();this._removeInactiveBinding(binding);}}},// remove a targeted clip from the cache\nuncacheAction:function uncacheAction(clip,optionalRoot){var action=this.existingAction(clip,optionalRoot);if(action!==null){this._deactivateAction(action);this._removeInactiveAction(action);}}});/**\n * @author mrdoob / http://mrdoob.com/\n */function Uniform(value){if(typeof value==='string'){console.warn('THREE.Uniform: Type parameter is no longer needed.');value=arguments[1];}this.value=value;}Uniform.prototype.clone=function(){return new Uniform(this.value.clone===undefined?this.value:this.value.clone());};/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */function InstancedBufferGeometry(){BufferGeometry.call(this);this.type='InstancedBufferGeometry';this.maxInstancedCount=undefined;}InstancedBufferGeometry.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferGeometry.prototype),{constructor:InstancedBufferGeometry,isInstancedBufferGeometry:true,addGroup:function addGroup(start,count,materialIndex){this.groups.push({start:start,count:count,materialIndex:materialIndex});},copy:function copy(source){var index=source.index;if(index!==null){this.setIndex(index.clone());}var attributes=source.attributes;for(var name in attributes){var attribute=attributes[name];this.addAttribute(name,attribute.clone());}var groups=source.groups;for(var i=0,l=groups.length;i<l;i++){var group=groups[i];this.addGroup(group.start,group.count,group.materialIndex);}return this;}});/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */function InterleavedBufferAttribute(interleavedBuffer,itemSize,offset,normalized){this.uuid=_Math.generateUUID();this.data=interleavedBuffer;this.itemSize=itemSize;this.offset=offset;this.normalized=normalized===true;}__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(InterleavedBufferAttribute.prototype,{count:{get:function get(){return this.data.count;}},array:{get:function get(){return this.data.array;}}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(InterleavedBufferAttribute.prototype,{isInterleavedBufferAttribute:true,setX:function setX(index,x){this.data.array[index*this.data.stride+this.offset]=x;return this;},setY:function setY(index,y){this.data.array[index*this.data.stride+this.offset+1]=y;return this;},setZ:function setZ(index,z){this.data.array[index*this.data.stride+this.offset+2]=z;return this;},setW:function setW(index,w){this.data.array[index*this.data.stride+this.offset+3]=w;return this;},getX:function getX(index){return this.data.array[index*this.data.stride+this.offset];},getY:function getY(index){return this.data.array[index*this.data.stride+this.offset+1];},getZ:function getZ(index){return this.data.array[index*this.data.stride+this.offset+2];},getW:function getW(index){return this.data.array[index*this.data.stride+this.offset+3];},setXY:function setXY(index,x,y){index=index*this.data.stride+this.offset;this.data.array[index+0]=x;this.data.array[index+1]=y;return this;},setXYZ:function setXYZ(index,x,y,z){index=index*this.data.stride+this.offset;this.data.array[index+0]=x;this.data.array[index+1]=y;this.data.array[index+2]=z;return this;},setXYZW:function setXYZW(index,x,y,z,w){index=index*this.data.stride+this.offset;this.data.array[index+0]=x;this.data.array[index+1]=y;this.data.array[index+2]=z;this.data.array[index+3]=w;return this;}});/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */function InterleavedBuffer(array,stride){this.uuid=_Math.generateUUID();this.array=array;this.stride=stride;this.count=array!==undefined?array.length/stride:0;this.dynamic=false;this.updateRange={offset:0,count:-1};this.onUploadCallback=function(){};this.version=0;}Object.defineProperty(InterleavedBuffer.prototype,'needsUpdate',{set:function set(value){if(value===true)this.version++;}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(InterleavedBuffer.prototype,{isInterleavedBuffer:true,setArray:function setArray(array){if(Array.isArray(array)){throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');}this.count=array!==undefined?array.length/this.stride:0;this.array=array;},setDynamic:function setDynamic(value){this.dynamic=value;return this;},copy:function copy(source){this.array=new source.array.constructor(source.array);this.count=source.count;this.stride=source.stride;this.dynamic=source.dynamic;return this;},copyAt:function copyAt(index1,attribute,index2){index1*=this.stride;index2*=attribute.stride;for(var i=0,l=this.stride;i<l;i++){this.array[index1+i]=attribute.array[index2+i];}return this;},set:function set(value,offset){if(offset===undefined)offset=0;this.array.set(value,offset);return this;},clone:function clone(){return new this.constructor().copy(this);},onUpload:function onUpload(callback){this.onUploadCallback=callback;return this;}});/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */function InstancedInterleavedBuffer(array,stride,meshPerAttribute){InterleavedBuffer.call(this,array,stride);this.meshPerAttribute=meshPerAttribute||1;}InstancedInterleavedBuffer.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(InterleavedBuffer.prototype),{constructor:InstancedInterleavedBuffer,isInstancedInterleavedBuffer:true,copy:function copy(source){InterleavedBuffer.prototype.copy.call(this,source);this.meshPerAttribute=source.meshPerAttribute;return this;}});/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */function InstancedBufferAttribute(array,itemSize,meshPerAttribute){BufferAttribute.call(this,array,itemSize);this.meshPerAttribute=meshPerAttribute||1;}InstancedBufferAttribute.prototype=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(BufferAttribute.prototype),{constructor:InstancedBufferAttribute,isInstancedBufferAttribute:true,copy:function copy(source){BufferAttribute.prototype.copy.call(this,source);this.meshPerAttribute=source.meshPerAttribute;return this;}});/**\n * @author mrdoob / http://mrdoob.com/\n * @author bhouston / http://clara.io/\n * @author stephomi / http://stephaneginier.com/\n */function Raycaster(origin,direction,near,far){this.ray=new Ray(origin,direction);// direction is assumed to be normalized (for accurate distance calculations)\nthis.near=near||0;this.far=far||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(this.params,{PointCloud:{get:function get(){console.warn('THREE.Raycaster: params.PointCloud has been renamed to params.Points.');return this.Points;}}});}function ascSort(a,b){return a.distance-b.distance;}function _intersectObject(object,raycaster,intersects,recursive){if(object.visible===false)return;object.raycast(raycaster,intersects);if(recursive===true){var children=object.children;for(var i=0,l=children.length;i<l;i++){_intersectObject(children[i],raycaster,intersects,true);}}}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Raycaster.prototype,{linePrecision:1,set:function set(origin,direction){// direction is assumed to be normalized (for accurate distance calculations)\nthis.ray.set(origin,direction);},setFromCamera:function setFromCamera(coords,camera){if(camera&&camera.isPerspectiveCamera){this.ray.origin.setFromMatrixPosition(camera.matrixWorld);this.ray.direction.set(coords.x,coords.y,0.5).unproject(camera).sub(this.ray.origin).normalize();}else if(camera&&camera.isOrthographicCamera){this.ray.origin.set(coords.x,coords.y,(camera.near+camera.far)/(camera.near-camera.far)).unproject(camera);// set origin in plane of camera\nthis.ray.direction.set(0,0,-1).transformDirection(camera.matrixWorld);}else{console.error('THREE.Raycaster: Unsupported camera type.');}},intersectObject:function intersectObject(object,recursive){var intersects=[];_intersectObject(object,this,intersects,recursive);intersects.sort(ascSort);return intersects;},intersectObjects:function intersectObjects(objects,recursive){var intersects=[];if(Array.isArray(objects)===false){console.warn('THREE.Raycaster.intersectObjects: objects is not an Array.');return intersects;}for(var i=0,l=objects.length;i<l;i++){_intersectObject(objects[i],this,intersects,recursive);}intersects.sort(ascSort);return intersects;}});/**\n * @author alteredq / http://alteredqualia.com/\n */function Clock(autoStart){this.autoStart=autoStart!==undefined?autoStart:true;this.startTime=0;this.oldTime=0;this.elapsedTime=0;this.running=false;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Clock.prototype,{start:function start(){this.startTime=(typeof performance==='undefined'?Date:performance).now();// see #10732\nthis.oldTime=this.startTime;this.elapsedTime=0;this.running=true;},stop:function stop(){this.getElapsedTime();this.running=false;this.autoStart=false;},getElapsedTime:function getElapsedTime(){this.getDelta();return this.elapsedTime;},getDelta:function getDelta(){var diff=0;if(this.autoStart&&!this.running){this.start();return 0;}if(this.running){var newTime=(typeof performance==='undefined'?Date:performance).now();diff=(newTime-this.oldTime)/1000;this.oldTime=newTime;this.elapsedTime+=diff;}return diff;}});/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The poles (phi) are at the positive and negative y axis.\n * The equator starts at positive z.\n */function Spherical(radius,phi,theta){this.radius=radius!==undefined?radius:1.0;this.phi=phi!==undefined?phi:0;// up / down towards top and bottom pole\nthis.theta=theta!==undefined?theta:0;// around the equator of the sphere\nreturn this;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Spherical.prototype,{set:function set(radius,phi,theta){this.radius=radius;this.phi=phi;this.theta=theta;return this;},clone:function clone(){return new this.constructor().copy(this);},copy:function copy(other){this.radius=other.radius;this.phi=other.phi;this.theta=other.theta;return this;},// restrict phi to be betwee EPS and PI-EPS\nmakeSafe:function makeSafe(){var EPS=0.000001;this.phi=Math.max(EPS,Math.min(Math.PI-EPS,this.phi));return this;},setFromVector3:function setFromVector3(vec3){this.radius=vec3.length();if(this.radius===0){this.theta=0;this.phi=0;}else{this.theta=Math.atan2(vec3.x,vec3.z);// equator angle around y-up axis\nthis.phi=Math.acos(_Math.clamp(vec3.y/this.radius,-1,1));// polar angle\n}return this;}});/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n *\n */function Cylindrical(radius,theta,y){this.radius=radius!==undefined?radius:1.0;// distance from the origin to a point in the x-z plane\nthis.theta=theta!==undefined?theta:0;// counterclockwise angle in the x-z plane measured in radians from the positive z-axis\nthis.y=y!==undefined?y:0;// height above the x-z plane\nreturn this;}__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Cylindrical.prototype,{set:function set(radius,theta,y){this.radius=radius;this.theta=theta;this.y=y;return this;},clone:function clone(){return new this.constructor().copy(this);},copy:function copy(other){this.radius=other.radius;this.theta=other.theta;this.y=other.y;return this;},setFromVector3:function setFromVector3(vec3){this.radius=Math.sqrt(vec3.x*vec3.x+vec3.z*vec3.z);this.theta=Math.atan2(vec3.x,vec3.z);this.y=vec3.y;return this;}});/**\n * @author alteredq / http://alteredqualia.com/\n */function ImmediateRenderObject(material){Object3D.call(this);this.material=material;this.render=function(renderCallback){};}ImmediateRenderObject.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype);ImmediateRenderObject.prototype.constructor=ImmediateRenderObject;ImmediateRenderObject.prototype.isImmediateRenderObject=true;/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */function VertexNormalsHelper(object,size,hex,linewidth){this.object=object;this.size=size!==undefined?size:1;var color=hex!==undefined?hex:0xff0000;var width=linewidth!==undefined?linewidth:1;//\nvar nNormals=0;var objGeometry=this.object.geometry;if(objGeometry&&objGeometry.isGeometry){nNormals=objGeometry.faces.length*3;}else if(objGeometry&&objGeometry.isBufferGeometry){nNormals=objGeometry.attributes.normal.count;}//\nvar geometry=new BufferGeometry();var positions=new Float32BufferAttribute(nNormals*2*3,3);geometry.addAttribute('position',positions);LineSegments.call(this,geometry,new LineBasicMaterial({color:color,linewidth:width}));//\nthis.matrixAutoUpdate=false;this.update();}VertexNormalsHelper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(LineSegments.prototype);VertexNormalsHelper.prototype.constructor=VertexNormalsHelper;VertexNormalsHelper.prototype.update=function(){var v1=new Vector3();var v2=new Vector3();var normalMatrix=new Matrix3();return function update(){var keys=['a','b','c'];this.object.updateMatrixWorld(true);normalMatrix.getNormalMatrix(this.object.matrixWorld);var matrixWorld=this.object.matrixWorld;var position=this.geometry.attributes.position;//\nvar objGeometry=this.object.geometry;if(objGeometry&&objGeometry.isGeometry){var vertices=objGeometry.vertices;var faces=objGeometry.faces;var idx=0;for(var i=0,l=faces.length;i<l;i++){var face=faces[i];for(var j=0,jl=face.vertexNormals.length;j<jl;j++){var vertex=vertices[face[keys[j]]];var normal=face.vertexNormals[j];v1.copy(vertex).applyMatrix4(matrixWorld);v2.copy(normal).applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);position.setXYZ(idx,v1.x,v1.y,v1.z);idx=idx+1;position.setXYZ(idx,v2.x,v2.y,v2.z);idx=idx+1;}}}else if(objGeometry&&objGeometry.isBufferGeometry){var objPos=objGeometry.attributes.position;var objNorm=objGeometry.attributes.normal;var idx=0;// for simplicity, ignore index and drawcalls, and render every normal\nfor(var j=0,jl=objPos.count;j<jl;j++){v1.set(objPos.getX(j),objPos.getY(j),objPos.getZ(j)).applyMatrix4(matrixWorld);v2.set(objNorm.getX(j),objNorm.getY(j),objNorm.getZ(j));v2.applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);position.setXYZ(idx,v1.x,v1.y,v1.z);idx=idx+1;position.setXYZ(idx,v2.x,v2.y,v2.z);idx=idx+1;}}position.needsUpdate=true;};}();/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */function SpotLightHelper(light,color){Object3D.call(this);this.light=light;this.light.updateMatrixWorld();this.matrix=light.matrixWorld;this.matrixAutoUpdate=false;this.color=color;var geometry=new BufferGeometry();var positions=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var i=0,j=1,l=32;i<l;i++,j++){var p1=i/l*Math.PI*2;var p2=j/l*Math.PI*2;positions.push(Math.cos(p1),Math.sin(p1),1,Math.cos(p2),Math.sin(p2),1);}geometry.addAttribute('position',new Float32BufferAttribute(positions,3));var material=new LineBasicMaterial({fog:false});this.cone=new LineSegments(geometry,material);this.add(this.cone);this.update();}SpotLightHelper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype);SpotLightHelper.prototype.constructor=SpotLightHelper;SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose();};SpotLightHelper.prototype.update=function(){var vector=new Vector3();var vector2=new Vector3();return function update(){this.light.updateMatrixWorld();var coneLength=this.light.distance?this.light.distance:1000;var coneWidth=coneLength*Math.tan(this.light.angle);this.cone.scale.set(coneWidth,coneWidth,coneLength);vector.setFromMatrixPosition(this.light.matrixWorld);vector2.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(vector2.sub(vector));if(this.color!==undefined){this.cone.material.color.set(this.color);}else{this.cone.material.color.copy(this.light.color);}};}();/**\n * @author Sean Griffin / http://twitter.com/sgrif\n * @author Michael Guerrero / http://realitymeltdown.com\n * @author mrdoob / http://mrdoob.com/\n * @author ikerr / http://verold.com\n * @author Mugen87 / https://github.com/Mugen87\n */function getBoneList(object){var boneList=[];if(object&&object.isBone){boneList.push(object);}for(var i=0;i<object.children.length;i++){boneList.push.apply(boneList,getBoneList(object.children[i]));}return boneList;}function SkeletonHelper(object){var bones=getBoneList(object);var geometry=new BufferGeometry();var vertices=[];var colors=[];var color1=new Color(0,0,1);var color2=new Color(0,1,0);for(var i=0;i<bones.length;i++){var bone=bones[i];if(bone.parent&&bone.parent.isBone){vertices.push(0,0,0);vertices.push(0,0,0);colors.push(color1.r,color1.g,color1.b);colors.push(color2.r,color2.g,color2.b);}}geometry.addAttribute('position',new Float32BufferAttribute(vertices,3));geometry.addAttribute('color',new Float32BufferAttribute(colors,3));var material=new LineBasicMaterial({vertexColors:VertexColors,depthTest:false,depthWrite:false,transparent:true});LineSegments.call(this,geometry,material);this.root=object;this.bones=bones;this.matrix=object.matrixWorld;this.matrixAutoUpdate=false;this.onBeforeRender();}SkeletonHelper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(LineSegments.prototype);SkeletonHelper.prototype.constructor=SkeletonHelper;SkeletonHelper.prototype.onBeforeRender=function(){var vector=new Vector3();var boneMatrix=new Matrix4();var matrixWorldInv=new Matrix4();return function onBeforeRender(){var bones=this.bones;var geometry=this.geometry;var position=geometry.getAttribute('position');matrixWorldInv.getInverse(this.root.matrixWorld);for(var i=0,j=0;i<bones.length;i++){var bone=bones[i];if(bone.parent&&bone.parent.isBone){boneMatrix.multiplyMatrices(matrixWorldInv,bone.matrixWorld);vector.setFromMatrixPosition(boneMatrix);position.setXYZ(j,vector.x,vector.y,vector.z);boneMatrix.multiplyMatrices(matrixWorldInv,bone.parent.matrixWorld);vector.setFromMatrixPosition(boneMatrix);position.setXYZ(j+1,vector.x,vector.y,vector.z);j+=2;}}geometry.getAttribute('position').needsUpdate=true;};}();/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */function PointLightHelper(light,sphereSize,color){this.light=light;this.light.updateMatrixWorld();this.color=color;var geometry=new SphereBufferGeometry(sphereSize,4,2);var material=new MeshBasicMaterial({wireframe:true,fog:false});Mesh.call(this,geometry,material);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=false;this.update();/*\n   var distanceGeometry = new THREE.IcosahedronGeometry( 1, 2 );\n   var distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n   this.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n   this.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n   var d = light.distance;\n\n   if ( d === 0.0 ) {\n\n   this.lightDistance.visible = false;\n\n   } else {\n\n   this.lightDistance.scale.set( d, d, d );\n\n   }\n\n   this.add( this.lightDistance );\n   */}PointLightHelper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Mesh.prototype);PointLightHelper.prototype.constructor=PointLightHelper;PointLightHelper.prototype.dispose=function(){this.geometry.dispose();this.material.dispose();};PointLightHelper.prototype.update=function(){if(this.color!==undefined){this.material.color.set(this.color);}else{this.material.color.copy(this.light.color);}/*\n   var d = this.light.distance;\n\n   if ( d === 0.0 ) {\n\n   this.lightDistance.visible = false;\n\n   } else {\n\n   this.lightDistance.visible = true;\n   this.lightDistance.scale.set( d, d, d );\n\n   }\n   */};/**\n * @author abelnation / http://github.com/abelnation\n * @author Mugen87 / http://github.com/Mugen87\n * @author WestLangley / http://github.com/WestLangley\n */function RectAreaLightHelper(light,color){Object3D.call(this);this.light=light;this.light.updateMatrixWorld();this.matrix=light.matrixWorld;this.matrixAutoUpdate=false;this.color=color;var material=new LineBasicMaterial({fog:false});var geometry=new BufferGeometry();geometry.addAttribute('position',new BufferAttribute(new Float32Array(5*3),3));this.line=new Line(geometry,material);this.add(this.line);this.update();}RectAreaLightHelper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype);RectAreaLightHelper.prototype.constructor=RectAreaLightHelper;RectAreaLightHelper.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose();};RectAreaLightHelper.prototype.update=function(){// calculate new dimensions of the helper\nvar hx=this.light.width*0.5;var hy=this.light.height*0.5;var position=this.line.geometry.attributes.position;var array=position.array;// update vertices\narray[0]=hx;array[1]=-hy;array[2]=0;array[3]=hx;array[4]=hy;array[5]=0;array[6]=-hx;array[7]=hy;array[8]=0;array[9]=-hx;array[10]=-hy;array[11]=0;array[12]=hx;array[13]=-hy;array[14]=0;position.needsUpdate=true;if(this.color!==undefined){this.line.material.color.set(this.color);}else{this.line.material.color.copy(this.light.color);}};/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */function HemisphereLightHelper(light,size,color){Object3D.call(this);this.light=light;this.light.updateMatrixWorld();this.matrix=light.matrixWorld;this.matrixAutoUpdate=false;this.color=color;var geometry=new OctahedronBufferGeometry(size);geometry.rotateY(Math.PI*0.5);this.material=new MeshBasicMaterial({wireframe:true,fog:false});if(this.color===undefined)this.material.vertexColors=VertexColors;var position=geometry.getAttribute('position');var colors=new Float32Array(position.count*3);geometry.addAttribute('color',new BufferAttribute(colors,3));this.add(new Mesh(geometry,this.material));this.update();}HemisphereLightHelper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype);HemisphereLightHelper.prototype.constructor=HemisphereLightHelper;HemisphereLightHelper.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose();};HemisphereLightHelper.prototype.update=function(){var vector=new Vector3();var color1=new Color();var color2=new Color();return function update(){var mesh=this.children[0];if(this.color!==undefined){this.material.color.set(this.color);}else{var colors=mesh.geometry.getAttribute('color');color1.copy(this.light.color);color2.copy(this.light.groundColor);for(var i=0,l=colors.count;i<l;i++){var color=i<l/2?color1:color2;colors.setXYZ(i,color.r,color.g,color.b);}colors.needsUpdate=true;}mesh.lookAt(vector.setFromMatrixPosition(this.light.matrixWorld).negate());};}();/**\n * @author mrdoob / http://mrdoob.com/\n */function GridHelper(size,divisions,color1,color2){size=size||10;divisions=divisions||10;color1=new Color(color1!==undefined?color1:0x444444);color2=new Color(color2!==undefined?color2:0x888888);var center=divisions/2;var step=size/divisions;var halfSize=size/2;var vertices=[],colors=[];for(var i=0,j=0,k=-halfSize;i<=divisions;i++,k+=step){vertices.push(-halfSize,0,k,halfSize,0,k);vertices.push(k,0,-halfSize,k,0,halfSize);var color=i===center?color1:color2;color.toArray(colors,j);j+=3;color.toArray(colors,j);j+=3;color.toArray(colors,j);j+=3;color.toArray(colors,j);j+=3;}var geometry=new BufferGeometry();geometry.addAttribute('position',new Float32BufferAttribute(vertices,3));geometry.addAttribute('color',new Float32BufferAttribute(colors,3));var material=new LineBasicMaterial({vertexColors:VertexColors});LineSegments.call(this,geometry,material);}GridHelper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(LineSegments.prototype);GridHelper.prototype.constructor=GridHelper;/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n * @author Hectate / http://www.github.com/Hectate\n */function PolarGridHelper(radius,radials,circles,divisions,color1,color2){radius=radius||10;radials=radials||16;circles=circles||8;divisions=divisions||64;color1=new Color(color1!==undefined?color1:0x444444);color2=new Color(color2!==undefined?color2:0x888888);var vertices=[];var colors=[];var x,z;var v,i,j,r,color;// create the radials\nfor(i=0;i<=radials;i++){v=i/radials*(Math.PI*2);x=Math.sin(v)*radius;z=Math.cos(v)*radius;vertices.push(0,0,0);vertices.push(x,0,z);color=i&1?color1:color2;colors.push(color.r,color.g,color.b);colors.push(color.r,color.g,color.b);}// create the circles\nfor(i=0;i<=circles;i++){color=i&1?color1:color2;r=radius-radius/circles*i;for(j=0;j<divisions;j++){// first vertex\nv=j/divisions*(Math.PI*2);x=Math.sin(v)*r;z=Math.cos(v)*r;vertices.push(x,0,z);colors.push(color.r,color.g,color.b);// second vertex\nv=(j+1)/divisions*(Math.PI*2);x=Math.sin(v)*r;z=Math.cos(v)*r;vertices.push(x,0,z);colors.push(color.r,color.g,color.b);}}var geometry=new BufferGeometry();geometry.addAttribute('position',new Float32BufferAttribute(vertices,3));geometry.addAttribute('color',new Float32BufferAttribute(colors,3));var material=new LineBasicMaterial({vertexColors:VertexColors});LineSegments.call(this,geometry,material);}PolarGridHelper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(LineSegments.prototype);PolarGridHelper.prototype.constructor=PolarGridHelper;/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */function FaceNormalsHelper(object,size,hex,linewidth){// FaceNormalsHelper only supports THREE.Geometry\nthis.object=object;this.size=size!==undefined?size:1;var color=hex!==undefined?hex:0xffff00;var width=linewidth!==undefined?linewidth:1;//\nvar nNormals=0;var objGeometry=this.object.geometry;if(objGeometry&&objGeometry.isGeometry){nNormals=objGeometry.faces.length;}else{console.warn('THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.');}//\nvar geometry=new BufferGeometry();var positions=new Float32BufferAttribute(nNormals*2*3,3);geometry.addAttribute('position',positions);LineSegments.call(this,geometry,new LineBasicMaterial({color:color,linewidth:width}));//\nthis.matrixAutoUpdate=false;this.update();}FaceNormalsHelper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(LineSegments.prototype);FaceNormalsHelper.prototype.constructor=FaceNormalsHelper;FaceNormalsHelper.prototype.update=function(){var v1=new Vector3();var v2=new Vector3();var normalMatrix=new Matrix3();return function update(){this.object.updateMatrixWorld(true);normalMatrix.getNormalMatrix(this.object.matrixWorld);var matrixWorld=this.object.matrixWorld;var position=this.geometry.attributes.position;//\nvar objGeometry=this.object.geometry;var vertices=objGeometry.vertices;var faces=objGeometry.faces;var idx=0;for(var i=0,l=faces.length;i<l;i++){var face=faces[i];var normal=face.normal;v1.copy(vertices[face.a]).add(vertices[face.b]).add(vertices[face.c]).divideScalar(3).applyMatrix4(matrixWorld);v2.copy(normal).applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);position.setXYZ(idx,v1.x,v1.y,v1.z);idx=idx+1;position.setXYZ(idx,v2.x,v2.y,v2.z);idx=idx+1;}position.needsUpdate=true;};}();/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */function DirectionalLightHelper(light,size,color){Object3D.call(this);this.light=light;this.light.updateMatrixWorld();this.matrix=light.matrixWorld;this.matrixAutoUpdate=false;this.color=color;if(size===undefined)size=1;var geometry=new BufferGeometry();geometry.addAttribute('position',new Float32BufferAttribute([-size,size,0,size,size,0,size,-size,0,-size,-size,0,-size,size,0],3));var material=new LineBasicMaterial({fog:false});this.lightPlane=new Line(geometry,material);this.add(this.lightPlane);geometry=new BufferGeometry();geometry.addAttribute('position',new Float32BufferAttribute([0,0,0,0,0,1],3));this.targetLine=new Line(geometry,material);this.add(this.targetLine);this.update();}DirectionalLightHelper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype);DirectionalLightHelper.prototype.constructor=DirectionalLightHelper;DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose();};DirectionalLightHelper.prototype.update=function(){var v1=new Vector3();var v2=new Vector3();var v3=new Vector3();return function update(){v1.setFromMatrixPosition(this.light.matrixWorld);v2.setFromMatrixPosition(this.light.target.matrixWorld);v3.subVectors(v2,v1);this.lightPlane.lookAt(v3);if(this.color!==undefined){this.lightPlane.material.color.set(this.color);this.targetLine.material.color.set(this.color);}else{this.lightPlane.material.color.copy(this.light.color);this.targetLine.material.color.copy(this.light.color);}this.targetLine.lookAt(v3);this.targetLine.scale.z=v3.length();};}();/**\n * @author alteredq / http://alteredqualia.com/\n * @author Mugen87 / https://github.com/Mugen87\n *\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */function CameraHelper(camera){var geometry=new BufferGeometry();var material=new LineBasicMaterial({color:0xffffff,vertexColors:FaceColors});var vertices=[];var colors=[];var pointMap={};// colors\nvar colorFrustum=new Color(0xffaa00);var colorCone=new Color(0xff0000);var colorUp=new Color(0x00aaff);var colorTarget=new Color(0xffffff);var colorCross=new Color(0x333333);// near\naddLine(\"n1\",\"n2\",colorFrustum);addLine(\"n2\",\"n4\",colorFrustum);addLine(\"n4\",\"n3\",colorFrustum);addLine(\"n3\",\"n1\",colorFrustum);// far\naddLine(\"f1\",\"f2\",colorFrustum);addLine(\"f2\",\"f4\",colorFrustum);addLine(\"f4\",\"f3\",colorFrustum);addLine(\"f3\",\"f1\",colorFrustum);// sides\naddLine(\"n1\",\"f1\",colorFrustum);addLine(\"n2\",\"f2\",colorFrustum);addLine(\"n3\",\"f3\",colorFrustum);addLine(\"n4\",\"f4\",colorFrustum);// cone\naddLine(\"p\",\"n1\",colorCone);addLine(\"p\",\"n2\",colorCone);addLine(\"p\",\"n3\",colorCone);addLine(\"p\",\"n4\",colorCone);// up\naddLine(\"u1\",\"u2\",colorUp);addLine(\"u2\",\"u3\",colorUp);addLine(\"u3\",\"u1\",colorUp);// target\naddLine(\"c\",\"t\",colorTarget);addLine(\"p\",\"c\",colorCross);// cross\naddLine(\"cn1\",\"cn2\",colorCross);addLine(\"cn3\",\"cn4\",colorCross);addLine(\"cf1\",\"cf2\",colorCross);addLine(\"cf3\",\"cf4\",colorCross);function addLine(a,b,color){addPoint(a,color);addPoint(b,color);}function addPoint(id,color){vertices.push(0,0,0);colors.push(color.r,color.g,color.b);if(pointMap[id]===undefined){pointMap[id]=[];}pointMap[id].push(vertices.length/3-1);}geometry.addAttribute('position',new Float32BufferAttribute(vertices,3));geometry.addAttribute('color',new Float32BufferAttribute(colors,3));LineSegments.call(this,geometry,material);this.camera=camera;if(this.camera.updateProjectionMatrix)this.camera.updateProjectionMatrix();this.matrix=camera.matrixWorld;this.matrixAutoUpdate=false;this.pointMap=pointMap;this.update();}CameraHelper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(LineSegments.prototype);CameraHelper.prototype.constructor=CameraHelper;CameraHelper.prototype.update=function(){var geometry,pointMap;var vector=new Vector3();var camera=new Camera();function setPoint(point,x,y,z){vector.set(x,y,z).unproject(camera);var points=pointMap[point];if(points!==undefined){var position=geometry.getAttribute('position');for(var i=0,l=points.length;i<l;i++){position.setXYZ(points[i],vector.x,vector.y,vector.z);}}}return function update(){geometry=this.geometry;pointMap=this.pointMap;var w=1,h=1;// we need just camera projection matrix\n// world matrix must be identity\ncamera.projectionMatrix.copy(this.camera.projectionMatrix);// center / target\nsetPoint(\"c\",0,0,-1);setPoint(\"t\",0,0,1);// near\nsetPoint(\"n1\",-w,-h,-1);setPoint(\"n2\",w,-h,-1);setPoint(\"n3\",-w,h,-1);setPoint(\"n4\",w,h,-1);// far\nsetPoint(\"f1\",-w,-h,1);setPoint(\"f2\",w,-h,1);setPoint(\"f3\",-w,h,1);setPoint(\"f4\",w,h,1);// up\nsetPoint(\"u1\",w*0.7,h*1.1,-1);setPoint(\"u2\",-w*0.7,h*1.1,-1);setPoint(\"u3\",0,h*2,-1);// cross\nsetPoint(\"cf1\",-w,0,1);setPoint(\"cf2\",w,0,1);setPoint(\"cf3\",0,-h,1);setPoint(\"cf4\",0,h,1);setPoint(\"cn1\",-w,0,-1);setPoint(\"cn2\",w,0,-1);setPoint(\"cn3\",0,-h,-1);setPoint(\"cn4\",0,h,-1);geometry.getAttribute('position').needsUpdate=true;};}();/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n */function BoxHelper(object,color){this.object=object;if(color===undefined)color=0xffff00;var indices=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var positions=new Float32Array(8*3);var geometry=new BufferGeometry();geometry.setIndex(new BufferAttribute(indices,1));geometry.addAttribute('position',new BufferAttribute(positions,3));LineSegments.call(this,geometry,new LineBasicMaterial({color:color}));this.matrixAutoUpdate=false;this.update();}BoxHelper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(LineSegments.prototype);BoxHelper.prototype.constructor=BoxHelper;BoxHelper.prototype.update=function(){var box=new Box3();return function update(object){if(object!==undefined){console.warn('THREE.BoxHelper: .update() has no longer arguments.');}if(this.object!==undefined){box.setFromObject(this.object);}if(box.isEmpty())return;var min=box.min;var max=box.max;/*\n     5____4\n     1/___0/|\n     | 6__|_7\n     2/___3/\n\n     0: max.x, max.y, max.z\n     1: min.x, max.y, max.z\n     2: min.x, min.y, max.z\n     3: max.x, min.y, max.z\n     4: max.x, max.y, min.z\n     5: min.x, max.y, min.z\n     6: min.x, min.y, min.z\n     7: max.x, min.y, min.z\n     */var position=this.geometry.attributes.position;var array=position.array;array[0]=max.x;array[1]=max.y;array[2]=max.z;array[3]=min.x;array[4]=max.y;array[5]=max.z;array[6]=min.x;array[7]=min.y;array[8]=max.z;array[9]=max.x;array[10]=min.y;array[11]=max.z;array[12]=max.x;array[13]=max.y;array[14]=min.z;array[15]=min.x;array[16]=max.y;array[17]=min.z;array[18]=min.x;array[19]=min.y;array[20]=min.z;array[21]=max.x;array[22]=min.y;array[23]=min.z;position.needsUpdate=true;this.geometry.computeBoundingSphere();};}();BoxHelper.prototype.setFromObject=function(object){this.object=object;this.update();return this;};/**\n * @author WestLangley / http://github.com/WestLangley\n */function Box3Helper(box,hex){this.type='Box3Helper';this.box=box;var color=hex!==undefined?hex:0xffff00;var indices=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var positions=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1];var geometry=new BufferGeometry();geometry.setIndex(new BufferAttribute(indices,1));geometry.addAttribute('position',new Float32BufferAttribute(positions,3));LineSegments.call(this,geometry,new LineBasicMaterial({color:color}));this.geometry.computeBoundingSphere();this.onBeforeRender();}Box3Helper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(LineSegments.prototype);Box3Helper.prototype.constructor=Box3Helper;Box3Helper.prototype.onBeforeRender=function(){var box=this.box;if(box.isEmpty())return;box.getCenter(this.position);box.getSize(this.scale);this.scale.multiplyScalar(0.5);};/**\n * @author WestLangley / http://github.com/WestLangley\n */function PlaneHelper(plane,size,hex){this.type='PlaneHelper';this.plane=plane;this.size=size===undefined?1:size;var color=hex!==undefined?hex:0xffff00;var positions=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0];var geometry=new BufferGeometry();geometry.addAttribute('position',new Float32BufferAttribute(positions,3));geometry.computeBoundingSphere();Line.call(this,geometry,new LineBasicMaterial({color:color}));//\nvar positions2=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1];var geometry2=new BufferGeometry();geometry2.addAttribute('position',new Float32BufferAttribute(positions2,3));geometry2.computeBoundingSphere();this.add(new Mesh(geometry2,new MeshBasicMaterial({color:color,opacity:0.2,transparent:true,depthWrite:false})));//\nthis.onBeforeRender();}PlaneHelper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Line.prototype);PlaneHelper.prototype.constructor=PlaneHelper;PlaneHelper.prototype.onBeforeRender=function(){var scale=-this.plane.constant;if(Math.abs(scale)<1e-8)scale=1e-8;// sign does not matter\nthis.scale.set(0.5*this.size,0.5*this.size,scale);this.lookAt(this.plane.normal);this.updateMatrixWorld();};/**\n * @author WestLangley / http://github.com/WestLangley\n * @author zz85 / http://github.com/zz85\n * @author bhouston / http://clara.io\n *\n * Creates an arrow for visualizing directions\n *\n * Parameters:\n *  dir - Vector3\n *  origin - Vector3\n *  length - Number\n *  color - color in hex value\n *  headLength - Number\n *  headWidth - Number\n */var lineGeometry;var coneGeometry;function ArrowHelper(dir,origin,length,color,headLength,headWidth){// dir is assumed to be normalized\nObject3D.call(this);if(color===undefined)color=0xffff00;if(length===undefined)length=1;if(headLength===undefined)headLength=0.2*length;if(headWidth===undefined)headWidth=0.2*headLength;if(lineGeometry===undefined){lineGeometry=new BufferGeometry();lineGeometry.addAttribute('position',new Float32BufferAttribute([0,0,0,0,1,0],3));coneGeometry=new CylinderBufferGeometry(0,0.5,1,5,1);coneGeometry.translate(0,-0.5,0);}this.position.copy(origin);this.line=new Line(lineGeometry,new LineBasicMaterial({color:color}));this.line.matrixAutoUpdate=false;this.add(this.line);this.cone=new Mesh(coneGeometry,new MeshBasicMaterial({color:color}));this.cone.matrixAutoUpdate=false;this.add(this.cone);this.setDirection(dir);this.setLength(length,headLength,headWidth);}ArrowHelper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Object3D.prototype);ArrowHelper.prototype.constructor=ArrowHelper;ArrowHelper.prototype.setDirection=function(){var axis=new Vector3();var radians;return function setDirection(dir){// dir is assumed to be normalized\nif(dir.y>0.99999){this.quaternion.set(0,0,0,1);}else if(dir.y<-0.99999){this.quaternion.set(1,0,0,0);}else{axis.set(dir.z,0,-dir.x).normalize();radians=Math.acos(dir.y);this.quaternion.setFromAxisAngle(axis,radians);}};}();ArrowHelper.prototype.setLength=function(length,headLength,headWidth){if(headLength===undefined)headLength=0.2*length;if(headWidth===undefined)headWidth=0.2*headLength;this.line.scale.set(1,Math.max(0,length-headLength),1);this.line.updateMatrix();this.cone.scale.set(headWidth,headLength,headWidth);this.cone.position.y=length;this.cone.updateMatrix();};ArrowHelper.prototype.setColor=function(color){this.line.material.color.copy(color);this.cone.material.color.copy(color);};/**\n * @author sroucheray / http://sroucheray.org/\n * @author mrdoob / http://mrdoob.com/\n */function AxisHelper(size){size=size||1;var vertices=[0,0,0,size,0,0,0,0,0,0,size,0,0,0,0,0,0,size];var colors=[1,0,0,1,0.6,0,0,1,0,0.6,1,0,0,0,1,0,0.6,1];var geometry=new BufferGeometry();geometry.addAttribute('position',new Float32BufferAttribute(vertices,3));geometry.addAttribute('color',new Float32BufferAttribute(colors,3));var material=new LineBasicMaterial({vertexColors:VertexColors});LineSegments.call(this,geometry,material);}AxisHelper.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(LineSegments.prototype);AxisHelper.prototype.constructor=AxisHelper;/**\n * @author zz85 https://github.com/zz85\n *\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n *//*\n Based on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\n This CubicPoly class could be used for reusing some variables and calculations,\n but for three.js curve use, it could be possible inlined and flatten into a single function call\n which can be placed in CurveUtils.\n */function CubicPoly(){var c0=0,c1=0,c2=0,c3=0;/*\n   * Compute coefficients for a cubic polynomial\n   *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n   * such that\n   *   p(0) = x0, p(1) = x1\n   *  and\n   *   p'(0) = t0, p'(1) = t1.\n   */function init(x0,x1,t0,t1){c0=x0;c1=t0;c2=-3*x0+3*x1-2*t0-t1;c3=2*x0-2*x1+t0+t1;}return{initCatmullRom:function initCatmullRom(x0,x1,x2,x3,tension){init(x1,x2,tension*(x2-x0),tension*(x3-x1));},initNonuniformCatmullRom:function initNonuniformCatmullRom(x0,x1,x2,x3,dt0,dt1,dt2){// compute tangents when parameterized in [t1,t2]\nvar t1=(x1-x0)/dt0-(x2-x0)/(dt0+dt1)+(x2-x1)/dt1;var t2=(x2-x1)/dt1-(x3-x1)/(dt1+dt2)+(x3-x2)/dt2;// rescale tangents for parametrization in [0,1]\nt1*=dt1;t2*=dt1;init(x1,x2,t1,t2);},calc:function calc(t){var t2=t*t;var t3=t2*t;return c0+c1*t+c2*t2+c3*t3;}};}//\nvar tmp=new Vector3();var px=new CubicPoly();var py=new CubicPoly();var pz=new CubicPoly();function CatmullRomCurve3(points){Curve.call(this);if(points.length<2)console.warn('THREE.CatmullRomCurve3: Points array needs at least two entries.');this.points=points||[];this.closed=false;}CatmullRomCurve3.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Curve.prototype);CatmullRomCurve3.prototype.constructor=CatmullRomCurve3;CatmullRomCurve3.prototype.getPoint=function(t){var points=this.points;var l=points.length;var point=(l-(this.closed?0:1))*t;var intPoint=Math.floor(point);var weight=point-intPoint;if(this.closed){intPoint+=intPoint>0?0:(Math.floor(Math.abs(intPoint)/points.length)+1)*points.length;}else if(weight===0&&intPoint===l-1){intPoint=l-2;weight=1;}var p0,p1,p2,p3;// 4 points\nif(this.closed||intPoint>0){p0=points[(intPoint-1)%l];}else{// extrapolate first point\ntmp.subVectors(points[0],points[1]).add(points[0]);p0=tmp;}p1=points[intPoint%l];p2=points[(intPoint+1)%l];if(this.closed||intPoint+2<l){p3=points[(intPoint+2)%l];}else{// extrapolate last point\ntmp.subVectors(points[l-1],points[l-2]).add(points[l-1]);p3=tmp;}if(this.type===undefined||this.type==='centripetal'||this.type==='chordal'){// init Centripetal / Chordal Catmull-Rom\nvar pow=this.type==='chordal'?0.5:0.25;var dt0=Math.pow(p0.distanceToSquared(p1),pow);var dt1=Math.pow(p1.distanceToSquared(p2),pow);var dt2=Math.pow(p2.distanceToSquared(p3),pow);// safety check for repeated points\nif(dt1<1e-4)dt1=1.0;if(dt0<1e-4)dt0=dt1;if(dt2<1e-4)dt2=dt1;px.initNonuniformCatmullRom(p0.x,p1.x,p2.x,p3.x,dt0,dt1,dt2);py.initNonuniformCatmullRom(p0.y,p1.y,p2.y,p3.y,dt0,dt1,dt2);pz.initNonuniformCatmullRom(p0.z,p1.z,p2.z,p3.z,dt0,dt1,dt2);}else if(this.type==='catmullrom'){var tension=this.tension!==undefined?this.tension:0.5;px.initCatmullRom(p0.x,p1.x,p2.x,p3.x,tension);py.initCatmullRom(p0.y,p1.y,p2.y,p3.y,tension);pz.initCatmullRom(p0.z,p1.z,p2.z,p3.z,tension);}return new Vector3(px.calc(weight),py.calc(weight),pz.calc(weight));};function CubicBezierCurve3(v0,v1,v2,v3){Curve.call(this);this.v0=v0;this.v1=v1;this.v2=v2;this.v3=v3;}CubicBezierCurve3.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Curve.prototype);CubicBezierCurve3.prototype.constructor=CubicBezierCurve3;CubicBezierCurve3.prototype.getPoint=function(t){var v0=this.v0,v1=this.v1,v2=this.v2,v3=this.v3;return new Vector3(CubicBezier(t,v0.x,v1.x,v2.x,v3.x),CubicBezier(t,v0.y,v1.y,v2.y,v3.y),CubicBezier(t,v0.z,v1.z,v2.z,v3.z));};function QuadraticBezierCurve3(v0,v1,v2){Curve.call(this);this.v0=v0;this.v1=v1;this.v2=v2;}QuadraticBezierCurve3.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Curve.prototype);QuadraticBezierCurve3.prototype.constructor=QuadraticBezierCurve3;QuadraticBezierCurve3.prototype.getPoint=function(t){var v0=this.v0,v1=this.v1,v2=this.v2;return new Vector3(QuadraticBezier(t,v0.x,v1.x,v2.x),QuadraticBezier(t,v0.y,v1.y,v2.y),QuadraticBezier(t,v0.z,v1.z,v2.z));};function LineCurve3(v1,v2){Curve.call(this);this.v1=v1;this.v2=v2;}LineCurve3.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Curve.prototype);LineCurve3.prototype.constructor=LineCurve3;LineCurve3.prototype.getPoint=function(t){if(t===1){return this.v2.clone();}var vector=new Vector3();vector.subVectors(this.v2,this.v1);// diff\nvector.multiplyScalar(t);vector.add(this.v1);return vector;};function ArcCurve(aX,aY,aRadius,aStartAngle,aEndAngle,aClockwise){EllipseCurve.call(this,aX,aY,aRadius,aRadius,aStartAngle,aEndAngle,aClockwise);}ArcCurve.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(EllipseCurve.prototype);ArcCurve.prototype.constructor=ArcCurve;/**\n * @author alteredq / http://alteredqualia.com/\n */var SceneUtils={createMultiMaterialObject:function createMultiMaterialObject(geometry,materials){var group=new Group();for(var i=0,l=materials.length;i<l;i++){group.add(new Mesh(geometry,materials[i]));}return group;},detach:function detach(child,parent,scene){child.applyMatrix(parent.matrixWorld);parent.remove(child);scene.add(child);},attach:function attach(child,scene,parent){child.applyMatrix(new Matrix4().getInverse(parent.matrixWorld));scene.remove(child);parent.add(child);}};/**\n * @author mrdoob / http://mrdoob.com/\n */function Face4(a,b,c,d,normal,color,materialIndex){console.warn('THREE.Face4 has been removed. A THREE.Face3 will be created instead.');return new Face3(a,b,c,normal,color,materialIndex);}var LineStrip=0;var LinePieces=1;function MeshFaceMaterial(materials){console.warn('THREE.MeshFaceMaterial has been removed. Use an Array instead.');return materials;}function MultiMaterial(materials){if(materials===undefined)materials=[];console.warn('THREE.MultiMaterial has been removed. Use an Array instead.');materials.isMultiMaterial=true;materials.materials=materials;materials.clone=function(){return materials.slice();};return materials;}function PointCloud(geometry,material){console.warn('THREE.PointCloud has been renamed to THREE.Points.');return new Points(geometry,material);}function Particle(material){console.warn('THREE.Particle has been renamed to THREE.Sprite.');return new Sprite(material);}function ParticleSystem(geometry,material){console.warn('THREE.ParticleSystem has been renamed to THREE.Points.');return new Points(geometry,material);}function PointCloudMaterial(parameters){console.warn('THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.');return new PointsMaterial(parameters);}function ParticleBasicMaterial(parameters){console.warn('THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.');return new PointsMaterial(parameters);}function ParticleSystemMaterial(parameters){console.warn('THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.');return new PointsMaterial(parameters);}function Vertex(x,y,z){console.warn('THREE.Vertex has been removed. Use THREE.Vector3 instead.');return new Vector3(x,y,z);}//\nfunction DynamicBufferAttribute(array,itemSize){console.warn('THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.');return new BufferAttribute(array,itemSize).setDynamic(true);}function Int8Attribute(array,itemSize){console.warn('THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.');return new Int8BufferAttribute(array,itemSize);}function Uint8Attribute(array,itemSize){console.warn('THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.');return new Uint8BufferAttribute(array,itemSize);}function Uint8ClampedAttribute(array,itemSize){console.warn('THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.');return new Uint8ClampedBufferAttribute(array,itemSize);}function Int16Attribute(array,itemSize){console.warn('THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.');return new Int16BufferAttribute(array,itemSize);}function Uint16Attribute(array,itemSize){console.warn('THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.');return new Uint16BufferAttribute(array,itemSize);}function Int32Attribute(array,itemSize){console.warn('THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.');return new Int32BufferAttribute(array,itemSize);}function Uint32Attribute(array,itemSize){console.warn('THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.');return new Uint32BufferAttribute(array,itemSize);}function Float32Attribute(array,itemSize){console.warn('THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.');return new Float32BufferAttribute(array,itemSize);}function Float64Attribute(array,itemSize){console.warn('THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.');return new Float64BufferAttribute(array,itemSize);}//\nCurve.create=function(construct,getPoint){console.log('THREE.Curve.create() has been deprecated');construct.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(Curve.prototype);construct.prototype.constructor=construct;construct.prototype.getPoint=getPoint;return construct;};//\nfunction ClosedSplineCurve3(points){console.warn('THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.');CatmullRomCurve3.call(this,points);this.type='catmullrom';this.closed=true;}ClosedSplineCurve3.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(CatmullRomCurve3.prototype);//\nfunction SplineCurve3(points){console.warn('THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.');CatmullRomCurve3.call(this,points);this.type='catmullrom';}SplineCurve3.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(CatmullRomCurve3.prototype);//\nfunction Spline(points){console.warn('THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.');CatmullRomCurve3.call(this,points);this.type='catmullrom';}Spline.prototype=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(CatmullRomCurve3.prototype);__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Spline.prototype,{initFromArray:function initFromArray(a){console.error('THREE.Spline: .initFromArray() has been removed.');},getControlPointsArray:function getControlPointsArray(optionalTarget){console.error('THREE.Spline: .getControlPointsArray() has been removed.');},reparametrizeByArcLength:function reparametrizeByArcLength(samplingCoef){console.error('THREE.Spline: .reparametrizeByArcLength() has been removed.');}});//\nfunction BoundingBoxHelper(object,color){console.warn('THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.');return new BoxHelper(object,color);}function EdgesHelper(object,hex){console.warn('THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.');return new LineSegments(new EdgesGeometry(object.geometry),new LineBasicMaterial({color:hex!==undefined?hex:0xffffff}));}GridHelper.prototype.setColors=function(){console.error('THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.');};SkeletonHelper.prototype.update=function(){console.error('THREE.SkeletonHelper: update() no longer needs to be called.');};function WireframeHelper(object,hex){console.warn('THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.');return new LineSegments(new WireframeGeometry(object.geometry),new LineBasicMaterial({color:hex!==undefined?hex:0xffffff}));}//\nfunction XHRLoader(manager){console.warn('THREE.XHRLoader has been renamed to THREE.FileLoader.');return new FileLoader(manager);}function BinaryTextureLoader(manager){console.warn('THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.');return new DataTextureLoader(manager);}//\n__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Box2.prototype,{center:function center(optionalTarget){console.warn('THREE.Box2: .center() has been renamed to .getCenter().');return this.getCenter(optionalTarget);},empty:function empty(){console.warn('THREE.Box2: .empty() has been renamed to .isEmpty().');return this.isEmpty();},isIntersectionBox:function isIntersectionBox(box){console.warn('THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().');return this.intersectsBox(box);},size:function size(optionalTarget){console.warn('THREE.Box2: .size() has been renamed to .getSize().');return this.getSize(optionalTarget);}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Box3.prototype,{center:function center(optionalTarget){console.warn('THREE.Box3: .center() has been renamed to .getCenter().');return this.getCenter(optionalTarget);},empty:function empty(){console.warn('THREE.Box3: .empty() has been renamed to .isEmpty().');return this.isEmpty();},isIntersectionBox:function isIntersectionBox(box){console.warn('THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().');return this.intersectsBox(box);},isIntersectionSphere:function isIntersectionSphere(sphere){console.warn('THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().');return this.intersectsSphere(sphere);},size:function size(optionalTarget){console.warn('THREE.Box3: .size() has been renamed to .getSize().');return this.getSize(optionalTarget);}});Line3.prototype.center=function(optionalTarget){console.warn('THREE.Line3: .center() has been renamed to .getCenter().');return this.getCenter(optionalTarget);};_Math.random16=function(){console.warn('THREE.Math.random16() has been deprecated. Use Math.random() instead.');return Math.random();};__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Matrix3.prototype,{flattenToArrayOffset:function flattenToArrayOffset(array,offset){console.warn(\"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\");return this.toArray(array,offset);},multiplyVector3:function multiplyVector3(vector){console.warn('THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.');return vector.applyMatrix3(this);},multiplyVector3Array:function multiplyVector3Array(a){console.error('THREE.Matrix3: .multiplyVector3Array() has been removed.');},applyToBuffer:function applyToBuffer(buffer,offset,length){console.warn('THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.');return this.applyToBufferAttribute(buffer);},applyToVector3Array:function applyToVector3Array(array,offset,length){console.error('THREE.Matrix3: .applyToVector3Array() has been removed.');}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Matrix4.prototype,{extractPosition:function extractPosition(m){console.warn('THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().');return this.copyPosition(m);},flattenToArrayOffset:function flattenToArrayOffset(array,offset){console.warn(\"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\");return this.toArray(array,offset);},getPosition:function(){var v1;return function getPosition(){if(v1===undefined)v1=new Vector3();console.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.');return v1.setFromMatrixColumn(this,3);};}(),setRotationFromQuaternion:function setRotationFromQuaternion(q){console.warn('THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().');return this.makeRotationFromQuaternion(q);},multiplyToArray:function multiplyToArray(){console.warn('THREE.Matrix4: .multiplyToArray() has been removed.');},multiplyVector3:function multiplyVector3(vector){console.warn('THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.');return vector.applyMatrix4(this);},multiplyVector4:function multiplyVector4(vector){console.warn('THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.');return vector.applyMatrix4(this);},multiplyVector3Array:function multiplyVector3Array(a){console.error('THREE.Matrix4: .multiplyVector3Array() has been removed.');},rotateAxis:function rotateAxis(v){console.warn('THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.');v.transformDirection(this);},crossVector:function crossVector(vector){console.warn('THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.');return vector.applyMatrix4(this);},translate:function translate(){console.error('THREE.Matrix4: .translate() has been removed.');},rotateX:function rotateX(){console.error('THREE.Matrix4: .rotateX() has been removed.');},rotateY:function rotateY(){console.error('THREE.Matrix4: .rotateY() has been removed.');},rotateZ:function rotateZ(){console.error('THREE.Matrix4: .rotateZ() has been removed.');},rotateByAxis:function rotateByAxis(){console.error('THREE.Matrix4: .rotateByAxis() has been removed.');},applyToBuffer:function applyToBuffer(buffer,offset,length){console.warn('THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.');return this.applyToBufferAttribute(buffer);},applyToVector3Array:function applyToVector3Array(array,offset,length){console.error('THREE.Matrix4: .applyToVector3Array() has been removed.');},makeFrustum:function makeFrustum(left,right,bottom,top,near,far){console.warn('THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.');return this.makePerspective(left,right,top,bottom,near,far);}});Plane.prototype.isIntersectionLine=function(line){console.warn('THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().');return this.intersectsLine(line);};Quaternion.prototype.multiplyVector3=function(vector){console.warn('THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.');return vector.applyQuaternion(this);};__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Ray.prototype,{isIntersectionBox:function isIntersectionBox(box){console.warn('THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().');return this.intersectsBox(box);},isIntersectionPlane:function isIntersectionPlane(plane){console.warn('THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().');return this.intersectsPlane(plane);},isIntersectionSphere:function isIntersectionSphere(sphere){console.warn('THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().');return this.intersectsSphere(sphere);}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Shape.prototype,{extrude:function extrude(options){console.warn('THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.');return new ExtrudeGeometry(this,options);},makeGeometry:function makeGeometry(options){console.warn('THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.');return new ShapeGeometry(this,options);}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Vector2.prototype,{fromAttribute:function fromAttribute(attribute,index,offset){console.error('THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().');return this.fromBufferAttribute(attribute,index,offset);}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Vector3.prototype,{setEulerFromRotationMatrix:function setEulerFromRotationMatrix(){console.error('THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.');},setEulerFromQuaternion:function setEulerFromQuaternion(){console.error('THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.');},getPositionFromMatrix:function getPositionFromMatrix(m){console.warn('THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().');return this.setFromMatrixPosition(m);},getScaleFromMatrix:function getScaleFromMatrix(m){console.warn('THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().');return this.setFromMatrixScale(m);},getColumnFromMatrix:function getColumnFromMatrix(index,matrix){console.warn('THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().');return this.setFromMatrixColumn(matrix,index);},applyProjection:function applyProjection(m){console.warn('THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.');return this.applyMatrix4(m);},fromAttribute:function fromAttribute(attribute,index,offset){console.error('THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().');return this.fromBufferAttribute(attribute,index,offset);}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Vector4.prototype,{fromAttribute:function fromAttribute(attribute,index,offset){console.error('THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().');return this.fromBufferAttribute(attribute,index,offset);}});//\nGeometry.prototype.computeTangents=function(){console.warn('THREE.Geometry: .computeTangents() has been removed.');};__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(Object3D.prototype,{getChildByName:function getChildByName(name){console.warn('THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().');return this.getObjectByName(name);},renderDepth:function renderDepth(){console.warn('THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.');},translate:function translate(distance,axis){console.warn('THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.');return this.translateOnAxis(axis,distance);}});__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(Object3D.prototype,{eulerOrder:{get:function get(){console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');return this.rotation.order;},set:function set(value){console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');this.rotation.order=value;}},useQuaternion:{get:function get(){console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');},set:function set(){console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');}}});__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(LOD.prototype,{objects:{get:function get(){console.warn('THREE.LOD: .objects has been renamed to .levels.');return this.levels;}}});Object.defineProperty(Skeleton.prototype,'useVertexTexture',{get:function get(){console.warn('THREE.Skeleton: useVertexTexture has been removed.');},set:function set(){console.warn('THREE.Skeleton: useVertexTexture has been removed.');}});Object.defineProperty(Curve.prototype,'__arcLengthDivisions',{get:function get(){console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.');return this.arcLengthDivisions;},set:function set(value){console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.');this.arcLengthDivisions=value;}});//\nPerspectiveCamera.prototype.setLens=function(focalLength,filmGauge){console.warn(\"THREE.PerspectiveCamera.setLens is deprecated. \"+\"Use .setFocalLength and .filmGauge for a photographic setup.\");if(filmGauge!==undefined)this.filmGauge=filmGauge;this.setFocalLength(focalLength);};//\n__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(Light.prototype,{onlyShadow:{set:function set(){console.warn('THREE.Light: .onlyShadow has been removed.');}},shadowCameraFov:{set:function set(value){console.warn('THREE.Light: .shadowCameraFov is now .shadow.camera.fov.');this.shadow.camera.fov=value;}},shadowCameraLeft:{set:function set(value){console.warn('THREE.Light: .shadowCameraLeft is now .shadow.camera.left.');this.shadow.camera.left=value;}},shadowCameraRight:{set:function set(value){console.warn('THREE.Light: .shadowCameraRight is now .shadow.camera.right.');this.shadow.camera.right=value;}},shadowCameraTop:{set:function set(value){console.warn('THREE.Light: .shadowCameraTop is now .shadow.camera.top.');this.shadow.camera.top=value;}},shadowCameraBottom:{set:function set(value){console.warn('THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.');this.shadow.camera.bottom=value;}},shadowCameraNear:{set:function set(value){console.warn('THREE.Light: .shadowCameraNear is now .shadow.camera.near.');this.shadow.camera.near=value;}},shadowCameraFar:{set:function set(value){console.warn('THREE.Light: .shadowCameraFar is now .shadow.camera.far.');this.shadow.camera.far=value;}},shadowCameraVisible:{set:function set(){console.warn('THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.');}},shadowBias:{set:function set(value){console.warn('THREE.Light: .shadowBias is now .shadow.bias.');this.shadow.bias=value;}},shadowDarkness:{set:function set(){console.warn('THREE.Light: .shadowDarkness has been removed.');}},shadowMapWidth:{set:function set(value){console.warn('THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.');this.shadow.mapSize.width=value;}},shadowMapHeight:{set:function set(value){console.warn('THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.');this.shadow.mapSize.height=value;}}});//\n__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(BufferAttribute.prototype,{length:{get:function get(){console.warn('THREE.BufferAttribute: .length has been deprecated. Use .count instead.');return this.array.length;}}});__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(BufferGeometry.prototype,{addIndex:function addIndex(index){console.warn('THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().');this.setIndex(index);},addDrawCall:function addDrawCall(start,count,indexOffset){if(indexOffset!==undefined){console.warn('THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.');}console.warn('THREE.BufferGeometry: .addDrawCall() is now .addGroup().');this.addGroup(start,count);},clearDrawCalls:function clearDrawCalls(){console.warn('THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().');this.clearGroups();},computeTangents:function computeTangents(){console.warn('THREE.BufferGeometry: .computeTangents() has been removed.');},computeOffsets:function computeOffsets(){console.warn('THREE.BufferGeometry: .computeOffsets() has been removed.');}});__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(BufferGeometry.prototype,{drawcalls:{get:function get(){console.error('THREE.BufferGeometry: .drawcalls has been renamed to .groups.');return this.groups;}},offsets:{get:function get(){console.warn('THREE.BufferGeometry: .offsets has been renamed to .groups.');return this.groups;}}});//\n__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(Uniform.prototype,{dynamic:{set:function set(){console.warn('THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.');}},onUpdate:{value:function value(){console.warn('THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.');return this;}}});//\n__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(Material.prototype,{wrapAround:{get:function get(){console.warn('THREE.Material: .wrapAround has been removed.');},set:function set(){console.warn('THREE.Material: .wrapAround has been removed.');}},wrapRGB:{get:function get(){console.warn('THREE.Material: .wrapRGB has been removed.');return new Color();}},shading:{get:function get(){console.error('THREE.'+this.type+': .shading has been removed. Use the boolean .flatShading instead.');},set:function set(value){console.warn('THREE.'+this.type+': .shading has been removed. Use the boolean .flatShading instead.');this.flatShading=value===FlatShading;}}});__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(MeshPhongMaterial.prototype,{metal:{get:function get(){console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.');return false;},set:function set(){console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead');}}});__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(ShaderMaterial.prototype,{derivatives:{get:function get(){console.warn('THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');return this.extensions.derivatives;},set:function set(value){console.warn('THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');this.extensions.derivatives=value;}}});//\n__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_assign___default()(WebGLRenderer.prototype,{getCurrentRenderTarget:function getCurrentRenderTarget(){console.warn('THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().');return this.getRenderTarget();},getMaxAnisotropy:function getMaxAnisotropy(){console.warn('THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().');return this.capabilities.getMaxAnisotropy();},getPrecision:function getPrecision(){console.warn('THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.');return this.capabilities.precision;},supportsFloatTextures:function supportsFloatTextures(){console.warn('THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).');return this.extensions.get('OES_texture_float');},supportsHalfFloatTextures:function supportsHalfFloatTextures(){console.warn('THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).');return this.extensions.get('OES_texture_half_float');},supportsStandardDerivatives:function supportsStandardDerivatives(){console.warn('THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).');return this.extensions.get('OES_standard_derivatives');},supportsCompressedTextureS3TC:function supportsCompressedTextureS3TC(){console.warn('THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).');return this.extensions.get('WEBGL_compressed_texture_s3tc');},supportsCompressedTexturePVRTC:function supportsCompressedTexturePVRTC(){console.warn('THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).');return this.extensions.get('WEBGL_compressed_texture_pvrtc');},supportsBlendMinMax:function supportsBlendMinMax(){console.warn('THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).');return this.extensions.get('EXT_blend_minmax');},supportsVertexTextures:function supportsVertexTextures(){console.warn('THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.');return this.capabilities.vertexTextures;},supportsInstancedArrays:function supportsInstancedArrays(){console.warn('THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).');return this.extensions.get('ANGLE_instanced_arrays');},enableScissorTest:function enableScissorTest(boolean){console.warn('THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().');this.setScissorTest(boolean);},initMaterial:function initMaterial(){console.warn('THREE.WebGLRenderer: .initMaterial() has been removed.');},addPrePlugin:function addPrePlugin(){console.warn('THREE.WebGLRenderer: .addPrePlugin() has been removed.');},addPostPlugin:function addPostPlugin(){console.warn('THREE.WebGLRenderer: .addPostPlugin() has been removed.');},updateShadowMap:function updateShadowMap(){console.warn('THREE.WebGLRenderer: .updateShadowMap() has been removed.');}});__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(WebGLRenderer.prototype,{shadowMapEnabled:{get:function get(){return this.shadowMap.enabled;},set:function set(value){console.warn('THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.');this.shadowMap.enabled=value;}},shadowMapType:{get:function get(){return this.shadowMap.type;},set:function set(value){console.warn('THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.');this.shadowMap.type=value;}},shadowMapCullFace:{get:function get(){return this.shadowMap.cullFace;},set:function set(value){console.warn('THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.');this.shadowMap.cullFace=value;}}});__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(WebGLShadowMap.prototype,{cullFace:{get:function get(){return this.renderReverseSided?CullFaceFront:CullFaceBack;},set:function set(cullFace){var value=cullFace!==CullFaceBack;console.warn(\"WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to \"+value+\".\");this.renderReverseSided=value;}}});//\n__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_define_properties___default()(WebGLRenderTarget.prototype,{wrapS:{get:function get(){console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');return this.texture.wrapS;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');this.texture.wrapS=value;}},wrapT:{get:function get(){console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');return this.texture.wrapT;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');this.texture.wrapT=value;}},magFilter:{get:function get(){console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');return this.texture.magFilter;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');this.texture.magFilter=value;}},minFilter:{get:function get(){console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');return this.texture.minFilter;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');this.texture.minFilter=value;}},anisotropy:{get:function get(){console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');return this.texture.anisotropy;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');this.texture.anisotropy=value;}},offset:{get:function get(){console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');return this.texture.offset;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');this.texture.offset=value;}},repeat:{get:function get(){console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');return this.texture.repeat;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');this.texture.repeat=value;}},format:{get:function get(){console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');return this.texture.format;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');this.texture.format=value;}},type:{get:function get(){console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');return this.texture.type;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');this.texture.type=value;}},generateMipmaps:{get:function get(){console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');return this.texture.generateMipmaps;},set:function set(value){console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');this.texture.generateMipmaps=value;}}});//\nAudio.prototype.load=function(file){console.warn('THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.');var scope=this;var audioLoader=new AudioLoader();audioLoader.load(file,function(buffer){scope.setBuffer(buffer);});return this;};AudioAnalyser.prototype.getData=function(){console.warn('THREE.AudioAnalyser: .getData() is now .getFrequencyData().');return this.getFrequencyData();};//\nCubeCamera.prototype.updateCubeMap=function(renderer,scene){console.warn('THREE.CubeCamera: .updateCubeMap() is now .update().');return this.update(renderer,scene);};//\nvar GeometryUtils={merge:function merge(geometry1,geometry2,materialIndexOffset){console.warn('THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.');var matrix;if(geometry2.isMesh){geometry2.matrixAutoUpdate&&geometry2.updateMatrix();matrix=geometry2.matrix;geometry2=geometry2.geometry;}geometry1.merge(geometry2,matrix,materialIndexOffset);},center:function center(geometry){console.warn('THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.');return geometry.center();}};var ImageUtils={crossOrigin:undefined,loadTexture:function loadTexture(url,mapping,onLoad,onError){console.warn('THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.');var loader=new TextureLoader();loader.setCrossOrigin(this.crossOrigin);var texture=loader.load(url,onLoad,undefined,onError);if(mapping)texture.mapping=mapping;return texture;},loadTextureCube:function loadTextureCube(urls,mapping,onLoad,onError){console.warn('THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.');var loader=new CubeTextureLoader();loader.setCrossOrigin(this.crossOrigin);var texture=loader.load(urls,onLoad,undefined,onError);if(mapping)texture.mapping=mapping;return texture;},loadCompressedTexture:function loadCompressedTexture(){console.error('THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.');},loadCompressedTextureCube:function loadCompressedTextureCube(){console.error('THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.');}};//\nfunction Projector(){console.error('THREE.Projector has been moved to /examples/js/renderers/Projector.js.');this.projectVector=function(vector,camera){console.warn('THREE.Projector: .projectVector() is now vector.project().');vector.project(camera);};this.unprojectVector=function(vector,camera){console.warn('THREE.Projector: .unprojectVector() is now vector.unproject().');vector.unproject(camera);};this.pickingRay=function(){console.error('THREE.Projector: .pickingRay() is now raycaster.setFromCamera().');};}//\nfunction CanvasRenderer(){console.error('THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js');this.domElement=document.createElementNS('http://www.w3.org/1999/xhtml','canvas');this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){};}\n\n/***/ }),\n\n/***/ \"u3uG\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_debug_vue__ = __webpack_require__(\"P73I\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_e8539e3e_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_debug_vue__ = __webpack_require__(\"P+U6\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"W3s/\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e8539e3e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_debug_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_e8539e3e_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_debug_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"uJJO\":\n/***/ (function(module, exports) {\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mr.doob / http://mrdoob.com/\n */\n\nvar Detector = {\n\n\tcanvas: !!window.CanvasRenderingContext2D,\n\twebgl: function () {\n\n\t\ttry {\n\n\t\t\tvar canvas = document.createElement('canvas');return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n\t\t} catch (e) {\n\n\t\t\treturn false;\n\t\t}\n\t}(),\n\tworkers: !!window.Worker,\n\tfileapi: window.File && window.FileReader && window.FileList && window.Blob,\n\n\tgetWebGLErrorMessage: function getWebGLErrorMessage() {\n\n\t\tvar element = document.createElement('div');\n\t\telement.id = 'webgl-error-message';\n\t\telement.style.fontFamily = 'monospace';\n\t\telement.style.fontSize = '13px';\n\t\telement.style.fontWeight = 'normal';\n\t\telement.style.textAlign = 'center';\n\t\telement.style.background = '#fff';\n\t\telement.style.color = '#000';\n\t\telement.style.padding = '1.5em';\n\t\telement.style.width = '400px';\n\t\telement.style.margin = '5em auto 0';\n\n\t\tif (!this.webgl) {\n\n\t\t\telement.innerHTML = window.WebGLRenderingContext ? ['Your graphics card does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">WebGL</a>.<br />', 'Find out how to get it <a href=\"http://get.webgl.org/\" style=\"color:#000\">here</a>.'].join('\\n') : ['Your browser does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">WebGL</a>.<br/>', 'Find out how to get it <a href=\"http://get.webgl.org/\" style=\"color:#000\">here</a>.'].join('\\n');\n\t\t}\n\n\t\treturn element;\n\t},\n\n\taddGetWebGLMessage: function addGetWebGLMessage(parameters) {\n\n\t\tvar parent, id, element;\n\n\t\tparameters = parameters || {};\n\n\t\tparent = parameters.parent !== undefined ? parameters.parent : document.body;\n\t\tid = parameters.id !== undefined ? parameters.id : 'oldie';\n\n\t\telement = Detector.getWebGLErrorMessage();\n\t\telement.id = id;\n\n\t\tparent.appendChild(element);\n\t}\n\n};\n\n\"undefined\" != typeof module && module.exports && (module.exports = Detector);\n\n/***/ }),\n\n/***/ \"vMps\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"x2x/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'index',\n    title: '首页',\n    data: function data() {\n        return {\n            msg: '前端可视化效果展示'\n        };\n    }\n});\n\n/***/ }),\n\n/***/ \"xEjv\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(\"Zx67\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(\"zwoO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass__ = __webpack_require__(\"wxAW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__ = __webpack_require__(\"Pf15\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__three_js__ = __webpack_require__(\"tqxb\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__tween_min_js__ = __webpack_require__(\"mHXv\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__util__ = __webpack_require__(\"LOkV\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__three_ShaderLibExp__ = __webpack_require__(\"+j2c\");\n\n\n\n\n\n\n/**\n * 3D地图.线\n * Created by jusfoun-fe.github.io on 2017/11/19.\n * @author 朱润亚 <zhu18@vip.qq.com>\n * @version beta v1.0.3\n * @module Map3D\n */\n\n\n\n\n\n\n/** Class representing a Line.\n * @extends THREE.Line\n *\n * @example\n * var opt={\n *   color:0x55eeff,                 // 基线颜色\n *   hoverColor:0xff9933,            // 线的鼠标移入基线颜色\n *   spaceHeight:5,                  // 曲线空间高度\n *   hasHalo:true,                   // 是否有发光线\n *   hasHaloAnimate:true,            // 是否开启发光线动画效果\n *   haloDensity:2,                  // 光点密度 值越大 越浓密，越消耗性能\n *   haloRunRate:0.01,               // 光点运动频率\n *   haloColor:0xffffff,             // 发光线颜色，默认继承color\n *   haloSize:10,                    // 发光线粗细\n * }\n * let line = new Line(opt);\n * */\n\nvar Line = function (_THREE$Line) {\n  __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default()(Line, _THREE$Line);\n\n  __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default()(Line, null, [{\n    key: 'draw',\n\n\n    /**\n     * 光点纹理样式,如果你对canvas熟悉可以重写.否则使用默认样式\n     * @static\n     * @param {context} context - Canvas上下文对象 {@link https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/getContext|Canvas.context}\n     * @example\n     *\n     * Line.draw=(ctx)=>{\n       *  context.clearRect(0, 0, 128, 128);\n       *  context.fillStyle = '#ff0000';\n       *  context.arc(64, 64, 20, 0, Math.PI * 2, false);\n       *  context.fill();\n       * }\n     */\n    value: function draw(context) {\n      context.clearRect(0, 0, 128, 128);\n      context.fillStyle = '#ffffff';\n      context.arc(64, 64, 20, 0, Math.PI * 2, false);\n      context.fill();\n\n      context.fillStyle = 'rgba(255,255,255,.7)';\n      context.arc(64, 64, 60, 0, Math.PI * 2, false);\n      context.fill();\n    }\n\n    /**\n     * 创建一条线\n     * @param {Object} pros - The Line options | 线的配置\n     * @param {string} pros.color - Line base color | 基线颜色\n     * @param {string} pros.hoverColor - Line base hoverColor | 线的鼠标移入基线颜色\n     * @param {number} pros.spaceHeight - Line space height | 曲线空间高度\n     * @param {boolean} pros.hasHalo - Has light emitting line| 是否有发光线\n     * @param {boolean} pros.hasHaloAnimate - Has light emitting line Animate| 是否有发光线动画效果\n     * @param {number} pros.haloDensity - Spot density becomes more dense, more consumption performance | 光点密度 值越大 越浓密，越消耗性能\n     * @param {number} pros.haloRunRate - Light point motion frequency | 光点运动频率\n     * @param {color} pros.haloColor - Halo line color, default inheritance of color | 发光线颜色，默认继承color\n     * @param {number} pros.haloSize - Halo line color width | 发光线粗细\n     */\n\n  }, {\n    key: 'texture',\n\n    /**\n     * 光点纹理样式,返回一个纹理 {@link https://threejs.org/docs/#api/textures/Texture|THREE.Texture}\n     * @returns {THREE.Texture}\n     * @example\n     * Line.texture()\n     */\n    get: function get() {\n      if (!Line._texture) {\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = 128;\n        canvas.height = 128;\n        var context = canvas.getContext('2d');\n        Line.draw(context);\n        var texture = new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"X\" /* Texture */](canvas);\n        texture.needsUpdate = true;\n        Line._texture = texture;\n      }\n      return Line._texture;\n    }\n  }]);\n\n  function Line(pros) {\n    __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default()(this, Line);\n\n    // pros:\n    // {\n    //   color:0x55eeff,                 // 基线颜色\n    //   hoverColor:0xff9933,            // 线的鼠标移入基线颜色\n    //   spaceHeight:5,                  // 曲线空间高度\n    //   hasHalo:true,                   // 是否有发光线\n    //   hasHaloAnimate:true,            // 是否开启发光线动画效果\n    //   haloDensity:2,                  // 光点密度 值越大 越浓密，越消耗性能\n    //   haloRunRate:0.01,               // 光点运动频率\n    //   haloColor:0xffffff,             // 发光线颜色，默认继承color\n    //   haloSize:10,                    // 发光线粗细\n    // }\n    var fromCoord = pros.coords[0];\n    var toCoord = pros.coords[1];\n    var x1 = fromCoord[0];\n    var y1 = fromCoord[1];\n    var x2 = toCoord[0];\n    var y2 = toCoord[1];\n    var xdiff = x2 - x1;\n    var ydiff = y2 - y1;\n    var dif = Math.pow(xdiff * xdiff + ydiff * ydiff, 0.5); //二点间距离\n    var v3s = [new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"_0\" /* Vector3 */](x1, y1, pros.extrudeHeight), new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"_0\" /* Vector3 */]((x1 + x2) / 2, (y1 + y2) / 2, pros.extrudeHeight + pros.spaceHeight), new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"_0\" /* Vector3 */](x2, y2, pros.extrudeHeight)];\n\n    //画弧线\n    var curve = new (Function.prototype.bind.apply(__WEBPACK_IMPORTED_MODULE_6__three_js__[\"J\" /* QuadraticBezierCurve3 */], [null].concat(v3s)))();\n    var geometry = new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"q\" /* Geometry */]();\n    var amount = (dif + 0.1) * pros.haloDensity;\n    if (amount < 30) amount = 30;\n\n    geometry.vertices = curve.getPoints(amount).reverse();\n    geometry.vertices.forEach(function () {\n      geometry.colors.push(new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"g\" /* Color */](0xffffff));\n    });\n\n    var material = new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"v\" /* LineBasicMaterial */]({\n      color: pros.color,\n      opacity: 1.0,\n      blending: __WEBPACK_IMPORTED_MODULE_6__three_js__[\"a\" /* AdditiveBlending */],\n      transparent: true,\n      depthWrite: false,\n      vertexColors: true,\n      linewidth: 1 });\n\n    var _this = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(this, (Line.__proto__ || __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default()(Line)).call(this, geometry, material));\n\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()(_this.userData, pros);\n\n    //线条光晕效果\n    if (pros.hasHalo) {\n      _this.initHalo(geometry);\n    }\n    //当前线条索引\n    _this.index = Line.count++;\n    Line.array.push(_this);\n    return _this;\n  }\n\n  /**\n   * 初始化发光线\n   * @param {THREE.Geometry} geometry - 通过线条几何体初始化发光线 {@link https://threejs.org/docs/#api/core/Geometry|THREE.Geometry}\n   * @protected\n   */\n\n\n  __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default()(Line, [{\n    key: 'initHalo',\n    value: function initHalo(geometry) {\n      var line = this;\n      var amount = geometry.vertices.length;\n      var positions = new Float32Array(amount * 3);\n      var colors = new Float32Array(amount * 3);\n      var sizes = new Float32Array(amount);\n      var vertex = new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"_0\" /* Vector3 */]();\n      var color = new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"g\" /* Color */](__WEBPACK_IMPORTED_MODULE_8__util__[\"a\" /* colorToHex */](this.userData.color));\n      for (var i = 0; i < amount; i++) {\n\n        vertex.x = geometry.vertices[i].x;\n        vertex.y = geometry.vertices[i].y;\n        vertex.z = geometry.vertices[i].z;\n        vertex.toArray(positions, i * 3);\n\n        // if ( vertex.x < 0 ) {\n        //   color.setHSL( 0.5 + 0.1 * ( i / amount ), 0.7, 0.5 );\n        // } else {\n        //   color.setHSL( 0.0 + 0.1 * ( i / amount ), 0.9, 0.5 );\n        // }\n        color.toArray(colors, i * 3);\n        sizes[i] = line.userData.haloSize;\n      }\n      //positions = geometry.vertices;\n\n      var psBufferGeometry = new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"f\" /* BufferGeometry */]();\n      psBufferGeometry.addAttribute('position', new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"e\" /* BufferAttribute */](positions, 3));\n      psBufferGeometry.addAttribute('customColor', new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"e\" /* BufferAttribute */](colors, 3));\n      psBufferGeometry.addAttribute('size', new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"e\" /* BufferAttribute */](sizes, 1));\n\n      var shader = __WEBPACK_IMPORTED_MODULE_6__three_js__[\"O\" /* ShaderLib */].line;\n      shader.uniforms = {\n        amplitude: { value: 1.0 },\n        color: { value: new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"g\" /* Color */](__WEBPACK_IMPORTED_MODULE_8__util__[\"a\" /* colorToHex */](this.userData.haloColor)) },\n        texture: { value: Line.texture }\n      };\n\n      var shaderMaterial = new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"P\" /* ShaderMaterial */]({\n        uniforms: shader.uniforms,\n        vertexShader: shader.vertexShader,\n        fragmentShader: shader.fragmentShader,\n        blending: __WEBPACK_IMPORTED_MODULE_6__three_js__[\"a\" /* AdditiveBlending */],\n        depthTest: true,\n        depthWrite: false,\n        transparent: true\n        // sizeAttenuation: true,\n      });\n\n      //线条光晕\n      var halo = new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"H\" /* Points */](psBufferGeometry, shaderMaterial);\n      halo.dynamic = true;\n      this.add(halo);\n      this.halo = halo;\n\n      halo.update = function () {\n        if (!line.userData.hasHalo || !line.userData.hasHaloAnimate) return;\n\n        var time = Date.now() * 0.005 + line.index * 3;\n\n        var geometry = this.geometry;\n        var attributes = geometry.attributes;\n        for (var _i = 0; _i < attributes.size.array.length; _i++) {\n          attributes.size.array[_i] = line.userData.haloSize + line.userData.haloSize * Math.sin(line.userData.haloRunRate * _i + time);\n        }\n        attributes.size.needsUpdate = true;\n      };\n    }\n\n    /**\n     * 发光线的动画更新方法\n     * @private\n     */\n\n  }, {\n    key: 'update',\n    value: function update() {\n      //if(!this.userData.hasHalo || !this.userData.hasHaloAnimate)\n      this.halo.update();\n    }\n\n    /**\n     * 修改线颜色\n     * @param {color} color - 线条颜色\n     * @example\n     *\n     * line.setColor(0xff0000);\n     * line.setColor('hsl(240,100%,50%)');\n     * line.setColor('rgb(255,255,0)');\n     */\n\n  }, {\n    key: 'setColor',\n    value: function setColor(color, haloColor) {\n      //基线\n      if (typeof color !== 'undefined') this.material.color = new __WEBPACK_IMPORTED_MODULE_6__three_js__[\"g\" /* Color */](__WEBPACK_IMPORTED_MODULE_8__util__[\"a\" /* colorToHex */](color));\n      // //光线\n      // if(typeof haloColor!=='undefined' && this.userData.hasHalo )\n      // {\n      //   let color = new THREE.Color($.colorToHex(haloColor));\n      //   let colors=this.halo.geometry.attributes.customColor;\n      //   for ( let i = 0; i < colors.array.length; i+=3 ) {\n      //     colors.array[ i ] = color.r;\n      //     colors.array[ i + 1] = color.g;\n      //     colors.array[ i + 2] = color.b;\n      //   }\n      //   this.halo.geometry.attributes.customColor.needsUpdate = true;\n      // }\n    }\n\n    /**\n     * 设置发光线宽度,基线永远是1\n     * @param {number} size - 发光线粗细大小\n     */\n\n  }, {\n    key: 'setLineWidth',\n    value: function setLineWidth(size) {\n      if (!this.userData.hasHalo) {\n        console.warn('Setting the LineWidth must be hasHalo:true');\n      }\n      //粗细\n      this.userData.haloSize = size;\n    }\n\n    /**\n     * 线条鼠标移出事件\n     *\n     * @param dispatcher\n     * @param event\n     * @protected\n     * @example\n     *  // 注册事件\n     *  map.addEventListener('mouseout', (event) => {\n       *        let obj = event.target;\n       *\n       *        if(obj.type==='Line')\n       *        {\n       *           // 这里做鼠标移出操作\n       *        }\n       *      });\n     */\n\n  }, {\n    key: 'onmouseout',\n    value: function onmouseout(dispatcher, event) {\n      if (this.userData.hoverExclusive) {\n        //所有线条回复初始\n        Line.array.map(function (line) {\n          if (line.halo) {\n            line.halo.visible = true;\n          }\n          line.setColor(line.userData.color);\n        });\n      }\n\n      //选中线条\n      if (this.userData.hasHalo) {\n        //粗细\n        var size = this.userData.haloSize / 1.5;\n        this.userData.haloSize = size;\n      }\n      //颜色\n      this.setColor(this.userData.color);\n      dispatcher.dispatchEvent({ type: 'mouseout', target: this, orgEvent: event });\n    }\n    /**\n     * 线条鼠标移入事件\n     * @param dispatcher\n     * @param event\n     * @protected\n     * @example\n     *  // 注册事件\n     *  map.addEventListener('mouseover', (event) => {\n       *        let obj = event.target;\n       *\n       *        if(obj.type==='Line')\n       *        {\n       *           // 这里做鼠标移入操作\n       *        }\n       *      });\n     */\n\n  }, {\n    key: 'onmouseover',\n    value: function onmouseover(dispatcher, event) {\n      var _this2 = this;\n\n      if (this.userData.hoverExclusive) {\n        Line.array.map(function (line) {\n          if (line.halo) {\n            line.halo.visible = false;\n          }\n          line.setColor(_this2.userData.decayColor);\n        });\n      }\n\n      //选中线条\n      if (this.userData.hasHalo) {\n        //修改光点线 大小\n        var size = this.userData.haloSize * 1.5;\n        this.userData.haloSize = size;\n        this.halo.visible = true;\n      }\n      //颜色\n      this.setColor(this.userData.hoverColor ? this.userData.hoverColor : this.userData.color);\n      dispatcher.dispatchEvent({ type: 'mouseover', target: this, orgEvent: event });\n    }\n    /**\n     * 线条鼠标单击事件\n     * @param dispatcher\n     * @param event\n     * @protected\n     * @example\n     *  // 注册事件\n     *  map.addEventListener('mousedown', (event) => {\n       *        let obj = event.target;\n       *\n       *        if(obj.type==='Line')\n       *        {\n       *           // 这里做鼠标单击操作\n       *        }\n       *      });\n     */\n\n  }, {\n    key: 'onmousedown',\n    value: function onmousedown(dispatcher, event) {\n      dispatcher.dispatchEvent({ type: 'mousedown', target: this, orgEvent: event });\n    }\n  }]);\n\n  return Line;\n}(__WEBPACK_IMPORTED_MODULE_6__three_js__[\"u\" /* Line */]);\n/**\n * 线条数量\n * @static\n * @type {number}\n */\n\n\nLine.count = 0;\nLine.array = [];\nLine._texture = null;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Line);\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'app',\n    data: function data() {\n        return {\n            title: '',\n            isMax: false\n        };\n    },\n\n    methods: {\n        setTitle: function setTitle(title) {\n            this.title = this.$route.params.title;\n        },\n        max: function max() {}\n    },\n    created: function created() {\n        // this.$on('setTitle',this.setTitle);\n        //init menu\n        this.items = this.$router.options.routes.filter(function (route) {\n            return route.isMenu;\n        }).map(function (route) {\n            return {\n                name: route.name,\n                title: route.component.title,\n                path: route.path,\n                menuIcon: 'icon iconfont ' + route.menuIcon\n            };\n        });\n    },\n    mounted: function mounted() {}\n});\n\n/***/ }),\n\n/***/ \"xM6Q\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"xRke\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Map3D; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__ = __webpack_require__(\"Gu7T\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__ = __webpack_require__(\"wxAW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Detector_js__ = __webpack_require__(\"uJJO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Detector_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__Detector_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__three_js__ = __webpack_require__(\"tqxb\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__util__ = __webpack_require__(\"LOkV\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Font3D_js__ = __webpack_require__(\"rpgj\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__tween_min_js__ = __webpack_require__(\"mHXv\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__OrbitControls_js__ = __webpack_require__(\"bZxG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__Event_js__ = __webpack_require__(\"nHYM\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__stats_js__ = __webpack_require__(\"pjjz\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__stats_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11__stats_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__Map3D_Area__ = __webpack_require__(\"0lfP\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__Map3D_DataRange__ = __webpack_require__(\"j7Vc\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__Map3D_Mark__ = __webpack_require__(\"Y5xE\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__Map3D_Line__ = __webpack_require__(\"xEjv\");\n/* unused harmony reexport Area */\n/* unused harmony reexport Mark */\n/* unused harmony reexport Line */\n\n\n\n\n/**\n * 3D地图\n * Created by zhu18.github.io on 2017/11/19.\n * @author 朱润亚 <zhu18@vip.qq.com>\n * @version beta v1.0.3\n * @module Map3D\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * 地图立体参数设置\n * @type {{amount: number, bevelThickness: number, bevelSize: number, bevelEnabled: boolean, bevelSegments: number, curveSegments: number, steps: number}}\n */\nvar extrudeOption = {\n  amount: 1, //厚度\n  bevelThickness: 1,\n  bevelSize: .2,\n  bevelEnabled: false,\n  bevelSegments: 5,\n  curveSegments: 1,\n  steps: 1\n};\n\n/**\n * 创建3D地图.\n * @class\n * @example\n * //配置默认值\n * let opt={\n *      name:'',                // 调试使用，window['name']为该实例对象，注意设置debugger:true启用\n *      el:document.body,       // 容器\n *      geoData:null,           // 地图geojson数据\n *      hasStats:true,          // 是否显示性能面板\n *      hasControls:true,       // 用户是否能控制视角\n *      autoRotate:false,       // 是否自动旋转视角\n *      ambientColor:0x333333,  // 环境光颜色\n *      directionalColor:0xffffff,// 平行光颜色\n *      hasLoadEffect:false,    // 是否有加载效果\n *      debugger:false,         // 调试模式\n *      cameraPosition:{x:0,y:0,z:40},// 相机位置\n *      visualMap:null,         // 直观图图例\n *      extrude:extrudeOption,  // 立体厚度参数\n *\n *      area:{\n *          data:[],            // 地图用户数据[{ name:'北京', value:, color:0xff3333 }...]\n *          // area参数默认值\n *          name:'',            // 区域名称\n *          color:0x3366ff,     // 地图颜色\n *          hoverColor:0xff9933,// 鼠标移入颜色\n *          lineColor:0xffffff, // 线颜色\n *          opacity:1,          // 地图透明度\n *          hasPhong:true,      // 是否反光材质\n *          shininess:50,       // 反光材质光滑度\n *          hoverAnimaTime:100, // 鼠标移入动画过渡时间\n *          loadEffect:false,   // 区域加载效果\n *          hasHoverHeight:true,// 鼠标移入区域升高\n *      },\n *\n *      mark:{\n *          data:[],            // 标注点数据[{ name:'XXX', coord:[11,22], value:13 }...]\n *          // mark参数默认值\n *          name:'',            // 标注名称\n *          color:0xffffff,     // 标注点颜色\n *          hoverColor:0xff9933,// 鼠标移入颜色\n *          hoverAnimaTime:100, // 鼠标移入动画过渡时间\n *          min:0.01,\n *          max:5,\n *      },\n *\n *      line:{\n *          data:[],                        //线数据[{ fromName:'', toName:'', coords:[toCoord, fromCoord] }...]\n *          // line参数默认值\n *          color:0x55eeff,                 // 颜色\n *          hoverColor:0xff9933,            // 鼠标移入颜色\n *          hoverExclusive:true,            // 鼠标移入排除其他线条\n *          hoverAnimaTime:100,             // 鼠标移入动画过渡时间\n *          spaceHeight:5,                  // 曲线空间高度\n *          hasHalo:true,                   // 是否开启光晕效果\n *          hasHaloAnimate:true,            // 是否开启光晕动画效果\n *          haloDensity:2,                  // 光点密度 值越大 越浓密，越消耗性能\n *          haloRunRate:0.01,               // 光点运动频率\n *          haloColor:0xffffff,             // 默认继承color颜色[不建议修改]\n *          haloSize:10,                    // 光晕大小\n *          decayColor:0x222222,            // 未激活线条颜色\n *      },\n *\n *      //内置对象\n *      mapObject:null,     // 地图对象\n *      areaGroup:null,     // 区域组\n *      lineGroup:null,     // 线条组\n *      markGroup:null,     // 标记组\n *      scene:null,         // 场景对象\n *      camera:null,        // 相机对象\n *      renderer:null,      // 渲染器对象\n *      stats:null,         // 性能对象\n *      controls:null,      // 控制器对象\n *      _w:0,               // 呈现宽度\n *      _h:0,               // 呈现高度\n *      __event:null,        // 事件对象\n *  }\n *\n * let map = new Map3D(opt);\n *\n * //事件注册\n *   map.addEventListener('mousedown', function (event) {\n *        let obj = event.target;\n *        if(obj.type==='Area') //type='Area|Line|Mark'\n *          obj.setColor('#ff6666', 500);\n *      });\n *\n *   map.addEventListener('mouseout', (event) => {\n *        let obj = event.target;\n *        console.log(obj.type+':out')\n *      });\n *\n *   map.addEventListener('mouseover', (event) => {\n *        let obj = event.target;\n *        console.log(obj.userData.name);\n *        //self.mapTitlePositon.left = $(window).scrollLeft() + event.clientX + 20 + 'px';\n *        //self.mapTitlePositon.top = $(window).scrollTop() + event.clientY + 20 + 'px';\n *      })\n *\n *   map.addEventListener('resize', function (event) {\n *        console.log('resize...');\n *      });\n */\n\nvar Map3D = function () {\n  function Map3D(o) {\n    __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default()(this, Map3D);\n\n    if (!__WEBPACK_IMPORTED_MODULE_4__Detector_js___default.a.webgl) {\n      console.warn('不支持webgl,停止渲染.');\n      return;\n    }\n    var opt = {\n      name: '', //调试使用，window['name']为该实例对象，注意设置debugger:true启用\n      el: document.body, //容器\n      geoData: null, //地图geojson数据\n      hasStats: true, //是否显示性能面板\n      hasControls: true, //用户是否能控制视角\n      autoRotate: false, //是否自动旋转视角\n      ambientColor: 0x333333, //环境光颜色\n      directionalColor: 0xffffff, //平行光颜色\n      hasLoadEffect: false, //是否有加载效果\n      debugger: false, //调试模式\n      cameraPosition: { x: 0, y: 0, z: 40 }, //相机位置\n      extrude: extrudeOption, //立体厚度参数\n\n      area: {\n        data: [], //地图用户数据[{name:'北京',value:,color:0xff3333}...]\n        //area参数默认值\n        name: '', // 区域名称\n        color: 0x3366ff, //地图颜色\n        hoverColor: 0xff9933, //鼠标移入颜色\n        lineColor: 0xffffff, //线颜色\n        opacity: 1, //地图透明度\n        hasPhong: true, //是否反光材质\n        shininess: 50, //反光材质光滑度\n        hoverAnimaTime: 300, //鼠标移入动画过渡时间\n        loadEffect: false, //区域加载效果\n        hasHoverHeight: true //鼠标移入区域升高\n      },\n\n      dataRange: {\n        data: [],\n        width: 1,\n        height: 0.7,\n        position: { x: 23, y: -8, z: 1 },\n        spacing: 0.2,\n        text: ['高', '低'],\n        textColor: '#ffffff',\n        showName: false,\n        namePosition: { x: -2, y: 0, z: 0 },\n        hoverColor: 0xff9933,\n        hoverAnimaTime: 100,\n        hasHoverHeight: true, //鼠标移入区域升高\n        hasEvent: true\n      },\n\n      mark: {\n        data: [], //标注点数据[{name:'XXX',coord:[11,22],value:13}...]\n        // mark参数默认值\n        name: '', // 标注名称\n        color: 0xffffff, //标注点颜色\n        hoverColor: 0xff9933, //鼠标移入颜色\n        hoverAnimaTime: 100, //鼠标移入动画过渡时间\n        min: 0.01,\n        max: 5\n      },\n      line: {\n        data: [], //线数据[{fromName:'',toName:'',coords:[toCoord,fromCoord]}...]\n        //line可继承参数\n        color: 0x55eeff,\n        hoverColor: 0xff9933, // 鼠标移入颜色\n        hoverExclusive: true, // 鼠标移入排除其他线条\n        hoverAnimaTime: 100, // 鼠标移入动画过渡时间\n        spaceHeight: 5, // 曲线空间高度\n        hasHalo: true, // 是否开启光晕效果\n        hasHaloAnimate: true, // 是否开启光晕动画效果\n        haloDensity: 2, // 光点密度 值越大 越浓密，越消耗性能\n        haloRunRate: 0.01, // 光点运动频率\n        haloColor: 0xffffff, // 默认继承color颜色[不建议修改]\n        haloSize: 10, // 光晕大小\n        decayColor: 0x222222 // 未激活线条颜色\n      },\n\n      //内置对象\n      mapObject: null, //地图对象\n      areaGroup: null, //区域组\n      lineGroup: null, //线条组\n      markGroup: null, //标记组\n      scene: null, //场景对象-内部调用\n      camera: null, //相机对象-内部调用\n      renderer: null, //渲染器对象-内部调用\n      stats: null, //性能对象-内部调用\n      controls: null, //控制器对象-内部调用\n      areaCount: 0,\n      _w: 0,\n      _h: 0,\n      __event: null //事件对象\n    };\n    __WEBPACK_IMPORTED_MODULE_6__util__[\"b\" /* extend */](true, opt, o);\n    __WEBPACK_IMPORTED_MODULE_6__util__[\"b\" /* extend */](true, this, opt);\n\n    if (!this.geoData) {\n      console.warn('Map3D no geoData.');\n      return;\n    }\n\n    this._w = this.el.offsetWidth;\n    this._h = this.el.offsetHeight;\n    console.time('init');\n    this.init();\n    console.timeEnd('init');\n    this.initEvent();\n  }\n  /**\n   * 初始化方法\n   */\n\n\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default()(Map3D, [{\n    key: 'init',\n    value: function init() {\n      this.el.innerHTML = '';\n      this.scene = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"N\" /* Scene */]({ antialias: true });\n      this.camera = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"E\" /* PerspectiveCamera */](70, this._w / this._h, 0.1, 1000);\n      this.renderer = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"_1\" /* WebGLRenderer */]({ alpha: true });\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.camera.position.set(this.cameraPosition.x, this.cameraPosition.y, this.cameraPosition.z);\n\n      this.camera.lookAt(this.scene.position);\n      this.renderer.setSize(this._w, this._h);\n      //场景雾化\n      //this.scene.fog=new THREE.FogExp2(0xaaffff,0.005)\n      this.scene.fog = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"o\" /* Fog */](0xffffff, 0.15, 1000);\n      this.scene.add(new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"b\" /* AmbientLight */](__WEBPACK_IMPORTED_MODULE_6__util__[\"a\" /* colorToHex */](this.ambientColor)));\n      this.dirLight = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"i\" /* DirectionalLight */](__WEBPACK_IMPORTED_MODULE_6__util__[\"a\" /* colorToHex */](this.directionalColor));\n      this.dirLight.position.set(0, 50, 50);\n      this.scene.add(this.dirLight);\n      this.dirLightDown = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"i\" /* DirectionalLight */](__WEBPACK_IMPORTED_MODULE_6__util__[\"a\" /* colorToHex */](this.directionalColor));\n      this.dirLightDown.position.set(0, -50, 0);\n      this.scene.add(this.dirLightDown);\n\n      this.spotLight = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"T\" /* SpotLight */](__WEBPACK_IMPORTED_MODULE_6__util__[\"a\" /* colorToHex */](this.color));\n      this.spotLight.position.set(0, 150, 150);\n      this.spotLight.intensity = 0.7;\n      this.spotLight.target = this.scene;\n      this.scene.add(this.spotLight);\n\n      //创建地图区域添加到 mapObject\n      this.mapObject = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"s\" /* Group */]();\n\n      this.initControls();\n      this.initDebug();\n\n      console.time('initArea');\n      //初始化区域\n      this.initArea();\n      console.timeEnd('initArea');\n\n      console.time('initMark');\n      //初始化标注点\n      this.initMark();\n      console.timeEnd('initMark');\n\n      console.time('initLine');\n      //初始化线条\n      this.initLine();\n      console.timeEnd('initLine');\n\n      console.time('inintDataRange');\n      //初始化数据等级范围\n      this.inintDataRange();\n      console.timeEnd('inintDataRange');\n\n      //根据数据中心位置偏移\n      if (this.geoData.cp) {\n        this.mapObject.position.set(-this.geoData.cp[0], -this.geoData.cp[1], 0);\n      }\n      this.scene.add(this.mapObject);\n      this.scene.add(this.camera);\n      this.el.appendChild(this.renderer.domElement);\n      this.renderScene();\n    }\n    /**\n     * 地图区域初始化方法\n     * @param {json} areaOpt - 区域配置\n     */\n\n  }, {\n    key: 'initArea',\n    value: function initArea(areaOpt) {\n      var _this = this;\n\n      __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(this.area, areaOpt);\n      __WEBPACK_IMPORTED_MODULE_12__Map3D_Area__[\"a\" /* default */].count = 0;\n      if (this.areaGroup) {\n        var _areaGroup;\n\n        (_areaGroup = this.areaGroup).remove.apply(_areaGroup, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(this.areaGroup.children));\n      }\n      this.areaGroup = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"s\" /* Group */]();\n      this.geoData.features.forEach(function (item) {\n        //地图属性 & 用户属性合并\n        var itemUserData = _this.area.data.find(function (val) {\n          return val.name === item.properties.name;\n        });\n        __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(item.properties, itemUserData);\n        _this.createArea(item);\n      });\n      this.mapObject.add(this.areaGroup);\n    }\n  }, {\n    key: 'inintDataRange',\n    value: function inintDataRange(dataRangeOpt) {\n      var _this2 = this;\n\n      __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(this.dataRange, dataRangeOpt);\n      //继承map立体高度\n      var dataRangeOptClone = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({ extrudeHeight: this.extrude.amount / 2 }, this.dataRange);\n      delete dataRangeOptClone.data;\n      if (this.dataRangeGroup) {\n        var _dataRangeGroup;\n\n        (_dataRangeGroup = this.dataRangeGroup).remove.apply(_dataRangeGroup, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(this.dataRangeGroup.children));\n      }\n      __WEBPACK_IMPORTED_MODULE_13__Map3D_DataRange__[\"a\" /* default */].count = 0;\n\n      this.dataRangeGroup = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"s\" /* Group */]();\n\n      this.dataRange.data.forEach(function (userData) {\n        var opt = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({}, dataRangeOptClone, userData);\n        //数据范围创建\n        var range = new __WEBPACK_IMPORTED_MODULE_13__Map3D_DataRange__[\"a\" /* default */](opt);\n        //区域与范围关联\n        range.rangeAreas = [];\n        _this2.dataRangeGroup.add(range);\n\n        //根据范围调整区域颜色显示\n        var min = typeof userData.min === 'undefined' ? -999999999999 : userData.min;\n        var max = typeof userData.max === 'undefined' ? 999999999999 : userData.max;\n        var tempArea = null;\n        //区域与范围关联\n        _this2.area.data.forEach(function (area) {\n          if (typeof area.value !== 'undefined') {\n            if (min < area.value && area.value < max) {\n              tempArea = _this2.getArea(area.name);\n              if (tempArea) {\n                range.rangeAreas.push(tempArea);\n                tempArea.setColor(userData.color);\n              }\n            }\n          }\n        });\n      });\n\n      //txt 设置\n      if (this.dataRange.data.length > 0) {\n        if (this.dataRange.text[0]) {\n          var txt = __WEBPACK_IMPORTED_MODULE_7__Font3D_js__[\"a\" /* default */].create(this.dataRange.text[0], { color: this.dataRange.textColor });\n          txt.position.add({ x: 0, y: 1, z: 0 });\n          this.dataRangeGroup.add(txt);\n        }\n        if (this.dataRange.text[1]) {\n          var _txt = __WEBPACK_IMPORTED_MODULE_7__Font3D_js__[\"a\" /* default */].create(this.dataRange.text[1], { color: this.dataRange.textColor });\n          _txt.position.add({ x: 0, y: -(this.dataRange.height + __WEBPACK_IMPORTED_MODULE_13__Map3D_DataRange__[\"a\" /* default */].count * (this.dataRange.height + this.dataRange.spacing)), z: 0 });\n          this.dataRangeGroup.add(_txt);\n        }\n      }\n\n      //调整整体位置\n      this.dataRangeGroup.position.add(this.dataRange.position);\n      this.scene.add(this.dataRangeGroup);\n    }\n    /**\n     * 标注初始化方法\n     * @param markOpt - 标注配置\n     */\n\n  }, {\n    key: 'initMark',\n    value: function initMark(markOpt) {\n      var _this3 = this;\n\n      __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(this.mark, markOpt);\n      //继承map立体高度\n      var markClone = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({ extrudeHeight: this.extrude.amount }, this.mark);\n      delete markClone.data;\n      __WEBPACK_IMPORTED_MODULE_14__Map3D_Mark__[\"a\" /* default */].count = 0;\n      if (this.markGroup) {\n        var _markGroup;\n\n        (_markGroup = this.markGroup).remove.apply(_markGroup, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(this.markGroup.children));\n      }\n      this.markGroup = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"s\" /* Group */]();\n      this.mark.data.forEach(function (userData) {\n        var opt = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({}, markClone, userData);\n        var mark = new __WEBPACK_IMPORTED_MODULE_14__Map3D_Mark__[\"a\" /* default */](opt);\n        _this3.markGroup.add(mark);\n      });\n      this.mapObject.add(this.markGroup);\n    }\n\n    /**\n     * 线条初始化方法\n     * @param lineOpt - 线条配置\n     */\n\n  }, {\n    key: 'initLine',\n    value: function initLine(lineOpt) {\n      var _this4 = this;\n\n      __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(this.line, lineOpt);\n      var lineClone = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({ extrudeHeight: this.extrude.amount }, this.line);\n      delete lineClone.data;\n      __WEBPACK_IMPORTED_MODULE_15__Map3D_Line__[\"a\" /* default */].count = 0;\n      //重新生成所有线条\n      if (this.lineGroup) {\n        var _lineGroup;\n\n        (_lineGroup = this.lineGroup).remove.apply(_lineGroup, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(this.lineGroup.children));\n      }\n      this.lineGroup = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"s\" /* Group */]();\n      this.line.data.forEach(function (userData) {\n        var opt = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({}, lineClone, userData);\n        var line = new __WEBPACK_IMPORTED_MODULE_15__Map3D_Line__[\"a\" /* default */](opt);\n        _this4.lineGroup.add(line);\n      });\n      this.mapObject.add(this.lineGroup);\n    }\n\n    /**\n     * 相机位置-现有位置追加\n     * @param {v3} ps - 如：{x:0,y:0,y:2}\n     * @param {number} [time] - 动画时间\n     * @param {int} [delay=0] - 延时\n     */\n\n  }, {\n    key: 'addCameraPosition',\n    value: function addCameraPosition(v3, time, delay, callback) {\n      var v = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"_0\" /* Vector3 */](v3.x, v3.y, v3.z);\n      if (typeof time === 'number') {\n        var to = this.camera.position.clone().add(v);\n        if (!callback) callback = function callback() {};\n        new __WEBPACK_IMPORTED_MODULE_8__tween_min_js__[\"a\" /* default */].Tween(this.camera.position).to(to, time).delay(delay || 0).start().onComplete(callback);\n      } else this.camera.position.add(v3.x, v3.y, v3.z);\n    }\n    /**\n     * 相机位置-新位置设置\n     * @param {v3} ps - 如：{x:0,y:0,y:2}\n     * @param {number} [time] - 动画时间\n     * @param {int} [delay=0] - 延时\n     */\n\n  }, {\n    key: 'setCameraPosition',\n    value: function setCameraPosition(v3, time, delay, easing, callback) {\n      if (time && typeof time === 'number') __WEBPACK_IMPORTED_MODULE_6__util__[\"c\" /* transition */](this.camera.position, v3, time, delay, easing, callback);else this.camera.position.set(v3.x, v3.y, v3.z);\n    }\n\n    /**\n     * 销毁地图对象\n     */\n\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      this.el.innerHTML = '';\n      this.__event.dispose();\n    }\n    /**\n     * 禁用\n     * @param {boolean} disable - 是否禁用\n     */\n\n  }, {\n    key: 'disable',\n    value: function disable(_disable) {\n      _disable = typeof _disable === 'undefined' ? true : _disable;\n      if (_disable) {\n        this.el.style.pointerEvents = 'none';\n        this.__event.enable = !_disable;\n      } else {\n        this.el.style.pointerEvents = '';\n        this.__event.enable = !_disable;\n      }\n    }\n\n    /**\n     * 初始化地图事件\n     * @private\n     */\n\n  }, {\n    key: 'initEvent',\n    value: function initEvent() {\n      this.__event = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"Event\"](this);\n    }\n\n    /**\n     * 初始化控制器,返回{@link https://threejs.org/docs/#examples/controls/OrbitControls|THREE.OrbitControls}\n     * @returns {THREE.OrbitControls}\n     */\n\n  }, {\n    key: 'initControls',\n    value: function initControls() {\n      if (!this.hasControls) return;\n      this.controls = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"OrbitControls\"](this.camera, this.renderer.domElement);\n      this.controls.userPan = false;\n      this.controls.autoRotate = this.autoRotate;\n      this.controls.userPanSpeed = 1;\n      return this.controls;\n    }\n\n    /**\n     * 初始化性能监控器 - debugger:true 自动开启，返回{@link https://github.com/mrdoob/stats.js|stats}\n     * @returns {Stats}\n     */\n\n  }, {\n    key: 'initStats',\n    value: function initStats() {\n      this.stats = new __WEBPACK_IMPORTED_MODULE_11__stats_js___default.a();\n      this.stats.setMode(0); //0:fps |1:ms\n      this.stats.domElement.style.position = 'absolute';\n      this.stats.domElement.style.top = '70px';\n      this.stats.domElement.style.right = '0px';\n      this.el.appendChild(this.stats.domElement);\n      return this.stats;\n    }\n\n    /**\n     * 初始化调试模式\n     * @see Map3d#initStats\n     */\n\n  }, {\n    key: 'initDebug',\n    value: function initDebug() {\n      if (!this.debugger) return;\n      if (this.name) {\n        window[this.name] = this;\n      }\n      this.initStats();\n      var helper = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"j\" /* DirectionalLightHelper */](this.dirLight, 5);\n      this.scene.add(helper);\n      var spotLightHelper = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"U\" /* SpotLightHelper */](this.spotLight);\n      this.scene.add(spotLightHelper);\n      var size = 300;\n      var divisions = 40;\n      var gridHelper = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"r\" /* GridHelper */](size, divisions);\n      this.scene.add(gridHelper);\n      var axisHelper = new __WEBPACK_IMPORTED_MODULE_5__three_js__[\"c\" /* AxisHelper */](50);\n      this.scene.add(axisHelper);\n\n      this.infoPlane = document.createElement('div');\n      this.infoPlane.contentEditable = true;\n      this.infoPlane.style.position = 'absolute';\n      this.infoPlane.style.bottom = '70px';\n      this.infoPlane.style.right = '10px';\n      this.infoPlane.style.padding = '5px 10px';\n      this.infoPlane.style.background = 'rbga(0,0,0,.5)';\n      this.infoPlane.style.border = '1px solid #aaa';\n      this.infoPlane.style.borderRadius = '5px';\n      this.infoPlane.style.color = '#eee';\n      this.el.appendChild(this.infoPlane);\n    }\n  }, {\n    key: 'printCameraPosition',\n    value: function printCameraPosition() {\n      var v3 = this.camera.position;\n      this.infoPlane.textContent = '相机位置 {x:' + v3.x.toFixed(4) + \",y:\" + v3.y.toFixed(4) + \",z:\" + v3.z.toFixed(4) + '}';\n    }\n\n    /**\n     * 删除区域\n     * @param {string|Area} area - 要删除的区域名称或者区域对象\n     */\n\n  }, {\n    key: 'reomveArea',\n    value: function reomveArea(area) {\n      if (typeof area === 'string') area = this.getArea(area);\n      this.areaGroup.remove(area);\n    }\n\n    /**\n     * 删除标注\n     * @param {string|Mark} mark - 要删除的标注名称或者标注对象\n     */\n\n  }, {\n    key: 'removeMark',\n    value: function removeMark(mark) {\n      if (typeof mark === 'string') mark = this.getMark(mark);\n      this.markGroup.remove(mark);\n    }\n    /**\n     * 得到地图区域\n     * @param {string} areaName - 地图区域名称\n     * @returns {Area}\n     */\n\n  }, {\n    key: 'getArea',\n    value: function getArea(areaName) {\n      return this.areaGroup.getObjectByName(areaName);\n    }\n    /**\n     * 得到地图标注\n     * @param {string} markName - 地图标注名称\n     * @returns {Mark}\n     */\n\n  }, {\n    key: 'getMark',\n    value: function getMark(markName) {\n      return this.markGroup.getObjectByName(areaName);\n    }\n\n    /**\n     * 通过name得到地图相关对象集合\n     * @param {string} name - 对象名称\n     * @returns {Array}\n     */\n\n  }, {\n    key: 'getObjectsByName',\n    value: function getObjectsByName(name) {\n      var objects = [];\n      this.scene.traverse(function (obj) {\n        if (obj.name === name) {\n          objects.push(obj);\n        }\n      });\n      return objects;\n    }\n\n    /**\n     * 地图呈现\n     * @protected\n     */\n\n  }, {\n    key: 'renderScene',\n    value: function renderScene() {\n      this.renderer.clear();\n      requestAnimationFrame(this.renderScene.bind(this));\n\n      // this.pos=this.pos||0;\n      // let light = this.scene.getObjectByName('pointLight');\n      // let p = this.scene.getObjectByName('point');\n      // if(this.pos < 1){\n      //   let v3=this.curve.getPointAt(this.pos);\n      //   light.position.set(v3.x,v3.y,v3.z);\n      //   p.position.set(v3.x,v3.y,v3.z);\n      //     this.pos += 0.001\n      // }else{\n      //   this.pos = 0;\n      // }\n      this.areaGroup.children.map(function (area) {\n        if (area) area.update();\n      });\n\n      this.lineGroup.children.map(function (line) {\n        if (line.halo) line.halo.update();\n      });\n\n      this.markGroup.children.map(function (mark) {\n        mark.update();\n      });\n\n      __WEBPACK_IMPORTED_MODULE_8__tween_min_js__[\"a\" /* default */].update();\n\n      if (this.hasControls) this.controls.update();\n\n      if (this.debugger) {\n        this.stats.update();\n        this.printCameraPosition();\n      }\n\n      this.renderer.render(this.scene, this.camera);\n    }\n\n    /**\n     * 地图大小改变时事件\n     * @private\n     */\n\n  }, {\n    key: '_onResize',\n    value: function _onResize() {\n      this.dispatchEvent({ type: 'resize', el: null });\n    }\n\n    /**\n     *\n     * 鼠标移动时触发\n     * @param event\n     * @param intersects\n     * @private\n     */\n\n  }, {\n    key: '_onMouseMove',\n    value: function _onMouseMove(event, intersects) {\n      if (intersects.length > 0) {\n        //之前选中对象ID\n        var preSelectedObjID = this.selectedObj ? this.selectedObj.id : '';\n        this.selectedObj = null;\n\n        for (var i = 0; i < intersects.length; i++) {\n          if (intersects[i].object && intersects[i].object.type === 'Mesh' && intersects[i].object.parent.type && intersects[i].object.parent.type === 'Area') {\n            this.selectedObj = intersects[i].object.parent;\n            break;\n          } else if (intersects[i].object && intersects[i].object.type === 'Mark') {\n            this.selectedObj = intersects[i].object;\n            break;\n          } else if (intersects[i].object && intersects[i].object.parent == this.lineGroup && intersects[i].object.type === 'Line') {\n            this.selectedObj = intersects[i].object;\n            break;\n          } else if (intersects[i].object && intersects[i].object.parent && intersects[i].object.parent.type === 'DataRange') {\n            this.selectedObj = intersects[i].object.parent;\n            break;\n          }\n        }\n        /* 选中区域元素 */\n        //已选中对象\n        if (this.selectedObj) {\n          //如果不是同一个对象\n          if (preSelectedObjID != this.selectedObj.id) {\n            //老对象触发mouseout\n            if (preSelectedObjID) {\n              var preSelectedObj = this.scene.getObjectById(preSelectedObjID);\n              //移出区域还原\n              if (preSelectedObj) preSelectedObj.onmouseout(this, event);\n            }\n            //新对象触发mouseover\n            this.selectedObj.onmouseover(this, event);\n          }\n        } else {\n          //未选中对象,老对象触发mouseout\n          if (preSelectedObjID) {\n            var _preSelectedObj = this.scene.getObjectById(preSelectedObjID);\n            //移出区域还原\n            if (_preSelectedObj) _preSelectedObj.onmouseout(this, event);\n          }\n        }\n      } else {\n        /* 没有选中任何对象，还原已选中元素 */\n        if (this.selectedObj) {\n          //移出区域还原\n          this.selectedObj.onmouseout(this, event);\n        }\n        this.selectedObj = null;\n      }\n    }\n\n    /**\n     * 鼠标单击触发\n     * @param event\n     * @param intersects\n     * @private\n     */\n\n  }, {\n    key: '_onMouseDown',\n    value: function _onMouseDown(event, intersects) {\n\n      if (intersects.length > 0) {\n        var selectedObj = null;\n        for (var i = 0; i < intersects.length; i++) {\n          if (intersects[i].object && intersects[i].object.type == 'Mesh' && intersects[i].object.parent.type && intersects[i].object.parent.type == 'Area') {\n            selectedObj = intersects[i].object.parent;\n            break;\n          } else if (intersects[i].object && intersects[i].object.type === 'Mark') {\n            selectedObj = intersects[i].object;\n            break;\n          } else if (intersects[i].object && intersects[i].object.parent && intersects[i].object.parent.type === 'DataRange') {\n            selectedObj = intersects[i].object.parent;\n            break;\n          }\n        }\n        if (selectedObj) {\n          this.debugger && console.log(selectedObj);\n          selectedObj.onmousedown(this, event);\n        }\n      }\n    }\n    //创建地图区域块\n    //结构 parentObj:[area1,area2...]\n    /**\n     * 创建区域\n     * @param {Object} item\n     * @param {string} [item.name=''] - 区域名称\n     * @param {color} [item.color=0x3366ff] - 区域颜色\n     * @param {color} [item.hoverColor=0xff9933] - 区域鼠标选中颜色\n     * @param {number} [item.opacity=1] - 区域透明度\n     * @param {boolean} [item.hasPhong=true] - 是否反光材质\n     * @param {number} [item.shininess=50] - 反光材质光滑度\n     * @param {number} [item.hoverAnimaTime=100] - 鼠标移入动画过渡时间\n     * @param {number} [item.loadEffect=false] - 区域加载效果\n     * @param {boolean} [item.hasHoverHeight=true] - 鼠标移入区域升高\n     */\n\n  }, {\n    key: 'createArea',\n    value: function createArea(item) {\n      // item.properties 一般有{id,name,cp,childNum,color,value,extrude}\n      // Area继承Map3D属性\n      var pros = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({\n        color: this.area.color, //地图颜色\n        hoverColor: this.area.hoverColor, //鼠标移入颜色\n        lineColor: this.area.lineColor, //线颜色\n        opacity: this.area.opacity, //地图透明度\n        hasPhong: this.area.hasPhong, //是否反光材质\n        shininess: this.area.shininess, //反光材质光滑度\n        hoverAnimaTime: this.area.hoverAnimaTime, //鼠标移入动画过渡时间\n        extrude: this.extrude, //立体厚度参数\n        loadEffect: this.area.loadEffect, //加载效果\n        hasHoverHeight: this.area.hasHoverHeight //有标注，选中区域不升高\n      }, item.properties);\n\n      var coords = [];\n      if (!item.geometry) return;\n      if (item.geometry.type == 'Polygon') {\n        coords.push(item.geometry.coordinates[0]);\n      } else if (item.geometry.type == 'MultiPolygon') {\n        for (var i = 0; i < item.geometry.coordinates.length; i++) {\n          coords.push(item.geometry.coordinates[i][0]);\n        }\n      }\n      pros.coords = coords;\n      var area = new __WEBPACK_IMPORTED_MODULE_12__Map3D_Area__[\"a\" /* default */](pros);\n      this.areaGroup.add(area);\n    }\n  }]);\n\n  return Map3D;\n}();\n\n/**\n * 重写three自定义事件\n */\n\n\n__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_5__three_js__[\"m\" /* EventDispatcher */].prototype, { dispatchEvent: function dispatchEvent(event) {\n    if (this._listeners === undefined) return;\n    var listeners = this._listeners;\n    var listenerArray = listeners[event.type];\n    if (listenerArray !== undefined) {\n      //Object.assign(event, event.orgEvent);\n      var target = event.target;\n      //通过原始事件构造自定义事件\n      for (var a in event.orgEvent) {\n        event[a] = event.orgEvent[a];\n      } //覆盖原始事件目标对象\n      event.target = target || this;\n      var array = listenerArray.slice(0);\n      for (var i = 0, l = array.length; i < l; i++) {\n        array[i].call(this, event);\n      }\n    }\n  } });\n__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(Map3D.prototype, __WEBPACK_IMPORTED_MODULE_5__three_js__[\"m\" /* EventDispatcher */].prototype);\n\n\n\n/***/ }),\n\n/***/ \"yJqe\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_assets_js_Map3D_js__ = __webpack_require__(\"xRke\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nvar self = void 0;\nvar map = void 0,\n    map1 = void 0;\n\nfunction onmouseout(event) {\n  self.isOverMap = false;\n}\nfunction onmouseover(event) {\n  var area = event.target;\n  //console.log(obj._name+\"x:\"+event.clientX+\",y:\"+event.clientY);\n  self.mapName = area.userData.name; //+\":\"+(area.userData.value||0);\n  self.isOverMap = true;\n  self.mapTitlePositon.left = $(window).scrollLeft() + event.clientX + 20 + 'px';\n  self.mapTitlePositon.top = $(window).scrollTop() + event.clientY + 20 + 'px';\n}\nfunction onmousedown(event) {\n  var area = event.target;\n  console.log(area);\n  console.log('selected:' + area.userData.name + \",id:\" + area.userData.id);\n  $.getJSON('./static/mapdata/geometryProvince/' + area.userData.id + '.json', function (geoData) {\n    map1 = new __WEBPACK_IMPORTED_MODULE_0_assets_js_Map3D_js__[\"a\" /* default */]({\n      el: self.$refs.map1,\n      geoData: geoData,\n      extrude: {\n        amount: .8,\n        bevelThickness: 1,\n        bevelSize: .2,\n        bevelEnabled: false,\n        bevelSegments: 5,\n        curveSegments: 1,\n        steps: 1\n      },\n      area: {\n        color: 0x336699,\n        lineColor: 0,\n        hoverColor: 0xff9933,\n        shininess: 20\n\n      }\n    });\n    self.openProvMap();\n\n    map1.addEventListener('mouseout', onmouseout);\n    map1.addEventListener('mouseover', onmouseover);\n\n    map1.setCameraPosition({ x: 0, y: -10, z: 10 }, 500);\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'map3d',\n  title: '地图-地图下钻',\n\n  data: function data() {\n    return {\n      isOverMap: false,\n      mapName: '',\n      mapTitlePositon: {\n        left: '800px',\n        top: '600px'\n      },\n      mapActiveLevel: 'china' // 'province'\n    };\n  },\n\n  methods: {\n    openProvMap: function openProvMap() {\n      self.mapActiveLevel = 'province';\n      map && map.disable();\n      map1 && map1.disable(false);\n    },\n    openChinaMap: function openChinaMap() {\n      self.mapActiveLevel = 'china';\n      map1 && map1.disable();\n      map && map.disable(false);\n    }\n  },\n  mounted: function mounted() {\n\n    self = this;\n    $.getJSON(\"./static/mapdata/china.json\", function (geoData) {\n      //            let sc=data.features.find(item=>item.properties.name=='新疆');\n      //            Object.assign(sc.properties,{color:'#ff9933',value:'2341'});\n\n      var opt = {\n        el: self.$refs.map,\n        geoData: geoData,\n        area: {\n          color: 0x3366ff,\n          lineColor: 0,\n          hoverColor: 0x99aaff,\n          shininess: 300,\n          opacity: .5,\n          data: [\n          // {name:'内蒙古',color:'rgb(66,140,255)',value:1155},\n          { name: '北京', color: '#ff6666', value: 155 }]\n        }\n\n      };\n      map = new __WEBPACK_IMPORTED_MODULE_0_assets_js_Map3D_js__[\"a\" /* default */](opt);\n      map.initArea({ data: [{ name: '内蒙古', color: 'rgb(66,140,255)', value: 1155 }, { name: '北京', color: '#ff6666', value: 155 }, { name: '湖南', color: 'rgb(33,255,100)', value: 25, opacity: 0.6 }] });\n      map.addEventListener('mousedown', onmousedown);\n      map.addEventListener('mouseout', onmouseout);\n      map.addEventListener('mouseover', onmouseover);\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"yf+M\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_assets_js_Map3D_js__ = __webpack_require__(\"xRke\");\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'map3d',\n  title: '地图-世界',\n\n  data: function data() {\n    return {\n      isOverMap: false,\n      mapName: '',\n      mapTitlePositon: {\n        left: '800px',\n        top: '600px'\n      }\n    };\n  },\n\n  methods: {},\n  mounted: function mounted() {\n    self = this;\n\n    $.getJSON(\"./static/mapdata/world.json\", function (geoData) {\n      var opt = {\n        name: 'map1',\n        el: self.$refs.map,\n        geoData: geoData,\n        // debugger:true,\n        area: {\n          color: 0x25313d, //0x99ee33,\n          lineColor: 0x7093ab,\n          hoverColor: 0x33ff99,\n          hasHoverHeight: true,\n          data: [{ name: 'China', color: '#55677a', value: 15 }]\n        },\n        line: {\n          data: []\n        }\n\n      };\n\n      geoData.features.forEach(function (i) {\n        //opt.area.data.push({name:i.properties.name,color:Math.random()*0x99ee33})\n        //线数据\n\n        opt.line.data.push({ fromName: i.properties.name,\n          toName: '',\n          haloDensity: 1000,\n          hasHaloAnimate: false,\n          spaceHeight: Math.random() * 30,\n          color: 0x57d2ff,\n          haloSize: Math.random() * 5,\n          coords: [i.properties.cp, i.properties.cp], //[116.4551,40.2539]\n          value: Math.random() * 7 });\n      });\n\n      var map = new __WEBPACK_IMPORTED_MODULE_0_assets_js_Map3D_js__[\"a\" /* default */](opt);\n      map.setCameraPosition({ x: 0, y: -200, z: 0 });\n      map.setCameraPosition({ x: 0, y: 0, z: 150 }, 1000, 500);\n\n      map.addEventListener('mousedown', function (event) {\n        var area = event.target;\n        var data = [];\n        var lineColor = Math.random() * 0xffffff;\n        geoData.features.forEach(function (i) {\n          //线数据\n          data.push({\n            fromName: i.properties.name,\n            toName: area.name,\n            haloDensity: 2,\n            hasHalo: false,\n            spaceHeight: 30,\n            color: lineColor,\n            haloSize: Math.random() * 10,\n            coords: [i.properties.cp, area.userData.cp],\n            value: Math.random() * 1 });\n        });\n\n        map.initLine({ data: data });\n      });\n\n      map.addEventListener('mouseout', function (event) {\n        self.isOverMap = false;\n      });\n\n      map.addEventListener('mouseover', function (event) {\n        var obj = event.target;\n        switch (obj.type) {\n          case 'Line':\n            self.mapName = obj.userData.fromName + '-' + obj.userData.toName;\n            break;\n          case 'Mark':\n            break;\n          case 'DataRange':\n            self.mapName = obj.userData.name + ':' + (obj.userData.min || '') + '-' + (obj.userData.max || '');\n            break;\n          case 'Area':\n            self.mapName = obj.userData.name;\n            break;\n          default:\n            self.mapName = obj.userData.name;\n            break;\n        }\n\n        self.isOverMap = true;\n        self.mapTitlePositon.left = $(window).scrollLeft() + event.clientX + 20 + 'px';\n        self.mapTitlePositon.top = $(window).scrollTop() + event.clientY + 20 + 'px';\n      });\n\n      map.addEventListener('resize', function (event) {\n        console.log('map resize...');\n      });\n    });\n  }\n});\n\n/***/ })\n\n},[0]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.eae7271ae4f11bfe9641.js","/**\n * Webgl Shader Library for three.js\n *\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\nimport * as THREE from './three.js'\n\n/**\n * 线条着色器,color,texure需要指定，流动效果请参考update实现\n * @type {{vertexShader: string, fragmentShader: string}}\n */\nTHREE.ShaderLib.line = {\n        uniforms: {\n                amplitude: { value: 1.0 },\n                color: { value: 0xffffff },\n                texture: { value: null },\n        },\n        vertexShader: [\n                \"uniform float amplitude;\",\n                \"attribute float size;\",\n                \"attribute vec3 customColor;\",\n                \"varying vec3 vColor;\",\n                \"void main() {\",\n                \"vColor = customColor;\",\n                \"vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\",\n                \"gl_PointSize = size;\",\n                \"gl_Position = projectionMatrix * mvPosition;\",\n                \"}\"\n        ].join(\"\\n\"),\n        fragmentShader: [\n                \"uniform vec3 color;\",\n                \"uniform sampler2D texture;\",\n                \"varying vec3 vColor;\",\n                \"void main() {\",\n                \"gl_FragColor = vec4( color * vColor, 1.0 );\",\n                \"gl_FragColor = gl_FragColor * texture2D( texture, gl_PointCoord );\",\n                \"}\"\n        ].join(\"\\n\")\n}\n\n/**\n * 物体内边缘发光\n */\nTHREE.ShaderLib.edgelight = {\n        uniforms:\n        {\n                \"s\": { type: \"f\", value: -1.0 },\n                \"b\": { type: \"f\", value: 1.0 },\n                \"p\": { type: \"f\", value: 2.0 },\n                glowColor: { type: \"c\", value: new THREE.Color(0x00ffff) }\n        },\n        vertexShader: [\n                \"varying vec3 vNormal;\",\n                \"varying vec3 vPositionNormal;\",\n                \"void main() {\",\n                \"vNormal = normalize( normalMatrix * normal ); \",// 转换到视图空间\n                \"vPositionNormal = normalize(( modelViewMatrix * vec4(position, 1.0) ).xyz);\",\n                \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n                \"}\"\n        ].join(\"\\n\"),\n        fragmentShader: [\n                \"uniform vec3 glowColor;\",\n                \"uniform float p;\",\n                \"uniform float b;\",\n                \"uniform float s;\",\n                \"varying vec3 vNormal;\",\n                \"varying vec3 vPositionNormal;\",\n                \"void main() \",\n                \"{\",\n                \"  float a = pow( b + s * abs(dot(vNormal, vPositionNormal)), p );\",\n                \"  gl_FragColor = vec4( glowColor, a );\",\n                \"}\"\n        ].join(\"\\n\")\n}\n\n/**\n * 创建着色器材质，根据shader\n * @param {shader} shader  shader in three.ShaderlibExp\n * @param {*} side default THREE.FrontSide\n * @param {*} blending default THREE.AdditiveBlending\n */\nTHREE.ShaderLib.createShaderMaterial = function (shader,side,blending) {\n        var customMaterial = new THREE.ShaderMaterial({\n                uniforms:shader.uniforms,\n                vertexShader: shader.vertexShader,\n                fragmentShader: shader.fragmentShader,\n                side: side||THREE.FrontSide,\n                blending: blending||THREE.AdditiveBlending,\n                transparent: true\n        })\n        return customMaterial;\n}\n\n\nconsole.log(THREE.ShaderLib)\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/three.ShaderLibExp.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrap\",staticClass:\"wrap\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a638251e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/galaxy/index.vue\n// module id = /rLR\n// module chunks = 1","/**\n * 3D地图.区域\n * Created by zhu18.github.io on 2017/11/19.\n * @author 朱润亚 <zhu18@vip.qq.com>\n * @version beta v1.0.3\n * @module Map3D\n */\n\nimport * as THREE from './three.js'\nimport TWEEN from './tween.min.js'\nimport * as $ from './util'\nimport Shaderlib from './three.ShaderLibExp'\n\n\n/**\n * 地图区域,继承{@link https://threejs.org/docs/#api/core/Object3D|THREE.Object3D}\n * @class\n * @extends THREE.Object3D\n * @example\n *\n *  let opt = {\n *     color:0x3366ff,     //地图颜色\n *     hoverColor:0xff9933,//鼠标移入颜色\n *     lineColor:0xffffff, //线颜色\n *     opacity:1,          //地图透明度\n *     hasPhong:true,      //是否反光材质\n *     shininess:50,       //反光材质光滑度\n *     hoverAnimaTime:100, //鼠标移入动画过渡时间\n *     loadEffect:false,      //区域加载效果\n *     hasHoverHeight:true,  //鼠标移入区域升高\n *  }\n *  // 创建一个区域\n *  let area = new Area(opt);\n *  // map 初始化以后可以获取\n *  let area = map.areaGroup.getObjectByName('北京')\n */\nclass Area extends THREE.Object3D{\n    /**\n     * 构造函数\n     * @param pros\n     */\n    constructor(pros){\n      //调用实现父类的构造函数\n      super(pros);\n      this.type=\"Area\";\n      this.name=pros.name;\n      Object.assign(this.userData,pros);\n      let coords = pros.coords;\n      this._mesh = this.getMesh(coords,pros);\n      this._line = this.getLine(coords,pros);\n  \n      this.add(this._mesh);\n      this.add(this._line);\n  \n  \n      // 文字添加 待完善\n      // let tg=new THREE.Group();\n      // tg.name=this.name+'_text';\n      // tg.position.z=0.01;\n      // this._text = Font3D.create(this.name,{size:30,color:'#333333'});\n      // this._text.position.z=2.01;\n      // tg.add(this._text)\n      // this.add(tg);\n     \n  \n  \n      if(pros.loadEffect){\n        this.setPosition({x:0,y:-40,z:-1000});\n        this.setPosition({x:0,y:0,z:0}, 500, Area.count*10, TWEEN.Easing.Quartic.Out);\n      }\n      Area.count++;\n    }\n  \n    /**\n     * 创建立体块\n     * @param {array} coords -  坐标经纬度，如：[112,22]\n     * @param {object} pros - 区域初始化属性\n     * @returns {*}\n     * @protected\n     */\n    getMesh(coords,pros){\n      if(!coords)return;\n      try{\n        let geo=new THREE.Geometry();\n        coords.forEach((coord)=>{\n          let pts=this.getGeoPoints(coord);\n          let g=this.getExtrudeGeometry(pts);\n          geo.merge(g, g.matrix);\n        })\n  \n        return this.getGeoMesh(geo,pros);\n      }catch(e)\n      {\n        console.warn(\"Area.getMesh:\"+e.message);\n      }\n    }\n  \n    /**\n     * 创建块的边缘线\n     * @param {array} coords -  坐标经纬度，如：[112,22]\n     * @param {object} pros - 区域初始化属性\n     * @returns {THREE.Group}\n     */\n    getLine(coords,pros){\n      if(!coords)return;\n  \n      //mate\n      let material = new THREE.LineBasicMaterial({\n        opacity: 1.0,\n        linewidth: 2,\n        polygonOffset:true,polygonOffsetFactor:1,\n        color:this.userData.lineColor\n      });\n  \n      //geo\n      let lines = new THREE.Group();\n      coords.forEach((coord)=>{\n        let pts=this.getGeoPoints(coord);\n        let line = new THREE.Geometry();\n        for(let i=0,l=pts.length;i<l;i++){\n          line.vertices.push(new THREE.Vector3(pts[i].x,pts[i].y,this.userData.extrude.amount + this.userData.extrude.amount/100));\n        }\n  \n        let lineMesh=new THREE.Line(line, material);\n  \n        lines.add(lineMesh);\n      });\n  \n      return lines;\n    }\n  \n    /**\n     * 得到顶点数据\n     * @param coord\n     * @returns {Array}\n     * @protected\n     */\n    getGeoPoints(coord){\n      try{\n        let pts=[];\n        for(let i=0,l=coord.length;i<l;i++){\n          pts.push(new THREE.Vector2(coord[i][0],coord[i][1]));\n        }\n        return pts;\n      }catch(e)\n      {\n        console.log('getGeoPoints:parse coord error:'+JSON.stringify(coord));\n      }\n    }\n  \n    /**\n     * 拉伸块高度\n     * @param {array} pts - 顶点数组\n     * @returns {THREE.ExtrudeGeometry}\n     * @protected\n     */\n    getExtrudeGeometry(pts){\n      let shape = new THREE.Shape(pts);\n      let extrude =Object.assign({},this.userData.extrude);\n      let geo = new THREE.ExtrudeGeometry(shape, extrude);\n      return geo;\n    }\n  \n    /**\n     * 拉伸块高度\n     * @param geo\n     * @param pros\n     * @returns {*}\n     */\n    getGeoMesh(geo,pros){\n      let mateOption={};\n      mateOption.color = pros.color!=null ? $.colorToHex(pros.color) : Math.random() * 0xffffff;\n      mateOption.shininess= pros.shininess || 100;\n      mateOption.transparent= true;\n      mateOption.opacity = (typeof pros.opacity === 'undefined') ? this.userData.opacity : pros.opacity;\n  \n      geo.computeFlatVertexNormals()\n      let geoMesh=null;\n\n    //   var shader = {\n    //     uniforms:\n    //     {\n    //         glowColor: { type: \"c\", value: new THREE.Color(mateOption.color) },\n    //         iTime: { type: \"f\", value: 1.0}\n    //     },\n    //     vertexShader: [\n    //         \"varying vec2 vUv;\",\n    //         \"void main() {\",\n    //         \"vUv = uv;\",\n    //         \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    //         \"}\"\n    //     ].join(\"\\n\"),\n    //     fragmentShader: [\n    //         \"uniform vec3 glowColor;\",\n    //         \"uniform float iTime;\",\n    //         \"varying vec2 vUv;\",\n    //         \"float t=iTime;\",\n    //         \"vec3 col;\",\n    //         \"void main() {\",\n    //         \"col = 0.5 + 0.1 * sqrt(sin(iTime * dot(vUv,vUv) /glowColor));\",\n    //         \"gl_FragColor = vec4(1.0,col);\",\n    //         \"}\"\n    //     ].join(\"\\n\")\n    // }\n    \n\n    // var customMaterial = new THREE.ShaderMaterial({\n    //     uniforms: shader.uniforms,\n    //     vertexShader: shader.vertexShader,\n    //     fragmentShader: shader.fragmentShader,\n    //     side: THREE.FrontSide,\n    //     blending: THREE.AdditiveBlending,\n    //     transparent: true\n    // })\n\n    this.update=function(){\n         //shader.uniforms.iTime.value += 0.05;\n    }\n      if(this.userData.hasPhong)\n       geoMesh = new THREE.Mesh(geo, new THREE.MeshPhongMaterial(mateOption));\n      else\n        geoMesh = new THREE.Mesh(geo, new THREE.MeshLambertMaterial(mateOption));\n     \n      //var geoMesh = THREE.SceneUtils.createMultiMaterialObject(geo,[new THREE.MeshPhongMaterial(mateOption),new THREE.MeshBasicMaterial({wireframe:true,color:0xffffff,transparent:true,opacity:0.35})])\n      return geoMesh;\n    }\n  \n    /**\n     * Area的网格对象\n     * @returns {HTREE.Mesh}\n     */\n    get mesh(){\n      return this._mesh;\n    }\n  \n    /**\n     * Area的边缘线对象\n     * @returns {THREE.Group}\n     */\n    get line(){\n      return this._line;\n    }\n  \n    /**\n     * 设置区域颜色\n     * @param {color} color - 格式 0xff9933,'#ff9933','rgb(255,160,50)','hsl(340,100%,50%)'\n     * @param {number} [time] - 动画完成时间,与transition时间类似\n     * @param {number} [delay=0] - 动画延迟时间\n     * @param {Tween.Easing} [easing=line] -动画类型\n     * @param {callback} [callback] - 动画完成后回调\n     */\n    setColor(color,time,delay,easing,callback){\n      this.userData.color=$.colorToHex(color);\n      if(time && typeof time==='number'){\n        color=new THREE.Color($.colorToHex(color));\n        $.transition(this.mesh.material.color,color,time,delay,easing,callback);\n      }\n      else {\n        this.mesh.material.color.set($.colorToHex(color));\n      }\n    }\n  \n    /**\n     * 设置区域位置\n     * @param {v3} v3 - 格式{x:0,y:0,z:0}\n     * @param {number} [time] - 动画完成时间,与transition时间类似\n     * @param {number} [delay=0] - 动画延迟时间\n     * @param {Tween.Easing} [easing=line] -动画类型\n     * @param {callback} [callback] - 动画完成后回调\n     */\n    setPosition(v3,time,delay,easing,callback){\n      if(time && typeof time==='number')\n        $.transition(this.position,v3,time,delay,easing,callback);\n      else\n        this.position.set(v3.x,v3.y,v3.z);\n    }\n    /**\n     * 设置区域旋转\n     * @param {v3} v3 - 格式{x:0,y:0,z:0}\n     * @param {number} [time] - 动画完成时间,与transition时间类似\n     * @param {number} [delay=0] - 动画延迟时间\n     * @param {Tween.Easing} [easing=line] -动画类型\n     * @param {callback} [callback] - 动画完成后回调\n     */\n    setRotation(v3,time,delay,easing,callback){\n      v3.x=v3.x * (Math.PI / 180)\n      v3.y=v3.y * (Math.PI / 180)\n      v3.z=v3.z * (Math.PI / 180)\n      $.transition(this.rotation,v3,time,delay,easing,callback);\n    }\n    /**\n     * 设置区域大小\n     * @param {v3} v3 - 格式{x:0,y:0,z:0}\n     * @param {number} [time] - 动画完成时间,与transition时间类似\n     * @param {number} [delay=0] - 动画延迟时间\n     * @param {Tween.Easing} [easing=line] -动画类型\n     * @param {callback} [callback] - 动画完成后回调\n     */\n    setScale(v3,time,delay,easingcallback){\n      if(time && typeof time==='number')\n        $.transition(this.scale,v3,time,delay,easing,callback);\n      else\n        this.scale.set(v3.x,v3.y,v3.z);\n    }\n  \n    /**\n     * 鼠标移出事件\n     * @param dispatcher\n     * @param event\n     * @example\n     *\n     * map.addEventListener('mouseout', (event) => {\n       *    let obj = event.target;\n       *    console.log(obj.type+':out')\n       *  });\n     */\n    onmouseout(dispatcher,event){\n      if(this.userData.hasHoverHeight)\n        new TWEEN.Tween( this.position ).to({z: 0,}, this.userData.hoverAnimaTime)\n        //.easing(TWEEN.Easing.Quartic.Out)\n        .start()\n      new TWEEN.Tween(this.mesh.material.color).to(new THREE.Color($.colorToHex(this.userData.color)), this.userData.hoverAnimaTime)\n      //.easing(TWEEN.Easing.Quartic.Out)\n      .start();\n      dispatcher.dispatchEvent({ type: 'mouseout', target:this, orgEvent:event});\n  \n    }\n    /**\n     * 鼠标移入事件\n     * @param dispatcher\n     * @param event\n     * @example\n     *\n     * map.addEventListener('mouseover', (event) => {\n       *    let obj = event.target;\n       *    console.log(obj.type+':over')\n       *  });\n     */\n    onmouseover(dispatcher,event){\n      //区域移入高度\n      //this.selectedArea.position.z=1;\n      if(this.userData.hasHoverHeight)\n        new TWEEN.Tween( this.position ).to({z: this.userData.extrude.amount/2,}, this.userData.hoverAnimaTime)\n        //.easing(TWEEN.Easing.Quartic.Out)\n        .start();\n      //区域移入颜色\n      new TWEEN.Tween(this.mesh.material.color).to(new THREE.Color($.colorToHex(this.userData.hoverColor)), this.userData.hoverAnimaTime)\n      //.easing(TWEEN.Easing.Quartic.Out)\n      .start();\n      dispatcher.dispatchEvent({ type: 'mouseover', target:this, orgEvent:event});\n    }\n    /**\n     * 鼠标单击事件\n     * @param dispatcher\n     * @param event\n     * @example\n     *\n     * map.addEventListener('mousedown', (event) => {\n       *    let obj = event.target;\n       *    console.log(obj.type+':click')\n       *  });\n     */\n    onmousedown(dispatcher,event) {\n      dispatcher.dispatchEvent({ type: 'mousedown', target:this, orgEvent:event});\n    }\n  }\n  /**\n   * 区域数量\n   * @static\n   * @type {number}\n   */\n  Area.count=0;\n\n  export default Area;\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/Map3D.Area.js","/**\n * Created by jusfoun-fe.github.io on 2017/10/26.\n * 星云特效\n */\n\nimport Detector from './Detector.js'\nimport * as THREE from './three.js'\nimport TWEEN from './tween.min.js'\nimport './OrbitControls.js'\n\nlet scene;\nlet camera;\nlet renderer;\nlet render_w;\nlet render_h;\nlet controls;\n/*\n* 参数格式\n {\n    el:document.body,           //渲染元素，默认为body\n    pointsCloud:[               //星云集合\n                 {size:1,       //星点大小\n                 color:0xffffff,//星点颜色\n                 opacity:1,     //星点透明度\n                 count:10000,   //星点数量\n                 offset:0.001   //移动速度\n                 map:null}      //星点图片 Image对象, 注意：如果使用map,请保证Image图片完全加载。\n                 ],\n    wireframe:false,            //调试线框\n }\n* */\nfunction Nebula(o){\n    let opt={\n        wireframe:false,\n        el:document.body,\n        pointsCloud:[],\n    }\n    Object.assign(opt,o);\n    this.opt=opt;\n    let self=this;\n\n    if(!Detector.webgl) {\n        console.log('不支持webgl,停止星云效果渲染.');\n        return;\n    }\n\n    this.pointsCloudObjects=[];\n    render_w=window.innerWidth;\n    render_h=window.innerHeight;\n\n    scene = new THREE.Scene();\n    camera = new THREE.PerspectiveCamera(70, render_w/render_h, 1, 5000);\n    renderer = new THREE.WebGLRenderer({alpha:true});\n    camera.position.set(30,30,150);\n    camera.lookAt(scene.position);\n    renderer.setSize(render_w,render_h);\n\n    //视角\n    let rotateV={\n        x:0.15*Math.PI,\n        y:0.1*Math.PI,\n        z:0\n    }\n    if(opt.wireframe){\n        let boxGeom = new THREE.BoxGeometry(100,100,100);\n        let boxMate = new THREE.MeshBasicMaterial({wireframe:true});\n        let box = new THREE.Mesh(boxGeom,boxMate);\n        box.rotation.set(rotateV.x,rotateV.y,rotateV.z);\n        scene.add(box);\n    }\n\n    //创建星云\n    for(let pc of opt.pointsCloud){\n        let pcObject=createPointsCloud(pc);\n        pcObject.offset=pc.offset;\n        this.pointsCloudObjects.push(pcObject);\n        scene.add(pcObject)\n    }\n\n\n    camera.lookAt(scene.position);\n    renderer.domElement.style.position='absolute';\n    renderer.domElement.style.top='0';\n    opt.el.appendChild(renderer.domElement);\n\n    controls  = new THREE.OrbitControls(camera,renderer.domElement);\n    controls.userPan=false;\n    controls.autoRotate=false;\n\n\n    renderScene();\n    window.addEventListener('resize', onWindowResize, false);\n\n    function renderScene(){\n        for(let pco of self.pointsCloudObjects){\n            pco.rotation.y+=pco.offset\n        }\n\n        requestAnimationFrame(renderScene);\n        TWEEN.update();\n        renderer.render(scene,camera);\n        controls.update();\n    }\n}\n\nNebula.prototype={\n    /*\n    * opt:{\n    *   x:2 * Math.PI,    //x轴旋转一周\n    *   y:2 * Math.PI,    //y轴旋转一周\n    *   z:2 * Math.PI,    //z轴旋转一周\n    *   }\n    * time:1000 //旋转时间\n    * */\n    rotate:function(opt,time){\n        if(!Detector.webgl) {return}\n        time=time||2000;\n        Object.assign(opt,{x:0,y:2,z:0},opt)\n        let rotateValue={\n            x:scene.rotation.x+opt.x,\n            y:scene.rotation.y+opt.y,\n            z:scene.rotation.z+opt.z\n        }\n\n        new TWEEN.Tween(scene.rotation).to(rotateValue,time).start();\n    }\n}\n\n\nfunction getTexture(img) {\n    let w=128\n    let h=128\n    let canvas = document.createElement('canvas');\n    canvas.width = w;\n    canvas.height = h;\n    let ctx = canvas.getContext('2d');\n\n    if(img){\n        ctx.drawImage(img,0,0);\n    }\n    else{\n        let gradient = ctx.createRadialGradient(w / 2, h / 2, 0, w / 2, h / 2, w / 2);\n        gradient.addColorStop(0, 'rgba(255,255,255,1)');\n        gradient.addColorStop(1, 'rgba(255,255,255,0)');\n\n        ctx.fillStyle = gradient;\n        ctx.fillRect(0, 0, w, h);\n        ctx.beginPath();\n    }\n\n    var texture = new THREE.Texture(canvas);\n    texture.needsUpdate = true;\n    return texture;\n}\n\nfunction createPointsCloud(o){\n    let opt={\n        size:1,\n        color:0xffffff,\n        opacity:1,\n        count:0,\n        map:null,\n    }\n    Object.assign(opt,o);\n\n\n    let starsGeometry = new THREE.Geometry();\n    for ( let i = 0; i < opt.count; i ++ ) {\n        let star = new THREE.Vector3();\n        star.x = THREE.Math.randFloatSpread( 1000 );\n        star.y = THREE.Math.randFloatSpread( 1000 );\n        star.z = THREE.Math.randFloatSpread( 1000 );\n        star.fog=false;\n        starsGeometry.vertices.push( star );\n    }\n\n    let starsMaterial = new THREE.PointsMaterial( {\n        size:opt.size,\n        // vertexColors: true,\n        color: opt.color,\n        transparent: true,\n        blending:THREE.AdditiveBlending,\n        depthWrite: false,\n        opacity: opt.opacity,\n        map:getTexture(opt.map),\n    } );\n\n    var starField = new THREE.Points( starsGeometry, starsMaterial );\n    return starField;\n}\n\n\n\n\nfunction onWindowResize() {\n    render_w=window.innerWidth;\n    render_h=window.innerHeight;\n    camera.aspect = render_w/ render_h;\n    camera.updateProjectionMatrix();\n    renderer.setSize( render_w, render_h );\n    console.log('resize')\n}\n\n\"undefined\" != typeof module && module.exports && (module.exports = Nebula);\nexport default Nebula;\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/Nebula.js","<template>\n  <div class=\"wrap\">\n    <div class=\"map\" ref='map'></div>\n    <div id=\"\" :class=\"['map-title',isOverMap ? 'map-title-over' : '']\" :style=\"mapTitlePositon\">{{mapName}}</div>\n  </div>\n\n</template>\n\n<script>\nimport Map3D from \"assets/js/Map3D.js\";\n\nexport default {\n  name: \"map3d\",\n  title: \"地图-数据范围\",\n\n  data() {\n    return {\n      isOverMap: false,\n      mapName: \"\",\n      mapTitlePositon: {\n        left: \"800px\",\n        top: \"600px\"\n      }\n    };\n  },\n  methods: {},\n  mounted() {\n    self = this;\n\n    $.getJSON(\"./static/mapdata/china.json\", geoData => {\n      let opt = {\n        name: \"map1\",\n        el: self.$refs.map,\n        geoData,\n        //debugger: true,\n        area: {\n          data: [],\n          color: 0x052659,\n          lineColor: 0x1481ba\n        },\n        mark: {\n          data: [],\n          color: 0xffffff\n        },\n        line: {\n          data: []\n        },\n        dataRange: {\n          data: [\n            { name: \"高\", min: 90, color: 0x0066e4 },\n            { name: \"高\", min: 80, max: 90, color: 0x207be6 },\n            { name: \"中\", min: 60, max: 80, color: 0x329de8 },\n            { name: \"低\", max: 60, min: 30, color: 0x66b6fd }\n          ]\n        }\n      };\n\n      //添加区域数据\n      geoData.features.forEach(i => {\n        //线数据\n        opt.area.data.push({\n          name: i.properties.name,\n          value: Math.random() * 100,\n          color: 0x3399ff\n          //loadEffect:true,\n        });\n      });\n\n      let map = new Map3D(opt);\n      map.setCameraPosition({ x: -2, y: -26, z: 30 }, 1000, 300);\n\n      map.addEventListener(\"mousedown\", function(event) {\n        let area = event.target;\n        if (area.type === \"Area\") {\n          //map.mark.data=[];\n          // map.mark.data.push({name:'台风-依安',coord:[116,23],value:2,color:0xff0000,size:4,value:12},);\n          // map.initMark();\n        }\n      });\n\n      map.addEventListener(\"mouseout\", event => {\n        let obj = event.target;\n        self.isOverMap = false;\n      });\n      var haloColorR, haloColorG, haloColorB;\n      map.addEventListener(\"mouseover\", event => {\n        let obj = event.target;\n        switch (obj.type) {\n          case \"Line\":\n            self.mapName = obj.userData.fromName + \"-\" + obj.userData.toName;\n            break;\n          case \"Mark\":\n            break;\n          case \"DataRange\":\n            self.mapName =\n              obj.userData.name +\n              \":\" +\n              (obj.userData.min || \"\") +\n              \"-\" +\n              (obj.userData.max || \"\");\n            break;\n          case \"Area\":\n            self.mapName = obj.userData.name;\n            break;\n          default:\n            self.mapName = obj.userData.name;\n            break;\n        }\n\n        self.isOverMap = true;\n        self.mapTitlePositon.left =\n          $(window).scrollLeft() + event.clientX + 20 + \"px\";\n        self.mapTitlePositon.top =\n          $(window).scrollTop() + event.clientY + 20 + \"px\";\n      });\n\n      map.addEventListener(\"resize\", function(event) {\n        console.log(\"map resize...\");\n      });\n      // map.addCameraPosition({x:-30,y:15,z:15},1000)\n      //map.setPosition({x:-13,y:0,z:35})\n    });\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n@import \"./../../assets/css/index.sass\";\n\n.wrap {\n  background-image: url(\"./../../assets/img/bg2.jpg\");\n}\n\n.map {\n  width: 100%;\n  height: 100%;\n}\n\n.map-title {\n  border-radius: 5px;\n  border: 1px solid #ddd;\n  color: #eee;\n  background: rgba(0, 0, 0, 0.4);\n  position: absolute;\n  z-index: 2;\n  opacity: 0;\n  padding: 15px;\n  text-align: center;\n  transition: all 0.2s;\n  pointer-events: none;\n}\n\n.map-title-over {\n  opacity: 1;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/map3d/dataRange.vue","/**\n * Created by jusfoun-fe.github.io on 2017/11/08.\n * 星系运动\n */\nimport Detector from './Detector.js'\nimport * as THREE from './three.js'\nimport TWEEN from './tween.min.js'\nimport './OrbitControls.js'\nimport Stats from './stats.js'\n\nlet scene;\nlet sceneAir;\nlet camera;\nlet renderer;\nlet controls;\nlet raycaster = new THREE.Raycaster();\nlet mouse = new THREE.Vector2();\nlet stats;\n\nlet starTextClass='star-text';\nlet starTextHoverClass='star-text-hover';\nlet el;\n\nvar Shaders = {\n    'earth' : {\n        uniforms: {\n            \"texture\": { type:'t',texture: null }\n        },\n        vertexShader: [\n            \"varying vec3 vNormal;\",\n            \"varying vec2 vUv;\",\n            \"void main() {\",\n            \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n            \"vNormal = normalize( normalMatrix * normal );\",\n            \"vUv = uv;\",\n            \"}\"\n        ].join(\"\\n\"),\n        fragmentShader: [\n            \"uniform sampler2D texture;\",\n            \"varying vec3 vNormal;\",\n            \"varying vec2 vUv;\",\n            \"void main() {\",\n            \"vec3 diffuse = texture2D( texture, vUv ).xyz;\",\n            \"float intensity = 1.05 - dot( vNormal, vec3( 0.0, 0.0, 1.0 ) );\",\n            \"vec3 atmosphere = vec3( 1.0, 1.0, 1.0 ) * pow( intensity,3.0 );\",\n            \"gl_FragColor = vec4( diffuse + atmosphere, 1.0 );\",\n            \"}\"\n        ].join(\"\\n\")\n    },\n    'atmosphere' : {\n        uniforms: {},\n        vertexShader: [\n            \"varying vec3 vNormal;\",\n\n            \"void main() {\",\n\n            \"vNormal = normalize( normalMatrix * normal );\",\n\n            \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.2 );\",\n\n            \"}\"\n        ].join(\"\\n\"),\n        fragmentShader: [\n            \"varying vec3 vNormal;\",\n\n            \"void main() {\",\n\n            \"float intensity = pow( 0.8 - dot( vNormal, vec3( 0, 0, 1.0 ) ), 12.0 );\",\n\n            \"gl_FragColor = vec4( 1.0, 1.0, 1.0, 1.0 ) * intensity;\",\n\n            \"}\"\n        ].join(\"\\n\")\n    }\n};\nfunction initStats(){\n    var stats = new Stats();\n    stats.setMode(0);//0:fps |1:ms\n    stats.domElement.style.position='absolute';\n    stats.domElement.style.top='60px';\n    stats.domElement.style.right='0px';\n    el.appendChild(stats.domElement);\n    return stats;\n}\n\n\n// 星点\nlet starsPoint;\nfunction stars() {\n    var starsGeometry = new THREE.Geometry();\n    for (var i = 0; i < 10000; i ++) {\n        var starVector = new THREE.Vector3(\n            THREE.Math.randFloatSpread(2000),\n            THREE.Math.randFloatSpread(2000),\n            THREE.Math.randFloatSpread(2000),\n        );\n        starsGeometry.vertices.push(starVector);\n    }\n    var starsMaterial = new THREE.PointsMaterial( { color:0x888888, size: 1, sizeAttenuation: false,  alphaTest: 0.5, transparent: true } );\n    starsPoint = new THREE.Points(starsGeometry, starsMaterial);\n    scene.add(starsPoint);\n}\n\nclass Galaxy{\n    constructor(o) {\n\n\n        if(!Detector.webgl) {\n            console.log('不支持webgl,停止渲染.');\n            return;\n        }\n\n        this.stars=[];\n\n        let opt={\n            el:document.body\n        }\n        Object.assign(opt,o);\n        el=opt.el;\n\n        stats=initStats();\n\n        scene = new THREE.Scene( { antialias: true } );\n        camera = new THREE.PerspectiveCamera(70, window.innerWidth/window.innerHeight, 1, 5000);\n        renderer = new THREE.WebGLRenderer({alpha:true});\n        renderer.clear();\n        renderer.setSize( window.innerWidth, window.innerHeight );\n        camera.position.set(30,300,1500);\n        camera.lookAt(scene.position);\n        controls  = new THREE.OrbitControls(camera,renderer.domElement);\n        controls.userPan=false;\n        controls.autoRotate=false;\n\n        stars();\n\n        let spotLight = new THREE.PointLight(0xffffff, 1, 0, 2);\n        scene.add(spotLight);\n\n        let spotLighth = new THREE.PointLight(spotLight);\n        scene.add(spotLighth);\n\n        let al = new THREE.AmbientLight(0x333333);\n        scene.add(al);\n\n\n        let sun = createStar({name:'太阳',size:20,emissive:0xe65f05,map:THREE.ImageUtils.loadTexture('static/sun.jpg'),\n            revspeed:0.01,//公转速度\n            rotspeed:0.01//自转速度\n        });\n        this.stars.push(sun);\n\n\n        let suixin = createStar({name:'水星',size:3,dist:40,emissive:0xe65f05,map:THREE.ImageUtils.loadTexture('static/shuixin.png'),\n            revspeed:0.01,\n            rotspeed:0.01\n        });\n        this.stars.push(suixin);\n\n        let jinxin =createStar({name:'金星',color:0xcceeff,dist:-60,mateType:2,map:THREE.ImageUtils.loadTexture('static/jinxin.png'),\n            revspeed:0.007,\n            rotspeed:0.01\n        });\n        this.stars.push(jinxin);\n\n        let s2 =createStar({name:'地球',color:0xcceeff,dist:80,mateType:2,map:THREE.ImageUtils.loadTexture('static/world.jpg'),\n            revspeed:0.007,\n            rotspeed:0.01\n        });\n        s2.rotation.x=0.3;\n        this.stars.push(s2);\n\n        let s21 =createStar({name:'月球',color:0x888888,size:1,dist:13,mateType:2,parent:s2,\n            revspeed:0.03,\n            rotspeed:0.01\n        });\n        this.stars.push(s21);\n\n\n        let s3 =createStar({name:'火星',color:0xff9933,size:5,dist:-100,mateType:2,map:THREE.ImageUtils.loadTexture('static/a.jpg'),\n            revspeed:0.005,\n            rotspeed:0.01\n        });\n        this.stars.push(s3);\n\n        let s4 =createStar({name:'木星',color:0xcceeff,size:15,dist:120,mateType:2,map:THREE.ImageUtils.loadTexture('static/muxin.png'),\n            revspeed:0.003,\n            rotspeed:0.01\n        });\n        this.stars.push(s4);\n\n        let s5 =createStar({name:'土星',color:0x669966,size:12,dist:-140,mateType:2,map:THREE.ImageUtils.loadTexture('static/tuxin.png'),\n            revspeed:0.01,\n            rotspeed:0.02\n        });\n        this.stars.push(s5);\n        //土星光环\n        var tu_huan_geometry = new THREE.CylinderGeometry(15, 22, 0, 50, 100, true);\n        var tu_huan_material = new THREE.MeshLambertMaterial({\n            emissive:0x669966,\n            map: THREE.ImageUtils.loadTexture(\"static/tuxin1.png\"),\n            side: THREE.DoubleSide,\n        });\n        let tu_huan = new THREE.Mesh(tu_huan_geometry, tu_huan_material);\n        tu_huan.rotation.set(0.5, 0, 0);\n        s5.add(tu_huan);\n\n\n\n        let s6 =createStar({name:'天王星',color:0x663333,size:10,dist:160,mateType:1,map:THREE.ImageUtils.loadTexture('static/tianwangxin.png'),\n            revspeed:0.01,\n            rotspeed:0.02\n        });\n        this.stars.push(s6);\n\n        let s7 =createStar({name:'海王星',color:0x663333,size:9,dist:-180,mateType:1,map:THREE.ImageUtils.loadTexture('static/haiwangxin.png'),\n            revspeed:0.006,\n            rotspeed:0.02\n        });\n        this.stars.push(s7);\n\n        let s8 =createStar({name:'冥王星',color:0x663333,size:2,dist:200,mateType:1,\n            revspeed:0.005,\n            rotspeed:0.02\n        });\n        this.stars.push(s8);\n\n        this.stars.forEach((star)=>{\n            if(!star.opt.parent){\n                scene.add(star);\n                scene.add(star.line);\n            }\n            else{\n                star.opt.parent.add(star);\n                star.opt.parent.add(star.line);\n            }\n        })\n\n\n        renderer.domElement.style.position='absolute';\n        renderer.domElement.style.top='0';\n        opt.el.appendChild(renderer.domElement);\n        this.renderScene();\n\n        window.addEventListener('resize', _onResize,false);\n        el.addEventListener('mousemove', _onMouseMove, false );\n        el.addEventListener('mousedown', _onMouseDown, false );\n\n        let rotateValue={\n            x:scene.rotation.x,\n            y:scene.rotation.y+2*Math.PI,\n            z:scene.rotation.z\n        }\n\n        new TWEEN.Tween(scene.rotation).to(rotateValue,2000).start();\n        new TWEEN.Tween(camera.position).to({x:30,y:30,z:150},2000).start();\n    };\n\n    renderScene(){\n        starsPoint.rotation.y+=0.0005;\n        if(!isSelectedStar){\n            this.stars.forEach((star)=>{\n                let starOpt = star.opt;\n                star.rotation.y = star.rotation.y + starOpt.rotspeed ;//自转\n                starOpt.positionOffset = starOpt.positionOffset+starOpt.revspeed;\n                star.position.set(starOpt.dist * Math.sin(starOpt.positionOffset), 0, starOpt.dist * Math.cos(starOpt.positionOffset));//公转\n            })\n        }\n\n        requestAnimationFrame(this.renderScene.bind(this));\n        TWEEN.update();\n        stats.update();\n        controls.update();\n        renderer.render(scene,camera);\n\n\n    }\n\n}\n\n\nfunction createStar(o){\n    let opt={\n        name:'',\n        size:10,\n        dist:0,//距离中心距离\n        color:0xffffff,\n        emissive:0x000000,\n        line:true,// 是否显示轨迹\n        mateType:1,// 1发光星球,2粗糙表面,3光滑表面\n        map:null,\n        side: THREE.DoubleSide,\n        revspeed:0.01,//公转速度\n        rotspeed:0.01,//自转速度\n        positionOffset:0,//公转位移\n    }\n    Object.assign(opt,o);\n    //球体\n    let geo = new THREE.SphereGeometry(opt.size, 40, 40);\n    let mate = getMateByType(opt.mateType)(opt);\n    let mesh = new THREE.Mesh(geo,mate);\n    mesh.position.set(opt.dist,0,0);\n    mesh.opt = opt;\n    mesh.isStar=true;\n\n    //txt\n    var div = document.createElement('div');\n    div.className = starTextClass;\n    div.innerHTML = opt.name;\n    div.style.position = 'absolute';\n    el.appendChild(div);\n    mesh.txt=div;\n\n    if(opt.line){\n    //line\n    let track = new THREE.Mesh( new THREE.RingGeometry (opt.dist-0.2, opt.dist+0.2, 64,1),\n        new THREE.MeshBasicMaterial( { color: 0x888888, side: THREE.DoubleSide, transparent:true,opacity:0.3 } )\n    );\n    track.rotation.x = - Math.PI / 2;\n    mesh.line=track;\n    }\n\n    return mesh;\n}\n\n\nfunction getMateByType(type){\n    let mate=null;\n    switch (type){\n        //1发光星球\n        case 1:\n            mate = function(opt){\n                opt.emissiveMap=opt.map;\n                return new THREE.MeshLambertMaterial(opt);\n            }\n            break;\n        //2粗糙表面\n        case 2:\n            mate = function(opt){\n                return new THREE.MeshLambertMaterial(opt);\n            }\n            break;\n        //3光滑表面\n        case 3:\n            mate = function(opt){\n                opt.shininess=300;\n                return new THREE.MeshPhongMaterial(opt);\n            }\n            break;\n    }\n    return mate;\n}\n\n\nfunction getXY(world_vector){\n    var vector = world_vector.project(camera);\n    var halfWidth = window.innerWidth / 2;\n    var halfHeight = window.innerHeight / 2;\n    var result = {\n        x: Math.round(vector.x * halfWidth + halfWidth),\n        y: Math.round(-vector.y * halfHeight + halfHeight)\n     }\n     return result;\n}\n\nlet isSelectedStar=false;\nfunction showName(star,isShow){\n    if(!star)return;\n    isSelectedStar=isShow;\n\n    let v3=star.position;\n    if(star.opt.parent){\n        v3=star.opt.parent.position;\n    }\n    var xy=getXY(new THREE.Vector3(v3.x,v3.y+star.opt.size,v3.z));\n    star.txt.style.top= xy.y - 50 +'px';\n    star.txt.style.left= xy.x - 50 +'px';\n    let className = star.txt.className;\n    if(isShow){\n        if(className.indexOf(starTextHoverClass)==-1)\n            star.txt.className=className + ' ' + starTextHoverClass;\n    }\n    else {\n        star.txt.className=className.replace(' '+starTextHoverClass,'');\n    }\n\n}\n\nfunction _onResize(){\n\n    camera.aspect = window.innerWidth/ window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize( window.innerWidth, window.innerHeight );\n\n\n}\n\nlet mouseOverObj,mouseOverObjMate;\nfunction _onMouseMove() {\n    event.preventDefault();\n    mouse.x = ( event.offsetX  / window.innerWidth ) * 2 - 1;\n    mouse.y = - ( event.offsetY  / window.innerHeight ) * 2 + 1;\n\n    raycaster.setFromCamera( mouse, camera );\n    let intersects = raycaster.intersectObjects( scene.children ,true);\n\n\n    if ( intersects.length > 0) {\n\n        if(mouseOverObj) {\n            showName(mouseOverObj,false);\n            mouseOverObj.material=mouseOverObjMate;\n        }\n\n        for(let i=0;i<intersects.length;i++){\n            if(intersects[i].object instanceof THREE.Mesh && intersects[ i ].object.isStar)\n            {\n                mouseOverObj=intersects[ i ].object;\n                break;\n            }\n        }\n        if(!mouseOverObj)return;\n        //显示名称\n\n        showName(mouseOverObj,true);\n        //高亮显示\n        let shader = Shaders[ 'earth' ];\n        var uniforms = THREE.UniformsUtils.clone( shader.uniforms );\n        uniforms.texture.value = mouseOverObj.opt.map;\n        var material = new THREE.ShaderMaterial( {\n            uniforms: uniforms,\n            vertexShader: shader.vertexShader,\n            fragmentShader: shader.fragmentShader,\n            transparent:true,\n            opacity:1,\n        } );\n        mouseOverObjMate=mouseOverObj.material;\n        mouseOverObj.material=material;\n    }\n    else{\n        if(mouseOverObj){\n            showName(mouseOverObj,false);\n            mouseOverObj.material=mouseOverObjMate;\n            mouseOverObj=null;\n        }\n    }\n}\n\nlet selectObj,selectObjMate;\nfunction _onMouseDown() {\n    event.preventDefault();\n    raycaster.setFromCamera( mouse, camera );\n    let intersects = raycaster.intersectObjects( scene.children ,true);\n\n        if ( intersects.length > 0 ) {\n\n            for(let i=0;i<intersects.length;i++){\n                if(intersects[i].object instanceof THREE.Mesh && intersects[ i ].object.isStar)\n                {\n                    selectObj=intersects[ i ].object;\n                    break;\n                }\n            }\n            if(!selectObj)return;\n\n\n\n            // let ghost = new THREE.Mesh(selectObj.geometry, new THREE.MeshBasicMaterial({color:0xcceeff,transparent:true, opacity:0.1}));\n            // ghost.scale.set(1.03,1.03,1.03);\n            // selectObj.add(ghost);\n            //\n            // let ghost1 = ghost.clone();\n            // ghost1.scale.set(1.06,1.06,1.06);\n            // selectObj.add(ghost1);\n            //\n            // let ghost2 = ghost.clone();\n            // ghost2.scale.set(1.1,1.1,1.1);\n            // selectObj.add(ghost2);\n\n            // camera.lookAt(selectObj.position)\n            //\n            // new TWEEN.Tween( camera.position ).to( selectObj.position, 1000 )\n            //     .easing( TWEEN.Easing.Elastic.Out).start().onComplete(function(){\n            //     //selectMesh=intersects[ 0 ].object;\n            // });\n        }\n\n}\n\nexport default Galaxy\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/Galaxy.js","<template>\n  <div class=\"wrap\" ref='wrap'></div>\n</template>\n\n\n<script type=\"text/javascript\">\n  import Nebula from 'assets/js/Nebula.js'\n  import Galaxy from 'assets/js/Galaxy.js'\n\n  export default {\n    name: 'component_name',\n    title: '太阳系',\n\n    created(){\n      //this.$emit('setTitle',this.title);\n    },\n    mounted(){\n//      let stars = [{\n//        name: '太阳',\n//        size: 20,\n//        emissive: 0xe65f05,\n//        mapUrl: 'static/sun.jpg',\n//        revspeed: 0.01,//公转速度\n//        rotspeed: 0.01//自转速度\n//      },\n//        {\n//          name: '水星',\n//          size: 3,   //大小\n//          dist: 40,  //距离\n//          emissive: 0xe65f05,\n//          mapUrl: 'static/shuixin.png',\n//          revspeed: 0.01,\n//          rotspeed: 0.01\n//        },\n//        {\n//          name:'金星',\n//          color:0xcceeff,\n//          dist:-60,\n//          mateType:2,\n//          mapUrl:'static/jinxin.png',\n//          revspeed:0.007,\n//          rotspeed:0.01\n//        },{\n//          name:'地球',\n//          color:0xcceeff,dist:80,\n//          mateType:2,\n//          mapUrl:'static/world.jpg',\n//          revspeed:0.007,\n//          rotspeed:0.01\n//        },\n//        {name:'月球',color:0x888888,size:1,dist:13,mateType:2,parent:'地球',\n//          revspeed:0.03,\n//          rotspeed:0.01\n//        },\n//        {name:'火星',color:0xff9933,size:5,dist:-100,mateType:2,mapUrl:'static/a.jpg',\n//          revspeed:0.005,\n//          rotspeed:0.01\n//        },\n//        {name:'木星',color:0xcceeff,size:15,dist:120,mateType:2,mapUrl:'static/muxin.png',\n//          revspeed:0.003,\n//          rotspeed:0.01\n//        },\n//        {name:'土星',color:0x669966,size:12,dist:-140,mateType:2,mapUrl:'static/tuxin.png',\n//          revspeed:0.01,\n//          rotspeed:0.02\n//        },\n//        {name:'天王星',color:0x663333,size:10,dist:160,mateType:1,mapUrl:'static/tianwangxin.png',\n//          revspeed:0.01,\n//          rotspeed:0.02\n//        },\n//        {name:'海王星',color:0x663333,size:9,dist:-180,mateType:1,mapUrl:'static/haiwangxin.png',\n//          revspeed:0.006,\n//          rotspeed:0.02\n//        },\n//        {name:'冥王星',color:0x663333,size:2,dist:200,mateType:1,\n//          revspeed:0.005,\n//          rotspeed:0.02\n//        }]\n      let galaxy = new Galaxy({el: this.$refs.wrap,starOpts:[]});\n    }\n  }\n</script>\n<style>\n  .star-text {\n    z-index: 1;\n    border: 1px solid #eee;\n    height: 30px;\n    border-radius: 5px;\n    width: 100px;\n    color: #fff;\n    line-height: 30px;\n    text-align: center;\n    transition: opacity .5s, transform .5s;\n    opacity: 0;\n    transform: translate3d(0, -30px, 0);\n  }\n\n  .star-text-hover {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n</style>\n<style lang=\"scss\" scoped>\n  .wrap {\n    background-image: url('./../../assets/img/bg2.jpg');\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/galaxy/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"map\",class:['map',_vm.mapActiveLevel=='china'?'map-act':''],attrs:{\"id\":\"map\"}}),_vm._v(\" \"),_c('div',{class:['map1',_vm.mapActiveLevel=='province'?'map-act1':'']},[_c('div',{ref:\"map1\",staticClass:\"inner-map\",attrs:{\"id\":\"map1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"btn btn-colse\",attrs:{\"id\":\"btn\"},on:{\"click\":_vm.openChinaMap}},[_vm._v(\"关闭\")])]),_vm._v(\" \"),_c('div',{class:['map-title',_vm.isOverMap ? 'map-title-over' : ''],style:(_vm.mapTitlePositon),attrs:{\"id\":\"\"}},[_vm._v(_vm._s(_vm.mapName))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6f4f8ef6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/map3d/drill.vue\n// module id = D9gg\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"map\",staticClass:\"map\"}),_vm._v(\" \"),_c('div',{class:['map-title',_vm.isOverMap ? 'map-title-over' : ''],style:(_vm.mapTitlePositon),attrs:{\"id\":\"\"}},[_vm._v(_vm._s(_vm.mapName))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9b7a517e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/map3d/world.vue\n// module id = Ez1z\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\",attrs:{\"id\":\"app\"}},[_c('header',[_c('div',{staticClass:\"inner\"},[_c('h1',{staticClass:\"lg-title\",on:{\"click\":function($event){_vm.setTitle()}}},[_c('img',{staticClass:\"logo\",staticStyle:{\"display\":\"none\"},attrs:{\"src\":require(\"./assets/img/logo.png\")}}),_vm._v(\" 可视化3D组件\"+_vm._s(_vm.title?' - '+_vm.title:''))]),_vm._v(\" \"),_c('h1',{staticClass:\"sm-title\",on:{\"click\":function($event){_vm.setTitle()}}},[_c('img',{staticClass:\"logo\",staticStyle:{\"display\":\"none\"},attrs:{\"src\":require(\"./assets/img/logo.png\")}}),_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_vm._m(0)])]),_vm._v(\" \"),_c('ul',{class:_vm.isMax?'left-menu max':'left-menu'},[_c('div',{staticClass:\"left-menu-list\"},_vm._l((_vm.items),function(item){return _c('router-link',{staticClass:\"list-item\",attrs:{\"to\":{name:item.name,params:{title:item.title}},\"tag\":\"li\"},nativeOn:{\"click\":function($event){_vm.setTitle($event)}}},[_c('i',{class:item.menuIcon}),_vm._v(_vm._s(item.title)+\"\\n    \")])})),_vm._v(\" \"),_c('div',{staticClass:\"handler\",on:{\"click\":function($event){_vm.isMax=!_vm.isMax}}},[_c('i',{staticClass:\"iconfont icon-shouqi\"})])]),_vm._v(\" \"),_c('router-view',{staticClass:\"main\",on:{\"setTitle\":_vm.setTitle}}),_vm._v(\" \"),_c('footer')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-area\"},[_c('a',{attrs:{\"href\":\"https://github.com/zhu18\",\"target\":\"_blank\"}},[_vm._v(\"GITHUB\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ff210290\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = ITh+\n// module chunks = 1","/**\n * Created by ADMIN on 2017/12/18.\n */\nimport * as THREE from './three.js'\nimport TWEEN from './tween.min.js'\n\n//颜色格式化 '#999999','rgb','hsl',0x999999\nfunction colorToHex(color){\n  if(typeof color===\"string\" )\n  {\n    if(color.indexOf('#')!==-1)\n      color = parseInt(color.replace('#',''),16);\n    else\n      color = new THREE.Color(color).getHex();\n  }\n  return color;\n}\n\n/**\n   * 过渡动画\n   * @param {Object|*} from - 修改的启始值\n   * @param {Object|*} to - 修改的结束值\n   * @param {number} [time] - 完成时间\n   * @param {number} [delay=0] - 延迟时间\n   * @param {Tween.Easing} [easing=TWEEN.Easing.Linear.None] -动画类型\n   * @param {callback} [callback] - 完成回调\n   * @example\n   * $.transition(area.position, {x:0,y:0,z:10}, 1000, 500, TWEEN.Easing.Quartic.Out, callback)\n   */\n   function transition(from,to,time,delay,easing,callback){\n    if(typeof time !=='number'){\n      time=1000;\n    }\n    if(!callback)callback=()=>{};\n    \n    new TWEEN.Tween(from).to(to,time).delay(delay||0)\n    .easing(easing||TWEEN.Easing.Linear.None)\n    .start().onComplete(callback);\n  }\n\n  let extend = function() {\n  var copyIsArray,\n    toString = Object.prototype.toString,\n    hasOwn = Object.prototype.hasOwnProperty,\n\n    class2type = {\n      '[object Boolean]': 'boolean',\n      '[object Number]': 'number',\n      '[object String]': 'string',\n      '[object Function]': 'function',\n      '[object Array]': 'array',\n      '[object Date]': 'date',\n      '[object RegExp]': 'regExp',\n      '[object Object]': 'object'\n    },\n\n    type = function(obj) {\n      return obj == null ? String(obj) : class2type[toString.call(obj)] || \"object\";\n    },\n\n    isWindow = function(obj) {\n      return obj && typeof obj === \"object\" && \"setInterval\" in obj;\n    },\n\n    isArray = Array.isArray || function(obj) {\n        return type(obj) === \"array\";\n      },\n\n    isPlainObject = function(obj) {\n      if (!obj || type(obj) !== \"object\" || obj.nodeType || isWindow(obj)) {\n        return false;\n      }\n\n      if (obj.constructor && !hasOwn.call(obj, \"constructor\") &&\n        !hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\")) {\n        return false;\n      }\n\n      var key;\n      for (key in obj) {}\n\n      return key === undefined || hasOwn.call(obj, key);\n    },\n\n    extend = function(deep, target, options) {\n      for (var name in options) {\n        var src = target[name];\n        var copy = options[name];\n\n        if (target === copy) {\n          continue;\n        }\n\n        if (deep && copy &&\n          (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n          if (copyIsArray) {\n            copyIsArray = false;\n            var clone = src && isArray(src) ? src : [];\n\n          } else {\n            var clone = src && isPlainObject(src) ? src : {};\n          }\n\n          target[name] = extend(deep, clone, copy);\n        } else if (copy !== undefined) {\n          target[name] = copy;\n        }\n      }\n\n      return target;\n    };\n\n  return extend;\n}();\n\n\nexport {\n  colorToHex,\n  extend,\n  transition\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/util.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ff210290\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ff210290\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ff210290\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport 'babel-polyfill'\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n// import echarts from 'echarts'\n// import ElementUI from 'element-ui'\n// import $ from './assets/js/jquery-1.9.0.js'\n\nimport './assets/css/index.sass'\n\n//Vue.prototype.$ = $\n//Vue.prototype.$echarts = echarts\n\nVue.config.productionTip = false\n//Vue.use(ElementUI);\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"map\",staticClass:\"map\"}),_vm._v(\" \"),_c('div',{class:['map-title',_vm.isOverMap ? 'map-title-over' : ''],style:(_vm.mapTitlePositon),attrs:{\"id\":\"\"}},[_vm._v(_vm._s(_vm.mapName))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e8539e3e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/map3d/debug.vue\n// module id = P+U6\n// module chunks = 1","<template>\n  <div class=\"wrap\">\n    <div class=\"map\" ref='map' ></div>\n    <div id=\"\" :class=\"['map-title',isOverMap ? 'map-title-over' : '']\" :style=\"mapTitlePositon\">{{mapName}}</div>\n  </div>\n\n</template>\n\n<script>\n  import Map3D from 'assets/js/Map3D.js'\n\n\n  export default {\n    name: 'map3d',\n    title: '地图-调试模式',\n\n    data () {\n      return {\n        isOverMap: false,\n        mapName: '',\n        mapTitlePositon: {\n          left: '800px',\n          top: '600px'\n        },\n      }\n    },\n    methods: {\n      openProvMap(){\n        self.mapActiveLevel = 'province';\n        map.disable();\n        map1.disable(false);\n      },\n      openChinaMap(){\n        self.mapActiveLevel = 'china';\n        map1.disable();\n        map.disable(false);\n      }\n    },\n    mounted(){\n      self = this;\n\n      $.getJSON(\"./static/mapdata/china.json\", (geoData) => {\n//            let sc=data.features.find(item=>item.properties.name=='湖南');\n//            Object.assign(sc.properties,{color:0x336698,value:'2341',opacity:.3});\n\n        let opt = {\n          name: 'map1',\n          el: self.$refs.map,\n          geoData,\n          debugger: true,\n//                shininess:300,\n//                opacity:.5,\n          area:{\n            loadEffect:true,\n            data: [\n              {name: '新疆', color: 0xff9933, value: 85,},\n              {name: '内蒙古', color: 'rgb(66,140,255)', value: 15},\n              {name: '北京', color: '#ff6666', value: 155},\n              {name: '四川', color: '#ff3333', value: 200, hoverColor: '#ff33ff'},\n              //{name:'湖南',color:'rgb(33,255,100)',value:25,opacity:0.1}\n            ],\n            color: 0x336699,\n            lineColor: 0xffffff,\n          }\n        }\n\n        let map = new Map3D(opt);\n\n        map.addEventListener('mousedown', function (event) {\n          let area = event.target;\n          area.setColor('#ff6666', 500);\n        });\n\n        map.addEventListener('mouseout', (event) => {\n          self.isOverMap = false;\n        });\n\n        map.addEventListener('mouseover', (event) => {\n          let area = event.target;\n          // console.log(event);\n          //console.log(obj._name+\"x:\"+event.clientX+\",y:\"+event.clientY);\n          self.mapName = area.userData.name;\n          self.isOverMap = true;\n          self.mapTitlePositon.left = $(window).scrollLeft() + event.clientX + 20 + 'px';\n          self.mapTitlePositon.top = $(window).scrollTop() + event.clientY + 20 + 'px';\n\n        })\n\n        map.addEventListener('resize', function (event) {\n          console.log('map resize...');\n\n        });\n         //map.addCameraPosition({x:-30,y:15,z:15})\n        //map.setCameraPosition({x:0,y:-10,z:53},2000)\n        map.setCameraPosition({x:-10,y:-10,z:34})\n      });\n\n\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n  @import './../../assets/css/index.sass';\n\n  .wrap {\n    background-image: url('./../../assets/img/bg2.jpg');\n  }\n\n  .map {\n    width: 100%;\n    height: 100%;\n  }\n\n  .map-title {\n    border-radius: 5px;\n    border: 1px solid #ddd;\n    color: #eee;\n    background: rgba(0, 0, 0, .4);\n    position: absolute;\n    z-index: 2;\n    width: 100px;\n    height: 50px;\n    opacity: 0;\n    line-height: 50px;\n    text-align: center;\n    transition: all .2s;\n    pointer-events: none;\n  }\n\n  .map-title-over {\n    opacity: 1;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/map3d/debug.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-09efdbad\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-09efdbad\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-09efdbad\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index/index.vue\n// module id = Qt9A\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"txt\"},[_c('div',{staticClass:\"txt-c\"},[_c('h1',[_vm._v(\"需求收集\")]),_vm._v(\" \"),_c('br'),_vm._v(\"前端组件目前在需求收集阶段，\\n        \"),_c('br'),_vm._v(\"如果你有问题或者好的建议，欢迎反馈，\\n        \"),_c('br'),_vm._v(\"如果你建议被采纳有机会获取幸运奖品!!!\\n        \"),_c('br'),_c('br'),_c('a',{staticClass:\"btn\",attrs:{\"href\":\"https://wj.qq.com/s/1699161/b994\",\"target\":\"_blank\"}},[_vm._v(\"我要反馈\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-09efdbad\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/index/index.vue\n// module id = SJxh\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6bc9cb56\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./dataRange.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./dataRange.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6bc9cb56\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./dataRange.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6bc9cb56\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/map3d/dataRange.vue\n// module id = XStf\n// module chunks = 1","/*!\n * jQuery JavaScript Library v1.9.0\n * http://jquery.com/\n *\n * Includes Sizzle.js\n * http://sizzlejs.com/\n *\n * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2013-1-14\n */\n(function( window, undefined ) {\n\"use strict\";\nvar\n\t// A central reference to the root jQuery(document)\n\trootjQuery,\n\n\t// The deferred used on DOM ready\n\treadyList,\n\n\t// Use the correct document accordingly with window argument (sandbox)\n\tdocument = window.document,\n\tlocation = window.location,\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$,\n\n\t// [[Class]] -> type pairs\n\tclass2type = {},\n\n\t// List of deleted data cache ids, so we can reuse them\n\tcore_deletedIds = [],\n\n\tcore_version = \"1.9.0\",\n\n\t// Save a reference to some core methods\n\tcore_concat = core_deletedIds.concat,\n\tcore_push = core_deletedIds.push,\n\tcore_slice = core_deletedIds.slice,\n\tcore_indexOf = core_deletedIds.indexOf,\n\tcore_toString = class2type.toString,\n\tcore_hasOwn = class2type.hasOwnProperty,\n\tcore_trim = core_version.trim,\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\treturn new jQuery.fn.init( selector, context, rootjQuery );\n\t},\n\n\t// Used for matching numbers\n\tcore_pnum = /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,\n\n\t// Used for splitting on whitespace\n\tcore_rnotwhite = /\\S+/g,\n\n\t// Make sure we trim BOM and NBSP (here's looking at you, Safari 5.0 and IE)\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\trquickExpr = /^(?:(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,\n\n\t// Match a standalone tag\n\trsingleTag = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n\n\t// JSON RegExp\n\trvalidchars = /^[\\],:{}\\s]*$/,\n\trvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g,\n\trvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[\\da-fA-F]{4})/g,\n\trvalidtokens = /\"[^\"\\\\\\r\\n]*\"|true|false|null|-?(?:\\d+\\.|)\\d+(?:[eE][+-]?\\d+|)/g,\n\n\t// Matches dashed string for camelizing\n\trmsPrefix = /^-ms-/,\n\trdashAlpha = /-([\\da-z])/gi,\n\n\t// Used by jQuery.camelCase as callback to replace()\n\tfcamelCase = function( all, letter ) {\n\t\treturn letter.toUpperCase();\n\t},\n\n\t// The ready event handler and self cleanup method\n\tDOMContentLoaded = function() {\n\t\tif ( document.addEventListener ) {\n\t\t\tdocument.removeEventListener( \"DOMContentLoaded\", DOMContentLoaded, false );\n\t\t\tjQuery.ready();\n\t\t} else if ( document.readyState === \"complete\" ) {\n\t\t\t// we're here because readyState === \"complete\" in oldIE\n\t\t\t// which is good enough for us to call the dom ready!\n\t\t\tdocument.detachEvent( \"onreadystatechange\", DOMContentLoaded );\n\t\t\tjQuery.ready();\n\t\t}\n\t};\n\njQuery.fn = jQuery.prototype = {\n\t// The current version of jQuery being used\n\tjquery: core_version,\n\n\tconstructor: jQuery,\n\tinit: function( selector, context, rootjQuery ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector.charAt(0) === \"<\" && selector.charAt( selector.length - 1 ) === \">\" && selector.length >= 3 ) {\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && (match[1] || !context) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[1] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[0] : context;\n\n\t\t\t\t\t// scripts is true for back-compat\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[1],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( jQuery.isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[2] );\n\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t\t// nodes that are no longer in the document #6963\n\t\t\t\t\tif ( elem && elem.parentNode ) {\n\t\t\t\t\t\t// Handle the case where IE and Opera return items\n\t\t\t\t\t\t// by name instead of ID\n\t\t\t\t\t\tif ( elem.id !== match[2] ) {\n\t\t\t\t\t\t\treturn rootjQuery.find( selector );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Otherwise, we inject the element directly into the jQuery object\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t\tthis[0] = elem;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.context = document;\n\t\t\t\t\tthis.selector = selector;\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || rootjQuery ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis.context = this[0] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( jQuery.isFunction( selector ) ) {\n\t\t\treturn rootjQuery.ready( selector );\n\t\t}\n\n\t\tif ( selector.selector !== undefined ) {\n\t\t\tthis.selector = selector.selector;\n\t\t\tthis.context = selector.context;\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t},\n\n\t// Start with an empty selector\n\tselector: \"\",\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\t// The number of elements contained in the matched element set\n\tsize: function() {\n\t\treturn this.length;\n\t},\n\n\ttoArray: function() {\n\t\treturn core_slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\t\treturn num == null ?\n\n\t\t\t// Return a 'clean' array\n\t\t\tthis.toArray() :\n\n\t\t\t// Return just the object\n\t\t\t( num < 0 ? this[ this.length + num ] : this[ num ] );\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\t\tret.context = this.context;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\t// (You can seed the arguments with an array of args, but this is\n\t// only used internally.)\n\teach: function( callback, args ) {\n\t\treturn jQuery.each( this, callback, args );\n\t},\n\n\tready: function( fn ) {\n\t\t// Add the callback\n\t\tjQuery.ready.promise().done( fn );\n\n\t\treturn this;\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( core_slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[j] ] : [] );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map(this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t}));\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor(null);\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: core_push,\n\tsort: [].sort,\n\tsplice: [].splice\n};\n\n// Give the init function the jQuery prototype for later instantiation\njQuery.fn.init.prototype = jQuery.fn;\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !jQuery.isFunction(target) ) {\n\t\ttarget = {};\n\t}\n\n\t// extend jQuery itself if only one argument is passed\n\tif ( length === i ) {\n\t\ttarget = this;\n\t\t--i;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\t\t// Only deal with non-null/undefined values\n\t\tif ( (options = arguments[ i ]) != null ) {\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tsrc = target[ name ];\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {\n\t\t\t\t\tif ( copyIsArray ) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && jQuery.isArray(src) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject(src) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend({\n\tnoConflict: function( deep ) {\n\t\tif ( window.$ === jQuery ) {\n\t\t\twindow.$ = _$;\n\t\t}\n\n\t\tif ( deep && window.jQuery === jQuery ) {\n\t\t\twindow.jQuery = _jQuery;\n\t\t}\n\n\t\treturn jQuery;\n\t},\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Hold (or release) the ready event\n\tholdReady: function( hold ) {\n\t\tif ( hold ) {\n\t\t\tjQuery.readyWait++;\n\t\t} else {\n\t\t\tjQuery.ready( true );\n\t\t}\n\t},\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).\n\t\tif ( !document.body ) {\n\t\t\treturn setTimeout( jQuery.ready );\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\n\t\t// Trigger any bound ready events\n\t\tif ( jQuery.fn.trigger ) {\n\t\t\tjQuery( document ).trigger(\"ready\").off(\"ready\");\n\t\t}\n\t},\n\n\t// See test/unit/core.js for details concerning isFunction.\n\t// Since version 1.3, DOM methods and functions like alert\n\t// aren't supported. They return false on IE (#2968).\n\tisFunction: function( obj ) {\n\t\treturn jQuery.type(obj) === \"function\";\n\t},\n\n\tisArray: Array.isArray || function( obj ) {\n\t\treturn jQuery.type(obj) === \"array\";\n\t},\n\n\tisWindow: function( obj ) {\n\t\treturn obj != null && obj == obj.window;\n\t},\n\n\tisNumeric: function( obj ) {\n\t\treturn !isNaN( parseFloat(obj) ) && isFinite( obj );\n\t},\n\n\ttype: function( obj ) {\n\t\tif ( obj == null ) {\n\t\t\treturn String( obj );\n\t\t}\n\t\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\t\tclass2type[ core_toString.call(obj) ] || \"object\" :\n\t\t\ttypeof obj;\n\t},\n\n\tisPlainObject: function( obj ) {\n\t\t// Must be an Object.\n\t\t// Because of IE, we also have to check the presence of the constructor property.\n\t\t// Make sure that DOM nodes and window objects don't pass through, as well\n\t\tif ( !obj || jQuery.type(obj) !== \"object\" || obj.nodeType || jQuery.isWindow( obj ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttry {\n\t\t\t// Not own constructor property must be Object\n\t\t\tif ( obj.constructor &&\n\t\t\t\t!core_hasOwn.call(obj, \"constructor\") &&\n\t\t\t\t!core_hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\") ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\t// IE8,9 Will throw exceptions on certain host objects #9897\n\t\t\treturn false;\n\t\t}\n\n\t\t// Own properties are enumerated firstly, so to speed up,\n\t\t// if last one is own, then all properties are own.\n\n\t\tvar key;\n\t\tfor ( key in obj ) {}\n\n\t\treturn key === undefined || core_hasOwn.call( obj, key );\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\t// data: string of html\n\t// context (optional): If specified, the fragment will be created in this context, defaults to document\n\t// keepScripts (optional): If true, will include scripts passed in the html string\n\tparseHTML: function( data, context, keepScripts ) {\n\t\tif ( !data || typeof data !== \"string\" ) {\n\t\t\treturn null;\n\t\t}\n\t\tif ( typeof context === \"boolean\" ) {\n\t\t\tkeepScripts = context;\n\t\t\tcontext = false;\n\t\t}\n\t\tcontext = context || document;\n\n\t\tvar parsed = rsingleTag.exec( data ),\n\t\t\tscripts = !keepScripts && [];\n\n\t\t// Single tag\n\t\tif ( parsed ) {\n\t\t\treturn [ context.createElement( parsed[1] ) ];\n\t\t}\n\n\t\tparsed = jQuery.buildFragment( [ data ], context, scripts );\n\t\tif ( scripts ) {\n\t\t\tjQuery( scripts ).remove();\n\t\t}\n\t\treturn jQuery.merge( [], parsed.childNodes );\n\t},\n\n\tparseJSON: function( data ) {\n\t\t// Attempt to parse using the native JSON parser first\n\t\tif ( window.JSON && window.JSON.parse ) {\n\t\t\treturn window.JSON.parse( data );\n\t\t}\n\n\t\tif ( data === null ) {\n\t\t\treturn data;\n\t\t}\n\n\t\tif ( typeof data === \"string\" ) {\n\n\t\t\t// Make sure leading/trailing whitespace is removed (IE can't handle it)\n\t\t\tdata = jQuery.trim( data );\n\n\t\t\tif ( data ) {\n\t\t\t\t// Make sure the incoming data is actual JSON\n\t\t\t\t// Logic borrowed from http://json.org/json2.js\n\t\t\t\tif ( rvalidchars.test( data.replace( rvalidescape, \"@\" )\n\t\t\t\t\t.replace( rvalidtokens, \"]\" )\n\t\t\t\t\t.replace( rvalidbraces, \"\")) ) {\n\n\t\t\t\t\treturn ( new Function( \"return \" + data ) )();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tjQuery.error( \"Invalid JSON: \" + data );\n\t},\n\n\t// Cross-browser xml parsing\n\tparseXML: function( data ) {\n\t\tvar xml, tmp;\n\t\tif ( !data || typeof data !== \"string\" ) {\n\t\t\treturn null;\n\t\t}\n\t\ttry {\n\t\t\tif ( window.DOMParser ) { // Standard\n\t\t\t\ttmp = new DOMParser();\n\t\t\t\txml = tmp.parseFromString( data , \"text/xml\" );\n\t\t\t} else { // IE\n\t\t\t\txml = new ActiveXObject( \"Microsoft.XMLDOM\" );\n\t\t\t\txml.async = \"false\";\n\t\t\t\txml.loadXML( data );\n\t\t\t}\n\t\t} catch( e ) {\n\t\t\txml = undefined;\n\t\t}\n\t\tif ( !xml || !xml.documentElement || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\t\tjQuery.error( \"Invalid XML: \" + data );\n\t\t}\n\t\treturn xml;\n\t},\n\n\tnoop: function() {},\n\n\t// Evaluates a script in a global context\n\t// Workarounds based on findings by Jim Driscoll\n\t// http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context\n\tglobalEval: function( data ) {\n\t\tif ( data && jQuery.trim( data ) ) {\n\t\t\t// We use execScript on Internet Explorer\n\t\t\t// We use an anonymous function so that context is window\n\t\t\t// rather than jQuery in Firefox\n\t\t\t( window.execScript || function( data ) {\n\t\t\t\twindow[ \"eval\" ].call( window, data );\n\t\t\t} )( data );\n\t\t}\n\t},\n\n\t// Convert dashed to camelCase; used by the css and data modules\n\t// Microsoft forgot to hump their vendor prefix (#9572)\n\tcamelCase: function( string ) {\n\t\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n\t},\n\n\tnodeName: function( elem, name ) {\n\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\t},\n\n\t// args is for internal usage only\n\teach: function( obj, callback, args ) {\n\t\tvar value,\n\t\t\ti = 0,\n\t\t\tlength = obj.length,\n\t\t\tisArray = isArraylike( obj );\n\n\t\tif ( args ) {\n\t\t\tif ( isArray ) {\n\t\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\t\tvalue = callback.apply( obj[ i ], args );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( i in obj ) {\n\t\t\t\t\tvalue = callback.apply( obj[ i ], args );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// A special, fast, case for the most common use of each\n\t\t} else {\n\t\t\tif ( isArray ) {\n\t\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\t\tvalue = callback.call( obj[ i ], i, obj[ i ] );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( i in obj ) {\n\t\t\t\t\tvalue = callback.call( obj[ i ], i, obj[ i ] );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Use native String.trim function wherever possible\n\ttrim: core_trim && !core_trim.call(\"\\uFEFF\\xA0\") ?\n\t\tfunction( text ) {\n\t\t\treturn text == null ?\n\t\t\t\t\"\" :\n\t\t\t\tcore_trim.call( text );\n\t\t} :\n\n\t\t// Otherwise use our own trimming functionality\n\t\tfunction( text ) {\n\t\t\treturn text == null ?\n\t\t\t\t\"\" :\n\t\t\t\t( text + \"\" ).replace( rtrim, \"\" );\n\t\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArraylike( Object(arr) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tcore_push.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\tvar len;\n\n\t\tif ( arr ) {\n\t\t\tif ( core_indexOf ) {\n\t\t\t\treturn core_indexOf.call( arr, elem, i );\n\t\t\t}\n\n\t\t\tlen = arr.length;\n\t\t\ti = i ? i < 0 ? Math.max( 0, len + i ) : i : 0;\n\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t// Skip accessing in sparse arrays\n\t\t\t\tif ( i in arr && arr[ i ] === elem ) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t},\n\n\tmerge: function( first, second ) {\n\t\tvar l = second.length,\n\t\t\ti = first.length,\n\t\t\tj = 0;\n\n\t\tif ( typeof l === \"number\" ) {\n\t\t\tfor ( ; j < l; j++ ) {\n\t\t\t\tfirst[ i++ ] = second[ j ];\n\t\t\t}\n\t\t} else {\n\t\t\twhile ( second[j] !== undefined ) {\n\t\t\t\tfirst[ i++ ] = second[ j++ ];\n\t\t\t}\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, inv ) {\n\t\tvar retVal,\n\t\t\tret = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length;\n\t\tinv = !!inv;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tretVal = !!callback( elems[ i ], i );\n\t\t\tif ( inv !== retVal ) {\n\t\t\t\tret.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar value,\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tisArray = isArraylike( elems ),\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their\n\t\tif ( isArray ) {\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret[ ret.length ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret[ ret.length ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn core_concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// Bind a function to a context, optionally partially applying any\n\t// arguments.\n\tproxy: function( fn, context ) {\n\t\tvar tmp, args, proxy;\n\n\t\tif ( typeof context === \"string\" ) {\n\t\t\ttmp = fn[ context ];\n\t\t\tcontext = fn;\n\t\t\tfn = tmp;\n\t\t}\n\n\t\t// Quick check to determine if target is callable, in the spec\n\t\t// this throws a TypeError, but we will just return undefined.\n\t\tif ( !jQuery.isFunction( fn ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Simulated bind\n\t\targs = core_slice.call( arguments, 2 );\n\t\tproxy = function() {\n\t\t\treturn fn.apply( context || this, args.concat( core_slice.call( arguments ) ) );\n\t\t};\n\n\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\t\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\t\treturn proxy;\n\t},\n\n\t// Multifunctional method to get and set values of a collection\n\t// The value/s can optionally be executed if it's a function\n\taccess: function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\t\tvar i = 0,\n\t\t\tlength = elems.length,\n\t\t\tbulk = key == null;\n\n\t\t// Sets many values\n\t\tif ( jQuery.type( key ) === \"object\" ) {\n\t\t\tchainable = true;\n\t\t\tfor ( i in key ) {\n\t\t\t\tjQuery.access( elems, fn, i, key[i], true, emptyGet, raw );\n\t\t\t}\n\n\t\t// Sets one value\n\t\t} else if ( value !== undefined ) {\n\t\t\tchainable = true;\n\n\t\t\tif ( !jQuery.isFunction( value ) ) {\n\t\t\t\traw = true;\n\t\t\t}\n\n\t\t\tif ( bulk ) {\n\t\t\t\t// Bulk operations run against the entire set\n\t\t\t\tif ( raw ) {\n\t\t\t\t\tfn.call( elems, value );\n\t\t\t\t\tfn = null;\n\n\t\t\t\t// ...except when executing function values\n\t\t\t\t} else {\n\t\t\t\t\tbulk = fn;\n\t\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( fn ) {\n\t\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\t\tfn( elems[i], key, raw ? value : value.call( elems[i], i, fn( elems[i], key ) ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn chainable ?\n\t\t\telems :\n\n\t\t\t// Gets\n\t\t\tbulk ?\n\t\t\t\tfn.call( elems ) :\n\t\t\t\tlength ? fn( elems[0], key ) : emptyGet;\n\t},\n\n\tnow: function() {\n\t\treturn ( new Date() ).getTime();\n\t}\n});\n\njQuery.ready.promise = function( obj ) {\n\tif ( !readyList ) {\n\n\t\treadyList = jQuery.Deferred();\n\n\t\t// Catch cases where $(document).ready() is called after the browser event has already occurred.\n\t\t// we once tried to use readyState \"interactive\" here, but it caused issues like the one\n\t\t// discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15\n\t\tif ( document.readyState === \"complete\" ) {\n\t\t\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\t\t\tsetTimeout( jQuery.ready );\n\n\t\t// Standards-based browsers support DOMContentLoaded\n\t\t} else if ( document.addEventListener ) {\n\t\t\t// Use the handy event callback\n\t\t\tdocument.addEventListener( \"DOMContentLoaded\", DOMContentLoaded, false );\n\n\t\t\t// A fallback to window.onload, that will always work\n\t\t\twindow.addEventListener( \"load\", jQuery.ready, false );\n\n\t\t// If IE event model is used\n\t\t} else {\n\t\t\t// Ensure firing before onload, maybe late but safe also for iframes\n\t\t\tdocument.attachEvent( \"onreadystatechange\", DOMContentLoaded );\n\n\t\t\t// A fallback to window.onload, that will always work\n\t\t\twindow.attachEvent( \"onload\", jQuery.ready );\n\n\t\t\t// If IE and not a frame\n\t\t\t// continually check to see if the document is ready\n\t\t\tvar top = false;\n\n\t\t\ttry {\n\t\t\t\ttop = window.frameElement == null && document.documentElement;\n\t\t\t} catch(e) {}\n\n\t\t\tif ( top && top.doScroll ) {\n\t\t\t\t(function doScrollCheck() {\n\t\t\t\t\tif ( !jQuery.isReady ) {\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// Use the trick by Diego Perini\n\t\t\t\t\t\t\t// http://javascript.nwbox.com/IEContentLoaded/\n\t\t\t\t\t\t\ttop.doScroll(\"left\");\n\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\treturn setTimeout( doScrollCheck, 50 );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// and execute any waiting functions\n\t\t\t\t\t\tjQuery.ready();\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t}\n\t\t}\n\t}\n\treturn readyList.promise( obj );\n};\n\n// Populate the class2type map\njQuery.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n});\n\nfunction isArraylike( obj ) {\n\tvar length = obj.length,\n\t\ttype = jQuery.type( obj );\n\n\tif ( jQuery.isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\tif ( obj.nodeType === 1 && length ) {\n\t\treturn true;\n\t}\n\n\treturn type === \"array\" || type !== \"function\" &&\n\t\t( length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj );\n}\n\n// All jQuery objects should point back to these\nrootjQuery = jQuery(document);\n// String to Object options format cache\nvar optionsCache = {};\n\n// Convert String-formatted options into Object-formatted ones and store in cache\nfunction createOptions( options ) {\n\tvar object = optionsCache[ options ] = {};\n\tjQuery.each( options.match( core_rnotwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t});\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\t( optionsCache[ options ] || createOptions( options ) ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Last fire value (for non-forgettable lists)\n\t\tmemory,\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\t\t// Flag to know if list is currently firing\n\t\tfiring,\n\t\t// First callback to fire (used internally by add and fireWith)\n\t\tfiringStart,\n\t\t// End of the loop when firing\n\t\tfiringLength,\n\t\t// Index of currently firing callback (modified by remove if needed)\n\t\tfiringIndex,\n\t\t// Actual callback list\n\t\tlist = [],\n\t\t// Stack of fire calls for repeatable lists\n\t\tstack = !options.once && [],\n\t\t// Fire callbacks\n\t\tfire = function( data ) {\n\t\t\tmemory = options.memory && data;\n\t\t\tfired = true;\n\t\t\tfiringIndex = firingStart || 0;\n\t\t\tfiringStart = 0;\n\t\t\tfiringLength = list.length;\n\t\t\tfiring = true;\n\t\t\tfor ( ; list && firingIndex < firingLength; firingIndex++ ) {\n\t\t\t\tif ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {\n\t\t\t\t\tmemory = false; // To prevent further calls using add\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfiring = false;\n\t\t\tif ( list ) {\n\t\t\t\tif ( stack ) {\n\t\t\t\t\tif ( stack.length ) {\n\t\t\t\t\t\tfire( stack.shift() );\n\t\t\t\t\t}\n\t\t\t\t} else if ( memory ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t} else {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// Actual Callbacks object\n\t\tself = {\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\t// First, we save the current length\n\t\t\t\t\tvar start = list.length;\n\t\t\t\t\t(function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tvar type = jQuery.type( arg );\n\t\t\t\t\t\t\tif ( type === \"function\" ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && type !== \"string\" ) {\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t})( arguments );\n\t\t\t\t\t// Do we need to add the callbacks to the\n\t\t\t\t\t// current firing batch?\n\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\tfiringLength = list.length;\n\t\t\t\t\t// With memory, if we're not firing then\n\t\t\t\t\t// we should call right away\n\t\t\t\t\t} else if ( memory ) {\n\t\t\t\t\t\tfiringStart = start;\n\t\t\t\t\t\tfire( memory );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\t\tvar index;\n\t\t\t\t\t\twhile( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\t\tlist.splice( index, 1 );\n\t\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\t\t\tif ( index <= firingLength ) {\n\t\t\t\t\t\t\t\t\tfiringLength--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Control if a given callback is in the list\n\t\t\thas: function( fn ) {\n\t\t\t\treturn jQuery.inArray( fn, list ) > -1;\n\t\t\t},\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tlist = [];\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Have the list do nothing anymore\n\t\t\tdisable: function() {\n\t\t\t\tlist = stack = memory = undefined;\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it disabled?\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\t\t\t// Lock the list in its current state\n\t\t\tlock: function() {\n\t\t\t\tstack = undefined;\n\t\t\t\tif ( !memory ) {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it locked?\n\t\t\tlocked: function() {\n\t\t\t\treturn !stack;\n\t\t\t},\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\targs = args || [];\n\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\tif ( list && ( !fired || stack ) ) {\n\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\tstack.push( args );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfire( args );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\njQuery.extend({\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\t\t\t\t// action, add listener, listener list, final state\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks(\"once memory\"), \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks(\"once memory\"), \"rejected\" ],\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks(\"memory\") ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\tthen: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\t\t\t\t\treturn jQuery.Deferred(function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\t\t\t\t\tvar action = tuple[ 0 ],\n\t\t\t\t\t\t\t\tfn = jQuery.isFunction( fns[ i ] ) && fns[ i ];\n\t\t\t\t\t\t\t// deferred[ done | fail | progress ] for forwarding actions to newDefer\n\t\t\t\t\t\t\tdeferred[ tuple[1] ](function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject )\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ action + \"With\" ]( this === promise ? newDefer.promise() : this, fn ? [ returned ] : arguments );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t}).promise();\n\t\t\t\t},\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Keep pipe for back-compat\n\t\tpromise.pipe = promise.then;\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 3 ];\n\n\t\t\t// promise[ done | fail | progress ] = list.add\n\t\t\tpromise[ tuple[1] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(function() {\n\t\t\t\t\t// state = [ resolved | rejected ]\n\t\t\t\t\tstate = stateString;\n\n\t\t\t\t// [ reject_list | resolve_list ].disable; progress_list.lock\n\t\t\t\t}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );\n\t\t\t}\n\n\t\t\t// deferred[ resolve | reject | notify ]\n\t\t\tdeferred[ tuple[0] ] = function() {\n\t\t\t\tdeferred[ tuple[0] + \"With\" ]( this === deferred ? promise : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\tdeferred[ tuple[0] + \"With\" ] = list.fireWith;\n\t\t});\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( subordinate /* , ..., subordinateN */ ) {\n\t\tvar i = 0,\n\t\t\tresolveValues = core_slice.call( arguments ),\n\t\t\tlength = resolveValues.length,\n\n\t\t\t// the count of uncompleted subordinates\n\t\t\tremaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,\n\n\t\t\t// the master Deferred. If resolveValues consist of only a single Deferred, just use that.\n\t\t\tdeferred = remaining === 1 ? subordinate : jQuery.Deferred(),\n\n\t\t\t// Update function for both resolve and progress values\n\t\t\tupdateFunc = function( i, contexts, values ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tcontexts[ i ] = this;\n\t\t\t\t\tvalues[ i ] = arguments.length > 1 ? core_slice.call( arguments ) : value;\n\t\t\t\t\tif( values === progressValues ) {\n\t\t\t\t\t\tdeferred.notifyWith( contexts, values );\n\t\t\t\t\t} else if ( !( --remaining ) ) {\n\t\t\t\t\t\tdeferred.resolveWith( contexts, values );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tprogressValues, progressContexts, resolveContexts;\n\n\t\t// add listeners to Deferred subordinates; treat others as resolved\n\t\tif ( length > 1 ) {\n\t\t\tprogressValues = new Array( length );\n\t\t\tprogressContexts = new Array( length );\n\t\t\tresolveContexts = new Array( length );\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {\n\t\t\t\t\tresolveValues[ i ].promise()\n\t\t\t\t\t\t.done( updateFunc( i, resolveContexts, resolveValues ) )\n\t\t\t\t\t\t.fail( deferred.reject )\n\t\t\t\t\t\t.progress( updateFunc( i, progressContexts, progressValues ) );\n\t\t\t\t} else {\n\t\t\t\t\t--remaining;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// if we're not waiting on anything, resolve the master\n\t\tif ( !remaining ) {\n\t\t\tdeferred.resolveWith( resolveContexts, resolveValues );\n\t\t}\n\n\t\treturn deferred.promise();\n\t}\n});\njQuery.support = (function() {\n\n\tvar support, all, a, select, opt, input, fragment, eventName, isSupported, i,\n\t\tdiv = document.createElement(\"div\");\n\n\t// Setup\n\tdiv.setAttribute( \"className\", \"t\" );\n\tdiv.innerHTML = \"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\";\n\n\t// Support tests won't run in some limited or non-browser environments\n\tall = div.getElementsByTagName(\"*\");\n\ta = div.getElementsByTagName(\"a\")[ 0 ];\n\tif ( !all || !a || !all.length ) {\n\t\treturn {};\n\t}\n\n\t// First batch of tests\n\tselect = document.createElement(\"select\");\n\topt = select.appendChild( document.createElement(\"option\") );\n\tinput = div.getElementsByTagName(\"input\")[ 0 ];\n\n\ta.style.cssText = \"top:1px;float:left;opacity:.5\";\n\tsupport = {\n\t\t// Test setAttribute on camelCase class. If it works, we need attrFixes when doing get/setAttribute (ie6/7)\n\t\tgetSetAttribute: div.className !== \"t\",\n\n\t\t// IE strips leading whitespace when .innerHTML is used\n\t\tleadingWhitespace: div.firstChild.nodeType === 3,\n\n\t\t// Make sure that tbody elements aren't automatically inserted\n\t\t// IE will insert them into empty tables\n\t\ttbody: !div.getElementsByTagName(\"tbody\").length,\n\n\t\t// Make sure that link elements get serialized correctly by innerHTML\n\t\t// This requires a wrapper element in IE\n\t\thtmlSerialize: !!div.getElementsByTagName(\"link\").length,\n\n\t\t// Get the style information from getAttribute\n\t\t// (IE uses .cssText instead)\n\t\tstyle: /top/.test( a.getAttribute(\"style\") ),\n\n\t\t// Make sure that URLs aren't manipulated\n\t\t// (IE normalizes it by default)\n\t\threfNormalized: a.getAttribute(\"href\") === \"/a\",\n\n\t\t// Make sure that element opacity exists\n\t\t// (IE uses filter instead)\n\t\t// Use a regex to work around a WebKit issue. See #5145\n\t\topacity: /^0.5/.test( a.style.opacity ),\n\n\t\t// Verify style float existence\n\t\t// (IE uses styleFloat instead of cssFloat)\n\t\tcssFloat: !!a.style.cssFloat,\n\n\t\t// Check the default checkbox/radio value (\"\" on WebKit; \"on\" elsewhere)\n\t\tcheckOn: !!input.value,\n\n\t\t// Make sure that a selected-by-default option has a working selected property.\n\t\t// (WebKit defaults to false instead of true, IE too, if it's in an optgroup)\n\t\toptSelected: opt.selected,\n\n\t\t// Tests for enctype support on a form (#6743)\n\t\tenctype: !!document.createElement(\"form\").enctype,\n\n\t\t// Makes sure cloning an html5 element does not cause problems\n\t\t// Where outerHTML is undefined, this still works\n\t\thtml5Clone: document.createElement(\"nav\").cloneNode( true ).outerHTML !== \"<:nav></:nav>\",\n\n\t\t// jQuery.support.boxModel DEPRECATED in 1.8 since we don't support Quirks Mode\n\t\tboxModel: document.compatMode === \"CSS1Compat\",\n\n\t\t// Will be defined later\n\t\tdeleteExpando: true,\n\t\tnoCloneEvent: true,\n\t\tinlineBlockNeedsLayout: false,\n\t\tshrinkWrapBlocks: false,\n\t\treliableMarginRight: true,\n\t\tboxSizingReliable: true,\n\t\tpixelPosition: false\n\t};\n\n\t// Make sure checked status is properly cloned\n\tinput.checked = true;\n\tsupport.noCloneChecked = input.cloneNode( true ).checked;\n\n\t// Make sure that the options inside disabled selects aren't marked as disabled\n\t// (WebKit marks them as disabled)\n\tselect.disabled = true;\n\tsupport.optDisabled = !opt.disabled;\n\n\t// Support: IE<9\n\ttry {\n\t\tdelete div.test;\n\t} catch( e ) {\n\t\tsupport.deleteExpando = false;\n\t}\n\n\t// Check if we can trust getAttribute(\"value\")\n\tinput = document.createElement(\"input\");\n\tinput.setAttribute( \"value\", \"\" );\n\tsupport.input = input.getAttribute( \"value\" ) === \"\";\n\n\t// Check if an input maintains its value after becoming a radio\n\tinput.value = \"t\";\n\tinput.setAttribute( \"type\", \"radio\" );\n\tsupport.radioValue = input.value === \"t\";\n\n\t// #11217 - WebKit loses check when the name is after the checked attribute\n\tinput.setAttribute( \"checked\", \"t\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tfragment = document.createDocumentFragment();\n\tfragment.appendChild( input );\n\n\t// Check if a disconnected checkbox will retain its checked\n\t// value of true after appended to the DOM (IE6/7)\n\tsupport.appendChecked = input.checked;\n\n\t// WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = fragment.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE<9\n\t// Opera does not clone events (and typeof div.attachEvent === undefined).\n\t// IE9-10 clones events bound via attachEvent, but they don't trigger with .click()\n\tif ( div.attachEvent ) {\n\t\tdiv.attachEvent( \"onclick\", function() {\n\t\t\tsupport.noCloneEvent = false;\n\t\t});\n\n\t\tdiv.cloneNode( true ).click();\n\t}\n\n\t// Support: IE<9 (lack submit/change bubble), Firefox 17+ (lack focusin event)\n\t// Beware of CSP restrictions (https://developer.mozilla.org/en/Security/CSP), test/csp.php\n\tfor ( i in { submit: true, change: true, focusin: true }) {\n\t\tdiv.setAttribute( eventName = \"on\" + i, \"t\" );\n\n\t\tsupport[ i + \"Bubbles\" ] = eventName in window || div.attributes[ eventName ].expando === false;\n\t}\n\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\t// Run tests that need a body at doc ready\n\tjQuery(function() {\n\t\tvar container, marginDiv, tds,\n\t\t\tdivReset = \"padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;\",\n\t\t\tbody = document.getElementsByTagName(\"body\")[0];\n\n\t\tif ( !body ) {\n\t\t\t// Return for frameset docs that don't have a body\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer = document.createElement(\"div\");\n\t\tcontainer.style.cssText = \"border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px\";\n\n\t\tbody.appendChild( container ).appendChild( div );\n\n\t\t// Support: IE8\n\t\t// Check if table cells still have offsetWidth/Height when they are set\n\t\t// to display:none and there are still other visible table cells in a\n\t\t// table row; if so, offsetWidth/Height are not reliable for use when\n\t\t// determining if an element has been hidden directly using\n\t\t// display:none (it is still safe to use offsets if a parent element is\n\t\t// hidden; don safety goggles and see bug #4512 for more information).\n\t\tdiv.innerHTML = \"<table><tr><td></td><td>t</td></tr></table>\";\n\t\ttds = div.getElementsByTagName(\"td\");\n\t\ttds[ 0 ].style.cssText = \"padding:0;margin:0;border:0;display:none\";\n\t\tisSupported = ( tds[ 0 ].offsetHeight === 0 );\n\n\t\ttds[ 0 ].style.display = \"\";\n\t\ttds[ 1 ].style.display = \"none\";\n\n\t\t// Support: IE8\n\t\t// Check if empty table cells still have offsetWidth/Height\n\t\tsupport.reliableHiddenOffsets = isSupported && ( tds[ 0 ].offsetHeight === 0 );\n\n\t\t// Check box-sizing and margin behavior\n\t\tdiv.innerHTML = \"\";\n\t\tdiv.style.cssText = \"box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;\";\n\t\tsupport.boxSizing = ( div.offsetWidth === 4 );\n\t\tsupport.doesNotIncludeMarginInBodyOffset = ( body.offsetTop !== 1 );\n\n\t\t// Use window.getComputedStyle because jsdom on node.js will break without it.\n\t\tif ( window.getComputedStyle ) {\n\t\t\tsupport.pixelPosition = ( window.getComputedStyle( div, null ) || {} ).top !== \"1%\";\n\t\t\tsupport.boxSizingReliable = ( window.getComputedStyle( div, null ) || { width: \"4px\" } ).width === \"4px\";\n\n\t\t\t// Check if div with explicit width and no margin-right incorrectly\n\t\t\t// gets computed margin-right based on width of container. (#3333)\n\t\t\t// Fails in WebKit before Feb 2011 nightlies\n\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n\t\t\tmarginDiv = div.appendChild( document.createElement(\"div\") );\n\t\t\tmarginDiv.style.cssText = div.style.cssText = divReset;\n\t\t\tmarginDiv.style.marginRight = marginDiv.style.width = \"0\";\n\t\t\tdiv.style.width = \"1px\";\n\n\t\t\tsupport.reliableMarginRight =\n\t\t\t\t!parseFloat( ( window.getComputedStyle( marginDiv, null ) || {} ).marginRight );\n\t\t}\n\n\t\tif ( typeof div.style.zoom !== \"undefined\" ) {\n\t\t\t// Support: IE<8\n\t\t\t// Check if natively block-level elements act like inline-block\n\t\t\t// elements when setting their display to 'inline' and giving\n\t\t\t// them layout\n\t\t\tdiv.innerHTML = \"\";\n\t\t\tdiv.style.cssText = divReset + \"width:1px;padding:1px;display:inline;zoom:1\";\n\t\t\tsupport.inlineBlockNeedsLayout = ( div.offsetWidth === 3 );\n\n\t\t\t// Support: IE6\n\t\t\t// Check if elements with layout shrink-wrap their children\n\t\t\tdiv.style.display = \"block\";\n\t\t\tdiv.innerHTML = \"<div></div>\";\n\t\t\tdiv.firstChild.style.width = \"5px\";\n\t\t\tsupport.shrinkWrapBlocks = ( div.offsetWidth !== 3 );\n\n\t\t\t// Prevent IE 6 from affecting layout for positioned elements #11048\n\t\t\t// Prevent IE from shrinking the body in IE 7 mode #12869\n\t\t\tbody.style.zoom = 1;\n\t\t}\n\n\t\tbody.removeChild( container );\n\n\t\t// Null elements to avoid leaks in IE\n\t\tcontainer = div = tds = marginDiv = null;\n\t});\n\n\t// Null elements to avoid leaks in IE\n\tall = select = fragment = opt = a = input = null;\n\n\treturn support;\n})();\n\nvar rbrace = /(?:\\{[\\s\\S]*\\}|\\[[\\s\\S]*\\])$/,\n\trmultiDash = /([A-Z])/g;\n\t\nfunction internalData( elem, name, data, pvt /* Internal Use Only */ ){\n\tif ( !jQuery.acceptData( elem ) ) {\n\t\treturn;\n\t}\n\n\tvar thisCache, ret,\n\t\tinternalKey = jQuery.expando,\n\t\tgetByName = typeof name === \"string\",\n\n\t\t// We have to handle DOM nodes and JS objects differently because IE6-7\n\t\t// can't GC object references properly across the DOM-JS boundary\n\t\tisNode = elem.nodeType,\n\n\t\t// Only DOM nodes need the global jQuery cache; JS object data is\n\t\t// attached directly to the object so GC can occur automatically\n\t\tcache = isNode ? jQuery.cache : elem,\n\n\t\t// Only defining an ID for JS objects if its cache already exists allows\n\t\t// the code to shortcut on the same path as a DOM node with no cache\n\t\tid = isNode ? elem[ internalKey ] : elem[ internalKey ] && internalKey;\n\n\t// Avoid doing any more work than we need to when trying to get data on an\n\t// object that has no data at all\n\tif ( (!id || !cache[id] || (!pvt && !cache[id].data)) && getByName && data === undefined ) {\n\t\treturn;\n\t}\n\n\tif ( !id ) {\n\t\t// Only DOM nodes need a new unique ID for each element since their data\n\t\t// ends up in the global cache\n\t\tif ( isNode ) {\n\t\t\telem[ internalKey ] = id = core_deletedIds.pop() || jQuery.guid++;\n\t\t} else {\n\t\t\tid = internalKey;\n\t\t}\n\t}\n\n\tif ( !cache[ id ] ) {\n\t\tcache[ id ] = {};\n\n\t\t// Avoids exposing jQuery metadata on plain JS objects when the object\n\t\t// is serialized using JSON.stringify\n\t\tif ( !isNode ) {\n\t\t\tcache[ id ].toJSON = jQuery.noop;\n\t\t}\n\t}\n\n\t// An object can be passed to jQuery.data instead of a key/value pair; this gets\n\t// shallow copied over onto the existing cache\n\tif ( typeof name === \"object\" || typeof name === \"function\" ) {\n\t\tif ( pvt ) {\n\t\t\tcache[ id ] = jQuery.extend( cache[ id ], name );\n\t\t} else {\n\t\t\tcache[ id ].data = jQuery.extend( cache[ id ].data, name );\n\t\t}\n\t}\n\n\tthisCache = cache[ id ];\n\n\t// jQuery data() is stored in a separate object inside the object's internal data\n\t// cache in order to avoid key collisions between internal data and user-defined\n\t// data.\n\tif ( !pvt ) {\n\t\tif ( !thisCache.data ) {\n\t\t\tthisCache.data = {};\n\t\t}\n\n\t\tthisCache = thisCache.data;\n\t}\n\n\tif ( data !== undefined ) {\n\t\tthisCache[ jQuery.camelCase( name ) ] = data;\n\t}\n\n\t// Check for both converted-to-camel and non-converted data property names\n\t// If a data property was specified\n\tif ( getByName ) {\n\n\t\t// First Try to find as-is property data\n\t\tret = thisCache[ name ];\n\n\t\t// Test for null|undefined property data\n\t\tif ( ret == null ) {\n\n\t\t\t// Try to find the camelCased property\n\t\t\tret = thisCache[ jQuery.camelCase( name ) ];\n\t\t}\n\t} else {\n\t\tret = thisCache;\n\t}\n\n\treturn ret;\n}\n\nfunction internalRemoveData( elem, name, pvt /* For internal use only */ ){\n\tif ( !jQuery.acceptData( elem ) ) {\n\t\treturn;\n\t}\n\n\tvar thisCache, i, l,\n\n\t\tisNode = elem.nodeType,\n\n\t\t// See jQuery.data for more information\n\t\tcache = isNode ? jQuery.cache : elem,\n\t\tid = isNode ? elem[ jQuery.expando ] : jQuery.expando;\n\n\t// If there is already no cache entry for this object, there is no\n\t// purpose in continuing\n\tif ( !cache[ id ] ) {\n\t\treturn;\n\t}\n\n\tif ( name ) {\n\n\t\tthisCache = pvt ? cache[ id ] : cache[ id ].data;\n\n\t\tif ( thisCache ) {\n\n\t\t\t// Support array or space separated string names for data keys\n\t\t\tif ( !jQuery.isArray( name ) ) {\n\n\t\t\t\t// try the string as a key before any manipulation\n\t\t\t\tif ( name in thisCache ) {\n\t\t\t\t\tname = [ name ];\n\t\t\t\t} else {\n\n\t\t\t\t\t// split the camel cased version by spaces unless a key with the spaces exists\n\t\t\t\t\tname = jQuery.camelCase( name );\n\t\t\t\t\tif ( name in thisCache ) {\n\t\t\t\t\t\tname = [ name ];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tname = name.split(\" \");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// If \"name\" is an array of keys...\n\t\t\t\t// When data is initially created, via (\"key\", \"val\") signature,\n\t\t\t\t// keys will be converted to camelCase.\n\t\t\t\t// Since there is no way to tell _how_ a key was added, remove\n\t\t\t\t// both plain key and camelCase key. #12786\n\t\t\t\t// This will only penalize the array argument path.\n\t\t\t\tname = name.concat( jQuery.map( name, jQuery.camelCase ) );\n\t\t\t}\n\n\t\t\tfor ( i = 0, l = name.length; i < l; i++ ) {\n\t\t\t\tdelete thisCache[ name[i] ];\n\t\t\t}\n\n\t\t\t// If there is no data left in the cache, we want to continue\n\t\t\t// and let the cache object itself get destroyed\n\t\t\tif ( !( pvt ? isEmptyDataObject : jQuery.isEmptyObject )( thisCache ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\n\t// See jQuery.data for more information\n\tif ( !pvt ) {\n\t\tdelete cache[ id ].data;\n\n\t\t// Don't destroy the parent cache unless the internal data object\n\t\t// had been the only thing left in it\n\t\tif ( !isEmptyDataObject( cache[ id ] ) ) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// Destroy the cache\n\tif ( isNode ) {\n\t\tjQuery.cleanData( [ elem ], true );\n\n\t// Use delete when supported for expandos or `cache` is not a window per isWindow (#10080)\n\t} else if ( jQuery.support.deleteExpando || cache != cache.window ) {\n\t\tdelete cache[ id ];\n\n\t// When all else fails, null\n\t} else {\n\t\tcache[ id ] = null;\n\t}\n}\n\njQuery.extend({\n\tcache: {},\n\n\t// Unique for each copy of jQuery on the page\n\t// Non-digits removed to match rinlinejQuery\n\texpando: \"jQuery\" + ( core_version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// The following elements throw uncatchable exceptions if you\n\t// attempt to add expando properties to them.\n\tnoData: {\n\t\t\"embed\": true,\n\t\t// Ban all objects except for Flash (which handle expandos)\n\t\t\"object\": \"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\",\n\t\t\"applet\": true\n\t},\n\n\thasData: function( elem ) {\n\t\telem = elem.nodeType ? jQuery.cache[ elem[jQuery.expando] ] : elem[ jQuery.expando ];\n\t\treturn !!elem && !isEmptyDataObject( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn internalData( elem, name, data, false );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\treturn internalRemoveData( elem, name, false );\n\t},\n\n\t// For internal use only.\n\t_data: function( elem, name, data ) {\n\t\treturn internalData( elem, name, data, true );\n\t},\n\t\n\t_removeData: function( elem, name ) {\n\t\treturn internalRemoveData( elem, name, true );\n\t},\n\n\t// A method for determining if a DOM node can handle the data expando\n\tacceptData: function( elem ) {\n\t\tvar noData = elem.nodeName && jQuery.noData[ elem.nodeName.toLowerCase() ];\n\n\t\t// nodes accept data unless otherwise specified; rejection can be conditional\n\t\treturn !noData || noData !== true && elem.getAttribute(\"classid\") === noData;\n\t}\n});\n\njQuery.fn.extend({\n\tdata: function( key, value ) {\n\t\tvar attrs, name,\n\t\t\telem = this[0],\n\t\t\ti = 0,\n\t\t\tdata = null;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = jQuery.data( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !jQuery._data( elem, \"parsedAttrs\" ) ) {\n\t\t\t\t\tattrs = elem.attributes;\n\t\t\t\t\tfor ( ; i < attrs.length; i++ ) {\n\t\t\t\t\t\tname = attrs[i].name;\n\n\t\t\t\t\t\tif ( !name.indexOf( \"data-\" ) ) {\n\t\t\t\t\t\t\tname = jQuery.camelCase( name.substring(5) );\n\n\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tjQuery._data( elem, \"parsedAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each(function() {\n\t\t\t\tjQuery.data( this, key );\n\t\t\t});\n\t\t}\n\n\t\treturn jQuery.access( this, function( value ) {\n\n\t\t\tif ( value === undefined ) {\n\t\t\t\t// Try to fetch any internally stored data first\n\t\t\t\treturn elem ? dataAttr( elem, key, jQuery.data( elem, key ) ) : null;\n\t\t\t}\n\n\t\t\tthis.each(function() {\n\t\t\t\tjQuery.data( this, key, value );\n\t\t\t});\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.removeData( this, key );\n\t\t});\n\t}\n});\n\nfunction dataAttr( elem, key, data ) {\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\n\t\tvar name = \"data-\" + key.replace( rmultiDash, \"-$1\" ).toLowerCase();\n\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = data === \"true\" ? true :\n\t\t\t\tdata === \"false\" ? false :\n\t\t\t\tdata === \"null\" ? null :\n\t\t\t\t// Only convert to a number if it doesn't change the string\n\t\t\t\t+data + \"\" === data ? +data :\n\t\t\t\trbrace.test( data ) ? jQuery.parseJSON( data ) :\n\t\t\t\t\tdata;\n\t\t\t} catch( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tjQuery.data( elem, key, data );\n\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\n\treturn data;\n}\n\n// checks a cache object for emptiness\nfunction isEmptyDataObject( obj ) {\n\tvar name;\n\tfor ( name in obj ) {\n\n\t\t// if the public data object is empty, the private is still empty\n\t\tif ( name === \"data\" && jQuery.isEmptyObject( obj[name] ) ) {\n\t\t\tcontinue;\n\t\t}\n\t\tif ( name !== \"toJSON\" ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\njQuery.extend({\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = jQuery._data( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || jQuery.isArray(data) ) {\n\t\t\t\t\tqueue = jQuery._data( elem, type, jQuery.makeArray(data) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\thooks.cur = fn;\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// not intended for public consumption - generates a queueHooks object, or returns the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn jQuery._data( elem, key ) || jQuery._data( elem, key, {\n\t\t\tempty: jQuery.Callbacks(\"once memory\").add(function() {\n\t\t\t\tjQuery._removeData( elem, type + \"queue\" );\n\t\t\t\tjQuery._removeData( elem, key );\n\t\t\t})\n\t\t});\n\t}\n});\n\njQuery.fn.extend({\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[0], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each(function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[0] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t});\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t});\n\t},\n\t// Based off of the plugin by Clint Helfers, with permission.\n\t// http://blindsignals.com/index.php/2009/07/jquery-delay/\n\tdelay: function( time, type ) {\n\t\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\t\ttype = type || \"fx\";\n\n\t\treturn this.queue( type, function( next, hooks ) {\n\t\t\tvar timeout = setTimeout( next, time );\n\t\t\thooks.stop = function() {\n\t\t\t\tclearTimeout( timeout );\n\t\t\t};\n\t\t});\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile( i-- ) {\n\t\t\ttmp = jQuery._data( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n});\nvar nodeHook, boolHook,\n\trclass = /[\\t\\r\\n]/g,\n\trreturn = /\\r/g,\n\trfocusable = /^(?:input|select|textarea|button|object)$/i,\n\trclickable = /^(?:a|area)$/i,\n\trboolean = /^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,\n\truseDefault = /^(?:checked|selected)$/i,\n\tgetSetAttribute = jQuery.support.getSetAttribute,\n\tgetSetInput = jQuery.support.input;\n\njQuery.fn.extend({\n\tattr: function( name, value ) {\n\t\treturn jQuery.access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t});\n\t},\n\n\tprop: function( name, value ) {\n\t\treturn jQuery.access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\tname = jQuery.propFix[ name ] || name;\n\t\treturn this.each(function() {\n\t\t\t// try/catch handles cases where IE balks (such as removing a property on window)\n\t\t\ttry {\n\t\t\t\tthis[ name ] = undefined;\n\t\t\t\tdelete this[ name ];\n\t\t\t} catch( e ) {}\n\t\t});\n\t},\n\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, clazz, j,\n\t\t\ti = 0,\n\t\t\tlen = this.length,\n\t\t\tproceed = typeof value === \"string\" && value;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, this.className ) );\n\t\t\t});\n\t\t}\n\n\t\tif ( proceed ) {\n\t\t\t// The disjunction here is for better compressibility (see removeClass)\n\t\t\tclasses = ( value || \"\" ).match( core_rnotwhite ) || [];\n\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\telem = this[ i ];\n\t\t\t\tcur = elem.nodeType === 1 && ( elem.className ?\n\t\t\t\t\t( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\n\t\t\t\t\t\" \"\n\t\t\t\t);\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( (clazz = classes[j++]) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telem.className = jQuery.trim( cur );\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, clazz, j,\n\t\t\ti = 0,\n\t\t\tlen = this.length,\n\t\t\tproceed = arguments.length === 0 || typeof value === \"string\" && value;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, this.className ) );\n\t\t\t});\n\t\t}\n\t\tif ( proceed ) {\n\t\t\tclasses = ( value || \"\" ).match( core_rnotwhite ) || [];\n\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\telem = this[ i ];\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( elem.className ?\n\t\t\t\t\t( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\n\t\t\t\t\t\"\"\n\t\t\t\t);\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( (clazz = classes[j++]) ) {\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) >= 0 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telem.className = value ? jQuery.trim( cur ) : \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value,\n\t\t\tisBool = typeof stateVal === \"boolean\";\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( i ) {\n\t\t\t\tjQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );\n\t\t\t});\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tif ( type === \"string\" ) {\n\t\t\t\t// toggle individual class names\n\t\t\t\tvar className,\n\t\t\t\t\ti = 0,\n\t\t\t\t\tself = jQuery( this ),\n\t\t\t\t\tstate = stateVal,\n\t\t\t\t\tclassNames = value.match( core_rnotwhite ) || [];\n\n\t\t\t\twhile ( (className = classNames[ i++ ]) ) {\n\t\t\t\t\t// check each className given, space separated list\n\t\t\t\t\tstate = isBool ? state : !self.hasClass( className );\n\t\t\t\t\tself[ state ? \"addClass\" : \"removeClass\" ]( className );\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( type === \"undefined\" || type === \"boolean\" ) {\n\t\t\t\tif ( this.className ) {\n\t\t\t\t\t// store className if set\n\t\t\t\t\tjQuery._data( this, \"__className__\", this.className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed \"false\",\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tthis.className = this.className || value === false ? \"\" : jQuery._data( this, \"__className__\" ) || \"\";\n\t\t\t}\n\t\t});\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className = \" \" + selector + \" \",\n\t\t\ti = 0,\n\t\t\tl = this.length;\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tif ( this[i].nodeType === 1 && (\" \" + this[i].className + \" \").replace(rclass, \" \").indexOf( className ) >= 0 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\tval: function( value ) {\n\t\tvar hooks, ret, isFunction,\n\t\t\telem = this[0];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, \"value\" )) !== undefined ) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\treturn typeof ret === \"string\" ?\n\t\t\t\t\t// handle most common string cases\n\t\t\t\t\tret.replace(rreturn, \"\") :\n\t\t\t\t\t// handle cases where value is null/undef or number\n\t\t\t\t\tret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tisFunction = jQuery.isFunction( value );\n\n\t\treturn this.each(function( i ) {\n\t\t\tvar val,\n\t\t\t\tself = jQuery(this);\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( isFunction ) {\n\t\t\t\tval = value.call( this, i, self.val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\t\t\t} else if ( jQuery.isArray( val ) ) {\n\t\t\t\tval = jQuery.map(val, function ( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !(\"set\" in hooks) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t});\n\t}\n});\n\njQuery.extend({\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\t\t\t\t// attributes.value is undefined in Blackberry 4.7 but\n\t\t\t\t// uses .value. See #6932\n\t\t\t\tvar val = elem.attributes.value;\n\t\t\t\treturn !val || val.specified ? elem.value : elem.text;\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\" || index < 0,\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length,\n\t\t\t\t\ti = index < 0 ?\n\t\t\t\t\t\tmax :\n\t\t\t\t\t\tone ? index : 0;\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// oldIE doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t( jQuery.support.optDisabled ? !option.disabled : option.getAttribute(\"disabled\") === null ) &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled || !jQuery.nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar values = jQuery.makeArray( value );\n\n\t\t\t\tjQuery(elem).find(\"option\").each(function() {\n\t\t\t\t\tthis.selected = jQuery.inArray( jQuery(this).val(), values ) >= 0;\n\t\t\t\t});\n\n\t\t\t\tif ( !values.length ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t},\n\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks, notxml,\n\t\t\tnType = elem.nodeType;\n\n\t\t// don't get/set attributes on text, comment and attribute nodes\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\tnotxml = nType !== 1 || !jQuery.isXMLDoc( elem );\n\n\t\t// All attributes are lowercase\n\t\t// Grab necessary hook if one is defined\n\t\tif ( notxml ) {\n\t\t\tname = name.toLowerCase();\n\t\t\thooks = jQuery.attrHooks[ name ] || ( rboolean.test( name ) ? boolHook : nodeHook );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\n\t\t\t} else if ( hooks && notxml && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {\n\t\t\t\treturn ret;\n\n\t\t\t} else {\n\t\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t} else if ( hooks && notxml && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ) {\n\t\t\treturn ret;\n\n\t\t} else {\n\n\t\t\t// In IE9+, Flash objects don't have .getAttribute (#12945)\n\t\t\t// Support: IE9+\n\t\t\tif ( typeof elem.getAttribute !== \"undefined\" ) {\n\t\t\t\tret =  elem.getAttribute( name );\n\t\t\t}\n\n\t\t\t// Non-existent attributes return null, we normalize to undefined\n\t\t\treturn ret == null ?\n\t\t\t\tundefined :\n\t\t\t\tret;\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name, propName,\n\t\t\ti = 0,\n\t\t\tattrNames = value && value.match( core_rnotwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( (name = attrNames[i++]) ) {\n\t\t\t\tpropName = jQuery.propFix[ name ] || name;\n\n\t\t\t\t// Boolean attributes get special treatment (#10870)\n\t\t\t\tif ( rboolean.test( name ) ) {\n\t\t\t\t\t// Set corresponding property to false for boolean attributes\n\t\t\t\t\t// Also clear defaultChecked/defaultSelected (if appropriate) for IE<8\n\t\t\t\t\tif ( !getSetAttribute && ruseDefault.test( name ) ) {\n\t\t\t\t\t\telem[ jQuery.camelCase( \"default-\" + name ) ] =\n\t\t\t\t\t\t\telem[ propName ] = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem[ propName ] = false;\n\t\t\t\t\t}\n\n\t\t\t\t// See #9699 for explanation of this approach (setting first, then removal)\n\t\t\t\t} else {\n\t\t\t\t\tjQuery.attr( elem, name, \"\" );\n\t\t\t\t}\n\n\t\t\t\telem.removeAttribute( getSetAttribute ? name : propName );\n\t\t\t}\n\t\t}\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !jQuery.support.radioValue && value === \"radio\" && jQuery.nodeName(elem, \"input\") ) {\n\t\t\t\t\t// Setting the type on a radio button after the value resets the value in IE6-9\n\t\t\t\t\t// Reset value to default in case type is set after value during creation\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\ttabindex: \"tabIndex\",\n\t\treadonly: \"readOnly\",\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\",\n\t\tmaxlength: \"maxLength\",\n\t\tcellspacing: \"cellSpacing\",\n\t\tcellpadding: \"cellPadding\",\n\t\trowspan: \"rowSpan\",\n\t\tcolspan: \"colSpan\",\n\t\tusemap: \"useMap\",\n\t\tframeborder: \"frameBorder\",\n\t\tcontenteditable: \"contentEditable\"\n\t},\n\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks, notxml,\n\t\t\tnType = elem.nodeType;\n\n\t\t// don't get/set properties on text, comment and attribute nodes\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnotxml = nType !== 1 || !jQuery.isXMLDoc( elem );\n\n\t\tif ( notxml ) {\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {\n\t\t\t\treturn ret;\n\n\t\t\t} else {\n\t\t\t\treturn ( elem[ name ] = value );\n\t\t\t}\n\n\t\t} else {\n\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ) {\n\t\t\t\treturn ret;\n\n\t\t\t} else {\n\t\t\t\treturn elem[ name ];\n\t\t\t}\n\t\t}\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\t\t\t\t// elem.tabIndex doesn't always return the correct value when it hasn't been explicitly set\n\t\t\t\t// http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\tvar attributeNode = elem.getAttributeNode(\"tabindex\");\n\n\t\t\t\treturn attributeNode && attributeNode.specified ?\n\t\t\t\t\tparseInt( attributeNode.value, 10 ) :\n\t\t\t\t\trfocusable.test( elem.nodeName ) || rclickable.test( elem.nodeName ) && elem.href ?\n\t\t\t\t\t\t0 :\n\t\t\t\t\t\tundefined;\n\t\t\t}\n\t\t}\n\t}\n});\n\n// Hook for boolean attributes\nboolHook = {\n\tget: function( elem, name ) {\n\t\tvar\n\t\t\t// Use .prop to determine if this attribute is understood as boolean\n\t\t\tprop = jQuery.prop( elem, name ),\n\n\t\t\t// Fetch it accordingly\n\t\t\tattr = typeof prop === \"boolean\" && elem.getAttribute( name ),\n\t\t\tdetail = typeof prop === \"boolean\" ?\n\n\t\t\t\tgetSetInput && getSetAttribute ?\n\t\t\t\t\tattr != null :\n\t\t\t\t\t// oldIE fabricates an empty string for missing boolean attributes\n\t\t\t\t\t// and conflates checked/selected into attroperties\n\t\t\t\t\truseDefault.test( name ) ?\n\t\t\t\t\t\telem[ jQuery.camelCase( \"default-\" + name ) ] :\n\t\t\t\t\t\t!!attr :\n\n\t\t\t\t// fetch an attribute node for properties not recognized as boolean\n\t\t\t\telem.getAttributeNode( name );\n\n\t\treturn detail && detail.value !== false ?\n\t\t\tname.toLowerCase() :\n\t\t\tundefined;\n\t},\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else if ( getSetInput && getSetAttribute || !ruseDefault.test( name ) ) {\n\t\t\t// IE<8 needs the *property* name\n\t\t\telem.setAttribute( !getSetAttribute && jQuery.propFix[ name ] || name, name );\n\n\t\t// Use defaultChecked and defaultSelected for oldIE\n\t\t} else {\n\t\t\telem[ jQuery.camelCase( \"default-\" + name ) ] = elem[ name ] = true;\n\t\t}\n\n\t\treturn name;\n\t}\n};\n\n// fix oldIE value attroperty\nif ( !getSetInput || !getSetAttribute ) {\n\tjQuery.attrHooks.value = {\n\t\tget: function( elem, name ) {\n\t\t\tvar ret = elem.getAttributeNode( name );\n\t\t\treturn jQuery.nodeName( elem, \"input\" ) ?\n\n\t\t\t\t// Ignore the value *property* by using defaultValue\n\t\t\t\telem.defaultValue :\n\n\t\t\t\tret && ret.specified ? ret.value : undefined;\n\t\t},\n\t\tset: function( elem, value, name ) {\n\t\t\tif ( jQuery.nodeName( elem, \"input\" ) ) {\n\t\t\t\t// Does not return so that setAttribute is also used\n\t\t\t\telem.defaultValue = value;\n\t\t\t} else {\n\t\t\t\t// Use nodeHook if defined (#1954); otherwise setAttribute is fine\n\t\t\t\treturn nodeHook && nodeHook.set( elem, value, name );\n\t\t\t}\n\t\t}\n\t};\n}\n\n// IE6/7 do not support getting/setting some attributes with get/setAttribute\nif ( !getSetAttribute ) {\n\n\t// Use this for any attribute in IE6/7\n\t// This fixes almost every IE6/7 issue\n\tnodeHook = jQuery.valHooks.button = {\n\t\tget: function( elem, name ) {\n\t\t\tvar ret = elem.getAttributeNode( name );\n\t\t\treturn ret && ( name === \"id\" || name === \"name\" || name === \"coords\" ? ret.value !== \"\" : ret.specified ) ?\n\t\t\t\tret.value :\n\t\t\t\tundefined;\n\t\t},\n\t\tset: function( elem, value, name ) {\n\t\t\t// Set the existing or create a new attribute node\n\t\t\tvar ret = elem.getAttributeNode( name );\n\t\t\tif ( !ret ) {\n\t\t\t\telem.setAttributeNode(\n\t\t\t\t\t(ret = elem.ownerDocument.createAttribute( name ))\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tret.value = value += \"\";\n\n\t\t\t// Break association with cloned elements by also using setAttribute (#9646)\n\t\t\treturn name === \"value\" || value === elem.getAttribute( name ) ?\n\t\t\t\tvalue :\n\t\t\t\tundefined;\n\t\t}\n\t};\n\n\t// Set contenteditable to false on removals(#10429)\n\t// Setting to empty string throws an error as an invalid value\n\tjQuery.attrHooks.contenteditable = {\n\t\tget: nodeHook.get,\n\t\tset: function( elem, value, name ) {\n\t\t\tnodeHook.set( elem, value === \"\" ? false : value, name );\n\t\t}\n\t};\n\n\t// Set width and height to auto instead of 0 on empty string( Bug #8150 )\n\t// This is for removals\n\tjQuery.each([ \"width\", \"height\" ], function( i, name ) {\n\t\tjQuery.attrHooks[ name ] = jQuery.extend( jQuery.attrHooks[ name ], {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( value === \"\" ) {\n\t\t\t\t\telem.setAttribute( name, \"auto\" );\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n\n// Some attributes require a special call on IE\n// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !jQuery.support.hrefNormalized ) {\n\tjQuery.each([ \"href\", \"src\", \"width\", \"height\" ], function( i, name ) {\n\t\tjQuery.attrHooks[ name ] = jQuery.extend( jQuery.attrHooks[ name ], {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar ret = elem.getAttribute( name, 2 );\n\t\t\t\treturn ret == null ? undefined : ret;\n\t\t\t}\n\t\t});\n\t});\n\n\t// href/src property should get the full normalized URL (#10299/#12915)\n\tjQuery.each([ \"href\", \"src\" ], function( i, name ) {\n\t\tjQuery.propHooks[ name ] = {\n\t\t\tget: function( elem ) {\n\t\t\t\treturn elem.getAttribute( name, 4 );\n\t\t\t}\n\t\t};\n\t});\n}\n\nif ( !jQuery.support.style ) {\n\tjQuery.attrHooks.style = {\n\t\tget: function( elem ) {\n\t\t\t// Return undefined in the case of empty string\n\t\t\t// Note: IE uppercases css property names, but if we were to .toLowerCase()\n\t\t\t// .cssText, that would destroy case senstitivity in URL's, like in \"background\"\n\t\t\treturn elem.style.cssText || undefined;\n\t\t},\n\t\tset: function( elem, value ) {\n\t\t\treturn ( elem.style.cssText = value + \"\" );\n\t\t}\n\t};\n}\n\n// Safari mis-reports the default selected property of an option\n// Accessing the parent's selectedIndex property fixes it\nif ( !jQuery.support.optSelected ) {\n\tjQuery.propHooks.selected = jQuery.extend( jQuery.propHooks.selected, {\n\t\tget: function( elem ) {\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\t// Make sure that it also works with optgroups, see #5701\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t});\n}\n\n// IE6/7 call enctype encoding\nif ( !jQuery.support.enctype ) {\n\tjQuery.propFix.enctype = \"encoding\";\n}\n\n// Radios and checkboxes getter/setter\nif ( !jQuery.support.checkOn ) {\n\tjQuery.each([ \"radio\", \"checkbox\" ], function() {\n\t\tjQuery.valHooks[ this ] = {\n\t\t\tget: function( elem ) {\n\t\t\t\t// Handle the case where in Webkit \"\" is returned instead of \"on\" if a value isn't specified\n\t\t\t\treturn elem.getAttribute(\"value\") === null ? \"on\" : elem.value;\n\t\t\t}\n\t\t};\n\t});\n}\njQuery.each([ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = jQuery.extend( jQuery.valHooks[ this ], {\n\t\tset: function( elem, value ) {\n\t\t\tif ( jQuery.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );\n\t\t\t}\n\t\t}\n\t});\n});\nvar rformElems = /^(?:input|select|textarea)$/i,\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|contextmenu)|click/,\n\trfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)$/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\t\telemData = elem.nodeType !== 3 && elem.nodeType !== 8 && jQuery._data( elem );\n\n\t\tif ( !elemData ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !(events = elemData.events) ) {\n\t\t\tevents = elemData.events = {};\n\t\t}\n\t\tif ( !(eventHandle = elemData.handle) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && (!e || jQuery.event.triggered !== e.type) ?\n\t\t\t\t\tjQuery.event.dispatch.apply( eventHandle.elem, arguments ) :\n\t\t\t\t\tundefined;\n\t\t\t};\n\t\t\t// Add elem as a property of the handle fn to prevent a memory leak with IE non-native events\n\t\t\teventHandle.elem = elem;\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\t// jQuery(...).bind(\"mouseover mouseout\", fn);\n\t\ttypes = ( types || \"\" ).match( core_rnotwhite ) || [\"\"];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[t] ) || [];\n\t\t\ttype = origType = tmp[1];\n\t\t\tnamespaces = ( tmp[2] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend({\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join(\".\")\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !(handlers = events[ type ]) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener/attachEvent if the special events handler returns false\n\t\t\t\tif ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\t\t\t\t\t// Bind the global event handler to the element\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle, false );\n\n\t\t\t\t\t} else if ( elem.attachEvent ) {\n\t\t\t\t\t\telem.attachEvent( \"on\" + type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t\t// Nullify elem to prevent memory leaks in IE\n\t\telem = null;\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = jQuery.hasData( elem ) && jQuery._data( elem );\n\n\t\tif ( !elemData || !(events = elemData.events) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( core_rnotwhite ) || [\"\"];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[t] ) || [];\n\t\t\ttype = origType = tmp[1];\n\t\t\tnamespaces = ( tmp[2] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[2] && new RegExp( \"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector || selector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdelete elemData.handle;\n\n\t\t\t// removeData also checks for emptiness and clears the expando if empty\n\t\t\t// so use it instead of delete\n\t\t\tjQuery._removeData( elem, \"events\" );\n\t\t}\n\t},\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = event.type || event,\n\t\t\tnamespaces = event.namespace ? event.namespace.split(\".\") : [];\n\n\t\tcur = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf(\".\") >= 0 ) {\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split(\".\");\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf(\":\") < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\tevent.isTrigger = true;\n\t\tevent.namespace = namespaces.join(\".\");\n\t\tevent.namespace_re = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === (elem.ownerDocument || document) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( (cur = eventPath[i++]) && !event.isPropagationStopped() ) {\n\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( jQuery._data( cur, \"events\" ) || {} )[ event.type ] && jQuery._data( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && jQuery.acceptData( cur ) && handle.apply && handle.apply( cur, data ) === false ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( (!special._default || special._default.apply( elem.ownerDocument, data ) === false) &&\n\t\t\t\t!(type === \"click\" && jQuery.nodeName( elem, \"a\" )) && jQuery.acceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name name as the event.\n\t\t\t\t// Can't use an .isFunction() check here because IE6/7 fails that test.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && elem[ type ] && !jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\t\t\t\t\ttry {\n\t\t\t\t\t\telem[ type ]();\n\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t// IE<9 dies on focus/blur to hidden element (#1486,#12518)\n\t\t\t\t\t\t// only reproducible on winXP IE8 native, not IE9 in IE8 mode\n\t\t\t\t\t}\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\tdispatch: function( event ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tevent = jQuery.event.fix( event );\n\n\t\tvar i, j, ret, matched, handleObj,\n\t\t\thandlerQueue = [],\n\t\t\targs = core_slice.call( arguments ),\n\t\t\thandlers = ( jQuery._data( this, \"events\" ) || {} )[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[0] = event;\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( (matched = handlerQueue[ i++ ]) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( (handleObj = matched.handlers[ j++ ]) && !event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// Triggered event must either 1) have no namespace, or\n\t\t\t\t// 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).\n\t\t\t\tif ( !event.namespace_re || event.namespace_re.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )\n\t\t\t\t\t\t\t.apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( (event.result = ret) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, matches, sel, handleObj,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\t// Black-hole SVG <use> instance trees (#13180)\n\t\t// Avoid non-left-click bubbling in Firefox (#3861)\n\t\tif ( delegateCount && cur.nodeType && (!event.button || event.type !== \"click\") ) {\n\n\t\t\tfor ( ; cur != this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.disabled !== true || event.type !== \"click\" ) {\n\t\t\t\t\tmatches = [];\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matches[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatches[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) >= 0 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matches[ sel ] ) {\n\t\t\t\t\t\t\tmatches.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matches.length ) {\n\t\t\t\t\t\thandlerQueue.push({ elem: cur, handlers: matches });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push({ elem: this, handlers: handlers.slice( delegateCount ) });\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\tfix: function( event ) {\n\t\tif ( event[ jQuery.expando ] ) {\n\t\t\treturn event;\n\t\t}\n\n\t\t// Create a writable copy of the event object and normalize some properties\n\t\tvar i, prop,\n\t\t\toriginalEvent = event,\n\t\t\tfixHook = jQuery.event.fixHooks[ event.type ] || {},\n\t\t\tcopy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;\n\n\t\tevent = new jQuery.Event( originalEvent );\n\n\t\ti = copy.length;\n\t\twhile ( i-- ) {\n\t\t\tprop = copy[ i ];\n\t\t\tevent[ prop ] = originalEvent[ prop ];\n\t\t}\n\n\t\t// Support: IE<9\n\t\t// Fix target property (#1925)\n\t\tif ( !event.target ) {\n\t\t\tevent.target = originalEvent.srcElement || document;\n\t\t}\n\n\t\t// Support: Chrome 23+, Safari?\n\t\t// Target should not be a text node (#504, #13143)\n\t\tif ( event.target.nodeType === 3 ) {\n\t\t\tevent.target = event.target.parentNode;\n\t\t}\n\n\t\t// Support: IE<9\n\t\t// For mouse/key events, metaKey==false if it's undefined (#3368, #11328)\n\t\tevent.metaKey = !!event.metaKey;\n\n\t\treturn fixHook.filter ? fixHook.filter( event, originalEvent ) : event;\n\t},\n\n\t// Includes some event props shared by KeyEvent and MouseEvent\n\tprops: \"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),\n\n\tfixHooks: {},\n\n\tkeyHooks: {\n\t\tprops: \"char charCode key keyCode\".split(\" \"),\n\t\tfilter: function( event, original ) {\n\n\t\t\t// Add which for key events\n\t\t\tif ( event.which == null ) {\n\t\t\t\tevent.which = original.charCode != null ? original.charCode : original.keyCode;\n\t\t\t}\n\n\t\t\treturn event;\n\t\t}\n\t},\n\n\tmouseHooks: {\n\t\tprops: \"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),\n\t\tfilter: function( event, original ) {\n\t\t\tvar eventDoc, doc, body,\n\t\t\t\tbutton = original.button,\n\t\t\t\tfromElement = original.fromElement;\n\n\t\t\t// Calculate pageX/Y if missing and clientX/Y available\n\t\t\tif ( event.pageX == null && original.clientX != null ) {\n\t\t\t\teventDoc = event.target.ownerDocument || document;\n\t\t\t\tdoc = eventDoc.documentElement;\n\t\t\t\tbody = eventDoc.body;\n\n\t\t\t\tevent.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );\n\t\t\t\tevent.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );\n\t\t\t}\n\n\t\t\t// Add relatedTarget, if necessary\n\t\t\tif ( !event.relatedTarget && fromElement ) {\n\t\t\t\tevent.relatedTarget = fromElement === event.target ? original.toElement : fromElement;\n\t\t\t}\n\n\t\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\t\t// Note: button is not normalized, so don't use it\n\t\t\tif ( !event.which && button !== undefined ) {\n\t\t\t\tevent.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );\n\t\t\t}\n\n\t\t\treturn event;\n\t\t}\n\t},\n\n\tspecial: {\n\t\tload: {\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\t\t\t// For checkbox, fire native event so checked state will be right\n\t\t\ttrigger: function() {\n\t\t\t\tif ( jQuery.nodeName( this, \"input\" ) && this.type === \"checkbox\" && this.click ) {\n\t\t\t\t\tthis.click();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tfocus: {\n\t\t\t// Fire native event if possible so blur/focus sequence is correct\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this !== document.activeElement && this.focus ) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tthis.focus();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t// Support: IE<9\n\t\t\t\t\t\t// If we error on focus to hidden element (#1486, #12518),\n\t\t\t\t\t\t// let .trigger() run the handlers\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusin\"\n\t\t},\n\t\tblur: {\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this === document.activeElement && this.blur ) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusout\"\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Even when returnValue equals to undefined Firefox will still show alert\n\t\t\t\tif ( event.result !== undefined ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tsimulate: function( type, elem, event, bubble ) {\n\t\t// Piggyback on a donor event to simulate a different one.\n\t\t// Fake originalEvent to avoid donor's stopPropagation, but if the\n\t\t// simulated event prevents default then we do the same on the donor.\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{ type: type,\n\t\t\t\tisSimulated: true,\n\t\t\t\toriginalEvent: {}\n\t\t\t}\n\t\t);\n\t\tif ( bubble ) {\n\t\t\tjQuery.event.trigger( e, null, elem );\n\t\t} else {\n\t\t\tjQuery.event.dispatch.call( elem, e );\n\t\t}\n\t\tif ( e.isDefaultPrevented() ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n};\n\njQuery.removeEvent = document.removeEventListener ?\n\tfunction( elem, type, handle ) {\n\t\tif ( elem.removeEventListener ) {\n\t\t\telem.removeEventListener( type, handle, false );\n\t\t}\n\t} :\n\tfunction( elem, type, handle ) {\n\t\tvar name = \"on\" + type;\n\n\t\tif ( elem.detachEvent ) {\n\n\t\t\t// #8545, #7054, preventing memory leaks for custom events in IE6-8\n\t\t\t// detachEvent needed property on element, by name of that event, to properly expose it to GC\n\t\t\tif ( typeof elem[ name ] === \"undefined\" ) {\n\t\t\t\telem[ name ] = null;\n\t\t\t}\n\n\t\t\telem.detachEvent( name, handle );\n\t\t}\n\t};\n\njQuery.Event = function( src, props ) {\n\t// Allow instantiation without the 'new' keyword\n\tif ( !(this instanceof jQuery.Event) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = ( src.defaultPrevented || src.returnValue === false ||\n\t\t\tsrc.getPreventDefault && src.getPreventDefault() ) ? returnTrue : returnFalse;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || jQuery.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\t\tif ( !e ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If preventDefault exists, run it on the original event\n\t\tif ( e.preventDefault ) {\n\t\t\te.preventDefault();\n\n\t\t// Support: IE\n\t\t// Otherwise set the returnValue property of the original event to false\n\t\t} else {\n\t\t\te.returnValue = false;\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\t\tif ( !e ) {\n\t\t\treturn;\n\t\t}\n\t\t// If stopPropagation exists, run it on the original event\n\t\tif ( e.stopPropagation ) {\n\t\t\te.stopPropagation();\n\t\t}\n\n\t\t// Support: IE\n\t\t// Set the cancelBubble property of the original event to true\n\t\te.cancelBubble = true;\n\t},\n\tstopImmediatePropagation: function() {\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\njQuery.each({\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mousenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || (related !== target && !jQuery.contains( target, related )) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n});\n\n// IE submit delegation\nif ( !jQuery.support.submitBubbles ) {\n\n\tjQuery.event.special.submit = {\n\t\tsetup: function() {\n\t\t\t// Only need this for delegated form submit events\n\t\t\tif ( jQuery.nodeName( this, \"form\" ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Lazy-add a submit handler when a descendant form may potentially be submitted\n\t\t\tjQuery.event.add( this, \"click._submit keypress._submit\", function( e ) {\n\t\t\t\t// Node name check avoids a VML-related crash in IE (#9807)\n\t\t\t\tvar elem = e.target,\n\t\t\t\t\tform = jQuery.nodeName( elem, \"input\" ) || jQuery.nodeName( elem, \"button\" ) ? elem.form : undefined;\n\t\t\t\tif ( form && !jQuery._data( form, \"submitBubbles\" ) ) {\n\t\t\t\t\tjQuery.event.add( form, \"submit._submit\", function( event ) {\n\t\t\t\t\t\tevent._submit_bubble = true;\n\t\t\t\t\t});\n\t\t\t\t\tjQuery._data( form, \"submitBubbles\", true );\n\t\t\t\t}\n\t\t\t});\n\t\t\t// return undefined since we don't need an event listener\n\t\t},\n\n\t\tpostDispatch: function( event ) {\n\t\t\t// If form was submitted by the user, bubble the event up the tree\n\t\t\tif ( event._submit_bubble ) {\n\t\t\t\tdelete event._submit_bubble;\n\t\t\t\tif ( this.parentNode && !event.isTrigger ) {\n\t\t\t\t\tjQuery.event.simulate( \"submit\", this.parentNode, event, true );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tteardown: function() {\n\t\t\t// Only need this for delegated form submit events\n\t\t\tif ( jQuery.nodeName( this, \"form\" ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Remove delegated handlers; cleanData eventually reaps submit handlers attached above\n\t\t\tjQuery.event.remove( this, \"._submit\" );\n\t\t}\n\t};\n}\n\n// IE change delegation and checkbox/radio fix\nif ( !jQuery.support.changeBubbles ) {\n\n\tjQuery.event.special.change = {\n\n\t\tsetup: function() {\n\n\t\t\tif ( rformElems.test( this.nodeName ) ) {\n\t\t\t\t// IE doesn't fire change on a check/radio until blur; trigger it on click\n\t\t\t\t// after a propertychange. Eat the blur-change in special.change.handle.\n\t\t\t\t// This still fires onchange a second time for check/radio after blur.\n\t\t\t\tif ( this.type === \"checkbox\" || this.type === \"radio\" ) {\n\t\t\t\t\tjQuery.event.add( this, \"propertychange._change\", function( event ) {\n\t\t\t\t\t\tif ( event.originalEvent.propertyName === \"checked\" ) {\n\t\t\t\t\t\t\tthis._just_changed = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tjQuery.event.add( this, \"click._change\", function( event ) {\n\t\t\t\t\t\tif ( this._just_changed && !event.isTrigger ) {\n\t\t\t\t\t\t\tthis._just_changed = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Allow triggered, simulated change events (#11500)\n\t\t\t\t\t\tjQuery.event.simulate( \"change\", this, event, true );\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Delegated event; lazy-add a change handler on descendant inputs\n\t\t\tjQuery.event.add( this, \"beforeactivate._change\", function( e ) {\n\t\t\t\tvar elem = e.target;\n\n\t\t\t\tif ( rformElems.test( elem.nodeName ) && !jQuery._data( elem, \"changeBubbles\" ) ) {\n\t\t\t\t\tjQuery.event.add( elem, \"change._change\", function( event ) {\n\t\t\t\t\t\tif ( this.parentNode && !event.isSimulated && !event.isTrigger ) {\n\t\t\t\t\t\t\tjQuery.event.simulate( \"change\", this.parentNode, event, true );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tjQuery._data( elem, \"changeBubbles\", true );\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\thandle: function( event ) {\n\t\t\tvar elem = event.target;\n\n\t\t\t// Swallow native change events from checkbox/radio, we already triggered them above\n\t\t\tif ( this !== elem || event.isSimulated || event.isTrigger || (elem.type !== \"radio\" && elem.type !== \"checkbox\") ) {\n\t\t\t\treturn event.handleObj.handler.apply( this, arguments );\n\t\t\t}\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tjQuery.event.remove( this, \"._change\" );\n\n\t\t\treturn !rformElems.test( this.nodeName );\n\t\t}\n\t};\n}\n\n// Create \"bubbling\" focus and blur events\nif ( !jQuery.support.focusinBubbles ) {\n\tjQuery.each({ focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler while someone wants focusin/focusout\n\t\tvar attaches = 0,\n\t\t\thandler = function( event ) {\n\t\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );\n\t\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tif ( attaches++ === 0 ) {\n\t\t\t\t\tdocument.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tif ( --attaches === 0 ) {\n\t\t\t\t\tdocument.removeEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n}\n\njQuery.fn.extend({\n\n\ton: function( types, selector, data, fn, /*INTERNAL*/ one ) {\n\t\tvar origFn, type;\n\n\t\t// Types can be a map of types/handlers\n\t\tif ( typeof types === \"object\" ) {\n\t\t\t// ( types-Object, selector, data )\n\t\t\tif ( typeof selector !== \"string\" ) {\n\t\t\t\t// ( types-Object, data )\n\t\t\t\tdata = data || selector;\n\t\t\t\tselector = undefined;\n\t\t\t}\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.on( type, selector, data, types[ type ], one );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\tif ( data == null && fn == null ) {\n\t\t\t// ( types, fn )\n\t\t\tfn = selector;\n\t\t\tdata = selector = undefined;\n\t\t} else if ( fn == null ) {\n\t\t\tif ( typeof selector === \"string\" ) {\n\t\t\t\t// ( types, selector, fn )\n\t\t\t\tfn = data;\n\t\t\t\tdata = undefined;\n\t\t\t} else {\n\t\t\t\t// ( types, data, fn )\n\t\t\t\tfn = data;\n\t\t\t\tdata = selector;\n\t\t\t\tselector = undefined;\n\t\t\t}\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t} else if ( !fn ) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif ( one === 1 ) {\n\t\t\torigFn = fn;\n\t\t\tfn = function( event ) {\n\t\t\t\t// Can use an empty set, since event contains the info\n\t\t\t\tjQuery().off( event );\n\t\t\t\treturn origFn.apply( this, arguments );\n\t\t\t};\n\t\t\t// Use same guid so caller can remove using origFn\n\t\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.add( this, types, fn, data, selector );\n\t\t});\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn this.on( types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ? handleObj.origType + \".\" + handleObj.namespace : handleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each(function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t});\n\t},\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ? this.off( selector, \"**\" ) : this.off( types, selector || \"**\", fn );\n\t},\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t});\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[0];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t},\n\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n});\n\njQuery.each( (\"blur focus focusin focusout load resize scroll unload click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup error contextmenu\").split(\" \"), function( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n\n\tif ( rkeyEvent.test( name ) ) {\n\t\tjQuery.event.fixHooks[ name ] = jQuery.event.keyHooks;\n\t}\n\n\tif ( rmouseEvent.test( name ) ) {\n\t\tjQuery.event.fixHooks[ name ] = jQuery.event.mouseHooks;\n\t}\n});\n/*!\n * Sizzle CSS Selector Engine\n * Copyright 2012 jQuery Foundation and other contributors\n * Released under the MIT license\n * http://sizzlejs.com/\n */\n(function( window, undefined ) {\n\nvar i,\n\tcachedruns,\n\tExpr,\n\tgetText,\n\tisXML,\n\tcompile,\n\thasDuplicate,\n\toutermostContext,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsXML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\tsortOrder,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + -(new Date()),\n\tpreferredDoc = window.document,\n\tsupport = {},\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\n\t// General-purpose constants\n\tstrundefined = typeof undefined,\n\tMAX_NEGATIVE = 1 << 31,\n\n\t// Array methods\n\tarr = [],\n\tpop = arr.pop,\n\tpush = arr.push,\n\tslice = arr.slice,\n\t// Use a stripped-down indexOf if we can't use a native one\n\tindexOf = arr.indexOf || function( elem ) {\n\t\tvar i = 0,\n\t\t\tlen = this.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( this[i] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\n\t// Regular expressions\n\n\t// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\t// http://www.w3.org/TR/css3-syntax/#characters\n\tcharacterEncoding = \"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",\n\n\t// Loosely modeled on CSS identifier characters\n\t// An unquoted value should be a CSS identifier http://www.w3.org/TR/css3-selectors/#attribute-selectors\n\t// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\tidentifier = characterEncoding.replace( \"w\", \"w#\" ),\n\n\t// Acceptable operators http://www.w3.org/TR/selectors/#attribute-selectors\n\toperators = \"([*^$|!~]?=)\",\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + characterEncoding + \")\" + whitespace +\n\t\t\"*(?:\" + operators + whitespace + \"*(?:(['\\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|(\" + identifier + \")|)|)\" + whitespace + \"*\\\\]\",\n\n\t// Prefer arguments quoted,\n\t//   then not containing pseudos/brackets,\n\t//   then attribute selectors/non-parenthetical expressions,\n\t//   then anything else\n\t// These preferences are here to reduce the number of selectors\n\t//   needing tokenize in the PSEUDO preFilter\n\tpseudos = \":(\" + characterEncoding + \")(?:\\\\(((['\\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes.replace( 3, 8 ) + \")*)|.*)\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([\\\\x20\\\\t\\\\r\\\\n\\\\f>+~])\" + whitespace + \"*\" ),\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + characterEncoding + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + characterEncoding + \")\" ),\n\t\t\"NAME\": new RegExp( \"^\\\\[name=['\\\"]?(\" + characterEncoding + \")['\\\"]?\\\\]\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + characterEncoding.replace( \"w\", \"w*\" ) + \")\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trsibling = /[\\x20\\t\\r\\n\\f]*[+~]/,\n\n\trnative = /\\{\\s*\\[native code\\]\\s*\\}/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trescape = /'|\\\\/g,\n\trattributeQuotes = /\\=[\\x20\\t\\r\\n\\f]*([^'\"\\]]*)[\\x20\\t\\r\\n\\f]*\\]/g,\n\n\t// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = /\\\\([\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|.)/g,\n\tfunescape = function( _, escaped ) {\n\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t// NaN means non-codepoint\n\t\treturn high !== high ?\n\t\t\tescaped :\n\t\t\t// BMP codepoint\n\t\t\thigh < 0 ?\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t};\n\n// Use a stripped-down slice if we can't use a native one\ntry {\n\tslice.call( docElem.childNodes, 0 )[0].nodeType;\n} catch ( e ) {\n\tslice = function( i ) {\n\t\tvar elem,\n\t\t\tresults = [];\n\t\tfor ( ; (elem = this[i]); i++ ) {\n\t\t\tresults.push( elem );\n\t\t}\n\t\treturn results;\n\t};\n}\n\n/**\n * For feature detection\n * @param {Function} fn The function to test for native support\n */\nfunction isNative( fn ) {\n\treturn rnative.test( fn + \"\" );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {Function(string, Object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar cache,\n\t\tkeys = [];\n\n\treturn (cache = function( key, value ) {\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key += \" \" ) > Expr.cacheLength ) {\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn (cache[ key ] = value);\n\t});\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created div and expects a boolean result\n */\nfunction assert( fn ) {\n\tvar div = document.createElement(\"div\");\n\n\ttry {\n\t\treturn fn( div );\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\t// release memory in IE\n\t\tdiv = null;\n\t}\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar match, elem, m, nodeType,\n\t\t// QSA vars\n\t\ti, groups, old, nid, newContext, newSelector;\n\n\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\n\tcontext = context || document;\n\tresults = results || [];\n\n\tif ( !selector || typeof selector !== \"string\" ) {\n\t\treturn results;\n\t}\n\n\tif ( (nodeType = context.nodeType) !== 1 && nodeType !== 9 ) {\n\t\treturn [];\n\t}\n\n\tif ( !documentIsXML && !seed ) {\n\n\t\t// Shortcuts\n\t\tif ( (match = rquickExpr.exec( selector )) ) {\n\t\t\t// Speed-up: Sizzle(\"#ID\")\n\t\t\tif ( (m = match[1]) ) {\n\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\telem = context.getElementById( m );\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t\t// nodes that are no longer in the document #6963\n\t\t\t\t\tif ( elem && elem.parentNode ) {\n\t\t\t\t\t\t// Handle the case where IE, Opera, and Webkit return items\n\t\t\t\t\t\t// by name instead of ID\n\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Context is not a document\n\t\t\t\t\tif ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&\n\t\t\t\t\t\tcontains( context, elem ) && elem.id === m ) {\n\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Speed-up: Sizzle(\"TAG\")\n\t\t\t} else if ( match[2] ) {\n\t\t\t\tpush.apply( results, slice.call(context.getElementsByTagName( selector ), 0) );\n\t\t\t\treturn results;\n\n\t\t\t// Speed-up: Sizzle(\".CLASS\")\n\t\t\t} else if ( (m = match[3]) && support.getByClassName && context.getElementsByClassName ) {\n\t\t\t\tpush.apply( results, slice.call(context.getElementsByClassName( m ), 0) );\n\t\t\t\treturn results;\n\t\t\t}\n\t\t}\n\n\t\t// QSA path\n\t\tif ( support.qsa && !rbuggyQSA.test(selector) ) {\n\t\t\told = true;\n\t\t\tnid = expando;\n\t\t\tnewContext = context;\n\t\t\tnewSelector = nodeType === 9 && selector;\n\n\t\t\t// qSA works strangely on Element-rooted queries\n\t\t\t// We can work around this by specifying an extra ID on the root\n\t\t\t// and working up from there (Thanks to Andrew Dupont for the technique)\n\t\t\t// IE 8 doesn't work on object elements\n\t\t\tif ( nodeType === 1 && context.nodeName.toLowerCase() !== \"object\" ) {\n\t\t\t\tgroups = tokenize( selector );\n\n\t\t\t\tif ( (old = context.getAttribute(\"id\")) ) {\n\t\t\t\t\tnid = old.replace( rescape, \"\\\\$&\" );\n\t\t\t\t} else {\n\t\t\t\t\tcontext.setAttribute( \"id\", nid );\n\t\t\t\t}\n\t\t\t\tnid = \"[id='\" + nid + \"'] \";\n\n\t\t\t\ti = groups.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tgroups[i] = nid + toSelector( groups[i] );\n\t\t\t\t}\n\t\t\t\tnewContext = rsibling.test( selector ) && context.parentNode || context;\n\t\t\t\tnewSelector = groups.join(\",\");\n\t\t\t}\n\n\t\t\tif ( newSelector ) {\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results, slice.call( newContext.querySelectorAll(\n\t\t\t\t\t\tnewSelector\n\t\t\t\t\t), 0 ) );\n\t\t\t\t\treturn results;\n\t\t\t\t} catch(qsaError) {\n\t\t\t\t} finally {\n\t\t\t\t\tif ( !old ) {\n\t\t\t\t\t\tcontext.removeAttribute(\"id\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Detect xml\n * @param {Element|Object} elem An element or a document\n */\nisXML = Sizzle.isXML = function( elem ) {\n\t// documentElement is verified for cases where it doesn't yet exist\n\t// (such as loading iframes in IE - #4833)\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar doc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// If no document and documentElement is available, return\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Set our document\n\tdocument = doc;\n\tdocElem = doc.documentElement;\n\n\t// Support tests\n\tdocumentIsXML = isXML( doc );\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.tagNameNoComments = assert(function( div ) {\n\t\tdiv.appendChild( doc.createComment(\"\") );\n\t\treturn !div.getElementsByTagName(\"*\").length;\n\t});\n\n\t// Check if attributes should be retrieved by attribute nodes\n\tsupport.attributes = assert(function( div ) {\n\t\tdiv.innerHTML = \"<select></select>\";\n\t\tvar type = typeof div.lastChild.getAttribute(\"multiple\");\n\t\t// IE8 returns a string for some attributes even when not present\n\t\treturn type !== \"boolean\" && type !== \"string\";\n\t});\n\n\t// Check if getElementsByClassName can be trusted\n\tsupport.getByClassName = assert(function( div ) {\n\t\t// Opera can't find a second classname (in 9.6)\n\t\tdiv.innerHTML = \"<div class='hidden e'></div><div class='hidden'></div>\";\n\t\tif ( !div.getElementsByClassName || !div.getElementsByClassName(\"e\").length ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Safari 3.2 caches class attributes and doesn't catch changes\n\t\tdiv.lastChild.className = \"e\";\n\t\treturn div.getElementsByClassName(\"e\").length === 2;\n\t});\n\n\t// Check if getElementById returns elements by name\n\t// Check if getElementsByName privileges form controls or returns elements by ID\n\tsupport.getByName = assert(function( div ) {\n\t\t// Inject content\n\t\tdiv.id = expando + 0;\n\t\tdiv.innerHTML = \"<a name='\" + expando + \"'></a><div name='\" + expando + \"'></div>\";\n\t\tdocElem.insertBefore( div, docElem.firstChild );\n\n\t\t// Test\n\t\tvar pass = doc.getElementsByName &&\n\t\t\t// buggy browsers will return fewer than the correct 2\n\t\t\tdoc.getElementsByName( expando ).length === 2 +\n\t\t\t// buggy browsers will return more than the correct 0\n\t\t\tdoc.getElementsByName( expando + 0 ).length;\n\t\tsupport.getIdNotName = !doc.getElementById( expando );\n\n\t\t// Cleanup\n\t\tdocElem.removeChild( div );\n\n\t\treturn pass;\n\t});\n\n\t// IE6/7 return modified attributes\n\tExpr.attrHandle = assert(function( div ) {\n\t\tdiv.innerHTML = \"<a href='#'></a>\";\n\t\treturn div.firstChild && typeof div.firstChild.getAttribute !== strundefined &&\n\t\t\tdiv.firstChild.getAttribute(\"href\") === \"#\";\n\t}) ?\n\t\t{} :\n\t\t{\n\t\t\t\"href\": function( elem ) {\n\t\t\t\treturn elem.getAttribute( \"href\", 2 );\n\t\t\t},\n\t\t\t\"type\": function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"type\");\n\t\t\t}\n\t\t};\n\n\t// ID find and filter\n\tif ( support.getIdNotName ) {\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== strundefined && !documentIsXML ) {\n\t\t\t\tvar m = context.getElementById( id );\n\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t// nodes that are no longer in the document #6963\n\t\t\t\treturn m && m.parentNode ? [m] : [];\n\t\t\t}\n\t\t};\n\t\tExpr.filter[\"ID\"] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t};\n\t\t};\n\t} else {\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== strundefined && !documentIsXML ) {\n\t\t\t\tvar m = context.getElementById( id );\n\n\t\t\t\treturn m ?\n\t\t\t\t\tm.id === id || typeof m.getAttributeNode !== strundefined && m.getAttributeNode(\"id\").value === id ?\n\t\t\t\t\t\t[m] :\n\t\t\t\t\t\tundefined :\n\t\t\t\t\t[];\n\t\t\t}\n\t\t};\n\t\tExpr.filter[\"ID\"] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== strundefined && elem.getAttributeNode(\"id\");\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[\"TAG\"] = support.tagNameNoComments ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== strundefined ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\t\t\t}\n\t\t} :\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\tfor ( ; (elem = results[i]); i++ ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Name\n\tExpr.find[\"NAME\"] = support.getByName && function( tag, context ) {\n\t\tif ( typeof context.getElementsByName !== strundefined ) {\n\t\t\treturn context.getElementsByName( name );\n\t\t}\n\t};\n\n\t// Class\n\tExpr.find[\"CLASS\"] = support.getByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== strundefined && !documentIsXML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21),\n\t// no need to also add to buggyMatches since matches checks buggyQSA\n\t// A support test would require too much code (would include document ready)\n\trbuggyQSA = [ \":focus\" ];\n\n\tif ( (support.qsa = isNative(doc.querySelectorAll)) ) {\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert(function( div ) {\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explictly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// http://bugs.jquery.com/ticket/12359\n\t\t\tdiv.innerHTML = \"<select><option selected=''></option></select>\";\n\n\t\t\t// IE8 - Some boolean attributes are not treated correctly\n\t\t\tif ( !div.querySelectorAll(\"[selected]\").length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:checked|disabled|ismap|multiple|readonly|selected|value)\" );\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !div.querySelectorAll(\":checked\").length ) {\n\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t}\n\t\t});\n\n\t\tassert(function( div ) {\n\n\t\t\t// Opera 10-12/IE8 - ^= $= *= and empty values\n\t\t\t// Should not select anything\n\t\t\tdiv.innerHTML = \"<input type='hidden' i=''/>\";\n\t\t\tif ( div.querySelectorAll(\"[i^='']\").length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:\\\"\\\"|'')\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !div.querySelectorAll(\":enabled\").length ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tdiv.querySelectorAll(\"*,:x\");\n\t\t\trbuggyQSA.push(\",.*:\");\n\t\t});\n\t}\n\n\tif ( (support.matchesSelector = isNative( (matches = docElem.matchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector) )) ) {\n\n\t\tassert(function( div ) {\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( div, \"div\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( div, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t});\n\t}\n\n\trbuggyQSA = new RegExp( rbuggyQSA.join(\"|\") );\n\trbuggyMatches = new RegExp( rbuggyMatches.join(\"|\") );\n\n\t// Element contains another\n\t// Purposefully does not implement inclusive descendent\n\t// As in, an element does not contain itself\n\tcontains = isNative(docElem.contains) || docElem.compareDocumentPosition ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t));\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( (b = b.parentNode) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t// Document order sorting\n\tsortOrder = docElem.compareDocumentPosition ?\n\tfunction( a, b ) {\n\t\tvar compare;\n\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tif ( (compare = b.compareDocumentPosition && a.compareDocumentPosition && a.compareDocumentPosition( b )) ) {\n\t\t\tif ( compare & 1 || a.parentNode && a.parentNode.nodeType === 11 ) {\n\t\t\t\tif ( a === doc || contains( preferredDoc, a ) ) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\tif ( b === doc || contains( preferredDoc, b ) ) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\treturn compare & 4 ? -1 : 1;\n\t\t}\n\n\t\treturn a.compareDocumentPosition ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// The nodes are identical, we can exit early\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\n\t\t// Fallback to using sourceIndex (in IE) if it's available on both nodes\n\t\t} else if ( a.sourceIndex && b.sourceIndex ) {\n\t\t\treturn ( ~b.sourceIndex || MAX_NEGATIVE ) - ( contains( preferredDoc, a ) && ~a.sourceIndex || MAX_NEGATIVE );\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\t} else if ( !aup || !bup ) {\n\t\t\treturn a === doc ? -1 :\n\t\t\t\tb === doc ? 1 :\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[i] === bp[i] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\tap[i] === preferredDoc ? -1 :\n\t\t\tbp[i] === preferredDoc ? 1 :\n\t\t\t0;\n\t};\n\n\t// Always assume the presence of duplicates if sort doesn't\n\t// pass them to our comparison function (as in Google Chrome).\n\thasDuplicate = false;\n\t[0, 0].sort( sortOrder );\n\tsupport.detectDuplicates = hasDuplicate;\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\t// Make sure that attribute selectors are quoted\n\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\n\n\t// rbuggyQSA always contains :focus, so no need for an existence check\n\tif ( support.matchesSelector && !documentIsXML && (!rbuggyMatches || !rbuggyMatches.test(expr)) && !rbuggyQSA.test(expr) ) {\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch(e) {}\n\t}\n\n\treturn Sizzle( expr, document, null, [elem] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\t// Set document vars if needed\n\tif ( ( context.ownerDocument || context ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\tvar val;\n\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tif ( !documentIsXML ) {\n\t\tname = name.toLowerCase();\n\t}\n\tif ( (val = Expr.attrHandle[ name ]) ) {\n\t\treturn val( elem );\n\t}\n\tif ( documentIsXML || support.attributes ) {\n\t\treturn elem.getAttribute( name );\n\t}\n\treturn ( (val = elem.getAttributeNode( name )) || elem.getAttribute( name ) ) && elem[ name ] === true ?\n\t\tname :\n\t\tval && val.specified ? val.value : null;\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n// Document sorting and removing duplicates\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\ti = 1,\n\t\tj = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\tfor ( ; (elem = results[i]); i++ ) {\n\t\t\tif ( elem === results[ i - 1 ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\treturn results;\n};\n\nfunction siblingCheck( a, b ) {\n\tvar cur = a && b && a.nextSibling;\n\n\tfor ( ; cur; cur = cur.nextSibling ) {\n\t\tif ( cur === b ) {\n\t\t\treturn -1;\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n// Returns a function to use in pseudos for input types\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n// Returns a function to use in pseudos for buttons\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t};\n}\n\n// Returns a function to use in pseudos for positionals\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction(function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction(function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\t\t// If no nodeType, this is expected to be an array\n\t\tfor ( ; (node = elem[i]); i++ ) {\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (see #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[3] = ( match[4] || match[5] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[3] ) {\n\t\t\t\t\tSizzle.error( match[0] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[3] ) {\n\t\t\t\tSizzle.error( match[0] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[5] && match[2];\n\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[4] ) {\n\t\t\t\tmatch[2] = match[4];\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeName ) {\n\t\t\tif ( nodeName === \"*\" ) {\n\t\t\t\treturn function() { return true; };\n\t\t\t}\n\n\t\t\tnodeName = nodeName.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test( elem.className || (typeof elem.getAttribute !== strundefined && elem.getAttribute(\"class\")) || \"\" );\n\t\t\t\t});\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.substr( result.length - check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.substr( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tvar cache, outerCache, node, diff, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\t\t\t\t\t\t\touterCache = parent[ expando ] || (parent[ expando ] = {});\n\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[0] === dirruns && cache[1];\n\t\t\t\t\t\t\tdiff = cache[0] === dirruns && cache[2];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t} else if ( useCache && (cache = (elem[ expando ] || (elem[ expando ] = {}))[ type ]) && cache[0] === dirruns ) {\n\t\t\t\t\t\t\tdiff = cache[1];\n\n\t\t\t\t\t\t// xml :nth-child(...) or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\tif ( ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) && ++diff ) {\n\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t(node[ expando ] || (node[ expando ] = {}))[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf.call( seed, matched[i] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction(function( selector ) {\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t}),\n\n\t\t\"has\": markFunction(function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t}),\n\n\t\t\"contains\": markFunction(function( text ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t}),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\t\t\t// lang value must be a valid identifider\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( (elemLang = documentIsXML ?\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\") :\n\t\t\t\t\t\telem.lang) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": function( elem ) {\n\t\t\treturn elem.disabled === false;\n\t\t},\n\n\t\t\"disabled\": function( elem ) {\n\t\t\treturn elem.disabled === true;\n\t\t},\n\n\t\t\"checked\": function( elem ) {\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is only affected by element nodes and content nodes(including text(3), cdata(4)),\n\t\t\t//   not comment, processing instructions, or others\n\t\t\t// Thanks to Diego Perini for the nodeName shortcut\n\t\t\t//   Greater than \"@\" means alpha characters (specifically not starting with \"#\" or \"?\")\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeName > \"@\" || elem.nodeType === 3 || elem.nodeType === 4 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\t// IE6 and 7 will map elem.type to 'text' for new HTML5 types (search, etc)\n\t\t\t// use getAttribute instead to test this case\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === elem.type );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo(function() {\n\t\t\treturn [ 0 ];\n\t\t}),\n\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t}),\n\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t}),\n\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t})\n\t}\n};\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\nfunction tokenize( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\n\t\t\tif ( match ) {\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( tokens = [] );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push( {\n\t\t\t\tvalue: matched,\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\n\t\t\t} );\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push( {\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t} );\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n}\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[i].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tcheckNonElements = base && combinator.dir === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar data, cache, outerCache,\n\t\t\t\tdirkey = dirruns + \" \" + doneName;\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from dir caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\n\t\t\t\t\t\tif ( (cache = outerCache[ dir ]) && cache[0] === dirkey ) {\n\t\t\t\t\t\t\tif ( (data = cache[1]) === true || data === cachedruns ) {\n\t\t\t\t\t\t\t\treturn data === true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcache = outerCache[ dir ] = [ dirkey ];\n\t\t\t\t\t\t\tcache[1] = matcher( elem, context, xml ) || cachedruns;\n\t\t\t\t\t\t\tif ( cache[1] === true ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[0];\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (elem = unmatched[i]) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction(function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( (elem = temp[i]) ) {\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\n\t\t\t\t\t\t(temp = postFinder ? indexOf.call( seed, elem ) : preMap[i]) > -1 ) {\n\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf.call( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\treturn ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t(checkContext = context).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector( tokens.slice( 0, i - 1 ) ).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\t// A counter to specify which element is currently being matched\n\tvar matcherCachedRuns = 0,\n\t\tbySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, expandContext ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tsetMatched = [],\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\toutermost = expandContext != null,\n\t\t\t\tcontextBackup = outermostContext,\n\t\t\t\t// We must always have either seed elements or context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", expandContext && context.parentNode || context ),\n\t\t\t\t// Nested matchers should use non-integer dirruns\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.E);\n\n\t\t\tif ( outermost ) {\n\t\t\t\toutermostContext = context !== document && context;\n\t\t\t\tcachedruns = matcherCachedRuns;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\tfor ( ; (elem = elems[i]) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tfor ( j = 0; (matcher = elementMatchers[j]); j++ ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t\tcachedruns = ++matcherCachedRuns;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// `i` starts as a string, so matchedCount would equal \"00\" if there are no elements\n\t\t\tmatchedCount += i;\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tfor ( j = 0; (matcher = setMatchers[j]); j++ ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, group /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !group ) {\n\t\t\tgroup = tokenize( selector );\n\t\t}\n\t\ti = group.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( group[i] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\t}\n\treturn cached;\n};\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[i], results );\n\t}\n\treturn results;\n}\n\nfunction select( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tmatch = tokenize( selector );\n\n\tif ( !seed ) {\n\t\t// Try to minimize operations if there is only one group\n\t\tif ( match.length === 1 ) {\n\n\t\t\t// Take a shortcut and set the context if the root selector is an ID\n\t\t\ttokens = match[0] = match[0].slice( 0 );\n\t\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n\t\t\t\t\tcontext.nodeType === 9 && !documentIsXML &&\n\t\t\t\t\tExpr.relative[ tokens[1].type ] ) {\n\n\t\t\t\tcontext = Expr.find[\"ID\"]( token.matches[0].replace( runescape, funescape ), context )[0];\n\t\t\t\tif ( !context ) {\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\n\t\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t\t}\n\n\t\t\t// Fetch a seed set for right-to-left matching\n\t\t\tfor ( i = matchExpr[\"needsContext\"].test( selector ) ? -1 : tokens.length - 1; i >= 0; i-- ) {\n\t\t\t\ttoken = tokens[i];\n\n\t\t\t\t// Abort if we hit a combinator\n\t\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif ( (find = Expr.find[ type ]) ) {\n\t\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\t\tif ( (seed = find(\n\t\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\n\t\t\t\t\t\trsibling.test( tokens[0].type ) && context.parentNode || context\n\t\t\t\t\t)) ) {\n\n\t\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\t\tpush.apply( results, slice.call( seed, 0 ) );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\tcompile( selector, match )(\n\t\tseed,\n\t\tcontext,\n\t\tdocumentIsXML,\n\t\tresults,\n\t\trsibling.test( selector )\n\t);\n\treturn results;\n}\n\n// Deprecated\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nExpr.filters = setFilters.prototype = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\n// Initialize with the default document\nsetDocument();\n\n// Override sizzle attribute retrieval\nSizzle.attr = jQuery.attr;\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\njQuery.expr[\":\"] = jQuery.expr.pseudos;\njQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\n\n\n})( window );\nvar runtil = /Until$/,\n\trparentsprev = /^(?:parents|prev(?:Until|All))/,\n\tisSimple = /^.[^:#\\[\\.,]*$/,\n\trneedsContext = jQuery.expr.match.needsContext,\n\t// methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend({\n\tfind: function( selector ) {\n\t\tvar i, ret, self;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\tself = this;\n\t\t\treturn this.pushStack( jQuery( selector ).filter(function() {\n\t\t\t\tfor ( i = 0; i < self.length; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}) );\n\t\t}\n\n\t\tret = [];\n\t\tfor ( i = 0; i < this.length; i++ ) {\n\t\t\tjQuery.find( selector, this[ i ], ret );\n\t\t}\n\n\t\t// Needed because $( selector, context ) becomes $( context ).find( selector )\n\t\tret = this.pushStack( jQuery.unique( ret ) );\n\t\tret.selector = ( this.selector ? this.selector + \" \" : \"\" ) + selector;\n\t\treturn ret;\n\t},\n\n\thas: function( target ) {\n\t\tvar i,\n\t\t\ttargets = jQuery( target, this ),\n\t\t\tlen = targets.length;\n\n\t\treturn this.filter(function() {\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[i] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow(this, selector, false) );\n\t},\n\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow(this, selector, true) );\n\t},\n\n\tis: function( selector ) {\n\t\treturn !!selector && (\n\t\t\ttypeof selector === \"string\" ?\n\t\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\t\trneedsContext.test( selector ) ?\n\t\t\t\t\tjQuery( selector, this.context ).index( this[0] ) >= 0 :\n\t\t\t\t\tjQuery.filter( selector, this ).length > 0 :\n\t\t\t\tthis.filter( selector ).length > 0 );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tret = [],\n\t\t\tpos = rneedsContext.test( selectors ) || typeof selectors !== \"string\" ?\n\t\t\t\tjQuery( selectors, context || this.context ) :\n\t\t\t\t0;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tcur = this[i];\n\n\t\t\twhile ( cur && cur.ownerDocument && cur !== context && cur.nodeType !== 11 ) {\n\t\t\t\tif ( pos ? pos.index(cur) > -1 : jQuery.find.matchesSelector(cur, selectors) ) {\n\t\t\t\t\tret.push( cur );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( ret.length > 1 ? jQuery.unique( ret ) : ret );\n\t},\n\n\t// Determine the position of an element within\n\t// the matched set of elements\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[0] && this[0].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn jQuery.inArray( this[0], jQuery( elem ) );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn jQuery.inArray(\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[0] : elem, this );\n\t},\n\n\tadd: function( selector, context ) {\n\t\tvar set = typeof selector === \"string\" ?\n\t\t\t\tjQuery( selector, context ) :\n\t\t\t\tjQuery.makeArray( selector && selector.nodeType ? [ selector ] : selector ),\n\t\t\tall = jQuery.merge( this.get(), set );\n\n\t\treturn this.pushStack( jQuery.unique(all) );\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter(selector)\n\t\t);\n\t}\n});\n\njQuery.fn.andSelf = jQuery.fn.addBack;\n\nfunction sibling( cur, dir ) {\n\tdo {\n\t\tcur = cur[ dir ];\n\t} while ( cur && cur.nodeType !== 1 );\n\n\treturn cur;\n}\n\njQuery.each({\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn jQuery.dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn jQuery.dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn jQuery.dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn jQuery.sibling( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\treturn jQuery.nodeName( elem, \"iframe\" ) ?\n\t\t\telem.contentDocument || elem.contentWindow.document :\n\t\t\tjQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar ret = jQuery.map( this, fn, until );\n\n\t\tif ( !runtil.test( name ) ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tret = jQuery.filter( selector, ret );\n\t\t}\n\n\t\tret = this.length > 1 && !guaranteedUnique[ name ] ? jQuery.unique( ret ) : ret;\n\n\t\tif ( this.length > 1 && rparentsprev.test( name ) ) {\n\t\t\tret = ret.reverse();\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n});\n\njQuery.extend({\n\tfilter: function( expr, elems, not ) {\n\t\tif ( not ) {\n\t\t\texpr = \":not(\" + expr + \")\";\n\t\t}\n\n\t\treturn elems.length === 1 ?\n\t\t\tjQuery.find.matchesSelector(elems[0], expr) ? [ elems[0] ] : [] :\n\t\t\tjQuery.find.matches(expr, elems);\n\t},\n\n\tdir: function( elem, dir, until ) {\n\t\tvar matched = [],\n\t\t\tcur = elem[ dir ];\n\n\t\twhile ( cur && cur.nodeType !== 9 && (until === undefined || cur.nodeType !== 1 || !jQuery( cur ).is( until )) ) {\n\t\t\tif ( cur.nodeType === 1 ) {\n\t\t\t\tmatched.push( cur );\n\t\t\t}\n\t\t\tcur = cur[dir];\n\t\t}\n\t\treturn matched;\n\t},\n\n\tsibling: function( n, elem ) {\n\t\tvar r = [];\n\n\t\tfor ( ; n; n = n.nextSibling ) {\n\t\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\t\tr.push( n );\n\t\t\t}\n\t\t}\n\n\t\treturn r;\n\t}\n});\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, keep ) {\n\n\t// Can't pass null or undefined to indexOf in Firefox 4\n\t// Set to 0 to skip string check\n\tqualifier = qualifier || 0;\n\n\tif ( jQuery.isFunction( qualifier ) ) {\n\t\treturn jQuery.grep(elements, function( elem, i ) {\n\t\t\tvar retVal = !!qualifier.call( elem, i, elem );\n\t\t\treturn retVal === keep;\n\t\t});\n\n\t} else if ( qualifier.nodeType ) {\n\t\treturn jQuery.grep(elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) === keep;\n\t\t});\n\n\t} else if ( typeof qualifier === \"string\" ) {\n\t\tvar filtered = jQuery.grep(elements, function( elem ) {\n\t\t\treturn elem.nodeType === 1;\n\t\t});\n\n\t\tif ( isSimple.test( qualifier ) ) {\n\t\t\treturn jQuery.filter(qualifier, filtered, !keep);\n\t\t} else {\n\t\t\tqualifier = jQuery.filter( qualifier, filtered );\n\t\t}\n\t}\n\n\treturn jQuery.grep(elements, function( elem ) {\n\t\treturn ( jQuery.inArray( elem, qualifier ) >= 0 ) === keep;\n\t});\n}\nfunction createSafeFragment( document ) {\n\tvar list = nodeNames.split( \"|\" ),\n\t\tsafeFrag = document.createDocumentFragment();\n\n\tif ( safeFrag.createElement ) {\n\t\twhile ( list.length ) {\n\t\t\tsafeFrag.createElement(\n\t\t\t\tlist.pop()\n\t\t\t);\n\t\t}\n\t}\n\treturn safeFrag;\n}\n\nvar nodeNames = \"abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|\" +\n\t\t\"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\",\n\trinlinejQuery = / jQuery\\d+=\"(?:null|\\d+)\"/g,\n\trnoshimcache = new RegExp(\"<(?:\" + nodeNames + \")[\\\\s/>]\", \"i\"),\n\trleadingWhitespace = /^\\s+/,\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,\n\trtagName = /<([\\w:]+)/,\n\trtbody = /<tbody/i,\n\trhtml = /<|&#?\\w+;/,\n\trnoInnerhtml = /<(?:script|style|link)/i,\n\tmanipulation_rcheckableType = /^(?:checkbox|radio)$/i,\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trscriptType = /^$|\\/(?:java|ecma)script/i,\n\trscriptTypeMasked = /^true\\/(.*)/,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,\n\n\t// We have to close these tags to support XHTML (#13200)\n\twrapMap = {\n\t\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\t\tlegend: [ 1, \"<fieldset>\", \"</fieldset>\" ],\n\t\tarea: [ 1, \"<map>\", \"</map>\" ],\n\t\tparam: [ 1, \"<object>\", \"</object>\" ],\n\t\tthead: [ 1, \"<table>\", \"</table>\" ],\n\t\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\t\tcol: [ 2, \"<table><tbody></tbody><colgroup>\", \"</colgroup></table>\" ],\n\t\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t\t// IE6-8 can't serialize link, script, style, or any html5 (NoScope) tags,\n\t\t// unless wrapped in a div with non-breaking characters in front of it.\n\t\t_default: jQuery.support.htmlSerialize ? [ 0, \"\", \"\" ] : [ 1, \"X<div>\", \"</div>\"  ]\n\t},\n\tsafeFragment = createSafeFragment( document ),\n\tfragmentDiv = safeFragment.appendChild( document.createElement(\"div\") );\n\nwrapMap.optgroup = wrapMap.option;\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\njQuery.fn.extend({\n\ttext: function( value ) {\n\t\treturn jQuery.access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().appendChild( ( this[0] && this[0].ownerDocument || document ).createTextNode( value ) );\n\t\t}, null, value, arguments.length );\n\t},\n\n\twrapAll: function( html ) {\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each(function(i) {\n\t\t\t\tjQuery(this).wrapAll( html.call(this, i) );\n\t\t\t});\n\t\t}\n\n\t\tif ( this[0] ) {\n\t\t\t// The elements to wrap the target around\n\t\t\tvar wrap = jQuery( html, this[0].ownerDocument ).eq(0).clone(true);\n\n\t\t\tif ( this[0].parentNode ) {\n\t\t\t\twrap.insertBefore( this[0] );\n\t\t\t}\n\n\t\t\twrap.map(function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstChild && elem.firstChild.nodeType === 1 ) {\n\t\t\t\t\telem = elem.firstChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t}).appendChild( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each(function(i) {\n\t\t\t\tjQuery(this).wrapInner( html.call(this, i) );\n\t\t\t});\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.appendChild( html );\n\t\t\t}\n\t\t});\n\t},\n\n\twrap: function( html ) {\n\t\tvar isFunction = jQuery.isFunction( html );\n\n\t\treturn this.each(function(i) {\n\t\t\tjQuery( this ).wrapAll( isFunction ? html.call(this, i) : html );\n\t\t});\n\t},\n\n\tunwrap: function() {\n\t\treturn this.parent().each(function() {\n\t\t\tif ( !jQuery.nodeName( this, \"body\" ) ) {\n\t\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t\t}\n\t\t}).end();\n\t},\n\n\tappend: function() {\n\t\treturn this.domManip(arguments, true, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tthis.appendChild( elem );\n\t\t\t}\n\t\t});\n\t},\n\n\tprepend: function() {\n\t\treturn this.domManip(arguments, true, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tthis.insertBefore( elem, this.firstChild );\n\t\t\t}\n\t\t});\n\t},\n\n\tbefore: function() {\n\t\treturn this.domManip( arguments, false, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t});\n\t},\n\n\tafter: function() {\n\t\treturn this.domManip( arguments, false, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t});\n\t},\n\n\t// keepData is for internal use only--do not document\n\tremove: function( selector, keepData ) {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; (elem = this[i]) != null; i++ ) {\n\t\t\tif ( !selector || jQuery.filter( selector, [ elem ] ).length > 0 ) {\n\t\t\t\tif ( !keepData && elem.nodeType === 1 ) {\n\t\t\t\t\tjQuery.cleanData( getAll( elem ) );\n\t\t\t\t}\n\n\t\t\t\tif ( elem.parentNode ) {\n\t\t\t\t\tif ( keepData && jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\t\t\t\tsetGlobalEval( getAll( elem, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t\telem.parentNode.removeChild( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; (elem = this[i]) != null; i++ ) {\n\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t}\n\n\t\t\t// Remove any remaining nodes\n\t\t\twhile ( elem.firstChild ) {\n\t\t\t\telem.removeChild( elem.firstChild );\n\t\t\t}\n\n\t\t\t// If this is a select, ensure that it displays empty (#12336)\n\t\t\t// Support: IE<9\n\t\t\tif ( elem.options && jQuery.nodeName( elem, \"select\" ) ) {\n\t\t\t\telem.options.length = 0;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function () {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t});\n\t},\n\n\thtml: function( value ) {\n\t\treturn jQuery.access( this, function( value ) {\n\t\t\tvar elem = this[0] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined ) {\n\t\t\t\treturn elem.nodeType === 1 ?\n\t\t\t\t\telem.innerHTML.replace( rinlinejQuery, \"\" ) :\n\t\t\t\t\tundefined;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t( jQuery.support.htmlSerialize || !rnoshimcache.test( value )  ) &&\n\t\t\t\t( jQuery.support.leadingWhitespace || !rleadingWhitespace.test( value ) ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [\"\", \"\"] )[1].toLowerCase() ] ) {\n\n\t\t\t\tvalue = value.replace( rxhtmlTag, \"<$1></$2>\" );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (; i < l; i++ ) {\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\telem = this[i] || {};\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch(e) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().appendChild( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function( value ) {\n\t\tvar isFunc = jQuery.isFunction( value );\n\n\t\t// Make sure that the elements are removed from the DOM before they are inserted\n\t\t// this can help fix replacing a parent with child elements\n\t\tif ( !isFunc && typeof value !== \"string\" ) {\n\t\t\tvalue = jQuery( value ).not( this ).detach();\n\t\t}\n\n\t\treturn this.domManip( [ value ], true, function( elem ) {\n\t\t\tvar next = this.nextSibling,\n\t\t\t\tparent = this.parentNode;\n\n\t\t\tif ( parent && this.nodeType === 1 || this.nodeType === 11 ) {\n\n\t\t\t\tjQuery( this ).remove();\n\n\t\t\t\tif ( next ) {\n\t\t\t\t\tnext.parentNode.insertBefore( elem, next );\n\t\t\t\t} else {\n\t\t\t\t\tparent.appendChild( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\tdetach: function( selector ) {\n\t\treturn this.remove( selector, true );\n\t},\n\n\tdomManip: function( args, table, callback ) {\n\n\t\t// Flatten any nested arrays\n\t\targs = core_concat.apply( [], args );\n\n\t\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tset = this,\n\t\t\tiNoClone = l - 1,\n\t\t\tvalue = args[0],\n\t\t\tisFunction = jQuery.isFunction( value );\n\n\t\t// We can't cloneNode fragments that contain checked, in WebKit\n\t\tif ( isFunction || !( l <= 1 || typeof value !== \"string\" || jQuery.support.checkClone || !rchecked.test( value ) ) ) {\n\t\t\treturn this.each(function( index ) {\n\t\t\t\tvar self = set.eq( index );\n\t\t\t\tif ( isFunction ) {\n\t\t\t\t\targs[0] = value.call( this, index, table ? self.html() : undefined );\n\t\t\t\t}\n\t\t\t\tself.domManip( args, table, callback );\n\t\t\t});\n\t\t}\n\n\t\tif ( l ) {\n\t\t\tfragment = jQuery.buildFragment( args, this[ 0 ].ownerDocument, false, this );\n\t\t\tfirst = fragment.firstChild;\n\n\t\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\t\tfragment = first;\n\t\t\t}\n\n\t\t\tif ( first ) {\n\t\t\t\ttable = table && jQuery.nodeName( first, \"tr\" );\n\t\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\t\thasScripts = scripts.length;\n\n\t\t\t\t// Use the original fragment for the last item instead of the first because it can end up\n\t\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\tnode = fragment;\n\n\t\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\t\tif ( hasScripts ) {\n\t\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback.call(\n\t\t\t\t\t\ttable && jQuery.nodeName( this[i], \"table\" ) ?\n\t\t\t\t\t\t\tfindOrAppend( this[i], \"tbody\" ) :\n\t\t\t\t\t\t\tthis[i],\n\t\t\t\t\t\tnode,\n\t\t\t\t\t\ti\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif ( hasScripts ) {\n\t\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t\t// Reenable scripts\n\t\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t\t!jQuery._data( node, \"globalEval\" ) && jQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\t\tif ( node.src ) {\n\t\t\t\t\t\t\t\t// Hope ajax is available...\n\t\t\t\t\t\t\t\tjQuery.ajax({\n\t\t\t\t\t\t\t\t\turl: node.src,\n\t\t\t\t\t\t\t\t\ttype: \"GET\",\n\t\t\t\t\t\t\t\t\tdataType: \"script\",\n\t\t\t\t\t\t\t\t\tasync: false,\n\t\t\t\t\t\t\t\t\tglobal: false,\n\t\t\t\t\t\t\t\t\t\"throws\": true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.globalEval( ( node.text || node.textContent || node.innerHTML || \"\" ).replace( rcleanScript, \"\" ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Fix #11809: Avoid leaking memory\n\t\t\t\tfragment = first = null;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n});\n\nfunction findOrAppend( elem, tag ) {\n\treturn elem.getElementsByTagName( tag )[0] || elem.appendChild( elem.ownerDocument.createElement( tag ) );\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\tvar attr = elem.getAttributeNode(\"type\");\n\telem.type = ( attr && attr.specified ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tvar match = rscriptTypeMasked.exec( elem.type );\n\tif ( match ) {\n\t\telem.type = match[1];\n\t} else {\n\t\telem.removeAttribute(\"type\");\n\t}\n\treturn elem;\n}\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar elem,\n\t\ti = 0;\n\tfor ( ; (elem = elems[i]) != null; i++ ) {\n\t\tjQuery._data( elem, \"globalEval\", !refElements || jQuery._data( refElements[i], \"globalEval\" ) );\n\t}\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\n\tif ( dest.nodeType !== 1 || !jQuery.hasData( src ) ) {\n\t\treturn;\n\t}\n\n\tvar type, i, l,\n\t\toldData = jQuery._data( src ),\n\t\tcurData = jQuery._data( dest, oldData ),\n\t\tevents = oldData.events;\n\n\tif ( events ) {\n\t\tdelete curData.handle;\n\t\tcurData.events = {};\n\n\t\tfor ( type in events ) {\n\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t}\n\t\t}\n\t}\n\n\t// make the cloned public data object a copy from the original\n\tif ( curData.data ) {\n\t\tcurData.data = jQuery.extend( {}, curData.data );\n\t}\n}\n\nfunction fixCloneNodeIssues( src, dest ) {\n\tvar nodeName, data, e;\n\n\t// We do not need to do anything for non-Elements\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\tnodeName = dest.nodeName.toLowerCase();\n\n\t// IE6-8 copies events bound via attachEvent when using cloneNode.\n\tif ( !jQuery.support.noCloneEvent && dest[ jQuery.expando ] ) {\n\t\tdata = jQuery._data( dest );\n\n\t\tfor ( e in data.events ) {\n\t\t\tjQuery.removeEvent( dest, e, data.handle );\n\t\t}\n\n\t\t// Event data gets referenced instead of copied if the expando gets copied too\n\t\tdest.removeAttribute( jQuery.expando );\n\t}\n\n\t// IE blanks contents when cloning scripts, and tries to evaluate newly-set text\n\tif ( nodeName === \"script\" && dest.text !== src.text ) {\n\t\tdisableScript( dest ).text = src.text;\n\t\trestoreScript( dest );\n\n\t// IE6-10 improperly clones children of object elements using classid.\n\t// IE10 throws NoModificationAllowedError if parent is null, #12132.\n\t} else if ( nodeName === \"object\" ) {\n\t\tif ( dest.parentNode ) {\n\t\t\tdest.outerHTML = src.outerHTML;\n\t\t}\n\n\t\t// This path appears unavoidable for IE9. When cloning an object\n\t\t// element in IE9, the outerHTML strategy above is not sufficient.\n\t\t// If the src has innerHTML and the destination does not,\n\t\t// copy the src.innerHTML into the dest.innerHTML. #10324\n\t\tif ( jQuery.support.html5Clone && ( src.innerHTML && !jQuery.trim(dest.innerHTML) ) ) {\n\t\t\tdest.innerHTML = src.innerHTML;\n\t\t}\n\n\t} else if ( nodeName === \"input\" && manipulation_rcheckableType.test( src.type ) ) {\n\t\t// IE6-8 fails to persist the checked state of a cloned checkbox\n\t\t// or radio button. Worse, IE6-7 fail to give the cloned element\n\t\t// a checked appearance if the defaultChecked value isn't also set\n\n\t\tdest.defaultChecked = dest.checked = src.checked;\n\n\t\t// IE6-7 get confused and end up setting the value of a cloned\n\t\t// checkbox/radio button to an empty string instead of \"on\"\n\t\tif ( dest.value !== src.value ) {\n\t\t\tdest.value = src.value;\n\t\t}\n\n\t// IE6-8 fails to return the selected option to the default selected\n\t// state when cloning options\n\t} else if ( nodeName === \"option\" ) {\n\t\tdest.defaultSelected = dest.selected = src.defaultSelected;\n\n\t// IE6-8 fails to set the defaultValue to the correct value when\n\t// cloning other types of input fields\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\njQuery.each({\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\ti = 0,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone(true);\n\t\t\tjQuery( insert[i] )[ original ]( elems );\n\n\t\t\t// Modern browsers can apply jQuery collections as arrays, but oldIE needs a .get()\n\t\t\tcore_push.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n});\n\nfunction getAll( context, tag ) {\n\tvar elems, elem,\n\t\ti = 0,\n\t\tfound = typeof context.getElementsByTagName !== \"undefined\" ? context.getElementsByTagName( tag || \"*\" ) :\n\t\t\ttypeof context.querySelectorAll !== \"undefined\" ? context.querySelectorAll( tag || \"*\" ) :\n\t\t\tundefined;\n\n\tif ( !found ) {\n\t\tfor ( found = [], elems = context.childNodes || context; (elem = elems[i]) != null; i++ ) {\n\t\t\tif ( !tag || jQuery.nodeName( elem, tag ) ) {\n\t\t\t\tfound.push( elem );\n\t\t\t} else {\n\t\t\t\tjQuery.merge( found, getAll( elem, tag ) );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn tag === undefined || tag && jQuery.nodeName( context, tag ) ?\n\t\tjQuery.merge( [ context ], found ) :\n\t\tfound;\n}\n\n// Used in buildFragment, fixes the defaultChecked property\nfunction fixDefaultChecked( elem ) {\n\tif ( manipulation_rcheckableType.test( elem.type ) ) {\n\t\telem.defaultChecked = elem.checked;\n\t}\n}\n\njQuery.extend({\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar destElements, srcElements, node, i, clone,\n\t\t\tinPage = jQuery.contains( elem.ownerDocument, elem );\n\n\t\tif ( jQuery.support.html5Clone || jQuery.isXMLDoc(elem) || !rnoshimcache.test( \"<\" + elem.nodeName + \">\" ) ) {\n\t\t\tclone = elem.cloneNode( true );\n\n\t\t// IE<=8 does not properly clone detached, unknown element nodes\n\t\t} else {\n\t\t\tfragmentDiv.innerHTML = elem.outerHTML;\n\t\t\tfragmentDiv.removeChild( clone = fragmentDiv.firstChild );\n\t\t}\n\n\t\tif ( (!jQuery.support.noCloneEvent || !jQuery.support.noCloneChecked) &&\n\t\t\t\t(elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\t// Fix all IE cloning issues\n\t\t\tfor ( i = 0; (node = srcElements[i]) != null; ++i ) {\n\t\t\t\t// Ensure that the destination node is not null; Fixes #9587\n\t\t\t\tif ( destElements[i] ) {\n\t\t\t\t\tfixCloneNodeIssues( node, destElements[i] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0; (node = srcElements[i]) != null; i++ ) {\n\t\t\t\t\tcloneCopyEvent( node, destElements[i] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\tdestElements = srcElements = node = null;\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tbuildFragment: function( elems, context, scripts, selection ) {\n\t\tvar contains, elem, tag, tmp, wrap, tbody, j,\n\t\t\tl = elems.length,\n\n\t\t\t// Ensure a safe fragment\n\t\t\tsafe = createSafeFragment( context ),\n\n\t\t\tnodes = [],\n\t\t\ti = 0;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\telem = elems[ i ];\n\n\t\t\tif ( elem || elem === 0 ) {\n\n\t\t\t\t// Add nodes directly\n\t\t\t\tif ( jQuery.type( elem ) === \"object\" ) {\n\t\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t\t// Convert non-html into a text node\n\t\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t\t// Convert html into DOM nodes\n\t\t\t\t} else {\n\t\t\t\t\ttmp = tmp || safe.appendChild( context.createElement(\"div\") );\n\n\t\t\t\t\t// Deserialize a standard representation\n\t\t\t\t\ttag = ( rtagName.exec( elem ) || [\"\", \"\"] )[1].toLowerCase();\n\t\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\n\t\t\t\t\ttmp.innerHTML = wrap[1] + elem.replace( rxhtmlTag, \"<$1></$2>\" ) + wrap[2];\n\n\t\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\t\tj = wrap[0];\n\t\t\t\t\twhile ( j-- ) {\n\t\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Manually add leading whitespace removed by IE\n\t\t\t\t\tif ( !jQuery.support.leadingWhitespace && rleadingWhitespace.test( elem ) ) {\n\t\t\t\t\t\tnodes.push( context.createTextNode( rleadingWhitespace.exec( elem )[0] ) );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remove IE's autoinserted <tbody> from table fragments\n\t\t\t\t\tif ( !jQuery.support.tbody ) {\n\n\t\t\t\t\t\t// String was a <table>, *may* have spurious <tbody>\n\t\t\t\t\t\telem = tag === \"table\" && !rtbody.test( elem ) ?\n\t\t\t\t\t\t\ttmp.firstChild :\n\n\t\t\t\t\t\t\t// String was a bare <thead> or <tfoot>\n\t\t\t\t\t\t\twrap[1] === \"<table>\" && !rtbody.test( elem ) ?\n\t\t\t\t\t\t\t\ttmp :\n\t\t\t\t\t\t\t\t0;\n\n\t\t\t\t\t\tj = elem && elem.childNodes.length;\n\t\t\t\t\t\twhile ( j-- ) {\n\t\t\t\t\t\t\tif ( jQuery.nodeName( (tbody = elem.childNodes[j]), \"tbody\" ) && !tbody.childNodes.length ) {\n\t\t\t\t\t\t\t\telem.removeChild( tbody );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t\t// Fix #12392 for WebKit and IE > 9\n\t\t\t\t\ttmp.textContent = \"\";\n\n\t\t\t\t\t// Fix #12392 for oldIE\n\t\t\t\t\twhile ( tmp.firstChild ) {\n\t\t\t\t\t\ttmp.removeChild( tmp.firstChild );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remember the top-level container for proper cleanup\n\t\t\t\t\ttmp = safe.lastChild;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Fix #11356: Clear elements from fragment\n\t\tif ( tmp ) {\n\t\t\tsafe.removeChild( tmp );\n\t\t}\n\n\t\t// Reset defaultChecked for any radios and checkboxes\n\t\t// about to be appended to the DOM in IE 6/7 (#8060)\n\t\tif ( !jQuery.support.appendChecked ) {\n\t\t\tjQuery.grep( getAll( nodes, \"input\" ), fixDefaultChecked );\n\t\t}\n\n\t\ti = 0;\n\t\twhile ( (elem = nodes[ i++ ]) ) {\n\n\t\t\t// #4087 - If origin and destination elements are the same, and this is\n\t\t\t// that element, do not do anything\n\t\t\tif ( selection && jQuery.inArray( elem, selection ) !== -1 ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t\t// Append to fragment\n\t\t\ttmp = getAll( safe.appendChild( elem ), \"script\" );\n\n\t\t\t// Preserve script evaluation history\n\t\t\tif ( contains ) {\n\t\t\t\tsetGlobalEval( tmp );\n\t\t\t}\n\n\t\t\t// Capture executables\n\t\t\tif ( scripts ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (elem = tmp[ j++ ]) ) {\n\t\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\t\tscripts.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttmp = null;\n\n\t\treturn safe;\n\t},\n\n\tcleanData: function( elems, /* internal */ acceptData ) {\n\t\tvar data, id, elem, type,\n\t\t\ti = 0,\n\t\t\tinternalKey = jQuery.expando,\n\t\t\tcache = jQuery.cache,\n\t\t\tdeleteExpando = jQuery.support.deleteExpando,\n\t\t\tspecial = jQuery.event.special;\n\n\t\tfor ( ; (elem = elems[i]) != null; i++ ) {\n\n\t\t\tif ( acceptData || jQuery.acceptData( elem ) ) {\n\n\t\t\t\tid = elem[ internalKey ];\n\t\t\t\tdata = id && cache[ id ];\n\n\t\t\t\tif ( data ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remove cache only if it was not already removed by jQuery.event.remove\n\t\t\t\t\tif ( cache[ id ] ) {\n\n\t\t\t\t\t\tdelete cache[ id ];\n\n\t\t\t\t\t\t// IE does not allow us to delete expando properties from nodes,\n\t\t\t\t\t\t// nor does it have a removeAttribute function on Document nodes;\n\t\t\t\t\t\t// we must handle all of these cases\n\t\t\t\t\t\tif ( deleteExpando ) {\n\t\t\t\t\t\t\tdelete elem[ internalKey ];\n\n\t\t\t\t\t\t} else if ( typeof elem.removeAttribute !== \"undefined\" ) {\n\t\t\t\t\t\t\telem.removeAttribute( internalKey );\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telem[ internalKey ] = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcore_deletedIds.push( id );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\nvar curCSS, getStyles, iframe,\n\tralpha = /alpha\\([^)]*\\)/i,\n\tropacity = /opacity\\s*=\\s*([^)]*)/,\n\trposition = /^(top|right|bottom|left)$/,\n\t// swappable if display is none or starts with table except \"table\", \"table-cell\", or \"table-caption\"\n\t// see here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trmargin = /^margin/,\n\trnumsplit = new RegExp( \"^(\" + core_pnum + \")(.*)$\", \"i\" ),\n\trnumnonpx = new RegExp( \"^(\" + core_pnum + \")(?!px)[a-z%]+$\", \"i\" ),\n\trrelNum = new RegExp( \"^([+-])=(\" + core_pnum + \")\", \"i\" ),\n\telemdisplay = { BODY: \"block\" },\n\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: 0,\n\t\tfontWeight: 400\n\t},\n\n\tcssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ],\n\tcssPrefixes = [ \"Webkit\", \"O\", \"Moz\", \"ms\" ];\n\n// return a css property mapped to a potentially vendor prefixed property\nfunction vendorPropName( style, name ) {\n\n\t// shortcut for names that are not vendor prefixed\n\tif ( name in style ) {\n\t\treturn name;\n\t}\n\n\t// check for vendor prefixed names\n\tvar capName = name.charAt(0).toUpperCase() + name.slice(1),\n\t\torigName = name,\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in style ) {\n\t\t\treturn name;\n\t\t}\n\t}\n\n\treturn origName;\n}\n\nfunction isHidden( elem, el ) {\n\t// isHidden might be called from jQuery#filter function;\n\t// in that case, element will be second argument\n\telem = el || elem;\n\treturn jQuery.css( elem, \"display\" ) === \"none\" || !jQuery.contains( elem.ownerDocument, elem );\n}\n\nfunction showHide( elements, show ) {\n\tvar elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\t\tvalues[ index ] = jQuery._data( elem, \"olddisplay\" );\n\t\tif ( show ) {\n\t\t\t// Reset the inline display of this element to learn if it is\n\t\t\t// being hidden by cascaded rules or not\n\t\t\tif ( !values[ index ] && elem.style.display === \"none\" ) {\n\t\t\t\telem.style.display = \"\";\n\t\t\t}\n\n\t\t\t// Set elements which have been overridden with display: none\n\t\t\t// in a stylesheet to whatever the default browser style is\n\t\t\t// for such an element\n\t\t\tif ( elem.style.display === \"\" && isHidden( elem ) ) {\n\t\t\t\tvalues[ index ] = jQuery._data( elem, \"olddisplay\", css_defaultDisplay(elem.nodeName) );\n\t\t\t}\n\t\t} else if ( !values[ index ] && !isHidden( elem ) ) {\n\t\t\tjQuery._data( elem, \"olddisplay\", jQuery.css( elem, \"display\" ) );\n\t\t}\n\t}\n\n\t// Set the display of most of the elements in a second loop\n\t// to avoid the constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\t\tif ( !show || elem.style.display === \"none\" || elem.style.display === \"\" ) {\n\t\t\telem.style.display = show ? values[ index ] || \"\" : \"none\";\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend({\n\tcss: function( name, value ) {\n\t\treturn jQuery.access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( jQuery.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t},\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tvar bool = typeof state === \"boolean\";\n\n\t\treturn this.each(function() {\n\t\t\tif ( bool ? state : isHidden( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t});\n\t}\n});\n\njQuery.extend({\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Exclude the following css properties to add px\n\tcssNumber: {\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"fontWeight\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {\n\t\t// normalize float css property\n\t\t\"float\": jQuery.support.cssFloat ? \"cssFloat\" : \"styleFloat\"\n\t},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = jQuery.camelCase( name ),\n\t\t\tstyle = elem.style;\n\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( style, origName ) );\n\n\t\t// gets hook for the prefixed version\n\t\t// followed by the unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// convert relative number strings (+= or -=) to relative numbers. #7345\n\t\t\tif ( type === \"string\" && (ret = rrelNum.exec( value )) ) {\n\t\t\t\tvalue = ( ret[1] + 1 ) * ret[2] + parseFloat( jQuery.css( elem, name ) );\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that NaN and null values aren't set. See: #7116\n\t\t\tif ( value == null || type === \"number\" && isNaN( value ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add 'px' to the (except for certain CSS properties)\n\t\t\tif ( type === \"number\" && !jQuery.cssNumber[ origName ] ) {\n\t\t\t\tvalue += \"px\";\n\t\t\t}\n\n\t\t\t// Fixes #8908, it can be done more correctly by specifing setters in cssHooks,\n\t\t\t// but it would mean to define eight (for every problematic property) identical functions\n\t\t\tif ( !jQuery.support.clearCloneStyle && value === \"\" && name.indexOf(\"background\") === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !(\"set\" in hooks) || (value = hooks.set( elem, value, extra )) !== undefined ) {\n\n\t\t\t\t// Wrapped to prevent IE from throwing errors when 'invalid' values are provided\n\t\t\t\t// Fixes bug #5509\n\t\t\t\ttry {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t} catch(e) {}\n\t\t\t}\n\n\t\t} else {\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = jQuery.camelCase( name );\n\n\t\t// Make sure that we're working with the right name\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( elem.style, origName ) );\n\n\t\t// gets hook for the prefixed version\n\t\t// followed by the unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t//convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Return, converting to number if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || jQuery.isNumeric( num ) ? num || 0 : val;\n\t\t}\n\t\treturn val;\n\t},\n\n\t// A method for quickly swapping in/out CSS properties to get correct calculations\n\tswap: function( elem, options, callback, args ) {\n\t\tvar ret, name,\n\t\t\told = {};\n\n\t\t// Remember the old values, and insert the new ones\n\t\tfor ( name in options ) {\n\t\t\told[ name ] = elem.style[ name ];\n\t\t\telem.style[ name ] = options[ name ];\n\t\t}\n\n\t\tret = callback.apply( elem, args || [] );\n\n\t\t// Revert the old values\n\t\tfor ( name in options ) {\n\t\t\telem.style[ name ] = old[ name ];\n\t\t}\n\n\t\treturn ret;\n\t}\n});\n\n// NOTE: we've included the \"window\" in window.getComputedStyle\n// because jsdom on node.js will break without it.\nif ( window.getComputedStyle ) {\n\tgetStyles = function( elem ) {\n\t\treturn window.getComputedStyle( elem, null );\n\t};\n\n\tcurCSS = function( elem, name, _computed ) {\n\t\tvar width, minWidth, maxWidth,\n\t\t\tcomputed = _computed || getStyles( elem ),\n\n\t\t\t// getPropertyValue is only needed for .css('filter') in IE9, see #12537\n\t\t\tret = computed ? computed.getPropertyValue( name ) || computed[ name ] : undefined,\n\t\t\tstyle = elem.style;\n\n\t\tif ( computed ) {\n\n\t\t\tif ( ret === \"\" && !jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\t\tret = jQuery.style( elem, name );\n\t\t\t}\n\n\t\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t\t// Chrome < 17 and Safari 5.0 uses \"computed value\" instead of \"used value\" for margin-right\n\t\t\t// Safari 5.1.7 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels\n\t\t\t// this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values\n\t\t\tif ( rnumnonpx.test( ret ) && rmargin.test( name ) ) {\n\n\t\t\t\t// Remember the original values\n\t\t\t\twidth = style.width;\n\t\t\t\tminWidth = style.minWidth;\n\t\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t\t// Put in the new values to get a computed value out\n\t\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\t\tret = computed.width;\n\n\t\t\t\t// Revert the changed values\n\t\t\t\tstyle.width = width;\n\t\t\t\tstyle.minWidth = minWidth;\n\t\t\t\tstyle.maxWidth = maxWidth;\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t};\n} else if ( document.documentElement.currentStyle ) {\n\tgetStyles = function( elem ) {\n\t\treturn elem.currentStyle;\n\t};\n\n\tcurCSS = function( elem, name, _computed ) {\n\t\tvar left, rs, rsLeft,\n\t\t\tcomputed = _computed || getStyles( elem ),\n\t\t\tret = computed ? computed[ name ] : undefined,\n\t\t\tstyle = elem.style;\n\n\t\t// Avoid setting ret to empty string here\n\t\t// so we don't default to auto\n\t\tif ( ret == null && style && style[ name ] ) {\n\t\t\tret = style[ name ];\n\t\t}\n\n\t\t// From the awesome hack by Dean Edwards\n\t\t// http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n\n\t\t// If we're not dealing with a regular pixel number\n\t\t// but a number that has a weird ending, we need to convert it to pixels\n\t\t// but not position css attributes, as those are proportional to the parent element instead\n\t\t// and we can't measure the parent instead because it might trigger a \"stacking dolls\" problem\n\t\tif ( rnumnonpx.test( ret ) && !rposition.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\tleft = style.left;\n\t\t\trs = elem.runtimeStyle;\n\t\t\trsLeft = rs && rs.left;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tif ( rsLeft ) {\n\t\t\t\trs.left = elem.currentStyle.left;\n\t\t\t}\n\t\t\tstyle.left = name === \"fontSize\" ? \"1em\" : ret;\n\t\t\tret = style.pixelLeft + \"px\";\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.left = left;\n\t\t\tif ( rsLeft ) {\n\t\t\t\trs.left = rsLeft;\n\t\t\t}\n\t\t}\n\n\t\treturn ret === \"\" ? \"auto\" : ret;\n\t};\n}\n\nfunction setPositiveNumber( elem, value, subtract ) {\n\tvar matches = rnumsplit.exec( value );\n\treturn matches ?\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {\n\tvar i = extra === ( isBorderBox ? \"border\" : \"content\" ) ?\n\t\t// If we already have the right measurement, avoid augmentation\n\t\t4 :\n\t\t// Otherwise initialize for horizontal or vertical properties\n\t\tname === \"width\" ? 1 : 0,\n\n\t\tval = 0;\n\n\tfor ( ; i < 4; i += 2 ) {\n\t\t// both box models exclude margin, so add it if we want it\n\t\tif ( extra === \"margin\" ) {\n\t\t\tval += jQuery.css( elem, extra + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\tif ( isBorderBox ) {\n\t\t\t// border-box includes padding, so remove it if we want content\n\t\t\tif ( extra === \"content\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// at this point, extra isn't border nor margin, so remove border\n\t\t\tif ( extra !== \"margin\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t} else {\n\t\t\t// at this point, extra isn't content, so add padding\n\t\t\tval += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// at this point, extra isn't content nor padding, so add border\n\t\t\tif ( extra !== \"padding\" ) {\n\t\t\t\tval += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn val;\n}\n\nfunction getWidthOrHeight( elem, name, extra ) {\n\n\t// Start with offset property, which is equivalent to the border-box value\n\tvar valueIsBorderBox = true,\n\t\tval = name === \"width\" ? elem.offsetWidth : elem.offsetHeight,\n\t\tstyles = getStyles( elem ),\n\t\tisBorderBox = jQuery.support.boxSizing && jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t// some non-html elements return undefined for offsetWidth, so check for null/undefined\n\t// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285\n\t// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668\n\tif ( val <= 0 || val == null ) {\n\t\t// Fall back to computed then uncomputed css if necessary\n\t\tval = curCSS( elem, name, styles );\n\t\tif ( val < 0 || val == null ) {\n\t\t\tval = elem.style[ name ];\n\t\t}\n\n\t\t// Computed unit is not pixels. Stop here and return.\n\t\tif ( rnumnonpx.test(val) ) {\n\t\t\treturn val;\n\t\t}\n\n\t\t// we need the check for style in case a browser which returns unreliable values\n\t\t// for getComputedStyle silently falls back to the reliable elem.style\n\t\tvalueIsBorderBox = isBorderBox && ( jQuery.support.boxSizingReliable || val === elem.style[ name ] );\n\n\t\t// Normalize \"\", auto, and prepare for extra\n\t\tval = parseFloat( val ) || 0;\n\t}\n\n\t// use the active box-sizing model to add/subtract irrelevant styles\n\treturn ( val +\n\t\taugmentWidthOrHeight(\n\t\t\telem,\n\t\t\tname,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles\n\t\t)\n\t) + \"px\";\n}\n\n// Try to determine the default display value of an element\nfunction css_defaultDisplay( nodeName ) {\n\tvar doc = document,\n\t\tdisplay = elemdisplay[ nodeName ];\n\n\tif ( !display ) {\n\t\tdisplay = actualDisplay( nodeName, doc );\n\n\t\t// If the simple way fails, read from inside an iframe\n\t\tif ( display === \"none\" || !display ) {\n\t\t\t// Use the already-created iframe if possible\n\t\t\tiframe = ( iframe ||\n\t\t\t\tjQuery(\"<iframe frameborder='0' width='0' height='0'/>\")\n\t\t\t\t.css( \"cssText\", \"display:block !important\" )\n\t\t\t).appendTo( doc.documentElement );\n\n\t\t\t// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse\n\t\t\tdoc = ( iframe[0].contentWindow || iframe[0].contentDocument ).document;\n\t\t\tdoc.write(\"<!doctype html><html><body>\");\n\t\t\tdoc.close();\n\n\t\t\tdisplay = actualDisplay( nodeName, doc );\n\t\t\tiframe.detach();\n\t\t}\n\n\t\t// Store the correct default display\n\t\telemdisplay[ nodeName ] = display;\n\t}\n\n\treturn display;\n}\n\n// Called ONLY from within css_defaultDisplay\nfunction actualDisplay( name, doc ) {\n\tvar elem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),\n\t\tdisplay = jQuery.css( elem[0], \"display\" );\n\telem.remove();\n\treturn display;\n}\n\njQuery.each([ \"height\", \"width\" ], function( i, name ) {\n\tjQuery.cssHooks[ name ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\t\t\t\t// certain elements can have dimension info if we invisibly show them\n\t\t\t\t// however, it must have a current display style that would benefit from this\n\t\t\t\treturn elem.offsetWidth === 0 && rdisplayswap.test( jQuery.css( elem, \"display\" ) ) ?\n\t\t\t\t\tjQuery.swap( elem, cssShow, function() {\n\t\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\n\t\t\t\t\t}) :\n\t\t\t\t\tgetWidthOrHeight( elem, name, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar styles = extra && getStyles( elem );\n\t\t\treturn setPositiveNumber( elem, value, extra ?\n\t\t\t\taugmentWidthOrHeight(\n\t\t\t\t\telem,\n\t\t\t\t\tname,\n\t\t\t\t\textra,\n\t\t\t\t\tjQuery.support.boxSizing && jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\t\tstyles\n\t\t\t\t) : 0\n\t\t\t);\n\t\t}\n\t};\n});\n\nif ( !jQuery.support.opacity ) {\n\tjQuery.cssHooks.opacity = {\n\t\tget: function( elem, computed ) {\n\t\t\t// IE uses filters for opacity\n\t\t\treturn ropacity.test( (computed && elem.currentStyle ? elem.currentStyle.filter : elem.style.filter) || \"\" ) ?\n\t\t\t\t( 0.01 * parseFloat( RegExp.$1 ) ) + \"\" :\n\t\t\t\tcomputed ? \"1\" : \"\";\n\t\t},\n\n\t\tset: function( elem, value ) {\n\t\t\tvar style = elem.style,\n\t\t\t\tcurrentStyle = elem.currentStyle,\n\t\t\t\topacity = jQuery.isNumeric( value ) ? \"alpha(opacity=\" + value * 100 + \")\" : \"\",\n\t\t\t\tfilter = currentStyle && currentStyle.filter || style.filter || \"\";\n\n\t\t\t// IE has trouble with opacity if it does not have layout\n\t\t\t// Force it by setting the zoom level\n\t\t\tstyle.zoom = 1;\n\n\t\t\t// if setting opacity to 1, and no other filters exist - attempt to remove filter attribute #6652\n\t\t\t// if value === \"\", then remove inline opacity #12685\n\t\t\tif ( ( value >= 1 || value === \"\" ) &&\n\t\t\t\t\tjQuery.trim( filter.replace( ralpha, \"\" ) ) === \"\" &&\n\t\t\t\t\tstyle.removeAttribute ) {\n\n\t\t\t\t// Setting style.filter to null, \"\" & \" \" still leave \"filter:\" in the cssText\n\t\t\t\t// if \"filter:\" is present at all, clearType is disabled, we want to avoid this\n\t\t\t\t// style.removeAttribute is IE Only, but so apparently is this code path...\n\t\t\t\tstyle.removeAttribute( \"filter\" );\n\n\t\t\t\t// if there is no filter style applied in a css rule or unset inline opacity, we are done\n\t\t\t\tif ( value === \"\" || currentStyle && !currentStyle.filter ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// otherwise, set new filter values\n\t\t\tstyle.filter = ralpha.test( filter ) ?\n\t\t\t\tfilter.replace( ralpha, opacity ) :\n\t\t\t\tfilter + \" \" + opacity;\n\t\t}\n\t};\n}\n\n// These hooks cannot be added until DOM ready because the support test\n// for it is not run until after DOM ready\njQuery(function() {\n\tif ( !jQuery.support.reliableMarginRight ) {\n\t\tjQuery.cssHooks.marginRight = {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\t\t\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n\t\t\t\t\t// Work around by temporarily setting element display to inline-block\n\t\t\t\t\treturn jQuery.swap( elem, { \"display\": \"inline-block\" },\n\t\t\t\t\t\tcurCSS, [ elem, \"marginRight\" ] );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\t// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n\t// getComputedStyle returns percent when specified for top/left/bottom/right\n\t// rather than make the css module depend on the offset module, we just check for it here\n\tif ( !jQuery.support.pixelPosition && jQuery.fn.position ) {\n\t\tjQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\n\t\t\tjQuery.cssHooks[ prop ] = {\n\t\t\t\tget: function( elem, computed ) {\n\t\t\t\t\tif ( computed ) {\n\t\t\t\t\t\tcomputed = curCSS( elem, prop );\n\t\t\t\t\t\t// if curCSS returns percentage, fallback to offset\n\t\t\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\t\t\tcomputed;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t}\n\n});\n\nif ( jQuery.expr && jQuery.expr.filters ) {\n\tjQuery.expr.filters.hidden = function( elem ) {\n\t\treturn ( elem.offsetWidth === 0 && elem.offsetHeight === 0 ) || (!jQuery.support.reliableHiddenOffsets && ((elem.style && elem.style.display) || jQuery.css( elem, \"display\" )) === \"none\");\n\t};\n\n\tjQuery.expr.filters.visible = function( elem ) {\n\t\treturn !jQuery.expr.filters.hidden( elem );\n\t};\n}\n\n// These hooks are used by animate to expand properties\njQuery.each({\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split(\" \") : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( !rmargin.test( prefix ) ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n});\nvar r20 = /%20/g,\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\njQuery.fn.extend({\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map(function(){\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t})\n\t\t.filter(function(){\n\t\t\tvar type = this.type;\n\t\t\t// Use .is(\":disabled\") so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !manipulation_rcheckableType.test( type ) );\n\t\t})\n\t\t.map(function( i, elem ){\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\treturn val == null ?\n\t\t\t\tnull :\n\t\t\t\tjQuery.isArray( val ) ?\n\t\t\t\t\tjQuery.map( val, function( val ){\n\t\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t\t}) :\n\t\t\t\t\t{ name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t}).get();\n\t}\n});\n\n//Serialize an array of form elements or a set of\n//key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, value ) {\n\t\t\t// If value is a function, invoke it and return its value\n\t\t\tvalue = jQuery.isFunction( value ) ? value() : ( value == null ? \"\" : value );\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" + encodeURIComponent( value );\n\t\t};\n\n\t// Set traditional to true for jQuery <= 1.3.2 behavior.\n\tif ( traditional === undefined ) {\n\t\ttraditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t});\n\n\t} else {\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" ).replace( r20, \"+\" );\n};\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( jQuery.isArray( obj ) ) {\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams( prefix + \"[\" + ( typeof v === \"object\" ? i : \"\" ) + \"]\", v, traditional, add );\n\t\t\t}\n\t\t});\n\n\t} else if ( !traditional && jQuery.type( obj ) === \"object\" ) {\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\nvar\n\t// Document location\n\tajaxLocParts,\n\tajaxLocation,\n\t\n\tajax_nonce = jQuery.now(),\n\n\tajax_rquery = /\\?/,\n\trhash = /#.*$/,\n\trts = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg, // IE leaves an \\r character at EOL\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\trurl = /^([\\w.+-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+)|)|)/,\n\n\t// Keep a copy of the old load method\n\t_load = jQuery.fn.load,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat(\"*\");\n\n// #8138, IE may throw an exception when accessing\n// a field from window.location if document.domain has been set\ntry {\n\tajaxLocation = location.href;\n} catch( e ) {\n\t// Use the href attribute of an A element\n\t// since IE will modify it given document.location\n\tajaxLocation = document.createElement( \"a\" );\n\tajaxLocation.href = \"\";\n\tajaxLocation = ajaxLocation.href;\n}\n\n// Segment location into parts\najaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( core_rnotwhite ) || [];\n\n\t\tif ( jQuery.isFunction( func ) ) {\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( (dataType = dataTypes[i++]) ) {\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[0] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t(structure[ dataType ] = structure[ dataType ] || []).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t(structure[ dataType ] = structure[ dataType ] || []).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif( typeof dataTypeOrTransport === \"string\" && !seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t});\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || (deep = {}) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\njQuery.fn.load = function( url, params, callback ) {\n\tif ( typeof url !== \"string\" && _load ) {\n\t\treturn _load.apply( this, arguments );\n\t}\n\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf(\" \");\n\n\tif ( off >= 0 ) {\n\t\tselector = url.slice( off, url.length );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( jQuery.isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax({\n\t\t\turl: url,\n\n\t\t\t// if \"type\" variable is undefined, then \"GET\" method will be used\n\t\t\ttype: type,\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t}).done(function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery(\"<div>\").appendChild( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t}).complete( callback && function( jqXHR, status ) {\n\t\t\tself.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t});\n\t}\n\n\treturn this;\n};\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( [ \"ajaxStart\", \"ajaxStop\", \"ajaxComplete\", \"ajaxError\", \"ajaxSuccess\", \"ajaxSend\" ], function( i, type ){\n\tjQuery.fn[ type ] = function( fn ){\n\t\treturn this.on( type, fn );\n\t};\n});\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\t\t// shift arguments if data argument was omitted\n\t\tif ( jQuery.isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\treturn jQuery.ajax({\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t});\n\t};\n});\n\njQuery.extend({\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: ajaxLocation,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /xml/,\n\t\t\thtml: /html/,\n\t\t\tjson: /json/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": window.String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": jQuery.parseJSON,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\t\t\t// Cross-domain detection vars\n\t\t\tparts,\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\t\t\t// Loop variable\n\t\t\ti,\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context && ( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\tjQuery.event,\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks(\"once memory\"),\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\t\t\t// The jqXHR state\n\t\t\tstate = 0,\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( state === 2 ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( (match = rheaders.exec( responseHeadersString )) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[1].toLowerCase() ] = match[ 2 ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match;\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn state === 2 ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tvar lname = name.toLowerCase();\n\t\t\t\t\tif ( !state ) {\n\t\t\t\t\t\tname = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( !state ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( state < 2 ) {\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\t// Lazy-add the new callback in a way that preserves old ones\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR ).complete = completeDeferred.add;\n\t\tjqXHR.success = jqXHR.done;\n\t\tjqXHR.error = jqXHR.fail;\n\n\t\t// Remove hash character (#7531: and string promotion)\n\t\t// Add protocol if not provided (#5866: IE7 issue with protocol-less urls)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || ajaxLocation ) + \"\" ).replace( rhash, \"\" ).replace( rprotocol, ajaxLocParts[ 1 ] + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = jQuery.trim( s.dataType || \"*\" ).toLowerCase().match( core_rnotwhite ) || [\"\"];\n\n\t\t// A cross-domain request is in order when we have a protocol:host:port mismatch\n\t\tif ( s.crossDomain == null ) {\n\t\t\tparts = rurl.exec( s.url.toLowerCase() );\n\t\t\ts.crossDomain = !!( parts &&\n\t\t\t\t( parts[ 1 ] !== ajaxLocParts[ 1 ] || parts[ 2 ] !== ajaxLocParts[ 2 ] ||\n\t\t\t\t\t( parts[ 3 ] || ( parts[ 1 ] === \"http:\" ? 80 : 443 ) ) !=\n\t\t\t\t\t\t( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === \"http:\" ? 80 : 443 ) ) )\n\t\t\t);\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( state === 2 ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\tfireGlobals = s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger(\"ajaxStart\");\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\tcacheURL = s.url;\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// If data is available, append data to url\n\t\t\tif ( s.data ) {\n\t\t\t\tcacheURL = ( s.url += ( ajax_rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data );\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add anti-cache in url if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\ts.url = rts.test( cacheURL ) ?\n\n\t\t\t\t\t// If there is already a '_' parameter, set its value\n\t\t\t\t\tcacheURL.replace( rts, \"$1_=\" + ajax_nonce++ ) :\n\n\t\t\t\t\t// Otherwise add one to the end\n\t\t\t\t\tcacheURL + ( ajax_rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ajax_nonce++;\n\t\t\t}\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tfor ( i in { success: 1, error: 1, complete: 1 } ) {\n\t\t\tjqXHR[ i ]( s[ i ] );\n\t\t}\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = setTimeout(function() {\n\t\t\t\t\tjqXHR.abort(\"timeout\");\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tstate = 1;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\t\t\t\t// Propagate exception as error if not done\n\t\t\t\tif ( state < 2 ) {\n\t\t\t\t\tdone( -1, e );\n\t\t\t\t// Simply rethrow otherwise\n\t\t\t\t} else {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Called once\n\t\t\tif ( state === 2 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// State is \"done\" now\n\t\t\tstate = 2;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\tclearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( status >= 200 && status < 300 || status === 304 ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"Last-Modified\");\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"etag\");\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If not modified\n\t\t\t\tif ( status === 304 ) {\n\t\t\t\t\tisSuccess = true;\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data\n\t\t\t\t} else {\n\t\t\t\t\tisSuccess = ajaxConvert( s, response );\n\t\t\t\t\tstatusText = isSuccess.state;\n\t\t\t\t\tsuccess = isSuccess.data;\n\t\t\t\t\terror = isSuccess.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// We extract error from statusText\n\t\t\t\t// then normalize statusText and status for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger(\"ajaxStop\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t}\n});\n\n/* Handles responses to an ajax request:\n * - sets all responseXXX fields accordingly\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes,\n\t\tresponseFields = s.responseFields;\n\n\t// Fill responseXXX fields\n\tfor ( type in responseFields ) {\n\t\tif ( type in responses ) {\n\t\t\tjqXHR[ responseFields[type] ] = responses[ type ];\n\t\t}\n\t}\n\n\t// Remove auto dataType and get content-type in the process\n\twhile( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader(\"Content-Type\");\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[0] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n// Chain conversions given the request and the original response\nfunction ajaxConvert( s, response ) {\n\n\tvar conv, conv2, current, tmp,\n\t\tconverters = {},\n\t\ti = 0,\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice(),\n\t\tprev = dataTypes[ 0 ];\n\n\t// Apply the dataFilter if provided\n\tif ( s.dataFilter ) {\n\t\tresponse = s.dataFilter( response, s.dataType );\n\t}\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\t// Convert to each sequential dataType, tolerating list modification\n\tfor ( ; (current = dataTypes[++i]); ) {\n\n\t\t// There's only work to do if current dataType is non-auto\n\t\tif ( current !== \"*\" ) {\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\tif ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split(\" \");\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.splice( i--, 0, current );\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s[\"throws\"] ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn { state: \"parsererror\", error: conv ? e : \"No conversion from \" + prev + \" to \" + current };\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update prev for next iteration\n\t\t\tprev = current;\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n// Install script dataType\njQuery.ajaxSetup({\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /(?:java|ecma)script/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n});\n\n// Handle cache's special case and global\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t\ts.global = false;\n\t}\n});\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function(s) {\n\n\t// This transport only deals with cross domain requests\n\tif ( s.crossDomain ) {\n\n\t\tvar script,\n\t\t\thead = document.head || jQuery(\"head\")[0] || document.documentElement;\n\n\t\treturn {\n\n\t\t\tsend: function( _, callback ) {\n\n\t\t\t\tscript = document.createElement(\"script\");\n\n\t\t\t\tscript.async = true;\n\n\t\t\t\tif ( s.scriptCharset ) {\n\t\t\t\t\tscript.charset = s.scriptCharset;\n\t\t\t\t}\n\n\t\t\t\tscript.src = s.url;\n\n\t\t\t\t// Attach handlers for all browsers\n\t\t\t\tscript.onload = script.onreadystatechange = function( _, isAbort ) {\n\n\t\t\t\t\tif ( isAbort || !script.readyState || /loaded|complete/.test( script.readyState ) ) {\n\n\t\t\t\t\t\t// Handle memory leak in IE\n\t\t\t\t\t\tscript.onload = script.onreadystatechange = null;\n\n\t\t\t\t\t\t// Remove the script\n\t\t\t\t\t\tif ( script.parentNode ) {\n\t\t\t\t\t\t\tscript.parentNode.removeChild( script );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Dereference the script\n\t\t\t\t\t\tscript = null;\n\n\t\t\t\t\t\t// Callback if not abort\n\t\t\t\t\t\tif ( !isAbort ) {\n\t\t\t\t\t\t\tcallback( 200, \"success\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Circumvent IE6 bugs with base elements (#2709 and #4378) by prepending\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\thead.insertBefore( script, head.firstChild );\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( script ) {\n\t\t\t\t\tscript.onload( undefined, true );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n});\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup({\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( ajax_nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n});\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" && !( s.contentType || \"\" ).indexOf(\"application/x-www-form-urlencoded\") && rjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( ajax_rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[\"script json\"] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always(function() {\n\t\t\t// Restore preexisting value\n\t\t\twindow[ callbackName ] = overwritten;\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\t\t\t\t// make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && jQuery.isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t});\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n});\nvar xhrCallbacks, xhrSupported,\n\txhrId = 0,\n\t// #5280: Internet Explorer will keep connections alive if we don't abort on unload\n\txhrOnUnloadAbort = window.ActiveXObject && function() {\n\t\t// Abort all pending requests\n\t\tvar key;\n\t\tfor ( key in xhrCallbacks ) {\n\t\t\txhrCallbacks[ key ]( undefined, true );\n\t\t}\n\t};\n\n// Functions to create xhrs\nfunction createStandardXHR() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch( e ) {}\n}\n\nfunction createActiveXHR() {\n\ttry {\n\t\treturn new window.ActiveXObject(\"Microsoft.XMLHTTP\");\n\t} catch( e ) {}\n}\n\n// Create the request object\n// (This is still attached to ajaxSettings for backward compatibility)\njQuery.ajaxSettings.xhr = window.ActiveXObject ?\n\t/* Microsoft failed to properly\n\t * implement the XMLHttpRequest in IE7 (can't request local files),\n\t * so we use the ActiveXObject when it is available\n\t * Additionally XMLHttpRequest can be disabled in IE7/IE8 so\n\t * we need a fallback.\n\t */\n\tfunction() {\n\t\treturn !this.isLocal && createStandardXHR() || createActiveXHR();\n\t} :\n\t// For all other browsers, use the standard XMLHttpRequest object\n\tcreateStandardXHR;\n\n// Determine support properties\nxhrSupported = jQuery.ajaxSettings.xhr();\njQuery.support.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nxhrSupported = jQuery.support.ajax = !!xhrSupported;\n\n// Create transport if the browser can provide an xhr\nif ( xhrSupported ) {\n\n\tjQuery.ajaxTransport(function( s ) {\n\t\t// Cross domain only allowed if supported through XMLHttpRequest\n\t\tif ( !s.crossDomain || jQuery.support.cors ) {\n\n\t\t\tvar callback;\n\n\t\t\treturn {\n\t\t\t\tsend: function( headers, complete ) {\n\n\t\t\t\t\t// Get a new xhr\n\t\t\t\t\tvar handle, i,\n\t\t\t\t\t\txhr = s.xhr();\n\n\t\t\t\t\t// Open the socket\n\t\t\t\t\t// Passing null username, generates a login popup on Opera (#2865)\n\t\t\t\t\tif ( s.username ) {\n\t\t\t\t\t\txhr.open( s.type, s.url, s.async, s.username, s.password );\n\t\t\t\t\t} else {\n\t\t\t\t\t\txhr.open( s.type, s.url, s.async );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Apply custom fields if provided\n\t\t\t\t\tif ( s.xhrFields ) {\n\t\t\t\t\t\tfor ( i in s.xhrFields ) {\n\t\t\t\t\t\t\txhr[ i ] = s.xhrFields[ i ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Override mime type if needed\n\t\t\t\t\tif ( s.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\t\txhr.overrideMimeType( s.mimeType );\n\t\t\t\t\t}\n\n\t\t\t\t\t// X-Requested-With header\n\t\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\t\tif ( !s.crossDomain && !headers[\"X-Requested-With\"] ) {\n\t\t\t\t\t\theaders[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t\t\t\t}\n\n\t\t\t\t\t// Need an extra try/catch for cross domain requests in Firefox 3\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch( err ) {}\n\n\t\t\t\t\t// Do send the request\n\t\t\t\t\t// This may raise an exception which is actually\n\t\t\t\t\t// handled in jQuery.ajax (so no try/catch here)\n\t\t\t\t\txhr.send( ( s.hasContent && s.data ) || null );\n\n\t\t\t\t\t// Listener\n\t\t\t\t\tcallback = function( _, isAbort ) {\n\n\t\t\t\t\t\tvar status,\n\t\t\t\t\t\t\tstatusText,\n\t\t\t\t\t\t\tresponseHeaders,\n\t\t\t\t\t\t\tresponses,\n\t\t\t\t\t\t\txml;\n\n\t\t\t\t\t\t// Firefox throws exceptions when accessing properties\n\t\t\t\t\t\t// of an xhr when a network error occurred\n\t\t\t\t\t\t// http://helpful.knobs-dials.com/index.php/Component_returned_failure_code:_0x80040111_(NS_ERROR_NOT_AVAILABLE)\n\t\t\t\t\t\ttry {\n\n\t\t\t\t\t\t\t// Was never called and is aborted or complete\n\t\t\t\t\t\t\tif ( callback && ( isAbort || xhr.readyState === 4 ) ) {\n\n\t\t\t\t\t\t\t\t// Only called once\n\t\t\t\t\t\t\t\tcallback = undefined;\n\n\t\t\t\t\t\t\t\t// Do not keep as active anymore\n\t\t\t\t\t\t\t\tif ( handle ) {\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = jQuery.noop;\n\t\t\t\t\t\t\t\t\tif ( xhrOnUnloadAbort ) {\n\t\t\t\t\t\t\t\t\t\tdelete xhrCallbacks[ handle ];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// If it's an abort\n\t\t\t\t\t\t\t\tif ( isAbort ) {\n\t\t\t\t\t\t\t\t\t// Abort it manually if needed\n\t\t\t\t\t\t\t\t\tif ( xhr.readyState !== 4 ) {\n\t\t\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tresponses = {};\n\t\t\t\t\t\t\t\t\tstatus = xhr.status;\n\t\t\t\t\t\t\t\t\txml = xhr.responseXML;\n\t\t\t\t\t\t\t\t\tresponseHeaders = xhr.getAllResponseHeaders();\n\n\t\t\t\t\t\t\t\t\t// Construct response list\n\t\t\t\t\t\t\t\t\tif ( xml && xml.documentElement /* #4958 */ ) {\n\t\t\t\t\t\t\t\t\t\tresponses.xml = xml;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// When requesting binary data, IE6-9 will throw an exception\n\t\t\t\t\t\t\t\t\t// on any attempt to access responseText (#11426)\n\t\t\t\t\t\t\t\t\tif ( typeof xhr.responseText === \"string\" ) {\n\t\t\t\t\t\t\t\t\t\tresponses.text = xhr.responseText;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Firefox throws an exception when accessing\n\t\t\t\t\t\t\t\t\t// statusText for faulty cross-domain requests\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tstatusText = xhr.statusText;\n\t\t\t\t\t\t\t\t\t} catch( e ) {\n\t\t\t\t\t\t\t\t\t\t// We normalize with Webkit giving an empty statusText\n\t\t\t\t\t\t\t\t\t\tstatusText = \"\";\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Filter status for non standard behaviors\n\n\t\t\t\t\t\t\t\t\t// If the request is local and we have data: assume a success\n\t\t\t\t\t\t\t\t\t// (success with no data won't get notified, that's the best we\n\t\t\t\t\t\t\t\t\t// can do given current implementations)\n\t\t\t\t\t\t\t\t\tif ( !status && s.isLocal && !s.crossDomain ) {\n\t\t\t\t\t\t\t\t\t\tstatus = responses.text ? 200 : 404;\n\t\t\t\t\t\t\t\t\t// IE - #1450: sometimes returns 1223 when it should be 204\n\t\t\t\t\t\t\t\t\t} else if ( status === 1223 ) {\n\t\t\t\t\t\t\t\t\t\tstatus = 204;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch( firefoxAccessException ) {\n\t\t\t\t\t\t\tif ( !isAbort ) {\n\t\t\t\t\t\t\t\tcomplete( -1, firefoxAccessException );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Call complete if needed\n\t\t\t\t\t\tif ( responses ) {\n\t\t\t\t\t\t\tcomplete( status, statusText, responses, responseHeaders );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( !s.async ) {\n\t\t\t\t\t\t// if we're in sync mode we fire the callback\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t} else if ( xhr.readyState === 4 ) {\n\t\t\t\t\t\t// (IE6 & IE7) if it's in cache and has been\n\t\t\t\t\t\t// retrieved directly we need to fire the callback\n\t\t\t\t\t\tsetTimeout( callback );\n\t\t\t\t\t} else {\n\t\t\t\t\t\thandle = ++xhrId;\n\t\t\t\t\t\tif ( xhrOnUnloadAbort ) {\n\t\t\t\t\t\t\t// Create the active xhrs callbacks list if needed\n\t\t\t\t\t\t\t// and attach the unload handler\n\t\t\t\t\t\t\tif ( !xhrCallbacks ) {\n\t\t\t\t\t\t\t\txhrCallbacks = {};\n\t\t\t\t\t\t\t\tjQuery( window ).unload( xhrOnUnloadAbort );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Add to list of active xhrs callbacks\n\t\t\t\t\t\t\txhrCallbacks[ handle ] = callback;\n\t\t\t\t\t\t}\n\t\t\t\t\t\txhr.onreadystatechange = callback;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tabort: function() {\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tcallback( undefined, true );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t});\n}\nvar fxNow, timerId,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trfxnum = new RegExp( \"^(?:([+-])=|)(\" + core_pnum + \")([a-z%]*)$\", \"i\" ),\n\trrun = /queueHooks$/,\n\tanimationPrefilters = [ defaultPrefilter ],\n\ttweeners = {\n\t\t\"*\": [function( prop, value ) {\n\t\t\tvar end, unit,\n\t\t\t\ttween = this.createTween( prop, value ),\n\t\t\t\tparts = rfxnum.exec( value ),\n\t\t\t\ttarget = tween.cur(),\n\t\t\t\tstart = +target || 0,\n\t\t\t\tscale = 1,\n\t\t\t\tmaxIterations = 20;\n\n\t\t\tif ( parts ) {\n\t\t\t\tend = +parts[2];\n\t\t\t\tunit = parts[3] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\n\t\t\t\t// We need to compute starting value\n\t\t\t\tif ( unit !== \"px\" && start ) {\n\t\t\t\t\t// Iteratively approximate from a nonzero starting point\n\t\t\t\t\t// Prefer the current property, because this process will be trivial if it uses the same units\n\t\t\t\t\t// Fallback to end or a simple constant\n\t\t\t\t\tstart = jQuery.css( tween.elem, prop, true ) || end || 1;\n\n\t\t\t\t\tdo {\n\t\t\t\t\t\t// If previous iteration zeroed out, double until we get *something*\n\t\t\t\t\t\t// Use a string for doubling factor so we don't accidentally see scale as unchanged below\n\t\t\t\t\t\tscale = scale || \".5\";\n\n\t\t\t\t\t\t// Adjust and apply\n\t\t\t\t\t\tstart = start / scale;\n\t\t\t\t\t\tjQuery.style( tween.elem, prop, start + unit );\n\n\t\t\t\t\t// Update scale, tolerating zero or NaN from tween.cur()\n\t\t\t\t\t// And breaking the loop if scale is unchanged or perfect, or if we've just had enough\n\t\t\t\t\t} while ( scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations );\n\t\t\t\t}\n\n\t\t\t\ttween.unit = unit;\n\t\t\t\ttween.start = start;\n\t\t\t\t// If a +=/-= token was provided, we're doing a relative animation\n\t\t\t\ttween.end = parts[1] ? start + ( parts[1] + 1 ) * end : end;\n\t\t\t}\n\t\t\treturn tween;\n\t\t}]\n\t};\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\tsetTimeout(function() {\n\t\tfxNow = undefined;\n\t});\n\treturn ( fxNow = jQuery.now() );\n}\n\nfunction createTweens( animation, props ) {\n\tjQuery.each( props, function( prop, value ) {\n\t\tvar collection = ( tweeners[ prop ] || [] ).concat( tweeners[ \"*\" ] ),\n\t\t\tindex = 0,\n\t\t\tlength = collection.length;\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tif ( collection[ index ].call( animation, prop, value ) ) {\n\n\t\t\t\t// we're done with this property\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = animationPrefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\t\t\t// don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t}),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\t\t\t\t// archaic crash bug won't allow us to use 1 - ( 0.5 || 0 ) (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length ; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ]);\n\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t} else {\n\t\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tanimation = deferred.promise({\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, { specialEasing: {} }, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\t\t\t\t\t// if we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length ; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// resolve when we played the last frame\n\t\t\t\t// otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length ; index++ ) {\n\t\tresult = animationPrefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tcreateTweens( animation, props );\n\n\tif ( jQuery.isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t})\n\t);\n\n\t// attach callbacks from options\n\treturn animation.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = jQuery.camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( jQuery.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// not quite $.extend, this wont overwrite keys already present.\n\t\t\t// also - reusing 'index' from above because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweener: function( props, callback ) {\n\t\tif ( jQuery.isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.split(\" \");\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length ; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\ttweeners[ prop ] = tweeners[ prop ] || [];\n\t\t\ttweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tanimationPrefilters.unshift( callback );\n\t\t} else {\n\t\t\tanimationPrefilters.push( callback );\n\t\t}\n\t}\n});\n\nfunction defaultPrefilter( elem, props, opts ) {\n\t/*jshint validthis:true */\n\tvar index, prop, value, length, dataShow, toggle, tween, hooks, oldfire,\n\t\tanim = this,\n\t\tstyle = elem.style,\n\t\torig = {},\n\t\thandled = [],\n\t\thidden = elem.nodeType && isHidden( elem );\n\n\t// handle queue: false promises\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always(function() {\n\t\t\t// doing this makes sure that the complete handler will be called\n\t\t\t// before this completes\n\t\t\tanim.always(function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t// height/width overflow pass\n\tif ( elem.nodeType === 1 && ( \"height\" in props || \"width\" in props ) ) {\n\t\t// Make sure that nothing sneaks out\n\t\t// Record all 3 overflow attributes because IE does not\n\t\t// change the overflow attribute when overflowX and\n\t\t// overflowY are set to the same value\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Set display property to inline-block for height/width\n\t\t// animations on inline elements that are having width/height animated\n\t\tif ( jQuery.css( elem, \"display\" ) === \"inline\" &&\n\t\t\t\tjQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t// inline-level elements accept inline-block;\n\t\t\t// block-level elements need to be inline with layout\n\t\t\tif ( !jQuery.support.inlineBlockNeedsLayout || css_defaultDisplay( elem.nodeName ) === \"inline\" ) {\n\t\t\t\tstyle.display = \"inline-block\";\n\n\t\t\t} else {\n\t\t\t\tstyle.zoom = 1;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tif ( !jQuery.support.shrinkWrapBlocks ) {\n\t\t\tanim.done(function() {\n\t\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t\t});\n\t\t}\n\t}\n\n\n\t// show/hide pass\n\tfor ( index in props ) {\n\t\tvalue = props[ index ];\n\t\tif ( rfxtypes.exec( value ) ) {\n\t\t\tdelete props[ index ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\thandled.push( index );\n\t\t}\n\t}\n\n\tlength = handled.length;\n\tif ( length ) {\n\t\tdataShow = jQuery._data( elem, \"fxshow\" ) || jQuery._data( elem, \"fxshow\", {} );\n\t\tif ( \"hidden\" in dataShow ) {\n\t\t\thidden = dataShow.hidden;\n\t\t}\n\n\t\t// store state if its toggle - enables .stop().toggle() to \"reverse\"\n\t\tif ( toggle ) {\n\t\t\tdataShow.hidden = !hidden;\n\t\t}\n\t\tif ( hidden ) {\n\t\t\tjQuery( elem ).show();\n\t\t} else {\n\t\t\tanim.done(function() {\n\t\t\t\tjQuery( elem ).hide();\n\t\t\t});\n\t\t}\n\t\tanim.done(function() {\n\t\t\tvar prop;\n\t\t\tjQuery._removeData( elem, \"fxshow\" );\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t}\n\t\t});\n\t\tfor ( index = 0 ; index < length ; index++ ) {\n\t\t\tprop = handled[ index ];\n\t\t\ttween = anim.createTween( prop, hidden ? dataShow[ prop ] : 0 );\n\t\t\torig[ prop ] = dataShow[ prop ] || jQuery.style( elem, prop );\n\n\t\t\tif ( !( prop in dataShow ) ) {\n\t\t\t\tdataShow[ prop ] = tween.start;\n\t\t\t\tif ( hidden ) {\n\t\t\t\t\ttween.end = tween.start;\n\t\t\t\t\ttween.start = prop === \"width\" || prop === \"height\" ? 1 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || \"swing\";\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\tif ( tween.elem[ tween.prop ] != null &&\n\t\t\t\t(!tween.elem.style || tween.elem.style[ tween.prop ] == null) ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// passing a non empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails\n\t\t\t// so, simple values such as \"10px\" are parsed to Float.\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"auto\" );\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\t\t\t// use step hook for back compat - use cssHook if its there - use .style if its\n\t\t\t// available and use plain properties where available\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.style && ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Remove in 2.0 - this supports IE8's panic based approach\n// to setting things on disconnected nodes\n\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.each([ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n});\n\njQuery.fn.extend({\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHidden ).css( \"opacity\", 0 ).show()\n\n\t\t\t// animate to the value specified\n\t\t\t.end().animate({ opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\t\t\t\tdoAnimation.finish = function() {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t};\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || jQuery._data( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue && type !== false ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = jQuery._data( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && (type == null || timers[ index ].queue === type) ) {\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// start the next in the queue if the last step wasn't forced\n\t\t\t// timers currently will call their complete callbacks, which will dequeue\n\t\t\t// but only if they were gotoEnd\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t});\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each(function() {\n\t\t\tvar index,\n\t\t\t\tdata = jQuery._data( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.cur && hooks.cur.finish ) {\n\t\t\t\thooks.cur.finish.call( this );\n\t\t\t}\n\n\t\t\t// look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t});\n\t}\n});\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\tattrs = { height: type },\n\t\ti = 0;\n\n\t// if we include width, step value is 1 to do all cssExpand values,\n\t// if we don't include width, step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth? 1 : 0;\n\tfor( ; i < 4 ; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\n// Generate shortcuts for custom animations\njQuery.each({\n\tslideDown: genFx(\"show\"),\n\tslideUp: genFx(\"hide\"),\n\tslideToggle: genFx(\"toggle\"),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n});\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tjQuery.isFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !jQuery.isFunction( easing ) && easing\n\t};\n\n\topt.duration = jQuery.fx.off ? 0 : typeof opt.duration === \"number\" ? opt.duration :\n\t\topt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;\n\n\t// normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( jQuery.isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p*Math.PI ) / 2;\n\t}\n};\n\njQuery.timers = [];\njQuery.fx = Tween.prototype.init;\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ttimers = jQuery.timers,\n\t\ti = 0;\n\n\tfxNow = jQuery.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\t\t// Checks the timer has not already been removed\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tif ( timer() && jQuery.timers.push( timer ) ) {\n\t\tjQuery.fx.start();\n\t}\n};\n\njQuery.fx.interval = 13;\n\njQuery.fx.start = function() {\n\tif ( !timerId ) {\n\t\ttimerId = setInterval( jQuery.fx.tick, jQuery.fx.interval );\n\t}\n};\n\njQuery.fx.stop = function() {\n\tclearInterval( timerId );\n\ttimerId = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\t// Default speed\n\t_default: 400\n};\n\n// Back Compat <1.8 extension point\njQuery.fx.step = {};\n\nif ( jQuery.expr && jQuery.expr.filters ) {\n\tjQuery.expr.filters.animated = function( elem ) {\n\t\treturn jQuery.grep(jQuery.timers, function( fn ) {\n\t\t\treturn elem === fn.elem;\n\t\t}).length;\n\t};\n}\njQuery.fn.offset = function( options ) {\n\tif ( arguments.length ) {\n\t\treturn options === undefined ?\n\t\t\tthis :\n\t\t\tthis.each(function( i ) {\n\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t});\n\t}\n\n\tvar docElem, win,\n\t\tbox = { top: 0, left: 0 },\n\t\telem = this[ 0 ],\n\t\tdoc = elem && elem.ownerDocument;\n\n\tif ( !doc ) {\n\t\treturn;\n\t}\n\n\tdocElem = doc.documentElement;\n\n\t// Make sure it's not a disconnected DOM node\n\tif ( !jQuery.contains( docElem, elem ) ) {\n\t\treturn box;\n\t}\n\n\t// If we don't have gBCR, just use 0,0 rather than error\n\t// BlackBerry 5, iOS 3 (original iPhone)\n\tif ( typeof elem.getBoundingClientRect !== \"undefined\" ) {\n\t\tbox = elem.getBoundingClientRect();\n\t}\n\twin = getWindow( doc );\n\treturn {\n\t\ttop: box.top  + ( win.pageYOffset || docElem.scrollTop )  - ( docElem.clientTop  || 0 ),\n\t\tleft: box.left + ( win.pageXOffset || docElem.scrollLeft ) - ( docElem.clientLeft || 0 )\n\t};\n};\n\njQuery.offset = {\n\n\tsetOffset: function( elem, options, i ) {\n\t\tvar position = jQuery.css( elem, \"position\" );\n\n\t\t// set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tvar curElem = jQuery( elem ),\n\t\t\tcurOffset = curElem.offset(),\n\t\t\tcurCSSTop = jQuery.css( elem, \"top\" ),\n\t\t\tcurCSSLeft = jQuery.css( elem, \"left\" ),\n\t\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) && jQuery.inArray(\"auto\", [curCSSTop, curCSSLeft]) > -1,\n\t\t\tprops = {}, curPosition = {}, curTop, curLeft;\n\n\t\t// need to be able to calculate position if either top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( jQuery.isFunction( options ) ) {\n\t\t\toptions = options.call( elem, i, curOffset );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\n\njQuery.fn.extend({\n\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset,\n\t\t\tparentOffset = { top: 0, left: 0 },\n\t\t\telem = this[ 0 ];\n\n\t\t// fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is it's only offset parent\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\t\t\t// we assume that getBoundingClientRect is available when computed position is fixed\n\t\t\toffset = elem.getBoundingClientRect();\n\t\t} else {\n\t\t\t// Get *real* offsetParent\n\t\t\toffsetParent = this.offsetParent();\n\n\t\t\t// Get correct offsets\n\t\t\toffset = this.offset();\n\t\t\tif ( !jQuery.nodeName( offsetParent[ 0 ], \"html\" ) ) {\n\t\t\t\tparentOffset = offsetParent.offset();\n\t\t\t}\n\n\t\t\t// Add offsetParent borders\n\t\t\tparentOffset.top  += jQuery.css( offsetParent[ 0 ], \"borderTopWidth\", true );\n\t\t\tparentOffset.left += jQuery.css( offsetParent[ 0 ], \"borderLeftWidth\", true );\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\t// note: when an element has margin: auto the offsetLeft and marginLeft\n\t\t// are the same in Safari causing offset.left to incorrectly be 0\n\t\treturn {\n\t\t\ttop:  offset.top  - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true)\n\t\t};\n\t},\n\n\toffsetParent: function() {\n\t\treturn this.map(function() {\n\t\t\tvar offsetParent = this.offsetParent || document.documentElement;\n\t\t\twhile ( offsetParent && ( !jQuery.nodeName( offsetParent, \"html\" ) && jQuery.css( offsetParent, \"position\") === \"static\" ) ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\t\t\treturn offsetParent || document.documentElement;\n\t\t});\n\t}\n});\n\n\n// Create scrollLeft and scrollTop methods\njQuery.each( {scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\"}, function( method, prop ) {\n\tvar top = /Y/.test( prop );\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn jQuery.access( this, function( elem, method, val ) {\n\t\t\tvar win = getWindow( elem );\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? (prop in win) ? win[ prop ] :\n\t\t\t\t\twin.document.documentElement[ method ] :\n\t\t\t\t\telem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : jQuery( win ).scrollLeft(),\n\t\t\t\t\ttop ? val : jQuery( win ).scrollTop()\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length, null );\n\t};\n});\n\nfunction getWindow( elem ) {\n\treturn jQuery.isWindow( elem ) ?\n\t\telem :\n\t\telem.nodeType === 9 ?\n\t\t\telem.defaultView || elem.parentWindow :\n\t\t\tfalse;\n}\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name }, function( defaultExtra, funcName ) {\n\t\t// margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn jQuery.access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( jQuery.isWindow( elem ) ) {\n\t\t\t\t\t// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there\n\t\t\t\t\t// isn't a whole lot we can do. See pull request at this URL for discussion:\n\t\t\t\t\t// https://github.com/jquery/jquery/pull/764\n\t\t\t\t\treturn elem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height], whichever is greatest\n\t\t\t\t\t// unfortunately, this causes bug #3838 in IE6/8 only, but there is currently no good, small way to fix it.\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable, null );\n\t\t};\n\t});\n});\n// Limit scope pollution from any deprecated API\n// (function() {\n\n// })();\n// Expose jQuery to the global object\nwindow.jQuery = window.$ = jQuery;\n\n// Expose jQuery as an AMD module, but only for AMD loaders that\n// understand the issues with loading multiple versions of jQuery\n// in a page that all might call define(). The loader will indicate\n// they have special allowances for multiple jQuery versions by\n// specifying define.amd.jQuery = true. Register as a named module,\n// since jQuery can be concatenated with other files that may use define,\n// but not use a proper concatenation script that understands anonymous\n// AMD modules. A named AMD is safest and most robust way to register.\n// Lowercase jquery is used because AMD module names are derived from\n// file names, and jQuery is normally delivered in a lowercase file name.\n// Do this after creating the global so that if an AMD module wants to call\n// noConflict to hide this version of jQuery, it will work.\nif ( typeof define === \"function\" && define.amd && define.amd.jQuery ) {\n\tdefine( \"jquery\", [], function () { return jQuery; } );\n}\n\n})( window );\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/jquery-1.9.0.js","/**\n * 3D地图.标注点\n * Created by zhu18.github.io on 2017/11/19.\n * @author 朱润亚 <zhu18@vip.qq.com>\n * @version beta v1.0.3\n * @module Map3D\n */\n\nimport * as THREE from './three.js'\nimport TWEEN from './tween.min.js'\nimport * as $ from './util'\n\n\n/**\n * 地图标注,继承{@link https://threejs.org/docs/#api/objects/Sprite|THREE.Sprite}\n * @class\n * @extends THREE.Sprite\n * @example\n *\n * let opt={\n *  name:'台风-依安',\n *  coord:[116,23],\n *  color:0xff0000,\n *  size:4,\n *  value:2,\n *  userAttrA:'A'\n * }\n * let mark = new Mark(opt);\n * console.log(mark.userData.value +  mark.userData.userAttrA)  //'2A'\n */\nclass Mark extends THREE.Sprite{\n  /**\n   * 光点纹理样式,返回一个纹理 {@link https://threejs.org/docs/#api/textures/Texture|THREE.Texture}\n   * @returns {THREE.Texture}\n   * @example\n   * Mark.texture()\n   */\n  static get texture(){\n    if(!Mark._texture)\n    {\n      let canvas = document.createElement(\"canvas\");\n      canvas.width=128;\n      canvas.height=128;\n      let context = canvas.getContext('2d');\n      Mark.draw(context);\n      let texture = new THREE.Texture(canvas);\n      texture.needsUpdate = true;\n      Mark._texture=texture;\n    }\n    return Mark._texture;\n  }\n  /**\n   * 光点纹理样式,如果你对canvas熟悉可以重写.否则使用默认样式\n   * @static\n   * @param {context} context - Canvas上下文对象 {@link https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/getContext|Canvas.context}\n   * @example\n   *\n   * Mark.draw=(ctx)=>{\n     *  context.clearRect(0, 0, 128, 128);\n     *  context.fillStyle = '#ff0000';\n     *  context.arc(64, 64, 20, 0, Math.PI * 2, false);\n     *  context.fill();\n     * }\n   */\n  static draw(context,v){\n    v=v||1;\n    context.clearRect(0, 0, 128, 128);\n    context.fillStyle = '#ffffff';\n    context.arc(64, 64, 20, 0, Math.PI * 2, false);\n    context.fill();\n\n    context.fillStyle = 'rgba(255,255,255,.5)';\n    context.arc(64, 64, 60*v, 0, Math.PI * 2, false);\n    context.fill();\n\n    // context.fillStyle = 'rgba(0,0,0,.5)';\n    // context.rect(0, 0, 128, 128, Math.PI * 2, false);\n    // context.fill();\n  }\n\n  /**\n   * 创建一个标注\n   * @param {Object} pros - The mark options | 标注的配置\n   * @param {string} [pros.name=''] - mark name | 标注名称\n   * @param {array} pros.coord - mark coord | 标注坐标,如:[112,33]\n   * @param {string} [pros.color=0xffffff] - mark color | 标注颜色\n   * @param {string} [pros.hoverColor=0xff9933] - mark hoverColor | 标注的鼠标移入颜色\n   * @param {number} [pros.hoverAnimaTime=300] - mark hover Animate time | 鼠标移入动画过渡时间\n   * @param {string} [pros.value=''] - mark value | 标注值\n   * @param {*} [pros.*] - User extended attributes | 用户扩展属性\n   *\n   */\n  constructor(pros){\n    super();\n    this.material = new THREE.SpriteMaterial( { map: Mark.texture, color: pros.color , blending: THREE.AdditiveBlending} );\n    this.type=\"Mark\";\n    this.name=pros.name;\n    Object.assign(this.userData,pros);\n\n    let size=pros.size||this.userData.min;\n    size=size<this.userData.min?this.userData.min:size;\n    size=size>this.userData.max?this.userData.max:size;\n    this.userData.size=size;\n    this.scale.set(size, size, 1);\n    //console.log(size);\n    this.position.x=pros.coord[0];\n    this.position.y=pros.coord[1];\n    this.position.z=2+size*35/100;\n\n    this.update = function(){\n      // if(!line.userData.hasHalo || !line.userData.hasHaloAnimate)\n      //   return;\n\n      let time = Date.now() * 0.005 ;\n      let size = Math.abs(Math.sin(0.1+time))\n      // new TWEEN.Tween(this.scale).to({x:size,y:size},100).delay(Mark.count*10).start()\n\n      // let context = this.material.map.image.getContext('2d');\n      // Mark.draw(context,size);\n      // this.material.map.needsUpdate = true;\n\n      // let geometry = this.geometry;\n      // let attributes = geometry.attributes;\n      // for ( let i = 0; i < attributes.size.array.length; i++ ) {\n      //   attributes.size.array[ i ] = size + size * Math.sin( 0.1 * i + time );\n      // }\n      // attributes.size.needsUpdate = true;\n    }\n\n    Mark.count++;\n  }\n\n  /**\n   * 设置标注颜色\n   * @param {color} color - 颜色格式0xff9933,'#ff9933','rgb(255,255,255)','hsl(100,100%,50%)'\n   * @param {number} [time] - 动画完成时间,与transition时间类似\n   * @param {number} [delay=0] - 动画延迟时间\n   * @param {Tween.Easing} [easing=line] -动画类型\n   * @param {callback} [callback] - 动画完成后回调\n   * @example\n   *  map.addEventListener('mouseover', (event) => {\n     *    let obj = event.target;\n     *    if(obj.type==='Mark')\n     *    {\n     *      obj.setColor('#ff5555',100);// 鼠标移入设置为红色\n     *    }\n     *  });\n   */\n  setColor(color, time, delay, easing,callback){\n    this.userData.color=$.colorToHex(color);\n    if(time && typeof time==='number'){\n      color=new THREE.Color($.colorToHex(color));\n      $.transition(this.material.color,color,time,delay,easing,callback);\n    }\n    else {\n      this.material.color.set($.colorToHex(color));\n    }\n  }\n\n  /**\n   * 设置标注位置\n   * @param {v3} v3 - 格式{x:11,y:33,z:2}\n   * @param {number} [time] - 动画完成时间,与transition时间类似\n   * @param {number} [delay=0] - 动画延迟时间\n   * @param {Tween.Easing} [easing=line] -动画类型\n   * @param {callback} [callback] - 动画完成后回调\n   * @example\n   *\n   * map.addEventListener('mouseover', (event) => {\n     *     let obj = event.target;\n     *     if(obj.type==='Mark')\n     *     {\n     *       obj.setPosition({x:0,y:0,z:4},300) //标注升高\n     *     }\n     *   });\n   *\n   */\n  setPosition(v3,time,delay,easing,callback){\n    if(time && typeof time==='number')\n      $.transition(this.position,v3,time,delay,easing,callback);\n    else\n      this.position.set(v3.x,v3.y,v3.z);\n  }\n\n  /**\n   * 设置标注旋转\n   * @param {v3} v3 - 格式{x:11,y:33,z:2}\n   * @param {number} [time] - 动画完成时间,与transition时间类似\n   * @param {number} [delay=0] - 动画延迟时间\n   * @param {Tween.Easing} [easing=line] -动画类型\n   * @param {callback} [callback] - 动画完成后回调\n   */\n  setRotation(v3,time,delay,easing,callback){\n    v3.x=v3.x * (Math.PI / 180)\n    v3.y=v3.y * (Math.PI / 180)\n    v3.z=v3.z * (Math.PI / 180)\n    $.transition(this.rotation,v3,time,delay,easing,callback);\n  }\n  /**\n   * 设置标注大小\n   * @param {v3} v3 - 格式{x:11,y:33,z:2}\n   * @param {number} [time] - 动画完成时间,与transition时间类似\n   * @param {number} [delay=0] - 动画延迟时间\n   * @param {Tween.Easing} [easing=line] -动画类型\n   * @param {callback} [callback] - 动画完成后回调\n   */\n  setScale(v3,time,delay,easing,callback){\n    if(time && typeof time==='number')\n      $.transition(this.scale,v3,time,delay,easing,callback);\n    else\n      this.scale.set(v3.x,v3.y,v3.z);\n  }\n  /* 事件 */\n  onmouseout(dispatcher,event){\n    let size=this.userData.size*1\n    new TWEEN.Tween(this.scale).to({x:size,y:size}, this.userData.hoverAnimaTime).start();\n    new TWEEN.Tween(this.material.color).to(new THREE.Color($.colorToHex(this.userData.color)), this.userData.hoverAnimaTime).start();\n    dispatcher.dispatchEvent({ type: 'mouseout', target:this, orgEvent:event});\n\n  }\n  onmouseover(dispatcher,event){\n    let size=this.userData.size*1.5\n    new TWEEN.Tween(this.scale).to({x:size,y:size}, this.userData.hoverAnimaTime).start();\n    //区域移入颜色\n    new TWEEN.Tween(this.material.color).to(new THREE.Color($.colorToHex(this.userData.hoverColor)), this.userData.hoverAnimaTime).start();\n    dispatcher.dispatchEvent({ type: 'mouseover', target:this, orgEvent:event});\n  }\n  onmousedown(dispatcher,event) {\n    dispatcher.dispatchEvent({ type: 'mousedown', target:this, orgEvent:event});\n  }\n}\n/**\n * 所有标注数量,静态属性\n * @type {number}\n * @example\n * //查看地图所有标注数\n * console.log(Mark.count);\n */\nMark.count=0;\nMark._texture=null;\n\nexport default Mark\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/Map3D.Mark.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Index from '@/pages/index'\nimport nebula from '@/pages/nebula'\nimport galaxy from '@/pages/galaxy'\nimport map3d_dataRange from '@/pages/map3d/dataRange'\nimport map3d_world from '@/pages/map3d/world'\nimport map3d_debug from '@/pages/map3d/debug'\nimport map3d_mark from '@/pages/map3d/mark'\nimport map3d_line from '@/pages/map3d/line'\nimport map3d_drill from '@/pages/map3d/drill'\n\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n\n        redirect:'index',\n    },\n    {\n      path: '/index',\n      name: 'index',\n        isMenu:true,\n        menuIcon:'icon-shouye-copy',\n      component: Index\n    },\n      {\n          path: '/nebula',\n          name: 'nebula',\n          isMenu:true,\n          menuIcon:'icon-sandian',\n          component: nebula\n      },\n      {\n          path: '/galaxy',\n          name: 'galaxy',\n          isMenu:true,\n          menuIcon:'icon-xingqiu',\n          component: galaxy\n      },\n      {\n          path: '/map3d/dataRange',\n          name: 'map3d_dataRange',\n          isMenu:true,\n          menuIcon:'icon-chinamap-chart',\n          component: map3d_dataRange\n      },\n      {\n        path: '/map3d/world',\n        name: 'map3d_world',\n        isMenu:true,\n        menuIcon:'icon-chinamap-chart',\n        component: map3d_world\n      },\n      {\n          path: '/map3d/debug',\n          name: 'map3d_debug',\n          isMenu:true,\n          menuIcon:'icon-chinamap-chart',\n          component: map3d_debug\n      },\n      {\n        path: '/map3d/mark',\n        name: 'map3d_mark',\n        isMenu:true,\n        menuIcon:'icon-chinamap-chart',\n        component: map3d_mark\n      },\n    {\n      path: '/map3d/line',\n      name: 'map3d_line',\n      isMenu:true,\n      menuIcon:'icon-chinamap-chart',\n      component: map3d_line\n    },\n    {\n      path: '/map3d/drill',\n      name: 'map3d_drill',\n      isMenu:true,\n      menuIcon:'icon-chinamap-chart',\n      component: map3d_drill\n    }\n  ]\n})\n\n// router.afterEach(function(to,form,next){\n//     console.log(to)\n//     console.log(App)\n//     window.App=App;\n//     App.$set(title,to.matched[0].components.default.title);\n//     if(next)next();\n// })\n// router.beforeResolve(guard)\n// router.afterEach(hook)\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-31537f88\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-31537f88\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-31537f88\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/nebula/index.vue\n// module id = a+ex\n// module chunks = 1","<template>\n  <div class=\"wrap\">\n    <div class=\"map\" ref='map'></div>\n    <div id=\"\" :class=\"['map-title',isOverMap ? 'map-title-over' : '']\" :style=\"mapTitlePositon\">{{mapName}}</div>\n  </div>\n\n</template>\n\n<script>\n  import Map3D from 'assets/js/Map3D.js'\n\n\n  export default {\n    name: 'map3d',\n    title: '地图-线',\n\n    data () {\n      return {\n        isOverMap: false,\n        mapName: '',\n        mapTitlePositon: {\n          left: '800px',\n          top: '600px'\n        },\n      }\n    },\n    methods: {\n\n    },\n    mounted(){\n      self = this;\n\n      $.getJSON(\"./static/mapdata/china.json\", (geoData) => {\n\n        // for(let i=0;i<1000;i++){\n        //   let lat=Math.random()*100+50;\n        //   let lon=Math.random()*20+10;\n        //   this.mark.data.push({name:'test'+i,coord:[lat,lon],size:Math.random()*3})\n        // }\n        let opt = {\n          name: 'map1',\n          el: self.$refs.map,\n          // debugger:true,\n          geoData,\n          area:{\n            data:[],\n            loadEffect:true,\n            color:0x052659,\n            lineColor:0x1481ba,\n            opacity:.5,\n          },\n          mark:{\n            data:[],\n            color:0xffffff,\n          },\n          line:{\n              data:[],\n             \n            hoverExclusive:false\n          },\n\n        }\n\n        geoData.features.forEach((i)=>{\n          //点数据\n          opt.mark.data.push({name:i.properties.name,color:0xcaffff,coord:i.properties.cp,size:Math.random()*0.5});\n          //线数据\n          opt.line.data.push({fromName:i.properties.name,\n            toName:'北京',\n            haloDensity:10,\n            hasHalo:true,\n            hasHaloAnimate:false,\n            spaceHeight:Math.random() * 20,\n            color:0x0dbdff,\n            haloColor:0x052659,\n            haloSize:Math.random() * 10,\n            coords:[i.properties.cp,[116.4551,40.2539]],\n            value:Math.random()*7});\n        })\n\n\n        let map = new Map3D(opt);\n        map.setCameraPosition({x:-2,y:-26,z:30},1000,300);\n\n        map.addEventListener('mousedown', function (event) {\n          let area = event.target;\n          if(area.type==='Area'){\n\n            let data=[];\n            let color = Math.random() * 0xffffff;\n            geoData.features.forEach((i)=>{\n              //线数据\n              data.push({\n                fromName:i.properties.name,\n                toName:area.name,\n                haloDensity:10,\n                spaceHeight:8,\n                haloRunRate:0.05,\n                color:color,\n                haloSize:Math.random()*10,\n                haloColor:0xffffff,\n                coords:[i.properties.cp,area.userData.cp],\n                value:Math.random()*1});\n\n            })\n            data.push({\n              fromName:area.name,\n              toName:area.name,\n              haloDensity:10,\n              spaceHeight:10,\n              haloRunRate:0.5,\n              color:color,\n              haloSize:12,\n              coords:[area.userData.cp,area.userData.cp],\n              value:Math.random()*1});\n\n            map.initLine({data});\n            //map.mark.data=[];\n           // map.mark.data.push({name:'台风-依安',coord:[116,23],value:2,color:0xff0000,size:4,value:12},);\n           // map.initMark();\n          }\n        });\n\n        map.addEventListener('mouseout', (event) => {\n          let obj = event.target;\n          self.isOverMap = false;\n\n          if(obj.type==='Line')\n          {\n\n          }\n        });\n        var haloColorR,haloColorG,haloColorB;\n        map.addEventListener('mouseover', (event) => {\n          let obj = event.target;\n          if(obj.type==='Line')\n          {\n            self.mapName = obj.userData.fromName +'-'+obj.userData.toName;\n\n          }\n          else\n          {\n            self.mapName = obj.userData.name + ':'+obj.userData.value;\n          }\n          self.isOverMap = true;\n          self.mapTitlePositon.left = $(window).scrollLeft() + event.clientX + 20 + 'px';\n          self.mapTitlePositon.top = $(window).scrollTop() + event.clientY + 20 + 'px';\n        })\n\n        map.addEventListener('resize', function (event) {\n          console.log('map resize...');\n        });\n        // map.addCameraPosition({x:-30,y:15,z:15},1000)\n        //map.setPosition({x:-13,y:0,z:35})\n      });\n\n\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n  @import './../../assets/css/index.sass';\n\n  .wrap {\n    background-image: url('./../../assets/img/bg2.jpg');\n  }\n\n  .map {\n    width: 100%;\n    height: 100%;\n  }\n\n  .map-title {\n    border-radius: 5px;\n    border: 1px solid #ddd;\n    color: #eee;\n    background: rgba(0, 0, 0, .4);\n    position: absolute;\n    z-index: 2;\n    opacity: 0;\n    padding: 15px;\n    text-align: center;\n    transition: all .2s;\n    pointer-events: none;\n  }\n\n  .map-title-over {\n    opacity: 1;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/map3d/line.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cdb111d6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./line.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./line.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cdb111d6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./line.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cdb111d6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/map3d/line.vue\n// module id = bWYS\n// module chunks = 1","import * as THREE from './three.js'\n\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finger swipe\n\nfunction OrbitControls ( object, domElement ) {\n\n  this.object = object;\n\n  this.domElement = ( domElement !== undefined ) ? domElement : document;\n\n  // Set to false to disable this control\n  this.enabled = true;\n\n  // \"target\" sets the location of focus, where the object orbits around\n  this.target = new THREE.Vector3();\n\n  // How far you can dolly in and out ( PerspectiveCamera only )\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n\n  // How far you can zoom in and out ( OrthographicCamera only )\n  this.minZoom = 0;\n  this.maxZoom = Infinity;\n\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  this.minPolarAngle = 0; // radians\n  this.maxPolarAngle = Math.PI; // radians\n\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n  this.minAzimuthAngle = - Infinity; // radians\n  this.maxAzimuthAngle = Infinity; // radians\n\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n  this.enableDamping = false;\n  this.dampingFactor = 0.25;\n\n  // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n  this.enableZoom = true;\n  this.zoomSpeed = 1.0;\n\n  // Set to false to disable rotating\n  this.enableRotate = true;\n  this.rotateSpeed = 1.0;\n\n  // Set to false to disable panning\n  this.enablePan = true;\n  this.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n  this.autoRotate = false;\n  this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n  // Set to false to disable use of the keys\n  this.enableKeys = true;\n\n  // The four arrow keys\n  this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n  // Mouse buttons\n  this.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n  // for reset\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.zoom0 = this.object.zoom;\n\n  //\n  // public methods\n  //\n\n  this.getPolarAngle = function () {\n\n    return spherical.phi;\n\n  };\n\n  this.getAzimuthalAngle = function () {\n\n    return spherical.theta;\n\n  };\n\n  this.saveState = function () {\n\n    scope.target0.copy( scope.target );\n    scope.position0.copy( scope.object.position );\n    scope.zoom0 = scope.object.zoom;\n\n  };\n\n  this.reset = function () {\n\n    scope.target.copy( scope.target0 );\n    scope.object.position.copy( scope.position0 );\n    scope.object.zoom = scope.zoom0;\n\n    scope.object.updateProjectionMatrix();\n    scope.dispatchEvent( changeEvent );\n\n    scope.update();\n\n    state = STATE.NONE;\n\n  };\n\n  // this method is exposed, but perhaps it would be better if we can make it private...\n  this.update = function () {\n\n    var offset = new THREE.Vector3();\n\n    // so camera.up is the orbit axis\n    var quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n    var quatInverse = quat.clone().inverse();\n\n    var lastPosition = new THREE.Vector3();\n    var lastQuaternion = new THREE.Quaternion();\n\n    return function update() {\n\n      var position = scope.object.position;\n\n      offset.copy( position ).sub( scope.target );\n\n      // rotate offset to \"y-axis-is-up\" space\n      offset.applyQuaternion( quat );\n\n      // angle from z-axis around y-axis\n      spherical.setFromVector3( offset );\n\n      if ( scope.autoRotate && state === STATE.NONE ) {\n\n        rotateLeft( getAutoRotationAngle() );\n\n      }\n\n      spherical.theta += sphericalDelta.theta;\n      spherical.phi += sphericalDelta.phi;\n\n      // restrict theta to be between desired limits\n      spherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n      // restrict phi to be between desired limits\n      spherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n      spherical.makeSafe();\n\n\n      spherical.radius *= scale;\n\n      // restrict radius to be between desired limits\n      spherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n      // move target to panned location\n      scope.target.add( panOffset );\n\n      offset.setFromSpherical( spherical );\n\n      // rotate offset back to \"camera-up-vector-is-up\" space\n      offset.applyQuaternion( quatInverse );\n\n      position.copy( scope.target ).add( offset );\n\n      scope.object.lookAt( scope.target );\n\n      if ( scope.enableDamping === true ) {\n\n        sphericalDelta.theta *= ( 1 - scope.dampingFactor );\n        sphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n      } else {\n\n        sphericalDelta.set( 0, 0, 0 );\n\n      }\n\n      scale = 1;\n      panOffset.set( 0, 0, 0 );\n\n      // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if ( zoomChanged ||\n        lastPosition.distanceToSquared( scope.object.position ) > EPS ||\n        8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n        scope.dispatchEvent( changeEvent );\n\n        lastPosition.copy( scope.object.position );\n        lastQuaternion.copy( scope.object.quaternion );\n        zoomChanged = false;\n\n        return true;\n\n      }\n\n      return false;\n\n    };\n\n  }();\n\n  this.dispose = function () {\n\n    scope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n    scope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n    scope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n    scope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n    scope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n    scope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n    document.removeEventListener( 'mousemove', onMouseMove, false );\n    document.removeEventListener( 'mouseup', onMouseUp, false );\n\n    window.removeEventListener( 'keydown', onKeyDown, false );\n\n    //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n  };\n\n  //\n  // internals\n  //\n\n  var scope = this;\n\n  var changeEvent = { type: 'change' };\n  var startEvent = { type: 'start' };\n  var endEvent = { type: 'end' };\n\n  var STATE = { NONE: - 1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n  var state = STATE.NONE;\n\n  var EPS = 0.000001;\n\n  // current position in spherical coordinates\n  var spherical = new THREE.Spherical();\n  var sphericalDelta = new THREE.Spherical();\n\n  var scale = 1;\n  var panOffset = new THREE.Vector3();\n  var zoomChanged = false;\n\n  var rotateStart = new THREE.Vector2();\n  var rotateEnd = new THREE.Vector2();\n  var rotateDelta = new THREE.Vector2();\n\n  var panStart = new THREE.Vector2();\n  var panEnd = new THREE.Vector2();\n  var panDelta = new THREE.Vector2();\n\n  var dollyStart = new THREE.Vector2();\n  var dollyEnd = new THREE.Vector2();\n  var dollyDelta = new THREE.Vector2();\n\n  function getAutoRotationAngle() {\n\n    return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n  }\n\n  function getZoomScale() {\n\n    return Math.pow( 0.95, scope.zoomSpeed );\n\n  }\n\n  function rotateLeft( angle ) {\n\n    sphericalDelta.theta -= angle;\n\n  }\n\n  function rotateUp( angle ) {\n\n    sphericalDelta.phi -= angle;\n\n  }\n\n  var panLeft = function () {\n\n    var v = new THREE.Vector3();\n\n    return function panLeft( distance, objectMatrix ) {\n\n      v.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n      v.multiplyScalar( - distance );\n\n      panOffset.add( v );\n\n    };\n\n  }();\n\n  var panUp = function () {\n\n    var v = new THREE.Vector3();\n\n    return function panUp( distance, objectMatrix ) {\n\n      v.setFromMatrixColumn( objectMatrix, 1 ); // get Y column of objectMatrix\n      v.multiplyScalar( distance );\n\n      panOffset.add( v );\n\n    };\n\n  }();\n\n  // deltaX and deltaY are in pixels; right and down are positive\n  var pan = function () {\n\n    var offset = new THREE.Vector3();\n\n    return function pan( deltaX, deltaY ) {\n\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n      if ( scope.object.isPerspectiveCamera ) {\n\n        // perspective\n        var position = scope.object.position;\n        offset.copy( position ).sub( scope.target );\n        var targetDistance = offset.length();\n\n        // half of the fov is center to top of screen\n        targetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n        // we actually don't use screenWidth, since perspective camera is fixed to screen height\n        panLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n        panUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n      } else if ( scope.object.isOrthographicCamera ) {\n\n        // orthographic\n        panLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n        panUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n      } else {\n\n        // camera neither orthographic nor perspective\n        console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n        scope.enablePan = false;\n\n      }\n\n    };\n\n  }();\n\n  function dollyIn( dollyScale ) {\n\n    if ( scope.object.isPerspectiveCamera ) {\n\n      scale /= dollyScale;\n\n    } else if ( scope.object.isOrthographicCamera ) {\n\n      scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n\n    } else {\n\n      console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n      scope.enableZoom = false;\n\n    }\n\n  }\n\n  function dollyOut( dollyScale ) {\n\n    if ( scope.object.isPerspectiveCamera ) {\n\n      scale *= dollyScale;\n\n    } else if ( scope.object.isOrthographicCamera ) {\n\n      scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n\n    } else {\n\n      console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n      scope.enableZoom = false;\n\n    }\n\n  }\n\n  //\n  // event callbacks - update the object state\n  //\n\n  function handleMouseDownRotate( event ) {\n\n    //console.log( 'handleMouseDownRotate' );\n\n    rotateStart.set( event.clientX, event.clientY );\n\n  }\n\n  function handleMouseDownDolly( event ) {\n\n    //console.log( 'handleMouseDownDolly' );\n\n    dollyStart.set( event.clientX, event.clientY );\n\n  }\n\n  function handleMouseDownPan( event ) {\n\n    //console.log( 'handleMouseDownPan' );\n\n    panStart.set( event.clientX, event.clientY );\n\n  }\n\n  function handleMouseMoveRotate( event ) {\n\n    //console.log( 'handleMouseMoveRotate' );\n\n    rotateEnd.set( event.clientX, event.clientY );\n    rotateDelta.subVectors( rotateEnd, rotateStart );\n\n    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    // rotating across whole screen goes 360 degrees around\n    rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n    // rotating up and down along whole screen attempts to go 360, but limited to 180\n    rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n    rotateStart.copy( rotateEnd );\n\n    scope.update();\n\n  }\n\n  function handleMouseMoveDolly( event ) {\n\n    //console.log( 'handleMouseMoveDolly' );\n\n    dollyEnd.set( event.clientX, event.clientY );\n\n    dollyDelta.subVectors( dollyEnd, dollyStart );\n\n    if ( dollyDelta.y > 0 ) {\n\n      dollyIn( getZoomScale() );\n\n    } else if ( dollyDelta.y < 0 ) {\n\n      dollyOut( getZoomScale() );\n\n    }\n\n    dollyStart.copy( dollyEnd );\n\n    scope.update();\n\n  }\n\n  function handleMouseMovePan( event ) {\n\n    //console.log( 'handleMouseMovePan' );\n\n    panEnd.set( event.clientX, event.clientY );\n\n    panDelta.subVectors( panEnd, panStart );\n\n    pan( panDelta.x, panDelta.y );\n\n    panStart.copy( panEnd );\n\n    scope.update();\n\n  }\n\n  function handleMouseUp( event ) {\n\n    // console.log( 'handleMouseUp' );\n\n  }\n\n  function handleMouseWheel( event ) {\n\n    // console.log( 'handleMouseWheel' );\n\n    if ( event.deltaY < 0 ) {\n\n      dollyOut( getZoomScale() );\n\n    } else if ( event.deltaY > 0 ) {\n\n      dollyIn( getZoomScale() );\n\n    }\n\n    scope.update();\n\n  }\n\n  function handleKeyDown( event ) {\n\n    //console.log( 'handleKeyDown' );\n\n    switch ( event.keyCode ) {\n\n      case scope.keys.UP:\n        pan( 0, scope.keyPanSpeed );\n        scope.update();\n        break;\n\n      case scope.keys.BOTTOM:\n        pan( 0, - scope.keyPanSpeed );\n        scope.update();\n        break;\n\n      case scope.keys.LEFT:\n        pan( scope.keyPanSpeed, 0 );\n        scope.update();\n        break;\n\n      case scope.keys.RIGHT:\n        pan( - scope.keyPanSpeed, 0 );\n        scope.update();\n        break;\n\n    }\n\n  }\n\n  function handleTouchStartRotate( event ) {\n\n    //console.log( 'handleTouchStartRotate' );\n\n    rotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n  }\n\n  function handleTouchStartDolly( event ) {\n\n    //console.log( 'handleTouchStartDolly' );\n\n    var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n    var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n    var distance = Math.sqrt( dx * dx + dy * dy );\n\n    dollyStart.set( 0, distance );\n\n  }\n\n  function handleTouchStartPan( event ) {\n\n    //console.log( 'handleTouchStartPan' );\n\n    panStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n  }\n\n  function handleTouchMoveRotate( event ) {\n\n    //console.log( 'handleTouchMoveRotate' );\n\n    rotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n    rotateDelta.subVectors( rotateEnd, rotateStart );\n\n    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    // rotating across whole screen goes 360 degrees around\n    rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n    // rotating up and down along whole screen attempts to go 360, but limited to 180\n    rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n    rotateStart.copy( rotateEnd );\n\n    scope.update();\n\n  }\n\n  function handleTouchMoveDolly( event ) {\n\n    //console.log( 'handleTouchMoveDolly' );\n\n    var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n    var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n    var distance = Math.sqrt( dx * dx + dy * dy );\n\n    dollyEnd.set( 0, distance );\n\n    dollyDelta.subVectors( dollyEnd, dollyStart );\n\n    if ( dollyDelta.y > 0 ) {\n\n      dollyOut( getZoomScale() );\n\n    } else if ( dollyDelta.y < 0 ) {\n\n      dollyIn( getZoomScale() );\n\n    }\n\n    dollyStart.copy( dollyEnd );\n\n    scope.update();\n\n  }\n\n  function handleTouchMovePan( event ) {\n\n    //console.log( 'handleTouchMovePan' );\n\n    panEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n    panDelta.subVectors( panEnd, panStart );\n\n    pan( panDelta.x, panDelta.y );\n\n    panStart.copy( panEnd );\n\n    scope.update();\n\n  }\n\n  function handleTouchEnd( event ) {\n\n    //console.log( 'handleTouchEnd' );\n\n  }\n\n  //\n  // event handlers - FSM: listen for events and reset state\n  //\n\n  function onMouseDown( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n\n    switch ( event.button ) {\n\n      case scope.mouseButtons.ORBIT:\n\n        if ( scope.enableRotate === false ) return;\n\n        handleMouseDownRotate( event );\n\n        state = STATE.ROTATE;\n\n        break;\n\n      case scope.mouseButtons.ZOOM:\n\n        if ( scope.enableZoom === false ) return;\n\n        handleMouseDownDolly( event );\n\n        state = STATE.DOLLY;\n\n        break;\n\n      case scope.mouseButtons.PAN:\n\n        if ( scope.enablePan === false ) return;\n\n        handleMouseDownPan( event );\n\n        state = STATE.PAN;\n\n        break;\n\n    }\n\n    if ( state !== STATE.NONE ) {\n\n      document.addEventListener( 'mousemove', onMouseMove, false );\n      document.addEventListener( 'mouseup', onMouseUp, false );\n\n      scope.dispatchEvent( startEvent );\n\n    }\n\n  }\n\n  function onMouseMove( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n\n    switch ( state ) {\n\n      case STATE.ROTATE:\n\n        if ( scope.enableRotate === false ) return;\n\n        handleMouseMoveRotate( event );\n\n        break;\n\n      case STATE.DOLLY:\n\n        if ( scope.enableZoom === false ) return;\n\n        handleMouseMoveDolly( event );\n\n        break;\n\n      case STATE.PAN:\n\n        if ( scope.enablePan === false ) return;\n\n        handleMouseMovePan( event );\n\n        break;\n\n    }\n\n  }\n\n  function onMouseUp( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    handleMouseUp( event );\n\n    document.removeEventListener( 'mousemove', onMouseMove, false );\n    document.removeEventListener( 'mouseup', onMouseUp, false );\n\n    scope.dispatchEvent( endEvent );\n\n    state = STATE.NONE;\n\n  }\n\n  function onMouseWheel( event ) {\n\n    if ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    handleMouseWheel( event );\n\n    scope.dispatchEvent( startEvent ); // not sure why these are here...\n    scope.dispatchEvent( endEvent );\n\n  }\n\n  function onKeyDown( event ) {\n\n    if ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n    handleKeyDown( event );\n\n  }\n\n  function onTouchStart( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    switch ( event.touches.length ) {\n\n      case 1:\t// one-fingered touch: rotate\n\n        if ( scope.enableRotate === false ) return;\n\n        handleTouchStartRotate( event );\n\n        state = STATE.TOUCH_ROTATE;\n\n        break;\n\n      case 2:\t// two-fingered touch: dolly\n\n        if ( scope.enableZoom === false ) return;\n\n        handleTouchStartDolly( event );\n\n        state = STATE.TOUCH_DOLLY;\n\n        break;\n\n      case 3: // three-fingered touch: pan\n\n        if ( scope.enablePan === false ) return;\n\n        handleTouchStartPan( event );\n\n        state = STATE.TOUCH_PAN;\n\n        break;\n\n      default:\n\n        state = STATE.NONE;\n\n    }\n\n    if ( state !== STATE.NONE ) {\n\n      scope.dispatchEvent( startEvent );\n\n    }\n\n  }\n\n  function onTouchMove( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch ( event.touches.length ) {\n\n      case 1: // one-fingered touch: rotate\n\n        if ( scope.enableRotate === false ) return;\n        if ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?...\n\n        handleTouchMoveRotate( event );\n\n        break;\n\n      case 2: // two-fingered touch: dolly\n\n        if ( scope.enableZoom === false ) return;\n        if ( state !== STATE.TOUCH_DOLLY ) return; // is this needed?...\n\n        handleTouchMoveDolly( event );\n\n        break;\n\n      case 3: // three-fingered touch: pan\n\n        if ( scope.enablePan === false ) return;\n        if ( state !== STATE.TOUCH_PAN ) return; // is this needed?...\n\n        handleTouchMovePan( event );\n\n        break;\n\n      default:\n\n        state = STATE.NONE;\n\n    }\n\n  }\n\n  function onTouchEnd( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    handleTouchEnd( event );\n\n    scope.dispatchEvent( endEvent );\n\n    state = STATE.NONE;\n\n  }\n\n  function onContextMenu( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n\n  }\n\n\n  scope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n  scope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n  scope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n  scope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n  scope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n  scope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n  window.addEventListener( 'keydown', onKeyDown, false );\n\n  // force an update at start\n\n  this.update();\n\n};\n\nOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nOrbitControls.prototype.constructor = OrbitControls;\n\nObject.defineProperties( OrbitControls.prototype, {\n\n  center: {\n\n    get: function () {\n\n      console.warn( 'THREE.OrbitControls: .center has been renamed to .target' );\n      return this.target;\n\n    }\n\n  },\n\n  // backward compatibility\n\n  noZoom: {\n\n    get: function () {\n\n      console.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n      return ! this.enableZoom;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n      this.enableZoom = ! value;\n\n    }\n\n  },\n\n  noRotate: {\n\n    get: function () {\n\n      console.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n      return ! this.enableRotate;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n      this.enableRotate = ! value;\n\n    }\n\n  },\n\n  noPan: {\n\n    get: function () {\n\n      console.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n      return ! this.enablePan;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n      this.enablePan = ! value;\n\n    }\n\n  },\n\n  noKeys: {\n\n    get: function () {\n\n      console.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n      return ! this.enableKeys;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n      this.enableKeys = ! value;\n\n    }\n\n  },\n\n  staticMoving: {\n\n    get: function () {\n\n      console.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n      return ! this.enableDamping;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n      this.enableDamping = ! value;\n\n    }\n\n  },\n\n  dynamicDampingFactor: {\n\n    get: function () {\n\n      console.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n      return this.dampingFactor;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n      this.dampingFactor = value;\n\n    }\n\n  }\n\n} );\n\nTHREE.OrbitControls=OrbitControls\n\n\"undefined\" != typeof module && module.exports && (module.exports = OrbitControls);\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/OrbitControls.js","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjgzMERBMkNCQTU1QzExRTZBNkEzODEyOTI1ODc0QjZCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjgzMERBMkNDQTU1QzExRTZBNkEzODEyOTI1ODc0QjZCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODMwREEyQzlBNTVDMTFFNkE2QTM4MTI5MjU4NzRCNkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODMwREEyQ0FBNTVDMTFFNkE2QTM4MTI5MjU4NzRCNkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6QNZdqAAAOVklEQVR42uSb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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/logo.png\n// module id = dLd/\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"map\",staticClass:\"map\"}),_vm._v(\" \"),_c('div',{class:['map-title',_vm.isOverMap ? 'map-title-over' : ''],style:(_vm.mapTitlePositon),attrs:{\"id\":\"\"}},[_vm._v(_vm._s(_vm.mapName))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-78bf1d33\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/map3d/mark.vue\n// module id = dOvh\n// module chunks = 1","<template>\n    <div class=\"wrap\" ref='wrap'></div>\n</template>\n\n<script type=\"text/javascript\">\n   import Nebula from 'assets/js/Nebula.js'\n   import $ from 'assets/js/jquery-1.9.0.js'\n\n    export default {\n        name: 'Nebula',\n        title:'星云',\n\n        created(){\n            //this.$emit('setTitle', this.title);\n            console.log(this.$route.params.title)\n        },\n        mounted(){\n\n            this.$data.title='nebula';\n               let opt={\n                   el:this.$refs.wrap,\n                   pointsCloud:[\n                       {count:50000,color:0xf1d6ef,size:1,opacity:.8,offset:0.0003},\n                       {count:10000,color:0x3366ff,size:1,opacity:1,offset:0.0001},\n                       {count:10000,color:0xff0000,size:1,offset:0.00005},\n                   ],\n               }\n\n               let nebula = new Nebula(opt);\n               nebula.rotate({x:2*Math.PI},1000);\n\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n .wrap{\n   background-image:url('./../../assets/img/bg.jpg');\n }\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/pages/nebula/index.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-78bf1d33\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./mark.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./mark.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-78bf1d33\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./mark.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-78bf1d33\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/map3d/mark.vue\n// module id = gVf+\n// module chunks = 1","<template>\n  <div class=\"wrap\">\n    <div class=\"map\" ref='map'></div>\n    <div id=\"\" :class=\"['map-title',isOverMap ? 'map-title-over' : '']\" :style=\"mapTitlePositon\">{{mapName}}</div>\n  </div>\n\n</template>\n\n<script>\n  import Map3D from 'assets/js/Map3D.js'\n\n\n  export default {\n    name: 'map3d',\n    title: '地图-标注点',\n\n    data () {\n      return {\n        isOverMap: false,\n        mapName: '',\n        mapTitlePositon: {\n          left: '800px',\n          top: '600px'\n        },\n      }\n    },\n    methods: {\n      openProvMap(){\n        self.mapActiveLevel = 'province';\n        map.disable();\n        map1.disable(false);\n      },\n      openChinaMap(){\n        self.mapActiveLevel = 'china';\n        map1.disable();\n        map.disable(false);\n      }\n    },\n    mounted(){\n      self = this;\n\n      $.getJSON(\"./static/mapdata/china.json\", (geoData) => {\n\n        // for(let i=0;i<1000;i++){\n        //   let lat=Math.random()*100+50;\n        //   let lon=Math.random()*20+10;\n        //   this.mark.data.push({name:'test'+i,coord:[lat,lon],size:Math.random()*3})\n        // }\n        let opt = {\n          name: 'map1',\n          el: self.$refs.map,\n          geoData,\n        //  debugger: true,\n\n          mark:{\n            data:[\n                {name:'台风-依安',coord:[116,23],value:2,color:0xff0000,size:4,value:12},\n                {name:'台风-戴旭',coord:[120,36],value:2,color:0xff0000,size:3,value:11}\n                ],\n            color:0xffffff,\n          }\n        }\n\n        //点数据\n//        geoData.features.forEach((geo)=>{\n//          opt.mark.data.push({name:geo.properties.name,coord:geo.properties.cp,color:0xffffff,size:Math.random()*1})\n//        })\n\n        let map = new Map3D(opt);\n\n        //事件\n        map.addEventListener('mousedown', function (event) {\n          let area = event.target;\n          area.setColor('#ff6666', 500);\n        });\n\n        map.addEventListener('mouseout', (event) => {\n          let obj = event.target;\n          console.log(obj.type+':out')\n          self.isOverMap = false;\n\n        });\n\n        map.addEventListener('mouseover', (event) => {\n          let obj = event.target;\n          console.log(obj.type+':over...')\n          self.mapName = obj.userData.name;\n          self.isOverMap = true;\n          self.mapTitlePositon.left = $(window).scrollLeft() + event.clientX + 20 + 'px';\n          self.mapTitlePositon.top = $(window).scrollTop() + event.clientY + 20 + 'px';\n        })\n\n\n      });\n\n\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n  @import './../../assets/css/index.sass';\n\n  .wrap {\n    background-image: url('./../../assets/img/bg2.jpg');\n  }\n\n  .map {\n    width: 100%;\n    height: 100%;\n  }\n\n  .map-title {\n    border-radius: 5px;\n    border: 1px solid #ddd;\n    color: #eee;\n    background: rgba(0, 0, 0, .4);\n    position: absolute;\n    z-index: 2;\n    opacity: 0;\n    padding: 15px;\n    text-align: center;\n    transition: all .2s;\n    pointer-events: none;\n  }\n\n  .map-title-over {\n    opacity: 1;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/map3d/mark.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9b7a517e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./world.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./world.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9b7a517e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./world.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9b7a517e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/map3d/world.vue\n// module id = irRU\n// module chunks = 1","/**\n * 3D地图.数据范围\n * Created by jusfoun-fe.github.io on 2017/11/19.\n * @author 九次方前端研发部-朱润亚 <zhu18@vip.qq.com>\n * @version beta v1.0.3\n * @module Map3D\n */\n\nimport * as THREE from './three.js'\nimport TWEEN from './tween.min.js'\nimport * as $ from './util'\n\n/**\n * 数据范围\n * @class\n * @extends THREE.Mesh\n */\nclass DataRange extends THREE.Object3D{\n  constructor(pros){\n    super(pros)\n    this.type=\"DataRange\";\n    this.name=pros.name;\n    Object.assign(this.userData,pros);\n    let boxGeo = new THREE.BoxGeometry(pros.width,pros.height,pros.extrudeHeight);\n    let boxMate = new THREE.MeshPhongMaterial({color:pros.color});\n    let range = new THREE.Mesh(boxGeo,boxMate);\n\n    this.position.y = this.position.y - DataRange.count * (pros.height + pros.spacing);\n    if(pros.showName){\n      let txt = Font3D.create(pros.name,{color:'#ffffff'});\n      txt.position.copy(range.position)\n      txt.position.y = txt.position.y - 0.3;\n      txt.position.add(pros.namePosition)\n      this.add(txt);\n      this.txt=txt;\n    }\n\n    this.mesh=range;\n    this.add(range);\n    DataRange.count++;\n  }\n\n  /**\n   * 选中并返回其关联区域\n   * @returns {Area[]}\n   */\n  select(){\n    return this.rangeAreas.map((area)=>{\n      area.setColor(this.userData.hoverColor);\n      if(area.userData.hasHoverHeight) {\n        new TWEEN.Tween(area.position).to({z:area.userData.extrude.amount/2}, area.userData.hoverAnimaTime).start();\n      }\n    })\n  }\n\n  /**\n   * 取消选中状态\n   */\n  unselect(){\n    this.rangeAreas.map((area)=>{\n      area.setColor(this.userData.color);\n        if(area.userData.hasHoverHeight) {\n          new TWEEN.Tween(area.position).to({z:0}, area.userData.hoverAnimaTime).start();\n        }\n    })\n  }\n  onmouseout(dispatcher,event){\n    this.unselect();\n    new TWEEN.Tween(this.mesh.material.color).to(new THREE.Color($.colorToHex(this.userData.color)), this.userData.hoverAnimaTime).start();\n    if(!this.userData.hasEvent)return\n    dispatcher.dispatchEvent({ type: 'mouseout', target:this, orgEvent:event});\n  }\n  onmouseover(dispatcher,event){\n    this.select();\n    new TWEEN.Tween(this.mesh.material.color).to(new THREE.Color($.colorToHex(this.userData.hoverColor)), this.userData.hoverAnimaTime).start();\n    if(!this.userData.hasEvent)return\n    dispatcher.dispatchEvent({ type: 'mouseover', target:this, orgEvent:event});\n  }\n  onmousedown(dispatcher,event){\n    if(!this.userData.hasEvent)return\n    dispatcher.dispatchEvent({ type: 'mousedown', target:this, orgEvent:event});\n  }\n}\n/**\n * 数据范围数量\n * @static\n * @type {number}\n */\nDataRange.count=0;\n\n\nexport default DataRange\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/Map3D.DataRange.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"map\",staticClass:\"map\"}),_vm._v(\" \"),_c('div',{class:['map-title',_vm.isOverMap ? 'map-title-over' : ''],style:(_vm.mapTitlePositon),attrs:{\"id\":\"\"}},[_vm._v(_vm._s(_vm.mapName))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6bc9cb56\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/map3d/dataRange.vue\n// module id = k1rJ\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a638251e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a638251e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a638251e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a638251e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/galaxy/index.vue\n// module id = kDvs\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrap\",staticClass:\"wrap\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-31537f88\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/nebula/index.vue\n// module id = kEL9\n// module chunks = 1","// tween.js v.0.15.0 https://github.com/sole/tween.js\nvoid 0 === Date.now && (Date.now = function () {\n  return (new Date).valueOf()\n});\nvar TWEEN = TWEEN || function () {\n    var n = [];\n    return {\n      REVISION: \"14\", getAll: function () {\n        return n\n      }, removeAll: function () {\n        n = []\n      }, add: function (t) {\n        n.push(t)\n      }, remove: function (t) {\n        var r = n.indexOf(t);\n        -1 !== r && n.splice(r, 1)\n      }, update: function (t) {\n        if (0 === n.length)return !1;\n        var r = 0;\n        for (t = void 0 !== t ? t : \"undefined\" != typeof window && void 0 !== window.performance && void 0 !== window.performance.now ? window.performance.now() : Date.now(); r < n.length;)n[r].update(t) ? r++ : n.splice(r, 1);\n        return !0\n      }\n    }\n  }();\nTWEEN.Tween = function (n) {\n  var t = n, r = {}, i = {}, u = {}, o = 1e3, e = 0, a = !1, f = !1, c = !1, s = 0, h = null,\n    l = TWEEN.Easing.Linear.None, p = TWEEN.Interpolation.Linear, E = [], d = null, v = !1, I = null, w = null,\n    M = null;\n  for (var O in n)r[O] = parseFloat(n[O], 10);\n  this.to = function (n, t) {\n    return void 0 !== t && (o = t), i = n, this\n  }, this.start = function (n) {\n    TWEEN.add(this), f = !0, v = !1, h = void 0 !== n ? n : \"undefined\" != typeof window && void 0 !== window.performance && void 0 !== window.performance.now ? window.performance.now() : Date.now(), h += s;\n    for (var o in i) {\n      if (i[o] instanceof Array) {\n        if (0 === i[o].length)continue;\n        i[o] = [t[o]].concat(i[o])\n      }\n      r[o] = t[o], r[o] instanceof Array == !1 && (r[o] *= 1), u[o] = r[o] || 0\n    }\n    return this\n  }, this.stop = function () {\n    return f ? (TWEEN.remove(this), f = !1, null !== M && M.call(t), this.stopChainedTweens(), this) : this\n  }, this.stopChainedTweens = function () {\n    for (var n = 0, t = E.length; t > n; n++)E[n].stop()\n  }, this.delay = function (n) {\n    return s = n, this\n  }, this.repeat = function (n) {\n    return e = n, this\n  }, this.yoyo = function (n) {\n    return a = n, this\n  }, this.easing = function (n) {\n    return l = n, this\n  }, this.interpolation = function (n) {\n    return p = n, this\n  }, this.chain = function () {\n    return E = arguments, this\n  }, this.onStart = function (n) {\n    return d = n, this\n  }, this.onUpdate = function (n) {\n    return I = n, this\n  }, this.onComplete = function (n) {\n    return w = n, this\n  }, this.onStop = function (n) {\n    return M = n, this\n  }, this.update = function (n) {\n    var f;\n    if (h > n)return !0;\n    v === !1 && (null !== d && d.call(t), v = !0);\n    var M = (n - h) / o;\n    M = M > 1 ? 1 : M;\n    var O = l(M);\n    for (f in i) {\n      var m = r[f] || 0, N = i[f];\n      N instanceof Array ? t[f] = p(N, O) : (\"string\" == typeof N && (N = m + parseFloat(N, 10)), \"number\" == typeof N && (t[f] = m + (N - m) * O))\n    }\n    if (null !== I && I.call(t, O), 1 == M) {\n      if (e > 0) {\n        isFinite(e) && e--;\n        for (f in u) {\n          if (\"string\" == typeof i[f] && (u[f] = u[f] + parseFloat(i[f], 10)), a) {\n            var T = u[f];\n            u[f] = i[f], i[f] = T\n          }\n          r[f] = u[f]\n        }\n        return a && (c = !c), h = n + s, !0\n      }\n      null !== w && w.call(t);\n      for (var g = 0, W = E.length; W > g; g++)E[g].start(n);\n      return !1\n    }\n    return !0\n  }\n}, TWEEN.Easing = {\n  Linear: {\n    None: function (n) {\n      return n\n    }\n  }, Quadratic: {\n    In: function (n) {\n      return n * n\n    }, Out: function (n) {\n      return n * (2 - n)\n    }, InOut: function (n) {\n      return (n *= 2) < 1 ? .5 * n * n : -.5 * (--n * (n - 2) - 1)\n    }\n  }, Cubic: {\n    In: function (n) {\n      return n * n * n\n    }, Out: function (n) {\n      return --n * n * n + 1\n    }, InOut: function (n) {\n      return (n *= 2) < 1 ? .5 * n * n * n : .5 * ((n -= 2) * n * n + 2)\n    }\n  }, Quartic: {\n    In: function (n) {\n      return n * n * n * n\n    }, Out: function (n) {\n      return 1 - --n * n * n * n\n    }, InOut: function (n) {\n      return (n *= 2) < 1 ? .5 * n * n * n * n : -.5 * ((n -= 2) * n * n * n - 2)\n    }\n  }, Quintic: {\n    In: function (n) {\n      return n * n * n * n * n\n    }, Out: function (n) {\n      return --n * n * n * n * n + 1\n    }, InOut: function (n) {\n      return (n *= 2) < 1 ? .5 * n * n * n * n * n : .5 * ((n -= 2) * n * n * n * n + 2)\n    }\n  }, Sinusoidal: {\n    In: function (n) {\n      return 1 - Math.cos(n * Math.PI / 2)\n    }, Out: function (n) {\n      return Math.sin(n * Math.PI / 2)\n    }, InOut: function (n) {\n      return .5 * (1 - Math.cos(Math.PI * n))\n    }\n  }, Exponential: {\n    In: function (n) {\n      return 0 === n ? 0 : Math.pow(1024, n - 1)\n    }, Out: function (n) {\n      return 1 === n ? 1 : 1 - Math.pow(2, -10 * n)\n    }, InOut: function (n) {\n      return 0 === n ? 0 : 1 === n ? 1 : (n *= 2) < 1 ? .5 * Math.pow(1024, n - 1) : .5 * (-Math.pow(2, -10 * (n - 1)) + 2)\n    }\n  }, Circular: {\n    In: function (n) {\n      return 1 - Math.sqrt(1 - n * n)\n    }, Out: function (n) {\n      return Math.sqrt(1 - --n * n)\n    }, InOut: function (n) {\n      return (n *= 2) < 1 ? -.5 * (Math.sqrt(1 - n * n) - 1) : .5 * (Math.sqrt(1 - (n -= 2) * n) + 1)\n    }\n  }, Elastic: {\n    In: function (n) {\n      var t, r = .1, i = .4;\n      return 0 === n ? 0 : 1 === n ? 1 : (!r || 1 > r ? (r = 1, t = i / 4) : t = i * Math.asin(1 / r) / (2 * Math.PI), -(r * Math.pow(2, 10 * (n -= 1)) * Math.sin(2 * (n - t) * Math.PI / i)))\n    }, Out: function (n) {\n      var t, r = .1, i = .4;\n      return 0 === n ? 0 : 1 === n ? 1 : (!r || 1 > r ? (r = 1, t = i / 4) : t = i * Math.asin(1 / r) / (2 * Math.PI), r * Math.pow(2, -10 * n) * Math.sin(2 * (n - t) * Math.PI / i) + 1)\n    }, InOut: function (n) {\n      var t, r = .1, i = .4;\n      return 0 === n ? 0 : 1 === n ? 1 : (!r || 1 > r ? (r = 1, t = i / 4) : t = i * Math.asin(1 / r) / (2 * Math.PI), (n *= 2) < 1 ? -.5 * r * Math.pow(2, 10 * (n -= 1)) * Math.sin(2 * (n - t) * Math.PI / i) : r * Math.pow(2, -10 * (n -= 1)) * Math.sin(2 * (n - t) * Math.PI / i) * .5 + 1)\n    }\n  }, Back: {\n    In: function (n) {\n      var t = 1.70158;\n      return n * n * ((t + 1) * n - t)\n    }, Out: function (n) {\n      var t = 1.70158;\n      return --n * n * ((t + 1) * n + t) + 1\n    }, InOut: function (n) {\n      var t = 2.5949095;\n      return (n *= 2) < 1 ? .5 * n * n * ((t + 1) * n - t) : .5 * ((n -= 2) * n * ((t + 1) * n + t) + 2)\n    }\n  }, Bounce: {\n    In: function (n) {\n      return 1 - TWEEN.Easing.Bounce.Out(1 - n)\n    }, Out: function (n) {\n      return 1 / 2.75 > n ? 7.5625 * n * n : 2 / 2.75 > n ? 7.5625 * (n -= 1.5 / 2.75) * n + .75 : 2.5 / 2.75 > n ? 7.5625 * (n -= 2.25 / 2.75) * n + .9375 : 7.5625 * (n -= 2.625 / 2.75) * n + .984375\n    }, InOut: function (n) {\n      return .5 > n ? .5 * TWEEN.Easing.Bounce.In(2 * n) : .5 * TWEEN.Easing.Bounce.Out(2 * n - 1) + .5\n    }\n  }\n}, TWEEN.Interpolation = {\n  Linear: function (n, t) {\n    var r = n.length - 1, i = r * t, u = Math.floor(i), o = TWEEN.Interpolation.Utils.Linear;\n    return 0 > t ? o(n[0], n[1], i) : t > 1 ? o(n[r], n[r - 1], r - i) : o(n[u], n[u + 1 > r ? r : u + 1], i - u)\n  }, Bezier: function (n, t) {\n    var r, i = 0, u = n.length - 1, o = Math.pow, e = TWEEN.Interpolation.Utils.Bernstein;\n    for (r = 0; u >= r; r++)i += o(1 - t, u - r) * o(t, r) * n[r] * e(u, r);\n    return i\n  }, CatmullRom: function (n, t) {\n    var r = n.length - 1, i = r * t, u = Math.floor(i), o = TWEEN.Interpolation.Utils.CatmullRom;\n    return n[0] === n[r] ? (0 > t && (u = Math.floor(i = r * (1 + t))), o(n[(u - 1 + r) % r], n[u], n[(u + 1) % r], n[(u + 2) % r], i - u)) : 0 > t ? n[0] - (o(n[0], n[0], n[1], n[1], -i) - n[0]) : t > 1 ? n[r] - (o(n[r], n[r], n[r - 1], n[r - 1], i - r) - n[r]) : o(n[u ? u - 1 : 0], n[u], n[u + 1 > r ? r : u + 1], n[u + 2 > r ? r : u + 2], i - u)\n  }, Utils: {\n    Linear: function (n, t, r) {\n      return (t - n) * r + n\n    }, Bernstein: function (n, t) {\n      var r = TWEEN.Interpolation.Utils.Factorial;\n      return r(n) / r(t) / r(n - t)\n    }, Factorial: function () {\n      var n = [1];\n      return function (t) {\n        var r, i = 1;\n        if (n[t])return n[t];\n        for (r = t; r > 1; r--)i *= r;\n        return n[t] = i\n      }\n    }(), CatmullRom: function (n, t, r, i, u) {\n      var o = .5 * (r - n), e = .5 * (i - t), a = u * u, f = u * a;\n      return (2 * t - 2 * r + o + e) * f + (-3 * t + 3 * r - 2 * o - e) * a + o * u + t\n    }\n  }\n};\n\nexport default TWEEN;\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/tween.min.js","/**\n * Created by zhu18.github.io on 2017/11/12.\n * three event\n */\nimport * as THREE from './three.js'\n\n/*\n* 参数格式\nlet opt={\n    el:domElement,\n    scene:null,\n    camera:null,\n    renderer:null,\n    _onResize:'[function]',\n    _onMouseMove:'[function]',\n    _onMouseDown:'[function]'\n}\n*/\nexport default class Event{\n    constructor(o){\n        this.__raycaster = new THREE.Raycaster();\n        this.__mouse = new THREE.Vector2();\n        this.__resize=o.__proto__._onResize;\n        this.__mousemove=o.__proto__._onMouseMove;\n        this.__mousedown=o.__proto__._onMouseDown;\n        this.target=o;\n        Object.assign(this,o);\n        if(!this.camera && !this.renderer && !this.el)\n        {\n          console.warn('THREE.Event:not find camera, renderer, domElement,Please ensure that it is a valid 3D control');\n          return;\n        }\n        if(!this.__resize && !this.__mousemove && !this.__mousedown)\n        {\n          console.warn('THREE.Event:Users need to implement _onResize(),_onMouseMove(),_onMouseDown() method');\n          return;\n        }\n\n\n        this.__resize__ = this.onWindowResize.bind(this);\n        this.__mousemove__ = this.onDocumentMouseMove.bind(this);\n        this.__touchstart__ = this.onDocumentTouchStart.bind(this);\n        this.__mousedown__ = this.onDocumentMouseDown.bind(this);\n        this.mousemove_timer=null;\n        this.mousemove_interval=10;\n        this.enable=true;\n\n        if(this.__resize){\n            window.addEventListener('resize', this.__resize__, false);\n        }\n        if(this.__mousemove){\n            this.el.addEventListener('mousemove', this.__mousemove__, false );\n\n        }\n        if(this.__mousedown) {\n            this.el.addEventListener('touchstart', this.__touchstart__, false );\n            this.el.addEventListener('mousedown', this.__mousedown__, false );\n        }\n\n    }\n    dispose(){\n        window.removeEventListener('resize', this.__resize__, false);\n        this.el.removeEventListener('mousemove', this.__mousemove__, false);\n        this.el.removeEventListener('touchstart', this.__touchstart__, false);\n        this.el.removeEventListener('mousedown', this.__mousedown__, false);\n    }\n\n    onWindowResize(event) {\n        this.camera.aspect = this.el.offsetWidth/ this.el.offsetHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize( this.el.offsetWidth, this.el.offsetHeight );\n        this.enable && this.__resize.bind(this.target)(event);\n    }\n    onDocumentMouseMove( event ) {\n        event.preventDefault();\n        this.mousemove_timer && clearTimeout(this.mousemove_timer);\n        this.mousemove_timer=setTimeout(()=>{\n          this.__mouse.x = ( event.offsetX  / this.el.offsetWidth ) * 2 - 1;\n          this.__mouse.y = - ( event.offsetY  / this.el.offsetHeight ) * 2 + 1;\n          this.__raycaster.setFromCamera( this.__mouse, this.camera );\n          let intersects = this.__raycaster.intersectObjects( this.scene.children ,true);\n\n          this.enable && this.__mousemove.bind(this.target)(event,intersects);\n        },this.mousemove_interval)\n\n    }\n\n\n    onDocumentTouchStart( event ) {\n        event.preventDefault();\n        event.clientX = event.touches[0].pageX;\n        event.clientY = event.touches[0].pageY;\n        this.enable && this.onDocumentMouseDown( event );\n\n    }\n\n    onDocumentMouseDown( event ) {\n        event.preventDefault();\n        this.__mouse.x = ( (event.offsetX ||event.clientX)  / this.el.offsetWidth ) * 2 - 1;\n        this.__mouse.y = - ( (event.offsetY ||event.clientY)  / this.el.offsetHeight ) * 2 + 1;\n        this.__raycaster.setFromCamera( this.__mouse, this.camera );\n        let intersects = this.__raycaster.intersectObjects( this.scene.children ,true);\n        this.enable && this.__mousedown.bind(this.target)(event,intersects);\n    }\n}\nTHREE.Event = Event;\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/Event.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{ref:\"map\",staticClass:\"map\"}),_vm._v(\" \"),_c('div',{class:['map-title',_vm.isOverMap ? 'map-title-over' : ''],style:(_vm.mapTitlePositon),attrs:{\"id\":\"\"}},[_vm._v(_vm._s(_vm.mapName))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cdb111d6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/map3d/line.vue\n// module id = oEnh\n// module chunks = 1","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Stats = function () {\n\n\tvar startTime = Date.now(), prevTime = startTime;\n\tvar ms = 0, msMin = Infinity, msMax = 0;\n\tvar fps = 0, fpsMin = Infinity, fpsMax = 0;\n\tvar frames = 0, mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.id = 'stats';\n\tcontainer.addEventListener( 'mousedown', function ( event ) { event.preventDefault(); setMode( ++ mode % 2 ) }, false );\n\tcontainer.style.cssText = 'width:80px;opacity:0.9;cursor:pointer';\n\n\tvar fpsDiv = document.createElement( 'div' );\n\tfpsDiv.id = 'fps';\n\tfpsDiv.style.cssText = 'padding:0 0 3px 3px;text-align:left;background-color:#002';\n\tcontainer.appendChild( fpsDiv );\n\n\tvar fpsText = document.createElement( 'div' );\n\tfpsText.id = 'fpsText';\n\tfpsText.style.cssText = 'color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px';\n\tfpsText.innerHTML = 'FPS';\n\tfpsDiv.appendChild( fpsText );\n\n\tvar fpsGraph = document.createElement( 'div' );\n\tfpsGraph.id = 'fpsGraph';\n\tfpsGraph.style.cssText = 'position:relative;width:74px;height:30px;background-color:#0ff';\n\tfpsDiv.appendChild( fpsGraph );\n\n\twhile ( fpsGraph.children.length < 74 ) {\n\n\t\tvar bar = document.createElement( 'span' );\n\t\tbar.style.cssText = 'width:1px;height:30px;float:left;background-color:#113';\n\t\tfpsGraph.appendChild( bar );\n\n\t}\n\n\tvar msDiv = document.createElement( 'div' );\n\tmsDiv.id = 'ms';\n\tmsDiv.style.cssText = 'padding:0 0 3px 3px;text-align:left;background-color:#020;display:none';\n\tcontainer.appendChild( msDiv );\n\n\tvar msText = document.createElement( 'div' );\n\tmsText.id = 'msText';\n\tmsText.style.cssText = 'color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px';\n\tmsText.innerHTML = 'MS';\n\tmsDiv.appendChild( msText );\n\n\tvar msGraph = document.createElement( 'div' );\n\tmsGraph.id = 'msGraph';\n\tmsGraph.style.cssText = 'position:relative;width:74px;height:30px;background-color:#0f0';\n\tmsDiv.appendChild( msGraph );\n\n\twhile ( msGraph.children.length < 74 ) {\n\n\t\tvar bar = document.createElement( 'span' );\n\t\tbar.style.cssText = 'width:1px;height:30px;float:left;background-color:#131';\n\t\tmsGraph.appendChild( bar );\n\n\t}\n\n\tvar setMode = function ( value ) {\n\n\t\tmode = value;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 0:\n\t\t\t\tfpsDiv.style.display = 'block';\n\t\t\t\tmsDiv.style.display = 'none';\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tfpsDiv.style.display = 'none';\n\t\t\t\tmsDiv.style.display = 'block';\n\t\t\t\tbreak;\n\t\t}\n\n\t}\n\n\tvar updateGraph = function ( dom, value ) {\n\n\t\tvar child = dom.appendChild( dom.firstChild );\n\t\tchild.style.height = value + 'px';\n\n\t}\n\n\treturn {\n\n\t\tREVISION: 11,\n\n\t\tdomElement: container,\n\n\t\tsetMode: setMode,\n\n\t\tbegin: function () {\n\n\t\t\tstartTime = Date.now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tvar time = Date.now();\n\n\t\t\tms = time - startTime;\n\t\t\tmsMin = Math.min( msMin, ms );\n\t\t\tmsMax = Math.max( msMax, ms );\n\n\t\t\tmsText.textContent = ms + ' MS (' + msMin + '-' + msMax + ')';\n\t\t\tupdateGraph( msGraph, Math.min( 30, 30 - ( ms / 200 ) * 30 ) );\n\n\t\t\tframes ++;\n\n\t\t\tif ( time > prevTime + 1000 ) {\n\n\t\t\t\tfps = Math.round( ( frames * 1000 ) / ( time - prevTime ) );\n\t\t\t\tfpsMin = Math.min( fpsMin, fps );\n\t\t\t\tfpsMax = Math.max( fpsMax, fps );\n\n\t\t\t\tfpsText.textContent = fps + ' FPS (' + fpsMin + '-' + fpsMax + ')';\n\t\t\t\tupdateGraph( fpsGraph, Math.min( 30, 30 - ( fps / 100 ) * 30 ) );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tstartTime = this.end();\n\n\t\t}\n\n\t}\n\n};\n\"undefined\" != typeof module && module.exports && (module.exports = Stats);\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/stats.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f4f8ef6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./drill.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./drill.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f4f8ef6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./drill.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6f4f8ef6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/map3d/drill.vue\n// module id = r7H9\n// module chunks = 1","/**\n * Created by zhu18.github.io on 2017/12/05.\n * 3D文字\n */\nimport * as THREE from './three.js'\n\nexport default class Font3D{\n  constructor(){\n\n  }\n\n  static create(txt,o){\n    var opt = {\n      size: 50,\n      follow:true,\n      family:'Arial',\n      borderColor: '#000000', //background-color, default: random color\n      color: '#ffffff', //text color, default: random color\n      style:'oblique', //font-style, can be: normal / italic / oblique, default: 'oblique'\n      weight: 'bold', //font-weight, can be: normal / bold / bolder / lighter / Number, default: 'bold'\n    }\n    Object.assign(opt,o);\n    return getText2D(txt,opt)\n  }\n}\n\nfunction getText2D(text,opt){\n  let canvas = document.createElement('canvas');\n  let context = canvas.getContext('2d');\n  let canvas_width = 512//context.measureText( text ).width;\n  let canvas_height = 512//opt.size;\n  canvas.width=canvas_width;\n  canvas.height=canvas_height;\n\n\n   context.clearRect(0, 0, canvas_width, canvas_height);\n  // context.fillStyle = 'red';\n  // context.fillRect(0,0,canvas_width, canvas_height)\n  // let scale=1.0;\n  //context.translate(canvas_width / 2, canvas_height / 2);\n  //context.scale(scale, scale);\n\n  context.font = '100px '+opt.family;\n  context.fillStyle = opt.color;\n  context.textAlign='center';//文本程度对齐方法\n // context.textBaseline='middle';//文本垂曲标的目的，基线位置\n  context.fillText(text, 256, canvas_height/2);\n  context.strokeStyle  = opt.borderColor;\n  context.strokeText(text, 256, canvas_height/2);\n\n  // canvas contents will be used for a texture\n  var texture = new THREE.Texture(canvas)\n  texture.needsUpdate = true;\n\n  let textObj=null;\n  if(opt.follow){\n    let spriteMaterial = new THREE.SpriteMaterial({ map: texture});\n    textObj = new THREE.Sprite( spriteMaterial );\n  }\n  else{\n    let material = new THREE.MeshBasicMaterial({ map: texture,color:0xffffff, transparent:true, side:THREE.DoubleSide });\n    let geometry = new THREE.PlaneGeometry(1, 1, 1, 1);\n    textObj = new THREE.Mesh(geometry, material);\n  }\n  textObj.scale.set(opt.size/10,opt.size/10,1.0);\n  return textObj;\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/Font3D.js","// Polyfills\n\nif ( Number.EPSILON === undefined ) {\n\n  Number.EPSILON = Math.pow( 2, - 52 );\n\n}\n\nif ( Number.isInteger === undefined ) {\n\n  // Missing in IE\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n\n  Number.isInteger = function ( value ) {\n\n    return typeof value === 'number' && isFinite( value ) && Math.floor( value ) === value;\n\n  };\n\n}\n\n//\n\nif ( Math.sign === undefined ) {\n\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\n  Math.sign = function ( x ) {\n\n    return ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\n\n  };\n\n}\n\nif ( Function.prototype.name === undefined ) {\n\n  // Missing in IE\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\n  Object.defineProperty( Function.prototype, 'name', {\n\n    get: function () {\n\n      return this.toString().match( /^\\s*function\\s*([^\\(\\s]*)/ )[ 1 ];\n\n    }\n\n  } );\n\n}\n\nif ( Object.assign === undefined ) {\n\n  // Missing in IE\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\n  ( function () {\n\n    Object.assign = function ( target ) {\n\n      'use strict';\n\n      if ( target === undefined || target === null ) {\n\n        throw new TypeError( 'Cannot convert undefined or null to object' );\n\n      }\n\n      var output = Object( target );\n\n      for ( var index = 1; index < arguments.length; index ++ ) {\n\n        var source = arguments[ index ];\n\n        if ( source !== undefined && source !== null ) {\n\n          for ( var nextKey in source ) {\n\n            if ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\n\n              output[ nextKey ] = source[ nextKey ];\n\n            }\n\n          }\n\n        }\n\n      }\n\n      return output;\n\n    };\n\n  } )();\n\n}\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign( EventDispatcher.prototype, {\n\n  addEventListener: function ( type, listener ) {\n\n    if ( this._listeners === undefined ) this._listeners = {};\n\n    var listeners = this._listeners;\n\n    if ( listeners[ type ] === undefined ) {\n\n      listeners[ type ] = [];\n\n    }\n\n    if ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n      listeners[ type ].push( listener );\n\n    }\n\n  },\n\n  hasEventListener: function ( type, listener ) {\n\n    if ( this._listeners === undefined ) return false;\n\n    var listeners = this._listeners;\n\n    return listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n  },\n\n  removeEventListener: function ( type, listener ) {\n\n    if ( this._listeners === undefined ) return;\n\n    var listeners = this._listeners;\n    var listenerArray = listeners[ type ];\n\n    if ( listenerArray !== undefined ) {\n\n      var index = listenerArray.indexOf( listener );\n\n      if ( index !== - 1 ) {\n\n        listenerArray.splice( index, 1 );\n\n      }\n\n    }\n\n  },\n\n  dispatchEvent: function ( event ) {\n\n    if ( this._listeners === undefined ) return;\n\n    var listeners = this._listeners;\n    var listenerArray = listeners[ event.type ];\n\n    if ( listenerArray !== undefined ) {\n\n      event.target = this;\n\n      var array = listenerArray.slice( 0 );\n\n      for ( var i = 0, l = array.length; i < l; i ++ ) {\n\n        array[ i ].call( this, event );\n\n      }\n\n    }\n\n  }\n\n} );\n\nvar REVISION = '87';\nvar MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\nvar CullFaceNone = 0;\nvar CullFaceBack = 1;\nvar CullFaceFront = 2;\nvar CullFaceFrontBack = 3;\nvar FrontFaceDirectionCW = 0;\nvar FrontFaceDirectionCCW = 1;\nvar BasicShadowMap = 0;\nvar PCFShadowMap = 1;\nvar PCFSoftShadowMap = 2;\nvar FrontSide = 0;\nvar BackSide = 1;\nvar DoubleSide = 2;\nvar FlatShading = 1;\nvar SmoothShading = 2;\nvar NoColors = 0;\nvar FaceColors = 1;\nvar VertexColors = 2;\nvar NoBlending = 0;\nvar NormalBlending = 1;\nvar AdditiveBlending = 2;\nvar SubtractiveBlending = 3;\nvar MultiplyBlending = 4;\nvar CustomBlending = 5;\nvar AddEquation = 100;\nvar SubtractEquation = 101;\nvar ReverseSubtractEquation = 102;\nvar MinEquation = 103;\nvar MaxEquation = 104;\nvar ZeroFactor = 200;\nvar OneFactor = 201;\nvar SrcColorFactor = 202;\nvar OneMinusSrcColorFactor = 203;\nvar SrcAlphaFactor = 204;\nvar OneMinusSrcAlphaFactor = 205;\nvar DstAlphaFactor = 206;\nvar OneMinusDstAlphaFactor = 207;\nvar DstColorFactor = 208;\nvar OneMinusDstColorFactor = 209;\nvar SrcAlphaSaturateFactor = 210;\nvar NeverDepth = 0;\nvar AlwaysDepth = 1;\nvar LessDepth = 2;\nvar LessEqualDepth = 3;\nvar EqualDepth = 4;\nvar GreaterEqualDepth = 5;\nvar GreaterDepth = 6;\nvar NotEqualDepth = 7;\nvar MultiplyOperation = 0;\nvar MixOperation = 1;\nvar AddOperation = 2;\nvar NoToneMapping = 0;\nvar LinearToneMapping = 1;\nvar ReinhardToneMapping = 2;\nvar Uncharted2ToneMapping = 3;\nvar CineonToneMapping = 4;\nvar UVMapping = 300;\nvar CubeReflectionMapping = 301;\nvar CubeRefractionMapping = 302;\nvar EquirectangularReflectionMapping = 303;\nvar EquirectangularRefractionMapping = 304;\nvar SphericalReflectionMapping = 305;\nvar CubeUVReflectionMapping = 306;\nvar CubeUVRefractionMapping = 307;\nvar RepeatWrapping = 1000;\nvar ClampToEdgeWrapping = 1001;\nvar MirroredRepeatWrapping = 1002;\nvar NearestFilter = 1003;\nvar NearestMipMapNearestFilter = 1004;\nvar NearestMipMapLinearFilter = 1005;\nvar LinearFilter = 1006;\nvar LinearMipMapNearestFilter = 1007;\nvar LinearMipMapLinearFilter = 1008;\nvar UnsignedByteType = 1009;\nvar ByteType = 1010;\nvar ShortType = 1011;\nvar UnsignedShortType = 1012;\nvar IntType = 1013;\nvar UnsignedIntType = 1014;\nvar FloatType = 1015;\nvar HalfFloatType = 1016;\nvar UnsignedShort4444Type = 1017;\nvar UnsignedShort5551Type = 1018;\nvar UnsignedShort565Type = 1019;\nvar UnsignedInt248Type = 1020;\nvar AlphaFormat = 1021;\nvar RGBFormat = 1022;\nvar RGBAFormat = 1023;\nvar LuminanceFormat = 1024;\nvar LuminanceAlphaFormat = 1025;\nvar RGBEFormat = RGBAFormat;\nvar DepthFormat = 1026;\nvar DepthStencilFormat = 1027;\nvar RGB_S3TC_DXT1_Format = 2001;\nvar RGBA_S3TC_DXT1_Format = 2002;\nvar RGBA_S3TC_DXT3_Format = 2003;\nvar RGBA_S3TC_DXT5_Format = 2004;\nvar RGB_PVRTC_4BPPV1_Format = 2100;\nvar RGB_PVRTC_2BPPV1_Format = 2101;\nvar RGBA_PVRTC_4BPPV1_Format = 2102;\nvar RGBA_PVRTC_2BPPV1_Format = 2103;\nvar RGB_ETC1_Format = 2151;\nvar LoopOnce = 2200;\nvar LoopRepeat = 2201;\nvar LoopPingPong = 2202;\nvar InterpolateDiscrete = 2300;\nvar InterpolateLinear = 2301;\nvar InterpolateSmooth = 2302;\nvar ZeroCurvatureEnding = 2400;\nvar ZeroSlopeEnding = 2401;\nvar WrapAroundEnding = 2402;\nvar TrianglesDrawMode = 0;\nvar TriangleStripDrawMode = 1;\nvar TriangleFanDrawMode = 2;\nvar LinearEncoding = 3000;\nvar sRGBEncoding = 3001;\nvar GammaEncoding = 3007;\nvar RGBEEncoding = 3002;\nvar LogLuvEncoding = 3003;\nvar RGBM7Encoding = 3004;\nvar RGBM16Encoding = 3005;\nvar RGBDEncoding = 3006;\nvar BasicDepthPacking = 3200;\nvar RGBADepthPacking = 3201;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _Math = {\n\n  DEG2RAD: Math.PI / 180,\n  RAD2DEG: 180 / Math.PI,\n\n  generateUUID: function () {\n\n    // http://www.broofa.com/Tools/Math.uuid.htm\n\n    var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split( '' );\n    var uuid = new Array( 36 );\n    var rnd = 0, r;\n\n    return function generateUUID() {\n\n      for ( var i = 0; i < 36; i ++ ) {\n\n        if ( i === 8 || i === 13 || i === 18 || i === 23 ) {\n\n          uuid[ i ] = '-';\n\n        } else if ( i === 14 ) {\n\n          uuid[ i ] = '4';\n\n        } else {\n\n          if ( rnd <= 0x02 ) rnd = 0x2000000 + ( Math.random() * 0x1000000 ) | 0;\n          r = rnd & 0xf;\n          rnd = rnd >> 4;\n          uuid[ i ] = chars[ ( i === 19 ) ? ( r & 0x3 ) | 0x8 : r ];\n\n        }\n\n      }\n\n      return uuid.join( '' );\n\n    };\n\n  }(),\n\n  clamp: function ( value, min, max ) {\n\n    return Math.max( min, Math.min( max, value ) );\n\n  },\n\n  // compute euclidian modulo of m % n\n  // https://en.wikipedia.org/wiki/Modulo_operation\n\n  euclideanModulo: function ( n, m ) {\n\n    return ( ( n % m ) + m ) % m;\n\n  },\n\n  // Linear mapping from range <a1, a2> to range <b1, b2>\n\n  mapLinear: function ( x, a1, a2, b1, b2 ) {\n\n    return b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n  },\n\n  // https://en.wikipedia.org/wiki/Linear_interpolation\n\n  lerp: function ( x, y, t ) {\n\n    return ( 1 - t ) * x + t * y;\n\n  },\n\n  // http://en.wikipedia.org/wiki/Smoothstep\n\n  smoothstep: function ( x, min, max ) {\n\n    if ( x <= min ) return 0;\n    if ( x >= max ) return 1;\n\n    x = ( x - min ) / ( max - min );\n\n    return x * x * ( 3 - 2 * x );\n\n  },\n\n  smootherstep: function ( x, min, max ) {\n\n    if ( x <= min ) return 0;\n    if ( x >= max ) return 1;\n\n    x = ( x - min ) / ( max - min );\n\n    return x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n  },\n\n  // Random integer from <low, high> interval\n\n  randInt: function ( low, high ) {\n\n    return low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n  },\n\n  // Random float from <low, high> interval\n\n  randFloat: function ( low, high ) {\n\n    return low + Math.random() * ( high - low );\n\n  },\n\n  // Random float from <-range/2, range/2> interval\n\n  randFloatSpread: function ( range ) {\n\n    return range * ( 0.5 - Math.random() );\n\n  },\n\n  degToRad: function ( degrees ) {\n\n    return degrees * _Math.DEG2RAD;\n\n  },\n\n  radToDeg: function ( radians ) {\n\n    return radians * _Math.RAD2DEG;\n\n  },\n\n  isPowerOfTwo: function ( value ) {\n\n    return ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n  },\n\n  nearestPowerOfTwo: function ( value ) {\n\n    return Math.pow( 2, Math.round( Math.log( value ) / Math.LN2 ) );\n\n  },\n\n  nextPowerOfTwo: function ( value ) {\n\n    value --;\n    value |= value >> 1;\n    value |= value >> 2;\n    value |= value >> 4;\n    value |= value >> 8;\n    value |= value >> 16;\n    value ++;\n\n    return value;\n\n  }\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nfunction Vector2( x, y ) {\n\n  this.x = x || 0;\n  this.y = y || 0;\n\n}\n\nObject.defineProperties( Vector2.prototype, {\n\n  \"width\" : {\n\n    get: function () {\n\n      return this.x;\n\n    },\n\n    set: function ( value ) {\n\n      this.x = value;\n\n    }\n\n  },\n\n  \"height\" : {\n\n    get: function () {\n\n      return this.y;\n\n    },\n\n    set: function ( value ) {\n\n      this.y = value;\n\n    }\n\n  }\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n  isVector2: true,\n\n  set: function ( x, y ) {\n\n    this.x = x;\n    this.y = y;\n\n    return this;\n\n  },\n\n  setScalar: function ( scalar ) {\n\n    this.x = scalar;\n    this.y = scalar;\n\n    return this;\n\n  },\n\n  setX: function ( x ) {\n\n    this.x = x;\n\n    return this;\n\n  },\n\n  setY: function ( y ) {\n\n    this.y = y;\n\n    return this;\n\n  },\n\n  setComponent: function ( index, value ) {\n\n    switch ( index ) {\n\n      case 0: this.x = value; break;\n      case 1: this.y = value; break;\n      default: throw new Error( 'index is out of range: ' + index );\n\n    }\n\n    return this;\n\n  },\n\n  getComponent: function ( index ) {\n\n    switch ( index ) {\n\n      case 0: return this.x;\n      case 1: return this.y;\n      default: throw new Error( 'index is out of range: ' + index );\n\n    }\n\n  },\n\n  clone: function () {\n\n    return new this.constructor( this.x, this.y );\n\n  },\n\n  copy: function ( v ) {\n\n    this.x = v.x;\n    this.y = v.y;\n\n    return this;\n\n  },\n\n  add: function ( v, w ) {\n\n    if ( w !== undefined ) {\n\n      console.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n      return this.addVectors( v, w );\n\n    }\n\n    this.x += v.x;\n    this.y += v.y;\n\n    return this;\n\n  },\n\n  addScalar: function ( s ) {\n\n    this.x += s;\n    this.y += s;\n\n    return this;\n\n  },\n\n  addVectors: function ( a, b ) {\n\n    this.x = a.x + b.x;\n    this.y = a.y + b.y;\n\n    return this;\n\n  },\n\n  addScaledVector: function ( v, s ) {\n\n    this.x += v.x * s;\n    this.y += v.y * s;\n\n    return this;\n\n  },\n\n  sub: function ( v, w ) {\n\n    if ( w !== undefined ) {\n\n      console.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n      return this.subVectors( v, w );\n\n    }\n\n    this.x -= v.x;\n    this.y -= v.y;\n\n    return this;\n\n  },\n\n  subScalar: function ( s ) {\n\n    this.x -= s;\n    this.y -= s;\n\n    return this;\n\n  },\n\n  subVectors: function ( a, b ) {\n\n    this.x = a.x - b.x;\n    this.y = a.y - b.y;\n\n    return this;\n\n  },\n\n  multiply: function ( v ) {\n\n    this.x *= v.x;\n    this.y *= v.y;\n\n    return this;\n\n  },\n\n  multiplyScalar: function ( scalar ) {\n\n    this.x *= scalar;\n    this.y *= scalar;\n\n    return this;\n\n  },\n\n  divide: function ( v ) {\n\n    this.x /= v.x;\n    this.y /= v.y;\n\n    return this;\n\n  },\n\n  divideScalar: function ( scalar ) {\n\n    return this.multiplyScalar( 1 / scalar );\n\n  },\n\n  min: function ( v ) {\n\n    this.x = Math.min( this.x, v.x );\n    this.y = Math.min( this.y, v.y );\n\n    return this;\n\n  },\n\n  max: function ( v ) {\n\n    this.x = Math.max( this.x, v.x );\n    this.y = Math.max( this.y, v.y );\n\n    return this;\n\n  },\n\n  clamp: function ( min, max ) {\n\n    // assumes min < max, componentwise\n\n    this.x = Math.max( min.x, Math.min( max.x, this.x ) );\n    this.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n    return this;\n\n  },\n\n  clampScalar: function () {\n\n    var min = new Vector2();\n    var max = new Vector2();\n\n    return function clampScalar( minVal, maxVal ) {\n\n      min.set( minVal, minVal );\n      max.set( maxVal, maxVal );\n\n      return this.clamp( min, max );\n\n    };\n\n  }(),\n\n  clampLength: function ( min, max ) {\n\n    var length = this.length();\n\n    return this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n  },\n\n  floor: function () {\n\n    this.x = Math.floor( this.x );\n    this.y = Math.floor( this.y );\n\n    return this;\n\n  },\n\n  ceil: function () {\n\n    this.x = Math.ceil( this.x );\n    this.y = Math.ceil( this.y );\n\n    return this;\n\n  },\n\n  round: function () {\n\n    this.x = Math.round( this.x );\n    this.y = Math.round( this.y );\n\n    return this;\n\n  },\n\n  roundToZero: function () {\n\n    this.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n    this.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n    return this;\n\n  },\n\n  negate: function () {\n\n    this.x = - this.x;\n    this.y = - this.y;\n\n    return this;\n\n  },\n\n  dot: function ( v ) {\n\n    return this.x * v.x + this.y * v.y;\n\n  },\n\n  lengthSq: function () {\n\n    return this.x * this.x + this.y * this.y;\n\n  },\n\n  length: function () {\n\n    return Math.sqrt( this.x * this.x + this.y * this.y );\n\n  },\n\n  lengthManhattan: function() {\n\n    return Math.abs( this.x ) + Math.abs( this.y );\n\n  },\n\n  normalize: function () {\n\n    return this.divideScalar( this.length() || 1 );\n\n  },\n\n  angle: function () {\n\n    // computes the angle in radians with respect to the positive x-axis\n\n    var angle = Math.atan2( this.y, this.x );\n\n    if ( angle < 0 ) angle += 2 * Math.PI;\n\n    return angle;\n\n  },\n\n  distanceTo: function ( v ) {\n\n    return Math.sqrt( this.distanceToSquared( v ) );\n\n  },\n\n  distanceToSquared: function ( v ) {\n\n    var dx = this.x - v.x, dy = this.y - v.y;\n    return dx * dx + dy * dy;\n\n  },\n\n  distanceToManhattan: function ( v ) {\n\n    return Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n  },\n\n  setLength: function ( length ) {\n\n    return this.normalize().multiplyScalar( length );\n\n  },\n\n  lerp: function ( v, alpha ) {\n\n    this.x += ( v.x - this.x ) * alpha;\n    this.y += ( v.y - this.y ) * alpha;\n\n    return this;\n\n  },\n\n  lerpVectors: function ( v1, v2, alpha ) {\n\n    return this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n  },\n\n  equals: function ( v ) {\n\n    return ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n  },\n\n  fromArray: function ( array, offset ) {\n\n    if ( offset === undefined ) offset = 0;\n\n    this.x = array[ offset ];\n    this.y = array[ offset + 1 ];\n\n    return this;\n\n  },\n\n  toArray: function ( array, offset ) {\n\n    if ( array === undefined ) array = [];\n    if ( offset === undefined ) offset = 0;\n\n    array[ offset ] = this.x;\n    array[ offset + 1 ] = this.y;\n\n    return array;\n\n  },\n\n  fromBufferAttribute: function ( attribute, index, offset ) {\n\n    if ( offset !== undefined ) {\n\n      console.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n    }\n\n    this.x = attribute.getX( index );\n    this.y = attribute.getY( index );\n\n    return this;\n\n  },\n\n  rotateAround: function ( center, angle ) {\n\n    var c = Math.cos( angle ), s = Math.sin( angle );\n\n    var x = this.x - center.x;\n    var y = this.y - center.y;\n\n    this.x = x * c - y * s + center.x;\n    this.y = x * s + y * c + center.y;\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar textureId = 0;\n\nfunction Texture( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n  Object.defineProperty( this, 'id', { value: textureId ++ } );\n\n  this.uuid = _Math.generateUUID();\n\n  this.name = '';\n\n  this.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n  this.mipmaps = [];\n\n  this.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n  this.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n  this.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n  this.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n  this.minFilter = minFilter !== undefined ? minFilter : LinearMipMapLinearFilter;\n\n  this.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n  this.format = format !== undefined ? format : RGBAFormat;\n  this.type = type !== undefined ? type : UnsignedByteType;\n\n  this.offset = new Vector2( 0, 0 );\n  this.repeat = new Vector2( 1, 1 );\n\n  this.generateMipmaps = true;\n  this.premultiplyAlpha = false;\n  this.flipY = true;\n  this.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n  // Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n  //\n  // Also changing the encoding after already used by a Material will not automatically make the Material\n  // update.  You need to explicitly call Material.needsUpdate to trigger it to recompile.\n  this.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n  this.version = 0;\n  this.onUpdate = null;\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nObject.defineProperty( Texture.prototype, \"needsUpdate\", {\n\n  set: function ( value ) {\n\n    if ( value === true ) this.version ++;\n\n  }\n\n} );\n\nObject.assign( Texture.prototype, EventDispatcher.prototype, {\n\n  constructor: Texture,\n\n  isTexture: true,\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  copy: function ( source ) {\n\n    this.name = source.name;\n\n    this.image = source.image;\n    this.mipmaps = source.mipmaps.slice( 0 );\n\n    this.mapping = source.mapping;\n\n    this.wrapS = source.wrapS;\n    this.wrapT = source.wrapT;\n\n    this.magFilter = source.magFilter;\n    this.minFilter = source.minFilter;\n\n    this.anisotropy = source.anisotropy;\n\n    this.format = source.format;\n    this.type = source.type;\n\n    this.offset.copy( source.offset );\n    this.repeat.copy( source.repeat );\n\n    this.generateMipmaps = source.generateMipmaps;\n    this.premultiplyAlpha = source.premultiplyAlpha;\n    this.flipY = source.flipY;\n    this.unpackAlignment = source.unpackAlignment;\n    this.encoding = source.encoding;\n\n    return this;\n\n  },\n\n  toJSON: function ( meta ) {\n\n    if ( meta.textures[ this.uuid ] !== undefined ) {\n\n      return meta.textures[ this.uuid ];\n\n    }\n\n    function getDataURL( image ) {\n\n      var canvas;\n\n      if ( image instanceof HTMLCanvasElement ) {\n\n        canvas = image;\n\n      } else {\n\n        canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n        canvas.width = image.width;\n        canvas.height = image.height;\n\n        var context = canvas.getContext( '2d' );\n\n        if ( image instanceof ImageData ) {\n\n          context.putImageData( image, 0, 0 );\n\n        } else {\n\n          context.drawImage( image, 0, 0, image.width, image.height );\n\n        }\n\n      }\n\n      if ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n        return canvas.toDataURL( 'image/jpeg', 0.6 );\n\n      } else {\n\n        return canvas.toDataURL( 'image/png' );\n\n      }\n\n    }\n\n    var output = {\n      metadata: {\n        version: 4.5,\n        type: 'Texture',\n        generator: 'Texture.toJSON'\n      },\n\n      uuid: this.uuid,\n      name: this.name,\n\n      mapping: this.mapping,\n\n      repeat: [ this.repeat.x, this.repeat.y ],\n      offset: [ this.offset.x, this.offset.y ],\n      wrap: [ this.wrapS, this.wrapT ],\n\n      minFilter: this.minFilter,\n      magFilter: this.magFilter,\n      anisotropy: this.anisotropy,\n\n      flipY: this.flipY\n    };\n\n    if ( this.image !== undefined ) {\n\n      // TODO: Move to THREE.Image\n\n      var image = this.image;\n\n      if ( image.uuid === undefined ) {\n\n        image.uuid = _Math.generateUUID(); // UGH\n\n      }\n\n      if ( meta.images[ image.uuid ] === undefined ) {\n\n        meta.images[ image.uuid ] = {\n          uuid: image.uuid,\n          url: getDataURL( image )\n        };\n\n      }\n\n      output.image = image.uuid;\n\n    }\n\n    meta.textures[ this.uuid ] = output;\n\n    return output;\n\n  },\n\n  dispose: function () {\n\n    this.dispatchEvent( { type: 'dispose' } );\n\n  },\n\n  transformUv: function ( uv ) {\n\n    if ( this.mapping !== UVMapping ) return;\n\n    uv.multiply( this.repeat );\n    uv.add( this.offset );\n\n    if ( uv.x < 0 || uv.x > 1 ) {\n\n      switch ( this.wrapS ) {\n\n        case RepeatWrapping:\n\n          uv.x = uv.x - Math.floor( uv.x );\n          break;\n\n        case ClampToEdgeWrapping:\n\n          uv.x = uv.x < 0 ? 0 : 1;\n          break;\n\n        case MirroredRepeatWrapping:\n\n          if ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n            uv.x = Math.ceil( uv.x ) - uv.x;\n\n          } else {\n\n            uv.x = uv.x - Math.floor( uv.x );\n\n          }\n          break;\n\n      }\n\n    }\n\n    if ( uv.y < 0 || uv.y > 1 ) {\n\n      switch ( this.wrapT ) {\n\n        case RepeatWrapping:\n\n          uv.y = uv.y - Math.floor( uv.y );\n          break;\n\n        case ClampToEdgeWrapping:\n\n          uv.y = uv.y < 0 ? 0 : 1;\n          break;\n\n        case MirroredRepeatWrapping:\n\n          if ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n            uv.y = Math.ceil( uv.y ) - uv.y;\n\n          } else {\n\n            uv.y = uv.y - Math.floor( uv.y );\n\n          }\n          break;\n\n      }\n\n    }\n\n    if ( this.flipY ) {\n\n      uv.y = 1 - uv.y;\n\n    }\n\n  }\n\n} );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector4( x, y, z, w ) {\n\n  this.x = x || 0;\n  this.y = y || 0;\n  this.z = z || 0;\n  this.w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Vector4.prototype, {\n\n  isVector4: true,\n\n  set: function ( x, y, z, w ) {\n\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.w = w;\n\n    return this;\n\n  },\n\n  setScalar: function ( scalar ) {\n\n    this.x = scalar;\n    this.y = scalar;\n    this.z = scalar;\n    this.w = scalar;\n\n    return this;\n\n  },\n\n  setX: function ( x ) {\n\n    this.x = x;\n\n    return this;\n\n  },\n\n  setY: function ( y ) {\n\n    this.y = y;\n\n    return this;\n\n  },\n\n  setZ: function ( z ) {\n\n    this.z = z;\n\n    return this;\n\n  },\n\n  setW: function ( w ) {\n\n    this.w = w;\n\n    return this;\n\n  },\n\n  setComponent: function ( index, value ) {\n\n    switch ( index ) {\n\n      case 0: this.x = value; break;\n      case 1: this.y = value; break;\n      case 2: this.z = value; break;\n      case 3: this.w = value; break;\n      default: throw new Error( 'index is out of range: ' + index );\n\n    }\n\n    return this;\n\n  },\n\n  getComponent: function ( index ) {\n\n    switch ( index ) {\n\n      case 0: return this.x;\n      case 1: return this.y;\n      case 2: return this.z;\n      case 3: return this.w;\n      default: throw new Error( 'index is out of range: ' + index );\n\n    }\n\n  },\n\n  clone: function () {\n\n    return new this.constructor( this.x, this.y, this.z, this.w );\n\n  },\n\n  copy: function ( v ) {\n\n    this.x = v.x;\n    this.y = v.y;\n    this.z = v.z;\n    this.w = ( v.w !== undefined ) ? v.w : 1;\n\n    return this;\n\n  },\n\n  add: function ( v, w ) {\n\n    if ( w !== undefined ) {\n\n      console.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n      return this.addVectors( v, w );\n\n    }\n\n    this.x += v.x;\n    this.y += v.y;\n    this.z += v.z;\n    this.w += v.w;\n\n    return this;\n\n  },\n\n  addScalar: function ( s ) {\n\n    this.x += s;\n    this.y += s;\n    this.z += s;\n    this.w += s;\n\n    return this;\n\n  },\n\n  addVectors: function ( a, b ) {\n\n    this.x = a.x + b.x;\n    this.y = a.y + b.y;\n    this.z = a.z + b.z;\n    this.w = a.w + b.w;\n\n    return this;\n\n  },\n\n  addScaledVector: function ( v, s ) {\n\n    this.x += v.x * s;\n    this.y += v.y * s;\n    this.z += v.z * s;\n    this.w += v.w * s;\n\n    return this;\n\n  },\n\n  sub: function ( v, w ) {\n\n    if ( w !== undefined ) {\n\n      console.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n      return this.subVectors( v, w );\n\n    }\n\n    this.x -= v.x;\n    this.y -= v.y;\n    this.z -= v.z;\n    this.w -= v.w;\n\n    return this;\n\n  },\n\n  subScalar: function ( s ) {\n\n    this.x -= s;\n    this.y -= s;\n    this.z -= s;\n    this.w -= s;\n\n    return this;\n\n  },\n\n  subVectors: function ( a, b ) {\n\n    this.x = a.x - b.x;\n    this.y = a.y - b.y;\n    this.z = a.z - b.z;\n    this.w = a.w - b.w;\n\n    return this;\n\n  },\n\n  multiplyScalar: function ( scalar ) {\n\n    this.x *= scalar;\n    this.y *= scalar;\n    this.z *= scalar;\n    this.w *= scalar;\n\n    return this;\n\n  },\n\n  applyMatrix4: function ( m ) {\n\n    var x = this.x, y = this.y, z = this.z, w = this.w;\n    var e = m.elements;\n\n    this.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n    this.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n    this.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n    this.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n    return this;\n\n  },\n\n  divideScalar: function ( scalar ) {\n\n    return this.multiplyScalar( 1 / scalar );\n\n  },\n\n  setAxisAngleFromQuaternion: function ( q ) {\n\n    // http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n    // q is assumed to be normalized\n\n    this.w = 2 * Math.acos( q.w );\n\n    var s = Math.sqrt( 1 - q.w * q.w );\n\n    if ( s < 0.0001 ) {\n\n      this.x = 1;\n      this.y = 0;\n      this.z = 0;\n\n    } else {\n\n      this.x = q.x / s;\n      this.y = q.y / s;\n      this.z = q.z / s;\n\n    }\n\n    return this;\n\n  },\n\n  setAxisAngleFromRotationMatrix: function ( m ) {\n\n    // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n    // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n    var angle, x, y, z,\t\t// variables for result\n      epsilon = 0.01,\t\t// margin to allow for rounding errors\n      epsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n      te = m.elements,\n\n      m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n      m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n      m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n    if ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n      ( Math.abs( m13 - m31 ) < epsilon ) &&\n      ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n      // singularity found\n      // first check for identity matrix which must have +1 for all terms\n      // in leading diagonal and zero in other terms\n\n      if ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n        ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n        ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n        ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n        // this singularity is identity matrix so angle = 0\n\n        this.set( 1, 0, 0, 0 );\n\n        return this; // zero angle, arbitrary axis\n\n      }\n\n      // otherwise this singularity is angle = 180\n\n      angle = Math.PI;\n\n      var xx = ( m11 + 1 ) / 2;\n      var yy = ( m22 + 1 ) / 2;\n      var zz = ( m33 + 1 ) / 2;\n      var xy = ( m12 + m21 ) / 4;\n      var xz = ( m13 + m31 ) / 4;\n      var yz = ( m23 + m32 ) / 4;\n\n      if ( ( xx > yy ) && ( xx > zz ) ) {\n\n        // m11 is the largest diagonal term\n\n        if ( xx < epsilon ) {\n\n          x = 0;\n          y = 0.707106781;\n          z = 0.707106781;\n\n        } else {\n\n          x = Math.sqrt( xx );\n          y = xy / x;\n          z = xz / x;\n\n        }\n\n      } else if ( yy > zz ) {\n\n        // m22 is the largest diagonal term\n\n        if ( yy < epsilon ) {\n\n          x = 0.707106781;\n          y = 0;\n          z = 0.707106781;\n\n        } else {\n\n          y = Math.sqrt( yy );\n          x = xy / y;\n          z = yz / y;\n\n        }\n\n      } else {\n\n        // m33 is the largest diagonal term so base result on this\n\n        if ( zz < epsilon ) {\n\n          x = 0.707106781;\n          y = 0.707106781;\n          z = 0;\n\n        } else {\n\n          z = Math.sqrt( zz );\n          x = xz / z;\n          y = yz / z;\n\n        }\n\n      }\n\n      this.set( x, y, z, angle );\n\n      return this; // return 180 deg rotation\n\n    }\n\n    // as we have reached here there are no singularities so we can handle normally\n\n    var s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n      ( m13 - m31 ) * ( m13 - m31 ) +\n      ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n    if ( Math.abs( s ) < 0.001 ) s = 1;\n\n    // prevent divide by zero, should not happen if matrix is orthogonal and should be\n    // caught by singularity test above, but I've left it in just in case\n\n    this.x = ( m32 - m23 ) / s;\n    this.y = ( m13 - m31 ) / s;\n    this.z = ( m21 - m12 ) / s;\n    this.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n    return this;\n\n  },\n\n  min: function ( v ) {\n\n    this.x = Math.min( this.x, v.x );\n    this.y = Math.min( this.y, v.y );\n    this.z = Math.min( this.z, v.z );\n    this.w = Math.min( this.w, v.w );\n\n    return this;\n\n  },\n\n  max: function ( v ) {\n\n    this.x = Math.max( this.x, v.x );\n    this.y = Math.max( this.y, v.y );\n    this.z = Math.max( this.z, v.z );\n    this.w = Math.max( this.w, v.w );\n\n    return this;\n\n  },\n\n  clamp: function ( min, max ) {\n\n    // assumes min < max, componentwise\n\n    this.x = Math.max( min.x, Math.min( max.x, this.x ) );\n    this.y = Math.max( min.y, Math.min( max.y, this.y ) );\n    this.z = Math.max( min.z, Math.min( max.z, this.z ) );\n    this.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n    return this;\n\n  },\n\n  clampScalar: function () {\n\n    var min, max;\n\n    return function clampScalar( minVal, maxVal ) {\n\n      if ( min === undefined ) {\n\n        min = new Vector4();\n        max = new Vector4();\n\n      }\n\n      min.set( minVal, minVal, minVal, minVal );\n      max.set( maxVal, maxVal, maxVal, maxVal );\n\n      return this.clamp( min, max );\n\n    };\n\n  }(),\n\n  clampLength: function ( min, max ) {\n\n    var length = this.length();\n\n    return this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n  },\n\n  floor: function () {\n\n    this.x = Math.floor( this.x );\n    this.y = Math.floor( this.y );\n    this.z = Math.floor( this.z );\n    this.w = Math.floor( this.w );\n\n    return this;\n\n  },\n\n  ceil: function () {\n\n    this.x = Math.ceil( this.x );\n    this.y = Math.ceil( this.y );\n    this.z = Math.ceil( this.z );\n    this.w = Math.ceil( this.w );\n\n    return this;\n\n  },\n\n  round: function () {\n\n    this.x = Math.round( this.x );\n    this.y = Math.round( this.y );\n    this.z = Math.round( this.z );\n    this.w = Math.round( this.w );\n\n    return this;\n\n  },\n\n  roundToZero: function () {\n\n    this.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n    this.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n    this.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n    this.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n    return this;\n\n  },\n\n  negate: function () {\n\n    this.x = - this.x;\n    this.y = - this.y;\n    this.z = - this.z;\n    this.w = - this.w;\n\n    return this;\n\n  },\n\n  dot: function ( v ) {\n\n    return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n  },\n\n  lengthSq: function () {\n\n    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n  },\n\n  length: function () {\n\n    return Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n  },\n\n  lengthManhattan: function () {\n\n    return Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n  },\n\n  normalize: function () {\n\n    return this.divideScalar( this.length() || 1 );\n\n  },\n\n  setLength: function ( length ) {\n\n    return this.normalize().multiplyScalar( length );\n\n  },\n\n  lerp: function ( v, alpha ) {\n\n    this.x += ( v.x - this.x ) * alpha;\n    this.y += ( v.y - this.y ) * alpha;\n    this.z += ( v.z - this.z ) * alpha;\n    this.w += ( v.w - this.w ) * alpha;\n\n    return this;\n\n  },\n\n  lerpVectors: function ( v1, v2, alpha ) {\n\n    return this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n  },\n\n  equals: function ( v ) {\n\n    return ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n  },\n\n  fromArray: function ( array, offset ) {\n\n    if ( offset === undefined ) offset = 0;\n\n    this.x = array[ offset ];\n    this.y = array[ offset + 1 ];\n    this.z = array[ offset + 2 ];\n    this.w = array[ offset + 3 ];\n\n    return this;\n\n  },\n\n  toArray: function ( array, offset ) {\n\n    if ( array === undefined ) array = [];\n    if ( offset === undefined ) offset = 0;\n\n    array[ offset ] = this.x;\n    array[ offset + 1 ] = this.y;\n    array[ offset + 2 ] = this.z;\n    array[ offset + 3 ] = this.w;\n\n    return array;\n\n  },\n\n  fromBufferAttribute: function ( attribute, index, offset ) {\n\n    if ( offset !== undefined ) {\n\n      console.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n    }\n\n    this.x = attribute.getX( index );\n    this.y = attribute.getY( index );\n    this.z = attribute.getZ( index );\n    this.w = attribute.getW( index );\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author szimek / https://github.com/szimek/\n * @author alteredq / http://alteredqualia.com/\n * @author Marius Kintel / https://github.com/kintel\n */\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n */\nfunction WebGLRenderTarget( width, height, options ) {\n\n  this.uuid = _Math.generateUUID();\n\n  this.width = width;\n  this.height = height;\n\n  this.scissor = new Vector4( 0, 0, width, height );\n  this.scissorTest = false;\n\n  this.viewport = new Vector4( 0, 0, width, height );\n\n  options = options || {};\n\n  if ( options.minFilter === undefined ) options.minFilter = LinearFilter;\n\n  this.texture = new Texture( undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n  this.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n  this.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n  this.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n}\n\nObject.assign( WebGLRenderTarget.prototype, EventDispatcher.prototype, {\n\n  isWebGLRenderTarget: true,\n\n  setSize: function ( width, height ) {\n\n    if ( this.width !== width || this.height !== height ) {\n\n      this.width = width;\n      this.height = height;\n\n      this.dispose();\n\n    }\n\n    this.viewport.set( 0, 0, width, height );\n    this.scissor.set( 0, 0, width, height );\n\n  },\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  copy: function ( source ) {\n\n    this.width = source.width;\n    this.height = source.height;\n\n    this.viewport.copy( source.viewport );\n\n    this.texture = source.texture.clone();\n\n    this.depthBuffer = source.depthBuffer;\n    this.stencilBuffer = source.stencilBuffer;\n    this.depthTexture = source.depthTexture;\n\n    return this;\n\n  },\n\n  dispose: function () {\n\n    this.dispatchEvent( { type: 'dispose' } );\n\n  }\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com\n */\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n  WebGLRenderTarget.call( this, width, height, options );\n\n  this.activeCubeFace = 0; // PX 0, NX 1, PY 2, NY 3, PZ 4, NZ 5\n  this.activeMipMapLevel = 0;\n\n}\n\nWebGLRenderTargetCube.prototype = Object.create( WebGLRenderTarget.prototype );\nWebGLRenderTargetCube.prototype.constructor = WebGLRenderTargetCube;\n\nWebGLRenderTargetCube.prototype.isWebGLRenderTargetCube = true;\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Quaternion( x, y, z, w ) {\n\n  this._x = x || 0;\n  this._y = y || 0;\n  this._z = z || 0;\n  this._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n  slerp: function ( qa, qb, qm, t ) {\n\n    return qm.copy( qa ).slerp( qb, t );\n\n  },\n\n  slerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n    // fuzz-free, array-based Quaternion SLERP operation\n\n    var x0 = src0[ srcOffset0 + 0 ],\n      y0 = src0[ srcOffset0 + 1 ],\n      z0 = src0[ srcOffset0 + 2 ],\n      w0 = src0[ srcOffset0 + 3 ],\n\n      x1 = src1[ srcOffset1 + 0 ],\n      y1 = src1[ srcOffset1 + 1 ],\n      z1 = src1[ srcOffset1 + 2 ],\n      w1 = src1[ srcOffset1 + 3 ];\n\n    if ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n      var s = 1 - t,\n\n        cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n        dir = ( cos >= 0 ? 1 : - 1 ),\n        sqrSin = 1 - cos * cos;\n\n      // Skip the Slerp for tiny steps to avoid numeric problems:\n      if ( sqrSin > Number.EPSILON ) {\n\n        var sin = Math.sqrt( sqrSin ),\n          len = Math.atan2( sin, cos * dir );\n\n        s = Math.sin( s * len ) / sin;\n        t = Math.sin( t * len ) / sin;\n\n      }\n\n      var tDir = t * dir;\n\n      x0 = x0 * s + x1 * tDir;\n      y0 = y0 * s + y1 * tDir;\n      z0 = z0 * s + z1 * tDir;\n      w0 = w0 * s + w1 * tDir;\n\n      // Normalize in case we just did a lerp:\n      if ( s === 1 - t ) {\n\n        var f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n        x0 *= f;\n        y0 *= f;\n        z0 *= f;\n        w0 *= f;\n\n      }\n\n    }\n\n    dst[ dstOffset ] = x0;\n    dst[ dstOffset + 1 ] = y0;\n    dst[ dstOffset + 2 ] = z0;\n    dst[ dstOffset + 3 ] = w0;\n\n  }\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n  x: {\n\n    get: function () {\n\n      return this._x;\n\n    },\n\n    set: function ( value ) {\n\n      this._x = value;\n      this.onChangeCallback();\n\n    }\n\n  },\n\n  y: {\n\n    get: function () {\n\n      return this._y;\n\n    },\n\n    set: function ( value ) {\n\n      this._y = value;\n      this.onChangeCallback();\n\n    }\n\n  },\n\n  z: {\n\n    get: function () {\n\n      return this._z;\n\n    },\n\n    set: function ( value ) {\n\n      this._z = value;\n      this.onChangeCallback();\n\n    }\n\n  },\n\n  w: {\n\n    get: function () {\n\n      return this._w;\n\n    },\n\n    set: function ( value ) {\n\n      this._w = value;\n      this.onChangeCallback();\n\n    }\n\n  }\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n  set: function ( x, y, z, w ) {\n\n    this._x = x;\n    this._y = y;\n    this._z = z;\n    this._w = w;\n\n    this.onChangeCallback();\n\n    return this;\n\n  },\n\n  clone: function () {\n\n    return new this.constructor( this._x, this._y, this._z, this._w );\n\n  },\n\n  copy: function ( quaternion ) {\n\n    this._x = quaternion.x;\n    this._y = quaternion.y;\n    this._z = quaternion.z;\n    this._w = quaternion.w;\n\n    this.onChangeCallback();\n\n    return this;\n\n  },\n\n  setFromEuler: function ( euler, update ) {\n\n    if ( ! ( euler && euler.isEuler ) ) {\n\n      throw new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n    }\n\n    var x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n    // http://www.mathworks.com/matlabcentral/fileexchange/\n    // \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n    //\tcontent/SpinCalc.m\n\n    var cos = Math.cos;\n    var sin = Math.sin;\n\n    var c1 = cos( x / 2 );\n    var c2 = cos( y / 2 );\n    var c3 = cos( z / 2 );\n\n    var s1 = sin( x / 2 );\n    var s2 = sin( y / 2 );\n    var s3 = sin( z / 2 );\n\n    if ( order === 'XYZ' ) {\n\n      this._x = s1 * c2 * c3 + c1 * s2 * s3;\n      this._y = c1 * s2 * c3 - s1 * c2 * s3;\n      this._z = c1 * c2 * s3 + s1 * s2 * c3;\n      this._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n    } else if ( order === 'YXZ' ) {\n\n      this._x = s1 * c2 * c3 + c1 * s2 * s3;\n      this._y = c1 * s2 * c3 - s1 * c2 * s3;\n      this._z = c1 * c2 * s3 - s1 * s2 * c3;\n      this._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n    } else if ( order === 'ZXY' ) {\n\n      this._x = s1 * c2 * c3 - c1 * s2 * s3;\n      this._y = c1 * s2 * c3 + s1 * c2 * s3;\n      this._z = c1 * c2 * s3 + s1 * s2 * c3;\n      this._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n    } else if ( order === 'ZYX' ) {\n\n      this._x = s1 * c2 * c3 - c1 * s2 * s3;\n      this._y = c1 * s2 * c3 + s1 * c2 * s3;\n      this._z = c1 * c2 * s3 - s1 * s2 * c3;\n      this._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n    } else if ( order === 'YZX' ) {\n\n      this._x = s1 * c2 * c3 + c1 * s2 * s3;\n      this._y = c1 * s2 * c3 + s1 * c2 * s3;\n      this._z = c1 * c2 * s3 - s1 * s2 * c3;\n      this._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n    } else if ( order === 'XZY' ) {\n\n      this._x = s1 * c2 * c3 - c1 * s2 * s3;\n      this._y = c1 * s2 * c3 - s1 * c2 * s3;\n      this._z = c1 * c2 * s3 + s1 * s2 * c3;\n      this._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n    }\n\n    if ( update !== false ) this.onChangeCallback();\n\n    return this;\n\n  },\n\n  setFromAxisAngle: function ( axis, angle ) {\n\n    // http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n    // assumes axis is normalized\n\n    var halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n    this._x = axis.x * s;\n    this._y = axis.y * s;\n    this._z = axis.z * s;\n    this._w = Math.cos( halfAngle );\n\n    this.onChangeCallback();\n\n    return this;\n\n  },\n\n  setFromRotationMatrix: function ( m ) {\n\n    // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n    // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n    var te = m.elements,\n\n      m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n      m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n      m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n      trace = m11 + m22 + m33,\n      s;\n\n    if ( trace > 0 ) {\n\n      s = 0.5 / Math.sqrt( trace + 1.0 );\n\n      this._w = 0.25 / s;\n      this._x = ( m32 - m23 ) * s;\n      this._y = ( m13 - m31 ) * s;\n      this._z = ( m21 - m12 ) * s;\n\n    } else if ( m11 > m22 && m11 > m33 ) {\n\n      s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n      this._w = ( m32 - m23 ) / s;\n      this._x = 0.25 * s;\n      this._y = ( m12 + m21 ) / s;\n      this._z = ( m13 + m31 ) / s;\n\n    } else if ( m22 > m33 ) {\n\n      s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n      this._w = ( m13 - m31 ) / s;\n      this._x = ( m12 + m21 ) / s;\n      this._y = 0.25 * s;\n      this._z = ( m23 + m32 ) / s;\n\n    } else {\n\n      s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n      this._w = ( m21 - m12 ) / s;\n      this._x = ( m13 + m31 ) / s;\n      this._y = ( m23 + m32 ) / s;\n      this._z = 0.25 * s;\n\n    }\n\n    this.onChangeCallback();\n\n    return this;\n\n  },\n\n  setFromUnitVectors: function () {\n\n    // assumes direction vectors vFrom and vTo are normalized\n\n    var v1 = new Vector3();\n    var r;\n\n    var EPS = 0.000001;\n\n    return function setFromUnitVectors( vFrom, vTo ) {\n\n      if ( v1 === undefined ) v1 = new Vector3();\n\n      r = vFrom.dot( vTo ) + 1;\n\n      if ( r < EPS ) {\n\n        r = 0;\n\n        if ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n          v1.set( - vFrom.y, vFrom.x, 0 );\n\n        } else {\n\n          v1.set( 0, - vFrom.z, vFrom.y );\n\n        }\n\n      } else {\n\n        v1.crossVectors( vFrom, vTo );\n\n      }\n\n      this._x = v1.x;\n      this._y = v1.y;\n      this._z = v1.z;\n      this._w = r;\n\n      return this.normalize();\n\n    };\n\n  }(),\n\n  inverse: function () {\n\n    return this.conjugate().normalize();\n\n  },\n\n  conjugate: function () {\n\n    this._x *= - 1;\n    this._y *= - 1;\n    this._z *= - 1;\n\n    this.onChangeCallback();\n\n    return this;\n\n  },\n\n  dot: function ( v ) {\n\n    return this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n  },\n\n  lengthSq: function () {\n\n    return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n  },\n\n  length: function () {\n\n    return Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n  },\n\n  normalize: function () {\n\n    var l = this.length();\n\n    if ( l === 0 ) {\n\n      this._x = 0;\n      this._y = 0;\n      this._z = 0;\n      this._w = 1;\n\n    } else {\n\n      l = 1 / l;\n\n      this._x = this._x * l;\n      this._y = this._y * l;\n      this._z = this._z * l;\n      this._w = this._w * l;\n\n    }\n\n    this.onChangeCallback();\n\n    return this;\n\n  },\n\n  multiply: function ( q, p ) {\n\n    if ( p !== undefined ) {\n\n      console.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n      return this.multiplyQuaternions( q, p );\n\n    }\n\n    return this.multiplyQuaternions( this, q );\n\n  },\n\n  premultiply: function ( q ) {\n\n    return this.multiplyQuaternions( q, this );\n\n  },\n\n  multiplyQuaternions: function ( a, b ) {\n\n    // from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n    var qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n    var qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n    this._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n    this._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n    this._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n    this._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n    this.onChangeCallback();\n\n    return this;\n\n  },\n\n  slerp: function ( qb, t ) {\n\n    if ( t === 0 ) return this;\n    if ( t === 1 ) return this.copy( qb );\n\n    var x = this._x, y = this._y, z = this._z, w = this._w;\n\n    // http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n    var cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n    if ( cosHalfTheta < 0 ) {\n\n      this._w = - qb._w;\n      this._x = - qb._x;\n      this._y = - qb._y;\n      this._z = - qb._z;\n\n      cosHalfTheta = - cosHalfTheta;\n\n    } else {\n\n      this.copy( qb );\n\n    }\n\n    if ( cosHalfTheta >= 1.0 ) {\n\n      this._w = w;\n      this._x = x;\n      this._y = y;\n      this._z = z;\n\n      return this;\n\n    }\n\n    var sinHalfTheta = Math.sqrt( 1.0 - cosHalfTheta * cosHalfTheta );\n\n    if ( Math.abs( sinHalfTheta ) < 0.001 ) {\n\n      this._w = 0.5 * ( w + this._w );\n      this._x = 0.5 * ( x + this._x );\n      this._y = 0.5 * ( y + this._y );\n      this._z = 0.5 * ( z + this._z );\n\n      return this;\n\n    }\n\n    var halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n    var ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n      ratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n    this._w = ( w * ratioA + this._w * ratioB );\n    this._x = ( x * ratioA + this._x * ratioB );\n    this._y = ( y * ratioA + this._y * ratioB );\n    this._z = ( z * ratioA + this._z * ratioB );\n\n    this.onChangeCallback();\n\n    return this;\n\n  },\n\n  equals: function ( quaternion ) {\n\n    return ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n  },\n\n  fromArray: function ( array, offset ) {\n\n    if ( offset === undefined ) offset = 0;\n\n    this._x = array[ offset ];\n    this._y = array[ offset + 1 ];\n    this._z = array[ offset + 2 ];\n    this._w = array[ offset + 3 ];\n\n    this.onChangeCallback();\n\n    return this;\n\n  },\n\n  toArray: function ( array, offset ) {\n\n    if ( array === undefined ) array = [];\n    if ( offset === undefined ) offset = 0;\n\n    array[ offset ] = this._x;\n    array[ offset + 1 ] = this._y;\n    array[ offset + 2 ] = this._z;\n    array[ offset + 3 ] = this._w;\n\n    return array;\n\n  },\n\n  onChange: function ( callback ) {\n\n    this.onChangeCallback = callback;\n\n    return this;\n\n  },\n\n  onChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector3( x, y, z ) {\n\n  this.x = x || 0;\n  this.y = y || 0;\n  this.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n  isVector3: true,\n\n  set: function ( x, y, z ) {\n\n    this.x = x;\n    this.y = y;\n    this.z = z;\n\n    return this;\n\n  },\n\n  setScalar: function ( scalar ) {\n\n    this.x = scalar;\n    this.y = scalar;\n    this.z = scalar;\n\n    return this;\n\n  },\n\n  setX: function ( x ) {\n\n    this.x = x;\n\n    return this;\n\n  },\n\n  setY: function ( y ) {\n\n    this.y = y;\n\n    return this;\n\n  },\n\n  setZ: function ( z ) {\n\n    this.z = z;\n\n    return this;\n\n  },\n\n  setComponent: function ( index, value ) {\n\n    switch ( index ) {\n\n      case 0: this.x = value; break;\n      case 1: this.y = value; break;\n      case 2: this.z = value; break;\n      default: throw new Error( 'index is out of range: ' + index );\n\n    }\n\n    return this;\n\n  },\n\n  getComponent: function ( index ) {\n\n    switch ( index ) {\n\n      case 0: return this.x;\n      case 1: return this.y;\n      case 2: return this.z;\n      default: throw new Error( 'index is out of range: ' + index );\n\n    }\n\n  },\n\n  clone: function () {\n\n    return new this.constructor( this.x, this.y, this.z );\n\n  },\n\n  copy: function ( v ) {\n\n    this.x = v.x;\n    this.y = v.y;\n    this.z = v.z;\n\n    return this;\n\n  },\n\n  add: function ( v, w ) {\n\n    if ( w !== undefined ) {\n\n      console.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n      return this.addVectors( v, w );\n\n    }\n\n    this.x += v.x;\n    this.y += v.y;\n    this.z += v.z;\n\n    return this;\n\n  },\n\n  addScalar: function ( s ) {\n\n    this.x += s;\n    this.y += s;\n    this.z += s;\n\n    return this;\n\n  },\n\n  addVectors: function ( a, b ) {\n\n    this.x = a.x + b.x;\n    this.y = a.y + b.y;\n    this.z = a.z + b.z;\n\n    return this;\n\n  },\n\n  addScaledVector: function ( v, s ) {\n\n    this.x += v.x * s;\n    this.y += v.y * s;\n    this.z += v.z * s;\n\n    return this;\n\n  },\n\n  sub: function ( v, w ) {\n\n    if ( w !== undefined ) {\n\n      console.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n      return this.subVectors( v, w );\n\n    }\n\n    this.x -= v.x;\n    this.y -= v.y;\n    this.z -= v.z;\n\n    return this;\n\n  },\n\n  subScalar: function ( s ) {\n\n    this.x -= s;\n    this.y -= s;\n    this.z -= s;\n\n    return this;\n\n  },\n\n  subVectors: function ( a, b ) {\n\n    this.x = a.x - b.x;\n    this.y = a.y - b.y;\n    this.z = a.z - b.z;\n\n    return this;\n\n  },\n\n  multiply: function ( v, w ) {\n\n    if ( w !== undefined ) {\n\n      console.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n      return this.multiplyVectors( v, w );\n\n    }\n\n    this.x *= v.x;\n    this.y *= v.y;\n    this.z *= v.z;\n\n    return this;\n\n  },\n\n  multiplyScalar: function ( scalar ) {\n\n    this.x *= scalar;\n    this.y *= scalar;\n    this.z *= scalar;\n\n    return this;\n\n  },\n\n  multiplyVectors: function ( a, b ) {\n\n    this.x = a.x * b.x;\n    this.y = a.y * b.y;\n    this.z = a.z * b.z;\n\n    return this;\n\n  },\n\n  applyEuler: function () {\n\n    var quaternion = new Quaternion();\n\n    return function applyEuler( euler ) {\n\n      if ( ! ( euler && euler.isEuler ) ) {\n\n        console.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n      }\n\n      return this.applyQuaternion( quaternion.setFromEuler( euler ) );\n\n    };\n\n  }(),\n\n  applyAxisAngle: function () {\n\n    var quaternion = new Quaternion();\n\n    return function applyAxisAngle( axis, angle ) {\n\n      return this.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\n\n    };\n\n  }(),\n\n  applyMatrix3: function ( m ) {\n\n    var x = this.x, y = this.y, z = this.z;\n    var e = m.elements;\n\n    this.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n    this.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n    this.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n    return this;\n\n  },\n\n  applyMatrix4: function ( m ) {\n\n    var x = this.x, y = this.y, z = this.z;\n    var e = m.elements;\n\n    var w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n    this.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ]  * z + e[ 12 ] ) * w;\n    this.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ]  * z + e[ 13 ] ) * w;\n    this.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n    return this;\n\n  },\n\n  applyQuaternion: function ( q ) {\n\n    var x = this.x, y = this.y, z = this.z;\n    var qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n    // calculate quat * vector\n\n    var ix =  qw * x + qy * z - qz * y;\n    var iy =  qw * y + qz * x - qx * z;\n    var iz =  qw * z + qx * y - qy * x;\n    var iw = - qx * x - qy * y - qz * z;\n\n    // calculate result * inverse quat\n\n    this.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n    this.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n    this.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n    return this;\n\n  },\n\n  project: function () {\n\n    var matrix = new Matrix4();\n\n    return function project( camera ) {\n\n      matrix.multiplyMatrices( camera.projectionMatrix, matrix.getInverse( camera.matrixWorld ) );\n      return this.applyMatrix4( matrix );\n\n    };\n\n  }(),\n\n  unproject: function () {\n\n    var matrix = new Matrix4();\n\n    return function unproject( camera ) {\n\n      matrix.multiplyMatrices( camera.matrixWorld, matrix.getInverse( camera.projectionMatrix ) );\n      return this.applyMatrix4( matrix );\n\n    };\n\n  }(),\n\n  transformDirection: function ( m ) {\n\n    // input: THREE.Matrix4 affine matrix\n    // vector interpreted as a direction\n\n    var x = this.x, y = this.y, z = this.z;\n    var e = m.elements;\n\n    this.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ]  * z;\n    this.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ]  * z;\n    this.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n    return this.normalize();\n\n  },\n\n  divide: function ( v ) {\n\n    this.x /= v.x;\n    this.y /= v.y;\n    this.z /= v.z;\n\n    return this;\n\n  },\n\n  divideScalar: function ( scalar ) {\n\n    return this.multiplyScalar( 1 / scalar );\n\n  },\n\n  min: function ( v ) {\n\n    this.x = Math.min( this.x, v.x );\n    this.y = Math.min( this.y, v.y );\n    this.z = Math.min( this.z, v.z );\n\n    return this;\n\n  },\n\n  max: function ( v ) {\n\n    this.x = Math.max( this.x, v.x );\n    this.y = Math.max( this.y, v.y );\n    this.z = Math.max( this.z, v.z );\n\n    return this;\n\n  },\n\n  clamp: function ( min, max ) {\n\n    // assumes min < max, componentwise\n\n    this.x = Math.max( min.x, Math.min( max.x, this.x ) );\n    this.y = Math.max( min.y, Math.min( max.y, this.y ) );\n    this.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n    return this;\n\n  },\n\n  clampScalar: function () {\n\n    var min = new Vector3();\n    var max = new Vector3();\n\n    return function clampScalar( minVal, maxVal ) {\n\n      min.set( minVal, minVal, minVal );\n      max.set( maxVal, maxVal, maxVal );\n\n      return this.clamp( min, max );\n\n    };\n\n  }(),\n\n  clampLength: function ( min, max ) {\n\n    var length = this.length();\n\n    return this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n  },\n\n  floor: function () {\n\n    this.x = Math.floor( this.x );\n    this.y = Math.floor( this.y );\n    this.z = Math.floor( this.z );\n\n    return this;\n\n  },\n\n  ceil: function () {\n\n    this.x = Math.ceil( this.x );\n    this.y = Math.ceil( this.y );\n    this.z = Math.ceil( this.z );\n\n    return this;\n\n  },\n\n  round: function () {\n\n    this.x = Math.round( this.x );\n    this.y = Math.round( this.y );\n    this.z = Math.round( this.z );\n\n    return this;\n\n  },\n\n  roundToZero: function () {\n\n    this.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n    this.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n    this.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n    return this;\n\n  },\n\n  negate: function () {\n\n    this.x = - this.x;\n    this.y = - this.y;\n    this.z = - this.z;\n\n    return this;\n\n  },\n\n  dot: function ( v ) {\n\n    return this.x * v.x + this.y * v.y + this.z * v.z;\n\n  },\n\n  // TODO lengthSquared?\n\n  lengthSq: function () {\n\n    return this.x * this.x + this.y * this.y + this.z * this.z;\n\n  },\n\n  length: function () {\n\n    return Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n  },\n\n  lengthManhattan: function () {\n\n    return Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n  },\n\n  normalize: function () {\n\n    return this.divideScalar( this.length() || 1 );\n\n  },\n\n  setLength: function ( length ) {\n\n    return this.normalize().multiplyScalar( length );\n\n  },\n\n  lerp: function ( v, alpha ) {\n\n    this.x += ( v.x - this.x ) * alpha;\n    this.y += ( v.y - this.y ) * alpha;\n    this.z += ( v.z - this.z ) * alpha;\n\n    return this;\n\n  },\n\n  lerpVectors: function ( v1, v2, alpha ) {\n\n    return this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n  },\n\n  cross: function ( v, w ) {\n\n    if ( w !== undefined ) {\n\n      console.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n      return this.crossVectors( v, w );\n\n    }\n\n    var x = this.x, y = this.y, z = this.z;\n\n    this.x = y * v.z - z * v.y;\n    this.y = z * v.x - x * v.z;\n    this.z = x * v.y - y * v.x;\n\n    return this;\n\n  },\n\n  crossVectors: function ( a, b ) {\n\n    var ax = a.x, ay = a.y, az = a.z;\n    var bx = b.x, by = b.y, bz = b.z;\n\n    this.x = ay * bz - az * by;\n    this.y = az * bx - ax * bz;\n    this.z = ax * by - ay * bx;\n\n    return this;\n\n  },\n\n  projectOnVector: function ( vector ) {\n\n    var scalar = vector.dot( this ) / vector.lengthSq();\n\n    return this.copy( vector ).multiplyScalar( scalar );\n\n  },\n\n  projectOnPlane: function () {\n\n    var v1 = new Vector3();\n\n    return function projectOnPlane( planeNormal ) {\n\n      v1.copy( this ).projectOnVector( planeNormal );\n\n      return this.sub( v1 );\n\n    };\n\n  }(),\n\n  reflect: function () {\n\n    // reflect incident vector off plane orthogonal to normal\n    // normal is assumed to have unit length\n\n    var v1 = new Vector3();\n\n    return function reflect( normal ) {\n\n      return this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n    };\n\n  }(),\n\n  angleTo: function ( v ) {\n\n    var theta = this.dot( v ) / ( Math.sqrt( this.lengthSq() * v.lengthSq() ) );\n\n    // clamp, to handle numerical problems\n\n    return Math.acos( _Math.clamp( theta, - 1, 1 ) );\n\n  },\n\n  distanceTo: function ( v ) {\n\n    return Math.sqrt( this.distanceToSquared( v ) );\n\n  },\n\n  distanceToSquared: function ( v ) {\n\n    var dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n    return dx * dx + dy * dy + dz * dz;\n\n  },\n\n  distanceToManhattan: function ( v ) {\n\n    return Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n  },\n\n  setFromSpherical: function ( s ) {\n\n    var sinPhiRadius = Math.sin( s.phi ) * s.radius;\n\n    this.x = sinPhiRadius * Math.sin( s.theta );\n    this.y = Math.cos( s.phi ) * s.radius;\n    this.z = sinPhiRadius * Math.cos( s.theta );\n\n    return this;\n\n  },\n\n  setFromCylindrical: function ( c ) {\n\n    this.x = c.radius * Math.sin( c.theta );\n    this.y = c.y;\n    this.z = c.radius * Math.cos( c.theta );\n\n    return this;\n\n  },\n\n  setFromMatrixPosition: function ( m ) {\n\n    var e = m.elements;\n\n    this.x = e[ 12 ];\n    this.y = e[ 13 ];\n    this.z = e[ 14 ];\n\n    return this;\n\n  },\n\n  setFromMatrixScale: function ( m ) {\n\n    var sx = this.setFromMatrixColumn( m, 0 ).length();\n    var sy = this.setFromMatrixColumn( m, 1 ).length();\n    var sz = this.setFromMatrixColumn( m, 2 ).length();\n\n    this.x = sx;\n    this.y = sy;\n    this.z = sz;\n\n    return this;\n\n  },\n\n  setFromMatrixColumn: function ( m, index ) {\n\n    return this.fromArray( m.elements, index * 4 );\n\n  },\n\n  equals: function ( v ) {\n\n    return ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n  },\n\n  fromArray: function ( array, offset ) {\n\n    if ( offset === undefined ) offset = 0;\n\n    this.x = array[ offset ];\n    this.y = array[ offset + 1 ];\n    this.z = array[ offset + 2 ];\n\n    return this;\n\n  },\n\n  toArray: function ( array, offset ) {\n\n    if ( array === undefined ) array = [];\n    if ( offset === undefined ) offset = 0;\n\n    array[ offset ] = this.x;\n    array[ offset + 1 ] = this.y;\n    array[ offset + 2 ] = this.z;\n\n    return array;\n\n  },\n\n  fromBufferAttribute: function ( attribute, index, offset ) {\n\n    if ( offset !== undefined ) {\n\n      console.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n    }\n\n    this.x = attribute.getX( index );\n    this.y = attribute.getY( index );\n    this.z = attribute.getZ( index );\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n  this.elements = [\n\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1\n\n  ];\n\n  if ( arguments.length > 0 ) {\n\n    console.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n  }\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n  isMatrix4: true,\n\n  set: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n    var te = this.elements;\n\n    te[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n    te[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n    te[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n    te[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n    return this;\n\n  },\n\n  identity: function () {\n\n    this.set(\n\n      1, 0, 0, 0,\n      0, 1, 0, 0,\n      0, 0, 1, 0,\n      0, 0, 0, 1\n\n    );\n\n    return this;\n\n  },\n\n  clone: function () {\n\n    return new Matrix4().fromArray( this.elements );\n\n  },\n\n  copy: function ( m ) {\n\n    var te = this.elements;\n    var me = m.elements;\n\n    te[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n    te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n    te[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n    te[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n    return this;\n\n  },\n\n  copyPosition: function ( m ) {\n\n    var te = this.elements, me = m.elements;\n\n    te[ 12 ] = me[ 12 ];\n    te[ 13 ] = me[ 13 ];\n    te[ 14 ] = me[ 14 ];\n\n    return this;\n\n  },\n\n  extractBasis: function ( xAxis, yAxis, zAxis ) {\n\n    xAxis.setFromMatrixColumn( this, 0 );\n    yAxis.setFromMatrixColumn( this, 1 );\n    zAxis.setFromMatrixColumn( this, 2 );\n\n    return this;\n\n  },\n\n  makeBasis: function ( xAxis, yAxis, zAxis ) {\n\n    this.set(\n      xAxis.x, yAxis.x, zAxis.x, 0,\n      xAxis.y, yAxis.y, zAxis.y, 0,\n      xAxis.z, yAxis.z, zAxis.z, 0,\n      0,       0,       0,       1\n    );\n\n    return this;\n\n  },\n\n  extractRotation: function () {\n\n    var v1 = new Vector3();\n\n    return function extractRotation( m ) {\n\n      var te = this.elements;\n      var me = m.elements;\n\n      var scaleX = 1 / v1.setFromMatrixColumn( m, 0 ).length();\n      var scaleY = 1 / v1.setFromMatrixColumn( m, 1 ).length();\n      var scaleZ = 1 / v1.setFromMatrixColumn( m, 2 ).length();\n\n      te[ 0 ] = me[ 0 ] * scaleX;\n      te[ 1 ] = me[ 1 ] * scaleX;\n      te[ 2 ] = me[ 2 ] * scaleX;\n\n      te[ 4 ] = me[ 4 ] * scaleY;\n      te[ 5 ] = me[ 5 ] * scaleY;\n      te[ 6 ] = me[ 6 ] * scaleY;\n\n      te[ 8 ] = me[ 8 ] * scaleZ;\n      te[ 9 ] = me[ 9 ] * scaleZ;\n      te[ 10 ] = me[ 10 ] * scaleZ;\n\n      return this;\n\n    };\n\n  }(),\n\n  makeRotationFromEuler: function ( euler ) {\n\n    if ( ! ( euler && euler.isEuler ) ) {\n\n      console.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n    }\n\n    var te = this.elements;\n\n    var x = euler.x, y = euler.y, z = euler.z;\n    var a = Math.cos( x ), b = Math.sin( x );\n    var c = Math.cos( y ), d = Math.sin( y );\n    var e = Math.cos( z ), f = Math.sin( z );\n\n    if ( euler.order === 'XYZ' ) {\n\n      var ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n      te[ 0 ] = c * e;\n      te[ 4 ] = - c * f;\n      te[ 8 ] = d;\n\n      te[ 1 ] = af + be * d;\n      te[ 5 ] = ae - bf * d;\n      te[ 9 ] = - b * c;\n\n      te[ 2 ] = bf - ae * d;\n      te[ 6 ] = be + af * d;\n      te[ 10 ] = a * c;\n\n    } else if ( euler.order === 'YXZ' ) {\n\n      var ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n      te[ 0 ] = ce + df * b;\n      te[ 4 ] = de * b - cf;\n      te[ 8 ] = a * d;\n\n      te[ 1 ] = a * f;\n      te[ 5 ] = a * e;\n      te[ 9 ] = - b;\n\n      te[ 2 ] = cf * b - de;\n      te[ 6 ] = df + ce * b;\n      te[ 10 ] = a * c;\n\n    } else if ( euler.order === 'ZXY' ) {\n\n      var ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n      te[ 0 ] = ce - df * b;\n      te[ 4 ] = - a * f;\n      te[ 8 ] = de + cf * b;\n\n      te[ 1 ] = cf + de * b;\n      te[ 5 ] = a * e;\n      te[ 9 ] = df - ce * b;\n\n      te[ 2 ] = - a * d;\n      te[ 6 ] = b;\n      te[ 10 ] = a * c;\n\n    } else if ( euler.order === 'ZYX' ) {\n\n      var ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n      te[ 0 ] = c * e;\n      te[ 4 ] = be * d - af;\n      te[ 8 ] = ae * d + bf;\n\n      te[ 1 ] = c * f;\n      te[ 5 ] = bf * d + ae;\n      te[ 9 ] = af * d - be;\n\n      te[ 2 ] = - d;\n      te[ 6 ] = b * c;\n      te[ 10 ] = a * c;\n\n    } else if ( euler.order === 'YZX' ) {\n\n      var ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n      te[ 0 ] = c * e;\n      te[ 4 ] = bd - ac * f;\n      te[ 8 ] = bc * f + ad;\n\n      te[ 1 ] = f;\n      te[ 5 ] = a * e;\n      te[ 9 ] = - b * e;\n\n      te[ 2 ] = - d * e;\n      te[ 6 ] = ad * f + bc;\n      te[ 10 ] = ac - bd * f;\n\n    } else if ( euler.order === 'XZY' ) {\n\n      var ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n      te[ 0 ] = c * e;\n      te[ 4 ] = - f;\n      te[ 8 ] = d * e;\n\n      te[ 1 ] = ac * f + bd;\n      te[ 5 ] = a * e;\n      te[ 9 ] = ad * f - bc;\n\n      te[ 2 ] = bc * f - ad;\n      te[ 6 ] = b * e;\n      te[ 10 ] = bd * f + ac;\n\n    }\n\n    // last column\n    te[ 3 ] = 0;\n    te[ 7 ] = 0;\n    te[ 11 ] = 0;\n\n    // bottom row\n    te[ 12 ] = 0;\n    te[ 13 ] = 0;\n    te[ 14 ] = 0;\n    te[ 15 ] = 1;\n\n    return this;\n\n  },\n\n  makeRotationFromQuaternion: function ( q ) {\n\n    var te = this.elements;\n\n    var x = q._x, y = q._y, z = q._z, w = q._w;\n    var x2 = x + x, y2 = y + y, z2 = z + z;\n    var xx = x * x2, xy = x * y2, xz = x * z2;\n    var yy = y * y2, yz = y * z2, zz = z * z2;\n    var wx = w * x2, wy = w * y2, wz = w * z2;\n\n    te[ 0 ] = 1 - ( yy + zz );\n    te[ 4 ] = xy - wz;\n    te[ 8 ] = xz + wy;\n\n    te[ 1 ] = xy + wz;\n    te[ 5 ] = 1 - ( xx + zz );\n    te[ 9 ] = yz - wx;\n\n    te[ 2 ] = xz - wy;\n    te[ 6 ] = yz + wx;\n    te[ 10 ] = 1 - ( xx + yy );\n\n    // last column\n    te[ 3 ] = 0;\n    te[ 7 ] = 0;\n    te[ 11 ] = 0;\n\n    // bottom row\n    te[ 12 ] = 0;\n    te[ 13 ] = 0;\n    te[ 14 ] = 0;\n    te[ 15 ] = 1;\n\n    return this;\n\n  },\n\n  lookAt: function () {\n\n    var x = new Vector3();\n    var y = new Vector3();\n    var z = new Vector3();\n\n    return function lookAt( eye, target, up ) {\n\n      var te = this.elements;\n\n      z.subVectors( eye, target );\n\n      if ( z.lengthSq() === 0 ) {\n\n        // eye and target are in the same position\n\n        z.z = 1;\n\n      }\n\n      z.normalize();\n      x.crossVectors( up, z );\n\n      if ( x.lengthSq() === 0 ) {\n\n        // up and z are parallel\n\n        if ( Math.abs( up.z ) === 1 ) {\n\n          z.x += 0.0001;\n\n        } else {\n\n          z.z += 0.0001;\n\n        }\n\n        z.normalize();\n        x.crossVectors( up, z );\n\n      }\n\n      x.normalize();\n      y.crossVectors( z, x );\n\n      te[ 0 ] = x.x; te[ 4 ] = y.x; te[ 8 ] = z.x;\n      te[ 1 ] = x.y; te[ 5 ] = y.y; te[ 9 ] = z.y;\n      te[ 2 ] = x.z; te[ 6 ] = y.z; te[ 10 ] = z.z;\n\n      return this;\n\n    };\n\n  }(),\n\n  multiply: function ( m, n ) {\n\n    if ( n !== undefined ) {\n\n      console.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n      return this.multiplyMatrices( m, n );\n\n    }\n\n    return this.multiplyMatrices( this, m );\n\n  },\n\n  premultiply: function ( m ) {\n\n    return this.multiplyMatrices( m, this );\n\n  },\n\n  multiplyMatrices: function ( a, b ) {\n\n    var ae = a.elements;\n    var be = b.elements;\n    var te = this.elements;\n\n    var a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n    var a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n    var a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n    var a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n    var b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n    var b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n    var b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n    var b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n    te[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n    te[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n    te[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n    te[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n    te[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n    te[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n    te[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n    te[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n    te[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n    te[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n    te[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n    te[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n    te[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n    te[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n    te[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n    te[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n    return this;\n\n  },\n\n  multiplyScalar: function ( s ) {\n\n    var te = this.elements;\n\n    te[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n    te[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n    te[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n    te[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n    return this;\n\n  },\n\n  applyToBufferAttribute: function () {\n\n    var v1 = new Vector3();\n\n    return function applyToBufferAttribute( attribute ) {\n\n      for ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n        v1.x = attribute.getX( i );\n        v1.y = attribute.getY( i );\n        v1.z = attribute.getZ( i );\n\n        v1.applyMatrix4( this );\n\n        attribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n      }\n\n      return attribute;\n\n    };\n\n  }(),\n\n  determinant: function () {\n\n    var te = this.elements;\n\n    var n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n    var n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n    var n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n    var n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n    //TODO: make this more efficient\n    //( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n    return (\n      n41 * (\n        + n14 * n23 * n32\n        - n13 * n24 * n32\n        - n14 * n22 * n33\n        + n12 * n24 * n33\n        + n13 * n22 * n34\n        - n12 * n23 * n34\n      ) +\n      n42 * (\n        + n11 * n23 * n34\n        - n11 * n24 * n33\n        + n14 * n21 * n33\n        - n13 * n21 * n34\n        + n13 * n24 * n31\n        - n14 * n23 * n31\n      ) +\n      n43 * (\n        + n11 * n24 * n32\n        - n11 * n22 * n34\n        - n14 * n21 * n32\n        + n12 * n21 * n34\n        + n14 * n22 * n31\n        - n12 * n24 * n31\n      ) +\n      n44 * (\n        - n13 * n22 * n31\n        - n11 * n23 * n32\n        + n11 * n22 * n33\n        + n13 * n21 * n32\n        - n12 * n21 * n33\n        + n12 * n23 * n31\n      )\n\n    );\n\n  },\n\n  transpose: function () {\n\n    var te = this.elements;\n    var tmp;\n\n    tmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n    tmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n    tmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n    tmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n    tmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n    tmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n    return this;\n\n  },\n\n  setPosition: function ( v ) {\n\n    var te = this.elements;\n\n    te[ 12 ] = v.x;\n    te[ 13 ] = v.y;\n    te[ 14 ] = v.z;\n\n    return this;\n\n  },\n\n  getInverse: function ( m, throwOnDegenerate ) {\n\n    // based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n    var te = this.elements,\n      me = m.elements,\n\n      n11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n      n12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n      n13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n      n14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n      t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n      t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n      t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n      t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n    var det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n    if ( det === 0 ) {\n\n      var msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n      if ( throwOnDegenerate === true ) {\n\n        throw new Error( msg );\n\n      } else {\n\n        console.warn( msg );\n\n      }\n\n      return this.identity();\n\n    }\n\n    var detInv = 1 / det;\n\n    te[ 0 ] = t11 * detInv;\n    te[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n    te[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n    te[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n    te[ 4 ] = t12 * detInv;\n    te[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n    te[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n    te[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n    te[ 8 ] = t13 * detInv;\n    te[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n    te[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n    te[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n    te[ 12 ] = t14 * detInv;\n    te[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n    te[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n    te[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n    return this;\n\n  },\n\n  scale: function ( v ) {\n\n    var te = this.elements;\n    var x = v.x, y = v.y, z = v.z;\n\n    te[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n    te[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n    te[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n    te[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n    return this;\n\n  },\n\n  getMaxScaleOnAxis: function () {\n\n    var te = this.elements;\n\n    var scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n    var scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n    var scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n    return Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n  },\n\n  makeTranslation: function ( x, y, z ) {\n\n    this.set(\n\n      1, 0, 0, x,\n      0, 1, 0, y,\n      0, 0, 1, z,\n      0, 0, 0, 1\n\n    );\n\n    return this;\n\n  },\n\n  makeRotationX: function ( theta ) {\n\n    var c = Math.cos( theta ), s = Math.sin( theta );\n\n    this.set(\n\n      1, 0,  0, 0,\n      0, c, - s, 0,\n      0, s,  c, 0,\n      0, 0,  0, 1\n\n    );\n\n    return this;\n\n  },\n\n  makeRotationY: function ( theta ) {\n\n    var c = Math.cos( theta ), s = Math.sin( theta );\n\n    this.set(\n\n      c, 0, s, 0,\n      0, 1, 0, 0,\n      - s, 0, c, 0,\n      0, 0, 0, 1\n\n    );\n\n    return this;\n\n  },\n\n  makeRotationZ: function ( theta ) {\n\n    var c = Math.cos( theta ), s = Math.sin( theta );\n\n    this.set(\n\n      c, - s, 0, 0,\n      s,  c, 0, 0,\n      0,  0, 1, 0,\n      0,  0, 0, 1\n\n    );\n\n    return this;\n\n  },\n\n  makeRotationAxis: function ( axis, angle ) {\n\n    // Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n    var c = Math.cos( angle );\n    var s = Math.sin( angle );\n    var t = 1 - c;\n    var x = axis.x, y = axis.y, z = axis.z;\n    var tx = t * x, ty = t * y;\n\n    this.set(\n\n      tx * x + c, tx * y - s * z, tx * z + s * y, 0,\n      tx * y + s * z, ty * y + c, ty * z - s * x, 0,\n      tx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n      0, 0, 0, 1\n\n    );\n\n    return this;\n\n  },\n\n  makeScale: function ( x, y, z ) {\n\n    this.set(\n\n      x, 0, 0, 0,\n      0, y, 0, 0,\n      0, 0, z, 0,\n      0, 0, 0, 1\n\n    );\n\n    return this;\n\n  },\n\n  makeShear: function ( x, y, z ) {\n\n    this.set(\n\n      1, y, z, 0,\n      x, 1, z, 0,\n      x, y, 1, 0,\n      0, 0, 0, 1\n\n    );\n\n    return this;\n\n  },\n\n  compose: function ( position, quaternion, scale ) {\n\n    this.makeRotationFromQuaternion( quaternion );\n    this.scale( scale );\n    this.setPosition( position );\n\n    return this;\n\n  },\n\n  decompose: function () {\n\n    var vector = new Vector3();\n    var matrix = new Matrix4();\n\n    return function decompose( position, quaternion, scale ) {\n\n      var te = this.elements;\n\n      var sx = vector.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n      var sy = vector.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n      var sz = vector.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n      // if determine is negative, we need to invert one scale\n      var det = this.determinant();\n      if ( det < 0 ) sx = - sx;\n\n      position.x = te[ 12 ];\n      position.y = te[ 13 ];\n      position.z = te[ 14 ];\n\n      // scale the rotation part\n      matrix.copy( this );\n\n      var invSX = 1 / sx;\n      var invSY = 1 / sy;\n      var invSZ = 1 / sz;\n\n      matrix.elements[ 0 ] *= invSX;\n      matrix.elements[ 1 ] *= invSX;\n      matrix.elements[ 2 ] *= invSX;\n\n      matrix.elements[ 4 ] *= invSY;\n      matrix.elements[ 5 ] *= invSY;\n      matrix.elements[ 6 ] *= invSY;\n\n      matrix.elements[ 8 ] *= invSZ;\n      matrix.elements[ 9 ] *= invSZ;\n      matrix.elements[ 10 ] *= invSZ;\n\n      quaternion.setFromRotationMatrix( matrix );\n\n      scale.x = sx;\n      scale.y = sy;\n      scale.z = sz;\n\n      return this;\n\n    };\n\n  }(),\n\n  makePerspective: function ( left, right, top, bottom, near, far ) {\n\n    if ( far === undefined ) {\n\n      console.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n    }\n\n    var te = this.elements;\n    var x = 2 * near / ( right - left );\n    var y = 2 * near / ( top - bottom );\n\n    var a = ( right + left ) / ( right - left );\n    var b = ( top + bottom ) / ( top - bottom );\n    var c = - ( far + near ) / ( far - near );\n    var d = - 2 * far * near / ( far - near );\n\n    te[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n    te[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n    te[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n    te[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n    return this;\n\n  },\n\n  makeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n    var te = this.elements;\n    var w = 1.0 / ( right - left );\n    var h = 1.0 / ( top - bottom );\n    var p = 1.0 / ( far - near );\n\n    var x = ( right + left ) * w;\n    var y = ( top + bottom ) * h;\n    var z = ( far + near ) * p;\n\n    te[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n    te[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n    te[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n    te[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n    return this;\n\n  },\n\n  equals: function ( matrix ) {\n\n    var te = this.elements;\n    var me = matrix.elements;\n\n    for ( var i = 0; i < 16; i ++ ) {\n\n      if ( te[ i ] !== me[ i ] ) return false;\n\n    }\n\n    return true;\n\n  },\n\n  fromArray: function ( array, offset ) {\n\n    if ( offset === undefined ) offset = 0;\n\n    for ( var i = 0; i < 16; i ++ ) {\n\n      this.elements[ i ] = array[ i + offset ];\n\n    }\n\n    return this;\n\n  },\n\n  toArray: function ( array, offset ) {\n\n    if ( array === undefined ) array = [];\n    if ( offset === undefined ) offset = 0;\n\n    var te = this.elements;\n\n    array[ offset ] = te[ 0 ];\n    array[ offset + 1 ] = te[ 1 ];\n    array[ offset + 2 ] = te[ 2 ];\n    array[ offset + 3 ] = te[ 3 ];\n\n    array[ offset + 4 ] = te[ 4 ];\n    array[ offset + 5 ] = te[ 5 ];\n    array[ offset + 6 ] = te[ 6 ];\n    array[ offset + 7 ] = te[ 7 ];\n\n    array[ offset + 8 ] = te[ 8 ];\n    array[ offset + 9 ] = te[ 9 ];\n    array[ offset + 10 ] = te[ 10 ];\n    array[ offset + 11 ] = te[ 11 ];\n\n    array[ offset + 12 ] = te[ 12 ];\n    array[ offset + 13 ] = te[ 13 ];\n    array[ offset + 14 ] = te[ 14 ];\n    array[ offset + 15 ] = te[ 15 ];\n\n    return array;\n\n  }\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n  Texture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n  this.image = { data: data, width: width, height: height };\n\n  this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n  this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n  this.generateMipmaps = false;\n  this.flipY = false;\n  this.unpackAlignment = 1;\n\n}\n\nDataTexture.prototype = Object.create( Texture.prototype );\nDataTexture.prototype.constructor = DataTexture;\n\nDataTexture.prototype.isDataTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n  images = images !== undefined ? images : [];\n  mapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\n  Texture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n  this.flipY = false;\n\n}\n\nCubeTexture.prototype = Object.create( Texture.prototype );\nCubeTexture.prototype.constructor = CubeTexture;\n\nCubeTexture.prototype.isCubeTexture = true;\n\nObject.defineProperty( CubeTexture.prototype, 'images', {\n\n  get: function () {\n\n    return this.image;\n\n  },\n\n  set: function ( value ) {\n\n    this.image = value;\n\n  }\n\n} );\n\n/**\n * @author tschw\n *\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program, renderer )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [renderer] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'renderer' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (renderer factorizations):\n *\n * .upload( gl, seq, values, renderer )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (renderer factorizations):\n *\n * .setValue( gl, name, value )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .set( gl, obj, prop )\n *\n * \t\tsets uniform from object and property with same name than uniform\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nvar emptyTexture = new Texture();\nvar emptyCubeTexture = new CubeTexture();\n\n// --- Base for inner nodes (including the root) ---\n\nfunction UniformContainer() {\n\n  this.seq = [];\n  this.map = {};\n\n}\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nvar arrayCacheF32 = [];\nvar arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nvar mat4array = new Float32Array( 16 );\nvar mat3array = new Float32Array( 9 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n  var firstElem = array[ 0 ];\n\n  if ( firstElem <= 0 || firstElem > 0 ) return array;\n  // unoptimized: ! isNaN( firstElem )\n  // see http://jacksondunstan.com/articles/983\n\n  var n = nBlocks * blockSize,\n    r = arrayCacheF32[ n ];\n\n  if ( r === undefined ) {\n\n    r = new Float32Array( n );\n    arrayCacheF32[ n ] = r;\n\n  }\n\n  if ( nBlocks !== 0 ) {\n\n    firstElem.toArray( r, 0 );\n\n    for ( var i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n      offset += blockSize;\n      array[ i ].toArray( r, offset );\n\n    }\n\n  }\n\n  return r;\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( renderer, n ) {\n\n  var r = arrayCacheI32[ n ];\n\n  if ( r === undefined ) {\n\n    r = new Int32Array( n );\n    arrayCacheI32[ n ] = r;\n\n  }\n\n  for ( var i = 0; i !== n; ++ i )\n    r[ i ] = renderer.allocTextureUnit();\n\n  return r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValue1f( gl, v ) { gl.uniform1f( this.addr, v ); }\nfunction setValue1i( gl, v ) { gl.uniform1i( this.addr, v ); }\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValue2fv( gl, v ) {\n\n  if ( v.x === undefined ) gl.uniform2fv( this.addr, v );\n  else gl.uniform2f( this.addr, v.x, v.y );\n\n}\n\nfunction setValue3fv( gl, v ) {\n\n  if ( v.x !== undefined )\n    gl.uniform3f( this.addr, v.x, v.y, v.z );\n  else if ( v.r !== undefined )\n    gl.uniform3f( this.addr, v.r, v.g, v.b );\n  else\n    gl.uniform3fv( this.addr, v );\n\n}\n\nfunction setValue4fv( gl, v ) {\n\n  if ( v.x === undefined ) gl.uniform4fv( this.addr, v );\n  else gl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n}\n\n// Single matrix (from flat array or MatrixN)\n\nfunction setValue2fm( gl, v ) {\n\n  gl.uniformMatrix2fv( this.addr, false, v.elements || v );\n\n}\n\nfunction setValue3fm( gl, v ) {\n\n  if ( v.elements === undefined ) {\n\n    gl.uniformMatrix3fv( this.addr, false, v );\n\n  } else {\n\n    mat3array.set( v.elements );\n    gl.uniformMatrix3fv( this.addr, false, mat3array );\n\n  }\n\n}\n\nfunction setValue4fm( gl, v ) {\n\n  if ( v.elements === undefined ) {\n\n    gl.uniformMatrix4fv( this.addr, false, v );\n\n  } else {\n\n    mat4array.set( v.elements );\n    gl.uniformMatrix4fv( this.addr, false, mat4array );\n\n  }\n\n}\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, renderer ) {\n\n  var unit = renderer.allocTextureUnit();\n  gl.uniform1i( this.addr, unit );\n  renderer.setTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT6( gl, v, renderer ) {\n\n  var unit = renderer.allocTextureUnit();\n  gl.uniform1i( this.addr, unit );\n  renderer.setTextureCube( v || emptyCubeTexture, unit );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\n\nfunction setValue2iv( gl, v ) { gl.uniform2iv( this.addr, v ); }\nfunction setValue3iv( gl, v ) { gl.uniform3iv( this.addr, v ); }\nfunction setValue4iv( gl, v ) { gl.uniform4iv( this.addr, v ); }\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n  switch ( type ) {\n\n    case 0x1406: return setValue1f; // FLOAT\n    case 0x8b50: return setValue2fv; // _VEC2\n    case 0x8b51: return setValue3fv; // _VEC3\n    case 0x8b52: return setValue4fv; // _VEC4\n\n    case 0x8b5a: return setValue2fm; // _MAT2\n    case 0x8b5b: return setValue3fm; // _MAT3\n    case 0x8b5c: return setValue4fm; // _MAT4\n\n    case 0x8b5e: case 0x8d66: return setValueT1; // SAMPLER_2D, SAMPLER_EXTERNAL_OES\n    case 0x8b60: return setValueT6; // SAMPLER_CUBE\n\n    case 0x1404: case 0x8b56: return setValue1i; // INT, BOOL\n    case 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\n    case 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\n    case 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\n\n  }\n\n}\n\n// Array of scalars\n\nfunction setValue1fv( gl, v ) { gl.uniform1fv( this.addr, v ); }\nfunction setValue1iv( gl, v ) { gl.uniform1iv( this.addr, v ); }\n\n// Array of vectors (flat or from THREE classes)\n\nfunction setValueV2a( gl, v ) {\n\n  gl.uniform2fv( this.addr, flatten( v, this.size, 2 ) );\n\n}\n\nfunction setValueV3a( gl, v ) {\n\n  gl.uniform3fv( this.addr, flatten( v, this.size, 3 ) );\n\n}\n\nfunction setValueV4a( gl, v ) {\n\n  gl.uniform4fv( this.addr, flatten( v, this.size, 4 ) );\n\n}\n\n// Array of matrices (flat or from THREE clases)\n\nfunction setValueM2a( gl, v ) {\n\n  gl.uniformMatrix2fv( this.addr, false, flatten( v, this.size, 4 ) );\n\n}\n\nfunction setValueM3a( gl, v ) {\n\n  gl.uniformMatrix3fv( this.addr, false, flatten( v, this.size, 9 ) );\n\n}\n\nfunction setValueM4a( gl, v ) {\n\n  gl.uniformMatrix4fv( this.addr, false, flatten( v, this.size, 16 ) );\n\n}\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1a( gl, v, renderer ) {\n\n  var n = v.length,\n    units = allocTexUnits( renderer, n );\n\n  gl.uniform1iv( this.addr, units );\n\n  for ( var i = 0; i !== n; ++ i ) {\n\n    renderer.setTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n  }\n\n}\n\nfunction setValueT6a( gl, v, renderer ) {\n\n  var n = v.length,\n    units = allocTexUnits( renderer, n );\n\n  gl.uniform1iv( this.addr, units );\n\n  for ( var i = 0; i !== n; ++ i ) {\n\n    renderer.setTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n  }\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n  switch ( type ) {\n\n    case 0x1406: return setValue1fv; // FLOAT\n    case 0x8b50: return setValueV2a; // _VEC2\n    case 0x8b51: return setValueV3a; // _VEC3\n    case 0x8b52: return setValueV4a; // _VEC4\n\n    case 0x8b5a: return setValueM2a; // _MAT2\n    case 0x8b5b: return setValueM3a; // _MAT3\n    case 0x8b5c: return setValueM4a; // _MAT4\n\n    case 0x8b5e: return setValueT1a; // SAMPLER_2D\n    case 0x8b60: return setValueT6a; // SAMPLER_CUBE\n\n    case 0x1404: case 0x8b56: return setValue1iv; // INT, BOOL\n    case 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\n    case 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\n    case 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\n\n  }\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n  this.id = id;\n  this.addr = addr;\n  this.setValue = getSingularSetter( activeInfo.type );\n\n  // this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n  this.id = id;\n  this.addr = addr;\n  this.size = activeInfo.size;\n  this.setValue = getPureArraySetter( activeInfo.type );\n\n  // this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction StructuredUniform( id ) {\n\n  this.id = id;\n\n  UniformContainer.call( this ); // mix-in\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value ) {\n\n  // Note: Don't need an extra 'renderer' parameter, since samplers\n  // are not allowed in structured uniforms.\n\n  var seq = this.seq;\n\n  for ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n    var u = seq[ i ];\n    u.setValue( gl, value[ u.id ] );\n\n  }\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nvar RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n  container.seq.push( uniformObject );\n  container.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n  var path = activeInfo.name,\n    pathLength = path.length;\n\n  // reset RegExp object, because of the early exit of a previous run\n  RePathPart.lastIndex = 0;\n\n  for ( ; ; ) {\n\n    var match = RePathPart.exec( path ),\n      matchEnd = RePathPart.lastIndex,\n\n      id = match[ 1 ],\n      idIsIndex = match[ 2 ] === ']',\n      subscript = match[ 3 ];\n\n    if ( idIsIndex ) id = id | 0; // convert to integer\n\n    if ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n      // bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n      addUniform( container, subscript === undefined ?\n        new SingleUniform( id, activeInfo, addr ) :\n        new PureArrayUniform( id, activeInfo, addr ) );\n\n      break;\n\n    } else {\n\n      // step into inner node / create it in case it doesn't exist\n\n      var map = container.map, next = map[ id ];\n\n      if ( next === undefined ) {\n\n        next = new StructuredUniform( id );\n        addUniform( container, next );\n\n      }\n\n      container = next;\n\n    }\n\n  }\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program, renderer ) {\n\n  UniformContainer.call( this );\n\n  this.renderer = renderer;\n\n  var n = gl.getProgramParameter( program, gl.ACTIVE_UNIFORMS );\n\n  for ( var i = 0; i < n; ++ i ) {\n\n    var info = gl.getActiveUniform( program, i ),\n      path = info.name,\n      addr = gl.getUniformLocation( program, path );\n\n    parseUniform( info, addr, this );\n\n  }\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value ) {\n\n  var u = this.map[ name ];\n\n  if ( u !== undefined ) u.setValue( gl, value, this.renderer );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n  var v = object[ name ];\n\n  if ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, renderer ) {\n\n  for ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n    var u = seq[ i ],\n      v = values[ u.id ];\n\n    if ( v.needsUpdate !== false ) {\n\n      // note: always updating when .needsUpdate is undefined\n      u.setValue( gl, v.value, renderer );\n\n    }\n\n  }\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n  var r = [];\n\n  for ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n    var u = seq[ i ];\n    if ( u.id in values ) r.push( u );\n\n  }\n\n  return r;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar ColorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n  'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n  'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n  'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n  'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n  'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n  'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n  'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n  'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n  'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n  'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n  'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n  'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n  'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n  'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n  'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n  'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n  'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n  'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n  'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n  'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n  'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n  'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n  'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nfunction Color( r, g, b ) {\n\n  if ( g === undefined && b === undefined ) {\n\n    // r is THREE.Color, hex or string\n    return this.set( r );\n\n  }\n\n  return this.setRGB( r, g, b );\n\n}\n\nObject.assign( Color.prototype, {\n\n  isColor: true,\n\n  r: 1, g: 1, b: 1,\n\n  set: function ( value ) {\n\n    if ( value && value.isColor ) {\n\n      this.copy( value );\n\n    } else if ( typeof value === 'number' ) {\n\n      this.setHex( value );\n\n    } else if ( typeof value === 'string' ) {\n\n      this.setStyle( value );\n\n    }\n\n    return this;\n\n  },\n\n  setScalar: function ( scalar ) {\n\n    this.r = scalar;\n    this.g = scalar;\n    this.b = scalar;\n\n    return this;\n\n  },\n\n  setHex: function ( hex ) {\n\n    hex = Math.floor( hex );\n\n    this.r = ( hex >> 16 & 255 ) / 255;\n    this.g = ( hex >> 8 & 255 ) / 255;\n    this.b = ( hex & 255 ) / 255;\n\n    return this;\n\n  },\n\n  setRGB: function ( r, g, b ) {\n\n    this.r = r;\n    this.g = g;\n    this.b = b;\n\n    return this;\n\n  },\n\n  setHSL: function () {\n\n    function hue2rgb( p, q, t ) {\n\n      if ( t < 0 ) t += 1;\n      if ( t > 1 ) t -= 1;\n      if ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n      if ( t < 1 / 2 ) return q;\n      if ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n      return p;\n\n    }\n\n    return function setHSL( h, s, l ) {\n\n      // h,s,l ranges are in 0.0 - 1.0\n      h = _Math.euclideanModulo( h, 1 );\n      s = _Math.clamp( s, 0, 1 );\n      l = _Math.clamp( l, 0, 1 );\n\n      if ( s === 0 ) {\n\n        this.r = this.g = this.b = l;\n\n      } else {\n\n        var p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n        var q = ( 2 * l ) - p;\n\n        this.r = hue2rgb( q, p, h + 1 / 3 );\n        this.g = hue2rgb( q, p, h );\n        this.b = hue2rgb( q, p, h - 1 / 3 );\n\n      }\n\n      return this;\n\n    };\n\n  }(),\n\n  setStyle: function ( style ) {\n\n    function handleAlpha( string ) {\n\n      if ( string === undefined ) return;\n\n      if ( parseFloat( string ) < 1 ) {\n\n        console.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n      }\n\n    }\n\n\n    var m;\n\n    if ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\n      // rgb / hsl\n\n      var color;\n      var name = m[ 1 ];\n      var components = m[ 2 ];\n\n      switch ( name ) {\n\n        case 'rgb':\n        case 'rgba':\n\n          if ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n            // rgb(255,0,0) rgba(255,0,0,0.5)\n            this.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n            this.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n            this.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n            handleAlpha( color[ 5 ] );\n\n            return this;\n\n          }\n\n          if ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n            // rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n            this.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n            this.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n            this.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n            handleAlpha( color[ 5 ] );\n\n            return this;\n\n          }\n\n          break;\n\n        case 'hsl':\n        case 'hsla':\n\n          if ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n            // hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n            var h = parseFloat( color[ 1 ] ) / 360;\n            var s = parseInt( color[ 2 ], 10 ) / 100;\n            var l = parseInt( color[ 3 ], 10 ) / 100;\n\n            handleAlpha( color[ 5 ] );\n\n            return this.setHSL( h, s, l );\n\n          }\n\n          break;\n\n      }\n\n    } else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\n      // hex color\n\n      var hex = m[ 1 ];\n      var size = hex.length;\n\n      if ( size === 3 ) {\n\n        // #ff0\n        this.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n        this.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n        this.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n        return this;\n\n      } else if ( size === 6 ) {\n\n        // #ff0000\n        this.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n        this.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n        this.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n        return this;\n\n      }\n\n    }\n\n    if ( style && style.length > 0 ) {\n\n      // color keywords\n      var hex = ColorKeywords[ style ];\n\n      if ( hex !== undefined ) {\n\n        // red\n        this.setHex( hex );\n\n      } else {\n\n        // unknown color\n        console.warn( 'THREE.Color: Unknown color ' + style );\n\n      }\n\n    }\n\n    return this;\n\n  },\n\n  clone: function () {\n\n    return new this.constructor( this.r, this.g, this.b );\n\n  },\n\n  copy: function ( color ) {\n\n    this.r = color.r;\n    this.g = color.g;\n    this.b = color.b;\n\n    return this;\n\n  },\n\n  copyGammaToLinear: function ( color, gammaFactor ) {\n\n    if ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n    this.r = Math.pow( color.r, gammaFactor );\n    this.g = Math.pow( color.g, gammaFactor );\n    this.b = Math.pow( color.b, gammaFactor );\n\n    return this;\n\n  },\n\n  copyLinearToGamma: function ( color, gammaFactor ) {\n\n    if ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n    var safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n    this.r = Math.pow( color.r, safeInverse );\n    this.g = Math.pow( color.g, safeInverse );\n    this.b = Math.pow( color.b, safeInverse );\n\n    return this;\n\n  },\n\n  convertGammaToLinear: function () {\n\n    var r = this.r, g = this.g, b = this.b;\n\n    this.r = r * r;\n    this.g = g * g;\n    this.b = b * b;\n\n    return this;\n\n  },\n\n  convertLinearToGamma: function () {\n\n    this.r = Math.sqrt( this.r );\n    this.g = Math.sqrt( this.g );\n    this.b = Math.sqrt( this.b );\n\n    return this;\n\n  },\n\n  getHex: function () {\n\n    return ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n  },\n\n  getHexString: function () {\n\n    return ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n  },\n\n  getHSL: function ( optionalTarget ) {\n\n    // h,s,l ranges are in 0.0 - 1.0\n\n    var hsl = optionalTarget || { h: 0, s: 0, l: 0 };\n\n    var r = this.r, g = this.g, b = this.b;\n\n    var max = Math.max( r, g, b );\n    var min = Math.min( r, g, b );\n\n    var hue, saturation;\n    var lightness = ( min + max ) / 2.0;\n\n    if ( min === max ) {\n\n      hue = 0;\n      saturation = 0;\n\n    } else {\n\n      var delta = max - min;\n\n      saturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n      switch ( max ) {\n\n        case r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n        case g: hue = ( b - r ) / delta + 2; break;\n        case b: hue = ( r - g ) / delta + 4; break;\n\n      }\n\n      hue /= 6;\n\n    }\n\n    hsl.h = hue;\n    hsl.s = saturation;\n    hsl.l = lightness;\n\n    return hsl;\n\n  },\n\n  getStyle: function () {\n\n    return 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n  },\n\n  offsetHSL: function ( h, s, l ) {\n\n    var hsl = this.getHSL();\n\n    hsl.h += h; hsl.s += s; hsl.l += l;\n\n    this.setHSL( hsl.h, hsl.s, hsl.l );\n\n    return this;\n\n  },\n\n  add: function ( color ) {\n\n    this.r += color.r;\n    this.g += color.g;\n    this.b += color.b;\n\n    return this;\n\n  },\n\n  addColors: function ( color1, color2 ) {\n\n    this.r = color1.r + color2.r;\n    this.g = color1.g + color2.g;\n    this.b = color1.b + color2.b;\n\n    return this;\n\n  },\n\n  addScalar: function ( s ) {\n\n    this.r += s;\n    this.g += s;\n    this.b += s;\n\n    return this;\n\n  },\n\n  sub: function( color ) {\n\n    this.r = Math.max( 0, this.r - color.r );\n    this.g = Math.max( 0, this.g - color.g );\n    this.b = Math.max( 0, this.b - color.b );\n\n    return this;\n\n  },\n\n  multiply: function ( color ) {\n\n    this.r *= color.r;\n    this.g *= color.g;\n    this.b *= color.b;\n\n    return this;\n\n  },\n\n  multiplyScalar: function ( s ) {\n\n    this.r *= s;\n    this.g *= s;\n    this.b *= s;\n\n    return this;\n\n  },\n\n  lerp: function ( color, alpha ) {\n\n    this.r += ( color.r - this.r ) * alpha;\n    this.g += ( color.g - this.g ) * alpha;\n    this.b += ( color.b - this.b ) * alpha;\n\n    return this;\n\n  },\n\n  equals: function ( c ) {\n\n    return ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n  },\n\n  fromArray: function ( array, offset ) {\n\n    if ( offset === undefined ) offset = 0;\n\n    this.r = array[ offset ];\n    this.g = array[ offset + 1 ];\n    this.b = array[ offset + 2 ];\n\n    return this;\n\n  },\n\n  toArray: function ( array, offset ) {\n\n    if ( array === undefined ) array = [];\n    if ( offset === undefined ) offset = 0;\n\n    array[ offset ] = this.r;\n    array[ offset + 1 ] = this.g;\n    array[ offset + 2 ] = this.b;\n\n    return array;\n\n  },\n\n  toJSON: function () {\n\n    return this.getHex();\n\n  }\n\n} );\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nvar UniformsLib = {\n\n  common: {\n\n    diffuse: { value: new Color( 0xeeeeee ) },\n    opacity: { value: 1.0 },\n\n    map: { value: null },\n    offsetRepeat: { value: new Vector4( 0, 0, 1, 1 ) },\n\n    alphaMap: { value: null },\n\n  },\n\n  specularmap: {\n\n    specularMap: { value: null },\n\n  },\n\n  envmap: {\n\n    envMap: { value: null },\n    flipEnvMap: { value: - 1 },\n    reflectivity: { value: 1.0 },\n    refractionRatio: { value: 0.98 }\n\n  },\n\n  aomap: {\n\n    aoMap: { value: null },\n    aoMapIntensity: { value: 1 }\n\n  },\n\n  lightmap: {\n\n    lightMap: { value: null },\n    lightMapIntensity: { value: 1 }\n\n  },\n\n  emissivemap: {\n\n    emissiveMap: { value: null }\n\n  },\n\n  bumpmap: {\n\n    bumpMap: { value: null },\n    bumpScale: { value: 1 }\n\n  },\n\n  normalmap: {\n\n    normalMap: { value: null },\n    normalScale: { value: new Vector2( 1, 1 ) }\n\n  },\n\n  displacementmap: {\n\n    displacementMap: { value: null },\n    displacementScale: { value: 1 },\n    displacementBias: { value: 0 }\n\n  },\n\n  roughnessmap: {\n\n    roughnessMap: { value: null }\n\n  },\n\n  metalnessmap: {\n\n    metalnessMap: { value: null }\n\n  },\n\n  gradientmap: {\n\n    gradientMap: { value: null }\n\n  },\n\n  fog: {\n\n    fogDensity: { value: 0.00025 },\n    fogNear: { value: 1 },\n    fogFar: { value: 2000 },\n    fogColor: { value: new Color( 0xffffff ) }\n\n  },\n\n  lights: {\n\n    ambientLightColor: { value: [] },\n\n    directionalLights: { value: [], properties: {\n      direction: {},\n      color: {},\n\n      shadow: {},\n      shadowBias: {},\n      shadowRadius: {},\n      shadowMapSize: {}\n    } },\n\n    directionalShadowMap: { value: [] },\n    directionalShadowMatrix: { value: [] },\n\n    spotLights: { value: [], properties: {\n      color: {},\n      position: {},\n      direction: {},\n      distance: {},\n      coneCos: {},\n      penumbraCos: {},\n      decay: {},\n\n      shadow: {},\n      shadowBias: {},\n      shadowRadius: {},\n      shadowMapSize: {}\n    } },\n\n    spotShadowMap: { value: [] },\n    spotShadowMatrix: { value: [] },\n\n    pointLights: { value: [], properties: {\n      color: {},\n      position: {},\n      decay: {},\n      distance: {},\n\n      shadow: {},\n      shadowBias: {},\n      shadowRadius: {},\n      shadowMapSize: {},\n      shadowCameraNear: {},\n      shadowCameraFar: {}\n    } },\n\n    pointShadowMap: { value: [] },\n    pointShadowMatrix: { value: [] },\n\n    hemisphereLights: { value: [], properties: {\n      direction: {},\n      skyColor: {},\n      groundColor: {}\n    } },\n\n    // TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n    rectAreaLights: { value: [], properties: {\n      color: {},\n      position: {},\n      width: {},\n      height: {}\n    } }\n\n  },\n\n  points: {\n\n    diffuse: { value: new Color( 0xeeeeee ) },\n    opacity: { value: 1.0 },\n    size: { value: 1.0 },\n    scale: { value: 1.0 },\n    map: { value: null },\n    offsetRepeat: { value: new Vector4( 0, 0, 1, 1 ) }\n\n  }\n\n};\n\n/**\n * Uniform Utilities\n */\n\nvar UniformsUtils = {\n\n  merge: function ( uniforms ) {\n\n    var merged = {};\n\n    for ( var u = 0; u < uniforms.length; u ++ ) {\n\n      var tmp = this.clone( uniforms[ u ] );\n\n      for ( var p in tmp ) {\n\n        merged[ p ] = tmp[ p ];\n\n      }\n\n    }\n\n    return merged;\n\n  },\n\n  clone: function ( uniforms_src ) {\n\n    var uniforms_dst = {};\n\n    for ( var u in uniforms_src ) {\n\n      uniforms_dst[ u ] = {};\n\n      for ( var p in uniforms_src[ u ] ) {\n\n        var parameter_src = uniforms_src[ u ][ p ];\n\n        if ( parameter_src && ( parameter_src.isColor ||\n          parameter_src.isMatrix3 || parameter_src.isMatrix4 ||\n          parameter_src.isVector2 || parameter_src.isVector3 || parameter_src.isVector4 ||\n          parameter_src.isTexture ) ) {\n\n          uniforms_dst[ u ][ p ] = parameter_src.clone();\n\n        } else if ( Array.isArray( parameter_src ) ) {\n\n          uniforms_dst[ u ][ p ] = parameter_src.slice();\n\n        } else {\n\n          uniforms_dst[ u ][ p ] = parameter_src;\n\n        }\n\n      }\n\n    }\n\n    return uniforms_dst;\n\n  }\n\n};\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\\n\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\\n\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\\n\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\\n\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"\\nvec3 transformed = vec3( position );\\n\";\n\nvar beginnormal_vertex = \"\\nvec3 objectNormal = vec3( normal );\\n\";\n\nvar bsdfs = \"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\tif( decayExponent > 0.0 ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\treturn distanceFalloff * maxDistanceCutoffFactor;\\n#else\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n#endif\\n\\t}\\n\\treturn 1.0;\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat theta = acos( dot( N, V ) );\\n\\tvec2 uv = vec2(\\n\\t\\tsqrt( saturate( roughness ) ),\\n\\t\\tsaturate( theta / ( 0.5 * PI ) ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\\n\\tfloat b = 3.45068 + (4.18814 + y) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\\n\\treturn result;\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\\n\\treturn specularColor * AB.x + AB.y;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\\n\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\\n\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t\\t\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\\n\\t\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t\\n\\t#endif\\n#endif\\n\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\\n\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n\";\n\nvar color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\\n\";\n\nvar color_pars_vertex = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transpose( const in mat3 v ) {\\n\\tmat3 tmp;\\n\\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\\n\\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\\n\\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\\n\\treturn tmp;\\n}\\n\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\\n\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = normalMatrix * objectNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\\n\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\\n\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\\n\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\\n\";\n\nvar encodings_fragment = \"  gl_FragColor = linearToOutputTexel( gl_FragColor );\\n\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM            = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat D      = max( maxRange / maxRGB, 1.0 );\\n\\tD            = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\\n\\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract(Le);\\n\\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\\n\\treturn vec4( max(vRGB, 0.0), 1.0 );\\n}\\n\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\\n\";\n\nvar envmap_pars_fragment = \"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\n\\tuniform float reflectivity;\\n\\tuniform float envMapIntensity;\\n#endif\\n#ifdef USE_ENVMAP\\n\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\tuniform float flipEnvMap;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\\n\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\\n\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\n\";\n\nvar fog_vertex = \"\\n#ifdef USE_FOG\\nfogDepth = -mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n  varying float fogDepth;\\n#endif\\n\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\\n\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\\n\";\n\nvar gradientmap_pars_fragment = \"#ifdef TOON\\n\\tuniform sampler2D gradientMap;\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\\n\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\";\n\nvar lights_pars = \"uniform vec3 ambientLightColor;\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t\\tfloat shadowCameraNear;\\n\\t\\tfloat shadowCameraFar;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltcMat;\\tuniform sampler2D ltcMag;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\\n\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\\n\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifdef TOON\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#else\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#endif\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\\n\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef STANDARD\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.clearCoat = saturate( clearCoat );\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\n#endif\\n\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoat;\\n\\t\\tfloat clearCoatRoughness;\\n\\t#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tfloat norm = texture2D( ltcMag, uv ).a;\\n\\t\\tvec4 t = texture2D( ltcMat, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3(   1,   0, t.y ),\\n\\t\\t\\tvec3(   0, t.z,   0 ),\\n\\t\\t\\tvec3( t.w,   0, t.x )\\n\\t\\t);\\n\\t\\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\n\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifndef STANDARD\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\tfloat dotNL = dotNV;\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\\n\";\n\nvar lights_template = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\\n\\t#endif\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\\n\\t#ifndef STANDARD\\n\\t\\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\\n\\t#else\\n\\t\\tvec3 clearCoatRadiance = vec3( 0.0 );\\n\\t#endif\\n\\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\\n#endif\\n\";\n\nvar logdepthbuf_fragment = \"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\\n\\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#ifdef USE_LOGDEPTHBUF\\n\\tuniform float logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n#endif\\n\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n\\tuniform float logDepthBufFC;\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t#else\\n\\t\\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\\n\\t#endif\\n#endif\\n\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\\n\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n\";\n\nvar map_particle_fragment = \"#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n\";\n\nvar map_particle_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform vec4 offsetRepeat;\\n\\tuniform sampler2D map;\\n#endif\\n\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\\n\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\\n\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\\n\";\n\nvar normal_fragment = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n#endif\\n#ifdef USE_NORMALMAP\\n\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\\n\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\\n\\t\\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = normalScale * mapN.xy;\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\\n\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 1.0 - 2.0 * rgb.xyz;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\\n\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\\n\";\n\nvar project_vertex = \"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\ngl_Position = projectionMatrix * mvPosition;\\n\";\n\nvar dithering_fragment = \"#if defined( DITHERING )\\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\\n\";\n\nvar dithering_pars_fragment = \"#if defined( DITHERING )\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\\n\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\\n\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n#endif\\n\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\\n\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\\n\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\\n\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\\n\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n#endif\\n\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\\n\";\n\nvar tonemapping_pars_fragment = \"#define saturate(a) clamp( a, 0.0, 1.0 )\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\n\";\n\nvar uv_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n\\tuniform vec4 offsetRepeat;\\n#endif\\n\";\n\nvar uv_vertex = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n#endif\\n\";\n\nvar cube_frag = \"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldPosition;\\nvoid main() {\\n\\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\\n\\tgl_FragColor.a *= opacity;\\n}\\n\";\n\nvar cube_vert = \"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\\n\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\\n\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\\n\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\\n\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldPosition );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n}\\n\";\n\nvar equirect_vert = \"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar meshphysical_frag = \"#define PHYSICAL\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifndef STANDARD\\n\\tuniform float clearCoat;\\n\\tuniform float clearCoatRoughness;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <lights_pars>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\";\n\nvar meshphysical_vert = \"#define PHYSICAL\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\nvoid main() {\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\\n\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\\n\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tgl_PointSize = size * ( scale / - mvPosition.z );\\n\\t#else\\n\\t\\tgl_PointSize = size;\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n}\\n\";\n\nvar shadow_vert = \"#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n}\\n\";\n\nvar ShaderChunk = {\n  alphamap_fragment: alphamap_fragment,\n  alphamap_pars_fragment: alphamap_pars_fragment,\n  alphatest_fragment: alphatest_fragment,\n  aomap_fragment: aomap_fragment,\n  aomap_pars_fragment: aomap_pars_fragment,\n  begin_vertex: begin_vertex,\n  beginnormal_vertex: beginnormal_vertex,\n  bsdfs: bsdfs,\n  bumpmap_pars_fragment: bumpmap_pars_fragment,\n  clipping_planes_fragment: clipping_planes_fragment,\n  clipping_planes_pars_fragment: clipping_planes_pars_fragment,\n  clipping_planes_pars_vertex: clipping_planes_pars_vertex,\n  clipping_planes_vertex: clipping_planes_vertex,\n  color_fragment: color_fragment,\n  color_pars_fragment: color_pars_fragment,\n  color_pars_vertex: color_pars_vertex,\n  color_vertex: color_vertex,\n  common: common,\n  cube_uv_reflection_fragment: cube_uv_reflection_fragment,\n  defaultnormal_vertex: defaultnormal_vertex,\n  displacementmap_pars_vertex: displacementmap_pars_vertex,\n  displacementmap_vertex: displacementmap_vertex,\n  emissivemap_fragment: emissivemap_fragment,\n  emissivemap_pars_fragment: emissivemap_pars_fragment,\n  encodings_fragment: encodings_fragment,\n  encodings_pars_fragment: encodings_pars_fragment,\n  envmap_fragment: envmap_fragment,\n  envmap_pars_fragment: envmap_pars_fragment,\n  envmap_pars_vertex: envmap_pars_vertex,\n  envmap_vertex: envmap_vertex,\n  fog_vertex: fog_vertex,\n  fog_pars_vertex: fog_pars_vertex,\n  fog_fragment: fog_fragment,\n  fog_pars_fragment: fog_pars_fragment,\n  gradientmap_pars_fragment: gradientmap_pars_fragment,\n  lightmap_fragment: lightmap_fragment,\n  lightmap_pars_fragment: lightmap_pars_fragment,\n  lights_lambert_vertex: lights_lambert_vertex,\n  lights_pars: lights_pars,\n  lights_phong_fragment: lights_phong_fragment,\n  lights_phong_pars_fragment: lights_phong_pars_fragment,\n  lights_physical_fragment: lights_physical_fragment,\n  lights_physical_pars_fragment: lights_physical_pars_fragment,\n  lights_template: lights_template,\n  logdepthbuf_fragment: logdepthbuf_fragment,\n  logdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n  logdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n  logdepthbuf_vertex: logdepthbuf_vertex,\n  map_fragment: map_fragment,\n  map_pars_fragment: map_pars_fragment,\n  map_particle_fragment: map_particle_fragment,\n  map_particle_pars_fragment: map_particle_pars_fragment,\n  metalnessmap_fragment: metalnessmap_fragment,\n  metalnessmap_pars_fragment: metalnessmap_pars_fragment,\n  morphnormal_vertex: morphnormal_vertex,\n  morphtarget_pars_vertex: morphtarget_pars_vertex,\n  morphtarget_vertex: morphtarget_vertex,\n  normal_fragment: normal_fragment,\n  normalmap_pars_fragment: normalmap_pars_fragment,\n  packing: packing,\n  premultiplied_alpha_fragment: premultiplied_alpha_fragment,\n  project_vertex: project_vertex,\n  dithering_fragment: dithering_fragment,\n  dithering_pars_fragment: dithering_pars_fragment,\n  roughnessmap_fragment: roughnessmap_fragment,\n  roughnessmap_pars_fragment: roughnessmap_pars_fragment,\n  shadowmap_pars_fragment: shadowmap_pars_fragment,\n  shadowmap_pars_vertex: shadowmap_pars_vertex,\n  shadowmap_vertex: shadowmap_vertex,\n  shadowmask_pars_fragment: shadowmask_pars_fragment,\n  skinbase_vertex: skinbase_vertex,\n  skinning_pars_vertex: skinning_pars_vertex,\n  skinning_vertex: skinning_vertex,\n  skinnormal_vertex: skinnormal_vertex,\n  specularmap_fragment: specularmap_fragment,\n  specularmap_pars_fragment: specularmap_pars_fragment,\n  tonemapping_fragment: tonemapping_fragment,\n  tonemapping_pars_fragment: tonemapping_pars_fragment,\n  uv_pars_fragment: uv_pars_fragment,\n  uv_pars_vertex: uv_pars_vertex,\n  uv_vertex: uv_vertex,\n  uv2_pars_fragment: uv2_pars_fragment,\n  uv2_pars_vertex: uv2_pars_vertex,\n  uv2_vertex: uv2_vertex,\n  worldpos_vertex: worldpos_vertex,\n\n  cube_frag: cube_frag,\n  cube_vert: cube_vert,\n  depth_frag: depth_frag,\n  depth_vert: depth_vert,\n  distanceRGBA_frag: distanceRGBA_frag,\n  distanceRGBA_vert: distanceRGBA_vert,\n  equirect_frag: equirect_frag,\n  equirect_vert: equirect_vert,\n  linedashed_frag: linedashed_frag,\n  linedashed_vert: linedashed_vert,\n  meshbasic_frag: meshbasic_frag,\n  meshbasic_vert: meshbasic_vert,\n  meshlambert_frag: meshlambert_frag,\n  meshlambert_vert: meshlambert_vert,\n  meshphong_frag: meshphong_frag,\n  meshphong_vert: meshphong_vert,\n  meshphysical_frag: meshphysical_frag,\n  meshphysical_vert: meshphysical_vert,\n  normal_frag: normal_frag,\n  normal_vert: normal_vert,\n  points_frag: points_frag,\n  points_vert: points_vert,\n  shadow_frag: shadow_frag,\n  shadow_vert: shadow_vert\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\nvar ShaderLib = {\n\n  basic: {\n\n    uniforms: UniformsUtils.merge( [\n      UniformsLib.common,\n      UniformsLib.specularmap,\n      UniformsLib.envmap,\n      UniformsLib.aomap,\n      UniformsLib.lightmap,\n      UniformsLib.fog\n    ] ),\n\n    vertexShader: ShaderChunk.meshbasic_vert,\n    fragmentShader: ShaderChunk.meshbasic_frag\n\n  },\n\n  lambert: {\n\n    uniforms: UniformsUtils.merge( [\n      UniformsLib.common,\n      UniformsLib.specularmap,\n      UniformsLib.envmap,\n      UniformsLib.aomap,\n      UniformsLib.lightmap,\n      UniformsLib.emissivemap,\n      UniformsLib.fog,\n      UniformsLib.lights,\n      {\n        emissive: { value: new Color( 0x000000 ) }\n      }\n    ] ),\n\n    vertexShader: ShaderChunk.meshlambert_vert,\n    fragmentShader: ShaderChunk.meshlambert_frag\n\n  },\n\n  phong: {\n\n    uniforms: UniformsUtils.merge( [\n      UniformsLib.common,\n      UniformsLib.specularmap,\n      UniformsLib.envmap,\n      UniformsLib.aomap,\n      UniformsLib.lightmap,\n      UniformsLib.emissivemap,\n      UniformsLib.bumpmap,\n      UniformsLib.normalmap,\n      UniformsLib.displacementmap,\n      UniformsLib.gradientmap,\n      UniformsLib.fog,\n      UniformsLib.lights,\n      {\n        emissive: { value: new Color( 0x000000 ) },\n        specular: { value: new Color( 0x111111 ) },\n        shininess: { value: 30 }\n      }\n    ] ),\n\n    vertexShader: ShaderChunk.meshphong_vert,\n    fragmentShader: ShaderChunk.meshphong_frag\n\n  },\n\n  standard: {\n\n    uniforms: UniformsUtils.merge( [\n      UniformsLib.common,\n      UniformsLib.envmap,\n      UniformsLib.aomap,\n      UniformsLib.lightmap,\n      UniformsLib.emissivemap,\n      UniformsLib.bumpmap,\n      UniformsLib.normalmap,\n      UniformsLib.displacementmap,\n      UniformsLib.roughnessmap,\n      UniformsLib.metalnessmap,\n      UniformsLib.fog,\n      UniformsLib.lights,\n      {\n        emissive: { value: new Color( 0x000000 ) },\n        roughness: { value: 0.5 },\n        metalness: { value: 0.5 },\n        envMapIntensity: { value: 1 } // temporary\n      }\n    ] ),\n\n    vertexShader: ShaderChunk.meshphysical_vert,\n    fragmentShader: ShaderChunk.meshphysical_frag\n\n  },\n\n  points: {\n\n    uniforms: UniformsUtils.merge( [\n      UniformsLib.points,\n      UniformsLib.fog\n    ] ),\n\n    vertexShader: ShaderChunk.points_vert,\n    fragmentShader: ShaderChunk.points_frag\n\n  },\n\n  dashed: {\n\n    uniforms: UniformsUtils.merge( [\n      UniformsLib.common,\n      UniformsLib.fog,\n      {\n        scale: { value: 1 },\n        dashSize: { value: 1 },\n        totalSize: { value: 2 }\n      }\n    ] ),\n\n    vertexShader: ShaderChunk.linedashed_vert,\n    fragmentShader: ShaderChunk.linedashed_frag\n\n  },\n\n  depth: {\n\n    uniforms: UniformsUtils.merge( [\n      UniformsLib.common,\n      UniformsLib.displacementmap\n    ] ),\n\n    vertexShader: ShaderChunk.depth_vert,\n    fragmentShader: ShaderChunk.depth_frag\n\n  },\n\n  normal: {\n\n    uniforms: UniformsUtils.merge( [\n      UniformsLib.common,\n      UniformsLib.bumpmap,\n      UniformsLib.normalmap,\n      UniformsLib.displacementmap,\n      {\n        opacity: { value: 1.0 }\n      }\n    ] ),\n\n    vertexShader: ShaderChunk.normal_vert,\n    fragmentShader: ShaderChunk.normal_frag\n\n  },\n\n  /* -------------------------------------------------------------------------\n   //\tCube map shader\n   ------------------------------------------------------------------------- */\n\n  cube: {\n\n    uniforms: {\n      tCube: { value: null },\n      tFlip: { value: - 1 },\n      opacity: { value: 1.0 }\n    },\n\n    vertexShader: ShaderChunk.cube_vert,\n    fragmentShader: ShaderChunk.cube_frag\n\n  },\n\n  equirect: {\n\n    uniforms: {\n      tEquirect: { value: null },\n    },\n\n    vertexShader: ShaderChunk.equirect_vert,\n    fragmentShader: ShaderChunk.equirect_frag\n\n  },\n\n  distanceRGBA: {\n\n    uniforms: UniformsUtils.merge( [\n      UniformsLib.common,\n      UniformsLib.displacementmap,\n      {\n        referencePosition: { value: new Vector3() },\n        nearDistance: { value: 1 },\n        farDistance: { value: 1000 }\n      }\n    ] ),\n\n    vertexShader: ShaderChunk.distanceRGBA_vert,\n    fragmentShader: ShaderChunk.distanceRGBA_frag\n\n  },\n\n  shadow: {\n\n    uniforms: UniformsUtils.merge( [\n      UniformsLib.lights,\n      {\n        color: { value: new Color( 0x00000 ) },\n        opacity: { value: 1.0 }\n      },\n    ] ),\n\n    vertexShader: ShaderChunk.shadow_vert,\n    fragmentShader: ShaderChunk.shadow_frag\n\n  }\n\n};\n\nShaderLib.physical = {\n\n  uniforms: UniformsUtils.merge( [\n    ShaderLib.standard.uniforms,\n    {\n      clearCoat: { value: 0 },\n      clearCoatRoughness: { value: 0 }\n    }\n  ] ),\n\n  vertexShader: ShaderChunk.meshphysical_vert,\n  fragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Box2( min, max ) {\n\n  this.min = ( min !== undefined ) ? min : new Vector2( + Infinity, + Infinity );\n  this.max = ( max !== undefined ) ? max : new Vector2( - Infinity, - Infinity );\n\n}\n\nObject.assign( Box2.prototype, {\n\n  set: function ( min, max ) {\n\n    this.min.copy( min );\n    this.max.copy( max );\n\n    return this;\n\n  },\n\n  setFromPoints: function ( points ) {\n\n    this.makeEmpty();\n\n    for ( var i = 0, il = points.length; i < il; i ++ ) {\n\n      this.expandByPoint( points[ i ] );\n\n    }\n\n    return this;\n\n  },\n\n  setFromCenterAndSize: function () {\n\n    var v1 = new Vector2();\n\n    return function setFromCenterAndSize( center, size ) {\n\n      var halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n      this.min.copy( center ).sub( halfSize );\n      this.max.copy( center ).add( halfSize );\n\n      return this;\n\n    };\n\n  }(),\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  copy: function ( box ) {\n\n    this.min.copy( box.min );\n    this.max.copy( box.max );\n\n    return this;\n\n  },\n\n  makeEmpty: function () {\n\n    this.min.x = this.min.y = + Infinity;\n    this.max.x = this.max.y = - Infinity;\n\n    return this;\n\n  },\n\n  isEmpty: function () {\n\n    // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n    return ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n  },\n\n  getCenter: function ( optionalTarget ) {\n\n    var result = optionalTarget || new Vector2();\n    return this.isEmpty() ? result.set( 0, 0 ) : result.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n  },\n\n  getSize: function ( optionalTarget ) {\n\n    var result = optionalTarget || new Vector2();\n    return this.isEmpty() ? result.set( 0, 0 ) : result.subVectors( this.max, this.min );\n\n  },\n\n  expandByPoint: function ( point ) {\n\n    this.min.min( point );\n    this.max.max( point );\n\n    return this;\n\n  },\n\n  expandByVector: function ( vector ) {\n\n    this.min.sub( vector );\n    this.max.add( vector );\n\n    return this;\n\n  },\n\n  expandByScalar: function ( scalar ) {\n\n    this.min.addScalar( - scalar );\n    this.max.addScalar( scalar );\n\n    return this;\n\n  },\n\n  containsPoint: function ( point ) {\n\n    return point.x < this.min.x || point.x > this.max.x ||\n    point.y < this.min.y || point.y > this.max.y ? false : true;\n\n  },\n\n  containsBox: function ( box ) {\n\n    return this.min.x <= box.min.x && box.max.x <= this.max.x &&\n      this.min.y <= box.min.y && box.max.y <= this.max.y;\n\n  },\n\n  getParameter: function ( point, optionalTarget ) {\n\n    // This can potentially have a divide by zero if the box\n    // has a size dimension of 0.\n\n    var result = optionalTarget || new Vector2();\n\n    return result.set(\n      ( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n      ( point.y - this.min.y ) / ( this.max.y - this.min.y )\n    );\n\n  },\n\n  intersectsBox: function ( box ) {\n\n    // using 4 splitting planes to rule out intersections\n\n    return box.max.x < this.min.x || box.min.x > this.max.x ||\n    box.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n  },\n\n  clampPoint: function ( point, optionalTarget ) {\n\n    var result = optionalTarget || new Vector2();\n    return result.copy( point ).clamp( this.min, this.max );\n\n  },\n\n  distanceToPoint: function () {\n\n    var v1 = new Vector2();\n\n    return function distanceToPoint( point ) {\n\n      var clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n      return clampedPoint.sub( point ).length();\n\n    };\n\n  }(),\n\n  intersect: function ( box ) {\n\n    this.min.max( box.min );\n    this.max.min( box.max );\n\n    return this;\n\n  },\n\n  union: function ( box ) {\n\n    this.min.min( box.min );\n    this.max.max( box.max );\n\n    return this;\n\n  },\n\n  translate: function ( offset ) {\n\n    this.min.add( offset );\n    this.max.add( offset );\n\n    return this;\n\n  },\n\n  equals: function ( box ) {\n\n    return box.min.equals( this.min ) && box.max.equals( this.max );\n\n  }\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction WebGLFlareRenderer( renderer, gl, state, textures, capabilities ) {\n\n  var vertexBuffer, elementBuffer;\n  var shader, program, attributes, uniforms;\n\n  var tempTexture, occlusionTexture;\n\n  function init() {\n\n    var vertices = new Float32Array( [\n      - 1, - 1,  0, 0,\n      1, - 1,  1, 0,\n      1,  1,  1, 1,\n      - 1,  1,  0, 1\n    ] );\n\n    var faces = new Uint16Array( [\n      0, 1, 2,\n      0, 2, 3\n    ] );\n\n    // buffers\n\n    vertexBuffer     = gl.createBuffer();\n    elementBuffer    = gl.createBuffer();\n\n    gl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n    gl.bufferData( gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW );\n\n    gl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n    gl.bufferData( gl.ELEMENT_ARRAY_BUFFER, faces, gl.STATIC_DRAW );\n\n    // textures\n\n    tempTexture      = gl.createTexture();\n    occlusionTexture = gl.createTexture();\n\n    state.bindTexture( gl.TEXTURE_2D, tempTexture );\n    gl.texImage2D( gl.TEXTURE_2D, 0, gl.RGB, 16, 16, 0, gl.RGB, gl.UNSIGNED_BYTE, null );\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE );\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE );\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\n\n    state.bindTexture( gl.TEXTURE_2D, occlusionTexture );\n    gl.texImage2D( gl.TEXTURE_2D, 0, gl.RGBA, 16, 16, 0, gl.RGBA, gl.UNSIGNED_BYTE, null );\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE );\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE );\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\n\n    shader = {\n\n      vertexShader: [\n\n        \"uniform lowp int renderType;\",\n\n        \"uniform vec3 screenPosition;\",\n        \"uniform vec2 scale;\",\n        \"uniform float rotation;\",\n\n        \"uniform sampler2D occlusionMap;\",\n\n        \"attribute vec2 position;\",\n        \"attribute vec2 uv;\",\n\n        \"varying vec2 vUV;\",\n        \"varying float vVisibility;\",\n\n        \"void main() {\",\n\n        \"vUV = uv;\",\n\n        \"vec2 pos = position;\",\n\n        \"if ( renderType == 2 ) {\",\n\n        \"vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\",\n        \"visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\",\n        \"visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\",\n        \"visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\",\n        \"visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\",\n        \"visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\",\n        \"visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\",\n        \"visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\",\n        \"visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\",\n\n        \"vVisibility =        visibility.r / 9.0;\",\n        \"vVisibility *= 1.0 - visibility.g / 9.0;\",\n        \"vVisibility *=       visibility.b / 9.0;\",\n        \"vVisibility *= 1.0 - visibility.a / 9.0;\",\n\n        \"pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\",\n        \"pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\",\n\n        \"}\",\n\n        \"gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\",\n\n        \"}\"\n\n      ].join( \"\\n\" ),\n\n      fragmentShader: [\n\n        \"uniform lowp int renderType;\",\n\n        \"uniform sampler2D map;\",\n        \"uniform float opacity;\",\n        \"uniform vec3 color;\",\n\n        \"varying vec2 vUV;\",\n        \"varying float vVisibility;\",\n\n        \"void main() {\",\n\n        // pink square\n\n        \"if ( renderType == 0 ) {\",\n\n        \"gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\",\n\n        // restore\n\n        \"} else if ( renderType == 1 ) {\",\n\n        \"gl_FragColor = texture2D( map, vUV );\",\n\n        // flare\n\n        \"} else {\",\n\n        \"vec4 texture = texture2D( map, vUV );\",\n        \"texture.a *= opacity * vVisibility;\",\n        \"gl_FragColor = texture;\",\n        \"gl_FragColor.rgb *= color;\",\n\n        \"}\",\n\n        \"}\"\n\n      ].join( \"\\n\" )\n\n    };\n\n    program = createProgram( shader );\n\n    attributes = {\n      vertex: gl.getAttribLocation ( program, \"position\" ),\n      uv:     gl.getAttribLocation ( program, \"uv\" )\n    };\n\n    uniforms = {\n      renderType:     gl.getUniformLocation( program, \"renderType\" ),\n      map:            gl.getUniformLocation( program, \"map\" ),\n      occlusionMap:   gl.getUniformLocation( program, \"occlusionMap\" ),\n      opacity:        gl.getUniformLocation( program, \"opacity\" ),\n      color:          gl.getUniformLocation( program, \"color\" ),\n      scale:          gl.getUniformLocation( program, \"scale\" ),\n      rotation:       gl.getUniformLocation( program, \"rotation\" ),\n      screenPosition: gl.getUniformLocation( program, \"screenPosition\" )\n    };\n\n  }\n\n  /*\n   * Render lens flares\n   * Method: renders 16x16 0xff00ff-colored points scattered over the light source area,\n   *         reads these back and calculates occlusion.\n   */\n\n  this.render = function ( flares, scene, camera, viewport ) {\n\n    if ( flares.length === 0 ) return;\n\n    var tempPosition = new Vector3();\n\n    var invAspect = viewport.w / viewport.z,\n      halfViewportWidth = viewport.z * 0.5,\n      halfViewportHeight = viewport.w * 0.5;\n\n    var size = 16 / viewport.w,\n      scale = new Vector2( size * invAspect, size );\n\n    var screenPosition = new Vector3( 1, 1, 0 ),\n      screenPositionPixels = new Vector2( 1, 1 );\n\n    var validArea = new Box2();\n\n    validArea.min.set( viewport.x, viewport.y );\n    validArea.max.set( viewport.x + ( viewport.z - 16 ), viewport.y + ( viewport.w - 16 ) );\n\n    if ( program === undefined ) {\n\n      init();\n\n    }\n\n    state.useProgram( program );\n\n    state.initAttributes();\n    state.enableAttribute( attributes.vertex );\n    state.enableAttribute( attributes.uv );\n    state.disableUnusedAttributes();\n\n    // loop through all lens flares to update their occlusion and positions\n    // setup gl and common used attribs/uniforms\n\n    gl.uniform1i( uniforms.occlusionMap, 0 );\n    gl.uniform1i( uniforms.map, 1 );\n\n    gl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n    gl.vertexAttribPointer( attributes.vertex, 2, gl.FLOAT, false, 2 * 8, 0 );\n    gl.vertexAttribPointer( attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8 );\n\n    gl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\n    state.disable( gl.CULL_FACE );\n    state.buffers.depth.setMask( false );\n\n    for ( var i = 0, l = flares.length; i < l; i ++ ) {\n\n      size = 16 / viewport.w;\n      scale.set( size * invAspect, size );\n\n      // calc object screen position\n\n      var flare = flares[ i ];\n\n      tempPosition.set( flare.matrixWorld.elements[ 12 ], flare.matrixWorld.elements[ 13 ], flare.matrixWorld.elements[ 14 ] );\n\n      tempPosition.applyMatrix4( camera.matrixWorldInverse );\n      tempPosition.applyMatrix4( camera.projectionMatrix );\n\n      // setup arrays for gl programs\n\n      screenPosition.copy( tempPosition );\n\n      // horizontal and vertical coordinate of the lower left corner of the pixels to copy\n\n      screenPositionPixels.x = viewport.x + ( screenPosition.x * halfViewportWidth ) + halfViewportWidth - 8;\n      screenPositionPixels.y = viewport.y + ( screenPosition.y * halfViewportHeight ) + halfViewportHeight - 8;\n\n      // screen cull\n\n      if ( validArea.containsPoint( screenPositionPixels ) === true ) {\n\n        // save current RGB to temp texture\n\n        state.activeTexture( gl.TEXTURE0 );\n        state.bindTexture( gl.TEXTURE_2D, null );\n        state.activeTexture( gl.TEXTURE1 );\n        state.bindTexture( gl.TEXTURE_2D, tempTexture );\n        gl.copyTexImage2D( gl.TEXTURE_2D, 0, gl.RGB, screenPositionPixels.x, screenPositionPixels.y, 16, 16, 0 );\n\n\n        // render pink quad\n\n        gl.uniform1i( uniforms.renderType, 0 );\n        gl.uniform2f( uniforms.scale, scale.x, scale.y );\n        gl.uniform3f( uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z );\n\n        state.disable( gl.BLEND );\n        state.enable( gl.DEPTH_TEST );\n\n        gl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\n\n        // copy result to occlusionMap\n\n        state.activeTexture( gl.TEXTURE0 );\n        state.bindTexture( gl.TEXTURE_2D, occlusionTexture );\n        gl.copyTexImage2D( gl.TEXTURE_2D, 0, gl.RGBA, screenPositionPixels.x, screenPositionPixels.y, 16, 16, 0 );\n\n\n        // restore graphics\n\n        gl.uniform1i( uniforms.renderType, 1 );\n        state.disable( gl.DEPTH_TEST );\n\n        state.activeTexture( gl.TEXTURE1 );\n        state.bindTexture( gl.TEXTURE_2D, tempTexture );\n        gl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\n\n        // update object positions\n\n        flare.positionScreen.copy( screenPosition );\n\n        if ( flare.customUpdateCallback ) {\n\n          flare.customUpdateCallback( flare );\n\n        } else {\n\n          flare.updateLensFlares();\n\n        }\n\n        // render flares\n\n        gl.uniform1i( uniforms.renderType, 2 );\n        state.enable( gl.BLEND );\n\n        for ( var j = 0, jl = flare.lensFlares.length; j < jl; j ++ ) {\n\n          var sprite = flare.lensFlares[ j ];\n\n          if ( sprite.opacity > 0.001 && sprite.scale > 0.001 ) {\n\n            screenPosition.x = sprite.x;\n            screenPosition.y = sprite.y;\n            screenPosition.z = sprite.z;\n\n            size = sprite.size * sprite.scale / viewport.w;\n\n            scale.x = size * invAspect;\n            scale.y = size;\n\n            gl.uniform3f( uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z );\n            gl.uniform2f( uniforms.scale, scale.x, scale.y );\n            gl.uniform1f( uniforms.rotation, sprite.rotation );\n\n            gl.uniform1f( uniforms.opacity, sprite.opacity );\n            gl.uniform3f( uniforms.color, sprite.color.r, sprite.color.g, sprite.color.b );\n\n            state.setBlending( sprite.blending, sprite.blendEquation, sprite.blendSrc, sprite.blendDst );\n\n            textures.setTexture2D( sprite.texture, 1 );\n\n            gl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\n          }\n\n        }\n\n      }\n\n    }\n\n    // restore gl\n\n    state.enable( gl.CULL_FACE );\n    state.enable( gl.DEPTH_TEST );\n    state.buffers.depth.setMask( true );\n\n    state.reset();\n\n  };\n\n  function createProgram( shader ) {\n\n    var program = gl.createProgram();\n\n    var fragmentShader = gl.createShader( gl.FRAGMENT_SHADER );\n    var vertexShader = gl.createShader( gl.VERTEX_SHADER );\n\n    var prefix = \"precision \" + capabilities.precision + \" float;\\n\";\n\n    gl.shaderSource( fragmentShader, prefix + shader.fragmentShader );\n    gl.shaderSource( vertexShader, prefix + shader.vertexShader );\n\n    gl.compileShader( fragmentShader );\n    gl.compileShader( vertexShader );\n\n    gl.attachShader( program, fragmentShader );\n    gl.attachShader( program, vertexShader );\n\n    gl.linkProgram( program );\n\n    return program;\n\n  }\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n  Texture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n  this.needsUpdate = true;\n\n}\n\nCanvasTexture.prototype = Object.create( Texture.prototype );\nCanvasTexture.prototype.constructor = CanvasTexture;\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction WebGLSpriteRenderer( renderer, gl, state, textures, capabilities ) {\n\n  var vertexBuffer, elementBuffer;\n  var program, attributes, uniforms;\n\n  var texture;\n\n  // decompose matrixWorld\n\n  var spritePosition = new Vector3();\n  var spriteRotation = new Quaternion();\n  var spriteScale = new Vector3();\n\n  function init() {\n\n    var vertices = new Float32Array( [\n      - 0.5, - 0.5,  0, 0,\n      0.5, - 0.5,  1, 0,\n      0.5,   0.5,  1, 1,\n      - 0.5,   0.5,  0, 1\n    ] );\n\n    var faces = new Uint16Array( [\n      0, 1, 2,\n      0, 2, 3\n    ] );\n\n    vertexBuffer  = gl.createBuffer();\n    elementBuffer = gl.createBuffer();\n\n    gl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n    gl.bufferData( gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW );\n\n    gl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n    gl.bufferData( gl.ELEMENT_ARRAY_BUFFER, faces, gl.STATIC_DRAW );\n\n    program = createProgram();\n\n    attributes = {\n      position:\t\t\tgl.getAttribLocation ( program, 'position' ),\n      uv:\t\t\t\t\tgl.getAttribLocation ( program, 'uv' )\n    };\n\n    uniforms = {\n      uvOffset:\t\t\tgl.getUniformLocation( program, 'uvOffset' ),\n      uvScale:\t\t\tgl.getUniformLocation( program, 'uvScale' ),\n\n      rotation:\t\t\tgl.getUniformLocation( program, 'rotation' ),\n      scale:\t\t\t\tgl.getUniformLocation( program, 'scale' ),\n\n      color:\t\t\t\tgl.getUniformLocation( program, 'color' ),\n      map:\t\t\t\tgl.getUniformLocation( program, 'map' ),\n      opacity:\t\t\tgl.getUniformLocation( program, 'opacity' ),\n\n      modelViewMatrix: \tgl.getUniformLocation( program, 'modelViewMatrix' ),\n      projectionMatrix:\tgl.getUniformLocation( program, 'projectionMatrix' ),\n\n      fogType:\t\t\tgl.getUniformLocation( program, 'fogType' ),\n      fogDensity:\t\t\tgl.getUniformLocation( program, 'fogDensity' ),\n      fogNear:\t\t\tgl.getUniformLocation( program, 'fogNear' ),\n      fogFar:\t\t\t\tgl.getUniformLocation( program, 'fogFar' ),\n      fogColor:\t\t\tgl.getUniformLocation( program, 'fogColor' ),\n\n      alphaTest:\t\t\tgl.getUniformLocation( program, 'alphaTest' )\n    };\n\n    var canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n    canvas.width = 8;\n    canvas.height = 8;\n\n    var context = canvas.getContext( '2d' );\n    context.fillStyle = 'white';\n    context.fillRect( 0, 0, 8, 8 );\n\n    texture = new CanvasTexture( canvas );\n\n  }\n\n  this.render = function ( sprites, scene, camera ) {\n\n    if ( sprites.length === 0 ) return;\n\n    // setup gl\n\n    if ( program === undefined ) {\n\n      init();\n\n    }\n\n    state.useProgram( program );\n\n    state.initAttributes();\n    state.enableAttribute( attributes.position );\n    state.enableAttribute( attributes.uv );\n    state.disableUnusedAttributes();\n\n    state.disable( gl.CULL_FACE );\n    state.enable( gl.BLEND );\n\n    gl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n    gl.vertexAttribPointer( attributes.position, 2, gl.FLOAT, false, 2 * 8, 0 );\n    gl.vertexAttribPointer( attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8 );\n\n    gl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\n    gl.uniformMatrix4fv( uniforms.projectionMatrix, false, camera.projectionMatrix.elements );\n\n    state.activeTexture( gl.TEXTURE0 );\n    gl.uniform1i( uniforms.map, 0 );\n\n    var oldFogType = 0;\n    var sceneFogType = 0;\n    var fog = scene.fog;\n\n    if ( fog ) {\n\n      gl.uniform3f( uniforms.fogColor, fog.color.r, fog.color.g, fog.color.b );\n\n      if ( fog.isFog ) {\n\n        gl.uniform1f( uniforms.fogNear, fog.near );\n        gl.uniform1f( uniforms.fogFar, fog.far );\n\n        gl.uniform1i( uniforms.fogType, 1 );\n        oldFogType = 1;\n        sceneFogType = 1;\n\n      } else if ( fog.isFogExp2 ) {\n\n        gl.uniform1f( uniforms.fogDensity, fog.density );\n\n        gl.uniform1i( uniforms.fogType, 2 );\n        oldFogType = 2;\n        sceneFogType = 2;\n\n      }\n\n    } else {\n\n      gl.uniform1i( uniforms.fogType, 0 );\n      oldFogType = 0;\n      sceneFogType = 0;\n\n    }\n\n\n    // update positions and sort\n\n    for ( var i = 0, l = sprites.length; i < l; i ++ ) {\n\n      var sprite = sprites[ i ];\n\n      sprite.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, sprite.matrixWorld );\n      sprite.z = - sprite.modelViewMatrix.elements[ 14 ];\n\n    }\n\n    sprites.sort( painterSortStable );\n\n    // render all sprites\n\n    var scale = [];\n\n    for ( var i = 0, l = sprites.length; i < l; i ++ ) {\n\n      var sprite = sprites[ i ];\n      var material = sprite.material;\n\n      if ( material.visible === false ) continue;\n\n      sprite.onBeforeRender( renderer, scene, camera, undefined, material, undefined );\n\n      gl.uniform1f( uniforms.alphaTest, material.alphaTest );\n      gl.uniformMatrix4fv( uniforms.modelViewMatrix, false, sprite.modelViewMatrix.elements );\n\n      sprite.matrixWorld.decompose( spritePosition, spriteRotation, spriteScale );\n\n      scale[ 0 ] = spriteScale.x;\n      scale[ 1 ] = spriteScale.y;\n\n      var fogType = 0;\n\n      if ( scene.fog && material.fog ) {\n\n        fogType = sceneFogType;\n\n      }\n\n      if ( oldFogType !== fogType ) {\n\n        gl.uniform1i( uniforms.fogType, fogType );\n        oldFogType = fogType;\n\n      }\n\n      if ( material.map !== null ) {\n\n        gl.uniform2f( uniforms.uvOffset, material.map.offset.x, material.map.offset.y );\n        gl.uniform2f( uniforms.uvScale, material.map.repeat.x, material.map.repeat.y );\n\n      } else {\n\n        gl.uniform2f( uniforms.uvOffset, 0, 0 );\n        gl.uniform2f( uniforms.uvScale, 1, 1 );\n\n      }\n\n      gl.uniform1f( uniforms.opacity, material.opacity );\n      gl.uniform3f( uniforms.color, material.color.r, material.color.g, material.color.b );\n\n      gl.uniform1f( uniforms.rotation, material.rotation );\n      gl.uniform2fv( uniforms.scale, scale );\n\n      state.setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n      state.buffers.depth.setTest( material.depthTest );\n      state.buffers.depth.setMask( material.depthWrite );\n\n      textures.setTexture2D( material.map || texture, 0 );\n\n      gl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\n      sprite.onAfterRender( renderer, scene, camera, undefined, material, undefined );\n\n    }\n\n    // restore gl\n\n    state.enable( gl.CULL_FACE );\n\n    state.reset();\n\n  };\n\n  function createProgram() {\n\n    var program = gl.createProgram();\n\n    var vertexShader = gl.createShader( gl.VERTEX_SHADER );\n    var fragmentShader = gl.createShader( gl.FRAGMENT_SHADER );\n\n    gl.shaderSource( vertexShader, [\n\n      'precision ' + capabilities.precision + ' float;',\n\n      '#define SHADER_NAME ' + 'SpriteMaterial',\n\n      'uniform mat4 modelViewMatrix;',\n      'uniform mat4 projectionMatrix;',\n      'uniform float rotation;',\n      'uniform vec2 scale;',\n      'uniform vec2 uvOffset;',\n      'uniform vec2 uvScale;',\n\n      'attribute vec2 position;',\n      'attribute vec2 uv;',\n\n      'varying vec2 vUV;',\n\n      'void main() {',\n\n      'vUV = uvOffset + uv * uvScale;',\n\n      'vec2 alignedPosition = position * scale;',\n\n      'vec2 rotatedPosition;',\n      'rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;',\n      'rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;',\n\n      'vec4 finalPosition;',\n\n      'finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );',\n      'finalPosition.xy += rotatedPosition;',\n      'finalPosition = projectionMatrix * finalPosition;',\n\n      'gl_Position = finalPosition;',\n\n      '}'\n\n    ].join( '\\n' ) );\n\n    gl.shaderSource( fragmentShader, [\n\n      'precision ' + capabilities.precision + ' float;',\n\n      '#define SHADER_NAME ' + 'SpriteMaterial',\n\n      'uniform vec3 color;',\n      'uniform sampler2D map;',\n      'uniform float opacity;',\n\n      'uniform int fogType;',\n      'uniform vec3 fogColor;',\n      'uniform float fogDensity;',\n      'uniform float fogNear;',\n      'uniform float fogFar;',\n      'uniform float alphaTest;',\n\n      'varying vec2 vUV;',\n\n      'void main() {',\n\n      'vec4 texture = texture2D( map, vUV );',\n\n      'if ( texture.a < alphaTest ) discard;',\n\n      'gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );',\n\n      'if ( fogType > 0 ) {',\n\n      'float depth = gl_FragCoord.z / gl_FragCoord.w;',\n      'float fogFactor = 0.0;',\n\n      'if ( fogType == 1 ) {',\n\n      'fogFactor = smoothstep( fogNear, fogFar, depth );',\n\n      '} else {',\n\n      'const float LOG2 = 1.442695;',\n      'fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );',\n      'fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );',\n\n      '}',\n\n      'gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );',\n\n      '}',\n\n      '}'\n\n    ].join( '\\n' ) );\n\n    gl.compileShader( vertexShader );\n    gl.compileShader( fragmentShader );\n\n    gl.attachShader( program, vertexShader );\n    gl.attachShader( program, fragmentShader );\n\n    gl.linkProgram( program );\n\n    return program;\n\n  }\n\n  function painterSortStable( a, b ) {\n\n    if ( a.renderOrder !== b.renderOrder ) {\n\n      return a.renderOrder - b.renderOrder;\n\n    } else if ( a.z !== b.z ) {\n\n      return b.z - a.z;\n\n    } else {\n\n      return b.id - a.id;\n\n    }\n\n  }\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar materialId = 0;\n\nfunction Material() {\n\n  Object.defineProperty( this, 'id', { value: materialId ++ } );\n\n  this.uuid = _Math.generateUUID();\n\n  this.name = '';\n  this.type = 'Material';\n\n  this.fog = true;\n  this.lights = true;\n\n  this.blending = NormalBlending;\n  this.side = FrontSide;\n  this.flatShading = false;\n  this.vertexColors = NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors\n\n  this.opacity = 1;\n  this.transparent = false;\n\n  this.blendSrc = SrcAlphaFactor;\n  this.blendDst = OneMinusSrcAlphaFactor;\n  this.blendEquation = AddEquation;\n  this.blendSrcAlpha = null;\n  this.blendDstAlpha = null;\n  this.blendEquationAlpha = null;\n\n  this.depthFunc = LessEqualDepth;\n  this.depthTest = true;\n  this.depthWrite = true;\n\n  this.clippingPlanes = null;\n  this.clipIntersection = false;\n  this.clipShadows = false;\n\n  this.colorWrite = true;\n\n  this.precision = null; // override the renderer's default precision for this material\n\n  this.polygonOffset = false;\n  this.polygonOffsetFactor = 0;\n  this.polygonOffsetUnits = 0;\n\n  this.dithering = false;\n\n  this.alphaTest = 0;\n  this.premultipliedAlpha = false;\n\n  this.overdraw = 0; // Overdrawn pixels (typically between 0 and 1) for fixing antialiasing gaps in CanvasRenderer\n\n  this.visible = true;\n\n  this.userData = {};\n\n  this.needsUpdate = true;\n\n}\n\nObject.assign( Material.prototype, EventDispatcher.prototype, {\n\n  isMaterial: true,\n\n  onBeforeCompile: function () {},\n\n  setValues: function ( values ) {\n\n    if ( values === undefined ) return;\n\n    for ( var key in values ) {\n\n      var newValue = values[ key ];\n\n      if ( newValue === undefined ) {\n\n        console.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n        continue;\n\n      }\n\n      // for backward compatability if shading is set in the constructor\n      if ( key === 'shading' ) {\n\n        console.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n        this.flatShading = ( newValue === FlatShading ) ? true : false;\n        continue;\n\n      }\n\n      var currentValue = this[ key ];\n\n      if ( currentValue === undefined ) {\n\n        console.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n        continue;\n\n      }\n\n      if ( currentValue && currentValue.isColor ) {\n\n        currentValue.set( newValue );\n\n      } else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n        currentValue.copy( newValue );\n\n      } else if ( key === 'overdraw' ) {\n\n        // ensure overdraw is backwards-compatible with legacy boolean type\n        this[ key ] = Number( newValue );\n\n      } else {\n\n        this[ key ] = newValue;\n\n      }\n\n    }\n\n  },\n\n  toJSON: function ( meta ) {\n\n    var isRoot = meta === undefined;\n\n    if ( isRoot ) {\n\n      meta = {\n        textures: {},\n        images: {}\n      };\n\n    }\n\n    var data = {\n      metadata: {\n        version: 4.5,\n        type: 'Material',\n        generator: 'Material.toJSON'\n      }\n    };\n\n    // standard Material serialization\n    data.uuid = this.uuid;\n    data.type = this.type;\n\n    if ( this.name !== '' ) data.name = this.name;\n\n    if ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n    if ( this.roughness !== undefined ) data.roughness = this.roughness;\n    if ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n    if ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n    if ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n    if ( this.shininess !== undefined ) data.shininess = this.shininess;\n    if ( this.clearCoat !== undefined ) data.clearCoat = this.clearCoat;\n    if ( this.clearCoatRoughness !== undefined ) data.clearCoatRoughness = this.clearCoatRoughness;\n\n    if ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n    if ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n    if ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\n    if ( this.bumpMap && this.bumpMap.isTexture ) {\n\n      data.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n      data.bumpScale = this.bumpScale;\n\n    }\n    if ( this.normalMap && this.normalMap.isTexture ) {\n\n      data.normalMap = this.normalMap.toJSON( meta ).uuid;\n      data.normalScale = this.normalScale.toArray();\n\n    }\n    if ( this.displacementMap && this.displacementMap.isTexture ) {\n\n      data.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n      data.displacementScale = this.displacementScale;\n      data.displacementBias = this.displacementBias;\n\n    }\n    if ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n    if ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n    if ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n    if ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n    if ( this.envMap && this.envMap.isTexture ) {\n\n      data.envMap = this.envMap.toJSON( meta ).uuid;\n      data.reflectivity = this.reflectivity; // Scale behind envMap\n\n    }\n\n    if ( this.gradientMap && this.gradientMap.isTexture ) {\n\n      data.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n    }\n\n    if ( this.size !== undefined ) data.size = this.size;\n    if ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n    if ( this.blending !== NormalBlending ) data.blending = this.blending;\n    if ( this.flatShading === true ) data.flatShading = this.flatShading;\n    if ( this.side !== FrontSide ) data.side = this.side;\n    if ( this.vertexColors !== NoColors ) data.vertexColors = this.vertexColors;\n\n    if ( this.opacity < 1 ) data.opacity = this.opacity;\n    if ( this.transparent === true ) data.transparent = this.transparent;\n\n    data.depthFunc = this.depthFunc;\n    data.depthTest = this.depthTest;\n    data.depthWrite = this.depthWrite;\n\n    if ( this.dithering === true ) data.dithering = true;\n\n    if ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n    if ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n    if ( this.wireframe === true ) data.wireframe = this.wireframe;\n    if ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n    if ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n    if ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n    if ( this.morphTargets === true ) data.morphTargets = true;\n    if ( this.skinning === true ) data.skinning = true;\n\n    if ( this.visible === false ) data.visible = false;\n    if ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n    // TODO: Copied from Object3D.toJSON\n\n    function extractFromCache( cache ) {\n\n      var values = [];\n\n      for ( var key in cache ) {\n\n        var data = cache[ key ];\n        delete data.metadata;\n        values.push( data );\n\n      }\n\n      return values;\n\n    }\n\n    if ( isRoot ) {\n\n      var textures = extractFromCache( meta.textures );\n      var images = extractFromCache( meta.images );\n\n      if ( textures.length > 0 ) data.textures = textures;\n      if ( images.length > 0 ) data.images = images;\n\n    }\n\n    return data;\n\n  },\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  copy: function ( source ) {\n\n    this.name = source.name;\n\n    this.fog = source.fog;\n    this.lights = source.lights;\n\n    this.blending = source.blending;\n    this.side = source.side;\n    this.flatShading = source.flatShading;\n    this.vertexColors = source.vertexColors;\n\n    this.opacity = source.opacity;\n    this.transparent = source.transparent;\n\n    this.blendSrc = source.blendSrc;\n    this.blendDst = source.blendDst;\n    this.blendEquation = source.blendEquation;\n    this.blendSrcAlpha = source.blendSrcAlpha;\n    this.blendDstAlpha = source.blendDstAlpha;\n    this.blendEquationAlpha = source.blendEquationAlpha;\n\n    this.depthFunc = source.depthFunc;\n    this.depthTest = source.depthTest;\n    this.depthWrite = source.depthWrite;\n\n    this.colorWrite = source.colorWrite;\n\n    this.precision = source.precision;\n\n    this.polygonOffset = source.polygonOffset;\n    this.polygonOffsetFactor = source.polygonOffsetFactor;\n    this.polygonOffsetUnits = source.polygonOffsetUnits;\n\n    this.dithering = source.dithering;\n\n    this.alphaTest = source.alphaTest;\n    this.premultipliedAlpha = source.premultipliedAlpha;\n\n    this.overdraw = source.overdraw;\n\n    this.visible = source.visible;\n    this.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n    this.clipShadows = source.clipShadows;\n    this.clipIntersection = source.clipIntersection;\n\n    var srcPlanes = source.clippingPlanes,\n      dstPlanes = null;\n\n    if ( srcPlanes !== null ) {\n\n      var n = srcPlanes.length;\n      dstPlanes = new Array( n );\n\n      for ( var i = 0; i !== n; ++ i )\n        dstPlanes[ i ] = srcPlanes[ i ].clone();\n\n    }\n\n    this.clippingPlanes = dstPlanes;\n\n    return this;\n\n  },\n\n  dispose: function () {\n\n    this.dispatchEvent( { type: 'dispose' } );\n\n  }\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction ShaderMaterial( parameters ) {\n\n  Material.call( this );\n\n  this.type = 'ShaderMaterial';\n\n  this.defines = {};\n  this.uniforms = {};\n\n  this.vertexShader = 'void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}';\n  this.fragmentShader = 'void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}';\n\n  this.linewidth = 1;\n\n  this.wireframe = false;\n  this.wireframeLinewidth = 1;\n\n  this.fog = false; // set to use scene fog\n  this.lights = false; // set to use scene lights\n  this.clipping = false; // set to use user-defined clipping planes\n\n  this.skinning = false; // set to use skinning attribute streams\n  this.morphTargets = false; // set to use morph targets\n  this.morphNormals = false; // set to use morph normals\n\n  this.extensions = {\n    derivatives: false, // set to use derivatives\n    fragDepth: false, // set to use fragment depth values\n    drawBuffers: false, // set to use draw buffers\n    shaderTextureLOD: false // set to use shader texture LOD\n  };\n\n  // When rendered geometry doesn't include these attributes but the material does,\n  // use these default values in WebGL. This avoids errors when buffer data is missing.\n  this.defaultAttributeValues = {\n    'color': [ 1, 1, 1 ],\n    'uv': [ 0, 0 ],\n    'uv2': [ 0, 0 ]\n  };\n\n  this.index0AttributeName = undefined;\n\n  if ( parameters !== undefined ) {\n\n    if ( parameters.attributes !== undefined ) {\n\n      console.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n    }\n\n    this.setValues( parameters );\n\n  }\n\n}\n\nShaderMaterial.prototype = Object.create( Material.prototype );\nShaderMaterial.prototype.constructor = ShaderMaterial;\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nShaderMaterial.prototype.copy = function ( source ) {\n\n  Material.prototype.copy.call( this, source );\n\n  this.fragmentShader = source.fragmentShader;\n  this.vertexShader = source.vertexShader;\n\n  this.uniforms = UniformsUtils.clone( source.uniforms );\n\n  this.defines = source.defines;\n\n  this.wireframe = source.wireframe;\n  this.wireframeLinewidth = source.wireframeLinewidth;\n\n  this.lights = source.lights;\n  this.clipping = source.clipping;\n\n  this.skinning = source.skinning;\n\n  this.morphTargets = source.morphTargets;\n  this.morphNormals = source.morphNormals;\n\n  this.extensions = source.extensions;\n\n  return this;\n\n};\n\nShaderMaterial.prototype.toJSON = function ( meta ) {\n\n  var data = Material.prototype.toJSON.call( this, meta );\n\n  data.uniforms = this.uniforms;\n  data.vertexShader = this.vertexShader;\n  data.fragmentShader = this.fragmentShader;\n\n  return data;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / https://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nfunction MeshDepthMaterial( parameters ) {\n\n  Material.call( this );\n\n  this.type = 'MeshDepthMaterial';\n\n  this.depthPacking = BasicDepthPacking;\n\n  this.skinning = false;\n  this.morphTargets = false;\n\n  this.map = null;\n\n  this.alphaMap = null;\n\n  this.displacementMap = null;\n  this.displacementScale = 1;\n  this.displacementBias = 0;\n\n  this.wireframe = false;\n  this.wireframeLinewidth = 1;\n\n  this.fog = false;\n  this.lights = false;\n\n  this.setValues( parameters );\n\n}\n\nMeshDepthMaterial.prototype = Object.create( Material.prototype );\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nMeshDepthMaterial.prototype.copy = function ( source ) {\n\n  Material.prototype.copy.call( this, source );\n\n  this.depthPacking = source.depthPacking;\n\n  this.skinning = source.skinning;\n  this.morphTargets = source.morphTargets;\n\n  this.map = source.map;\n\n  this.alphaMap = source.alphaMap;\n\n  this.displacementMap = source.displacementMap;\n  this.displacementScale = source.displacementScale;\n  this.displacementBias = source.displacementBias;\n\n  this.wireframe = source.wireframe;\n  this.wireframeLinewidth = source.wireframeLinewidth;\n\n  return this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nfunction MeshDistanceMaterial( parameters ) {\n\n  Material.call( this );\n\n  this.type = 'MeshDistanceMaterial';\n\n  this.referencePosition = new Vector3();\n  this.nearDistance = 1;\n  this.farDistance = 1000;\n\n  this.skinning = false;\n  this.morphTargets = false;\n\n  this.map = null;\n\n  this.alphaMap = null;\n\n  this.displacementMap = null;\n  this.displacementScale = 1;\n  this.displacementBias = 0;\n\n  this.fog = false;\n  this.lights = false;\n\n  this.setValues( parameters );\n\n}\n\nMeshDistanceMaterial.prototype = Object.create( Material.prototype );\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nMeshDistanceMaterial.prototype.copy = function ( source ) {\n\n  Material.prototype.copy.call( this, source );\n\n  this.referencePosition.copy( source.referencePosition );\n  this.nearDistance = source.nearDistance;\n  this.farDistance = source.farDistance;\n\n  this.skinning = source.skinning;\n  this.morphTargets = source.morphTargets;\n\n  this.map = source.map;\n\n  this.alphaMap = source.alphaMap;\n\n  this.displacementMap = source.displacementMap;\n  this.displacementScale = source.displacementScale;\n  this.displacementBias = source.displacementBias;\n\n  return this;\n\n};\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3( min, max ) {\n\n  this.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\n  this.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\n\n}\n\nObject.assign( Box3.prototype, {\n\n  isBox3: true,\n\n  set: function ( min, max ) {\n\n    this.min.copy( min );\n    this.max.copy( max );\n\n    return this;\n\n  },\n\n  setFromArray: function ( array ) {\n\n    var minX = + Infinity;\n    var minY = + Infinity;\n    var minZ = + Infinity;\n\n    var maxX = - Infinity;\n    var maxY = - Infinity;\n    var maxZ = - Infinity;\n\n    for ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n      var x = array[ i ];\n      var y = array[ i + 1 ];\n      var z = array[ i + 2 ];\n\n      if ( x < minX ) minX = x;\n      if ( y < minY ) minY = y;\n      if ( z < minZ ) minZ = z;\n\n      if ( x > maxX ) maxX = x;\n      if ( y > maxY ) maxY = y;\n      if ( z > maxZ ) maxZ = z;\n\n    }\n\n    this.min.set( minX, minY, minZ );\n    this.max.set( maxX, maxY, maxZ );\n\n    return this;\n\n  },\n\n  setFromBufferAttribute: function ( attribute ) {\n\n    var minX = + Infinity;\n    var minY = + Infinity;\n    var minZ = + Infinity;\n\n    var maxX = - Infinity;\n    var maxY = - Infinity;\n    var maxZ = - Infinity;\n\n    for ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n      var x = attribute.getX( i );\n      var y = attribute.getY( i );\n      var z = attribute.getZ( i );\n\n      if ( x < minX ) minX = x;\n      if ( y < minY ) minY = y;\n      if ( z < minZ ) minZ = z;\n\n      if ( x > maxX ) maxX = x;\n      if ( y > maxY ) maxY = y;\n      if ( z > maxZ ) maxZ = z;\n\n    }\n\n    this.min.set( minX, minY, minZ );\n    this.max.set( maxX, maxY, maxZ );\n\n    return this;\n\n  },\n\n  setFromPoints: function ( points ) {\n\n    this.makeEmpty();\n\n    for ( var i = 0, il = points.length; i < il; i ++ ) {\n\n      this.expandByPoint( points[ i ] );\n\n    }\n\n    return this;\n\n  },\n\n  setFromCenterAndSize: function () {\n\n    var v1 = new Vector3();\n\n    return function setFromCenterAndSize( center, size ) {\n\n      var halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\n      this.min.copy( center ).sub( halfSize );\n      this.max.copy( center ).add( halfSize );\n\n      return this;\n\n    };\n\n  }(),\n\n  setFromObject: function ( object ) {\n\n    this.makeEmpty();\n\n    return this.expandByObject( object );\n\n  },\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  copy: function ( box ) {\n\n    this.min.copy( box.min );\n    this.max.copy( box.max );\n\n    return this;\n\n  },\n\n  makeEmpty: function () {\n\n    this.min.x = this.min.y = this.min.z = + Infinity;\n    this.max.x = this.max.y = this.max.z = - Infinity;\n\n    return this;\n\n  },\n\n  isEmpty: function () {\n\n    // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n    return ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n  },\n\n  getCenter: function ( optionalTarget ) {\n\n    var result = optionalTarget || new Vector3();\n    return this.isEmpty() ? result.set( 0, 0, 0 ) : result.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n  },\n\n  getSize: function ( optionalTarget ) {\n\n    var result = optionalTarget || new Vector3();\n    return this.isEmpty() ? result.set( 0, 0, 0 ) : result.subVectors( this.max, this.min );\n\n  },\n\n  expandByPoint: function ( point ) {\n\n    this.min.min( point );\n    this.max.max( point );\n\n    return this;\n\n  },\n\n  expandByVector: function ( vector ) {\n\n    this.min.sub( vector );\n    this.max.add( vector );\n\n    return this;\n\n  },\n\n  expandByScalar: function ( scalar ) {\n\n    this.min.addScalar( - scalar );\n    this.max.addScalar( scalar );\n\n    return this;\n\n  },\n\n  expandByObject: function () {\n\n    // Computes the world-axis-aligned bounding box of an object (including its children),\n    // accounting for both the object's, and children's, world transforms\n\n    var v1 = new Vector3();\n\n    return function expandByObject( object ) {\n\n      var scope = this;\n\n      object.updateMatrixWorld( true );\n\n      object.traverse( function ( node ) {\n\n        var i, l;\n\n        var geometry = node.geometry;\n\n        if ( geometry !== undefined ) {\n\n          if ( geometry.isGeometry ) {\n\n            var vertices = geometry.vertices;\n\n            for ( i = 0, l = vertices.length; i < l; i ++ ) {\n\n              v1.copy( vertices[ i ] );\n              v1.applyMatrix4( node.matrixWorld );\n\n              scope.expandByPoint( v1 );\n\n            }\n\n          } else if ( geometry.isBufferGeometry ) {\n\n            var attribute = geometry.attributes.position;\n\n            if ( attribute !== undefined ) {\n\n              for ( i = 0, l = attribute.count; i < l; i ++ ) {\n\n                v1.fromBufferAttribute( attribute, i ).applyMatrix4( node.matrixWorld );\n\n                scope.expandByPoint( v1 );\n\n              }\n\n            }\n\n          }\n\n        }\n\n      } );\n\n      return this;\n\n    };\n\n  }(),\n\n  containsPoint: function ( point ) {\n\n    return point.x < this.min.x || point.x > this.max.x ||\n    point.y < this.min.y || point.y > this.max.y ||\n    point.z < this.min.z || point.z > this.max.z ? false : true;\n\n  },\n\n  containsBox: function ( box ) {\n\n    return this.min.x <= box.min.x && box.max.x <= this.max.x &&\n      this.min.y <= box.min.y && box.max.y <= this.max.y &&\n      this.min.z <= box.min.z && box.max.z <= this.max.z;\n\n  },\n\n  getParameter: function ( point, optionalTarget ) {\n\n    // This can potentially have a divide by zero if the box\n    // has a size dimension of 0.\n\n    var result = optionalTarget || new Vector3();\n\n    return result.set(\n      ( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n      ( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n      ( point.z - this.min.z ) / ( this.max.z - this.min.z )\n    );\n\n  },\n\n  intersectsBox: function ( box ) {\n\n    // using 6 splitting planes to rule out intersections.\n    return box.max.x < this.min.x || box.min.x > this.max.x ||\n    box.max.y < this.min.y || box.min.y > this.max.y ||\n    box.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n  },\n\n  intersectsSphere: ( function () {\n\n    var closestPoint = new Vector3();\n\n    return function intersectsSphere( sphere ) {\n\n      // Find the point on the AABB closest to the sphere center.\n      this.clampPoint( sphere.center, closestPoint );\n\n      // If that point is inside the sphere, the AABB and sphere intersect.\n      return closestPoint.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n    };\n\n  } )(),\n\n  intersectsPlane: function ( plane ) {\n\n    // We compute the minimum and maximum dot product values. If those values\n    // are on the same side (back or front) of the plane, then there is no intersection.\n\n    var min, max;\n\n    if ( plane.normal.x > 0 ) {\n\n      min = plane.normal.x * this.min.x;\n      max = plane.normal.x * this.max.x;\n\n    } else {\n\n      min = plane.normal.x * this.max.x;\n      max = plane.normal.x * this.min.x;\n\n    }\n\n    if ( plane.normal.y > 0 ) {\n\n      min += plane.normal.y * this.min.y;\n      max += plane.normal.y * this.max.y;\n\n    } else {\n\n      min += plane.normal.y * this.max.y;\n      max += plane.normal.y * this.min.y;\n\n    }\n\n    if ( plane.normal.z > 0 ) {\n\n      min += plane.normal.z * this.min.z;\n      max += plane.normal.z * this.max.z;\n\n    } else {\n\n      min += plane.normal.z * this.max.z;\n      max += plane.normal.z * this.min.z;\n\n    }\n\n    return ( min <= plane.constant && max >= plane.constant );\n\n  },\n\n  clampPoint: function ( point, optionalTarget ) {\n\n    var result = optionalTarget || new Vector3();\n    return result.copy( point ).clamp( this.min, this.max );\n\n  },\n\n  distanceToPoint: function () {\n\n    var v1 = new Vector3();\n\n    return function distanceToPoint( point ) {\n\n      var clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n      return clampedPoint.sub( point ).length();\n\n    };\n\n  }(),\n\n  getBoundingSphere: function () {\n\n    var v1 = new Vector3();\n\n    return function getBoundingSphere( optionalTarget ) {\n\n      var result = optionalTarget || new Sphere();\n\n      this.getCenter( result.center );\n\n      result.radius = this.getSize( v1 ).length() * 0.5;\n\n      return result;\n\n    };\n\n  }(),\n\n  intersect: function ( box ) {\n\n    this.min.max( box.min );\n    this.max.min( box.max );\n\n    // ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n    if( this.isEmpty() ) this.makeEmpty();\n\n    return this;\n\n  },\n\n  union: function ( box ) {\n\n    this.min.min( box.min );\n    this.max.max( box.max );\n\n    return this;\n\n  },\n\n  applyMatrix4: function () {\n\n    var points = [\n      new Vector3(),\n      new Vector3(),\n      new Vector3(),\n      new Vector3(),\n      new Vector3(),\n      new Vector3(),\n      new Vector3(),\n      new Vector3()\n    ];\n\n    return function applyMatrix4( matrix ) {\n\n      // transform of empty box is an empty box.\n      if( this.isEmpty() ) return this;\n\n      // NOTE: I am using a binary pattern to specify all 2^3 combinations below\n      points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n      points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n      points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n      points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n      points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n      points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n      points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n      points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix );\t// 111\n\n      this.setFromPoints( points );\n\n      return this;\n\n    };\n\n  }(),\n\n  translate: function ( offset ) {\n\n    this.min.add( offset );\n    this.max.add( offset );\n\n    return this;\n\n  },\n\n  equals: function ( box ) {\n\n    return box.min.equals( this.min ) && box.max.equals( this.max );\n\n  }\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Sphere( center, radius ) {\n\n  this.center = ( center !== undefined ) ? center : new Vector3();\n  this.radius = ( radius !== undefined ) ? radius : 0;\n\n}\n\nObject.assign( Sphere.prototype, {\n\n  set: function ( center, radius ) {\n\n    this.center.copy( center );\n    this.radius = radius;\n\n    return this;\n\n  },\n\n  setFromPoints: function () {\n\n    var box = new Box3();\n\n    return function setFromPoints( points, optionalCenter ) {\n\n      var center = this.center;\n\n      if ( optionalCenter !== undefined ) {\n\n        center.copy( optionalCenter );\n\n      } else {\n\n        box.setFromPoints( points ).getCenter( center );\n\n      }\n\n      var maxRadiusSq = 0;\n\n      for ( var i = 0, il = points.length; i < il; i ++ ) {\n\n        maxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n      }\n\n      this.radius = Math.sqrt( maxRadiusSq );\n\n      return this;\n\n    };\n\n  }(),\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  copy: function ( sphere ) {\n\n    this.center.copy( sphere.center );\n    this.radius = sphere.radius;\n\n    return this;\n\n  },\n\n  empty: function () {\n\n    return ( this.radius <= 0 );\n\n  },\n\n  containsPoint: function ( point ) {\n\n    return ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n  },\n\n  distanceToPoint: function ( point ) {\n\n    return ( point.distanceTo( this.center ) - this.radius );\n\n  },\n\n  intersectsSphere: function ( sphere ) {\n\n    var radiusSum = this.radius + sphere.radius;\n\n    return sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n  },\n\n  intersectsBox: function ( box ) {\n\n    return box.intersectsSphere( this );\n\n  },\n\n  intersectsPlane: function ( plane ) {\n\n    return Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n  },\n\n  clampPoint: function ( point, optionalTarget ) {\n\n    var deltaLengthSq = this.center.distanceToSquared( point );\n\n    var result = optionalTarget || new Vector3();\n\n    result.copy( point );\n\n    if ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n      result.sub( this.center ).normalize();\n      result.multiplyScalar( this.radius ).add( this.center );\n\n    }\n\n    return result;\n\n  },\n\n  getBoundingBox: function ( optionalTarget ) {\n\n    var box = optionalTarget || new Box3();\n\n    box.set( this.center, this.center );\n    box.expandByScalar( this.radius );\n\n    return box;\n\n  },\n\n  applyMatrix4: function ( matrix ) {\n\n    this.center.applyMatrix4( matrix );\n    this.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n    return this;\n\n  },\n\n  translate: function ( offset ) {\n\n    this.center.add( offset );\n\n    return this;\n\n  },\n\n  equals: function ( sphere ) {\n\n    return sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n  }\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n * @author tschw\n */\n\nfunction Matrix3() {\n\n  this.elements = [\n\n    1, 0, 0,\n    0, 1, 0,\n    0, 0, 1\n\n  ];\n\n  if ( arguments.length > 0 ) {\n\n    console.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n  }\n\n}\n\nObject.assign( Matrix3.prototype, {\n\n  isMatrix3: true,\n\n  set: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n    var te = this.elements;\n\n    te[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n    te[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n    te[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n    return this;\n\n  },\n\n  identity: function () {\n\n    this.set(\n\n      1, 0, 0,\n      0, 1, 0,\n      0, 0, 1\n\n    );\n\n    return this;\n\n  },\n\n  clone: function () {\n\n    return new this.constructor().fromArray( this.elements );\n\n  },\n\n  copy: function ( m ) {\n\n    var te = this.elements;\n    var me = m.elements;\n\n    te[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n    te[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n    te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n    return this;\n\n  },\n\n  setFromMatrix4: function ( m ) {\n\n    var me = m.elements;\n\n    this.set(\n\n      me[ 0 ], me[ 4 ], me[  8 ],\n      me[ 1 ], me[ 5 ], me[  9 ],\n      me[ 2 ], me[ 6 ], me[ 10 ]\n\n    );\n\n    return this;\n\n  },\n\n  applyToBufferAttribute: function () {\n\n    var v1 = new Vector3();\n\n    return function applyToBufferAttribute( attribute ) {\n\n      for ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n        v1.x = attribute.getX( i );\n        v1.y = attribute.getY( i );\n        v1.z = attribute.getZ( i );\n\n        v1.applyMatrix3( this );\n\n        attribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n      }\n\n      return attribute;\n\n    };\n\n  }(),\n\n  multiply: function ( m ) {\n\n    return this.multiplyMatrices( this, m );\n\n  },\n\n  premultiply: function ( m ) {\n\n    return this.multiplyMatrices( m, this );\n\n  },\n\n  multiplyMatrices: function ( a, b ) {\n\n    var ae = a.elements;\n    var be = b.elements;\n    var te = this.elements;\n\n    var a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n    var a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n    var a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n    var b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n    var b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n    var b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n    te[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n    te[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n    te[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n    te[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n    te[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n    te[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n    te[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n    te[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n    te[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n    return this;\n\n  },\n\n  multiplyScalar: function ( s ) {\n\n    var te = this.elements;\n\n    te[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n    te[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n    te[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n    return this;\n\n  },\n\n  determinant: function () {\n\n    var te = this.elements;\n\n    var a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n      d = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n      g = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n    return a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n  },\n\n  getInverse: function ( matrix, throwOnDegenerate ) {\n\n    if ( matrix && matrix.isMatrix4 ) {\n\n      console.error( \"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\" );\n\n    }\n\n    var me = matrix.elements,\n      te = this.elements,\n\n      n11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\n      n12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\n      n13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\n\n      t11 = n33 * n22 - n32 * n23,\n      t12 = n32 * n13 - n33 * n12,\n      t13 = n23 * n12 - n22 * n13,\n\n      det = n11 * t11 + n21 * t12 + n31 * t13;\n\n    if ( det === 0 ) {\n\n      var msg = \"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";\n\n      if ( throwOnDegenerate === true ) {\n\n        throw new Error( msg );\n\n      } else {\n\n        console.warn( msg );\n\n      }\n\n      return this.identity();\n\n    }\n\n    var detInv = 1 / det;\n\n    te[ 0 ] = t11 * detInv;\n    te[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n    te[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n    te[ 3 ] = t12 * detInv;\n    te[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n    te[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n    te[ 6 ] = t13 * detInv;\n    te[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n    te[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n    return this;\n\n  },\n\n  transpose: function () {\n\n    var tmp, m = this.elements;\n\n    tmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n    tmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n    tmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n    return this;\n\n  },\n\n  getNormalMatrix: function ( matrix4 ) {\n\n    return this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\n\n  },\n\n  transposeIntoArray: function ( r ) {\n\n    var m = this.elements;\n\n    r[ 0 ] = m[ 0 ];\n    r[ 1 ] = m[ 3 ];\n    r[ 2 ] = m[ 6 ];\n    r[ 3 ] = m[ 1 ];\n    r[ 4 ] = m[ 4 ];\n    r[ 5 ] = m[ 7 ];\n    r[ 6 ] = m[ 2 ];\n    r[ 7 ] = m[ 5 ];\n    r[ 8 ] = m[ 8 ];\n\n    return this;\n\n  },\n\n  equals: function ( matrix ) {\n\n    var te = this.elements;\n    var me = matrix.elements;\n\n    for ( var i = 0; i < 9; i ++ ) {\n\n      if ( te[ i ] !== me[ i ] ) return false;\n\n    }\n\n    return true;\n\n  },\n\n  fromArray: function ( array, offset ) {\n\n    if ( offset === undefined ) offset = 0;\n\n    for ( var i = 0; i < 9; i ++ ) {\n\n      this.elements[ i ] = array[ i + offset ];\n\n    }\n\n    return this;\n\n  },\n\n  toArray: function ( array, offset ) {\n\n    if ( array === undefined ) array = [];\n    if ( offset === undefined ) offset = 0;\n\n    var te = this.elements;\n\n    array[ offset ] = te[ 0 ];\n    array[ offset + 1 ] = te[ 1 ];\n    array[ offset + 2 ] = te[ 2 ];\n\n    array[ offset + 3 ] = te[ 3 ];\n    array[ offset + 4 ] = te[ 4 ];\n    array[ offset + 5 ] = te[ 5 ];\n\n    array[ offset + 6 ] = te[ 6 ];\n    array[ offset + 7 ] = te[ 7 ];\n    array[ offset + 8 ] = te[ 8 ];\n\n    return array;\n\n  }\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Plane( normal, constant ) {\n\n  // normal is assumed to be normalized\n\n  this.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\n  this.constant = ( constant !== undefined ) ? constant : 0;\n\n}\n\nObject.assign( Plane.prototype, {\n\n  set: function ( normal, constant ) {\n\n    this.normal.copy( normal );\n    this.constant = constant;\n\n    return this;\n\n  },\n\n  setComponents: function ( x, y, z, w ) {\n\n    this.normal.set( x, y, z );\n    this.constant = w;\n\n    return this;\n\n  },\n\n  setFromNormalAndCoplanarPoint: function ( normal, point ) {\n\n    this.normal.copy( normal );\n    this.constant = - point.dot( this.normal );\n\n    return this;\n\n  },\n\n  setFromCoplanarPoints: function () {\n\n    var v1 = new Vector3();\n    var v2 = new Vector3();\n\n    return function setFromCoplanarPoints( a, b, c ) {\n\n      var normal = v1.subVectors( c, b ).cross( v2.subVectors( a, b ) ).normalize();\n\n      // Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n      this.setFromNormalAndCoplanarPoint( normal, a );\n\n      return this;\n\n    };\n\n  }(),\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  copy: function ( plane ) {\n\n    this.normal.copy( plane.normal );\n    this.constant = plane.constant;\n\n    return this;\n\n  },\n\n  normalize: function () {\n\n    // Note: will lead to a divide by zero if the plane is invalid.\n\n    var inverseNormalLength = 1.0 / this.normal.length();\n    this.normal.multiplyScalar( inverseNormalLength );\n    this.constant *= inverseNormalLength;\n\n    return this;\n\n  },\n\n  negate: function () {\n\n    this.constant *= - 1;\n    this.normal.negate();\n\n    return this;\n\n  },\n\n  distanceToPoint: function ( point ) {\n\n    return this.normal.dot( point ) + this.constant;\n\n  },\n\n  distanceToSphere: function ( sphere ) {\n\n    return this.distanceToPoint( sphere.center ) - sphere.radius;\n\n  },\n\n  projectPoint: function ( point, optionalTarget ) {\n\n    var result = optionalTarget || new Vector3();\n\n    return result.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n  },\n\n  intersectLine: function () {\n\n    var v1 = new Vector3();\n\n    return function intersectLine( line, optionalTarget ) {\n\n      var result = optionalTarget || new Vector3();\n\n      var direction = line.delta( v1 );\n\n      var denominator = this.normal.dot( direction );\n\n      if ( denominator === 0 ) {\n\n        // line is coplanar, return origin\n        if ( this.distanceToPoint( line.start ) === 0 ) {\n\n          return result.copy( line.start );\n\n        }\n\n        // Unsure if this is the correct method to handle this case.\n        return undefined;\n\n      }\n\n      var t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n      if ( t < 0 || t > 1 ) {\n\n        return undefined;\n\n      }\n\n      return result.copy( direction ).multiplyScalar( t ).add( line.start );\n\n    };\n\n  }(),\n\n  intersectsLine: function ( line ) {\n\n    // Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n    var startSign = this.distanceToPoint( line.start );\n    var endSign = this.distanceToPoint( line.end );\n\n    return ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n  },\n\n  intersectsBox: function ( box ) {\n\n    return box.intersectsPlane( this );\n\n  },\n\n  intersectsSphere: function ( sphere ) {\n\n    return sphere.intersectsPlane( this );\n\n  },\n\n  coplanarPoint: function ( optionalTarget ) {\n\n    var result = optionalTarget || new Vector3();\n\n    return result.copy( this.normal ).multiplyScalar( - this.constant );\n\n  },\n\n  applyMatrix4: function () {\n\n    var v1 = new Vector3();\n    var m1 = new Matrix3();\n\n    return function applyMatrix4( matrix, optionalNormalMatrix ) {\n\n      var normalMatrix = optionalNormalMatrix || m1.getNormalMatrix( matrix );\n\n      var referencePoint = this.coplanarPoint( v1 ).applyMatrix4( matrix );\n\n      var normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n      this.constant = - referencePoint.dot( normal );\n\n      return this;\n\n    };\n\n  }(),\n\n  translate: function ( offset ) {\n\n    this.constant -= offset.dot( this.normal );\n\n    return this;\n\n  },\n\n  equals: function ( plane ) {\n\n    return plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / http://clara.io\n */\n\nfunction Frustum( p0, p1, p2, p3, p4, p5 ) {\n\n  this.planes = [\n\n    ( p0 !== undefined ) ? p0 : new Plane(),\n    ( p1 !== undefined ) ? p1 : new Plane(),\n    ( p2 !== undefined ) ? p2 : new Plane(),\n    ( p3 !== undefined ) ? p3 : new Plane(),\n    ( p4 !== undefined ) ? p4 : new Plane(),\n    ( p5 !== undefined ) ? p5 : new Plane()\n\n  ];\n\n}\n\nObject.assign( Frustum.prototype, {\n\n  set: function ( p0, p1, p2, p3, p4, p5 ) {\n\n    var planes = this.planes;\n\n    planes[ 0 ].copy( p0 );\n    planes[ 1 ].copy( p1 );\n    planes[ 2 ].copy( p2 );\n    planes[ 3 ].copy( p3 );\n    planes[ 4 ].copy( p4 );\n    planes[ 5 ].copy( p5 );\n\n    return this;\n\n  },\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  copy: function ( frustum ) {\n\n    var planes = this.planes;\n\n    for ( var i = 0; i < 6; i ++ ) {\n\n      planes[ i ].copy( frustum.planes[ i ] );\n\n    }\n\n    return this;\n\n  },\n\n  setFromMatrix: function ( m ) {\n\n    var planes = this.planes;\n    var me = m.elements;\n    var me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n    var me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n    var me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n    var me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n    planes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n    planes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n    planes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n    planes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n    planes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n    planes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n    return this;\n\n  },\n\n  intersectsObject: function () {\n\n    var sphere = new Sphere();\n\n    return function intersectsObject( object ) {\n\n      var geometry = object.geometry;\n\n      if ( geometry.boundingSphere === null )\n        geometry.computeBoundingSphere();\n\n      sphere.copy( geometry.boundingSphere )\n        .applyMatrix4( object.matrixWorld );\n\n      return this.intersectsSphere( sphere );\n\n    };\n\n  }(),\n\n  intersectsSprite: function () {\n\n    var sphere = new Sphere();\n\n    return function intersectsSprite( sprite ) {\n\n      sphere.center.set( 0, 0, 0 );\n      sphere.radius = 0.7071067811865476;\n      sphere.applyMatrix4( sprite.matrixWorld );\n\n      return this.intersectsSphere( sphere );\n\n    };\n\n  }(),\n\n  intersectsSphere: function ( sphere ) {\n\n    var planes = this.planes;\n    var center = sphere.center;\n    var negRadius = - sphere.radius;\n\n    for ( var i = 0; i < 6; i ++ ) {\n\n      var distance = planes[ i ].distanceToPoint( center );\n\n      if ( distance < negRadius ) {\n\n        return false;\n\n      }\n\n    }\n\n    return true;\n\n  },\n\n  intersectsBox: function () {\n\n    var p1 = new Vector3(),\n      p2 = new Vector3();\n\n    return function intersectsBox( box ) {\n\n      var planes = this.planes;\n\n      for ( var i = 0; i < 6; i ++ ) {\n\n        var plane = planes[ i ];\n\n        p1.x = plane.normal.x > 0 ? box.min.x : box.max.x;\n        p2.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n        p1.y = plane.normal.y > 0 ? box.min.y : box.max.y;\n        p2.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n        p1.z = plane.normal.z > 0 ? box.min.z : box.max.z;\n        p2.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n        var d1 = plane.distanceToPoint( p1 );\n        var d2 = plane.distanceToPoint( p2 );\n\n        // if both outside plane, no intersection\n\n        if ( d1 < 0 && d2 < 0 ) {\n\n          return false;\n\n        }\n\n      }\n\n      return true;\n\n    };\n\n  }(),\n\n  containsPoint: function ( point ) {\n\n    var planes = this.planes;\n\n    for ( var i = 0; i < 6; i ++ ) {\n\n      if ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n        return false;\n\n      }\n\n    }\n\n    return true;\n\n  }\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\n\n  var _frustum = new Frustum(),\n    _projScreenMatrix = new Matrix4(),\n\n    _shadowMapSize = new Vector2(),\n    _maxShadowMapSize = new Vector2( maxTextureSize, maxTextureSize ),\n\n    _lookTarget = new Vector3(),\n    _lightPositionWorld = new Vector3(),\n\n    _MorphingFlag = 1,\n    _SkinningFlag = 2,\n\n    _NumberOfMaterialVariants = ( _MorphingFlag | _SkinningFlag ) + 1,\n\n    _depthMaterials = new Array( _NumberOfMaterialVariants ),\n    _distanceMaterials = new Array( _NumberOfMaterialVariants ),\n\n    _materialCache = {};\n\n  var cubeDirections = [\n    new Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n    new Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n  ];\n\n  var cubeUps = [\n    new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n    new Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n  ];\n\n  var cube2DViewPorts = [\n    new Vector4(), new Vector4(), new Vector4(),\n    new Vector4(), new Vector4(), new Vector4()\n  ];\n\n  // init\n\n  for ( var i = 0; i !== _NumberOfMaterialVariants; ++ i ) {\n\n    var useMorphing = ( i & _MorphingFlag ) !== 0;\n    var useSkinning = ( i & _SkinningFlag ) !== 0;\n\n    var depthMaterial = new MeshDepthMaterial( {\n\n      depthPacking: RGBADepthPacking,\n\n      morphTargets: useMorphing,\n      skinning: useSkinning\n\n    } );\n\n    _depthMaterials[ i ] = depthMaterial;\n\n    //\n\n    var distanceMaterial = new MeshDistanceMaterial( {\n\n      morphTargets: useMorphing,\n      skinning: useSkinning\n\n    } );\n\n    _distanceMaterials[ i ] = distanceMaterial;\n\n  }\n\n  //\n\n  var scope = this;\n\n  this.enabled = false;\n\n  this.autoUpdate = true;\n  this.needsUpdate = false;\n\n  this.type = PCFShadowMap;\n\n  this.renderReverseSided = true;\n  this.renderSingleSided = true;\n\n  this.render = function ( lights, scene, camera ) {\n\n    if ( scope.enabled === false ) return;\n    if ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n    if ( lights.length === 0 ) return;\n\n    // TODO Clean up (needed in case of contextlost)\n    var _gl = _renderer.context;\n    var _state = _renderer.state;\n\n    // Set GL state for depth map.\n    _state.disable( _gl.BLEND );\n    _state.buffers.color.setClear( 1, 1, 1, 1 );\n    _state.buffers.depth.setTest( true );\n    _state.setScissorTest( false );\n\n    // render depth map\n\n    var faceCount;\n\n    for ( var i = 0, il = lights.length; i < il; i ++ ) {\n\n      var light = lights[ i ];\n      var shadow = light.shadow;\n      var isPointLight = light && light.isPointLight;\n\n      if ( shadow === undefined ) {\n\n        console.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n        continue;\n\n      }\n\n      var shadowCamera = shadow.camera;\n\n      _shadowMapSize.copy( shadow.mapSize );\n      _shadowMapSize.min( _maxShadowMapSize );\n\n      if ( isPointLight ) {\n\n        var vpWidth = _shadowMapSize.x;\n        var vpHeight = _shadowMapSize.y;\n\n        // These viewports map a cube-map onto a 2D texture with the\n        // following orientation:\n        //\n        //  xzXZ\n        //   y Y\n        //\n        // X - Positive x direction\n        // x - Negative x direction\n        // Y - Positive y direction\n        // y - Negative y direction\n        // Z - Positive z direction\n        // z - Negative z direction\n\n        // positive X\n        cube2DViewPorts[ 0 ].set( vpWidth * 2, vpHeight, vpWidth, vpHeight );\n        // negative X\n        cube2DViewPorts[ 1 ].set( 0, vpHeight, vpWidth, vpHeight );\n        // positive Z\n        cube2DViewPorts[ 2 ].set( vpWidth * 3, vpHeight, vpWidth, vpHeight );\n        // negative Z\n        cube2DViewPorts[ 3 ].set( vpWidth, vpHeight, vpWidth, vpHeight );\n        // positive Y\n        cube2DViewPorts[ 4 ].set( vpWidth * 3, 0, vpWidth, vpHeight );\n        // negative Y\n        cube2DViewPorts[ 5 ].set( vpWidth, 0, vpWidth, vpHeight );\n\n        _shadowMapSize.x *= 4.0;\n        _shadowMapSize.y *= 2.0;\n\n      }\n\n      if ( shadow.map === null ) {\n\n        var pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n        shadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n        shadow.map.texture.name = light.name + \".shadowMap\";\n\n        shadowCamera.updateProjectionMatrix();\n\n      }\n\n      if ( shadow.isSpotLightShadow ) {\n\n        shadow.update( light );\n\n      }\n\n      var shadowMap = shadow.map;\n      var shadowMatrix = shadow.matrix;\n\n      _lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n      shadowCamera.position.copy( _lightPositionWorld );\n\n      if ( isPointLight ) {\n\n        faceCount = 6;\n\n        // for point lights we set the shadow matrix to be a translation-only matrix\n        // equal to inverse of the light's position\n\n        shadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n      } else {\n\n        faceCount = 1;\n\n        _lookTarget.setFromMatrixPosition( light.target.matrixWorld );\n        shadowCamera.lookAt( _lookTarget );\n        shadowCamera.updateMatrixWorld();\n\n        // compute shadow matrix\n\n        shadowMatrix.set(\n          0.5, 0.0, 0.0, 0.5,\n          0.0, 0.5, 0.0, 0.5,\n          0.0, 0.0, 0.5, 0.5,\n          0.0, 0.0, 0.0, 1.0\n        );\n\n        shadowMatrix.multiply( shadowCamera.projectionMatrix );\n        shadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n      }\n\n      _renderer.setRenderTarget( shadowMap );\n      _renderer.clear();\n\n      // render shadow map for each cube face (if omni-directional) or\n      // run a single pass if not\n\n      for ( var face = 0; face < faceCount; face ++ ) {\n\n        if ( isPointLight ) {\n\n          _lookTarget.copy( shadowCamera.position );\n          _lookTarget.add( cubeDirections[ face ] );\n          shadowCamera.up.copy( cubeUps[ face ] );\n          shadowCamera.lookAt( _lookTarget );\n          shadowCamera.updateMatrixWorld();\n\n          var vpDimensions = cube2DViewPorts[ face ];\n          _state.viewport( vpDimensions );\n\n        }\n\n        // update camera matrices and frustum\n\n        _projScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n        _frustum.setFromMatrix( _projScreenMatrix );\n\n        // set object matrices & frustum culling\n\n        renderObject( scene, camera, shadowCamera, isPointLight );\n\n      }\n\n    }\n\n    scope.needsUpdate = false;\n\n  };\n\n  function getDepthMaterial( object, material, isPointLight, lightPositionWorld, shadowCameraNear, shadowCameraFar ) {\n\n    var geometry = object.geometry;\n\n    var result = null;\n\n    var materialVariants = _depthMaterials;\n    var customMaterial = object.customDepthMaterial;\n\n    if ( isPointLight ) {\n\n      materialVariants = _distanceMaterials;\n      customMaterial = object.customDistanceMaterial;\n\n    }\n\n    if ( ! customMaterial ) {\n\n      var useMorphing = false;\n\n      if ( material.morphTargets ) {\n\n        if ( geometry && geometry.isBufferGeometry ) {\n\n          useMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n        } else if ( geometry && geometry.isGeometry ) {\n\n          useMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\n\n        }\n\n      }\n\n      if ( object.isSkinnedMesh && material.skinning === false ) {\n\n        console.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n      }\n\n      var useSkinning = object.isSkinnedMesh && material.skinning;\n\n      var variantIndex = 0;\n\n      if ( useMorphing ) variantIndex |= _MorphingFlag;\n      if ( useSkinning ) variantIndex |= _SkinningFlag;\n\n      result = materialVariants[ variantIndex ];\n\n    } else {\n\n      result = customMaterial;\n\n    }\n\n    if ( _renderer.localClippingEnabled &&\n      material.clipShadows === true &&\n      material.clippingPlanes.length !== 0 ) {\n\n      // in this case we need a unique material instance reflecting the\n      // appropriate state\n\n      var keyA = result.uuid, keyB = material.uuid;\n\n      var materialsForVariant = _materialCache[ keyA ];\n\n      if ( materialsForVariant === undefined ) {\n\n        materialsForVariant = {};\n        _materialCache[ keyA ] = materialsForVariant;\n\n      }\n\n      var cachedMaterial = materialsForVariant[ keyB ];\n\n      if ( cachedMaterial === undefined ) {\n\n        cachedMaterial = result.clone();\n        materialsForVariant[ keyB ] = cachedMaterial;\n\n      }\n\n      result = cachedMaterial;\n\n    }\n\n    result.visible = material.visible;\n    result.wireframe = material.wireframe;\n\n    var side = material.side;\n\n    if ( scope.renderSingleSided && side == DoubleSide ) {\n\n      side = FrontSide;\n\n    }\n\n    if ( scope.renderReverseSided ) {\n\n      if ( side === FrontSide ) side = BackSide;\n      else if ( side === BackSide ) side = FrontSide;\n\n    }\n\n    result.side = side;\n\n    result.clipShadows = material.clipShadows;\n    result.clippingPlanes = material.clippingPlanes;\n    result.clipIntersection = material.clipIntersection;\n\n    result.wireframeLinewidth = material.wireframeLinewidth;\n    result.linewidth = material.linewidth;\n\n    if ( isPointLight && result.isMeshDistanceMaterial ) {\n\n      result.referencePosition.copy( lightPositionWorld );\n      result.nearDistance = shadowCameraNear;\n      result.farDistance = shadowCameraFar;\n\n    }\n\n    return result;\n\n  }\n\n  function renderObject( object, camera, shadowCamera, isPointLight ) {\n\n    if ( object.visible === false ) return;\n\n    var visible = object.layers.test( camera.layers );\n\n    if ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n      if ( object.castShadow && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n        object.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n        var geometry = _objects.update( object );\n        var material = object.material;\n\n        if ( Array.isArray( material ) ) {\n\n          var groups = geometry.groups;\n\n          for ( var k = 0, kl = groups.length; k < kl; k ++ ) {\n\n            var group = groups[ k ];\n            var groupMaterial = material[ group.materialIndex ];\n\n            if ( groupMaterial && groupMaterial.visible ) {\n\n              var depthMaterial = getDepthMaterial( object, groupMaterial, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\n              _renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n            }\n\n          }\n\n        } else if ( material.visible ) {\n\n          var depthMaterial = getDepthMaterial( object, material, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\n          _renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n        }\n\n      }\n\n    }\n\n    var children = object.children;\n\n    for ( var i = 0, l = children.length; i < l; i ++ ) {\n\n      renderObject( children[ i ], camera, shadowCamera, isPointLight );\n\n    }\n\n  }\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAttributes( gl ) {\n\n  var buffers = {};\n\n  function createBuffer( attribute, bufferType ) {\n\n    var array = attribute.array;\n    var usage = attribute.dynamic ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\n\n    var buffer = gl.createBuffer();\n\n    gl.bindBuffer( bufferType, buffer );\n    gl.bufferData( bufferType, array, usage );\n\n    attribute.onUploadCallback();\n\n    var type = gl.FLOAT;\n\n    if ( array instanceof Float32Array ) {\n\n      type = gl.FLOAT;\n\n    } else if ( array instanceof Float64Array ) {\n\n      console.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n    } else if ( array instanceof Uint16Array ) {\n\n      type = gl.UNSIGNED_SHORT;\n\n    } else if ( array instanceof Int16Array ) {\n\n      type = gl.SHORT;\n\n    } else if ( array instanceof Uint32Array ) {\n\n      type = gl.UNSIGNED_INT;\n\n    } else if ( array instanceof Int32Array ) {\n\n      type = gl.INT;\n\n    } else if ( array instanceof Int8Array ) {\n\n      type = gl.BYTE;\n\n    } else if ( array instanceof Uint8Array ) {\n\n      type = gl.UNSIGNED_BYTE;\n\n    }\n\n    return {\n      buffer: buffer,\n      type: type,\n      bytesPerElement: array.BYTES_PER_ELEMENT,\n      version: attribute.version\n    };\n\n  }\n\n  function updateBuffer( buffer, attribute, bufferType ) {\n\n    var array = attribute.array;\n    var updateRange = attribute.updateRange;\n\n    gl.bindBuffer( bufferType, buffer );\n\n    if ( attribute.dynamic === false ) {\n\n      gl.bufferData( bufferType, array, gl.STATIC_DRAW );\n\n    } else if ( updateRange.count === - 1 ) {\n\n      // Not using update ranges\n\n      gl.bufferSubData( bufferType, 0, array );\n\n    } else if ( updateRange.count === 0 ) {\n\n      console.error( 'THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.' );\n\n    } else {\n\n      gl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n        array.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n      updateRange.count = -1; // reset range\n\n    }\n\n  }\n\n  //\n\n  function get( attribute ) {\n\n    if ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n    return buffers[ attribute.uuid ];\n\n  }\n\n  function remove( attribute ) {\n\n    if ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n    var data = buffers[ attribute.uuid ];\n\n    if ( data ) {\n\n      gl.deleteBuffer( data.buffer );\n\n      delete buffers[ attribute.uuid ];\n\n    }\n\n  }\n\n  function update( attribute, bufferType ) {\n\n    if ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n    var data = buffers[ attribute.uuid ];\n\n    if ( data === undefined ) {\n\n      buffers[ attribute.uuid ] = createBuffer( attribute, bufferType );\n\n    } else if ( data.version < attribute.version ) {\n\n      updateBuffer( data.buffer, attribute, bufferType );\n\n      data.version = attribute.version;\n\n    }\n\n  }\n\n  return {\n\n    get: get,\n    remove: remove,\n    update: update\n\n  };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Euler( x, y, z, order ) {\n\n  this._x = x || 0;\n  this._y = y || 0;\n  this._z = z || 0;\n  this._order = order || Euler.DefaultOrder;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n  x: {\n\n    get: function () {\n\n      return this._x;\n\n    },\n\n    set: function ( value ) {\n\n      this._x = value;\n      this.onChangeCallback();\n\n    }\n\n  },\n\n  y: {\n\n    get: function () {\n\n      return this._y;\n\n    },\n\n    set: function ( value ) {\n\n      this._y = value;\n      this.onChangeCallback();\n\n    }\n\n  },\n\n  z: {\n\n    get: function () {\n\n      return this._z;\n\n    },\n\n    set: function ( value ) {\n\n      this._z = value;\n      this.onChangeCallback();\n\n    }\n\n  },\n\n  order: {\n\n    get: function () {\n\n      return this._order;\n\n    },\n\n    set: function ( value ) {\n\n      this._order = value;\n      this.onChangeCallback();\n\n    }\n\n  }\n\n} );\n\nObject.assign( Euler.prototype, {\n\n  isEuler: true,\n\n  set: function ( x, y, z, order ) {\n\n    this._x = x;\n    this._y = y;\n    this._z = z;\n    this._order = order || this._order;\n\n    this.onChangeCallback();\n\n    return this;\n\n  },\n\n  clone: function () {\n\n    return new this.constructor( this._x, this._y, this._z, this._order );\n\n  },\n\n  copy: function ( euler ) {\n\n    this._x = euler._x;\n    this._y = euler._y;\n    this._z = euler._z;\n    this._order = euler._order;\n\n    this.onChangeCallback();\n\n    return this;\n\n  },\n\n  setFromRotationMatrix: function ( m, order, update ) {\n\n    var clamp = _Math.clamp;\n\n    // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n    var te = m.elements;\n    var m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n    var m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n    var m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n    order = order || this._order;\n\n    if ( order === 'XYZ' ) {\n\n      this._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n      if ( Math.abs( m13 ) < 0.99999 ) {\n\n        this._x = Math.atan2( - m23, m33 );\n        this._z = Math.atan2( - m12, m11 );\n\n      } else {\n\n        this._x = Math.atan2( m32, m22 );\n        this._z = 0;\n\n      }\n\n    } else if ( order === 'YXZ' ) {\n\n      this._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n      if ( Math.abs( m23 ) < 0.99999 ) {\n\n        this._y = Math.atan2( m13, m33 );\n        this._z = Math.atan2( m21, m22 );\n\n      } else {\n\n        this._y = Math.atan2( - m31, m11 );\n        this._z = 0;\n\n      }\n\n    } else if ( order === 'ZXY' ) {\n\n      this._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n      if ( Math.abs( m32 ) < 0.99999 ) {\n\n        this._y = Math.atan2( - m31, m33 );\n        this._z = Math.atan2( - m12, m22 );\n\n      } else {\n\n        this._y = 0;\n        this._z = Math.atan2( m21, m11 );\n\n      }\n\n    } else if ( order === 'ZYX' ) {\n\n      this._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n      if ( Math.abs( m31 ) < 0.99999 ) {\n\n        this._x = Math.atan2( m32, m33 );\n        this._z = Math.atan2( m21, m11 );\n\n      } else {\n\n        this._x = 0;\n        this._z = Math.atan2( - m12, m22 );\n\n      }\n\n    } else if ( order === 'YZX' ) {\n\n      this._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n      if ( Math.abs( m21 ) < 0.99999 ) {\n\n        this._x = Math.atan2( - m23, m22 );\n        this._y = Math.atan2( - m31, m11 );\n\n      } else {\n\n        this._x = 0;\n        this._y = Math.atan2( m13, m33 );\n\n      }\n\n    } else if ( order === 'XZY' ) {\n\n      this._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n      if ( Math.abs( m12 ) < 0.99999 ) {\n\n        this._x = Math.atan2( m32, m22 );\n        this._y = Math.atan2( m13, m11 );\n\n      } else {\n\n        this._x = Math.atan2( - m23, m33 );\n        this._y = 0;\n\n      }\n\n    } else {\n\n      console.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\n\n    }\n\n    this._order = order;\n\n    if ( update !== false ) this.onChangeCallback();\n\n    return this;\n\n  },\n\n  setFromQuaternion: function () {\n\n    var matrix = new Matrix4();\n\n    return function setFromQuaternion( q, order, update ) {\n\n      matrix.makeRotationFromQuaternion( q );\n\n      return this.setFromRotationMatrix( matrix, order, update );\n\n    };\n\n  }(),\n\n  setFromVector3: function ( v, order ) {\n\n    return this.set( v.x, v.y, v.z, order || this._order );\n\n  },\n\n  reorder: function () {\n\n    // WARNING: this discards revolution information -bhouston\n\n    var q = new Quaternion();\n\n    return function reorder( newOrder ) {\n\n      q.setFromEuler( this );\n\n      return this.setFromQuaternion( q, newOrder );\n\n    };\n\n  }(),\n\n  equals: function ( euler ) {\n\n    return ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n  },\n\n  fromArray: function ( array ) {\n\n    this._x = array[ 0 ];\n    this._y = array[ 1 ];\n    this._z = array[ 2 ];\n    if ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n    this.onChangeCallback();\n\n    return this;\n\n  },\n\n  toArray: function ( array, offset ) {\n\n    if ( array === undefined ) array = [];\n    if ( offset === undefined ) offset = 0;\n\n    array[ offset ] = this._x;\n    array[ offset + 1 ] = this._y;\n    array[ offset + 2 ] = this._z;\n    array[ offset + 3 ] = this._order;\n\n    return array;\n\n  },\n\n  toVector3: function ( optionalResult ) {\n\n    if ( optionalResult ) {\n\n      return optionalResult.set( this._x, this._y, this._z );\n\n    } else {\n\n      return new Vector3( this._x, this._y, this._z );\n\n    }\n\n  },\n\n  onChange: function ( callback ) {\n\n    this.onChangeCallback = callback;\n\n    return this;\n\n  },\n\n  onChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Layers() {\n\n  this.mask = 1 | 0;\n\n}\n\nObject.assign( Layers.prototype, {\n\n  set: function ( channel ) {\n\n    this.mask = 1 << channel | 0;\n\n  },\n\n  enable: function ( channel ) {\n\n    this.mask |= 1 << channel | 0;\n\n  },\n\n  toggle: function ( channel ) {\n\n    this.mask ^= 1 << channel | 0;\n\n  },\n\n  disable: function ( channel ) {\n\n    this.mask &= ~ ( 1 << channel | 0 );\n\n  },\n\n  test: function ( layers ) {\n\n    return ( this.mask & layers.mask ) !== 0;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author elephantatwork / www.elephantatwork.ch\n */\n\nvar object3DId = 0;\n\nfunction Object3D() {\n\n  Object.defineProperty( this, 'id', { value: object3DId ++ } );\n\n  this.uuid = _Math.generateUUID();\n\n  this.name = '';\n  this.type = 'Object3D';\n\n  this.parent = null;\n  this.children = [];\n\n  this.up = Object3D.DefaultUp.clone();\n\n  var position = new Vector3();\n  var rotation = new Euler();\n  var quaternion = new Quaternion();\n  var scale = new Vector3( 1, 1, 1 );\n\n  function onRotationChange() {\n\n    quaternion.setFromEuler( rotation, false );\n\n  }\n\n  function onQuaternionChange() {\n\n    rotation.setFromQuaternion( quaternion, undefined, false );\n\n  }\n\n  rotation.onChange( onRotationChange );\n  quaternion.onChange( onQuaternionChange );\n\n  Object.defineProperties( this, {\n    position: {\n      enumerable: true,\n      value: position\n    },\n    rotation: {\n      enumerable: true,\n      value: rotation\n    },\n    quaternion: {\n      enumerable: true,\n      value: quaternion\n    },\n    scale: {\n      enumerable: true,\n      value: scale\n    },\n    modelViewMatrix: {\n      value: new Matrix4()\n    },\n    normalMatrix: {\n      value: new Matrix3()\n    }\n  } );\n\n  this.matrix = new Matrix4();\n  this.matrixWorld = new Matrix4();\n\n  this.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n  this.matrixWorldNeedsUpdate = false;\n\n  this.layers = new Layers();\n  this.visible = true;\n\n  this.castShadow = false;\n  this.receiveShadow = false;\n\n  this.frustumCulled = true;\n  this.renderOrder = 0;\n\n  this.userData = {};\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject.assign( Object3D.prototype, EventDispatcher.prototype, {\n\n  isObject3D: true,\n\n  onBeforeRender: function () {},\n  onAfterRender: function () {},\n\n  applyMatrix: function ( matrix ) {\n\n    this.matrix.multiplyMatrices( matrix, this.matrix );\n\n    this.matrix.decompose( this.position, this.quaternion, this.scale );\n\n  },\n\n  applyQuaternion: function ( q ) {\n\n    this.quaternion.premultiply( q );\n\n    return this;\n\n  },\n\n  setRotationFromAxisAngle: function ( axis, angle ) {\n\n    // assumes axis is normalized\n\n    this.quaternion.setFromAxisAngle( axis, angle );\n\n  },\n\n  setRotationFromEuler: function ( euler ) {\n\n    this.quaternion.setFromEuler( euler, true );\n\n  },\n\n  setRotationFromMatrix: function ( m ) {\n\n    // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n    this.quaternion.setFromRotationMatrix( m );\n\n  },\n\n  setRotationFromQuaternion: function ( q ) {\n\n    // assumes q is normalized\n\n    this.quaternion.copy( q );\n\n  },\n\n  rotateOnAxis: function () {\n\n    // rotate object on axis in object space\n    // axis is assumed to be normalized\n\n    var q1 = new Quaternion();\n\n    return function rotateOnAxis( axis, angle ) {\n\n      q1.setFromAxisAngle( axis, angle );\n\n      this.quaternion.multiply( q1 );\n\n      return this;\n\n    };\n\n  }(),\n\n  rotateX: function () {\n\n    var v1 = new Vector3( 1, 0, 0 );\n\n    return function rotateX( angle ) {\n\n      return this.rotateOnAxis( v1, angle );\n\n    };\n\n  }(),\n\n  rotateY: function () {\n\n    var v1 = new Vector3( 0, 1, 0 );\n\n    return function rotateY( angle ) {\n\n      return this.rotateOnAxis( v1, angle );\n\n    };\n\n  }(),\n\n  rotateZ: function () {\n\n    var v1 = new Vector3( 0, 0, 1 );\n\n    return function rotateZ( angle ) {\n\n      return this.rotateOnAxis( v1, angle );\n\n    };\n\n  }(),\n\n  translateOnAxis: function () {\n\n    // translate object by distance along axis in object space\n    // axis is assumed to be normalized\n\n    var v1 = new Vector3();\n\n    return function translateOnAxis( axis, distance ) {\n\n      v1.copy( axis ).applyQuaternion( this.quaternion );\n\n      this.position.add( v1.multiplyScalar( distance ) );\n\n      return this;\n\n    };\n\n  }(),\n\n  translateX: function () {\n\n    var v1 = new Vector3( 1, 0, 0 );\n\n    return function translateX( distance ) {\n\n      return this.translateOnAxis( v1, distance );\n\n    };\n\n  }(),\n\n  translateY: function () {\n\n    var v1 = new Vector3( 0, 1, 0 );\n\n    return function translateY( distance ) {\n\n      return this.translateOnAxis( v1, distance );\n\n    };\n\n  }(),\n\n  translateZ: function () {\n\n    var v1 = new Vector3( 0, 0, 1 );\n\n    return function translateZ( distance ) {\n\n      return this.translateOnAxis( v1, distance );\n\n    };\n\n  }(),\n\n  localToWorld: function ( vector ) {\n\n    return vector.applyMatrix4( this.matrixWorld );\n\n  },\n\n  worldToLocal: function () {\n\n    var m1 = new Matrix4();\n\n    return function worldToLocal( vector ) {\n\n      return vector.applyMatrix4( m1.getInverse( this.matrixWorld ) );\n\n    };\n\n  }(),\n\n  lookAt: function () {\n\n    // This method does not support objects with rotated and/or translated parent(s)\n\n    var m1 = new Matrix4();\n\n    return function lookAt( vector ) {\n\n      if ( this.isCamera ) {\n\n        m1.lookAt( this.position, vector, this.up );\n\n      } else {\n\n        m1.lookAt( vector, this.position, this.up );\n\n      }\n\n      this.quaternion.setFromRotationMatrix( m1 );\n\n    };\n\n  }(),\n\n  add: function ( object ) {\n\n    if ( arguments.length > 1 ) {\n\n      for ( var i = 0; i < arguments.length; i ++ ) {\n\n        this.add( arguments[ i ] );\n\n      }\n\n      return this;\n\n    }\n\n    if ( object === this ) {\n\n      console.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n      return this;\n\n    }\n\n    if ( ( object && object.isObject3D ) ) {\n\n      if ( object.parent !== null ) {\n\n        object.parent.remove( object );\n\n      }\n\n      object.parent = this;\n      object.dispatchEvent( { type: 'added' } );\n\n      this.children.push( object );\n\n    } else {\n\n      console.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\n    }\n\n    return this;\n\n  },\n\n  remove: function ( object ) {\n\n    if ( arguments.length > 1 ) {\n\n      for ( var i = 0; i < arguments.length; i ++ ) {\n\n        this.remove( arguments[ i ] );\n\n      }\n\n      return this;\n\n    }\n\n    var index = this.children.indexOf( object );\n\n    if ( index !== - 1 ) {\n\n      object.parent = null;\n\n      object.dispatchEvent( { type: 'removed' } );\n\n      this.children.splice( index, 1 );\n\n    }\n\n    return this;\n\n  },\n\n  getObjectById: function ( id ) {\n\n    return this.getObjectByProperty( 'id', id );\n\n  },\n\n  getObjectByName: function ( name ) {\n\n    return this.getObjectByProperty( 'name', name );\n\n  },\n\n  getObjectByProperty: function ( name, value ) {\n\n    if ( this[ name ] === value ) return this;\n\n    for ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n      var child = this.children[ i ];\n      var object = child.getObjectByProperty( name, value );\n\n      if ( object !== undefined ) {\n\n        return object;\n\n      }\n\n    }\n\n    return undefined;\n\n  },\n\n  getWorldPosition: function ( optionalTarget ) {\n\n    var result = optionalTarget || new Vector3();\n\n    this.updateMatrixWorld( true );\n\n    return result.setFromMatrixPosition( this.matrixWorld );\n\n  },\n\n  getWorldQuaternion: function () {\n\n    var position = new Vector3();\n    var scale = new Vector3();\n\n    return function getWorldQuaternion( optionalTarget ) {\n\n      var result = optionalTarget || new Quaternion();\n\n      this.updateMatrixWorld( true );\n\n      this.matrixWorld.decompose( position, result, scale );\n\n      return result;\n\n    };\n\n  }(),\n\n  getWorldRotation: function () {\n\n    var quaternion = new Quaternion();\n\n    return function getWorldRotation( optionalTarget ) {\n\n      var result = optionalTarget || new Euler();\n\n      this.getWorldQuaternion( quaternion );\n\n      return result.setFromQuaternion( quaternion, this.rotation.order, false );\n\n    };\n\n  }(),\n\n  getWorldScale: function () {\n\n    var position = new Vector3();\n    var quaternion = new Quaternion();\n\n    return function getWorldScale( optionalTarget ) {\n\n      var result = optionalTarget || new Vector3();\n\n      this.updateMatrixWorld( true );\n\n      this.matrixWorld.decompose( position, quaternion, result );\n\n      return result;\n\n    };\n\n  }(),\n\n  getWorldDirection: function () {\n\n    var quaternion = new Quaternion();\n\n    return function getWorldDirection( optionalTarget ) {\n\n      var result = optionalTarget || new Vector3();\n\n      this.getWorldQuaternion( quaternion );\n\n      return result.set( 0, 0, 1 ).applyQuaternion( quaternion );\n\n    };\n\n  }(),\n\n  raycast: function () {},\n\n  traverse: function ( callback ) {\n\n    callback( this );\n\n    var children = this.children;\n\n    for ( var i = 0, l = children.length; i < l; i ++ ) {\n\n      children[ i ].traverse( callback );\n\n    }\n\n  },\n\n  traverseVisible: function ( callback ) {\n\n    if ( this.visible === false ) return;\n\n    callback( this );\n\n    var children = this.children;\n\n    for ( var i = 0, l = children.length; i < l; i ++ ) {\n\n      children[ i ].traverseVisible( callback );\n\n    }\n\n  },\n\n  traverseAncestors: function ( callback ) {\n\n    var parent = this.parent;\n\n    if ( parent !== null ) {\n\n      callback( parent );\n\n      parent.traverseAncestors( callback );\n\n    }\n\n  },\n\n  updateMatrix: function () {\n\n    this.matrix.compose( this.position, this.quaternion, this.scale );\n\n    this.matrixWorldNeedsUpdate = true;\n\n  },\n\n  updateMatrixWorld: function ( force ) {\n\n    if ( this.matrixAutoUpdate ) this.updateMatrix();\n\n    if ( this.matrixWorldNeedsUpdate || force ) {\n\n      if ( this.parent === null ) {\n\n        this.matrixWorld.copy( this.matrix );\n\n      } else {\n\n        this.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n      }\n\n      this.matrixWorldNeedsUpdate = false;\n\n      force = true;\n\n    }\n\n    // update children\n\n    var children = this.children;\n\n    for ( var i = 0, l = children.length; i < l; i ++ ) {\n\n      children[ i ].updateMatrixWorld( force );\n\n    }\n\n  },\n\n  toJSON: function ( meta ) {\n\n    // meta is '' when called from JSON.stringify\n    var isRootObject = ( meta === undefined || meta === '' );\n\n    var output = {};\n\n    // meta is a hash used to collect geometries, materials.\n    // not providing it implies that this is the root object\n    // being serialized.\n    if ( isRootObject ) {\n\n      // initialize meta obj\n      meta = {\n        geometries: {},\n        materials: {},\n        textures: {},\n        images: {}\n      };\n\n      output.metadata = {\n        version: 4.5,\n        type: 'Object',\n        generator: 'Object3D.toJSON'\n      };\n\n    }\n\n    // standard Object3D serialization\n\n    var object = {};\n\n    object.uuid = this.uuid;\n    object.type = this.type;\n\n    if ( this.name !== '' ) object.name = this.name;\n    if ( this.castShadow === true ) object.castShadow = true;\n    if ( this.receiveShadow === true ) object.receiveShadow = true;\n    if ( this.visible === false ) object.visible = false;\n    if ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n    object.matrix = this.matrix.toArray();\n\n    //\n\n    function serialize( library, element ) {\n\n      if ( library[ element.uuid ] === undefined ) {\n\n        library[ element.uuid ] = element.toJSON( meta );\n\n      }\n\n      return element.uuid;\n\n    }\n\n    if ( this.geometry !== undefined ) {\n\n      object.geometry = serialize( meta.geometries, this.geometry );\n\n    }\n\n    if ( this.material !== undefined ) {\n\n      if ( Array.isArray( this.material ) ) {\n\n        var uuids = [];\n\n        for ( var i = 0, l = this.material.length; i < l; i ++ ) {\n\n          uuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n        }\n\n        object.material = uuids;\n\n      } else {\n\n        object.material = serialize( meta.materials, this.material );\n\n      }\n\n    }\n\n    //\n\n    if ( this.children.length > 0 ) {\n\n      object.children = [];\n\n      for ( var i = 0; i < this.children.length; i ++ ) {\n\n        object.children.push( this.children[ i ].toJSON( meta ).object );\n\n      }\n\n    }\n\n    if ( isRootObject ) {\n\n      var geometries = extractFromCache( meta.geometries );\n      var materials = extractFromCache( meta.materials );\n      var textures = extractFromCache( meta.textures );\n      var images = extractFromCache( meta.images );\n\n      if ( geometries.length > 0 ) output.geometries = geometries;\n      if ( materials.length > 0 ) output.materials = materials;\n      if ( textures.length > 0 ) output.textures = textures;\n      if ( images.length > 0 ) output.images = images;\n\n    }\n\n    output.object = object;\n\n    return output;\n\n    // extract data from the cache hash\n    // remove metadata on each item\n    // and return as array\n    function extractFromCache( cache ) {\n\n      var values = [];\n      for ( var key in cache ) {\n\n        var data = cache[ key ];\n        delete data.metadata;\n        values.push( data );\n\n      }\n      return values;\n\n    }\n\n  },\n\n  clone: function ( recursive ) {\n\n    return new this.constructor().copy( this, recursive );\n\n  },\n\n  copy: function ( source, recursive ) {\n\n    if ( recursive === undefined ) recursive = true;\n\n    this.name = source.name;\n\n    this.up.copy( source.up );\n\n    this.position.copy( source.position );\n    this.quaternion.copy( source.quaternion );\n    this.scale.copy( source.scale );\n\n    this.matrix.copy( source.matrix );\n    this.matrixWorld.copy( source.matrixWorld );\n\n    this.matrixAutoUpdate = source.matrixAutoUpdate;\n    this.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n    this.layers.mask = source.layers.mask;\n    this.visible = source.visible;\n\n    this.castShadow = source.castShadow;\n    this.receiveShadow = source.receiveShadow;\n\n    this.frustumCulled = source.frustumCulled;\n    this.renderOrder = source.renderOrder;\n\n    this.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n    if ( recursive === true ) {\n\n      for ( var i = 0; i < source.children.length; i ++ ) {\n\n        var child = source.children[ i ];\n        this.add( child.clone() );\n\n      }\n\n    }\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Camera() {\n\n  Object3D.call( this );\n\n  this.type = 'Camera';\n\n  this.matrixWorldInverse = new Matrix4();\n  this.projectionMatrix = new Matrix4();\n\n}\n\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n  constructor: Camera,\n\n  isCamera: true,\n\n  copy: function ( source, recursive ) {\n\n    Object3D.prototype.copy.call( this, source, recursive );\n\n    this.matrixWorldInverse.copy( source.matrixWorldInverse );\n    this.projectionMatrix.copy( source.projectionMatrix );\n\n    return this;\n\n  },\n\n  getWorldDirection: function () {\n\n    var quaternion = new Quaternion();\n\n    return function getWorldDirection( optionalTarget ) {\n\n      var result = optionalTarget || new Vector3();\n\n      this.getWorldQuaternion( quaternion );\n\n      return result.set( 0, 0, - 1 ).applyQuaternion( quaternion );\n\n    };\n\n  }(),\n\n  updateMatrixWorld: function ( force ) {\n\n    Object3D.prototype.updateMatrixWorld.call( this, force );\n\n    this.matrixWorldInverse.getInverse( this.matrixWorld );\n\n  },\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  }\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author arose / http://github.com/arose\n */\n\nfunction OrthographicCamera( left, right, top, bottom, near, far ) {\n\n  Camera.call( this );\n\n  this.type = 'OrthographicCamera';\n\n  this.zoom = 1;\n  this.view = null;\n\n  this.left = left;\n  this.right = right;\n  this.top = top;\n  this.bottom = bottom;\n\n  this.near = ( near !== undefined ) ? near : 0.1;\n  this.far = ( far !== undefined ) ? far : 2000;\n\n  this.updateProjectionMatrix();\n\n}\n\nOrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n  constructor: OrthographicCamera,\n\n  isOrthographicCamera: true,\n\n  copy: function ( source, recursive ) {\n\n    Camera.prototype.copy.call( this, source, recursive );\n\n    this.left = source.left;\n    this.right = source.right;\n    this.top = source.top;\n    this.bottom = source.bottom;\n    this.near = source.near;\n    this.far = source.far;\n\n    this.zoom = source.zoom;\n    this.view = source.view === null ? null : Object.assign( {}, source.view );\n\n    return this;\n\n  },\n\n  setViewOffset: function( fullWidth, fullHeight, x, y, width, height ) {\n\n    this.view = {\n      fullWidth: fullWidth,\n      fullHeight: fullHeight,\n      offsetX: x,\n      offsetY: y,\n      width: width,\n      height: height\n    };\n\n    this.updateProjectionMatrix();\n\n  },\n\n  clearViewOffset: function() {\n\n    this.view = null;\n    this.updateProjectionMatrix();\n\n  },\n\n  updateProjectionMatrix: function () {\n\n    var dx = ( this.right - this.left ) / ( 2 * this.zoom );\n    var dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n    var cx = ( this.right + this.left ) / 2;\n    var cy = ( this.top + this.bottom ) / 2;\n\n    var left = cx - dx;\n    var right = cx + dx;\n    var top = cy + dy;\n    var bottom = cy - dy;\n\n    if ( this.view !== null ) {\n\n      var zoomW = this.zoom / ( this.view.width / this.view.fullWidth );\n      var zoomH = this.zoom / ( this.view.height / this.view.fullHeight );\n      var scaleW = ( this.right - this.left ) / this.view.width;\n      var scaleH = ( this.top - this.bottom ) / this.view.height;\n\n      left += scaleW * ( this.view.offsetX / zoomW );\n      right = left + scaleW * ( this.view.width / zoomW );\n      top -= scaleH * ( this.view.offsetY / zoomH );\n      bottom = top - scaleH * ( this.view.height / zoomH );\n\n    }\n\n    this.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n  },\n\n  toJSON: function ( meta ) {\n\n    var data = Object3D.prototype.toJSON.call( this, meta );\n\n    data.object.zoom = this.zoom;\n    data.object.left = this.left;\n    data.object.right = this.right;\n    data.object.top = this.top;\n    data.object.bottom = this.bottom;\n    data.object.near = this.near;\n    data.object.far = this.far;\n\n    if ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n    return data;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author greggman / http://games.greggman.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author tschw\n */\n\nfunction PerspectiveCamera( fov, aspect, near, far ) {\n\n  Camera.call( this );\n\n  this.type = 'PerspectiveCamera';\n\n  this.fov = fov !== undefined ? fov : 50;\n  this.zoom = 1;\n\n  this.near = near !== undefined ? near : 0.1;\n  this.far = far !== undefined ? far : 2000;\n  this.focus = 10;\n\n  this.aspect = aspect !== undefined ? aspect : 1;\n  this.view = null;\n\n  this.filmGauge = 35;\t// width of the film (default in millimeters)\n  this.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n  this.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n  constructor: PerspectiveCamera,\n\n  isPerspectiveCamera: true,\n\n  copy: function ( source, recursive ) {\n\n    Camera.prototype.copy.call( this, source, recursive );\n\n    this.fov = source.fov;\n    this.zoom = source.zoom;\n\n    this.near = source.near;\n    this.far = source.far;\n    this.focus = source.focus;\n\n    this.aspect = source.aspect;\n    this.view = source.view === null ? null : Object.assign( {}, source.view );\n\n    this.filmGauge = source.filmGauge;\n    this.filmOffset = source.filmOffset;\n\n    return this;\n\n  },\n\n  /**\n   * Sets the FOV by focal length in respect to the current .filmGauge.\n   *\n   * The default film gauge is 35, so that the focal length can be specified for\n   * a 35mm (full frame) camera.\n   *\n   * Values for focal length and film gauge must have the same unit.\n   */\n  setFocalLength: function ( focalLength ) {\n\n    // see http://www.bobatkins.com/photography/technical/field_of_view.html\n    var vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n    this.fov = _Math.RAD2DEG * 2 * Math.atan( vExtentSlope );\n    this.updateProjectionMatrix();\n\n  },\n\n  /**\n   * Calculates the focal length from the current .fov and .filmGauge.\n   */\n  getFocalLength: function () {\n\n    var vExtentSlope = Math.tan( _Math.DEG2RAD * 0.5 * this.fov );\n\n    return 0.5 * this.getFilmHeight() / vExtentSlope;\n\n  },\n\n  getEffectiveFOV: function () {\n\n    return _Math.RAD2DEG * 2 * Math.atan(\n        Math.tan( _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n  },\n\n  getFilmWidth: function () {\n\n    // film not completely covered in portrait format (aspect < 1)\n    return this.filmGauge * Math.min( this.aspect, 1 );\n\n  },\n\n  getFilmHeight: function () {\n\n    // film not completely covered in landscape format (aspect > 1)\n    return this.filmGauge / Math.max( this.aspect, 1 );\n\n  },\n\n  /**\n   * Sets an offset in a larger frustum. This is useful for multi-window or\n   * multi-monitor/multi-machine setups.\n   *\n   * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n   * the monitors are in grid like this\n   *\n   *   +---+---+---+\n   *   | A | B | C |\n   *   +---+---+---+\n   *   | D | E | F |\n   *   +---+---+---+\n   *\n   * then for each monitor you would call it like this\n   *\n   *   var w = 1920;\n   *   var h = 1080;\n   *   var fullWidth = w * 3;\n   *   var fullHeight = h * 2;\n   *\n   *   --A--\n   *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n   *   --B--\n   *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n   *   --C--\n   *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n   *   --D--\n   *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n   *   --E--\n   *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n   *   --F--\n   *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n   *\n   *   Note there is no reason monitors have to be the same size or in a grid.\n   */\n  setViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n    this.aspect = fullWidth / fullHeight;\n\n    this.view = {\n      fullWidth: fullWidth,\n      fullHeight: fullHeight,\n      offsetX: x,\n      offsetY: y,\n      width: width,\n      height: height\n    };\n\n    this.updateProjectionMatrix();\n\n  },\n\n  clearViewOffset: function () {\n\n    this.view = null;\n    this.updateProjectionMatrix();\n\n  },\n\n  updateProjectionMatrix: function () {\n\n    var near = this.near,\n      top = near * Math.tan(\n          _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom,\n      height = 2 * top,\n      width = this.aspect * height,\n      left = - 0.5 * width,\n      view = this.view;\n\n    if ( view !== null ) {\n\n      var fullWidth = view.fullWidth,\n        fullHeight = view.fullHeight;\n\n      left += view.offsetX * width / fullWidth;\n      top -= view.offsetY * height / fullHeight;\n      width *= view.width / fullWidth;\n      height *= view.height / fullHeight;\n\n    }\n\n    var skew = this.filmOffset;\n    if ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n    this.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n  },\n\n  toJSON: function ( meta ) {\n\n    var data = Object3D.prototype.toJSON.call( this, meta );\n\n    data.object.fov = this.fov;\n    data.object.zoom = this.zoom;\n\n    data.object.near = this.near;\n    data.object.far = this.far;\n    data.object.focus = this.focus;\n\n    data.object.aspect = this.aspect;\n\n    if ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n    data.object.filmGauge = this.filmGauge;\n    data.object.filmOffset = this.filmOffset;\n\n    return data;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Face3( a, b, c, normal, color, materialIndex ) {\n\n  this.a = a;\n  this.b = b;\n  this.c = c;\n\n  this.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\n  this.vertexNormals = Array.isArray( normal ) ? normal : [];\n\n  this.color = ( color && color.isColor ) ? color : new Color();\n  this.vertexColors = Array.isArray( color ) ? color : [];\n\n  this.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n}\n\nObject.assign( Face3.prototype, {\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  copy: function ( source ) {\n\n    this.a = source.a;\n    this.b = source.b;\n    this.c = source.c;\n\n    this.normal.copy( source.normal );\n    this.color.copy( source.color );\n\n    this.materialIndex = source.materialIndex;\n\n    for ( var i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\n\n      this.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\n\n    }\n\n    for ( var i = 0, il = source.vertexColors.length; i < il; i ++ ) {\n\n      this.vertexColors[ i ] = source.vertexColors[ i ].clone();\n\n    }\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author bhouston / http://clara.io\n */\n\nvar count = 0;\nfunction GeometryIdCount() { return count++; }\n\nfunction Geometry() {\n\n  Object.defineProperty( this, 'id', { value: GeometryIdCount() } );\n\n  this.uuid = _Math.generateUUID();\n\n  this.name = '';\n  this.type = 'Geometry';\n\n  this.vertices = [];\n  this.colors = [];\n  this.faces = [];\n  this.faceVertexUvs = [[]];\n\n  this.morphTargets = [];\n  this.morphNormals = [];\n\n  this.skinWeights = [];\n  this.skinIndices = [];\n\n  this.lineDistances = [];\n\n  this.boundingBox = null;\n  this.boundingSphere = null;\n\n  // update flags\n\n  this.elementsNeedUpdate = false;\n  this.verticesNeedUpdate = false;\n  this.uvsNeedUpdate = false;\n  this.normalsNeedUpdate = false;\n  this.colorsNeedUpdate = false;\n  this.lineDistancesNeedUpdate = false;\n  this.groupsNeedUpdate = false;\n\n}\n\nObject.assign( Geometry.prototype, EventDispatcher.prototype, {\n\n  isGeometry: true,\n\n  applyMatrix: function ( matrix ) {\n\n    var normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n    for ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n      var vertex = this.vertices[ i ];\n      vertex.applyMatrix4( matrix );\n\n    }\n\n    for ( var i = 0, il = this.faces.length; i < il; i ++ ) {\n\n      var face = this.faces[ i ];\n      face.normal.applyMatrix3( normalMatrix ).normalize();\n\n      for ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n        face.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\n      }\n\n    }\n\n    if ( this.boundingBox !== null ) {\n\n      this.computeBoundingBox();\n\n    }\n\n    if ( this.boundingSphere !== null ) {\n\n      this.computeBoundingSphere();\n\n    }\n\n    this.verticesNeedUpdate = true;\n    this.normalsNeedUpdate = true;\n\n    return this;\n\n  },\n\n  rotateX: function () {\n\n    // rotate geometry around world x-axis\n\n    var m1 = new Matrix4();\n\n    return function rotateX( angle ) {\n\n      m1.makeRotationX( angle );\n\n      this.applyMatrix( m1 );\n\n      return this;\n\n    };\n\n  }(),\n\n  rotateY: function () {\n\n    // rotate geometry around world y-axis\n\n    var m1 = new Matrix4();\n\n    return function rotateY( angle ) {\n\n      m1.makeRotationY( angle );\n\n      this.applyMatrix( m1 );\n\n      return this;\n\n    };\n\n  }(),\n\n  rotateZ: function () {\n\n    // rotate geometry around world z-axis\n\n    var m1 = new Matrix4();\n\n    return function rotateZ( angle ) {\n\n      m1.makeRotationZ( angle );\n\n      this.applyMatrix( m1 );\n\n      return this;\n\n    };\n\n  }(),\n\n  translate: function () {\n\n    // translate geometry\n\n    var m1 = new Matrix4();\n\n    return function translate( x, y, z ) {\n\n      m1.makeTranslation( x, y, z );\n\n      this.applyMatrix( m1 );\n\n      return this;\n\n    };\n\n  }(),\n\n  scale: function () {\n\n    // scale geometry\n\n    var m1 = new Matrix4();\n\n    return function scale( x, y, z ) {\n\n      m1.makeScale( x, y, z );\n\n      this.applyMatrix( m1 );\n\n      return this;\n\n    };\n\n  }(),\n\n  lookAt: function () {\n\n    var obj = new Object3D();\n\n    return function lookAt( vector ) {\n\n      obj.lookAt( vector );\n\n      obj.updateMatrix();\n\n      this.applyMatrix( obj.matrix );\n\n    };\n\n  }(),\n\n  fromBufferGeometry: function ( geometry ) {\n\n    var scope = this;\n\n    var indices = geometry.index !== null ? geometry.index.array : undefined;\n    var attributes = geometry.attributes;\n\n    var positions = attributes.position.array;\n    var normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\n    var colors = attributes.color !== undefined ? attributes.color.array : undefined;\n    var uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n    var uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n\n    if ( uvs2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\n\n    var tempNormals = [];\n    var tempUVs = [];\n    var tempUVs2 = [];\n\n    for ( var i = 0, j = 0; i < positions.length; i += 3, j += 2 ) {\n\n      scope.vertices.push( new Vector3( positions[ i ], positions[ i + 1 ], positions[ i + 2 ] ) );\n\n      if ( normals !== undefined ) {\n\n        tempNormals.push( new Vector3( normals[ i ], normals[ i + 1 ], normals[ i + 2 ] ) );\n\n      }\n\n      if ( colors !== undefined ) {\n\n        scope.colors.push( new Color( colors[ i ], colors[ i + 1 ], colors[ i + 2 ] ) );\n\n      }\n\n      if ( uvs !== undefined ) {\n\n        tempUVs.push( new Vector2( uvs[ j ], uvs[ j + 1 ] ) );\n\n      }\n\n      if ( uvs2 !== undefined ) {\n\n        tempUVs2.push( new Vector2( uvs2[ j ], uvs2[ j + 1 ] ) );\n\n      }\n\n    }\n\n    function addFace( a, b, c, materialIndex ) {\n\n      var vertexNormals = normals !== undefined ? [ tempNormals[ a ].clone(), tempNormals[ b ].clone(), tempNormals[ c ].clone() ] : [];\n      var vertexColors = colors !== undefined ? [ scope.colors[ a ].clone(), scope.colors[ b ].clone(), scope.colors[ c ].clone() ] : [];\n\n      var face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\n\n      scope.faces.push( face );\n\n      if ( uvs !== undefined ) {\n\n        scope.faceVertexUvs[ 0 ].push( [ tempUVs[ a ].clone(), tempUVs[ b ].clone(), tempUVs[ c ].clone() ] );\n\n      }\n\n      if ( uvs2 !== undefined ) {\n\n        scope.faceVertexUvs[ 1 ].push( [ tempUVs2[ a ].clone(), tempUVs2[ b ].clone(), tempUVs2[ c ].clone() ] );\n\n      }\n\n    }\n\n    var groups = geometry.groups;\n\n    if ( groups.length > 0 ) {\n\n      for ( var i = 0; i < groups.length; i ++ ) {\n\n        var group = groups[ i ];\n\n        var start = group.start;\n        var count = group.count;\n\n        for ( var j = start, jl = start + count; j < jl; j += 3 ) {\n\n          if ( indices !== undefined ) {\n\n            addFace( indices[ j ], indices[ j + 1 ], indices[ j + 2 ], group.materialIndex );\n\n          } else {\n\n            addFace( j, j + 1, j + 2, group.materialIndex );\n\n          }\n\n        }\n\n      }\n\n    } else {\n\n      if ( indices !== undefined ) {\n\n        for ( var i = 0; i < indices.length; i += 3 ) {\n\n          addFace( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );\n\n        }\n\n      } else {\n\n        for ( var i = 0; i < positions.length / 3; i += 3 ) {\n\n          addFace( i, i + 1, i + 2 );\n\n        }\n\n      }\n\n    }\n\n    this.computeFaceNormals();\n\n    if ( geometry.boundingBox !== null ) {\n\n      this.boundingBox = geometry.boundingBox.clone();\n\n    }\n\n    if ( geometry.boundingSphere !== null ) {\n\n      this.boundingSphere = geometry.boundingSphere.clone();\n\n    }\n\n    return this;\n\n  },\n\n  center: function () {\n\n    this.computeBoundingBox();\n\n    var offset = this.boundingBox.getCenter().negate();\n\n    this.translate( offset.x, offset.y, offset.z );\n\n    return offset;\n\n  },\n\n  normalize: function () {\n\n    this.computeBoundingSphere();\n\n    var center = this.boundingSphere.center;\n    var radius = this.boundingSphere.radius;\n\n    var s = radius === 0 ? 1 : 1.0 / radius;\n\n    var matrix = new Matrix4();\n    matrix.set(\n      s, 0, 0, - s * center.x,\n      0, s, 0, - s * center.y,\n      0, 0, s, - s * center.z,\n      0, 0, 0, 1\n    );\n\n    this.applyMatrix( matrix );\n\n    return this;\n\n  },\n\n  computeFaceNormals: function () {\n\n    var cb = new Vector3(), ab = new Vector3();\n\n    for ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n      var face = this.faces[ f ];\n\n      var vA = this.vertices[ face.a ];\n      var vB = this.vertices[ face.b ];\n      var vC = this.vertices[ face.c ];\n\n      cb.subVectors( vC, vB );\n      ab.subVectors( vA, vB );\n      cb.cross( ab );\n\n      cb.normalize();\n\n      face.normal.copy( cb );\n\n    }\n\n  },\n\n  computeVertexNormals: function ( areaWeighted ) {\n\n    if ( areaWeighted === undefined ) areaWeighted = true;\n\n    var v, vl, f, fl, face, vertices;\n\n    vertices = new Array( this.vertices.length );\n\n    for ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n      vertices[ v ] = new Vector3();\n\n    }\n\n    if ( areaWeighted ) {\n\n      // vertex normals weighted by triangle areas\n      // http://www.iquilezles.org/www/articles/normals/normals.htm\n\n      var vA, vB, vC;\n      var cb = new Vector3(), ab = new Vector3();\n\n      for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n        face = this.faces[ f ];\n\n        vA = this.vertices[ face.a ];\n        vB = this.vertices[ face.b ];\n        vC = this.vertices[ face.c ];\n\n        cb.subVectors( vC, vB );\n        ab.subVectors( vA, vB );\n        cb.cross( ab );\n\n        vertices[ face.a ].add( cb );\n        vertices[ face.b ].add( cb );\n        vertices[ face.c ].add( cb );\n\n      }\n\n    } else {\n\n      this.computeFaceNormals();\n\n      for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n        face = this.faces[ f ];\n\n        vertices[ face.a ].add( face.normal );\n        vertices[ face.b ].add( face.normal );\n        vertices[ face.c ].add( face.normal );\n\n      }\n\n    }\n\n    for ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n      vertices[ v ].normalize();\n\n    }\n\n    for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n      face = this.faces[ f ];\n\n      var vertexNormals = face.vertexNormals;\n\n      if ( vertexNormals.length === 3 ) {\n\n        vertexNormals[ 0 ].copy( vertices[ face.a ] );\n        vertexNormals[ 1 ].copy( vertices[ face.b ] );\n        vertexNormals[ 2 ].copy( vertices[ face.c ] );\n\n      } else {\n\n        vertexNormals[ 0 ] = vertices[ face.a ].clone();\n        vertexNormals[ 1 ] = vertices[ face.b ].clone();\n        vertexNormals[ 2 ] = vertices[ face.c ].clone();\n\n      }\n\n    }\n\n    if ( this.faces.length > 0 ) {\n\n      this.normalsNeedUpdate = true;\n\n    }\n\n  },\n\n  computeFlatVertexNormals: function () {\n\n    var f, fl, face;\n\n    this.computeFaceNormals();\n\n    for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n      face = this.faces[ f ];\n\n      var vertexNormals = face.vertexNormals;\n\n      if ( vertexNormals.length === 3 ) {\n\n        vertexNormals[ 0 ].copy( face.normal );\n        vertexNormals[ 1 ].copy( face.normal );\n        vertexNormals[ 2 ].copy( face.normal );\n\n      } else {\n\n        vertexNormals[ 0 ] = face.normal.clone();\n        vertexNormals[ 1 ] = face.normal.clone();\n        vertexNormals[ 2 ] = face.normal.clone();\n\n      }\n\n    }\n\n    if ( this.faces.length > 0 ) {\n\n      this.normalsNeedUpdate = true;\n\n    }\n\n  },\n\n  computeMorphNormals: function () {\n\n    var i, il, f, fl, face;\n\n    // save original normals\n    // - create temp variables on first access\n    //   otherwise just copy (for faster repeated calls)\n\n    for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n      face = this.faces[ f ];\n\n      if ( ! face.__originalFaceNormal ) {\n\n        face.__originalFaceNormal = face.normal.clone();\n\n      } else {\n\n        face.__originalFaceNormal.copy( face.normal );\n\n      }\n\n      if ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\n\n      for ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\n        if ( ! face.__originalVertexNormals[ i ] ) {\n\n          face.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\n        } else {\n\n          face.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\n        }\n\n      }\n\n    }\n\n    // use temp geometry to compute face and vertex normals for each morph\n\n    var tmpGeo = new Geometry();\n    tmpGeo.faces = this.faces;\n\n    for ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\n      // create on first access\n\n      if ( ! this.morphNormals[ i ] ) {\n\n        this.morphNormals[ i ] = {};\n        this.morphNormals[ i ].faceNormals = [];\n        this.morphNormals[ i ].vertexNormals = [];\n\n        var dstNormalsFace = this.morphNormals[ i ].faceNormals;\n        var dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\n        var faceNormal, vertexNormals;\n\n        for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n          faceNormal = new Vector3();\n          vertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n\n          dstNormalsFace.push( faceNormal );\n          dstNormalsVertex.push( vertexNormals );\n\n        }\n\n      }\n\n      var morphNormals = this.morphNormals[ i ];\n\n      // set vertices to morph target\n\n      tmpGeo.vertices = this.morphTargets[ i ].vertices;\n\n      // compute morph normals\n\n      tmpGeo.computeFaceNormals();\n      tmpGeo.computeVertexNormals();\n\n      // store morph normals\n\n      var faceNormal, vertexNormals;\n\n      for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n        face = this.faces[ f ];\n\n        faceNormal = morphNormals.faceNormals[ f ];\n        vertexNormals = morphNormals.vertexNormals[ f ];\n\n        faceNormal.copy( face.normal );\n\n        vertexNormals.a.copy( face.vertexNormals[ 0 ] );\n        vertexNormals.b.copy( face.vertexNormals[ 1 ] );\n        vertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\n      }\n\n    }\n\n    // restore original normals\n\n    for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n      face = this.faces[ f ];\n\n      face.normal = face.__originalFaceNormal;\n      face.vertexNormals = face.__originalVertexNormals;\n\n    }\n\n  },\n\n  computeLineDistances: function () {\n\n    var d = 0;\n    var vertices = this.vertices;\n\n    for ( var i = 0, il = vertices.length; i < il; i ++ ) {\n\n      if ( i > 0 ) {\n\n        d += vertices[ i ].distanceTo( vertices[ i - 1 ] );\n\n      }\n\n      this.lineDistances[ i ] = d;\n\n    }\n\n  },\n\n  computeBoundingBox: function () {\n\n    if ( this.boundingBox === null ) {\n\n      this.boundingBox = new Box3();\n\n    }\n\n    this.boundingBox.setFromPoints( this.vertices );\n\n  },\n\n  computeBoundingSphere: function () {\n\n    if ( this.boundingSphere === null ) {\n\n      this.boundingSphere = new Sphere();\n\n    }\n\n    this.boundingSphere.setFromPoints( this.vertices );\n\n  },\n\n  merge: function ( geometry, matrix, materialIndexOffset ) {\n\n    if ( ! ( geometry && geometry.isGeometry ) ) {\n\n      console.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\n      return;\n\n    }\n\n    var normalMatrix,\n      vertexOffset = this.vertices.length,\n      vertices1 = this.vertices,\n      vertices2 = geometry.vertices,\n      faces1 = this.faces,\n      faces2 = geometry.faces,\n      uvs1 = this.faceVertexUvs[ 0 ],\n      uvs2 = geometry.faceVertexUvs[ 0 ],\n      colors1 = this.colors,\n      colors2 = geometry.colors;\n\n    if ( materialIndexOffset === undefined ) materialIndexOffset = 0;\n\n    if ( matrix !== undefined ) {\n\n      normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n    }\n\n    // vertices\n\n    for ( var i = 0, il = vertices2.length; i < il; i ++ ) {\n\n      var vertex = vertices2[ i ];\n\n      var vertexCopy = vertex.clone();\n\n      if ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\n\n      vertices1.push( vertexCopy );\n\n    }\n\n    // colors\n\n    for ( var i = 0, il = colors2.length; i < il; i ++ ) {\n\n      colors1.push( colors2[ i ].clone() );\n\n    }\n\n    // faces\n\n    for ( i = 0, il = faces2.length; i < il; i ++ ) {\n\n      var face = faces2[ i ], faceCopy, normal, color,\n        faceVertexNormals = face.vertexNormals,\n        faceVertexColors = face.vertexColors;\n\n      faceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n      faceCopy.normal.copy( face.normal );\n\n      if ( normalMatrix !== undefined ) {\n\n        faceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\n      }\n\n      for ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\n        normal = faceVertexNormals[ j ].clone();\n\n        if ( normalMatrix !== undefined ) {\n\n          normal.applyMatrix3( normalMatrix ).normalize();\n\n        }\n\n        faceCopy.vertexNormals.push( normal );\n\n      }\n\n      faceCopy.color.copy( face.color );\n\n      for ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\n        color = faceVertexColors[ j ];\n        faceCopy.vertexColors.push( color.clone() );\n\n      }\n\n      faceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n      faces1.push( faceCopy );\n\n    }\n\n    // uvs\n\n    for ( i = 0, il = uvs2.length; i < il; i ++ ) {\n\n      var uv = uvs2[ i ], uvCopy = [];\n\n      if ( uv === undefined ) {\n\n        continue;\n\n      }\n\n      for ( var j = 0, jl = uv.length; j < jl; j ++ ) {\n\n        uvCopy.push( uv[ j ].clone() );\n\n      }\n\n      uvs1.push( uvCopy );\n\n    }\n\n  },\n\n  mergeMesh: function ( mesh ) {\n\n    if ( ! ( mesh && mesh.isMesh ) ) {\n\n      console.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\n      return;\n\n    }\n\n    mesh.matrixAutoUpdate && mesh.updateMatrix();\n\n    this.merge( mesh.geometry, mesh.matrix );\n\n  },\n\n  /*\n   * Checks for duplicate vertices with hashmap.\n   * Duplicated vertices are removed\n   * and faces' vertices are updated.\n   */\n\n  mergeVertices: function () {\n\n    var verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n    var unique = [], changes = [];\n\n    var v, key;\n    var precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n    var precision = Math.pow( 10, precisionPoints );\n    var i, il, face;\n    var indices, j, jl;\n\n    for ( i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n      v = this.vertices[ i ];\n      key = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\n      if ( verticesMap[ key ] === undefined ) {\n\n        verticesMap[ key ] = i;\n        unique.push( this.vertices[ i ] );\n        changes[ i ] = unique.length - 1;\n\n      } else {\n\n        //console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n        changes[ i ] = changes[ verticesMap[ key ] ];\n\n      }\n\n    }\n\n\n    // if faces are completely degenerate after merging vertices, we\n    // have to remove them from the geometry.\n    var faceIndicesToRemove = [];\n\n    for ( i = 0, il = this.faces.length; i < il; i ++ ) {\n\n      face = this.faces[ i ];\n\n      face.a = changes[ face.a ];\n      face.b = changes[ face.b ];\n      face.c = changes[ face.c ];\n\n      indices = [ face.a, face.b, face.c ];\n\n      // if any duplicate vertices are found in a Face3\n      // we have to remove the face as nothing can be saved\n      for ( var n = 0; n < 3; n ++ ) {\n\n        if ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\n\n          faceIndicesToRemove.push( i );\n          break;\n\n        }\n\n      }\n\n    }\n\n    for ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\n      var idx = faceIndicesToRemove[ i ];\n\n      this.faces.splice( idx, 1 );\n\n      for ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\n        this.faceVertexUvs[ j ].splice( idx, 1 );\n\n      }\n\n    }\n\n    // Use unique set of vertices\n\n    var diff = this.vertices.length - unique.length;\n    this.vertices = unique;\n    return diff;\n\n  },\n\n  sortFacesByMaterialIndex: function () {\n\n    var faces = this.faces;\n    var length = faces.length;\n\n    // tag faces\n\n    for ( var i = 0; i < length; i ++ ) {\n\n      faces[ i ]._id = i;\n\n    }\n\n    // sort faces\n\n    function materialIndexSort( a, b ) {\n\n      return a.materialIndex - b.materialIndex;\n\n    }\n\n    faces.sort( materialIndexSort );\n\n    // sort uvs\n\n    var uvs1 = this.faceVertexUvs[ 0 ];\n    var uvs2 = this.faceVertexUvs[ 1 ];\n\n    var newUvs1, newUvs2;\n\n    if ( uvs1 && uvs1.length === length ) newUvs1 = [];\n    if ( uvs2 && uvs2.length === length ) newUvs2 = [];\n\n    for ( var i = 0; i < length; i ++ ) {\n\n      var id = faces[ i ]._id;\n\n      if ( newUvs1 ) newUvs1.push( uvs1[ id ] );\n      if ( newUvs2 ) newUvs2.push( uvs2[ id ] );\n\n    }\n\n    if ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\n    if ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\n\n  },\n\n  toJSON: function () {\n\n    var data = {\n      metadata: {\n        version: 4.5,\n        type: 'Geometry',\n        generator: 'Geometry.toJSON'\n      }\n    };\n\n    // standard Geometry serialization\n\n    data.uuid = this.uuid;\n    data.type = this.type;\n    if ( this.name !== '' ) data.name = this.name;\n\n    if ( this.parameters !== undefined ) {\n\n      var parameters = this.parameters;\n\n      for ( var key in parameters ) {\n\n        if ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n      }\n\n      return data;\n\n    }\n\n    var vertices = [];\n\n    for ( var i = 0; i < this.vertices.length; i ++ ) {\n\n      var vertex = this.vertices[ i ];\n      vertices.push( vertex.x, vertex.y, vertex.z );\n\n    }\n\n    var faces = [];\n    var normals = [];\n    var normalsHash = {};\n    var colors = [];\n    var colorsHash = {};\n    var uvs = [];\n    var uvsHash = {};\n\n    for ( var i = 0; i < this.faces.length; i ++ ) {\n\n      var face = this.faces[ i ];\n\n      var hasMaterial = true;\n      var hasFaceUv = false; // deprecated\n      var hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\n      var hasFaceNormal = face.normal.length() > 0;\n      var hasFaceVertexNormal = face.vertexNormals.length > 0;\n      var hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n      var hasFaceVertexColor = face.vertexColors.length > 0;\n\n      var faceType = 0;\n\n      faceType = setBit( faceType, 0, 0 ); // isQuad\n      faceType = setBit( faceType, 1, hasMaterial );\n      faceType = setBit( faceType, 2, hasFaceUv );\n      faceType = setBit( faceType, 3, hasFaceVertexUv );\n      faceType = setBit( faceType, 4, hasFaceNormal );\n      faceType = setBit( faceType, 5, hasFaceVertexNormal );\n      faceType = setBit( faceType, 6, hasFaceColor );\n      faceType = setBit( faceType, 7, hasFaceVertexColor );\n\n      faces.push( faceType );\n      faces.push( face.a, face.b, face.c );\n      faces.push( face.materialIndex );\n\n      if ( hasFaceVertexUv ) {\n\n        var faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\n\n        faces.push(\n          getUvIndex( faceVertexUvs[ 0 ] ),\n          getUvIndex( faceVertexUvs[ 1 ] ),\n          getUvIndex( faceVertexUvs[ 2 ] )\n        );\n\n      }\n\n      if ( hasFaceNormal ) {\n\n        faces.push( getNormalIndex( face.normal ) );\n\n      }\n\n      if ( hasFaceVertexNormal ) {\n\n        var vertexNormals = face.vertexNormals;\n\n        faces.push(\n          getNormalIndex( vertexNormals[ 0 ] ),\n          getNormalIndex( vertexNormals[ 1 ] ),\n          getNormalIndex( vertexNormals[ 2 ] )\n        );\n\n      }\n\n      if ( hasFaceColor ) {\n\n        faces.push( getColorIndex( face.color ) );\n\n      }\n\n      if ( hasFaceVertexColor ) {\n\n        var vertexColors = face.vertexColors;\n\n        faces.push(\n          getColorIndex( vertexColors[ 0 ] ),\n          getColorIndex( vertexColors[ 1 ] ),\n          getColorIndex( vertexColors[ 2 ] )\n        );\n\n      }\n\n    }\n\n    function setBit( value, position, enabled ) {\n\n      return enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\n\n    }\n\n    function getNormalIndex( normal ) {\n\n      var hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n      if ( normalsHash[ hash ] !== undefined ) {\n\n        return normalsHash[ hash ];\n\n      }\n\n      normalsHash[ hash ] = normals.length / 3;\n      normals.push( normal.x, normal.y, normal.z );\n\n      return normalsHash[ hash ];\n\n    }\n\n    function getColorIndex( color ) {\n\n      var hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n      if ( colorsHash[ hash ] !== undefined ) {\n\n        return colorsHash[ hash ];\n\n      }\n\n      colorsHash[ hash ] = colors.length;\n      colors.push( color.getHex() );\n\n      return colorsHash[ hash ];\n\n    }\n\n    function getUvIndex( uv ) {\n\n      var hash = uv.x.toString() + uv.y.toString();\n\n      if ( uvsHash[ hash ] !== undefined ) {\n\n        return uvsHash[ hash ];\n\n      }\n\n      uvsHash[ hash ] = uvs.length / 2;\n      uvs.push( uv.x, uv.y );\n\n      return uvsHash[ hash ];\n\n    }\n\n    data.data = {};\n\n    data.data.vertices = vertices;\n    data.data.normals = normals;\n    if ( colors.length > 0 ) data.data.colors = colors;\n    if ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\n    data.data.faces = faces;\n\n    return data;\n\n  },\n\n  clone: function () {\n\n    /*\n     // Handle primitives\n\n     var parameters = this.parameters;\n\n     if ( parameters !== undefined ) {\n\n     var values = [];\n\n     for ( var key in parameters ) {\n\n     values.push( parameters[ key ] );\n\n     }\n\n     var geometry = Object.create( this.constructor.prototype );\n     this.constructor.apply( geometry, values );\n     return geometry;\n\n     }\n\n     return new this.constructor().copy( this );\n     */\n\n    return new Geometry().copy( this );\n\n  },\n\n  copy: function ( source ) {\n\n    var i, il, j, jl, k, kl;\n\n    // reset\n\n    this.vertices = [];\n    this.colors = [];\n    this.faces = [];\n    this.faceVertexUvs = [[]];\n    this.morphTargets = [];\n    this.morphNormals = [];\n    this.skinWeights = [];\n    this.skinIndices = [];\n    this.lineDistances = [];\n    this.boundingBox = null;\n    this.boundingSphere = null;\n\n    // name\n\n    this.name = source.name;\n\n    // vertices\n\n    var vertices = source.vertices;\n\n    for ( i = 0, il = vertices.length; i < il; i ++ ) {\n\n      this.vertices.push( vertices[ i ].clone() );\n\n    }\n\n    // colors\n\n    var colors = source.colors;\n\n    for ( i = 0, il = colors.length; i < il; i ++ ) {\n\n      this.colors.push( colors[ i ].clone() );\n\n    }\n\n    // faces\n\n    var faces = source.faces;\n\n    for ( i = 0, il = faces.length; i < il; i ++ ) {\n\n      this.faces.push( faces[ i ].clone() );\n\n    }\n\n    // face vertex uvs\n\n    for ( i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\n\n      var faceVertexUvs = source.faceVertexUvs[ i ];\n\n      if ( this.faceVertexUvs[ i ] === undefined ) {\n\n        this.faceVertexUvs[ i ] = [];\n\n      }\n\n      for ( j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\n\n        var uvs = faceVertexUvs[ j ], uvsCopy = [];\n\n        for ( k = 0, kl = uvs.length; k < kl; k ++ ) {\n\n          var uv = uvs[ k ];\n\n          uvsCopy.push( uv.clone() );\n\n        }\n\n        this.faceVertexUvs[ i ].push( uvsCopy );\n\n      }\n\n    }\n\n    // morph targets\n\n    var morphTargets = source.morphTargets;\n\n    for ( i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n      var morphTarget = {};\n      morphTarget.name = morphTargets[ i ].name;\n\n      // vertices\n\n      if ( morphTargets[ i ].vertices !== undefined ) {\n\n        morphTarget.vertices = [];\n\n        for ( j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\n\n          morphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\n\n        }\n\n      }\n\n      // normals\n\n      if ( morphTargets[ i ].normals !== undefined ) {\n\n        morphTarget.normals = [];\n\n        for ( j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\n\n          morphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\n\n        }\n\n      }\n\n      this.morphTargets.push( morphTarget );\n\n    }\n\n    // morph normals\n\n    var morphNormals = source.morphNormals;\n\n    for ( i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n      var morphNormal = {};\n\n      // vertex normals\n\n      if ( morphNormals[ i ].vertexNormals !== undefined ) {\n\n        morphNormal.vertexNormals = [];\n\n        for ( j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\n\n          var srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\n          var destVertexNormal = {};\n\n          destVertexNormal.a = srcVertexNormal.a.clone();\n          destVertexNormal.b = srcVertexNormal.b.clone();\n          destVertexNormal.c = srcVertexNormal.c.clone();\n\n          morphNormal.vertexNormals.push( destVertexNormal );\n\n        }\n\n      }\n\n      // face normals\n\n      if ( morphNormals[ i ].faceNormals !== undefined ) {\n\n        morphNormal.faceNormals = [];\n\n        for ( j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\n\n          morphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\n\n        }\n\n      }\n\n      this.morphNormals.push( morphNormal );\n\n    }\n\n    // skin weights\n\n    var skinWeights = source.skinWeights;\n\n    for ( i = 0, il = skinWeights.length; i < il; i ++ ) {\n\n      this.skinWeights.push( skinWeights[ i ].clone() );\n\n    }\n\n    // skin indices\n\n    var skinIndices = source.skinIndices;\n\n    for ( i = 0, il = skinIndices.length; i < il; i ++ ) {\n\n      this.skinIndices.push( skinIndices[ i ].clone() );\n\n    }\n\n    // line distances\n\n    var lineDistances = source.lineDistances;\n\n    for ( i = 0, il = lineDistances.length; i < il; i ++ ) {\n\n      this.lineDistances.push( lineDistances[ i ] );\n\n    }\n\n    // bounding box\n\n    var boundingBox = source.boundingBox;\n\n    if ( boundingBox !== null ) {\n\n      this.boundingBox = boundingBox.clone();\n\n    }\n\n    // bounding sphere\n\n    var boundingSphere = source.boundingSphere;\n\n    if ( boundingSphere !== null ) {\n\n      this.boundingSphere = boundingSphere.clone();\n\n    }\n\n    // update flags\n\n    this.elementsNeedUpdate = source.elementsNeedUpdate;\n    this.verticesNeedUpdate = source.verticesNeedUpdate;\n    this.uvsNeedUpdate = source.uvsNeedUpdate;\n    this.normalsNeedUpdate = source.normalsNeedUpdate;\n    this.colorsNeedUpdate = source.colorsNeedUpdate;\n    this.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n    this.groupsNeedUpdate = source.groupsNeedUpdate;\n\n    return this;\n\n  },\n\n  dispose: function () {\n\n    this.dispatchEvent( { type: 'dispose' } );\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferAttribute( array, itemSize, normalized ) {\n\n  if ( Array.isArray( array ) ) {\n\n    throw new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n  }\n\n  this.uuid = _Math.generateUUID();\n  this.name = '';\n\n  this.array = array;\n  this.itemSize = itemSize;\n  this.count = array !== undefined ? array.length / itemSize : 0;\n  this.normalized = normalized === true;\n\n  this.dynamic = false;\n  this.updateRange = { offset: 0, count: - 1 };\n\n  this.onUploadCallback = function () {};\n\n  this.version = 0;\n\n}\n\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\n\n  set: function ( value ) {\n\n    if ( value === true ) this.version ++;\n\n  }\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\n  isBufferAttribute: true,\n\n  setArray: function ( array ) {\n\n    if ( Array.isArray( array ) ) {\n\n      throw new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n    }\n\n    this.count = array !== undefined ? array.length / this.itemSize : 0;\n    this.array = array;\n\n  },\n\n  setDynamic: function ( value ) {\n\n    this.dynamic = value;\n\n    return this;\n\n  },\n\n  copy: function ( source ) {\n\n    this.array = new source.array.constructor( source.array );\n    this.itemSize = source.itemSize;\n    this.count = source.count;\n    this.normalized = source.normalized;\n\n    this.dynamic = source.dynamic;\n\n    return this;\n\n  },\n\n  copyAt: function ( index1, attribute, index2 ) {\n\n    index1 *= this.itemSize;\n    index2 *= attribute.itemSize;\n\n    for ( var i = 0, l = this.itemSize; i < l; i ++ ) {\n\n      this.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n    }\n\n    return this;\n\n  },\n\n  copyArray: function ( array ) {\n\n    this.array.set( array );\n\n    return this;\n\n  },\n\n  copyColorsArray: function ( colors ) {\n\n    var array = this.array, offset = 0;\n\n    for ( var i = 0, l = colors.length; i < l; i ++ ) {\n\n      var color = colors[ i ];\n\n      if ( color === undefined ) {\n\n        console.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n        color = new Color();\n\n      }\n\n      array[ offset ++ ] = color.r;\n      array[ offset ++ ] = color.g;\n      array[ offset ++ ] = color.b;\n\n    }\n\n    return this;\n\n  },\n\n  copyIndicesArray: function ( indices ) {\n\n    var array = this.array, offset = 0;\n\n    for ( var i = 0, l = indices.length; i < l; i ++ ) {\n\n      var index = indices[ i ];\n\n      array[ offset ++ ] = index.a;\n      array[ offset ++ ] = index.b;\n      array[ offset ++ ] = index.c;\n\n    }\n\n    return this;\n\n  },\n\n  copyVector2sArray: function ( vectors ) {\n\n    var array = this.array, offset = 0;\n\n    for ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n      var vector = vectors[ i ];\n\n      if ( vector === undefined ) {\n\n        console.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n        vector = new Vector2();\n\n      }\n\n      array[ offset ++ ] = vector.x;\n      array[ offset ++ ] = vector.y;\n\n    }\n\n    return this;\n\n  },\n\n  copyVector3sArray: function ( vectors ) {\n\n    var array = this.array, offset = 0;\n\n    for ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n      var vector = vectors[ i ];\n\n      if ( vector === undefined ) {\n\n        console.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n        vector = new Vector3();\n\n      }\n\n      array[ offset ++ ] = vector.x;\n      array[ offset ++ ] = vector.y;\n      array[ offset ++ ] = vector.z;\n\n    }\n\n    return this;\n\n  },\n\n  copyVector4sArray: function ( vectors ) {\n\n    var array = this.array, offset = 0;\n\n    for ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n      var vector = vectors[ i ];\n\n      if ( vector === undefined ) {\n\n        console.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n        vector = new Vector4();\n\n      }\n\n      array[ offset ++ ] = vector.x;\n      array[ offset ++ ] = vector.y;\n      array[ offset ++ ] = vector.z;\n      array[ offset ++ ] = vector.w;\n\n    }\n\n    return this;\n\n  },\n\n  set: function ( value, offset ) {\n\n    if ( offset === undefined ) offset = 0;\n\n    this.array.set( value, offset );\n\n    return this;\n\n  },\n\n  getX: function ( index ) {\n\n    return this.array[ index * this.itemSize ];\n\n  },\n\n  setX: function ( index, x ) {\n\n    this.array[ index * this.itemSize ] = x;\n\n    return this;\n\n  },\n\n  getY: function ( index ) {\n\n    return this.array[ index * this.itemSize + 1 ];\n\n  },\n\n  setY: function ( index, y ) {\n\n    this.array[ index * this.itemSize + 1 ] = y;\n\n    return this;\n\n  },\n\n  getZ: function ( index ) {\n\n    return this.array[ index * this.itemSize + 2 ];\n\n  },\n\n  setZ: function ( index, z ) {\n\n    this.array[ index * this.itemSize + 2 ] = z;\n\n    return this;\n\n  },\n\n  getW: function ( index ) {\n\n    return this.array[ index * this.itemSize + 3 ];\n\n  },\n\n  setW: function ( index, w ) {\n\n    this.array[ index * this.itemSize + 3 ] = w;\n\n    return this;\n\n  },\n\n  setXY: function ( index, x, y ) {\n\n    index *= this.itemSize;\n\n    this.array[ index + 0 ] = x;\n    this.array[ index + 1 ] = y;\n\n    return this;\n\n  },\n\n  setXYZ: function ( index, x, y, z ) {\n\n    index *= this.itemSize;\n\n    this.array[ index + 0 ] = x;\n    this.array[ index + 1 ] = y;\n    this.array[ index + 2 ] = z;\n\n    return this;\n\n  },\n\n  setXYZW: function ( index, x, y, z, w ) {\n\n    index *= this.itemSize;\n\n    this.array[ index + 0 ] = x;\n    this.array[ index + 1 ] = y;\n    this.array[ index + 2 ] = z;\n    this.array[ index + 3 ] = w;\n\n    return this;\n\n  },\n\n  onUpload: function ( callback ) {\n\n    this.onUploadCallback = callback;\n\n    return this;\n\n  },\n\n  clone: function () {\n\n    return new this.constructor( this.array, this.itemSize ).copy( this );\n\n  }\n\n} );\n\n//\n\nfunction Int8BufferAttribute( array, itemSize ) {\n\n  BufferAttribute.call( this, new Int8Array( array ), itemSize );\n\n}\n\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute( array, itemSize ) {\n\n  BufferAttribute.call( this, new Uint8Array( array ), itemSize );\n\n}\n\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute( array, itemSize ) {\n\n  BufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize );\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute( array, itemSize ) {\n\n  BufferAttribute.call( this, new Int16Array( array ), itemSize );\n\n}\n\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute( array, itemSize ) {\n\n  BufferAttribute.call( this, new Uint16Array( array ), itemSize );\n\n}\n\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute( array, itemSize ) {\n\n  BufferAttribute.call( this, new Int32Array( array ), itemSize );\n\n}\n\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute( array, itemSize ) {\n\n  BufferAttribute.call( this, new Uint32Array( array ), itemSize );\n\n}\n\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\nfunction Float32BufferAttribute( array, itemSize ) {\n\n  BufferAttribute.call( this, new Float32Array( array ), itemSize );\n\n}\n\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute( array, itemSize ) {\n\n  BufferAttribute.call( this, new Float64Array( array ), itemSize );\n\n}\n\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectGeometry() {\n\n  this.indices = [];\n  this.vertices = [];\n  this.normals = [];\n  this.colors = [];\n  this.uvs = [];\n  this.uvs2 = [];\n\n  this.groups = [];\n\n  this.morphTargets = {};\n\n  this.skinWeights = [];\n  this.skinIndices = [];\n\n  // this.lineDistances = [];\n\n  this.boundingBox = null;\n  this.boundingSphere = null;\n\n  // update flags\n\n  this.verticesNeedUpdate = false;\n  this.normalsNeedUpdate = false;\n  this.colorsNeedUpdate = false;\n  this.uvsNeedUpdate = false;\n  this.groupsNeedUpdate = false;\n\n}\n\nObject.assign( DirectGeometry.prototype, {\n\n  computeGroups: function ( geometry ) {\n\n    var group;\n    var groups = [];\n    var materialIndex = undefined;\n\n    var faces = geometry.faces;\n\n    for ( var i = 0; i < faces.length; i ++ ) {\n\n      var face = faces[ i ];\n\n      // materials\n\n      if ( face.materialIndex !== materialIndex ) {\n\n        materialIndex = face.materialIndex;\n\n        if ( group !== undefined ) {\n\n          group.count = ( i * 3 ) - group.start;\n          groups.push( group );\n\n        }\n\n        group = {\n          start: i * 3,\n          materialIndex: materialIndex\n        };\n\n      }\n\n    }\n\n    if ( group !== undefined ) {\n\n      group.count = ( i * 3 ) - group.start;\n      groups.push( group );\n\n    }\n\n    this.groups = groups;\n\n  },\n\n  fromGeometry: function ( geometry ) {\n\n    var faces = geometry.faces;\n    var vertices = geometry.vertices;\n    var faceVertexUvs = geometry.faceVertexUvs;\n\n    var hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n    var hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\n    // morphs\n\n    var morphTargets = geometry.morphTargets;\n    var morphTargetsLength = morphTargets.length;\n\n    var morphTargetsPosition;\n\n    if ( morphTargetsLength > 0 ) {\n\n      morphTargetsPosition = [];\n\n      for ( var i = 0; i < morphTargetsLength; i ++ ) {\n\n        morphTargetsPosition[ i ] = [];\n\n      }\n\n      this.morphTargets.position = morphTargetsPosition;\n\n    }\n\n    var morphNormals = geometry.morphNormals;\n    var morphNormalsLength = morphNormals.length;\n\n    var morphTargetsNormal;\n\n    if ( morphNormalsLength > 0 ) {\n\n      morphTargetsNormal = [];\n\n      for ( var i = 0; i < morphNormalsLength; i ++ ) {\n\n        morphTargetsNormal[ i ] = [];\n\n      }\n\n      this.morphTargets.normal = morphTargetsNormal;\n\n    }\n\n    // skins\n\n    var skinIndices = geometry.skinIndices;\n    var skinWeights = geometry.skinWeights;\n\n    var hasSkinIndices = skinIndices.length === vertices.length;\n    var hasSkinWeights = skinWeights.length === vertices.length;\n\n    //\n\n    for ( var i = 0; i < faces.length; i ++ ) {\n\n      var face = faces[ i ];\n\n      this.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\n      var vertexNormals = face.vertexNormals;\n\n      if ( vertexNormals.length === 3 ) {\n\n        this.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\n      } else {\n\n        var normal = face.normal;\n\n        this.normals.push( normal, normal, normal );\n\n      }\n\n      var vertexColors = face.vertexColors;\n\n      if ( vertexColors.length === 3 ) {\n\n        this.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\n      } else {\n\n        var color = face.color;\n\n        this.colors.push( color, color, color );\n\n      }\n\n      if ( hasFaceVertexUv === true ) {\n\n        var vertexUvs = faceVertexUvs[ 0 ][ i ];\n\n        if ( vertexUvs !== undefined ) {\n\n          this.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n        } else {\n\n          console.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\n          this.uvs.push( new Vector2(), new Vector2(), new Vector2() );\n\n        }\n\n      }\n\n      if ( hasFaceVertexUv2 === true ) {\n\n        var vertexUvs = faceVertexUvs[ 1 ][ i ];\n\n        if ( vertexUvs !== undefined ) {\n\n          this.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n        } else {\n\n          console.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\n          this.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\n\n        }\n\n      }\n\n      // morphs\n\n      for ( var j = 0; j < morphTargetsLength; j ++ ) {\n\n        var morphTarget = morphTargets[ j ].vertices;\n\n        morphTargetsPosition[ j ].push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\n      }\n\n      for ( var j = 0; j < morphNormalsLength; j ++ ) {\n\n        var morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\n        morphTargetsNormal[ j ].push( morphNormal.a, morphNormal.b, morphNormal.c );\n\n      }\n\n      // skins\n\n      if ( hasSkinIndices ) {\n\n        this.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\n      }\n\n      if ( hasSkinWeights ) {\n\n        this.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\n      }\n\n    }\n\n    this.computeGroups( geometry );\n\n    this.verticesNeedUpdate = geometry.verticesNeedUpdate;\n    this.normalsNeedUpdate = geometry.normalsNeedUpdate;\n    this.colorsNeedUpdate = geometry.colorsNeedUpdate;\n    this.uvsNeedUpdate = geometry.uvsNeedUpdate;\n    this.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction arrayMax( array ) {\n\n  if ( array.length === 0 ) return - Infinity;\n\n  var max = array[ 0 ];\n\n  for ( var i = 1, l = array.length; i < l; ++ i ) {\n\n    if ( array[ i ] > max ) max = array[ i ];\n\n  }\n\n  return max;\n\n}\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferGeometry() {\n\n  Object.defineProperty( this, 'id', { value: GeometryIdCount() } );\n\n  this.uuid = _Math.generateUUID();\n\n  this.name = '';\n  this.type = 'BufferGeometry';\n\n  this.index = null;\n  this.attributes = {};\n\n  this.morphAttributes = {};\n\n  this.groups = [];\n\n  this.boundingBox = null;\n  this.boundingSphere = null;\n\n  this.drawRange = { start: 0, count: Infinity };\n\n}\n\nBufferGeometry.MaxIndex = 65535;\n\nObject.assign( BufferGeometry.prototype, EventDispatcher.prototype, {\n\n  isBufferGeometry: true,\n\n  getIndex: function () {\n\n    return this.index;\n\n  },\n\n  setIndex: function ( index ) {\n\n    if ( Array.isArray( index ) ) {\n\n      this.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n    } else {\n\n      this.index = index;\n\n    }\n\n  },\n\n  addAttribute: function ( name, attribute ) {\n\n    if ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n      console.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n      this.addAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n      return;\n\n    }\n\n    if ( name === 'index' ) {\n\n      console.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n      this.setIndex( attribute );\n\n      return;\n\n    }\n\n    this.attributes[ name ] = attribute;\n\n    return this;\n\n  },\n\n  getAttribute: function ( name ) {\n\n    return this.attributes[ name ];\n\n  },\n\n  removeAttribute: function ( name ) {\n\n    delete this.attributes[ name ];\n\n    return this;\n\n  },\n\n  addGroup: function ( start, count, materialIndex ) {\n\n    this.groups.push( {\n\n      start: start,\n      count: count,\n      materialIndex: materialIndex !== undefined ? materialIndex : 0\n\n    } );\n\n  },\n\n  clearGroups: function () {\n\n    this.groups = [];\n\n  },\n\n  setDrawRange: function ( start, count ) {\n\n    this.drawRange.start = start;\n    this.drawRange.count = count;\n\n  },\n\n  applyMatrix: function ( matrix ) {\n\n    var position = this.attributes.position;\n\n    if ( position !== undefined ) {\n\n      matrix.applyToBufferAttribute( position );\n      position.needsUpdate = true;\n\n    }\n\n    var normal = this.attributes.normal;\n\n    if ( normal !== undefined ) {\n\n      var normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n      normalMatrix.applyToBufferAttribute( normal );\n      normal.needsUpdate = true;\n\n    }\n\n    if ( this.boundingBox !== null ) {\n\n      this.computeBoundingBox();\n\n    }\n\n    if ( this.boundingSphere !== null ) {\n\n      this.computeBoundingSphere();\n\n    }\n\n    return this;\n\n  },\n\n  rotateX: function () {\n\n    // rotate geometry around world x-axis\n\n    var m1 = new Matrix4();\n\n    return function rotateX( angle ) {\n\n      m1.makeRotationX( angle );\n\n      this.applyMatrix( m1 );\n\n      return this;\n\n    };\n\n  }(),\n\n  rotateY: function () {\n\n    // rotate geometry around world y-axis\n\n    var m1 = new Matrix4();\n\n    return function rotateY( angle ) {\n\n      m1.makeRotationY( angle );\n\n      this.applyMatrix( m1 );\n\n      return this;\n\n    };\n\n  }(),\n\n  rotateZ: function () {\n\n    // rotate geometry around world z-axis\n\n    var m1 = new Matrix4();\n\n    return function rotateZ( angle ) {\n\n      m1.makeRotationZ( angle );\n\n      this.applyMatrix( m1 );\n\n      return this;\n\n    };\n\n  }(),\n\n  translate: function () {\n\n    // translate geometry\n\n    var m1 = new Matrix4();\n\n    return function translate( x, y, z ) {\n\n      m1.makeTranslation( x, y, z );\n\n      this.applyMatrix( m1 );\n\n      return this;\n\n    };\n\n  }(),\n\n  scale: function () {\n\n    // scale geometry\n\n    var m1 = new Matrix4();\n\n    return function scale( x, y, z ) {\n\n      m1.makeScale( x, y, z );\n\n      this.applyMatrix( m1 );\n\n      return this;\n\n    };\n\n  }(),\n\n  lookAt: function () {\n\n    var obj = new Object3D();\n\n    return function lookAt( vector ) {\n\n      obj.lookAt( vector );\n\n      obj.updateMatrix();\n\n      this.applyMatrix( obj.matrix );\n\n    };\n\n  }(),\n\n  center: function () {\n\n    this.computeBoundingBox();\n\n    var offset = this.boundingBox.getCenter().negate();\n\n    this.translate( offset.x, offset.y, offset.z );\n\n    return offset;\n\n  },\n\n  setFromObject: function ( object ) {\n\n    // console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n    var geometry = object.geometry;\n\n    if ( object.isPoints || object.isLine ) {\n\n      var positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\n      var colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\n\n      this.addAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n      this.addAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\n      if ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\n        var lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\n\n        this.addAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\n      }\n\n      if ( geometry.boundingSphere !== null ) {\n\n        this.boundingSphere = geometry.boundingSphere.clone();\n\n      }\n\n      if ( geometry.boundingBox !== null ) {\n\n        this.boundingBox = geometry.boundingBox.clone();\n\n      }\n\n    } else if ( object.isMesh ) {\n\n      if ( geometry && geometry.isGeometry ) {\n\n        this.fromGeometry( geometry );\n\n      }\n\n    }\n\n    return this;\n\n  },\n\n  updateFromObject: function ( object ) {\n\n    var geometry = object.geometry;\n\n    if ( object.isMesh ) {\n\n      var direct = geometry.__directGeometry;\n\n      if ( geometry.elementsNeedUpdate === true ) {\n\n        direct = undefined;\n        geometry.elementsNeedUpdate = false;\n\n      }\n\n      if ( direct === undefined ) {\n\n        return this.fromGeometry( geometry );\n\n      }\n\n      direct.verticesNeedUpdate = geometry.verticesNeedUpdate;\n      direct.normalsNeedUpdate = geometry.normalsNeedUpdate;\n      direct.colorsNeedUpdate = geometry.colorsNeedUpdate;\n      direct.uvsNeedUpdate = geometry.uvsNeedUpdate;\n      direct.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n      geometry.verticesNeedUpdate = false;\n      geometry.normalsNeedUpdate = false;\n      geometry.colorsNeedUpdate = false;\n      geometry.uvsNeedUpdate = false;\n      geometry.groupsNeedUpdate = false;\n\n      geometry = direct;\n\n    }\n\n    var attribute;\n\n    if ( geometry.verticesNeedUpdate === true ) {\n\n      attribute = this.attributes.position;\n\n      if ( attribute !== undefined ) {\n\n        attribute.copyVector3sArray( geometry.vertices );\n        attribute.needsUpdate = true;\n\n      }\n\n      geometry.verticesNeedUpdate = false;\n\n    }\n\n    if ( geometry.normalsNeedUpdate === true ) {\n\n      attribute = this.attributes.normal;\n\n      if ( attribute !== undefined ) {\n\n        attribute.copyVector3sArray( geometry.normals );\n        attribute.needsUpdate = true;\n\n      }\n\n      geometry.normalsNeedUpdate = false;\n\n    }\n\n    if ( geometry.colorsNeedUpdate === true ) {\n\n      attribute = this.attributes.color;\n\n      if ( attribute !== undefined ) {\n\n        attribute.copyColorsArray( geometry.colors );\n        attribute.needsUpdate = true;\n\n      }\n\n      geometry.colorsNeedUpdate = false;\n\n    }\n\n    if ( geometry.uvsNeedUpdate ) {\n\n      attribute = this.attributes.uv;\n\n      if ( attribute !== undefined ) {\n\n        attribute.copyVector2sArray( geometry.uvs );\n        attribute.needsUpdate = true;\n\n      }\n\n      geometry.uvsNeedUpdate = false;\n\n    }\n\n    if ( geometry.lineDistancesNeedUpdate ) {\n\n      attribute = this.attributes.lineDistance;\n\n      if ( attribute !== undefined ) {\n\n        attribute.copyArray( geometry.lineDistances );\n        attribute.needsUpdate = true;\n\n      }\n\n      geometry.lineDistancesNeedUpdate = false;\n\n    }\n\n    if ( geometry.groupsNeedUpdate ) {\n\n      geometry.computeGroups( object.geometry );\n      this.groups = geometry.groups;\n\n      geometry.groupsNeedUpdate = false;\n\n    }\n\n    return this;\n\n  },\n\n  fromGeometry: function ( geometry ) {\n\n    geometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\n\n    return this.fromDirectGeometry( geometry.__directGeometry );\n\n  },\n\n  fromDirectGeometry: function ( geometry ) {\n\n    var positions = new Float32Array( geometry.vertices.length * 3 );\n    this.addAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\n    if ( geometry.normals.length > 0 ) {\n\n      var normals = new Float32Array( geometry.normals.length * 3 );\n      this.addAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\n    }\n\n    if ( geometry.colors.length > 0 ) {\n\n      var colors = new Float32Array( geometry.colors.length * 3 );\n      this.addAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\n    }\n\n    if ( geometry.uvs.length > 0 ) {\n\n      var uvs = new Float32Array( geometry.uvs.length * 2 );\n      this.addAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\n    }\n\n    if ( geometry.uvs2.length > 0 ) {\n\n      var uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n      this.addAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\n    }\n\n    if ( geometry.indices.length > 0 ) {\n\n      var TypeArray = arrayMax( geometry.indices ) > 65535 ? Uint32Array : Uint16Array;\n      var indices = new TypeArray( geometry.indices.length * 3 );\n      this.setIndex( new BufferAttribute( indices, 1 ).copyIndicesArray( geometry.indices ) );\n\n    }\n\n    // groups\n\n    this.groups = geometry.groups;\n\n    // morphs\n\n    for ( var name in geometry.morphTargets ) {\n\n      var array = [];\n      var morphTargets = geometry.morphTargets[ name ];\n\n      for ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\n\n        var morphTarget = morphTargets[ i ];\n\n        var attribute = new Float32BufferAttribute( morphTarget.length * 3, 3 );\n\n        array.push( attribute.copyVector3sArray( morphTarget ) );\n\n      }\n\n      this.morphAttributes[ name ] = array;\n\n    }\n\n    // skinning\n\n    if ( geometry.skinIndices.length > 0 ) {\n\n      var skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\n      this.addAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\n    }\n\n    if ( geometry.skinWeights.length > 0 ) {\n\n      var skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\n      this.addAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\n    }\n\n    //\n\n    if ( geometry.boundingSphere !== null ) {\n\n      this.boundingSphere = geometry.boundingSphere.clone();\n\n    }\n\n    if ( geometry.boundingBox !== null ) {\n\n      this.boundingBox = geometry.boundingBox.clone();\n\n    }\n\n    return this;\n\n  },\n\n  computeBoundingBox: function () {\n\n    if ( this.boundingBox === null ) {\n\n      this.boundingBox = new Box3();\n\n    }\n\n    var position = this.attributes.position;\n\n    if ( position !== undefined ) {\n\n      this.boundingBox.setFromBufferAttribute( position );\n\n    } else {\n\n      this.boundingBox.makeEmpty();\n\n    }\n\n    if ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n      console.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n    }\n\n  },\n\n  computeBoundingSphere: function () {\n\n    var box = new Box3();\n    var vector = new Vector3();\n\n    return function computeBoundingSphere() {\n\n      if ( this.boundingSphere === null ) {\n\n        this.boundingSphere = new Sphere();\n\n      }\n\n      var position = this.attributes.position;\n\n      if ( position ) {\n\n        var center = this.boundingSphere.center;\n\n        box.setFromBufferAttribute( position );\n        box.getCenter( center );\n\n        // hoping to find a boundingSphere with a radius smaller than the\n        // boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n        var maxRadiusSq = 0;\n\n        for ( var i = 0, il = position.count; i < il; i ++ ) {\n\n          vector.x = position.getX( i );\n          vector.y = position.getY( i );\n          vector.z = position.getZ( i );\n          maxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( vector ) );\n\n        }\n\n        this.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n        if ( isNaN( this.boundingSphere.radius ) ) {\n\n          console.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n        }\n\n      }\n\n    };\n\n  }(),\n\n  computeFaceNormals: function () {\n\n    // backwards compatibility\n\n  },\n\n  computeVertexNormals: function () {\n\n    var index = this.index;\n    var attributes = this.attributes;\n    var groups = this.groups;\n\n    if ( attributes.position ) {\n\n      var positions = attributes.position.array;\n\n      if ( attributes.normal === undefined ) {\n\n        this.addAttribute( 'normal', new BufferAttribute( new Float32Array( positions.length ), 3 ) );\n\n      } else {\n\n        // reset existing normals to zero\n\n        var array = attributes.normal.array;\n\n        for ( var i = 0, il = array.length; i < il; i ++ ) {\n\n          array[ i ] = 0;\n\n        }\n\n      }\n\n      var normals = attributes.normal.array;\n\n      var vA, vB, vC;\n      var pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n      var cb = new Vector3(), ab = new Vector3();\n\n      // indexed elements\n\n      if ( index ) {\n\n        var indices = index.array;\n\n        if ( groups.length === 0 ) {\n\n          this.addGroup( 0, indices.length );\n\n        }\n\n        for ( var j = 0, jl = groups.length; j < jl; ++ j ) {\n\n          var group = groups[ j ];\n\n          var start = group.start;\n          var count = group.count;\n\n          for ( var i = start, il = start + count; i < il; i += 3 ) {\n\n            vA = indices[ i + 0 ] * 3;\n            vB = indices[ i + 1 ] * 3;\n            vC = indices[ i + 2 ] * 3;\n\n            pA.fromArray( positions, vA );\n            pB.fromArray( positions, vB );\n            pC.fromArray( positions, vC );\n\n            cb.subVectors( pC, pB );\n            ab.subVectors( pA, pB );\n            cb.cross( ab );\n\n            normals[ vA ] += cb.x;\n            normals[ vA + 1 ] += cb.y;\n            normals[ vA + 2 ] += cb.z;\n\n            normals[ vB ] += cb.x;\n            normals[ vB + 1 ] += cb.y;\n            normals[ vB + 2 ] += cb.z;\n\n            normals[ vC ] += cb.x;\n            normals[ vC + 1 ] += cb.y;\n            normals[ vC + 2 ] += cb.z;\n\n          }\n\n        }\n\n      } else {\n\n        // non-indexed elements (unconnected triangle soup)\n\n        for ( var i = 0, il = positions.length; i < il; i += 9 ) {\n\n          pA.fromArray( positions, i );\n          pB.fromArray( positions, i + 3 );\n          pC.fromArray( positions, i + 6 );\n\n          cb.subVectors( pC, pB );\n          ab.subVectors( pA, pB );\n          cb.cross( ab );\n\n          normals[ i ] = cb.x;\n          normals[ i + 1 ] = cb.y;\n          normals[ i + 2 ] = cb.z;\n\n          normals[ i + 3 ] = cb.x;\n          normals[ i + 4 ] = cb.y;\n          normals[ i + 5 ] = cb.z;\n\n          normals[ i + 6 ] = cb.x;\n          normals[ i + 7 ] = cb.y;\n          normals[ i + 8 ] = cb.z;\n\n        }\n\n      }\n\n      this.normalizeNormals();\n\n      attributes.normal.needsUpdate = true;\n\n    }\n\n  },\n\n  merge: function ( geometry, offset ) {\n\n    if ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n      console.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n      return;\n\n    }\n\n    if ( offset === undefined ) offset = 0;\n\n    var attributes = this.attributes;\n\n    for ( var key in attributes ) {\n\n      if ( geometry.attributes[ key ] === undefined ) continue;\n\n      var attribute1 = attributes[ key ];\n      var attributeArray1 = attribute1.array;\n\n      var attribute2 = geometry.attributes[ key ];\n      var attributeArray2 = attribute2.array;\n\n      var attributeSize = attribute2.itemSize;\n\n      for ( var i = 0, j = attributeSize * offset; i < attributeArray2.length; i ++, j ++ ) {\n\n        attributeArray1[ j ] = attributeArray2[ i ];\n\n      }\n\n    }\n\n    return this;\n\n  },\n\n  normalizeNormals: function () {\n\n    var vector = new Vector3();\n\n    return function normalizeNormals() {\n\n      var normals = this.attributes.normal;\n\n      for ( var i = 0, il = normals.count; i < il; i ++ ) {\n\n        vector.x = normals.getX( i );\n        vector.y = normals.getY( i );\n        vector.z = normals.getZ( i );\n\n        vector.normalize();\n\n        normals.setXYZ( i, vector.x, vector.y, vector.z );\n\n      }\n\n    };\n\n  }(),\n\n  toNonIndexed: function () {\n\n    if ( this.index === null ) {\n\n      console.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\n      return this;\n\n    }\n\n    var geometry2 = new BufferGeometry();\n\n    var indices = this.index.array;\n    var attributes = this.attributes;\n\n    for ( var name in attributes ) {\n\n      var attribute = attributes[ name ];\n\n      var array = attribute.array;\n      var itemSize = attribute.itemSize;\n\n      var array2 = new array.constructor( indices.length * itemSize );\n\n      var index = 0, index2 = 0;\n\n      for ( var i = 0, l = indices.length; i < l; i ++ ) {\n\n        index = indices[ i ] * itemSize;\n\n        for ( var j = 0; j < itemSize; j ++ ) {\n\n          array2[ index2 ++ ] = array[ index ++ ];\n\n        }\n\n      }\n\n      geometry2.addAttribute( name, new BufferAttribute( array2, itemSize ) );\n\n    }\n\n    return geometry2;\n\n  },\n\n  toJSON: function () {\n\n    var data = {\n      metadata: {\n        version: 4.5,\n        type: 'BufferGeometry',\n        generator: 'BufferGeometry.toJSON'\n      }\n    };\n\n    // standard BufferGeometry serialization\n\n    data.uuid = this.uuid;\n    data.type = this.type;\n    if ( this.name !== '' ) data.name = this.name;\n\n    if ( this.parameters !== undefined ) {\n\n      var parameters = this.parameters;\n\n      for ( var key in parameters ) {\n\n        if ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n      }\n\n      return data;\n\n    }\n\n    data.data = { attributes: {} };\n\n    var index = this.index;\n\n    if ( index !== null ) {\n\n      var array = Array.prototype.slice.call( index.array );\n\n      data.data.index = {\n        type: index.array.constructor.name,\n        array: array\n      };\n\n    }\n\n    var attributes = this.attributes;\n\n    for ( var key in attributes ) {\n\n      var attribute = attributes[ key ];\n\n      var array = Array.prototype.slice.call( attribute.array );\n\n      data.data.attributes[ key ] = {\n        itemSize: attribute.itemSize,\n        type: attribute.array.constructor.name,\n        array: array,\n        normalized: attribute.normalized\n      };\n\n    }\n\n    var groups = this.groups;\n\n    if ( groups.length > 0 ) {\n\n      data.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n    }\n\n    var boundingSphere = this.boundingSphere;\n\n    if ( boundingSphere !== null ) {\n\n      data.data.boundingSphere = {\n        center: boundingSphere.center.toArray(),\n        radius: boundingSphere.radius\n      };\n\n    }\n\n    return data;\n\n  },\n\n  clone: function () {\n\n    /*\n     // Handle primitives\n\n     var parameters = this.parameters;\n\n     if ( parameters !== undefined ) {\n\n     var values = [];\n\n     for ( var key in parameters ) {\n\n     values.push( parameters[ key ] );\n\n     }\n\n     var geometry = Object.create( this.constructor.prototype );\n     this.constructor.apply( geometry, values );\n     return geometry;\n\n     }\n\n     return new this.constructor().copy( this );\n     */\n\n    return new BufferGeometry().copy( this );\n\n  },\n\n  copy: function ( source ) {\n\n    var name, i, l;\n\n    // reset\n\n    this.index = null;\n    this.attributes = {};\n    this.morphAttributes = {};\n    this.groups = [];\n    this.boundingBox = null;\n    this.boundingSphere = null;\n\n    // name\n\n    this.name = source.name;\n\n    // index\n\n    var index = source.index;\n\n    if ( index !== null ) {\n\n      this.setIndex( index.clone() );\n\n    }\n\n    // attributes\n\n    var attributes = source.attributes;\n\n    for ( name in attributes ) {\n\n      var attribute = attributes[ name ];\n      this.addAttribute( name, attribute.clone() );\n\n    }\n\n    // morph attributes\n\n    var morphAttributes = source.morphAttributes;\n\n    for ( name in morphAttributes ) {\n\n      var array = [];\n      var morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n      for ( i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n        array.push( morphAttribute[ i ].clone() );\n\n      }\n\n      this.morphAttributes[ name ] = array;\n\n    }\n\n    // groups\n\n    var groups = source.groups;\n\n    for ( i = 0, l = groups.length; i < l; i ++ ) {\n\n      var group = groups[ i ];\n      this.addGroup( group.start, group.count, group.materialIndex );\n\n    }\n\n    // bounding box\n\n    var boundingBox = source.boundingBox;\n\n    if ( boundingBox !== null ) {\n\n      this.boundingBox = boundingBox.clone();\n\n    }\n\n    // bounding sphere\n\n    var boundingSphere = source.boundingSphere;\n\n    if ( boundingSphere !== null ) {\n\n      this.boundingSphere = boundingSphere.clone();\n\n    }\n\n    // draw range\n\n    this.drawRange.start = source.drawRange.start;\n    this.drawRange.count = source.drawRange.count;\n\n    return this;\n\n  },\n\n  dispose: function () {\n\n    this.dispatchEvent( { type: 'dispose' } );\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// BoxGeometry\n\nfunction BoxGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n  Geometry.call( this );\n\n  this.type = 'BoxGeometry';\n\n  this.parameters = {\n    width: width,\n    height: height,\n    depth: depth,\n    widthSegments: widthSegments,\n    heightSegments: heightSegments,\n    depthSegments: depthSegments\n  };\n\n  this.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\n  this.mergeVertices();\n\n}\n\nBoxGeometry.prototype = Object.create( Geometry.prototype );\nBoxGeometry.prototype.constructor = BoxGeometry;\n\n// BoxBufferGeometry\n\nfunction BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n  BufferGeometry.call( this );\n\n  this.type = 'BoxBufferGeometry';\n\n  this.parameters = {\n    width: width,\n    height: height,\n    depth: depth,\n    widthSegments: widthSegments,\n    heightSegments: heightSegments,\n    depthSegments: depthSegments\n  };\n\n  var scope = this;\n\n  // segments\n\n  widthSegments = Math.floor( widthSegments ) || 1;\n  heightSegments = Math.floor( heightSegments ) || 1;\n  depthSegments = Math.floor( depthSegments ) || 1;\n\n  // buffers\n\n  var indices = [];\n  var vertices = [];\n  var normals = [];\n  var uvs = [];\n\n  // helper variables\n\n  var numberOfVertices = 0;\n  var groupStart = 0;\n\n  // build each side of the box geometry\n\n  buildPlane( 'z', 'y', 'x', - 1, - 1, depth, height,   width,  depthSegments, heightSegments, 0 ); // px\n  buildPlane( 'z', 'y', 'x',   1, - 1, depth, height, - width,  depthSegments, heightSegments, 1 ); // nx\n  buildPlane( 'x', 'z', 'y',   1,   1, width, depth,    height, widthSegments, depthSegments,  2 ); // py\n  buildPlane( 'x', 'z', 'y',   1, - 1, width, depth,  - height, widthSegments, depthSegments,  3 ); // ny\n  buildPlane( 'x', 'y', 'z',   1, - 1, width, height,   depth,  widthSegments, heightSegments, 4 ); // pz\n  buildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth,  widthSegments, heightSegments, 5 ); // nz\n\n  // build geometry\n\n  this.setIndex( indices );\n  this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n  this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n  function buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n    var segmentWidth = width / gridX;\n    var segmentHeight = height / gridY;\n\n    var widthHalf = width / 2;\n    var heightHalf = height / 2;\n    var depthHalf = depth / 2;\n\n    var gridX1 = gridX + 1;\n    var gridY1 = gridY + 1;\n\n    var vertexCounter = 0;\n    var groupCount = 0;\n\n    var ix, iy;\n\n    var vector = new Vector3();\n\n    // generate vertices, normals and uvs\n\n    for ( iy = 0; iy < gridY1; iy ++ ) {\n\n      var y = iy * segmentHeight - heightHalf;\n\n      for ( ix = 0; ix < gridX1; ix ++ ) {\n\n        var x = ix * segmentWidth - widthHalf;\n\n        // set values to correct vector component\n\n        vector[ u ] = x * udir;\n        vector[ v ] = y * vdir;\n        vector[ w ] = depthHalf;\n\n        // now apply vector to vertex buffer\n\n        vertices.push( vector.x, vector.y, vector.z );\n\n        // set values to correct vector component\n\n        vector[ u ] = 0;\n        vector[ v ] = 0;\n        vector[ w ] = depth > 0 ? 1 : - 1;\n\n        // now apply vector to normal buffer\n\n        normals.push( vector.x, vector.y, vector.z );\n\n        // uvs\n\n        uvs.push( ix / gridX );\n        uvs.push( 1 - ( iy / gridY ) );\n\n        // counters\n\n        vertexCounter += 1;\n\n      }\n\n    }\n\n    // indices\n\n    // 1. you need three indices to draw a single face\n    // 2. a single segment consists of two faces\n    // 3. so we need to generate six (2*3) indices per segment\n\n    for ( iy = 0; iy < gridY; iy ++ ) {\n\n      for ( ix = 0; ix < gridX; ix ++ ) {\n\n        var a = numberOfVertices + ix + gridX1 * iy;\n        var b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n        var c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n        var d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n        // faces\n\n        indices.push( a, b, d );\n        indices.push( b, c, d );\n\n        // increase counter\n\n        groupCount += 6;\n\n      }\n\n    }\n\n    // add a group to the geometry. this will ensure multi material support\n\n    scope.addGroup( groupStart, groupCount, materialIndex );\n\n    // calculate new start value for groups\n\n    groupStart += groupCount;\n\n    // update total number of vertices\n\n    numberOfVertices += vertexCounter;\n\n  }\n\n}\n\nBoxBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nBoxBufferGeometry.prototype.constructor = BoxBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PlaneGeometry\n\nfunction PlaneGeometry( width, height, widthSegments, heightSegments ) {\n\n  Geometry.call( this );\n\n  this.type = 'PlaneGeometry';\n\n  this.parameters = {\n    width: width,\n    height: height,\n    widthSegments: widthSegments,\n    heightSegments: heightSegments\n  };\n\n  this.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\n  this.mergeVertices();\n\n}\n\nPlaneGeometry.prototype = Object.create( Geometry.prototype );\nPlaneGeometry.prototype.constructor = PlaneGeometry;\n\n// PlaneBufferGeometry\n\nfunction PlaneBufferGeometry( width, height, widthSegments, heightSegments ) {\n\n  BufferGeometry.call( this );\n\n  this.type = 'PlaneBufferGeometry';\n\n  this.parameters = {\n    width: width,\n    height: height,\n    widthSegments: widthSegments,\n    heightSegments: heightSegments\n  };\n\n  var width_half = width / 2;\n  var height_half = height / 2;\n\n  var gridX = Math.floor( widthSegments ) || 1;\n  var gridY = Math.floor( heightSegments ) || 1;\n\n  var gridX1 = gridX + 1;\n  var gridY1 = gridY + 1;\n\n  var segment_width = width / gridX;\n  var segment_height = height / gridY;\n\n  var ix, iy;\n\n  // buffers\n\n  var indices = [];\n  var vertices = [];\n  var normals = [];\n  var uvs = [];\n\n  // generate vertices, normals and uvs\n\n  for ( iy = 0; iy < gridY1; iy ++ ) {\n\n    var y = iy * segment_height - height_half;\n\n    for ( ix = 0; ix < gridX1; ix ++ ) {\n\n      var x = ix * segment_width - width_half;\n\n      vertices.push( x, - y, 0 );\n\n      normals.push( 0, 0, 1 );\n\n      uvs.push( ix / gridX );\n      uvs.push( 1 - ( iy / gridY ) );\n\n    }\n\n  }\n\n  // indices\n\n  for ( iy = 0; iy < gridY; iy ++ ) {\n\n    for ( ix = 0; ix < gridX; ix ++ ) {\n\n      var a = ix + gridX1 * iy;\n      var b = ix + gridX1 * ( iy + 1 );\n      var c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n      var d = ( ix + 1 ) + gridX1 * iy;\n\n      // faces\n\n      indices.push( a, b, d );\n      indices.push( b, c, d );\n\n    }\n\n  }\n\n  // build geometry\n\n  this.setIndex( indices );\n  this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n  this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nPlaneBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nfunction MeshBasicMaterial( parameters ) {\n\n  Material.call( this );\n\n  this.type = 'MeshBasicMaterial';\n\n  this.color = new Color( 0xffffff ); // emissive\n\n  this.map = null;\n\n  this.lightMap = null;\n  this.lightMapIntensity = 1.0;\n\n  this.aoMap = null;\n  this.aoMapIntensity = 1.0;\n\n  this.specularMap = null;\n\n  this.alphaMap = null;\n\n  this.envMap = null;\n  this.combine = MultiplyOperation;\n  this.reflectivity = 1;\n  this.refractionRatio = 0.98;\n\n  this.wireframe = false;\n  this.wireframeLinewidth = 1;\n  this.wireframeLinecap = 'round';\n  this.wireframeLinejoin = 'round';\n\n  this.skinning = false;\n  this.morphTargets = false;\n\n  this.lights = false;\n\n  this.setValues( parameters );\n\n}\n\nMeshBasicMaterial.prototype = Object.create( Material.prototype );\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nMeshBasicMaterial.prototype.copy = function ( source ) {\n\n  Material.prototype.copy.call( this, source );\n\n  this.color.copy( source.color );\n\n  this.map = source.map;\n\n  this.lightMap = source.lightMap;\n  this.lightMapIntensity = source.lightMapIntensity;\n\n  this.aoMap = source.aoMap;\n  this.aoMapIntensity = source.aoMapIntensity;\n\n  this.specularMap = source.specularMap;\n\n  this.alphaMap = source.alphaMap;\n\n  this.envMap = source.envMap;\n  this.combine = source.combine;\n  this.reflectivity = source.reflectivity;\n  this.refractionRatio = source.refractionRatio;\n\n  this.wireframe = source.wireframe;\n  this.wireframeLinewidth = source.wireframeLinewidth;\n  this.wireframeLinecap = source.wireframeLinecap;\n  this.wireframeLinejoin = source.wireframeLinejoin;\n\n  this.skinning = source.skinning;\n  this.morphTargets = source.morphTargets;\n\n  return this;\n\n};\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Ray( origin, direction ) {\n\n  this.origin = ( origin !== undefined ) ? origin : new Vector3();\n  this.direction = ( direction !== undefined ) ? direction : new Vector3();\n\n}\n\nObject.assign( Ray.prototype, {\n\n  set: function ( origin, direction ) {\n\n    this.origin.copy( origin );\n    this.direction.copy( direction );\n\n    return this;\n\n  },\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  copy: function ( ray ) {\n\n    this.origin.copy( ray.origin );\n    this.direction.copy( ray.direction );\n\n    return this;\n\n  },\n\n  at: function ( t, optionalTarget ) {\n\n    var result = optionalTarget || new Vector3();\n\n    return result.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n  },\n\n  lookAt: function ( v ) {\n\n    this.direction.copy( v ).sub( this.origin ).normalize();\n\n    return this;\n\n  },\n\n  recast: function () {\n\n    var v1 = new Vector3();\n\n    return function recast( t ) {\n\n      this.origin.copy( this.at( t, v1 ) );\n\n      return this;\n\n    };\n\n  }(),\n\n  closestPointToPoint: function ( point, optionalTarget ) {\n\n    var result = optionalTarget || new Vector3();\n    result.subVectors( point, this.origin );\n    var directionDistance = result.dot( this.direction );\n\n    if ( directionDistance < 0 ) {\n\n      return result.copy( this.origin );\n\n    }\n\n    return result.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n  },\n\n  distanceToPoint: function ( point ) {\n\n    return Math.sqrt( this.distanceSqToPoint( point ) );\n\n  },\n\n  distanceSqToPoint: function () {\n\n    var v1 = new Vector3();\n\n    return function distanceSqToPoint( point ) {\n\n      var directionDistance = v1.subVectors( point, this.origin ).dot( this.direction );\n\n      // point behind the ray\n\n      if ( directionDistance < 0 ) {\n\n        return this.origin.distanceToSquared( point );\n\n      }\n\n      v1.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n      return v1.distanceToSquared( point );\n\n    };\n\n  }(),\n\n  distanceSqToSegment: function () {\n\n    var segCenter = new Vector3();\n    var segDir = new Vector3();\n    var diff = new Vector3();\n\n    return function distanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n      // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n      // It returns the min distance between the ray and the segment\n      // defined by v0 and v1\n      // It can also set two optional targets :\n      // - The closest point on the ray\n      // - The closest point on the segment\n\n      segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n      segDir.copy( v1 ).sub( v0 ).normalize();\n      diff.copy( this.origin ).sub( segCenter );\n\n      var segExtent = v0.distanceTo( v1 ) * 0.5;\n      var a01 = - this.direction.dot( segDir );\n      var b0 = diff.dot( this.direction );\n      var b1 = - diff.dot( segDir );\n      var c = diff.lengthSq();\n      var det = Math.abs( 1 - a01 * a01 );\n      var s0, s1, sqrDist, extDet;\n\n      if ( det > 0 ) {\n\n        // The ray and segment are not parallel.\n\n        s0 = a01 * b1 - b0;\n        s1 = a01 * b0 - b1;\n        extDet = segExtent * det;\n\n        if ( s0 >= 0 ) {\n\n          if ( s1 >= - extDet ) {\n\n            if ( s1 <= extDet ) {\n\n              // region 0\n              // Minimum at interior points of ray and segment.\n\n              var invDet = 1 / det;\n              s0 *= invDet;\n              s1 *= invDet;\n              sqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n            } else {\n\n              // region 1\n\n              s1 = segExtent;\n              s0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n              sqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n            }\n\n          } else {\n\n            // region 5\n\n            s1 = - segExtent;\n            s0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n            sqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n          }\n\n        } else {\n\n          if ( s1 <= - extDet ) {\n\n            // region 4\n\n            s0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n            s1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n            sqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n          } else if ( s1 <= extDet ) {\n\n            // region 3\n\n            s0 = 0;\n            s1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n            sqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n          } else {\n\n            // region 2\n\n            s0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n            s1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n            sqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n          }\n\n        }\n\n      } else {\n\n        // Ray and segment are parallel.\n\n        s1 = ( a01 > 0 ) ? - segExtent : segExtent;\n        s0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n        sqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n      }\n\n      if ( optionalPointOnRay ) {\n\n        optionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n      }\n\n      if ( optionalPointOnSegment ) {\n\n        optionalPointOnSegment.copy( segDir ).multiplyScalar( s1 ).add( segCenter );\n\n      }\n\n      return sqrDist;\n\n    };\n\n  }(),\n\n  intersectSphere: function () {\n\n    var v1 = new Vector3();\n\n    return function intersectSphere( sphere, optionalTarget ) {\n\n      v1.subVectors( sphere.center, this.origin );\n      var tca = v1.dot( this.direction );\n      var d2 = v1.dot( v1 ) - tca * tca;\n      var radius2 = sphere.radius * sphere.radius;\n\n      if ( d2 > radius2 ) return null;\n\n      var thc = Math.sqrt( radius2 - d2 );\n\n      // t0 = first intersect point - entrance on front of sphere\n      var t0 = tca - thc;\n\n      // t1 = second intersect point - exit point on back of sphere\n      var t1 = tca + thc;\n\n      // test to see if both t0 and t1 are behind the ray - if so, return null\n      if ( t0 < 0 && t1 < 0 ) return null;\n\n      // test to see if t0 is behind the ray:\n      // if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n      // in order to always return an intersect point that is in front of the ray.\n      if ( t0 < 0 ) return this.at( t1, optionalTarget );\n\n      // else t0 is in front of the ray, so return the first collision point scaled by t0\n      return this.at( t0, optionalTarget );\n\n    };\n\n  }(),\n\n  intersectsSphere: function ( sphere ) {\n\n    return this.distanceToPoint( sphere.center ) <= sphere.radius;\n\n  },\n\n  distanceToPlane: function ( plane ) {\n\n    var denominator = plane.normal.dot( this.direction );\n\n    if ( denominator === 0 ) {\n\n      // line is coplanar, return origin\n      if ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n        return 0;\n\n      }\n\n      // Null is preferable to undefined since undefined means.... it is undefined\n\n      return null;\n\n    }\n\n    var t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n    // Return if the ray never intersects the plane\n\n    return t >= 0 ? t :  null;\n\n  },\n\n  intersectPlane: function ( plane, optionalTarget ) {\n\n    var t = this.distanceToPlane( plane );\n\n    if ( t === null ) {\n\n      return null;\n\n    }\n\n    return this.at( t, optionalTarget );\n\n  },\n\n  intersectsPlane: function ( plane ) {\n\n    // check if the ray lies on the plane first\n\n    var distToPoint = plane.distanceToPoint( this.origin );\n\n    if ( distToPoint === 0 ) {\n\n      return true;\n\n    }\n\n    var denominator = plane.normal.dot( this.direction );\n\n    if ( denominator * distToPoint < 0 ) {\n\n      return true;\n\n    }\n\n    // ray origin is behind the plane (and is pointing behind it)\n\n    return false;\n\n  },\n\n  intersectBox: function ( box, optionalTarget ) {\n\n    var tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n    var invdirx = 1 / this.direction.x,\n      invdiry = 1 / this.direction.y,\n      invdirz = 1 / this.direction.z;\n\n    var origin = this.origin;\n\n    if ( invdirx >= 0 ) {\n\n      tmin = ( box.min.x - origin.x ) * invdirx;\n      tmax = ( box.max.x - origin.x ) * invdirx;\n\n    } else {\n\n      tmin = ( box.max.x - origin.x ) * invdirx;\n      tmax = ( box.min.x - origin.x ) * invdirx;\n\n    }\n\n    if ( invdiry >= 0 ) {\n\n      tymin = ( box.min.y - origin.y ) * invdiry;\n      tymax = ( box.max.y - origin.y ) * invdiry;\n\n    } else {\n\n      tymin = ( box.max.y - origin.y ) * invdiry;\n      tymax = ( box.min.y - origin.y ) * invdiry;\n\n    }\n\n    if ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n    // These lines also handle the case where tmin or tmax is NaN\n    // (result of 0 * Infinity). x !== x returns true if x is NaN\n\n    if ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n    if ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n    if ( invdirz >= 0 ) {\n\n      tzmin = ( box.min.z - origin.z ) * invdirz;\n      tzmax = ( box.max.z - origin.z ) * invdirz;\n\n    } else {\n\n      tzmin = ( box.max.z - origin.z ) * invdirz;\n      tzmax = ( box.min.z - origin.z ) * invdirz;\n\n    }\n\n    if ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n    if ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n    if ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n    //return point closest to the ray (positive side)\n\n    if ( tmax < 0 ) return null;\n\n    return this.at( tmin >= 0 ? tmin : tmax, optionalTarget );\n\n  },\n\n  intersectsBox: ( function () {\n\n    var v = new Vector3();\n\n    return function intersectsBox( box ) {\n\n      return this.intersectBox( box, v ) !== null;\n\n    };\n\n  } )(),\n\n  intersectTriangle: function () {\n\n    // Compute the offset origin, edges, and normal.\n    var diff = new Vector3();\n    var edge1 = new Vector3();\n    var edge2 = new Vector3();\n    var normal = new Vector3();\n\n    return function intersectTriangle( a, b, c, backfaceCulling, optionalTarget ) {\n\n      // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n      edge1.subVectors( b, a );\n      edge2.subVectors( c, a );\n      normal.crossVectors( edge1, edge2 );\n\n      // Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n      // E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n      //   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n      //   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n      //   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n      var DdN = this.direction.dot( normal );\n      var sign;\n\n      if ( DdN > 0 ) {\n\n        if ( backfaceCulling ) return null;\n        sign = 1;\n\n      } else if ( DdN < 0 ) {\n\n        sign = - 1;\n        DdN = - DdN;\n\n      } else {\n\n        return null;\n\n      }\n\n      diff.subVectors( this.origin, a );\n      var DdQxE2 = sign * this.direction.dot( edge2.crossVectors( diff, edge2 ) );\n\n      // b1 < 0, no intersection\n      if ( DdQxE2 < 0 ) {\n\n        return null;\n\n      }\n\n      var DdE1xQ = sign * this.direction.dot( edge1.cross( diff ) );\n\n      // b2 < 0, no intersection\n      if ( DdE1xQ < 0 ) {\n\n        return null;\n\n      }\n\n      // b1+b2 > 1, no intersection\n      if ( DdQxE2 + DdE1xQ > DdN ) {\n\n        return null;\n\n      }\n\n      // Line intersects triangle, check if ray does.\n      var QdN = - sign * diff.dot( normal );\n\n      // t < 0, no intersection\n      if ( QdN < 0 ) {\n\n        return null;\n\n      }\n\n      // Ray intersects triangle.\n      return this.at( QdN / DdN, optionalTarget );\n\n    };\n\n  }(),\n\n  applyMatrix4: function ( matrix4 ) {\n\n    this.origin.applyMatrix4( matrix4 );\n    this.direction.transformDirection( matrix4 );\n\n    return this;\n\n  },\n\n  equals: function ( ray ) {\n\n    return ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n  }\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Line3( start, end ) {\n\n  this.start = ( start !== undefined ) ? start : new Vector3();\n  this.end = ( end !== undefined ) ? end : new Vector3();\n\n}\n\nObject.assign( Line3.prototype, {\n\n  set: function ( start, end ) {\n\n    this.start.copy( start );\n    this.end.copy( end );\n\n    return this;\n\n  },\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  copy: function ( line ) {\n\n    this.start.copy( line.start );\n    this.end.copy( line.end );\n\n    return this;\n\n  },\n\n  getCenter: function ( optionalTarget ) {\n\n    var result = optionalTarget || new Vector3();\n    return result.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n  },\n\n  delta: function ( optionalTarget ) {\n\n    var result = optionalTarget || new Vector3();\n    return result.subVectors( this.end, this.start );\n\n  },\n\n  distanceSq: function () {\n\n    return this.start.distanceToSquared( this.end );\n\n  },\n\n  distance: function () {\n\n    return this.start.distanceTo( this.end );\n\n  },\n\n  at: function ( t, optionalTarget ) {\n\n    var result = optionalTarget || new Vector3();\n\n    return this.delta( result ).multiplyScalar( t ).add( this.start );\n\n  },\n\n  closestPointToPointParameter: function () {\n\n    var startP = new Vector3();\n    var startEnd = new Vector3();\n\n    return function closestPointToPointParameter( point, clampToLine ) {\n\n      startP.subVectors( point, this.start );\n      startEnd.subVectors( this.end, this.start );\n\n      var startEnd2 = startEnd.dot( startEnd );\n      var startEnd_startP = startEnd.dot( startP );\n\n      var t = startEnd_startP / startEnd2;\n\n      if ( clampToLine ) {\n\n        t = _Math.clamp( t, 0, 1 );\n\n      }\n\n      return t;\n\n    };\n\n  }(),\n\n  closestPointToPoint: function ( point, clampToLine, optionalTarget ) {\n\n    var t = this.closestPointToPointParameter( point, clampToLine );\n\n    var result = optionalTarget || new Vector3();\n\n    return this.delta( result ).multiplyScalar( t ).add( this.start );\n\n  },\n\n  applyMatrix4: function ( matrix ) {\n\n    this.start.applyMatrix4( matrix );\n    this.end.applyMatrix4( matrix );\n\n    return this;\n\n  },\n\n  equals: function ( line ) {\n\n    return line.start.equals( this.start ) && line.end.equals( this.end );\n\n  }\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Triangle( a, b, c ) {\n\n  this.a = ( a !== undefined ) ? a : new Vector3();\n  this.b = ( b !== undefined ) ? b : new Vector3();\n  this.c = ( c !== undefined ) ? c : new Vector3();\n\n}\n\nObject.assign( Triangle, {\n\n  normal: function () {\n\n    var v0 = new Vector3();\n\n    return function normal( a, b, c, optionalTarget ) {\n\n      var result = optionalTarget || new Vector3();\n\n      result.subVectors( c, b );\n      v0.subVectors( a, b );\n      result.cross( v0 );\n\n      var resultLengthSq = result.lengthSq();\n      if ( resultLengthSq > 0 ) {\n\n        return result.multiplyScalar( 1 / Math.sqrt( resultLengthSq ) );\n\n      }\n\n      return result.set( 0, 0, 0 );\n\n    };\n\n  }(),\n\n  // static/instance method to calculate barycentric coordinates\n  // based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n  barycoordFromPoint: function () {\n\n    var v0 = new Vector3();\n    var v1 = new Vector3();\n    var v2 = new Vector3();\n\n    return function barycoordFromPoint( point, a, b, c, optionalTarget ) {\n\n      v0.subVectors( c, a );\n      v1.subVectors( b, a );\n      v2.subVectors( point, a );\n\n      var dot00 = v0.dot( v0 );\n      var dot01 = v0.dot( v1 );\n      var dot02 = v0.dot( v2 );\n      var dot11 = v1.dot( v1 );\n      var dot12 = v1.dot( v2 );\n\n      var denom = ( dot00 * dot11 - dot01 * dot01 );\n\n      var result = optionalTarget || new Vector3();\n\n      // collinear or singular triangle\n      if ( denom === 0 ) {\n\n        // arbitrary location outside of triangle?\n        // not sure if this is the best idea, maybe should be returning undefined\n        return result.set( - 2, - 1, - 1 );\n\n      }\n\n      var invDenom = 1 / denom;\n      var u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n      var v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n      // barycentric coordinates must always sum to 1\n      return result.set( 1 - u - v, v, u );\n\n    };\n\n  }(),\n\n  containsPoint: function () {\n\n    var v1 = new Vector3();\n\n    return function containsPoint( point, a, b, c ) {\n\n      var result = Triangle.barycoordFromPoint( point, a, b, c, v1 );\n\n      return ( result.x >= 0 ) && ( result.y >= 0 ) && ( ( result.x + result.y ) <= 1 );\n\n    };\n\n  }()\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n  set: function ( a, b, c ) {\n\n    this.a.copy( a );\n    this.b.copy( b );\n    this.c.copy( c );\n\n    return this;\n\n  },\n\n  setFromPointsAndIndices: function ( points, i0, i1, i2 ) {\n\n    this.a.copy( points[ i0 ] );\n    this.b.copy( points[ i1 ] );\n    this.c.copy( points[ i2 ] );\n\n    return this;\n\n  },\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  copy: function ( triangle ) {\n\n    this.a.copy( triangle.a );\n    this.b.copy( triangle.b );\n    this.c.copy( triangle.c );\n\n    return this;\n\n  },\n\n  area: function () {\n\n    var v0 = new Vector3();\n    var v1 = new Vector3();\n\n    return function area() {\n\n      v0.subVectors( this.c, this.b );\n      v1.subVectors( this.a, this.b );\n\n      return v0.cross( v1 ).length() * 0.5;\n\n    };\n\n  }(),\n\n  midpoint: function ( optionalTarget ) {\n\n    var result = optionalTarget || new Vector3();\n    return result.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n  },\n\n  normal: function ( optionalTarget ) {\n\n    return Triangle.normal( this.a, this.b, this.c, optionalTarget );\n\n  },\n\n  plane: function ( optionalTarget ) {\n\n    var result = optionalTarget || new Plane();\n\n    return result.setFromCoplanarPoints( this.a, this.b, this.c );\n\n  },\n\n  barycoordFromPoint: function ( point, optionalTarget ) {\n\n    return Triangle.barycoordFromPoint( point, this.a, this.b, this.c, optionalTarget );\n\n  },\n\n  containsPoint: function ( point ) {\n\n    return Triangle.containsPoint( point, this.a, this.b, this.c );\n\n  },\n\n  closestPointToPoint: function () {\n\n    var plane = new Plane();\n    var edgeList = [ new Line3(), new Line3(), new Line3() ];\n    var projectedPoint = new Vector3();\n    var closestPoint = new Vector3();\n\n    return function closestPointToPoint( point, optionalTarget ) {\n\n      var result = optionalTarget || new Vector3();\n      var minDistance = Infinity;\n\n      // project the point onto the plane of the triangle\n\n      plane.setFromCoplanarPoints( this.a, this.b, this.c );\n      plane.projectPoint( point, projectedPoint );\n\n      // check if the projection lies within the triangle\n\n      if( this.containsPoint( projectedPoint ) === true ) {\n\n        // if so, this is the closest point\n\n        result.copy( projectedPoint );\n\n      } else {\n\n        // if not, the point falls outside the triangle. the result is the closest point to the triangle's edges or vertices\n\n        edgeList[ 0 ].set( this.a, this.b );\n        edgeList[ 1 ].set( this.b, this.c );\n        edgeList[ 2 ].set( this.c, this.a );\n\n        for( var i = 0; i < edgeList.length; i ++ ) {\n\n          edgeList[ i ].closestPointToPoint( projectedPoint, true, closestPoint );\n\n          var distance = projectedPoint.distanceToSquared( closestPoint );\n\n          if( distance < minDistance ) {\n\n            minDistance = distance;\n\n            result.copy( closestPoint );\n\n          }\n\n        }\n\n      }\n\n      return result;\n\n    };\n\n  }(),\n\n  equals: function ( triangle ) {\n\n    return triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author jonobr1 / http://jonobr1.com/\n */\n\nfunction Mesh( geometry, material ) {\n\n  Object3D.call( this );\n\n  this.type = 'Mesh';\n\n  this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n  this.material = material !== undefined ? material : new MeshBasicMaterial( { color: Math.random() * 0xffffff } );\n\n  this.drawMode = TrianglesDrawMode;\n\n  this.updateMorphTargets();\n\n}\n\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n  constructor: Mesh,\n\n  isMesh: true,\n\n  setDrawMode: function ( value ) {\n\n    this.drawMode = value;\n\n  },\n\n  copy: function ( source ) {\n\n    Object3D.prototype.copy.call( this, source );\n\n    this.drawMode = source.drawMode;\n\n    return this;\n\n  },\n\n  updateMorphTargets: function () {\n\n    var geometry = this.geometry;\n    var m, ml, name;\n\n    if ( geometry.isBufferGeometry ) {\n\n      var morphAttributes = geometry.morphAttributes;\n      var keys = Object.keys( morphAttributes );\n\n      if ( keys.length > 0 ) {\n\n        var morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n        if ( morphAttribute !== undefined ) {\n\n          this.morphTargetInfluences = [];\n          this.morphTargetDictionary = {};\n\n          for ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n            name = morphAttribute[ m ].name || String( m );\n\n            this.morphTargetInfluences.push( 0 );\n            this.morphTargetDictionary[ name ] = m;\n\n          }\n\n        }\n\n      }\n\n    } else {\n\n      var morphTargets = geometry.morphTargets;\n\n      if ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n        this.morphTargetInfluences = [];\n        this.morphTargetDictionary = {};\n\n        for ( m = 0, ml = morphTargets.length; m < ml; m ++ ) {\n\n          name = morphTargets[ m ].name || String( m );\n\n          this.morphTargetInfluences.push( 0 );\n          this.morphTargetDictionary[ name ] = m;\n\n        }\n\n      }\n\n    }\n\n  },\n\n  raycast: ( function () {\n\n    var inverseMatrix = new Matrix4();\n    var ray = new Ray();\n    var sphere = new Sphere();\n\n    var vA = new Vector3();\n    var vB = new Vector3();\n    var vC = new Vector3();\n\n    var tempA = new Vector3();\n    var tempB = new Vector3();\n    var tempC = new Vector3();\n\n    var uvA = new Vector2();\n    var uvB = new Vector2();\n    var uvC = new Vector2();\n\n    var barycoord = new Vector3();\n\n    var intersectionPoint = new Vector3();\n    var intersectionPointWorld = new Vector3();\n\n    function uvIntersection( point, p1, p2, p3, uv1, uv2, uv3 ) {\n\n      Triangle.barycoordFromPoint( point, p1, p2, p3, barycoord );\n\n      uv1.multiplyScalar( barycoord.x );\n      uv2.multiplyScalar( barycoord.y );\n      uv3.multiplyScalar( barycoord.z );\n\n      uv1.add( uv2 ).add( uv3 );\n\n      return uv1.clone();\n\n    }\n\n    function checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n      var intersect;\n\n      if ( material.side === BackSide ) {\n\n        intersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n      } else {\n\n        intersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n      }\n\n      if ( intersect === null ) return null;\n\n      intersectionPointWorld.copy( point );\n      intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n      var distance = raycaster.ray.origin.distanceTo( intersectionPointWorld );\n\n      if ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n      return {\n        distance: distance,\n        point: intersectionPointWorld.clone(),\n        object: object\n      };\n\n    }\n\n    function checkBufferGeometryIntersection( object, raycaster, ray, position, uv, a, b, c ) {\n\n      vA.fromBufferAttribute( position, a );\n      vB.fromBufferAttribute( position, b );\n      vC.fromBufferAttribute( position, c );\n\n      var intersection = checkIntersection( object, object.material, raycaster, ray, vA, vB, vC, intersectionPoint );\n\n      if ( intersection ) {\n\n        if ( uv ) {\n\n          uvA.fromBufferAttribute( uv, a );\n          uvB.fromBufferAttribute( uv, b );\n          uvC.fromBufferAttribute( uv, c );\n\n          intersection.uv = uvIntersection( intersectionPoint, vA, vB, vC, uvA, uvB, uvC );\n\n        }\n\n        intersection.face = new Face3( a, b, c, Triangle.normal( vA, vB, vC ) );\n        intersection.faceIndex = a;\n\n      }\n\n      return intersection;\n\n    }\n\n    return function raycast( raycaster, intersects ) {\n\n      var geometry = this.geometry;\n      var material = this.material;\n      var matrixWorld = this.matrixWorld;\n\n      if ( material === undefined ) return;\n\n      // Checking boundingSphere distance to ray\n\n      if ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n      sphere.copy( geometry.boundingSphere );\n      sphere.applyMatrix4( matrixWorld );\n\n      if ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n      //\n\n      inverseMatrix.getInverse( matrixWorld );\n      ray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n      // Check boundingBox before continuing\n\n      if ( geometry.boundingBox !== null ) {\n\n        if ( ray.intersectsBox( geometry.boundingBox ) === false ) return;\n\n      }\n\n      var intersection;\n\n      if ( geometry.isBufferGeometry ) {\n\n        var a, b, c;\n        var index = geometry.index;\n        var position = geometry.attributes.position;\n        var uv = geometry.attributes.uv;\n        var i, l;\n\n        if ( index !== null ) {\n\n          // indexed buffer geometry\n\n          for ( i = 0, l = index.count; i < l; i += 3 ) {\n\n            a = index.getX( i );\n            b = index.getX( i + 1 );\n            c = index.getX( i + 2 );\n\n            intersection = checkBufferGeometryIntersection( this, raycaster, ray, position, uv, a, b, c );\n\n            if ( intersection ) {\n\n              intersection.faceIndex = Math.floor( i / 3 ); // triangle number in indices buffer semantics\n              intersects.push( intersection );\n\n            }\n\n          }\n\n        } else {\n\n          // non-indexed buffer geometry\n\n          for ( i = 0, l = position.count; i < l; i += 3 ) {\n\n            a = i;\n            b = i + 1;\n            c = i + 2;\n\n            intersection = checkBufferGeometryIntersection( this, raycaster, ray, position, uv, a, b, c );\n\n            if ( intersection ) {\n\n              intersection.index = a; // triangle number in positions buffer semantics\n              intersects.push( intersection );\n\n            }\n\n          }\n\n        }\n\n      } else if ( geometry.isGeometry ) {\n\n        var fvA, fvB, fvC;\n        var isMultiMaterial = Array.isArray( material );\n\n        var vertices = geometry.vertices;\n        var faces = geometry.faces;\n        var uvs;\n\n        var faceVertexUvs = geometry.faceVertexUvs[ 0 ];\n        if ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\n\n        for ( var f = 0, fl = faces.length; f < fl; f ++ ) {\n\n          var face = faces[ f ];\n          var faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\n\n          if ( faceMaterial === undefined ) continue;\n\n          fvA = vertices[ face.a ];\n          fvB = vertices[ face.b ];\n          fvC = vertices[ face.c ];\n\n          if ( faceMaterial.morphTargets === true ) {\n\n            var morphTargets = geometry.morphTargets;\n            var morphInfluences = this.morphTargetInfluences;\n\n            vA.set( 0, 0, 0 );\n            vB.set( 0, 0, 0 );\n            vC.set( 0, 0, 0 );\n\n            for ( var t = 0, tl = morphTargets.length; t < tl; t ++ ) {\n\n              var influence = morphInfluences[ t ];\n\n              if ( influence === 0 ) continue;\n\n              var targets = morphTargets[ t ].vertices;\n\n              vA.addScaledVector( tempA.subVectors( targets[ face.a ], fvA ), influence );\n              vB.addScaledVector( tempB.subVectors( targets[ face.b ], fvB ), influence );\n              vC.addScaledVector( tempC.subVectors( targets[ face.c ], fvC ), influence );\n\n            }\n\n            vA.add( fvA );\n            vB.add( fvB );\n            vC.add( fvC );\n\n            fvA = vA;\n            fvB = vB;\n            fvC = vC;\n\n          }\n\n          intersection = checkIntersection( this, faceMaterial, raycaster, ray, fvA, fvB, fvC, intersectionPoint );\n\n          if ( intersection ) {\n\n            if ( uvs && uvs[ f ] ) {\n\n              var uvs_f = uvs[ f ];\n              uvA.copy( uvs_f[ 0 ] );\n              uvB.copy( uvs_f[ 1 ] );\n              uvC.copy( uvs_f[ 2 ] );\n\n              intersection.uv = uvIntersection( intersectionPoint, fvA, fvB, fvC, uvA, uvB, uvC );\n\n            }\n\n            intersection.face = face;\n            intersection.faceIndex = f;\n            intersects.push( intersection );\n\n          }\n\n        }\n\n      }\n\n    };\n\n  }() ),\n\n  clone: function () {\n\n    return new this.constructor( this.geometry, this.material ).copy( this );\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBackground( renderer, state, geometries, premultipliedAlpha ) {\n\n  var clearColor = new Color( 0x000000 );\n  var clearAlpha = 0;\n\n  var planeCamera, planeMesh;\n  var boxMesh;\n\n  function render( renderList, scene, camera, forceClear ) {\n\n    var background = scene.background;\n\n    if ( background === null ) {\n\n      setClear( clearColor, clearAlpha );\n\n    } else if ( background && background.isColor ) {\n\n      setClear( background, 1 );\n      forceClear = true;\n\n    }\n\n    if ( renderer.autoClear || forceClear ) {\n\n      renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n    }\n\n    if ( background && background.isCubeTexture ) {\n\n      if ( boxMesh === undefined ) {\n\n        boxMesh = new Mesh(\n          new BoxBufferGeometry( 1, 1, 1 ),\n          new ShaderMaterial( {\n            uniforms: ShaderLib.cube.uniforms,\n            vertexShader: ShaderLib.cube.vertexShader,\n            fragmentShader: ShaderLib.cube.fragmentShader,\n            side: BackSide,\n            depthTest: true,\n            depthWrite: false,\n            polygonOffset: true,\n            fog: false\n          } )\n        );\n\n        boxMesh.geometry.removeAttribute( 'normal' );\n        boxMesh.geometry.removeAttribute( 'uv' );\n\n        boxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n          var scale = camera.far;\n\n          this.matrixWorld.makeScale( scale, scale, scale );\n          this.matrixWorld.copyPosition( camera.matrixWorld );\n\n          this.material.polygonOffsetUnits = scale * 10;\n\n        };\n\n        geometries.update( boxMesh.geometry );\n\n      }\n\n      boxMesh.material.uniforms.tCube.value = background;\n\n      renderList.push( boxMesh, boxMesh.geometry, boxMesh.material, 0, null );\n\n    } else if ( background && background.isTexture ) {\n\n      if ( planeCamera === undefined ) {\n\n        planeCamera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n        planeMesh = new Mesh(\n          new PlaneBufferGeometry( 2, 2 ),\n          new MeshBasicMaterial( { depthTest: false, depthWrite: false, fog: false } )\n        );\n\n        geometries.update( planeMesh.geometry );\n\n      }\n\n      planeMesh.material.map = background;\n\n      // TODO Push this to renderList\n\n      renderer.renderBufferDirect( planeCamera, null, planeMesh.geometry, planeMesh.material, planeMesh, null );\n\n    }\n\n  }\n\n  function setClear( color, alpha ) {\n\n    state.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n  }\n\n  return {\n\n    getClearColor: function () {\n\n      return clearColor;\n\n    },\n    setClearColor: function ( color, alpha ) {\n\n      clearColor.set( color );\n      clearAlpha = alpha !== undefined ? alpha : 1;\n      setClear( clearColor, clearAlpha );\n\n    },\n    getClearAlpha: function () {\n\n      return clearAlpha;\n\n    },\n    setClearAlpha: function ( alpha ) {\n\n      clearAlpha = alpha;\n      setClear( clearColor, clearAlpha );\n\n    },\n    render: render\n\n  };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction painterSortStable( a, b ) {\n\n  if ( a.renderOrder !== b.renderOrder ) {\n\n    return a.renderOrder - b.renderOrder;\n\n  } else if ( a.program && b.program && a.program !== b.program ) {\n\n    return a.program.id - b.program.id;\n\n  } else if ( a.material.id !== b.material.id ) {\n\n    return a.material.id - b.material.id;\n\n  } else if ( a.z !== b.z ) {\n\n    return a.z - b.z;\n\n  } else {\n\n    return a.id - b.id;\n\n  }\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n  if ( a.renderOrder !== b.renderOrder ) {\n\n    return a.renderOrder - b.renderOrder;\n\n  } if ( a.z !== b.z ) {\n\n    return b.z - a.z;\n\n  } else {\n\n    return a.id - b.id;\n\n  }\n\n}\n\nfunction WebGLRenderList() {\n\n  var renderItems = [];\n  var renderItemsIndex = 0;\n\n  var opaque = [];\n  var transparent = [];\n\n  function init() {\n\n    renderItemsIndex = 0;\n\n    opaque.length = 0;\n    transparent.length = 0;\n\n  }\n\n  function push( object, geometry, material, z, group ) {\n\n    var renderItem = renderItems[ renderItemsIndex ];\n\n    if ( renderItem === undefined ) {\n\n      renderItem = {\n        id: object.id,\n        object: object,\n        geometry: geometry,\n        material: material,\n        program: material.program,\n        renderOrder: object.renderOrder,\n        z: z,\n        group: group\n      };\n\n      renderItems[ renderItemsIndex ] = renderItem;\n\n    } else {\n\n      renderItem.id = object.id;\n      renderItem.object = object;\n      renderItem.geometry = geometry;\n      renderItem.material = material;\n      renderItem.program = material.program;\n      renderItem.renderOrder = object.renderOrder;\n      renderItem.z = z;\n      renderItem.group = group;\n\n    }\n\n    ( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n    renderItemsIndex ++;\n\n  }\n\n  function sort() {\n\n    if ( opaque.length > 1 ) opaque.sort( painterSortStable );\n    if ( transparent.length > 1 ) transparent.sort( reversePainterSortStable );\n\n  }\n\n  return {\n    opaque: opaque,\n    transparent: transparent,\n\n    init: init,\n    push: push,\n\n    sort: sort\n  };\n\n}\n\nfunction WebGLRenderLists() {\n\n  var lists = {};\n\n  function get( scene, camera ) {\n\n    var hash = scene.id + ',' + camera.id;\n    var list = lists[ hash ];\n\n    if ( list === undefined ) {\n\n      // console.log( 'THREE.WebGLRenderLists:', hash );\n\n      list = new WebGLRenderList();\n      lists[ hash ] = list;\n\n    }\n\n    return list;\n\n  }\n\n  function dispose() {\n\n    lists = {};\n\n  }\n\n  return {\n    get: get,\n    dispose: dispose\n  };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction absNumericalSort( a, b ) {\n\n  return Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n  var influencesList = {};\n  var morphInfluences = new Float32Array( 8 );\n\n  function update( object, geometry, material, program ) {\n\n    var objectInfluences = object.morphTargetInfluences;\n\n    var length = objectInfluences.length;\n\n    var influences = influencesList[ geometry.id ];\n\n    if ( influences === undefined ) {\n\n      // initialise list\n\n      influences = [];\n\n      for ( var i = 0; i < length; i ++ ) {\n\n        influences[ i ] = [ i, 0 ];\n\n      }\n\n      influencesList[ geometry.id ] = influences;\n\n    }\n\n    var morphTargets = material.morphTargets && geometry.morphAttributes.position;\n    var morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n    // Remove current morphAttributes\n\n    for ( var i = 0; i < length; i ++ ) {\n\n      var influence = influences[ i ];\n\n      if ( influence[ 1 ] !== 0 ) {\n\n        if ( morphTargets ) geometry.removeAttribute( 'morphTarget' + i );\n        if ( morphNormals ) geometry.removeAttribute( 'morphNormal' + i );\n\n      }\n\n    }\n\n    // Collect influences\n\n    for ( var i = 0; i < length; i ++ ) {\n\n      var influence = influences[ i ];\n\n      influence[ 0 ] = i;\n      influence[ 1 ] = objectInfluences[ i ];\n\n    }\n\n    influences.sort( absNumericalSort );\n\n    // Add morphAttributes\n\n    for ( var i = 0; i < 8; i ++ ) {\n\n      var influence = influences[ i ];\n\n      if ( influence ) {\n\n        var index = influence[ 0 ];\n        var value = influence[ 1 ];\n\n        if ( value ) {\n\n          if ( morphTargets ) geometry.addAttribute( 'morphTarget' + i, morphTargets[ index ] );\n          if ( morphNormals ) geometry.addAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n          morphInfluences[ i ] = value;\n          continue;\n\n        }\n\n      }\n\n      morphInfluences[ i ] = 0;\n\n    }\n\n    program.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n  }\n\n  return {\n\n    update: update\n\n  }\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, infoRender ) {\n\n  var mode;\n\n  function setMode( value ) {\n\n    mode = value;\n\n  }\n\n  var type, bytesPerElement;\n\n  function setIndex( value ) {\n\n    type = value.type;\n    bytesPerElement = value.bytesPerElement;\n\n  }\n\n  function render( start, count ) {\n\n    gl.drawElements( mode, count, type, start * bytesPerElement );\n\n    infoRender.calls ++;\n    infoRender.vertices += count;\n\n    if ( mode === gl.TRIANGLES ) infoRender.faces += count / 3;\n    else if ( mode === gl.POINTS ) infoRender.points += count;\n\n  }\n\n  function renderInstances( geometry, start, count ) {\n\n    var extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n    if ( extension === null ) {\n\n      console.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n      return;\n\n    }\n\n    extension.drawElementsInstancedANGLE( mode, count, type, start * bytesPerElement, geometry.maxInstancedCount );\n\n    infoRender.calls ++;\n    infoRender.vertices += count * geometry.maxInstancedCount;\n\n    if ( mode === gl.TRIANGLES ) infoRender.faces += geometry.maxInstancedCount * count / 3;\n    else if ( mode === gl.POINTS ) infoRender.points += geometry.maxInstancedCount * count;\n\n  }\n\n  //\n\n  this.setMode = setMode;\n  this.setIndex = setIndex;\n  this.render = render;\n  this.renderInstances = renderInstances;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBufferRenderer( gl, extensions, infoRender ) {\n\n  var mode;\n\n  function setMode( value ) {\n\n    mode = value;\n\n  }\n\n  function render( start, count ) {\n\n    gl.drawArrays( mode, start, count );\n\n    infoRender.calls ++;\n    infoRender.vertices += count;\n\n    if ( mode === gl.TRIANGLES ) infoRender.faces += count / 3;\n    else if ( mode === gl.POINTS ) infoRender.points += count;\n\n  }\n\n  function renderInstances( geometry, start, count ) {\n\n    var extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n    if ( extension === null ) {\n\n      console.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n      return;\n\n    }\n\n    var position = geometry.attributes.position;\n\n    if ( position.isInterleavedBufferAttribute ) {\n\n      count = position.data.count;\n\n      extension.drawArraysInstancedANGLE( mode, 0, count, geometry.maxInstancedCount );\n\n    } else {\n\n      extension.drawArraysInstancedANGLE( mode, start, count, geometry.maxInstancedCount );\n\n    }\n\n    infoRender.calls ++;\n    infoRender.vertices += count * geometry.maxInstancedCount;\n\n    if ( mode === gl.TRIANGLES ) infoRender.faces += geometry.maxInstancedCount * count / 3;\n    else if ( mode === gl.POINTS ) infoRender.points += geometry.maxInstancedCount * count;\n\n  }\n\n  //\n\n  this.setMode = setMode;\n  this.render = render;\n  this.renderInstances = renderInstances;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLGeometries( gl, attributes, infoMemory ) {\n\n  var geometries = {};\n  var wireframeAttributes = {};\n\n  function onGeometryDispose( event ) {\n\n    var geometry = event.target;\n    var buffergeometry = geometries[ geometry.id ];\n\n    if ( buffergeometry.index !== null ) {\n\n      attributes.remove( buffergeometry.index );\n\n    }\n\n    for ( var name in buffergeometry.attributes ) {\n\n      attributes.remove( buffergeometry.attributes[ name ] );\n\n    }\n\n    geometry.removeEventListener( 'dispose', onGeometryDispose );\n\n    delete geometries[ geometry.id ];\n\n    // TODO Remove duplicate code\n\n    var attribute = wireframeAttributes[ geometry.id ];\n\n    if ( attribute ) {\n\n      attributes.remove( attribute );\n      delete wireframeAttributes[ geometry.id ];\n\n    }\n\n    attribute = wireframeAttributes[ buffergeometry.id ];\n\n    if ( attribute ) {\n\n      attributes.remove( attribute );\n      delete wireframeAttributes[ buffergeometry.id ];\n\n    }\n\n    //\n\n    infoMemory.geometries --;\n\n  }\n\n  function get( object, geometry ) {\n\n    var buffergeometry = geometries[ geometry.id ];\n\n    if ( buffergeometry ) return buffergeometry;\n\n    geometry.addEventListener( 'dispose', onGeometryDispose );\n\n    if ( geometry.isBufferGeometry ) {\n\n      buffergeometry = geometry;\n\n    } else if ( geometry.isGeometry ) {\n\n      if ( geometry._bufferGeometry === undefined ) {\n\n        geometry._bufferGeometry = new BufferGeometry().setFromObject( object );\n\n      }\n\n      buffergeometry = geometry._bufferGeometry;\n\n    }\n\n    geometries[ geometry.id ] = buffergeometry;\n\n    infoMemory.geometries ++;\n\n    return buffergeometry;\n\n  }\n\n  function update( geometry ) {\n\n    var index = geometry.index;\n    var geometryAttributes = geometry.attributes;\n\n    if ( index !== null ) {\n\n      attributes.update( index, gl.ELEMENT_ARRAY_BUFFER );\n\n    }\n\n    for ( var name in geometryAttributes ) {\n\n      attributes.update( geometryAttributes[ name ], gl.ARRAY_BUFFER );\n\n    }\n\n    // morph targets\n\n    var morphAttributes = geometry.morphAttributes;\n\n    for ( var name in morphAttributes ) {\n\n      var array = morphAttributes[ name ];\n\n      for ( var i = 0, l = array.length; i < l; i ++ ) {\n\n        attributes.update( array[ i ], gl.ARRAY_BUFFER );\n\n      }\n\n    }\n\n  }\n\n  function getWireframeAttribute( geometry ) {\n\n    var attribute = wireframeAttributes[ geometry.id ];\n\n    if ( attribute ) return attribute;\n\n    var indices = [];\n\n    var geometryIndex = geometry.index;\n    var geometryAttributes = geometry.attributes;\n\n    // console.time( 'wireframe' );\n\n    if ( geometryIndex !== null ) {\n\n      var array = geometryIndex.array;\n\n      for ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n        var a = array[ i + 0 ];\n        var b = array[ i + 1 ];\n        var c = array[ i + 2 ];\n\n        indices.push( a, b, b, c, c, a );\n\n      }\n\n    } else {\n\n      var array = geometryAttributes.position.array;\n\n      for ( var i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n        var a = i + 0;\n        var b = i + 1;\n        var c = i + 2;\n\n        indices.push( a, b, b, c, c, a );\n\n      }\n\n    }\n\n    // console.timeEnd( 'wireframe' );\n\n    attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\n    attributes.update( attribute, gl.ELEMENT_ARRAY_BUFFER );\n\n    wireframeAttributes[ geometry.id ] = attribute;\n\n    return attribute;\n\n  }\n\n  return {\n\n    get: get,\n    update: update,\n\n    getWireframeAttribute: getWireframeAttribute\n\n  };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction UniformsCache() {\n\n  var lights = {};\n\n  return {\n\n    get: function ( light ) {\n\n      if ( lights[ light.id ] !== undefined ) {\n\n        return lights[ light.id ];\n\n      }\n\n      var uniforms;\n\n      switch ( light.type ) {\n\n        case 'DirectionalLight':\n          uniforms = {\n            direction: new Vector3(),\n            color: new Color(),\n\n            shadow: false,\n            shadowBias: 0,\n            shadowRadius: 1,\n            shadowMapSize: new Vector2()\n          };\n          break;\n\n        case 'SpotLight':\n          uniforms = {\n            position: new Vector3(),\n            direction: new Vector3(),\n            color: new Color(),\n            distance: 0,\n            coneCos: 0,\n            penumbraCos: 0,\n            decay: 0,\n\n            shadow: false,\n            shadowBias: 0,\n            shadowRadius: 1,\n            shadowMapSize: new Vector2()\n          };\n          break;\n\n        case 'PointLight':\n          uniforms = {\n            position: new Vector3(),\n            color: new Color(),\n            distance: 0,\n            decay: 0,\n\n            shadow: false,\n            shadowBias: 0,\n            shadowRadius: 1,\n            shadowMapSize: new Vector2(),\n            shadowCameraNear: 1,\n            shadowCameraFar: 1000\n          };\n          break;\n\n        case 'HemisphereLight':\n          uniforms = {\n            direction: new Vector3(),\n            skyColor: new Color(),\n            groundColor: new Color()\n          };\n          break;\n\n        case 'RectAreaLight':\n          uniforms = {\n            color: new Color(),\n            position: new Vector3(),\n            halfWidth: new Vector3(),\n            halfHeight: new Vector3()\n            // TODO (abelnation): set RectAreaLight shadow uniforms\n          };\n          break;\n\n      }\n\n      lights[ light.id ] = uniforms;\n\n      return uniforms;\n\n    }\n\n  };\n\n}\n\nfunction WebGLLights() {\n\n  var cache = new UniformsCache();\n\n  var state = {\n\n    hash: '',\n\n    ambient: [ 0, 0, 0 ],\n    directional: [],\n    directionalShadowMap: [],\n    directionalShadowMatrix: [],\n    spot: [],\n    spotShadowMap: [],\n    spotShadowMatrix: [],\n    rectArea: [],\n    point: [],\n    pointShadowMap: [],\n    pointShadowMatrix: [],\n    hemi: []\n\n  };\n\n  var vector3 = new Vector3();\n  var matrix4 = new Matrix4();\n  var matrix42 = new Matrix4();\n\n  function setup( lights, shadows, camera ) {\n\n    var r = 0, g = 0, b = 0;\n\n    var directionalLength = 0;\n    var pointLength = 0;\n    var spotLength = 0;\n    var rectAreaLength = 0;\n    var hemiLength = 0;\n\n    var viewMatrix = camera.matrixWorldInverse;\n\n    for ( var i = 0, l = lights.length; i < l; i ++ ) {\n\n      var light = lights[ i ];\n\n      var color = light.color;\n      var intensity = light.intensity;\n      var distance = light.distance;\n\n      var shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n      if ( light.isAmbientLight ) {\n\n        r += color.r * intensity;\n        g += color.g * intensity;\n        b += color.b * intensity;\n\n      } else if ( light.isDirectionalLight ) {\n\n        var uniforms = cache.get( light );\n\n        uniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n        uniforms.direction.setFromMatrixPosition( light.matrixWorld );\n        vector3.setFromMatrixPosition( light.target.matrixWorld );\n        uniforms.direction.sub( vector3 );\n        uniforms.direction.transformDirection( viewMatrix );\n\n        uniforms.shadow = light.castShadow;\n\n        if ( light.castShadow ) {\n\n          var shadow = light.shadow;\n\n          uniforms.shadowBias = shadow.bias;\n          uniforms.shadowRadius = shadow.radius;\n          uniforms.shadowMapSize = shadow.mapSize;\n\n        }\n\n        state.directionalShadowMap[ directionalLength ] = shadowMap;\n        state.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n        state.directional[ directionalLength ] = uniforms;\n\n        directionalLength ++;\n\n      } else if ( light.isSpotLight ) {\n\n        var uniforms = cache.get( light );\n\n        uniforms.position.setFromMatrixPosition( light.matrixWorld );\n        uniforms.position.applyMatrix4( viewMatrix );\n\n        uniforms.color.copy( color ).multiplyScalar( intensity );\n        uniforms.distance = distance;\n\n        uniforms.direction.setFromMatrixPosition( light.matrixWorld );\n        vector3.setFromMatrixPosition( light.target.matrixWorld );\n        uniforms.direction.sub( vector3 );\n        uniforms.direction.transformDirection( viewMatrix );\n\n        uniforms.coneCos = Math.cos( light.angle );\n        uniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n        uniforms.decay = ( light.distance === 0 ) ? 0.0 : light.decay;\n\n        uniforms.shadow = light.castShadow;\n\n        if ( light.castShadow ) {\n\n          var shadow = light.shadow;\n\n          uniforms.shadowBias = shadow.bias;\n          uniforms.shadowRadius = shadow.radius;\n          uniforms.shadowMapSize = shadow.mapSize;\n\n        }\n\n        state.spotShadowMap[ spotLength ] = shadowMap;\n        state.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n        state.spot[ spotLength ] = uniforms;\n\n        spotLength ++;\n\n      } else if ( light.isRectAreaLight ) {\n\n        var uniforms = cache.get( light );\n\n        // (a) intensity controls irradiance of entire light\n        uniforms.color\n          .copy( color )\n          .multiplyScalar( intensity / ( light.width * light.height ) );\n\n        // (b) intensity controls the radiance per light area\n        // uniforms.color.copy( color ).multiplyScalar( intensity );\n\n        uniforms.position.setFromMatrixPosition( light.matrixWorld );\n        uniforms.position.applyMatrix4( viewMatrix );\n\n        // extract local rotation of light to derive width/height half vectors\n        matrix42.identity();\n        matrix4.copy( light.matrixWorld );\n        matrix4.premultiply( viewMatrix );\n        matrix42.extractRotation( matrix4 );\n\n        uniforms.halfWidth.set( light.width * 0.5,                0.0, 0.0 );\n        uniforms.halfHeight.set(              0.0, light.height * 0.5, 0.0 );\n\n        uniforms.halfWidth.applyMatrix4( matrix42 );\n        uniforms.halfHeight.applyMatrix4( matrix42 );\n\n        // TODO (abelnation): RectAreaLight distance?\n        // uniforms.distance = distance;\n\n        state.rectArea[ rectAreaLength ] = uniforms;\n\n        rectAreaLength ++;\n\n      } else if ( light.isPointLight ) {\n\n        var uniforms = cache.get( light );\n\n        uniforms.position.setFromMatrixPosition( light.matrixWorld );\n        uniforms.position.applyMatrix4( viewMatrix );\n\n        uniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n        uniforms.distance = light.distance;\n        uniforms.decay = ( light.distance === 0 ) ? 0.0 : light.decay;\n\n        uniforms.shadow = light.castShadow;\n\n        if ( light.castShadow ) {\n\n          var shadow = light.shadow;\n\n          uniforms.shadowBias = shadow.bias;\n          uniforms.shadowRadius = shadow.radius;\n          uniforms.shadowMapSize = shadow.mapSize;\n          uniforms.shadowCameraNear = shadow.camera.near;\n          uniforms.shadowCameraFar = shadow.camera.far;\n\n        }\n\n        state.pointShadowMap[ pointLength ] = shadowMap;\n        state.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n        state.point[ pointLength ] = uniforms;\n\n        pointLength ++;\n\n      } else if ( light.isHemisphereLight ) {\n\n        var uniforms = cache.get( light );\n\n        uniforms.direction.setFromMatrixPosition( light.matrixWorld );\n        uniforms.direction.transformDirection( viewMatrix );\n        uniforms.direction.normalize();\n\n        uniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n        uniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n        state.hemi[ hemiLength ] = uniforms;\n\n        hemiLength ++;\n\n      }\n\n    }\n\n    state.ambient[ 0 ] = r;\n    state.ambient[ 1 ] = g;\n    state.ambient[ 2 ] = b;\n\n    state.directional.length = directionalLength;\n    state.spot.length = spotLength;\n    state.rectArea.length = rectAreaLength;\n    state.point.length = pointLength;\n    state.hemi.length = hemiLength;\n\n    // TODO (sam-g-steel) why aren't we using join\n    state.hash = directionalLength + ',' + pointLength + ',' + spotLength + ',' + rectAreaLength + ',' + hemiLength + ',' + shadows.length;\n\n  }\n\n  return {\n    setup: setup,\n    state: state\n  }\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLObjects( geometries, infoRender ) {\n\n  var updateList = {};\n\n  function update( object ) {\n\n    var frame = infoRender.frame;\n\n    var geometry = object.geometry;\n    var buffergeometry = geometries.get( object, geometry );\n\n    // Update once per frame\n\n    if ( updateList[ buffergeometry.id ] !== frame ) {\n\n      if ( geometry.isGeometry ) {\n\n        buffergeometry.updateFromObject( object );\n\n      }\n\n      geometries.update( buffergeometry );\n\n      updateList[ buffergeometry.id ] = frame;\n\n    }\n\n    return buffergeometry;\n\n  }\n\n  function clear() {\n\n    updateList = {};\n\n  }\n\n  return {\n\n    update: update,\n    clear: clear\n\n  };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction addLineNumbers( string ) {\n\n  var lines = string.split( '\\n' );\n\n  for ( var i = 0; i < lines.length; i ++ ) {\n\n    lines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n  }\n\n  return lines.join( '\\n' );\n\n}\n\nfunction WebGLShader( gl, type, string ) {\n\n  var shader = gl.createShader( type );\n\n  gl.shaderSource( shader, string );\n  gl.compileShader( shader );\n\n  if ( gl.getShaderParameter( shader, gl.COMPILE_STATUS ) === false ) {\n\n    console.error( 'THREE.WebGLShader: Shader couldn\\'t compile.' );\n\n  }\n\n  if ( gl.getShaderInfoLog( shader ) !== '' ) {\n\n    console.warn( 'THREE.WebGLShader: gl.getShaderInfoLog()', type === gl.VERTEX_SHADER ? 'vertex' : 'fragment', gl.getShaderInfoLog( shader ), addLineNumbers( string ) );\n\n  }\n\n  // --enable-privileged-webgl-extension\n  // console.log( type, gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n  return shader;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar programIdCount = 0;\n\nfunction getEncodingComponents( encoding ) {\n\n  switch ( encoding ) {\n\n    case LinearEncoding:\n      return [ 'Linear','( value )' ];\n    case sRGBEncoding:\n      return [ 'sRGB','( value )' ];\n    case RGBEEncoding:\n      return [ 'RGBE','( value )' ];\n    case RGBM7Encoding:\n      return [ 'RGBM','( value, 7.0 )' ];\n    case RGBM16Encoding:\n      return [ 'RGBM','( value, 16.0 )' ];\n    case RGBDEncoding:\n      return [ 'RGBD','( value, 256.0 )' ];\n    case GammaEncoding:\n      return [ 'Gamma','( value, float( GAMMA_FACTOR ) )' ];\n    default:\n      throw new Error( 'unsupported encoding: ' + encoding );\n\n  }\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n  var components = getEncodingComponents( encoding );\n  return \"vec4 \" + functionName + \"( vec4 value ) { return \" + components[ 0 ] + \"ToLinear\" + components[ 1 ] + \"; }\";\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n  var components = getEncodingComponents( encoding );\n  return \"vec4 \" + functionName + \"( vec4 value ) { return LinearTo\" + components[ 0 ] + components[ 1 ] + \"; }\";\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n  var toneMappingName;\n\n  switch ( toneMapping ) {\n\n    case LinearToneMapping:\n      toneMappingName = \"Linear\";\n      break;\n\n    case ReinhardToneMapping:\n      toneMappingName = \"Reinhard\";\n      break;\n\n    case Uncharted2ToneMapping:\n      toneMappingName = \"Uncharted2\";\n      break;\n\n    case CineonToneMapping:\n      toneMappingName = \"OptimizedCineon\";\n      break;\n\n    default:\n      throw new Error( 'unsupported toneMapping: ' + toneMapping );\n\n  }\n\n  return \"vec3 \" + functionName + \"( vec3 color ) { return \" + toneMappingName + \"ToneMapping( color ); }\";\n\n}\n\nfunction generateExtensions( extensions, parameters, rendererExtensions ) {\n\n  extensions = extensions || {};\n\n  var chunks = [\n    ( extensions.derivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.normalMap || parameters.flatShading ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n    ( extensions.fragDepth || parameters.logarithmicDepthBuffer ) && rendererExtensions.get( 'EXT_frag_depth' ) ? '#extension GL_EXT_frag_depth : enable' : '',\n    ( extensions.drawBuffers ) && rendererExtensions.get( 'WEBGL_draw_buffers' ) ? '#extension GL_EXT_draw_buffers : require' : '',\n    ( extensions.shaderTextureLOD || parameters.envMap ) && rendererExtensions.get( 'EXT_shader_texture_lod' ) ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n  ];\n\n  return chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n  var chunks = [];\n\n  for ( var name in defines ) {\n\n    var value = defines[ name ];\n\n    if ( value === false ) continue;\n\n    chunks.push( '#define ' + name + ' ' + value );\n\n  }\n\n  return chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program, identifiers ) {\n\n  var attributes = {};\n\n  var n = gl.getProgramParameter( program, gl.ACTIVE_ATTRIBUTES );\n\n  for ( var i = 0; i < n; i ++ ) {\n\n    var info = gl.getActiveAttrib( program, i );\n    var name = info.name;\n\n    // console.log(\"THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:\", name, i );\n\n    attributes[ name ] = gl.getAttribLocation( program, name );\n\n  }\n\n  return attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n  return string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n  return string\n    .replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n    .replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n    .replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n    .replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n    .replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights );\n\n}\n\nfunction parseIncludes( string ) {\n\n  var pattern = /^[ \\t]*#include +<([\\w\\d.]+)>/gm;\n\n  function replace( match, include ) {\n\n    var replace = ShaderChunk[ include ];\n\n    if ( replace === undefined ) {\n\n      throw new Error( 'Can not resolve #include <' + include + '>' );\n\n    }\n\n    return parseIncludes( replace );\n\n  }\n\n  return string.replace( pattern, replace );\n\n}\n\nfunction unrollLoops( string ) {\n\n  var pattern = /for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\n  function replace( match, start, end, snippet ) {\n\n    var unroll = '';\n\n    for ( var i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n      unroll += snippet.replace( /\\[ i \\]/g, '[ ' + i + ' ]' );\n\n    }\n\n    return unroll;\n\n  }\n\n  return string.replace( pattern, replace );\n\n}\n\nfunction WebGLProgram( renderer, extensions, code, material, shader, parameters ) {\n\n  var gl = renderer.context;\n\n  var defines = material.defines;\n\n  var vertexShader = shader.vertexShader;\n  var fragmentShader = shader.fragmentShader;\n\n  var shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n  if ( parameters.shadowMapType === PCFShadowMap ) {\n\n    shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n  } else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n    shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n  }\n\n  var envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n  var envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n  var envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\n  if ( parameters.envMap ) {\n\n    switch ( material.envMap.mapping ) {\n\n      case CubeReflectionMapping:\n      case CubeRefractionMapping:\n        envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n        break;\n\n      case CubeUVReflectionMapping:\n      case CubeUVRefractionMapping:\n        envMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n        break;\n\n      case EquirectangularReflectionMapping:\n      case EquirectangularRefractionMapping:\n        envMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n        break;\n\n      case SphericalReflectionMapping:\n        envMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\n        break;\n\n    }\n\n    switch ( material.envMap.mapping ) {\n\n      case CubeRefractionMapping:\n      case EquirectangularRefractionMapping:\n        envMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n        break;\n\n    }\n\n    switch ( material.combine ) {\n\n      case MultiplyOperation:\n        envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n        break;\n\n      case MixOperation:\n        envMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n        break;\n\n      case AddOperation:\n        envMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n        break;\n\n    }\n\n  }\n\n  var gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n  // console.log( 'building new program ' );\n\n  //\n\n  var customExtensions = generateExtensions( material.extensions, parameters, extensions );\n\n  var customDefines = generateDefines( defines );\n\n  //\n\n  var program = gl.createProgram();\n\n  var prefixVertex, prefixFragment;\n\n  if ( material.isRawShaderMaterial ) {\n\n    prefixVertex = [\n\n      customDefines,\n\n      '\\n'\n\n    ].filter( filterEmptyLine ).join( '\\n' );\n\n    prefixFragment = [\n\n      customExtensions,\n      customDefines,\n\n      '\\n'\n\n    ].filter( filterEmptyLine ).join( '\\n' );\n\n  } else {\n\n    prefixVertex = [\n\n      'precision ' + parameters.precision + ' float;',\n      'precision ' + parameters.precision + ' int;',\n\n      '#define SHADER_NAME ' + shader.name,\n\n      customDefines,\n\n      parameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n      '#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n      '#define MAX_BONES ' + parameters.maxBones,\n      ( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n      ( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\n\n      parameters.map ? '#define USE_MAP' : '',\n      parameters.envMap ? '#define USE_ENVMAP' : '',\n      parameters.envMap ? '#define ' + envMapModeDefine : '',\n      parameters.lightMap ? '#define USE_LIGHTMAP' : '',\n      parameters.aoMap ? '#define USE_AOMAP' : '',\n      parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n      parameters.bumpMap ? '#define USE_BUMPMAP' : '',\n      parameters.normalMap ? '#define USE_NORMALMAP' : '',\n      parameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n      parameters.specularMap ? '#define USE_SPECULARMAP' : '',\n      parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n      parameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n      parameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n      parameters.vertexColors ? '#define USE_COLOR' : '',\n\n      parameters.flatShading ? '#define FLAT_SHADED' : '',\n\n      parameters.skinning ? '#define USE_SKINNING' : '',\n      parameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n      parameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n      parameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n      parameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n      parameters.flipSided ? '#define FLIP_SIDED' : '',\n\n      '#define NUM_CLIPPING_PLANES ' + parameters.numClippingPlanes,\n\n      parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n      parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n      parameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n      parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n      parameters.logarithmicDepthBuffer && extensions.get( 'EXT_frag_depth' ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n      'uniform mat4 modelMatrix;',\n      'uniform mat4 modelViewMatrix;',\n      'uniform mat4 projectionMatrix;',\n      'uniform mat4 viewMatrix;',\n      'uniform mat3 normalMatrix;',\n      'uniform vec3 cameraPosition;',\n\n      'attribute vec3 position;',\n      'attribute vec3 normal;',\n      'attribute vec2 uv;',\n\n      '#ifdef USE_COLOR',\n\n      '\tattribute vec3 color;',\n\n      '#endif',\n\n      '#ifdef USE_MORPHTARGETS',\n\n      '\tattribute vec3 morphTarget0;',\n      '\tattribute vec3 morphTarget1;',\n      '\tattribute vec3 morphTarget2;',\n      '\tattribute vec3 morphTarget3;',\n\n      '\t#ifdef USE_MORPHNORMALS',\n\n      '\t\tattribute vec3 morphNormal0;',\n      '\t\tattribute vec3 morphNormal1;',\n      '\t\tattribute vec3 morphNormal2;',\n      '\t\tattribute vec3 morphNormal3;',\n\n      '\t#else',\n\n      '\t\tattribute vec3 morphTarget4;',\n      '\t\tattribute vec3 morphTarget5;',\n      '\t\tattribute vec3 morphTarget6;',\n      '\t\tattribute vec3 morphTarget7;',\n\n      '\t#endif',\n\n      '#endif',\n\n      '#ifdef USE_SKINNING',\n\n      '\tattribute vec4 skinIndex;',\n      '\tattribute vec4 skinWeight;',\n\n      '#endif',\n\n      '\\n'\n\n    ].filter( filterEmptyLine ).join( '\\n' );\n\n    prefixFragment = [\n\n      customExtensions,\n\n      'precision ' + parameters.precision + ' float;',\n      'precision ' + parameters.precision + ' int;',\n\n      '#define SHADER_NAME ' + shader.name,\n\n      customDefines,\n\n      parameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest : '',\n\n      '#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n      ( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n      ( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\n\n      parameters.map ? '#define USE_MAP' : '',\n      parameters.envMap ? '#define USE_ENVMAP' : '',\n      parameters.envMap ? '#define ' + envMapTypeDefine : '',\n      parameters.envMap ? '#define ' + envMapModeDefine : '',\n      parameters.envMap ? '#define ' + envMapBlendingDefine : '',\n      parameters.lightMap ? '#define USE_LIGHTMAP' : '',\n      parameters.aoMap ? '#define USE_AOMAP' : '',\n      parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n      parameters.bumpMap ? '#define USE_BUMPMAP' : '',\n      parameters.normalMap ? '#define USE_NORMALMAP' : '',\n      parameters.specularMap ? '#define USE_SPECULARMAP' : '',\n      parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n      parameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n      parameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n      parameters.vertexColors ? '#define USE_COLOR' : '',\n\n      parameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n      parameters.flatShading ? '#define FLAT_SHADED' : '',\n\n      parameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n      parameters.flipSided ? '#define FLIP_SIDED' : '',\n\n      '#define NUM_CLIPPING_PLANES ' + parameters.numClippingPlanes,\n      '#define UNION_CLIPPING_PLANES ' + (parameters.numClippingPlanes - parameters.numClipIntersection),\n\n      parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n      parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n      parameters.premultipliedAlpha ? \"#define PREMULTIPLIED_ALPHA\" : '',\n\n      parameters.physicallyCorrectLights ? \"#define PHYSICALLY_CORRECT_LIGHTS\" : '',\n\n      parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n      parameters.logarithmicDepthBuffer && extensions.get( 'EXT_frag_depth' ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n      parameters.envMap && extensions.get( 'EXT_shader_texture_lod' ) ? '#define TEXTURE_LOD_EXT' : '',\n\n      'uniform mat4 viewMatrix;',\n      'uniform vec3 cameraPosition;',\n\n      ( parameters.toneMapping !== NoToneMapping ) ? \"#define TONE_MAPPING\" : '',\n      ( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '',  // this code is required here because it is used by the toneMapping() function defined below\n      ( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( \"toneMapping\", parameters.toneMapping ) : '',\n\n      parameters.dithering ? '#define DITHERING' : '',\n\n      ( parameters.outputEncoding || parameters.mapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding ) ? ShaderChunk[ 'encodings_pars_fragment' ] : '', // this code is required here because it is used by the various encoding/decoding function defined below\n      parameters.mapEncoding ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n      parameters.envMapEncoding ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n      parameters.emissiveMapEncoding ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n      parameters.outputEncoding ? getTexelEncodingFunction( \"linearToOutputTexel\", parameters.outputEncoding ) : '',\n\n      parameters.depthPacking ? \"#define DEPTH_PACKING \" + material.depthPacking : '',\n\n      '\\n'\n\n    ].filter( filterEmptyLine ).join( '\\n' );\n\n  }\n\n  vertexShader = parseIncludes( vertexShader );\n  vertexShader = replaceLightNums( vertexShader, parameters );\n\n  fragmentShader = parseIncludes( fragmentShader );\n  fragmentShader = replaceLightNums( fragmentShader, parameters );\n\n  if ( ! material.isShaderMaterial ) {\n\n    vertexShader = unrollLoops( vertexShader );\n    fragmentShader = unrollLoops( fragmentShader );\n\n  }\n\n  var vertexGlsl = prefixVertex + vertexShader;\n  var fragmentGlsl = prefixFragment + fragmentShader;\n\n  // console.log( '*VERTEX*', vertexGlsl );\n  // console.log( '*FRAGMENT*', fragmentGlsl );\n\n  var glVertexShader = WebGLShader( gl, gl.VERTEX_SHADER, vertexGlsl );\n  var glFragmentShader = WebGLShader( gl, gl.FRAGMENT_SHADER, fragmentGlsl );\n\n  gl.attachShader( program, glVertexShader );\n  gl.attachShader( program, glFragmentShader );\n\n  // Force a particular attribute to index 0.\n\n  if ( material.index0AttributeName !== undefined ) {\n\n    gl.bindAttribLocation( program, 0, material.index0AttributeName );\n\n  } else if ( parameters.morphTargets === true ) {\n\n    // programs with morphTargets displace position out of attribute 0\n    gl.bindAttribLocation( program, 0, 'position' );\n\n  }\n\n  gl.linkProgram( program );\n\n  var programLog = gl.getProgramInfoLog( program );\n  var vertexLog = gl.getShaderInfoLog( glVertexShader );\n  var fragmentLog = gl.getShaderInfoLog( glFragmentShader );\n\n  var runnable = true;\n  var haveDiagnostics = true;\n\n  // console.log( '**VERTEX**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glVertexShader ) );\n  // console.log( '**FRAGMENT**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glFragmentShader ) );\n\n  if ( gl.getProgramParameter( program, gl.LINK_STATUS ) === false ) {\n\n    runnable = false;\n\n    console.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), 'gl.VALIDATE_STATUS', gl.getProgramParameter( program, gl.VALIDATE_STATUS ), 'gl.getProgramInfoLog', programLog, vertexLog, fragmentLog );\n\n  } else if ( programLog !== '' ) {\n\n    console.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n  } else if ( vertexLog === '' || fragmentLog === '' ) {\n\n    haveDiagnostics = false;\n\n  }\n\n  if ( haveDiagnostics ) {\n\n    this.diagnostics = {\n\n      runnable: runnable,\n      material: material,\n\n      programLog: programLog,\n\n      vertexShader: {\n\n        log: vertexLog,\n        prefix: prefixVertex\n\n      },\n\n      fragmentShader: {\n\n        log: fragmentLog,\n        prefix: prefixFragment\n\n      }\n\n    };\n\n  }\n\n  // clean up\n\n  gl.deleteShader( glVertexShader );\n  gl.deleteShader( glFragmentShader );\n\n  // set up caching for uniform locations\n\n  var cachedUniforms;\n\n  this.getUniforms = function () {\n\n    if ( cachedUniforms === undefined ) {\n\n      cachedUniforms = new WebGLUniforms( gl, program, renderer );\n\n    }\n\n    return cachedUniforms;\n\n  };\n\n  // set up caching for attribute locations\n\n  var cachedAttributes;\n\n  this.getAttributes = function () {\n\n    if ( cachedAttributes === undefined ) {\n\n      cachedAttributes = fetchAttributeLocations( gl, program );\n\n    }\n\n    return cachedAttributes;\n\n  };\n\n  // free resource\n\n  this.destroy = function() {\n\n    gl.deleteProgram( program );\n    this.program = undefined;\n\n  };\n\n  // DEPRECATED\n\n  Object.defineProperties( this, {\n\n    uniforms: {\n      get: function() {\n\n        console.warn( 'THREE.WebGLProgram: .uniforms is now .getUniforms().' );\n        return this.getUniforms();\n\n      }\n    },\n\n    attributes: {\n      get: function() {\n\n        console.warn( 'THREE.WebGLProgram: .attributes is now .getAttributes().' );\n        return this.getAttributes();\n\n      }\n    }\n\n  } );\n\n\n  //\n\n  this.id = programIdCount ++;\n  this.code = code;\n  this.usedTimes = 1;\n  this.program = program;\n  this.vertexShader = glVertexShader;\n  this.fragmentShader = glFragmentShader;\n\n  return this;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLPrograms( renderer, extensions, capabilities ) {\n\n  var programs = [];\n\n  var shaderIDs = {\n    MeshDepthMaterial: 'depth',\n    MeshDistanceMaterial: 'distanceRGBA',\n    MeshNormalMaterial: 'normal',\n    MeshBasicMaterial: 'basic',\n    MeshLambertMaterial: 'lambert',\n    MeshPhongMaterial: 'phong',\n    MeshToonMaterial: 'phong',\n    MeshStandardMaterial: 'physical',\n    MeshPhysicalMaterial: 'physical',\n    LineBasicMaterial: 'basic',\n    LineDashedMaterial: 'dashed',\n    PointsMaterial: 'points',\n    ShadowMaterial: 'shadow'\n  };\n\n  var parameterNames = [\n    \"precision\", \"supportsVertexTextures\", \"map\", \"mapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\",\n    \"lightMap\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"displacementMap\", \"specularMap\",\n    \"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n    \"alphaMap\", \"combine\", \"vertexColors\", \"fog\", \"useFog\", \"fogExp\",\n    \"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n    \"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n    \"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n    \"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n    \"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n    \"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\"\n  ];\n\n\n  function allocateBones( object ) {\n\n    var skeleton = object.skeleton;\n    var bones = skeleton.bones;\n\n    if ( capabilities.floatVertexTextures ) {\n\n      return 1024;\n\n    } else {\n\n      // default for when object is not specified\n      // ( for example when prebuilding shader to be used with multiple objects )\n      //\n      //  - leave some extra space for other uniforms\n      //  - limit here is ANGLE's 254 max uniform vectors\n      //    (up to 54 should be safe)\n\n      var nVertexUniforms = capabilities.maxVertexUniforms;\n      var nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n      var maxBones = Math.min( nVertexMatrices, bones.length );\n\n      if ( maxBones < bones.length ) {\n\n        console.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n        return 0;\n\n      }\n\n      return maxBones;\n\n    }\n\n  }\n\n  function getTextureEncodingFromMap( map, gammaOverrideLinear ) {\n\n    var encoding;\n\n    if ( ! map ) {\n\n      encoding = LinearEncoding;\n\n    } else if ( map.isTexture ) {\n\n      encoding = map.encoding;\n\n    } else if ( map.isWebGLRenderTarget ) {\n\n      console.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\n      encoding = map.texture.encoding;\n\n    }\n\n    // add backwards compatibility for WebGLRenderer.gammaInput/gammaOutput parameter, should probably be removed at some point.\n    if ( encoding === LinearEncoding && gammaOverrideLinear ) {\n\n      encoding = GammaEncoding;\n\n    }\n\n    return encoding;\n\n  }\n\n  this.getParameters = function ( material, lights, shadows, fog, nClipPlanes, nClipIntersection, object ) {\n\n    var shaderID = shaderIDs[ material.type ];\n\n    // heuristics to create shader parameters according to lights in the scene\n    // (not to blow over maxLights budget)\n\n    var maxBones = object.isSkinnedMesh ? allocateBones( object ) : 0;\n    var precision = capabilities.precision;\n\n    if ( material.precision !== null ) {\n\n      precision = capabilities.getMaxPrecision( material.precision );\n\n      if ( precision !== material.precision ) {\n\n        console.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n      }\n\n    }\n\n    var currentRenderTarget = renderer.getRenderTarget();\n\n    var parameters = {\n\n      shaderID: shaderID,\n\n      precision: precision,\n      supportsVertexTextures: capabilities.vertexTextures,\n      outputEncoding: getTextureEncodingFromMap( ( ! currentRenderTarget ) ? null : currentRenderTarget.texture, renderer.gammaOutput ),\n      map: !! material.map,\n      mapEncoding: getTextureEncodingFromMap( material.map, renderer.gammaInput ),\n      envMap: !! material.envMap,\n      envMapMode: material.envMap && material.envMap.mapping,\n      envMapEncoding: getTextureEncodingFromMap( material.envMap, renderer.gammaInput ),\n      envMapCubeUV: ( !! material.envMap ) && ( ( material.envMap.mapping === CubeUVReflectionMapping ) || ( material.envMap.mapping === CubeUVRefractionMapping ) ),\n      lightMap: !! material.lightMap,\n      aoMap: !! material.aoMap,\n      emissiveMap: !! material.emissiveMap,\n      emissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap, renderer.gammaInput ),\n      bumpMap: !! material.bumpMap,\n      normalMap: !! material.normalMap,\n      displacementMap: !! material.displacementMap,\n      roughnessMap: !! material.roughnessMap,\n      metalnessMap: !! material.metalnessMap,\n      specularMap: !! material.specularMap,\n      alphaMap: !! material.alphaMap,\n\n      gradientMap: !! material.gradientMap,\n\n      combine: material.combine,\n\n      vertexColors: material.vertexColors,\n\n      fog: !! fog,\n      useFog: material.fog,\n      fogExp: ( fog && fog.isFogExp2 ),\n\n      flatShading: material.flatShading,\n\n      sizeAttenuation: material.sizeAttenuation,\n      logarithmicDepthBuffer: capabilities.logarithmicDepthBuffer,\n\n      skinning: material.skinning && maxBones > 0,\n      maxBones: maxBones,\n      useVertexTexture: capabilities.floatVertexTextures,\n\n      morphTargets: material.morphTargets,\n      morphNormals: material.morphNormals,\n      maxMorphTargets: renderer.maxMorphTargets,\n      maxMorphNormals: renderer.maxMorphNormals,\n\n      numDirLights: lights.directional.length,\n      numPointLights: lights.point.length,\n      numSpotLights: lights.spot.length,\n      numRectAreaLights: lights.rectArea.length,\n      numHemiLights: lights.hemi.length,\n\n      numClippingPlanes: nClipPlanes,\n      numClipIntersection: nClipIntersection,\n\n      dithering: material.dithering,\n\n      shadowMapEnabled: renderer.shadowMap.enabled && object.receiveShadow && shadows.length > 0,\n      shadowMapType: renderer.shadowMap.type,\n\n      toneMapping: renderer.toneMapping,\n      physicallyCorrectLights: renderer.physicallyCorrectLights,\n\n      premultipliedAlpha: material.premultipliedAlpha,\n\n      alphaTest: material.alphaTest,\n      doubleSided: material.side === DoubleSide,\n      flipSided: material.side === BackSide,\n\n      depthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false\n\n    };\n\n    return parameters;\n\n  };\n\n  this.getProgramCode = function ( material, parameters ) {\n\n    var array = [];\n\n    if ( parameters.shaderID ) {\n\n      array.push( parameters.shaderID );\n\n    } else {\n\n      array.push( material.fragmentShader );\n      array.push( material.vertexShader );\n\n    }\n\n    if ( material.defines !== undefined ) {\n\n      for ( var name in material.defines ) {\n\n        array.push( name );\n        array.push( material.defines[ name ] );\n\n      }\n\n    }\n\n    for ( var i = 0; i < parameterNames.length; i ++ ) {\n\n      array.push( parameters[ parameterNames[ i ] ] );\n\n    }\n\n    array.push( material.onBeforeCompile.toString() );\n\n    array.push( renderer.gammaOutput );\n\n    return array.join();\n\n  };\n\n  this.acquireProgram = function ( material, shader, parameters, code ) {\n\n    var program;\n\n    // Check if code has been already compiled\n    for ( var p = 0, pl = programs.length; p < pl; p ++ ) {\n\n      var programInfo = programs[ p ];\n\n      if ( programInfo.code === code ) {\n\n        program = programInfo;\n        ++ program.usedTimes;\n\n        break;\n\n      }\n\n    }\n\n    if ( program === undefined ) {\n\n      program = new WebGLProgram( renderer, extensions, code, material, shader, parameters );\n      programs.push( program );\n\n    }\n\n    return program;\n\n  };\n\n  this.releaseProgram = function ( program ) {\n\n    if ( -- program.usedTimes === 0 ) {\n\n      // Remove from unordered set\n      var i = programs.indexOf( program );\n      programs[ i ] = programs[ programs.length - 1 ];\n      programs.pop();\n\n      // Free WebGL resources\n      program.destroy();\n\n    }\n\n  };\n\n  // Exposed for resource monitoring & error feedback via renderer.info:\n  this.programs = programs;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, infoMemory ) {\n\n  var _isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && _gl instanceof WebGL2RenderingContext );\n\n  //\n\n  function clampToMaxSize( image, maxSize ) {\n\n    if ( image.width > maxSize || image.height > maxSize ) {\n\n      // Warning: Scaling through the canvas will only work with images that use\n      // premultiplied alpha.\n\n      var scale = maxSize / Math.max( image.width, image.height );\n\n      var canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n      canvas.width = Math.floor( image.width * scale );\n      canvas.height = Math.floor( image.height * scale );\n\n      var context = canvas.getContext( '2d' );\n      context.drawImage( image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height );\n\n      console.warn( 'THREE.WebGLRenderer: image is too big (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image );\n\n      return canvas;\n\n    }\n\n    return image;\n\n  }\n\n  function isPowerOfTwo( image ) {\n\n    return _Math.isPowerOfTwo( image.width ) && _Math.isPowerOfTwo( image.height );\n\n  }\n\n  function makePowerOfTwo( image ) {\n\n    if ( image instanceof HTMLImageElement || image instanceof HTMLCanvasElement ) {\n\n      var canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n      canvas.width = _Math.nearestPowerOfTwo( image.width );\n      canvas.height = _Math.nearestPowerOfTwo( image.height );\n\n      var context = canvas.getContext( '2d' );\n      context.drawImage( image, 0, 0, canvas.width, canvas.height );\n\n      console.warn( 'THREE.WebGLRenderer: image is not power of two (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image );\n\n      return canvas;\n\n    }\n\n    return image;\n\n  }\n\n  function textureNeedsPowerOfTwo( texture ) {\n\n    return ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n      ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n  }\n\n  function textureNeedsGenerateMipmaps( texture, isPowerOfTwo ) {\n\n    return texture.generateMipmaps && isPowerOfTwo &&\n      texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n  }\n\n  // Fallback filters for non-power-of-2 textures\n\n  function filterFallback( f ) {\n\n    if ( f === NearestFilter || f === NearestMipMapNearestFilter || f === NearestMipMapLinearFilter ) {\n\n      return _gl.NEAREST;\n\n    }\n\n    return _gl.LINEAR;\n\n  }\n\n  //\n\n  function onTextureDispose( event ) {\n\n    var texture = event.target;\n\n    texture.removeEventListener( 'dispose', onTextureDispose );\n\n    deallocateTexture( texture );\n\n    infoMemory.textures --;\n\n\n  }\n\n  function onRenderTargetDispose( event ) {\n\n    var renderTarget = event.target;\n\n    renderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n    deallocateRenderTarget( renderTarget );\n\n    infoMemory.textures --;\n\n  }\n\n  //\n\n  function deallocateTexture( texture ) {\n\n    var textureProperties = properties.get( texture );\n\n    if ( texture.image && textureProperties.__image__webglTextureCube ) {\n\n      // cube texture\n\n      _gl.deleteTexture( textureProperties.__image__webglTextureCube );\n\n    } else {\n\n      // 2D texture\n\n      if ( textureProperties.__webglInit === undefined ) return;\n\n      _gl.deleteTexture( textureProperties.__webglTexture );\n\n    }\n\n    // remove all webgl properties\n    properties.remove( texture );\n\n  }\n\n  function deallocateRenderTarget( renderTarget ) {\n\n    var renderTargetProperties = properties.get( renderTarget );\n    var textureProperties = properties.get( renderTarget.texture );\n\n    if ( ! renderTarget ) return;\n\n    if ( textureProperties.__webglTexture !== undefined ) {\n\n      _gl.deleteTexture( textureProperties.__webglTexture );\n\n    }\n\n    if ( renderTarget.depthTexture ) {\n\n      renderTarget.depthTexture.dispose();\n\n    }\n\n    if ( renderTarget.isWebGLRenderTargetCube ) {\n\n      for ( var i = 0; i < 6; i ++ ) {\n\n        _gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n        if ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n      }\n\n    } else {\n\n      _gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n      if ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\n    }\n\n    properties.remove( renderTarget.texture );\n    properties.remove( renderTarget );\n\n  }\n\n  //\n\n\n\n  function setTexture2D( texture, slot ) {\n\n    var textureProperties = properties.get( texture );\n\n    if ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n      var image = texture.image;\n\n      if ( image === undefined ) {\n\n        console.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined', texture );\n\n      } else if ( image.complete === false ) {\n\n        console.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete', texture );\n\n      } else {\n\n        uploadTexture( textureProperties, texture, slot );\n        return;\n\n      }\n\n    }\n\n    state.activeTexture( _gl.TEXTURE0 + slot );\n    state.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\n\n  }\n\n  function setTextureCube( texture, slot ) {\n\n    var textureProperties = properties.get( texture );\n\n    if ( texture.image.length === 6 ) {\n\n      if ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n        if ( ! textureProperties.__image__webglTextureCube ) {\n\n          texture.addEventListener( 'dispose', onTextureDispose );\n\n          textureProperties.__image__webglTextureCube = _gl.createTexture();\n\n          infoMemory.textures ++;\n\n        }\n\n        state.activeTexture( _gl.TEXTURE0 + slot );\n        state.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube );\n\n        _gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\n\n        var isCompressed = ( texture && texture.isCompressedTexture );\n        var isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n        var cubeImage = [];\n\n        for ( var i = 0; i < 6; i ++ ) {\n\n          if ( ! isCompressed && ! isDataTexture ) {\n\n            cubeImage[ i ] = clampToMaxSize( texture.image[ i ], capabilities.maxCubemapSize );\n\n          } else {\n\n            cubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n          }\n\n        }\n\n        var image = cubeImage[ 0 ],\n          isPowerOfTwoImage = isPowerOfTwo( image ),\n          glFormat = utils.convert( texture.format ),\n          glType = utils.convert( texture.type );\n\n        setTextureParameters( _gl.TEXTURE_CUBE_MAP, texture, isPowerOfTwoImage );\n\n        for ( var i = 0; i < 6; i ++ ) {\n\n          if ( ! isCompressed ) {\n\n            if ( isDataTexture ) {\n\n              state.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n            } else {\n\n              state.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, glFormat, glType, cubeImage[ i ] );\n\n            }\n\n          } else {\n\n            var mipmap, mipmaps = cubeImage[ i ].mipmaps;\n\n            for ( var j = 0, jl = mipmaps.length; j < jl; j ++ ) {\n\n              mipmap = mipmaps[ j ];\n\n              if ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n                if ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n                  state.compressedTexImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n                } else {\n\n                  console.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n                }\n\n              } else {\n\n                state.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n              }\n\n            }\n\n          }\n\n        }\n\n        if ( textureNeedsGenerateMipmaps( texture, isPowerOfTwoImage ) ) {\n\n          _gl.generateMipmap( _gl.TEXTURE_CUBE_MAP );\n\n        }\n\n        textureProperties.__version = texture.version;\n\n        if ( texture.onUpdate ) texture.onUpdate( texture );\n\n      } else {\n\n        state.activeTexture( _gl.TEXTURE0 + slot );\n        state.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube );\n\n      }\n\n    }\n\n  }\n\n  function setTextureCubeDynamic( texture, slot ) {\n\n    state.activeTexture( _gl.TEXTURE0 + slot );\n    state.bindTexture( _gl.TEXTURE_CUBE_MAP, properties.get( texture ).__webglTexture );\n\n  }\n\n  function setTextureParameters( textureType, texture, isPowerOfTwoImage ) {\n\n    var extension;\n\n    if ( isPowerOfTwoImage ) {\n\n      _gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, utils.convert( texture.wrapS ) );\n      _gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, utils.convert( texture.wrapT ) );\n\n      _gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, utils.convert( texture.magFilter ) );\n      _gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, utils.convert( texture.minFilter ) );\n\n    } else {\n\n      _gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE );\n      _gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE );\n\n      if ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n        console.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.', texture );\n\n      }\n\n      _gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, filterFallback( texture.magFilter ) );\n      _gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, filterFallback( texture.minFilter ) );\n\n      if ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n        console.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.', texture );\n\n      }\n\n    }\n\n    extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n    if ( extension ) {\n\n      if ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\n      if ( texture.type === HalfFloatType && extensions.get( 'OES_texture_half_float_linear' ) === null ) return;\n\n      if ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n        _gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n        properties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n      }\n\n    }\n\n  }\n\n  function uploadTexture( textureProperties, texture, slot ) {\n\n    if ( textureProperties.__webglInit === undefined ) {\n\n      textureProperties.__webglInit = true;\n\n      texture.addEventListener( 'dispose', onTextureDispose );\n\n      textureProperties.__webglTexture = _gl.createTexture();\n\n      infoMemory.textures ++;\n\n    }\n\n    state.activeTexture( _gl.TEXTURE0 + slot );\n    state.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\n\n    _gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\n    _gl.pixelStorei( _gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha );\n    _gl.pixelStorei( _gl.UNPACK_ALIGNMENT, texture.unpackAlignment );\n\n    var image = clampToMaxSize( texture.image, capabilities.maxTextureSize );\n\n    if ( textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( image ) === false ) {\n\n      image = makePowerOfTwo( image );\n\n    }\n\n    var isPowerOfTwoImage = isPowerOfTwo( image ),\n      glFormat = utils.convert( texture.format ),\n      glType = utils.convert( texture.type );\n\n    setTextureParameters( _gl.TEXTURE_2D, texture, isPowerOfTwoImage );\n\n    var mipmap, mipmaps = texture.mipmaps;\n\n    if ( texture.isDepthTexture ) {\n\n      // populate depth texture with dummy data\n\n      var internalFormat = _gl.DEPTH_COMPONENT;\n\n      if ( texture.type === FloatType ) {\n\n        if ( !_isWebGL2 ) throw new Error('Float Depth Texture only supported in WebGL2.0');\n        internalFormat = _gl.DEPTH_COMPONENT32F;\n\n      } else if ( _isWebGL2 ) {\n\n        // WebGL 2.0 requires signed internalformat for glTexImage2D\n        internalFormat = _gl.DEPTH_COMPONENT16;\n\n      }\n\n      if ( texture.format === DepthFormat && internalFormat === _gl.DEPTH_COMPONENT ) {\n\n        // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n        // DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n        // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n        if ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n          console.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n          texture.type = UnsignedShortType;\n          glType = utils.convert( texture.type );\n\n        }\n\n      }\n\n      // Depth stencil textures need the DEPTH_STENCIL internal format\n      // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n      if ( texture.format === DepthStencilFormat ) {\n\n        internalFormat = _gl.DEPTH_STENCIL;\n\n        // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n        // DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n        // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n        if ( texture.type !== UnsignedInt248Type ) {\n\n          console.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n          texture.type = UnsignedInt248Type;\n          glType = utils.convert( texture.type );\n\n        }\n\n      }\n\n      state.texImage2D( _gl.TEXTURE_2D, 0, internalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n    } else if ( texture.isDataTexture ) {\n\n      // use manually created mipmaps if available\n      // if there are no manual mipmaps\n      // set 0 level mipmap and then use GL to generate other mipmap levels\n\n      if ( mipmaps.length > 0 && isPowerOfTwoImage ) {\n\n        for ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n          mipmap = mipmaps[ i ];\n          state.texImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n        }\n\n        texture.generateMipmaps = false;\n\n      } else {\n\n        state.texImage2D( _gl.TEXTURE_2D, 0, glFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\n      }\n\n    } else if ( texture.isCompressedTexture ) {\n\n      for ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n        mipmap = mipmaps[ i ];\n\n        if ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n          if ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n            state.compressedTexImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n          } else {\n\n            console.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n          }\n\n        } else {\n\n          state.texImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n        }\n\n      }\n\n    } else {\n\n      // regular Texture (image, video, canvas)\n\n      // use manually created mipmaps if available\n      // if there are no manual mipmaps\n      // set 0 level mipmap and then use GL to generate other mipmap levels\n\n      if ( mipmaps.length > 0 && isPowerOfTwoImage ) {\n\n        for ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n          mipmap = mipmaps[ i ];\n          state.texImage2D( _gl.TEXTURE_2D, i, glFormat, glFormat, glType, mipmap );\n\n        }\n\n        texture.generateMipmaps = false;\n\n      } else {\n\n        state.texImage2D( _gl.TEXTURE_2D, 0, glFormat, glFormat, glType, image );\n\n      }\n\n    }\n\n    if ( textureNeedsGenerateMipmaps( texture, isPowerOfTwoImage ) ) _gl.generateMipmap( _gl.TEXTURE_2D );\n\n    textureProperties.__version = texture.version;\n\n    if ( texture.onUpdate ) texture.onUpdate( texture );\n\n  }\n\n  // Render targets\n\n  // Setup storage for target texture and bind it to correct framebuffer\n  function setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n    var glFormat = utils.convert( renderTarget.texture.format );\n    var glType = utils.convert( renderTarget.texture.type );\n    state.texImage2D( textureTarget, 0, glFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n    _gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n    _gl.framebufferTexture2D( _gl.FRAMEBUFFER, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\n    _gl.bindFramebuffer( _gl.FRAMEBUFFER, null );\n\n  }\n\n  // Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n  function setupRenderBufferStorage( renderbuffer, renderTarget ) {\n\n    _gl.bindRenderbuffer( _gl.RENDERBUFFER, renderbuffer );\n\n    if ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n      _gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_COMPONENT16, renderTarget.width, renderTarget.height );\n      _gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\n    } else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n      _gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_STENCIL, renderTarget.width, renderTarget.height );\n      _gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\n    } else {\n\n      // FIXME: We don't support !depth !stencil\n      _gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.RGBA4, renderTarget.width, renderTarget.height );\n\n    }\n\n    _gl.bindRenderbuffer( _gl.RENDERBUFFER, null );\n\n  }\n\n  // Setup resources for a Depth Texture for a FBO (needs an extension)\n  function setupDepthTexture( framebuffer, renderTarget ) {\n\n    var isCube = ( renderTarget && renderTarget.isWebGLRenderTargetCube );\n    if ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n    _gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\n    if ( !( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n      throw new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n    }\n\n    // upload an empty depth texture with framebuffer size\n    if ( !properties.get( renderTarget.depthTexture ).__webglTexture ||\n      renderTarget.depthTexture.image.width !== renderTarget.width ||\n      renderTarget.depthTexture.image.height !== renderTarget.height ) {\n      renderTarget.depthTexture.image.width = renderTarget.width;\n      renderTarget.depthTexture.image.height = renderTarget.height;\n      renderTarget.depthTexture.needsUpdate = true;\n    }\n\n    setTexture2D( renderTarget.depthTexture, 0 );\n\n    var webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n    if ( renderTarget.depthTexture.format === DepthFormat ) {\n\n      _gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0 );\n\n    } else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n      _gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0 );\n\n    } else {\n\n      throw new Error( 'Unknown depthTexture format' );\n\n    }\n\n  }\n\n  // Setup GL resources for a non-texture depth buffer\n  function setupDepthRenderbuffer( renderTarget ) {\n\n    var renderTargetProperties = properties.get( renderTarget );\n\n    var isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n\n    if ( renderTarget.depthTexture ) {\n\n      if ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n      setupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n    } else {\n\n      if ( isCube ) {\n\n        renderTargetProperties.__webglDepthbuffer = [];\n\n        for ( var i = 0; i < 6; i ++ ) {\n\n          _gl.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer[ i ] );\n          renderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n          setupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget );\n\n        }\n\n      } else {\n\n        _gl.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer );\n        renderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n        setupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget );\n\n      }\n\n    }\n\n    _gl.bindFramebuffer( _gl.FRAMEBUFFER, null );\n\n  }\n\n  // Set up GL resources for the render target\n  function setupRenderTarget( renderTarget ) {\n\n    var renderTargetProperties = properties.get( renderTarget );\n    var textureProperties = properties.get( renderTarget.texture );\n\n    renderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n    textureProperties.__webglTexture = _gl.createTexture();\n\n    infoMemory.textures ++;\n\n    var isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n    var isTargetPowerOfTwo = isPowerOfTwo( renderTarget );\n\n    // Setup framebuffer\n\n    if ( isCube ) {\n\n      renderTargetProperties.__webglFramebuffer = [];\n\n      for ( var i = 0; i < 6; i ++ ) {\n\n        renderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n      }\n\n    } else {\n\n      renderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n    }\n\n    // Setup color buffer\n\n    if ( isCube ) {\n\n      state.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture );\n      setTextureParameters( _gl.TEXTURE_CUBE_MAP, renderTarget.texture, isTargetPowerOfTwo );\n\n      for ( var i = 0; i < 6; i ++ ) {\n\n        setupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i );\n\n      }\n\n      if ( textureNeedsGenerateMipmaps( renderTarget.texture, isTargetPowerOfTwo ) ) _gl.generateMipmap( _gl.TEXTURE_CUBE_MAP );\n      state.bindTexture( _gl.TEXTURE_CUBE_MAP, null );\n\n    } else {\n\n      state.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\n      setTextureParameters( _gl.TEXTURE_2D, renderTarget.texture, isTargetPowerOfTwo );\n      setupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_2D );\n\n      if ( textureNeedsGenerateMipmaps( renderTarget.texture, isTargetPowerOfTwo ) ) _gl.generateMipmap( _gl.TEXTURE_2D );\n      state.bindTexture( _gl.TEXTURE_2D, null );\n\n    }\n\n    // Setup depth and stencil buffers\n\n    if ( renderTarget.depthBuffer ) {\n\n      setupDepthRenderbuffer( renderTarget );\n\n    }\n\n  }\n\n  function updateRenderTargetMipmap( renderTarget ) {\n\n    var texture = renderTarget.texture;\n    var isTargetPowerOfTwo = isPowerOfTwo( renderTarget );\n\n    if ( textureNeedsGenerateMipmaps( texture, isTargetPowerOfTwo ) ) {\n\n      var target = renderTarget.isWebGLRenderTargetCube ? _gl.TEXTURE_CUBE_MAP : _gl.TEXTURE_2D;\n      var webglTexture = properties.get( texture ).__webglTexture;\n\n      state.bindTexture( target, webglTexture );\n      _gl.generateMipmap( target );\n      state.bindTexture( target, null );\n\n    }\n\n  }\n\n  this.setTexture2D = setTexture2D;\n  this.setTextureCube = setTextureCube;\n  this.setTextureCubeDynamic = setTextureCubeDynamic;\n  this.setupRenderTarget = setupRenderTarget;\n  this.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\n}\n\n/**\n * @author fordacious / fordacious.github.io\n */\n\nfunction WebGLProperties() {\n\n  var properties = {};\n\n  function get( object ) {\n\n    var uuid = object.uuid;\n    var map = properties[ uuid ];\n\n    if ( map === undefined ) {\n\n      map = {};\n      properties[ uuid ] = map;\n\n    }\n\n    return map;\n\n  }\n\n  function remove( object ) {\n\n    delete properties[ object.uuid ];\n\n  }\n\n  function clear() {\n\n    properties = {};\n\n  }\n\n  return {\n    get: get,\n    remove: remove,\n    clear: clear\n  };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLState( gl, extensions, utils ) {\n\n  function ColorBuffer() {\n\n    var locked = false;\n\n    var color = new Vector4();\n    var currentColorMask = null;\n    var currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n    return {\n\n      setMask: function ( colorMask ) {\n\n        if ( currentColorMask !== colorMask && ! locked ) {\n\n          gl.colorMask( colorMask, colorMask, colorMask, colorMask );\n          currentColorMask = colorMask;\n\n        }\n\n      },\n\n      setLocked: function ( lock ) {\n\n        locked = lock;\n\n      },\n\n      setClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n        if ( premultipliedAlpha === true ) {\n\n          r *= a; g *= a; b *= a;\n\n        }\n\n        color.set( r, g, b, a );\n\n        if ( currentColorClear.equals( color ) === false ) {\n\n          gl.clearColor( r, g, b, a );\n          currentColorClear.copy( color );\n\n        }\n\n      },\n\n      reset: function () {\n\n        locked = false;\n\n        currentColorMask = null;\n        currentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n      }\n\n    };\n\n  }\n\n  function DepthBuffer() {\n\n    var locked = false;\n\n    var currentDepthMask = null;\n    var currentDepthFunc = null;\n    var currentDepthClear = null;\n\n    return {\n\n      setTest: function ( depthTest ) {\n\n        if ( depthTest ) {\n\n          enable( gl.DEPTH_TEST );\n\n        } else {\n\n          disable( gl.DEPTH_TEST );\n\n        }\n\n      },\n\n      setMask: function ( depthMask ) {\n\n        if ( currentDepthMask !== depthMask && ! locked ) {\n\n          gl.depthMask( depthMask );\n          currentDepthMask = depthMask;\n\n        }\n\n      },\n\n      setFunc: function ( depthFunc ) {\n\n        if ( currentDepthFunc !== depthFunc ) {\n\n          if ( depthFunc ) {\n\n            switch ( depthFunc ) {\n\n              case NeverDepth:\n\n                gl.depthFunc( gl.NEVER );\n                break;\n\n              case AlwaysDepth:\n\n                gl.depthFunc( gl.ALWAYS );\n                break;\n\n              case LessDepth:\n\n                gl.depthFunc( gl.LESS );\n                break;\n\n              case LessEqualDepth:\n\n                gl.depthFunc( gl.LEQUAL );\n                break;\n\n              case EqualDepth:\n\n                gl.depthFunc( gl.EQUAL );\n                break;\n\n              case GreaterEqualDepth:\n\n                gl.depthFunc( gl.GEQUAL );\n                break;\n\n              case GreaterDepth:\n\n                gl.depthFunc( gl.GREATER );\n                break;\n\n              case NotEqualDepth:\n\n                gl.depthFunc( gl.NOTEQUAL );\n                break;\n\n              default:\n\n                gl.depthFunc( gl.LEQUAL );\n\n            }\n\n          } else {\n\n            gl.depthFunc( gl.LEQUAL );\n\n          }\n\n          currentDepthFunc = depthFunc;\n\n        }\n\n      },\n\n      setLocked: function ( lock ) {\n\n        locked = lock;\n\n      },\n\n      setClear: function ( depth ) {\n\n        if ( currentDepthClear !== depth ) {\n\n          gl.clearDepth( depth );\n          currentDepthClear = depth;\n\n        }\n\n      },\n\n      reset: function () {\n\n        locked = false;\n\n        currentDepthMask = null;\n        currentDepthFunc = null;\n        currentDepthClear = null;\n\n      }\n\n    };\n\n  }\n\n  function StencilBuffer() {\n\n    var locked = false;\n\n    var currentStencilMask = null;\n    var currentStencilFunc = null;\n    var currentStencilRef = null;\n    var currentStencilFuncMask = null;\n    var currentStencilFail = null;\n    var currentStencilZFail = null;\n    var currentStencilZPass = null;\n    var currentStencilClear = null;\n\n    return {\n\n      setTest: function ( stencilTest ) {\n\n        if ( stencilTest ) {\n\n          enable( gl.STENCIL_TEST );\n\n        } else {\n\n          disable( gl.STENCIL_TEST );\n\n        }\n\n      },\n\n      setMask: function ( stencilMask ) {\n\n        if ( currentStencilMask !== stencilMask && ! locked ) {\n\n          gl.stencilMask( stencilMask );\n          currentStencilMask = stencilMask;\n\n        }\n\n      },\n\n      setFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n        if ( currentStencilFunc !== stencilFunc ||\n          currentStencilRef \t!== stencilRef \t||\n          currentStencilFuncMask !== stencilMask ) {\n\n          gl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n          currentStencilFunc = stencilFunc;\n          currentStencilRef = stencilRef;\n          currentStencilFuncMask = stencilMask;\n\n        }\n\n      },\n\n      setOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n        if ( currentStencilFail\t !== stencilFail \t||\n          currentStencilZFail !== stencilZFail ||\n          currentStencilZPass !== stencilZPass ) {\n\n          gl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n          currentStencilFail = stencilFail;\n          currentStencilZFail = stencilZFail;\n          currentStencilZPass = stencilZPass;\n\n        }\n\n      },\n\n      setLocked: function ( lock ) {\n\n        locked = lock;\n\n      },\n\n      setClear: function ( stencil ) {\n\n        if ( currentStencilClear !== stencil ) {\n\n          gl.clearStencil( stencil );\n          currentStencilClear = stencil;\n\n        }\n\n      },\n\n      reset: function () {\n\n        locked = false;\n\n        currentStencilMask = null;\n        currentStencilFunc = null;\n        currentStencilRef = null;\n        currentStencilFuncMask = null;\n        currentStencilFail = null;\n        currentStencilZFail = null;\n        currentStencilZPass = null;\n        currentStencilClear = null;\n\n      }\n\n    };\n\n  }\n\n  //\n\n  var colorBuffer = new ColorBuffer();\n  var depthBuffer = new DepthBuffer();\n  var stencilBuffer = new StencilBuffer();\n\n  var maxVertexAttributes = gl.getParameter( gl.MAX_VERTEX_ATTRIBS );\n  var newAttributes = new Uint8Array( maxVertexAttributes );\n  var enabledAttributes = new Uint8Array( maxVertexAttributes );\n  var attributeDivisors = new Uint8Array( maxVertexAttributes );\n\n  var capabilities = {};\n\n  var compressedTextureFormats = null;\n\n  var currentProgram = null;\n\n  var currentBlending = null;\n  var currentBlendEquation = null;\n  var currentBlendSrc = null;\n  var currentBlendDst = null;\n  var currentBlendEquationAlpha = null;\n  var currentBlendSrcAlpha = null;\n  var currentBlendDstAlpha = null;\n  var currentPremultipledAlpha = false;\n\n  var currentFlipSided = null;\n  var currentCullFace = null;\n\n  var currentLineWidth = null;\n\n  var currentPolygonOffsetFactor = null;\n  var currentPolygonOffsetUnits = null;\n\n  var maxTextures = gl.getParameter( gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS );\n\n  var version = parseFloat( /^WebGL\\ ([0-9])/.exec( gl.getParameter( gl.VERSION ) )[ 1 ] );\n  var lineWidthAvailable = parseFloat( version ) >= 1.0;\n\n  var currentTextureSlot = null;\n  var currentBoundTextures = {};\n\n  var currentScissor = new Vector4();\n  var currentViewport = new Vector4();\n\n  function createTexture( type, target, count ) {\n\n    var data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n    var texture = gl.createTexture();\n\n    gl.bindTexture( type, texture );\n    gl.texParameteri( type, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\n    gl.texParameteri( type, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\n\n    for ( var i = 0; i < count; i ++ ) {\n\n      gl.texImage2D( target + i, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, data );\n\n    }\n\n    return texture;\n\n  }\n\n  var emptyTextures = {};\n  emptyTextures[ gl.TEXTURE_2D ] = createTexture( gl.TEXTURE_2D, gl.TEXTURE_2D, 1 );\n  emptyTextures[ gl.TEXTURE_CUBE_MAP ] = createTexture( gl.TEXTURE_CUBE_MAP, gl.TEXTURE_CUBE_MAP_POSITIVE_X, 6 );\n\n  // init\n\n  colorBuffer.setClear( 0, 0, 0, 1 );\n  depthBuffer.setClear( 1 );\n  stencilBuffer.setClear( 0 );\n\n  enable( gl.DEPTH_TEST );\n  depthBuffer.setFunc( LessEqualDepth );\n\n  setFlipSided( false );\n  setCullFace( CullFaceBack );\n  enable( gl.CULL_FACE );\n\n  enable( gl.BLEND );\n  setBlending( NormalBlending );\n\n  //\n\n  function initAttributes() {\n\n    for ( var i = 0, l = newAttributes.length; i < l; i ++ ) {\n\n      newAttributes[ i ] = 0;\n\n    }\n\n  }\n\n  function enableAttribute( attribute ) {\n\n    newAttributes[ attribute ] = 1;\n\n    if ( enabledAttributes[ attribute ] === 0 ) {\n\n      gl.enableVertexAttribArray( attribute );\n      enabledAttributes[ attribute ] = 1;\n\n    }\n\n    if ( attributeDivisors[ attribute ] !== 0 ) {\n\n      var extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n      extension.vertexAttribDivisorANGLE( attribute, 0 );\n      attributeDivisors[ attribute ] = 0;\n\n    }\n\n  }\n\n  function enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n    newAttributes[ attribute ] = 1;\n\n    if ( enabledAttributes[ attribute ] === 0 ) {\n\n      gl.enableVertexAttribArray( attribute );\n      enabledAttributes[ attribute ] = 1;\n\n    }\n\n    if ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n      var extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n      extension.vertexAttribDivisorANGLE( attribute, meshPerAttribute );\n      attributeDivisors[ attribute ] = meshPerAttribute;\n\n    }\n\n  }\n\n  function disableUnusedAttributes() {\n\n    for ( var i = 0, l = enabledAttributes.length; i !== l; ++ i ) {\n\n      if ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n        gl.disableVertexAttribArray( i );\n        enabledAttributes[ i ] = 0;\n\n      }\n\n    }\n\n  }\n\n  function enable( id ) {\n\n    if ( capabilities[ id ] !== true ) {\n\n      gl.enable( id );\n      capabilities[ id ] = true;\n\n    }\n\n  }\n\n  function disable( id ) {\n\n    if ( capabilities[ id ] !== false ) {\n\n      gl.disable( id );\n      capabilities[ id ] = false;\n\n    }\n\n  }\n\n  function getCompressedTextureFormats() {\n\n    if ( compressedTextureFormats === null ) {\n\n      compressedTextureFormats = [];\n\n      if ( extensions.get( 'WEBGL_compressed_texture_pvrtc' ) ||\n        extensions.get( 'WEBGL_compressed_texture_s3tc' ) ||\n        extensions.get( 'WEBGL_compressed_texture_etc1' ) ) {\n\n        var formats = gl.getParameter( gl.COMPRESSED_TEXTURE_FORMATS );\n\n        for ( var i = 0; i < formats.length; i ++ ) {\n\n          compressedTextureFormats.push( formats[ i ] );\n\n        }\n\n      }\n\n    }\n\n    return compressedTextureFormats;\n\n  }\n\n  function useProgram( program ) {\n\n    if ( currentProgram !== program ) {\n\n      gl.useProgram( program );\n\n      currentProgram = program;\n\n      return true;\n\n    }\n\n    return false;\n\n  }\n\n  function setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n    if ( blending !== NoBlending ) {\n\n      enable( gl.BLEND );\n\n    } else {\n\n      disable( gl.BLEND );\n\n    }\n\n    if ( blending !== CustomBlending ) {\n\n      if ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n        switch ( blending ) {\n\n          case AdditiveBlending:\n\n            if ( premultipliedAlpha ) {\n\n              gl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n              gl.blendFuncSeparate( gl.ONE, gl.ONE, gl.ONE, gl.ONE );\n\n            } else {\n\n              gl.blendEquation( gl.FUNC_ADD );\n              gl.blendFunc( gl.SRC_ALPHA, gl.ONE );\n\n            }\n            break;\n\n          case SubtractiveBlending:\n\n            if ( premultipliedAlpha ) {\n\n              gl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n              gl.blendFuncSeparate( gl.ZERO, gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ONE_MINUS_SRC_ALPHA );\n\n            } else {\n\n              gl.blendEquation( gl.FUNC_ADD );\n              gl.blendFunc( gl.ZERO, gl.ONE_MINUS_SRC_COLOR );\n\n            }\n            break;\n\n          case MultiplyBlending:\n\n            if ( premultipliedAlpha ) {\n\n              gl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n              gl.blendFuncSeparate( gl.ZERO, gl.SRC_COLOR, gl.ZERO, gl.SRC_ALPHA );\n\n            } else {\n\n              gl.blendEquation( gl.FUNC_ADD );\n              gl.blendFunc( gl.ZERO, gl.SRC_COLOR );\n\n            }\n            break;\n\n          default:\n\n            if ( premultipliedAlpha ) {\n\n              gl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n              gl.blendFuncSeparate( gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n\n            } else {\n\n              gl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n              gl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n\n            }\n\n        }\n\n      }\n\n      currentBlendEquation = null;\n      currentBlendSrc = null;\n      currentBlendDst = null;\n      currentBlendEquationAlpha = null;\n      currentBlendSrcAlpha = null;\n      currentBlendDstAlpha = null;\n\n    } else {\n\n      blendEquationAlpha = blendEquationAlpha || blendEquation;\n      blendSrcAlpha = blendSrcAlpha || blendSrc;\n      blendDstAlpha = blendDstAlpha || blendDst;\n\n      if ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n        gl.blendEquationSeparate( utils.convert( blendEquation ), utils.convert( blendEquationAlpha ) );\n\n        currentBlendEquation = blendEquation;\n        currentBlendEquationAlpha = blendEquationAlpha;\n\n      }\n\n      if ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n        gl.blendFuncSeparate( utils.convert( blendSrc ), utils.convert( blendDst ), utils.convert( blendSrcAlpha ), utils.convert( blendDstAlpha ) );\n\n        currentBlendSrc = blendSrc;\n        currentBlendDst = blendDst;\n        currentBlendSrcAlpha = blendSrcAlpha;\n        currentBlendDstAlpha = blendDstAlpha;\n\n      }\n\n    }\n\n    currentBlending = blending;\n    currentPremultipledAlpha = premultipliedAlpha;\n\n  }\n\n  function setMaterial( material ) {\n\n    material.side === DoubleSide\n      ? disable( gl.CULL_FACE )\n      : enable( gl.CULL_FACE );\n\n    setFlipSided( material.side === BackSide );\n\n    material.transparent === true\n      ? setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha )\n      : setBlending( NoBlending );\n\n    depthBuffer.setFunc( material.depthFunc );\n    depthBuffer.setTest( material.depthTest );\n    depthBuffer.setMask( material.depthWrite );\n    colorBuffer.setMask( material.colorWrite );\n\n    setPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n  }\n\n  //\n\n  function setFlipSided( flipSided ) {\n\n    if ( currentFlipSided !== flipSided ) {\n\n      if ( flipSided ) {\n\n        gl.frontFace( gl.CW );\n\n      } else {\n\n        gl.frontFace( gl.CCW );\n\n      }\n\n      currentFlipSided = flipSided;\n\n    }\n\n  }\n\n  function setCullFace( cullFace ) {\n\n    if ( cullFace !== CullFaceNone ) {\n\n      enable( gl.CULL_FACE );\n\n      if ( cullFace !== currentCullFace ) {\n\n        if ( cullFace === CullFaceBack ) {\n\n          gl.cullFace( gl.BACK );\n\n        } else if ( cullFace === CullFaceFront ) {\n\n          gl.cullFace( gl.FRONT );\n\n        } else {\n\n          gl.cullFace( gl.FRONT_AND_BACK );\n\n        }\n\n      }\n\n    } else {\n\n      disable( gl.CULL_FACE );\n\n    }\n\n    currentCullFace = cullFace;\n\n  }\n\n  function setLineWidth( width ) {\n\n    if ( width !== currentLineWidth ) {\n\n      if ( lineWidthAvailable ) gl.lineWidth( width );\n\n      currentLineWidth = width;\n\n    }\n\n  }\n\n  function setPolygonOffset( polygonOffset, factor, units ) {\n\n    if ( polygonOffset ) {\n\n      enable( gl.POLYGON_OFFSET_FILL );\n\n      if ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n        gl.polygonOffset( factor, units );\n\n        currentPolygonOffsetFactor = factor;\n        currentPolygonOffsetUnits = units;\n\n      }\n\n    } else {\n\n      disable( gl.POLYGON_OFFSET_FILL );\n\n    }\n\n  }\n\n  function setScissorTest( scissorTest ) {\n\n    if ( scissorTest ) {\n\n      enable( gl.SCISSOR_TEST );\n\n    } else {\n\n      disable( gl.SCISSOR_TEST );\n\n    }\n\n  }\n\n  // texture\n\n  function activeTexture( webglSlot ) {\n\n    if ( webglSlot === undefined ) webglSlot = gl.TEXTURE0 + maxTextures - 1;\n\n    if ( currentTextureSlot !== webglSlot ) {\n\n      gl.activeTexture( webglSlot );\n      currentTextureSlot = webglSlot;\n\n    }\n\n  }\n\n  function bindTexture( webglType, webglTexture ) {\n\n    if ( currentTextureSlot === null ) {\n\n      activeTexture();\n\n    }\n\n    var boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n    if ( boundTexture === undefined ) {\n\n      boundTexture = { type: undefined, texture: undefined };\n      currentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n    }\n\n    if ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n      gl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n      boundTexture.type = webglType;\n      boundTexture.texture = webglTexture;\n\n    }\n\n  }\n\n  function compressedTexImage2D() {\n\n    try {\n\n      gl.compressedTexImage2D.apply( gl, arguments );\n\n    } catch ( error ) {\n\n      console.error( 'THREE.WebGLState:', error );\n\n    }\n\n  }\n\n  function texImage2D() {\n\n    try {\n\n      gl.texImage2D.apply( gl, arguments );\n\n    } catch ( error ) {\n\n      console.error( 'THREE.WebGLState:', error );\n\n    }\n\n  }\n\n  //\n\n  function scissor( scissor ) {\n\n    if ( currentScissor.equals( scissor ) === false ) {\n\n      gl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n      currentScissor.copy( scissor );\n\n    }\n\n  }\n\n  function viewport( viewport ) {\n\n    if ( currentViewport.equals( viewport ) === false ) {\n\n      gl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n      currentViewport.copy( viewport );\n\n    }\n\n  }\n\n  //\n\n  function reset() {\n\n    for ( var i = 0; i < enabledAttributes.length; i ++ ) {\n\n      if ( enabledAttributes[ i ] === 1 ) {\n\n        gl.disableVertexAttribArray( i );\n        enabledAttributes[ i ] = 0;\n\n      }\n\n    }\n\n    capabilities = {};\n\n    compressedTextureFormats = null;\n\n    currentTextureSlot = null;\n    currentBoundTextures = {};\n\n    currentProgram = null;\n\n    currentBlending = null;\n\n    currentFlipSided = null;\n    currentCullFace = null;\n\n    colorBuffer.reset();\n    depthBuffer.reset();\n    stencilBuffer.reset();\n\n  }\n\n  return {\n\n    buffers: {\n      color: colorBuffer,\n      depth: depthBuffer,\n      stencil: stencilBuffer\n    },\n\n    initAttributes: initAttributes,\n    enableAttribute: enableAttribute,\n    enableAttributeAndDivisor: enableAttributeAndDivisor,\n    disableUnusedAttributes: disableUnusedAttributes,\n    enable: enable,\n    disable: disable,\n    getCompressedTextureFormats: getCompressedTextureFormats,\n\n    useProgram: useProgram,\n\n    setBlending: setBlending,\n    setMaterial: setMaterial,\n\n    setFlipSided: setFlipSided,\n    setCullFace: setCullFace,\n\n    setLineWidth: setLineWidth,\n    setPolygonOffset: setPolygonOffset,\n\n    setScissorTest: setScissorTest,\n\n    activeTexture: activeTexture,\n    bindTexture: bindTexture,\n    compressedTexImage2D: compressedTexImage2D,\n    texImage2D: texImage2D,\n\n    scissor: scissor,\n    viewport: viewport,\n\n    reset: reset\n\n  };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n  var maxAnisotropy;\n\n  function getMaxAnisotropy() {\n\n    if ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n    var extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n    if ( extension !== null ) {\n\n      maxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n    } else {\n\n      maxAnisotropy = 0;\n\n    }\n\n    return maxAnisotropy;\n\n  }\n\n  function getMaxPrecision( precision ) {\n\n    if ( precision === 'highp' ) {\n\n      if ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.HIGH_FLOAT ).precision > 0 &&\n        gl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.HIGH_FLOAT ).precision > 0 ) {\n\n        return 'highp';\n\n      }\n\n      precision = 'mediump';\n\n    }\n\n    if ( precision === 'mediump' ) {\n\n      if ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.MEDIUM_FLOAT ).precision > 0 &&\n        gl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT ).precision > 0 ) {\n\n        return 'mediump';\n\n      }\n\n    }\n\n    return 'lowp';\n\n  }\n\n  var precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n  var maxPrecision = getMaxPrecision( precision );\n\n  if ( maxPrecision !== precision ) {\n\n    console.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n    precision = maxPrecision;\n\n  }\n\n  var logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true && !! extensions.get( 'EXT_frag_depth' );\n\n  var maxTextures = gl.getParameter( gl.MAX_TEXTURE_IMAGE_UNITS );\n  var maxVertexTextures = gl.getParameter( gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS );\n  var maxTextureSize = gl.getParameter( gl.MAX_TEXTURE_SIZE );\n  var maxCubemapSize = gl.getParameter( gl.MAX_CUBE_MAP_TEXTURE_SIZE );\n\n  var maxAttributes = gl.getParameter( gl.MAX_VERTEX_ATTRIBS );\n  var maxVertexUniforms = gl.getParameter( gl.MAX_VERTEX_UNIFORM_VECTORS );\n  var maxVaryings = gl.getParameter( gl.MAX_VARYING_VECTORS );\n  var maxFragmentUniforms = gl.getParameter( gl.MAX_FRAGMENT_UNIFORM_VECTORS );\n\n  var vertexTextures = maxVertexTextures > 0;\n  var floatFragmentTextures = !! extensions.get( 'OES_texture_float' );\n  var floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n  return {\n\n    getMaxAnisotropy: getMaxAnisotropy,\n    getMaxPrecision: getMaxPrecision,\n\n    precision: precision,\n    logarithmicDepthBuffer: logarithmicDepthBuffer,\n\n    maxTextures: maxTextures,\n    maxVertexTextures: maxVertexTextures,\n    maxTextureSize: maxTextureSize,\n    maxCubemapSize: maxCubemapSize,\n\n    maxAttributes: maxAttributes,\n    maxVertexUniforms: maxVertexUniforms,\n    maxVaryings: maxVaryings,\n    maxFragmentUniforms: maxFragmentUniforms,\n\n    vertexTextures: vertexTextures,\n    floatFragmentTextures: floatFragmentTextures,\n    floatVertexTextures: floatVertexTextures\n\n  };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ArrayCamera( array ) {\n\n  PerspectiveCamera.call( this );\n\n  this.cameras = array || [];\n\n}\n\nArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\n\n  constructor: ArrayCamera,\n\n  isArrayCamera: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebVRManager( renderer ) {\n\n  var scope = this;\n\n  var device = null;\n  var frameData = null;\n\n  if ( 'VRFrameData' in window ) {\n\n    frameData = new window.VRFrameData();\n\n  }\n\n  var matrixWorldInverse = new Matrix4();\n\n  var standingMatrix = new Matrix4();\n  var standingMatrixInverse = new Matrix4();\n\n  var cameraL = new PerspectiveCamera();\n  cameraL.bounds = new Vector4( 0.0, 0.0, 0.5, 1.0 );\n  cameraL.layers.enable( 1 );\n\n  var cameraR = new PerspectiveCamera();\n  cameraR.bounds = new Vector4( 0.5, 0.0, 0.5, 1.0 );\n  cameraR.layers.enable( 2 );\n\n  var cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n  cameraVR.layers.enable( 1 );\n  cameraVR.layers.enable( 2 );\n\n  //\n\n  var currentSize, currentPixelRatio;\n\n  function onVRDisplayPresentChange() {\n\n    if ( device !== null && device.isPresenting ) {\n\n      var eyeParameters = device.getEyeParameters( 'left' );\n      var renderWidth = eyeParameters.renderWidth;\n      var renderHeight = eyeParameters.renderHeight;\n\n      currentPixelRatio = renderer.getPixelRatio();\n      currentSize = renderer.getSize();\n\n      renderer.setDrawingBufferSize( renderWidth * 2, renderHeight, 1 );\n\n    } else if ( scope.enabled ) {\n\n      renderer.setDrawingBufferSize( currentSize.width, currentSize.height, currentPixelRatio );\n\n    }\n\n  }\n\n  window.addEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange, false );\n\n  //\n\n  this.enabled = false;\n  this.standing = false;\n\n  this.getDevice = function () {\n\n    return device;\n\n  };\n\n  this.setDevice = function ( value ) {\n\n    if ( value !== undefined ) device = value;\n\n  };\n\n  this.getCamera = function ( camera ) {\n\n    if ( device === null ) return camera;\n\n    device.depthNear = camera.near;\n    device.depthFar = camera.far;\n\n    device.getFrameData( frameData );\n\n    //\n\n    var pose = frameData.pose;\n\n    if ( pose.position !== null ) {\n\n      camera.position.fromArray( pose.position );\n\n    } else {\n\n      camera.position.set( 0, 0, 0 );\n\n    }\n\n    if ( pose.orientation !== null ) {\n\n      camera.quaternion.fromArray( pose.orientation );\n\n    }\n\n    camera.updateMatrixWorld();\n\n    var stageParameters = device.stageParameters;\n\n    if ( this.standing && stageParameters ) {\n\n      standingMatrix.fromArray( stageParameters.sittingToStandingTransform );\n      standingMatrixInverse.getInverse( standingMatrix );\n\n      camera.matrixWorld.multiply( standingMatrix );\n      camera.matrixWorldInverse.multiply( standingMatrixInverse );\n\n    }\n\n    if ( device.isPresenting === false ) return camera;\n\n    //\n\n    cameraL.near = camera.near;\n    cameraR.near = camera.near;\n\n    cameraL.far = camera.far;\n    cameraR.far = camera.far;\n\n    cameraVR.matrixWorld.copy( camera.matrixWorld );\n    cameraVR.matrixWorldInverse.copy( camera.matrixWorldInverse );\n\n    cameraL.matrixWorldInverse.fromArray( frameData.leftViewMatrix );\n    cameraR.matrixWorldInverse.fromArray( frameData.rightViewMatrix );\n\n    if ( this.standing && stageParameters ) {\n\n      cameraL.matrixWorldInverse.multiply( standingMatrixInverse );\n      cameraR.matrixWorldInverse.multiply( standingMatrixInverse );\n\n    }\n\n    var parent = camera.parent;\n\n    if ( parent !== null ) {\n\n      matrixWorldInverse.getInverse( parent.matrixWorld );\n\n      cameraL.matrixWorldInverse.multiply( matrixWorldInverse );\n      cameraR.matrixWorldInverse.multiply( matrixWorldInverse );\n\n    }\n\n    // envMap and Mirror needs camera.matrixWorld\n\n    cameraL.matrixWorld.getInverse( cameraL.matrixWorldInverse );\n    cameraR.matrixWorld.getInverse( cameraR.matrixWorldInverse );\n\n    cameraL.projectionMatrix.fromArray( frameData.leftProjectionMatrix );\n    cameraR.projectionMatrix.fromArray( frameData.rightProjectionMatrix );\n\n    // HACK @mrdoob\n    // https://github.com/w3c/webvr/issues/203\n\n    cameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n    //\n\n    var layers = device.getLayers();\n\n    if ( layers.length ) {\n\n      var layer = layers[ 0 ];\n\n      if ( layer.leftBounds !== null && layer.leftBounds.length === 4 ) {\n\n        cameraL.bounds.fromArray( layer.leftBounds );\n\n      }\n\n      if ( layer.rightBounds !== null && layer.rightBounds.length === 4 ) {\n\n        cameraR.bounds.fromArray( layer.rightBounds );\n\n      }\n\n    }\n\n    return cameraVR;\n\n  };\n\n  this.getStandingMatrix = function () {\n\n    return standingMatrix;\n\n  };\n\n  this.submitFrame = function () {\n\n    if ( device && device.isPresenting ) device.submitFrame();\n\n  };\n\n  this.dispose = function() {\n\n    window.removeEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange );\n\n  };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLExtensions( gl ) {\n\n  var extensions = {};\n\n  return {\n\n    get: function ( name ) {\n\n      if ( extensions[ name ] !== undefined ) {\n\n        return extensions[ name ];\n\n      }\n\n      var extension;\n\n      switch ( name ) {\n\n        case 'WEBGL_depth_texture':\n          extension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n          break;\n\n        case 'EXT_texture_filter_anisotropic':\n          extension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n          break;\n\n        case 'WEBGL_compressed_texture_s3tc':\n          extension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n          break;\n\n        case 'WEBGL_compressed_texture_pvrtc':\n          extension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n          break;\n\n        case 'WEBGL_compressed_texture_etc1':\n          extension = gl.getExtension( 'WEBGL_compressed_texture_etc1' );\n          break;\n\n        default:\n          extension = gl.getExtension( name );\n\n      }\n\n      if ( extension === null ) {\n\n        console.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n      }\n\n      extensions[ name ] = extension;\n\n      return extension;\n\n    }\n\n  };\n\n}\n\n/**\n * @author tschw\n */\n\nfunction WebGLClipping() {\n\n  var scope = this,\n\n    globalState = null,\n    numGlobalPlanes = 0,\n    localClippingEnabled = false,\n    renderingShadows = false,\n\n    plane = new Plane(),\n    viewNormalMatrix = new Matrix3(),\n\n    uniform = { value: null, needsUpdate: false };\n\n  this.uniform = uniform;\n  this.numPlanes = 0;\n  this.numIntersection = 0;\n\n  this.init = function( planes, enableLocalClipping, camera ) {\n\n    var enabled =\n      planes.length !== 0 ||\n      enableLocalClipping ||\n      // enable state of previous frame - the clipping code has to\n      // run another frame in order to reset the state:\n      numGlobalPlanes !== 0 ||\n      localClippingEnabled;\n\n    localClippingEnabled = enableLocalClipping;\n\n    globalState = projectPlanes( planes, camera, 0 );\n    numGlobalPlanes = planes.length;\n\n    return enabled;\n\n  };\n\n  this.beginShadows = function() {\n\n    renderingShadows = true;\n    projectPlanes( null );\n\n  };\n\n  this.endShadows = function() {\n\n    renderingShadows = false;\n    resetGlobalState();\n\n  };\n\n  this.setState = function( planes, clipIntersection, clipShadows, camera, cache, fromCache ) {\n\n    if ( ! localClippingEnabled ||\n      planes === null || planes.length === 0 ||\n      renderingShadows && ! clipShadows ) {\n      // there's no local clipping\n\n      if ( renderingShadows ) {\n        // there's no global clipping\n\n        projectPlanes( null );\n\n      } else {\n\n        resetGlobalState();\n      }\n\n    } else {\n\n      var nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n        lGlobal = nGlobal * 4,\n\n        dstArray = cache.clippingState || null;\n\n      uniform.value = dstArray; // ensure unique state\n\n      dstArray = projectPlanes( planes, camera, lGlobal, fromCache );\n\n      for ( var i = 0; i !== lGlobal; ++ i ) {\n\n        dstArray[ i ] = globalState[ i ];\n\n      }\n\n      cache.clippingState = dstArray;\n      this.numIntersection = clipIntersection ? this.numPlanes : 0;\n      this.numPlanes += nGlobal;\n\n    }\n\n\n  };\n\n  function resetGlobalState() {\n\n    if ( uniform.value !== globalState ) {\n\n      uniform.value = globalState;\n      uniform.needsUpdate = numGlobalPlanes > 0;\n\n    }\n\n    scope.numPlanes = numGlobalPlanes;\n    scope.numIntersection = 0;\n\n  }\n\n  function projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n    var nPlanes = planes !== null ? planes.length : 0,\n      dstArray = null;\n\n    if ( nPlanes !== 0 ) {\n\n      dstArray = uniform.value;\n\n      if ( skipTransform !== true || dstArray === null ) {\n\n        var flatSize = dstOffset + nPlanes * 4,\n          viewMatrix = camera.matrixWorldInverse;\n\n        viewNormalMatrix.getNormalMatrix( viewMatrix );\n\n        if ( dstArray === null || dstArray.length < flatSize ) {\n\n          dstArray = new Float32Array( flatSize );\n\n        }\n\n        for ( var i = 0, i4 = dstOffset;\n              i !== nPlanes; ++ i, i4 += 4 ) {\n\n          plane.copy( planes[ i ] ).\n          applyMatrix4( viewMatrix, viewNormalMatrix );\n\n          plane.normal.toArray( dstArray, i4 );\n          dstArray[ i4 + 3 ] = plane.constant;\n\n        }\n\n      }\n\n      uniform.value = dstArray;\n      uniform.needsUpdate = true;\n\n    }\n\n    scope.numPlanes = nPlanes;\n\n    return dstArray;\n\n  }\n\n}\n\n/**\n * @author thespite / http://www.twitter.com/thespite\n */\n\nfunction WebGLUtils ( gl, extensions ) {\n\n  function convert ( p ) {\n\n    var extension;\n\n    if ( p === RepeatWrapping ) return gl.REPEAT;\n    if ( p === ClampToEdgeWrapping ) return gl.CLAMP_TO_EDGE;\n    if ( p === MirroredRepeatWrapping ) return gl.MIRRORED_REPEAT;\n\n    if ( p === NearestFilter ) return gl.NEAREST;\n    if ( p === NearestMipMapNearestFilter ) return gl.NEAREST_MIPMAP_NEAREST;\n    if ( p === NearestMipMapLinearFilter ) return gl.NEAREST_MIPMAP_LINEAR;\n\n    if ( p === LinearFilter ) return gl.LINEAR;\n    if ( p === LinearMipMapNearestFilter ) return gl.LINEAR_MIPMAP_NEAREST;\n    if ( p === LinearMipMapLinearFilter ) return gl.LINEAR_MIPMAP_LINEAR;\n\n    if ( p === UnsignedByteType ) return gl.UNSIGNED_BYTE;\n    if ( p === UnsignedShort4444Type ) return gl.UNSIGNED_SHORT_4_4_4_4;\n    if ( p === UnsignedShort5551Type ) return gl.UNSIGNED_SHORT_5_5_5_1;\n    if ( p === UnsignedShort565Type ) return gl.UNSIGNED_SHORT_5_6_5;\n\n    if ( p === ByteType ) return gl.BYTE;\n    if ( p === ShortType ) return gl.SHORT;\n    if ( p === UnsignedShortType ) return gl.UNSIGNED_SHORT;\n    if ( p === IntType ) return gl.INT;\n    if ( p === UnsignedIntType ) return gl.UNSIGNED_INT;\n    if ( p === FloatType ) return gl.FLOAT;\n\n    if ( p === HalfFloatType ) {\n\n      extension = extensions.get( 'OES_texture_half_float' );\n\n      if ( extension !== null ) return extension.HALF_FLOAT_OES;\n\n    }\n\n    if ( p === AlphaFormat ) return gl.ALPHA;\n    if ( p === RGBFormat ) return gl.RGB;\n    if ( p === RGBAFormat ) return gl.RGBA;\n    if ( p === LuminanceFormat ) return gl.LUMINANCE;\n    if ( p === LuminanceAlphaFormat ) return gl.LUMINANCE_ALPHA;\n    if ( p === DepthFormat ) return gl.DEPTH_COMPONENT;\n    if ( p === DepthStencilFormat ) return gl.DEPTH_STENCIL;\n\n    if ( p === AddEquation ) return gl.FUNC_ADD;\n    if ( p === SubtractEquation ) return gl.FUNC_SUBTRACT;\n    if ( p === ReverseSubtractEquation ) return gl.FUNC_REVERSE_SUBTRACT;\n\n    if ( p === ZeroFactor ) return gl.ZERO;\n    if ( p === OneFactor ) return gl.ONE;\n    if ( p === SrcColorFactor ) return gl.SRC_COLOR;\n    if ( p === OneMinusSrcColorFactor ) return gl.ONE_MINUS_SRC_COLOR;\n    if ( p === SrcAlphaFactor ) return gl.SRC_ALPHA;\n    if ( p === OneMinusSrcAlphaFactor ) return gl.ONE_MINUS_SRC_ALPHA;\n    if ( p === DstAlphaFactor ) return gl.DST_ALPHA;\n    if ( p === OneMinusDstAlphaFactor ) return gl.ONE_MINUS_DST_ALPHA;\n\n    if ( p === DstColorFactor ) return gl.DST_COLOR;\n    if ( p === OneMinusDstColorFactor ) return gl.ONE_MINUS_DST_COLOR;\n    if ( p === SrcAlphaSaturateFactor ) return gl.SRC_ALPHA_SATURATE;\n\n    if ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n      p === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n      extension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n      if ( extension !== null ) {\n\n        if ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n        if ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n        if ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n        if ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n      }\n\n    }\n\n    if ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n      p === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n      extension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n      if ( extension !== null ) {\n\n        if ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n        if ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n        if ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n        if ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n      }\n\n    }\n\n    if ( p === RGB_ETC1_Format ) {\n\n      extension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n      if ( extension !== null ) return extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n    }\n\n    if ( p === MinEquation || p === MaxEquation ) {\n\n      extension = extensions.get( 'EXT_blend_minmax' );\n\n      if ( extension !== null ) {\n\n        if ( p === MinEquation ) return extension.MIN_EXT;\n        if ( p === MaxEquation ) return extension.MAX_EXT;\n\n      }\n\n    }\n\n    if ( p === UnsignedInt248Type ) {\n\n      extension = extensions.get( 'WEBGL_depth_texture' );\n\n      if ( extension !== null ) return extension.UNSIGNED_INT_24_8_WEBGL;\n\n    }\n\n    return 0;\n\n  }\n\n  return { convert: convert }\n\n}\n\n// import { Sphere } from '../math/Sphere';\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n * @author tschw\n */\n\nfunction WebGLRenderer( parameters ) {\n\n  console.log( 'THREE.WebGLRenderer', REVISION );\n\n  parameters = parameters || {};\n\n  var _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ),\n    _context = parameters.context !== undefined ? parameters.context : null,\n\n    _alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n    _depth = parameters.depth !== undefined ? parameters.depth : true,\n    _stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n    _antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n    _premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n    _preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false;\n\n  var lightsArray = [];\n  var shadowsArray = [];\n\n  var currentRenderList = null;\n\n  var spritesArray = [];\n  var flaresArray = [];\n\n  // public properties\n\n  this.domElement = _canvas;\n  this.context = null;\n\n  // clearing\n\n  this.autoClear = true;\n  this.autoClearColor = true;\n  this.autoClearDepth = true;\n  this.autoClearStencil = true;\n\n  // scene graph\n\n  this.sortObjects = true;\n\n  // user-defined clipping\n\n  this.clippingPlanes = [];\n  this.localClippingEnabled = false;\n\n  // physically based shading\n\n  this.gammaFactor = 2.0;\t// for backwards compatibility\n  this.gammaInput = false;\n  this.gammaOutput = false;\n\n  // physical lights\n\n  this.physicallyCorrectLights = false;\n\n  // tone mapping\n\n  this.toneMapping = LinearToneMapping;\n  this.toneMappingExposure = 1.0;\n  this.toneMappingWhitePoint = 1.0;\n\n  // morphs\n\n  this.maxMorphTargets = 8;\n  this.maxMorphNormals = 4;\n\n  // internal properties\n\n  var _this = this,\n\n    _isContextLost = false,\n\n    // internal state cache\n\n    _currentRenderTarget = null,\n    _currentFramebuffer = null,\n    _currentMaterialId = - 1,\n    _currentGeometryProgram = '',\n\n    _currentCamera = null,\n    _currentArrayCamera = null,\n\n    _currentViewport = new Vector4(),\n    _currentScissor = new Vector4(),\n    _currentScissorTest = null,\n\n    //\n\n    _usedTextureUnits = 0,\n\n    //\n\n    _width = _canvas.width,\n    _height = _canvas.height,\n\n    _pixelRatio = 1,\n\n    _viewport = new Vector4( 0, 0, _width, _height ),\n    _scissor = new Vector4( 0, 0, _width, _height ),\n    _scissorTest = false,\n\n    // frustum\n\n    _frustum = new Frustum(),\n\n    // clipping\n\n    _clipping = new WebGLClipping(),\n    _clippingEnabled = false,\n    _localClippingEnabled = false,\n\n    // camera matrices cache\n\n    _projScreenMatrix = new Matrix4(),\n\n    _vector3 = new Vector3(),\n\n    // info\n\n    _infoMemory = {\n      geometries: 0,\n      textures: 0\n    },\n\n    _infoRender = {\n\n      frame: 0,\n      calls: 0,\n      vertices: 0,\n      faces: 0,\n      points: 0\n\n    };\n\n  this.info = {\n\n    render: _infoRender,\n    memory: _infoMemory,\n    programs: null\n\n  };\n\n  function getTargetPixelRatio() {\n\n    return _currentRenderTarget === null ? _pixelRatio : 1;\n\n  }\n\n  // initialize\n\n  var _gl;\n\n  try {\n\n    var contextAttributes = {\n      alpha: _alpha,\n      depth: _depth,\n      stencil: _stencil,\n      antialias: _antialias,\n      premultipliedAlpha: _premultipliedAlpha,\n      preserveDrawingBuffer: _preserveDrawingBuffer\n    };\n\n    _gl = _context || _canvas.getContext( 'webgl', contextAttributes ) || _canvas.getContext( 'experimental-webgl', contextAttributes );\n\n    if ( _gl === null ) {\n\n      if ( _canvas.getContext( 'webgl' ) !== null ) {\n\n        throw 'Error creating WebGL context with your selected attributes.';\n\n      } else {\n\n        throw 'Error creating WebGL context.';\n\n      }\n\n    }\n\n    // Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n    if ( _gl.getShaderPrecisionFormat === undefined ) {\n\n      _gl.getShaderPrecisionFormat = function () {\n\n        return { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n      };\n\n    }\n\n    _canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n    _canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n  } catch ( error ) {\n\n    console.error( 'THREE.WebGLRenderer: ' + error );\n\n  }\n\n  var extensions, capabilities, state;\n  var properties, textures, attributes, geometries, objects, lights;\n  var programCache, renderLists;\n\n  var background, morphtargets, bufferRenderer, indexedBufferRenderer;\n  var flareRenderer, spriteRenderer;\n\n  var utils;\n\n  function initGLContext() {\n\n    extensions = new WebGLExtensions( _gl );\n    extensions.get( 'WEBGL_depth_texture' );\n    extensions.get( 'OES_texture_float' );\n    extensions.get( 'OES_texture_float_linear' );\n    extensions.get( 'OES_texture_half_float' );\n    extensions.get( 'OES_texture_half_float_linear' );\n    extensions.get( 'OES_standard_derivatives' );\n    extensions.get( 'ANGLE_instanced_arrays' );\n\n    if ( extensions.get( 'OES_element_index_uint' ) ) {\n\n      BufferGeometry.MaxIndex = 4294967296;\n\n    }\n\n    utils = new WebGLUtils( _gl, extensions );\n\n    capabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n    state = new WebGLState( _gl, extensions, utils );\n    state.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\n    state.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\n\n    properties = new WebGLProperties();\n    textures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, _infoMemory );\n    attributes = new WebGLAttributes( _gl );\n    geometries = new WebGLGeometries( _gl, attributes, _infoMemory );\n    objects = new WebGLObjects( geometries, _infoRender );\n    morphtargets = new WebGLMorphtargets( _gl );\n    programCache = new WebGLPrograms( _this, extensions, capabilities );\n    lights = new WebGLLights();\n    renderLists = new WebGLRenderLists();\n\n    background = new WebGLBackground( _this, state, geometries, _premultipliedAlpha );\n\n    bufferRenderer = new WebGLBufferRenderer( _gl, extensions, _infoRender );\n    indexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, _infoRender );\n\n    flareRenderer = new WebGLFlareRenderer( _this, _gl, state, textures, capabilities );\n    spriteRenderer = new WebGLSpriteRenderer( _this, _gl, state, textures, capabilities );\n\n    _this.info.programs = programCache.programs;\n\n    _this.context = _gl;\n    _this.capabilities = capabilities;\n    _this.extensions = extensions;\n    _this.properties = properties;\n    _this.renderLists = renderLists;\n    _this.state = state;\n\n  }\n\n  initGLContext();\n\n  // vr\n\n  var vr = new WebVRManager( _this );\n\n  this.vr = vr;\n\n  // shadow map\n\n  var shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\n\n  this.shadowMap = shadowMap;\n\n  // API\n\n  this.getContext = function () {\n\n    return _gl;\n\n  };\n\n  this.getContextAttributes = function () {\n\n    return _gl.getContextAttributes();\n\n  };\n\n  this.forceContextLoss = function () {\n\n    var extension = extensions.get( 'WEBGL_lose_context' );\n    if ( extension ) extension.loseContext();\n\n  };\n\n  this.forceContextRestore = function () {\n\n    var extension = extensions.get( 'WEBGL_lose_context' );\n    if ( extension ) extension.restoreContext();\n\n  };\n\n  this.getPixelRatio = function () {\n\n    return _pixelRatio;\n\n  };\n\n  this.setPixelRatio = function ( value ) {\n\n    if ( value === undefined ) return;\n\n    _pixelRatio = value;\n\n    this.setSize( _width, _height, false );\n\n  };\n\n  this.getSize = function () {\n\n    return {\n      width: _width,\n      height: _height\n    };\n\n  };\n\n  this.setSize = function ( width, height, updateStyle ) {\n\n    var device = vr.getDevice();\n\n    if ( device && device.isPresenting ) {\n\n      console.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n      return;\n\n    }\n\n    _width = width;\n    _height = height;\n\n    _canvas.width = width * _pixelRatio;\n    _canvas.height = height * _pixelRatio;\n\n    if ( updateStyle !== false ) {\n\n      _canvas.style.width = width + 'px';\n      _canvas.style.height = height + 'px';\n\n    }\n\n    this.setViewport( 0, 0, width, height );\n\n  };\n\n  this.getDrawingBufferSize = function () {\n\n    return {\n      width: _width * _pixelRatio,\n      height: _height * _pixelRatio\n    };\n\n  };\n\n  this.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n    _width = width;\n    _height = height;\n\n    _pixelRatio = pixelRatio;\n\n    _canvas.width = width * pixelRatio;\n    _canvas.height = height * pixelRatio;\n\n    this.setViewport( 0, 0, width, height );\n\n  };\n\n  this.setViewport = function ( x, y, width, height ) {\n\n    _viewport.set( x, _height - y - height, width, height );\n    state.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\n\n  };\n\n  this.setScissor = function ( x, y, width, height ) {\n\n    _scissor.set( x, _height - y - height, width, height );\n    state.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\n\n  };\n\n  this.setScissorTest = function ( boolean ) {\n\n    state.setScissorTest( _scissorTest = boolean );\n\n  };\n\n  // Clearing\n\n  this.getClearColor = background.getClearColor;\n  this.setClearColor = background.setClearColor;\n  this.getClearAlpha = background.getClearAlpha;\n  this.setClearAlpha = background.setClearAlpha;\n\n  this.clear = function ( color, depth, stencil ) {\n\n    var bits = 0;\n\n    if ( color === undefined || color ) bits |= _gl.COLOR_BUFFER_BIT;\n    if ( depth === undefined || depth ) bits |= _gl.DEPTH_BUFFER_BIT;\n    if ( stencil === undefined || stencil ) bits |= _gl.STENCIL_BUFFER_BIT;\n\n    _gl.clear( bits );\n\n  };\n\n  this.clearColor = function () {\n\n    this.clear( true, false, false );\n\n  };\n\n  this.clearDepth = function () {\n\n    this.clear( false, true, false );\n\n  };\n\n  this.clearStencil = function () {\n\n    this.clear( false, false, true );\n\n  };\n\n  this.clearTarget = function ( renderTarget, color, depth, stencil ) {\n\n    this.setRenderTarget( renderTarget );\n    this.clear( color, depth, stencil );\n\n  };\n\n  //\n\n  this.dispose = function () {\n\n    _canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n    _canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n    renderLists.dispose();\n\n    vr.dispose();\n\n  };\n\n  // Events\n\n  function onContextLost( event ) {\n\n    event.preventDefault();\n\n    console.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n    _isContextLost = true;\n\n  }\n\n  function onContextRestore( event ) {\n\n    console.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n    _isContextLost = false;\n\n    initGLContext();\n\n  }\n\n  function onMaterialDispose( event ) {\n\n    var material = event.target;\n\n    material.removeEventListener( 'dispose', onMaterialDispose );\n\n    deallocateMaterial( material );\n\n  }\n\n  // Buffer deallocation\n\n  function deallocateMaterial( material ) {\n\n    releaseMaterialProgramReference( material );\n\n    properties.remove( material );\n\n  }\n\n\n  function releaseMaterialProgramReference( material ) {\n\n    var programInfo = properties.get( material ).program;\n\n    material.program = undefined;\n\n    if ( programInfo !== undefined ) {\n\n      programCache.releaseProgram( programInfo );\n\n    }\n\n  }\n\n  // Buffer rendering\n\n  function renderObjectImmediate( object, program, material ) {\n\n    object.render( function ( object ) {\n\n      _this.renderBufferImmediate( object, program, material );\n\n    } );\n\n  }\n\n  this.renderBufferImmediate = function ( object, program, material ) {\n\n    state.initAttributes();\n\n    var buffers = properties.get( object );\n\n    if ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n    if ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n    if ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n    if ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n    var programAttributes = program.getAttributes();\n\n    if ( object.hasPositions ) {\n\n      _gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.position );\n      _gl.bufferData( _gl.ARRAY_BUFFER, object.positionArray, _gl.DYNAMIC_DRAW );\n\n      state.enableAttribute( programAttributes.position );\n      _gl.vertexAttribPointer( programAttributes.position, 3, _gl.FLOAT, false, 0, 0 );\n\n    }\n\n    if ( object.hasNormals ) {\n\n      _gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.normal );\n\n      if ( ! material.isMeshPhongMaterial &&\n        ! material.isMeshStandardMaterial &&\n        ! material.isMeshNormalMaterial &&\n        material.flatShading === true ) {\n\n        for ( var i = 0, l = object.count * 3; i < l; i += 9 ) {\n\n          var array = object.normalArray;\n\n          var nx = ( array[ i + 0 ] + array[ i + 3 ] + array[ i + 6 ] ) / 3;\n          var ny = ( array[ i + 1 ] + array[ i + 4 ] + array[ i + 7 ] ) / 3;\n          var nz = ( array[ i + 2 ] + array[ i + 5 ] + array[ i + 8 ] ) / 3;\n\n          array[ i + 0 ] = nx;\n          array[ i + 1 ] = ny;\n          array[ i + 2 ] = nz;\n\n          array[ i + 3 ] = nx;\n          array[ i + 4 ] = ny;\n          array[ i + 5 ] = nz;\n\n          array[ i + 6 ] = nx;\n          array[ i + 7 ] = ny;\n          array[ i + 8 ] = nz;\n\n        }\n\n      }\n\n      _gl.bufferData( _gl.ARRAY_BUFFER, object.normalArray, _gl.DYNAMIC_DRAW );\n\n      state.enableAttribute( programAttributes.normal );\n\n      _gl.vertexAttribPointer( programAttributes.normal, 3, _gl.FLOAT, false, 0, 0 );\n\n    }\n\n    if ( object.hasUvs && material.map ) {\n\n      _gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.uv );\n      _gl.bufferData( _gl.ARRAY_BUFFER, object.uvArray, _gl.DYNAMIC_DRAW );\n\n      state.enableAttribute( programAttributes.uv );\n\n      _gl.vertexAttribPointer( programAttributes.uv, 2, _gl.FLOAT, false, 0, 0 );\n\n    }\n\n    if ( object.hasColors && material.vertexColors !== NoColors ) {\n\n      _gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.color );\n      _gl.bufferData( _gl.ARRAY_BUFFER, object.colorArray, _gl.DYNAMIC_DRAW );\n\n      state.enableAttribute( programAttributes.color );\n\n      _gl.vertexAttribPointer( programAttributes.color, 3, _gl.FLOAT, false, 0, 0 );\n\n    }\n\n    state.disableUnusedAttributes();\n\n    _gl.drawArrays( _gl.TRIANGLES, 0, object.count );\n\n    object.count = 0;\n\n  };\n\n  this.renderBufferDirect = function ( camera, fog, geometry, material, object, group ) {\n\n    state.setMaterial( material );\n\n    var program = setProgram( camera, fog, material, object );\n    var geometryProgram = geometry.id + '_' + program.id + '_' + ( material.wireframe === true );\n\n    var updateBuffers = false;\n\n    if ( geometryProgram !== _currentGeometryProgram ) {\n\n      _currentGeometryProgram = geometryProgram;\n      updateBuffers = true;\n\n    }\n\n    if ( object.morphTargetInfluences ) {\n\n      morphtargets.update( object, geometry, material, program );\n\n      updateBuffers = true;\n\n    }\n\n    //\n\n    var index = geometry.index;\n    var position = geometry.attributes.position;\n    var rangeFactor = 1;\n\n    if ( material.wireframe === true ) {\n\n      index = geometries.getWireframeAttribute( geometry );\n      rangeFactor = 2;\n\n    }\n\n    var attribute;\n    var renderer = bufferRenderer;\n\n    if ( index !== null ) {\n\n      attribute = attributes.get( index );\n\n      renderer = indexedBufferRenderer;\n      renderer.setIndex( attribute );\n\n    }\n\n    if ( updateBuffers ) {\n\n      setupVertexAttributes( material, program, geometry );\n\n      if ( index !== null ) {\n\n        _gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, attribute.buffer );\n\n      }\n\n    }\n\n    //\n\n    var dataCount = 0;\n\n    if ( index !== null ) {\n\n      dataCount = index.count;\n\n    } else if ( position !== undefined ) {\n\n      dataCount = position.count;\n\n    }\n\n    var rangeStart = geometry.drawRange.start * rangeFactor;\n    var rangeCount = geometry.drawRange.count * rangeFactor;\n\n    var groupStart = group !== null ? group.start * rangeFactor : 0;\n    var groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n    var drawStart = Math.max( rangeStart, groupStart );\n    var drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n    var drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n    if ( drawCount === 0 ) return;\n\n    //\n\n    if ( object.isMesh ) {\n\n      if ( material.wireframe === true ) {\n\n        state.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n        renderer.setMode( _gl.LINES );\n\n      } else {\n\n        switch ( object.drawMode ) {\n\n          case TrianglesDrawMode:\n            renderer.setMode( _gl.TRIANGLES );\n            break;\n\n          case TriangleStripDrawMode:\n            renderer.setMode( _gl.TRIANGLE_STRIP );\n            break;\n\n          case TriangleFanDrawMode:\n            renderer.setMode( _gl.TRIANGLE_FAN );\n            break;\n\n        }\n\n      }\n\n\n    } else if ( object.isLine ) {\n\n      var lineWidth = material.linewidth;\n\n      if ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n      state.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n      if ( object.isLineSegments ) {\n\n        renderer.setMode( _gl.LINES );\n\n      } else if ( object.isLineLoop ) {\n\n        renderer.setMode( _gl.LINE_LOOP );\n\n      } else {\n\n        renderer.setMode( _gl.LINE_STRIP );\n\n      }\n\n    } else if ( object.isPoints ) {\n\n      renderer.setMode( _gl.POINTS );\n\n    }\n\n    if ( geometry && geometry.isInstancedBufferGeometry ) {\n\n      if ( geometry.maxInstancedCount > 0 ) {\n\n        renderer.renderInstances( geometry, drawStart, drawCount );\n\n      }\n\n    } else {\n\n      renderer.render( drawStart, drawCount );\n\n    }\n\n  };\n\n  function setupVertexAttributes( material, program, geometry, startIndex ) {\n\n    if ( geometry && geometry.isInstancedBufferGeometry ) {\n\n      if ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) {\n\n        console.error( 'THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n        return;\n\n      }\n\n    }\n\n    if ( startIndex === undefined ) startIndex = 0;\n\n    state.initAttributes();\n\n    var geometryAttributes = geometry.attributes;\n\n    var programAttributes = program.getAttributes();\n\n    var materialDefaultAttributeValues = material.defaultAttributeValues;\n\n    for ( var name in programAttributes ) {\n\n      var programAttribute = programAttributes[ name ];\n\n      if ( programAttribute >= 0 ) {\n\n        var geometryAttribute = geometryAttributes[ name ];\n\n        if ( geometryAttribute !== undefined ) {\n\n          var normalized = geometryAttribute.normalized;\n          var size = geometryAttribute.itemSize;\n\n          var attribute = attributes.get( geometryAttribute );\n\n          // TODO Attribute may not be available on context restore\n\n          if ( attribute === undefined ) continue;\n\n          var buffer = attribute.buffer;\n          var type = attribute.type;\n          var bytesPerElement = attribute.bytesPerElement;\n\n          if ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n            var data = geometryAttribute.data;\n            var stride = data.stride;\n            var offset = geometryAttribute.offset;\n\n            if ( data && data.isInstancedInterleavedBuffer ) {\n\n              state.enableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n              if ( geometry.maxInstancedCount === undefined ) {\n\n                geometry.maxInstancedCount = data.meshPerAttribute * data.count;\n\n              }\n\n            } else {\n\n              state.enableAttribute( programAttribute );\n\n            }\n\n            _gl.bindBuffer( _gl.ARRAY_BUFFER, buffer );\n            _gl.vertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, ( startIndex * stride + offset ) * bytesPerElement );\n\n          } else {\n\n            if ( geometryAttribute.isInstancedBufferAttribute ) {\n\n              state.enableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n              if ( geometry.maxInstancedCount === undefined ) {\n\n                geometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n              }\n\n            } else {\n\n              state.enableAttribute( programAttribute );\n\n            }\n\n            _gl.bindBuffer( _gl.ARRAY_BUFFER, buffer );\n            _gl.vertexAttribPointer( programAttribute, size, type, normalized, 0, startIndex * size * bytesPerElement );\n\n          }\n\n        } else if ( materialDefaultAttributeValues !== undefined ) {\n\n          var value = materialDefaultAttributeValues[ name ];\n\n          if ( value !== undefined ) {\n\n            switch ( value.length ) {\n\n              case 2:\n                _gl.vertexAttrib2fv( programAttribute, value );\n                break;\n\n              case 3:\n                _gl.vertexAttrib3fv( programAttribute, value );\n                break;\n\n              case 4:\n                _gl.vertexAttrib4fv( programAttribute, value );\n                break;\n\n              default:\n                _gl.vertexAttrib1fv( programAttribute, value );\n\n            }\n\n          }\n\n        }\n\n      }\n\n    }\n\n    state.disableUnusedAttributes();\n\n  }\n\n  // Compile\n\n  this.compile = function ( scene, camera ) {\n\n    lightsArray.length = 0;\n    shadowsArray.length = 0;\n\n    scene.traverse( function ( object ) {\n\n      if ( object.isLight ) {\n\n        lightsArray.push( object );\n\n        if ( object.castShadow ) {\n\n          shadowsArray.push( object );\n\n        }\n\n      }\n\n    } );\n\n    lights.setup( lightsArray, shadowsArray, camera );\n\n    scene.traverse( function ( object ) {\n\n      if ( object.material ) {\n\n        if ( Array.isArray( object.material ) ) {\n\n          for ( var i = 0; i < object.material.length; i ++ ) {\n\n            initMaterial( object.material[ i ], scene.fog, object );\n\n          }\n\n        } else {\n\n          initMaterial( object.material, scene.fog, object );\n\n        }\n\n      }\n\n    } );\n\n  };\n\n  // Animation Loop\n\n  var isAnimating = false;\n  var onAnimationFrame = null;\n\n  function start() {\n\n    if ( isAnimating ) return;\n    ( vr.getDevice() || window ).requestAnimationFrame( loop );\n    isAnimating = true;\n\n  }\n\n  function loop( time ) {\n\n    if ( onAnimationFrame !== null ) onAnimationFrame( time );\n    ( vr.getDevice() || window ).requestAnimationFrame( loop );\n\n  }\n\n  this.animate = function ( callback ) {\n\n    onAnimationFrame = callback;\n    start();\n\n  };\n\n  // Rendering\n\n  this.render = function ( scene, camera, renderTarget, forceClear ) {\n\n    if ( ! ( camera && camera.isCamera ) ) {\n\n      console.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n      return;\n\n    }\n\n    if ( _isContextLost ) return;\n\n    // reset caching for this frame\n\n    _currentGeometryProgram = '';\n    _currentMaterialId = - 1;\n    _currentCamera = null;\n\n    // update scene graph\n\n    if ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n    // update camera matrices and frustum\n\n    if ( camera.parent === null ) camera.updateMatrixWorld();\n\n    if ( vr.enabled ) {\n\n      camera = vr.getCamera( camera );\n\n    }\n\n    _projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n    _frustum.setFromMatrix( _projScreenMatrix );\n\n    lightsArray.length = 0;\n    shadowsArray.length = 0;\n\n    spritesArray.length = 0;\n    flaresArray.length = 0;\n\n    _localClippingEnabled = this.localClippingEnabled;\n    _clippingEnabled = _clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n    currentRenderList = renderLists.get( scene, camera );\n    currentRenderList.init();\n\n    projectObject( scene, camera, _this.sortObjects );\n\n    if ( _this.sortObjects === true ) {\n\n      currentRenderList.sort();\n\n    }\n\n    //\n\n    if ( _clippingEnabled ) _clipping.beginShadows();\n\n    shadowMap.render( shadowsArray, scene, camera );\n\n    lights.setup( lightsArray, shadowsArray, camera );\n\n    if ( _clippingEnabled ) _clipping.endShadows();\n\n    //\n\n    _infoRender.frame ++;\n    _infoRender.calls = 0;\n    _infoRender.vertices = 0;\n    _infoRender.faces = 0;\n    _infoRender.points = 0;\n\n    if ( renderTarget === undefined ) {\n\n      renderTarget = null;\n\n    }\n\n    this.setRenderTarget( renderTarget );\n\n    //\n\n    background.render( currentRenderList, scene, camera, forceClear );\n\n    // render scene\n\n    var opaqueObjects = currentRenderList.opaque;\n    var transparentObjects = currentRenderList.transparent;\n\n    if ( scene.overrideMaterial ) {\n\n      var overrideMaterial = scene.overrideMaterial;\n\n      if ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera, overrideMaterial );\n      if ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera, overrideMaterial );\n\n    } else {\n\n      // opaque pass (front-to-back order)\n\n      if ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera );\n\n      // transparent pass (back-to-front order)\n\n      if ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera );\n\n    }\n\n    // custom renderers\n\n    spriteRenderer.render( spritesArray, scene, camera );\n    flareRenderer.render( flaresArray, scene, camera, _currentViewport );\n\n    // Generate mipmap if we're using any kind of mipmap filtering\n\n    if ( renderTarget ) {\n\n      textures.updateRenderTargetMipmap( renderTarget );\n\n    }\n\n    // Ensure depth buffer writing is enabled so it can be cleared on next render\n\n    state.buffers.depth.setTest( true );\n    state.buffers.depth.setMask( true );\n    state.buffers.color.setMask( true );\n\n    state.setPolygonOffset( false );\n\n    if ( vr.enabled ) {\n\n      vr.submitFrame();\n\n    }\n\n    // _gl.finish();\n\n  };\n\n  /*\n   // TODO Duplicated code (Frustum)\n\n   var _sphere = new Sphere();\n\n   function isObjectViewable( object ) {\n\n   var geometry = object.geometry;\n\n   if ( geometry.boundingSphere === null )\n   geometry.computeBoundingSphere();\n\n   _sphere.copy( geometry.boundingSphere ).\n   applyMatrix4( object.matrixWorld );\n\n   return isSphereViewable( _sphere );\n\n   }\n\n   function isSpriteViewable( sprite ) {\n\n   _sphere.center.set( 0, 0, 0 );\n   _sphere.radius = 0.7071067811865476;\n   _sphere.applyMatrix4( sprite.matrixWorld );\n\n   return isSphereViewable( _sphere );\n\n   }\n\n   function isSphereViewable( sphere ) {\n\n   if ( ! _frustum.intersectsSphere( sphere ) ) return false;\n\n   var numPlanes = _clipping.numPlanes;\n\n   if ( numPlanes === 0 ) return true;\n\n   var planes = _this.clippingPlanes,\n\n   center = sphere.center,\n   negRad = - sphere.radius,\n   i = 0;\n\n   do {\n\n   // out when deeper than radius in the negative halfspace\n   if ( planes[ i ].distanceToPoint( center ) < negRad ) return false;\n\n   } while ( ++ i !== numPlanes );\n\n   return true;\n\n   }\n   */\n\n  function projectObject( object, camera, sortObjects ) {\n\n    if ( ! object.visible ) return;\n\n    var visible = object.layers.test( camera.layers );\n\n    if ( visible ) {\n\n      if ( object.isLight ) {\n\n        lightsArray.push( object );\n\n        if ( object.castShadow ) {\n\n          shadowsArray.push( object );\n\n        }\n\n      } else if ( object.isSprite ) {\n\n        if ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n          spritesArray.push( object );\n\n        }\n\n      } else if ( object.isLensFlare ) {\n\n        flaresArray.push( object );\n\n      } else if ( object.isImmediateRenderObject ) {\n\n        if ( sortObjects ) {\n\n          _vector3.setFromMatrixPosition( object.matrixWorld )\n            .applyMatrix4( _projScreenMatrix );\n\n        }\n\n        currentRenderList.push( object, null, object.material, _vector3.z, null );\n\n      } else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n        if ( object.isSkinnedMesh ) {\n\n          object.skeleton.update();\n\n        }\n\n        if ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n          if ( sortObjects ) {\n\n            _vector3.setFromMatrixPosition( object.matrixWorld )\n              .applyMatrix4( _projScreenMatrix );\n\n          }\n\n          var geometry = objects.update( object );\n          var material = object.material;\n\n          if ( Array.isArray( material ) ) {\n\n            var groups = geometry.groups;\n\n            for ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n              var group = groups[ i ];\n              var groupMaterial = material[ group.materialIndex ];\n\n              if ( groupMaterial && groupMaterial.visible ) {\n\n                currentRenderList.push( object, geometry, groupMaterial, _vector3.z, group );\n\n              }\n\n            }\n\n          } else if ( material.visible ) {\n\n            currentRenderList.push( object, geometry, material, _vector3.z, null );\n\n          }\n\n        }\n\n      }\n\n    }\n\n    var children = object.children;\n\n    for ( var i = 0, l = children.length; i < l; i ++ ) {\n\n      projectObject( children[ i ], camera, sortObjects );\n\n    }\n\n  }\n\n  function renderObjects( renderList, scene, camera, overrideMaterial ) {\n\n    for ( var i = 0, l = renderList.length; i < l; i ++ ) {\n\n      var renderItem = renderList[ i ];\n\n      var object = renderItem.object;\n      var geometry = renderItem.geometry;\n      var material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\n      var group = renderItem.group;\n\n      if ( camera.isArrayCamera ) {\n\n        _currentArrayCamera = camera;\n\n        var cameras = camera.cameras;\n\n        for ( var j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n          var camera2 = cameras[ j ];\n\n          if ( object.layers.test( camera2.layers ) ) {\n\n            var bounds = camera2.bounds;\n\n            var x = bounds.x * _width;\n            var y = bounds.y * _height;\n            var width = bounds.z * _width;\n            var height = bounds.w * _height;\n\n            state.viewport( _currentViewport.set( x, y, width, height ).multiplyScalar( _pixelRatio ) );\n\n            renderObject( object, scene, camera2, geometry, material, group );\n\n          }\n\n        }\n\n      } else {\n\n        _currentArrayCamera = null;\n\n        renderObject( object, scene, camera, geometry, material, group );\n\n      }\n\n    }\n\n  }\n\n  function renderObject( object, scene, camera, geometry, material, group ) {\n\n    object.onBeforeRender( _this, scene, camera, geometry, material, group );\n\n    object.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n    object.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n    if ( object.isImmediateRenderObject ) {\n\n      state.setMaterial( material );\n\n      var program = setProgram( camera, scene.fog, material, object );\n\n      _currentGeometryProgram = '';\n\n      renderObjectImmediate( object, program, material );\n\n    } else {\n\n      _this.renderBufferDirect( camera, scene.fog, geometry, material, object, group );\n\n    }\n\n    object.onAfterRender( _this, scene, camera, geometry, material, group );\n\n  }\n\n  function initMaterial( material, fog, object ) {\n\n    var materialProperties = properties.get( material );\n\n    var parameters = programCache.getParameters(\n      material, lights.state, shadowsArray, fog, _clipping.numPlanes, _clipping.numIntersection, object );\n\n    var code = programCache.getProgramCode( material, parameters );\n\n    var program = materialProperties.program;\n    var programChange = true;\n\n    if ( program === undefined ) {\n\n      // new material\n      material.addEventListener( 'dispose', onMaterialDispose );\n\n    } else if ( program.code !== code ) {\n\n      // changed glsl or parameters\n      releaseMaterialProgramReference( material );\n\n    } else if ( parameters.shaderID !== undefined ) {\n\n      // same glsl and uniform list\n      return;\n\n    } else {\n\n      // only rebuild uniform list\n      programChange = false;\n\n    }\n\n    if ( programChange ) {\n\n      if ( parameters.shaderID ) {\n\n        var shader = ShaderLib[ parameters.shaderID ];\n\n        materialProperties.shader = {\n          name: material.type,\n          uniforms: UniformsUtils.clone( shader.uniforms ),\n          vertexShader: shader.vertexShader,\n          fragmentShader: shader.fragmentShader\n        };\n\n      } else {\n\n        materialProperties.shader = {\n          name: material.type,\n          uniforms: material.uniforms,\n          vertexShader: material.vertexShader,\n          fragmentShader: material.fragmentShader\n        };\n\n      }\n\n      material.onBeforeCompile( materialProperties.shader );\n\n      program = programCache.acquireProgram( material, materialProperties.shader, parameters, code );\n\n      materialProperties.program = program;\n      material.program = program;\n\n    }\n\n    var programAttributes = program.getAttributes();\n\n    if ( material.morphTargets ) {\n\n      material.numSupportedMorphTargets = 0;\n\n      for ( var i = 0; i < _this.maxMorphTargets; i ++ ) {\n\n        if ( programAttributes[ 'morphTarget' + i ] >= 0 ) {\n\n          material.numSupportedMorphTargets ++;\n\n        }\n\n      }\n\n    }\n\n    if ( material.morphNormals ) {\n\n      material.numSupportedMorphNormals = 0;\n\n      for ( var i = 0; i < _this.maxMorphNormals; i ++ ) {\n\n        if ( programAttributes[ 'morphNormal' + i ] >= 0 ) {\n\n          material.numSupportedMorphNormals ++;\n\n        }\n\n      }\n\n    }\n\n    var uniforms = materialProperties.shader.uniforms;\n\n    if ( ! material.isShaderMaterial &&\n      ! material.isRawShaderMaterial ||\n      material.clipping === true ) {\n\n      materialProperties.numClippingPlanes = _clipping.numPlanes;\n      materialProperties.numIntersection = _clipping.numIntersection;\n      uniforms.clippingPlanes = _clipping.uniform;\n\n    }\n\n    materialProperties.fog = fog;\n\n    // store the light setup it was created for\n\n    materialProperties.lightsHash = lights.state.hash;\n\n    if ( material.lights ) {\n\n      // wire up the material to this renderer's lighting state\n\n      uniforms.ambientLightColor.value = lights.state.ambient;\n      uniforms.directionalLights.value = lights.state.directional;\n      uniforms.spotLights.value = lights.state.spot;\n      uniforms.rectAreaLights.value = lights.state.rectArea;\n      uniforms.pointLights.value = lights.state.point;\n      uniforms.hemisphereLights.value = lights.state.hemi;\n\n      uniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n      uniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n      uniforms.spotShadowMap.value = lights.state.spotShadowMap;\n      uniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n      uniforms.pointShadowMap.value = lights.state.pointShadowMap;\n      uniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n      // TODO (abelnation): add area lights shadow info to uniforms\n\n    }\n\n    var progUniforms = materialProperties.program.getUniforms(),\n      uniformsList =\n        WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n    materialProperties.uniformsList = uniformsList;\n\n  }\n\n  function setProgram( camera, fog, material, object ) {\n\n    _usedTextureUnits = 0;\n\n    var materialProperties = properties.get( material );\n\n    if ( _clippingEnabled ) {\n\n      if ( _localClippingEnabled || camera !== _currentCamera ) {\n\n        var useCache =\n          camera === _currentCamera &&\n          material.id === _currentMaterialId;\n\n        // we might want to call this function with some ClippingGroup\n        // object instead of the material, once it becomes feasible\n        // (#8465, #8379)\n        _clipping.setState(\n          material.clippingPlanes, material.clipIntersection, material.clipShadows,\n          camera, materialProperties, useCache );\n\n      }\n\n    }\n\n    if ( material.needsUpdate === false ) {\n\n      if ( materialProperties.program === undefined ) {\n\n        material.needsUpdate = true;\n\n      } else if ( material.fog && materialProperties.fog !== fog ) {\n\n        material.needsUpdate = true;\n\n      } else if ( material.lights && materialProperties.lightsHash !== lights.state.hash ) {\n\n        material.needsUpdate = true;\n\n      } else if ( materialProperties.numClippingPlanes !== undefined &&\n        ( materialProperties.numClippingPlanes !== _clipping.numPlanes ||\n        materialProperties.numIntersection !== _clipping.numIntersection ) ) {\n\n        material.needsUpdate = true;\n\n      }\n\n    }\n\n    if ( material.needsUpdate ) {\n\n      initMaterial( material, fog, object );\n      material.needsUpdate = false;\n\n    }\n\n    var refreshProgram = false;\n    var refreshMaterial = false;\n    var refreshLights = false;\n\n    var program = materialProperties.program,\n      p_uniforms = program.getUniforms(),\n      m_uniforms = materialProperties.shader.uniforms;\n\n    if ( state.useProgram( program.program ) ) {\n\n      refreshProgram = true;\n      refreshMaterial = true;\n      refreshLights = true;\n\n    }\n\n    if ( material.id !== _currentMaterialId ) {\n\n      _currentMaterialId = material.id;\n\n      refreshMaterial = true;\n\n    }\n\n    if ( refreshProgram || camera !== _currentCamera ) {\n\n      p_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n      if ( capabilities.logarithmicDepthBuffer ) {\n\n        p_uniforms.setValue( _gl, 'logDepthBufFC',\n          2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n      }\n\n      // Avoid unneeded uniform updates per ArrayCamera's sub-camera\n\n      if ( _currentCamera !== ( _currentArrayCamera || camera ) ) {\n\n        _currentCamera = ( _currentArrayCamera || camera );\n\n        // lighting uniforms depend on the camera so enforce an update\n        // now, in case this material supports lights - or later, when\n        // the next material that does gets activated:\n\n        refreshMaterial = true;\t\t// set to true on material change\n        refreshLights = true;\t\t// remains set until update done\n\n      }\n\n      // load material specific uniforms\n      // (shader material also gets them for the sake of genericity)\n\n      if ( material.isShaderMaterial ||\n        material.isMeshPhongMaterial ||\n        material.isMeshStandardMaterial ||\n        material.envMap ) {\n\n        var uCamPos = p_uniforms.map.cameraPosition;\n\n        if ( uCamPos !== undefined ) {\n\n          uCamPos.setValue( _gl,\n            _vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n        }\n\n      }\n\n      if ( material.isMeshPhongMaterial ||\n        material.isMeshLambertMaterial ||\n        material.isMeshBasicMaterial ||\n        material.isMeshStandardMaterial ||\n        material.isShaderMaterial ||\n        material.skinning ) {\n\n        p_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n      }\n\n    }\n\n    // skinning uniforms must be set even if material didn't change\n    // auto-setting of texture unit for bone texture must go before other textures\n    // not sure why, but otherwise weird things happen\n\n    if ( material.skinning ) {\n\n      p_uniforms.setOptional( _gl, object, 'bindMatrix' );\n      p_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n      var skeleton = object.skeleton;\n\n      if ( skeleton ) {\n\n        var bones = skeleton.bones;\n\n        if ( capabilities.floatVertexTextures ) {\n\n          if ( skeleton.boneTexture === undefined ) {\n\n            // layout (1 matrix = 4 pixels)\n            //      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n            //  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n            //       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n            //       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n            //       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n            var size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n            size = _Math.nextPowerOfTwo( Math.ceil( size ) );\n            size = Math.max( size, 4 );\n\n            var boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n            boneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n            var boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\n            skeleton.boneMatrices = boneMatrices;\n            skeleton.boneTexture = boneTexture;\n            skeleton.boneTextureSize = size;\n\n          }\n\n          p_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture );\n          p_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n        } else {\n\n          p_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n        }\n\n      }\n\n    }\n\n    if ( refreshMaterial ) {\n\n      p_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n      p_uniforms.setValue( _gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint );\n\n      if ( material.lights ) {\n\n        // the current material requires lighting info\n\n        // note: all lighting uniforms are always set correctly\n        // they simply reference the renderer's state for their\n        // values\n        //\n        // use the current material's .needsUpdate flags to set\n        // the GL state when required\n\n        markUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n      }\n\n      // refresh uniforms common to several materials\n\n      if ( fog && material.fog ) {\n\n        refreshUniformsFog( m_uniforms, fog );\n\n      }\n\n      if ( material.isMeshBasicMaterial ) {\n\n        refreshUniformsCommon( m_uniforms, material );\n\n      } else if ( material.isMeshLambertMaterial ) {\n\n        refreshUniformsCommon( m_uniforms, material );\n        refreshUniformsLambert( m_uniforms, material );\n\n      } else if ( material.isMeshPhongMaterial ) {\n\n        refreshUniformsCommon( m_uniforms, material );\n\n        if ( material.isMeshToonMaterial ) {\n\n          refreshUniformsToon( m_uniforms, material );\n\n        } else {\n\n          refreshUniformsPhong( m_uniforms, material );\n\n        }\n\n      } else if ( material.isMeshStandardMaterial ) {\n\n        refreshUniformsCommon( m_uniforms, material );\n\n        if ( material.isMeshPhysicalMaterial ) {\n\n          refreshUniformsPhysical( m_uniforms, material );\n\n        } else {\n\n          refreshUniformsStandard( m_uniforms, material );\n\n        }\n\n      } else if ( material.isMeshDepthMaterial ) {\n\n        refreshUniformsCommon( m_uniforms, material );\n        refreshUniformsDepth( m_uniforms, material );\n\n      } else if ( material.isMeshDistanceMaterial ) {\n\n        refreshUniformsCommon( m_uniforms, material );\n        refreshUniformsDistance( m_uniforms, material );\n\n      } else if ( material.isMeshNormalMaterial ) {\n\n        refreshUniformsCommon( m_uniforms, material );\n        refreshUniformsNormal( m_uniforms, material );\n\n      } else if ( material.isLineBasicMaterial ) {\n\n        refreshUniformsLine( m_uniforms, material );\n\n        if ( material.isLineDashedMaterial ) {\n\n          refreshUniformsDash( m_uniforms, material );\n\n        }\n\n      } else if ( material.isPointsMaterial ) {\n\n        refreshUniformsPoints( m_uniforms, material );\n\n      } else if ( material.isShadowMaterial ) {\n\n        m_uniforms.color.value = material.color;\n        m_uniforms.opacity.value = material.opacity;\n\n      }\n\n      // RectAreaLight Texture\n      // TODO (mrdoob): Find a nicer implementation\n\n      if ( m_uniforms.ltcMat !== undefined ) m_uniforms.ltcMat.value = UniformsLib.LTC_MAT_TEXTURE;\n      if ( m_uniforms.ltcMag !== undefined ) m_uniforms.ltcMag.value = UniformsLib.LTC_MAG_TEXTURE;\n\n      WebGLUniforms.upload(\n        _gl, materialProperties.uniformsList, m_uniforms, _this );\n\n    }\n\n\n    // common matrices\n\n    p_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n    p_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n    p_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n    return program;\n\n  }\n\n  // Uniforms (refresh uniforms objects)\n\n  function refreshUniformsCommon( uniforms, material ) {\n\n    uniforms.opacity.value = material.opacity;\n\n    if ( material.color ) {\n\n      uniforms.diffuse.value = material.color;\n\n    }\n\n    if ( material.emissive ) {\n\n      uniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n    }\n\n    if ( material.map ) {\n\n      uniforms.map.value = material.map;\n\n    }\n\n    if ( material.alphaMap ) {\n\n      uniforms.alphaMap.value = material.alphaMap;\n\n    }\n\n    if ( material.specularMap ) {\n\n      uniforms.specularMap.value = material.specularMap;\n\n    }\n\n    if ( material.envMap ) {\n\n      uniforms.envMap.value = material.envMap;\n\n      // don't flip CubeTexture envMaps, flip everything else:\n      //  WebGLRenderTargetCube will be flipped for backwards compatibility\n      //  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n      // this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n      uniforms.flipEnvMap.value = ( ! ( material.envMap && material.envMap.isCubeTexture ) ) ? 1 : - 1;\n\n      uniforms.reflectivity.value = material.reflectivity;\n      uniforms.refractionRatio.value = material.refractionRatio;\n\n    }\n\n    if ( material.lightMap ) {\n\n      uniforms.lightMap.value = material.lightMap;\n      uniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n    }\n\n    if ( material.aoMap ) {\n\n      uniforms.aoMap.value = material.aoMap;\n      uniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n    }\n\n    // uv repeat and offset setting priorities\n    // 1. color map\n    // 2. specular map\n    // 3. normal map\n    // 4. bump map\n    // 5. alpha map\n    // 6. emissive map\n\n    var uvScaleMap;\n\n    if ( material.map ) {\n\n      uvScaleMap = material.map;\n\n    } else if ( material.specularMap ) {\n\n      uvScaleMap = material.specularMap;\n\n    } else if ( material.displacementMap ) {\n\n      uvScaleMap = material.displacementMap;\n\n    } else if ( material.normalMap ) {\n\n      uvScaleMap = material.normalMap;\n\n    } else if ( material.bumpMap ) {\n\n      uvScaleMap = material.bumpMap;\n\n    } else if ( material.roughnessMap ) {\n\n      uvScaleMap = material.roughnessMap;\n\n    } else if ( material.metalnessMap ) {\n\n      uvScaleMap = material.metalnessMap;\n\n    } else if ( material.alphaMap ) {\n\n      uvScaleMap = material.alphaMap;\n\n    } else if ( material.emissiveMap ) {\n\n      uvScaleMap = material.emissiveMap;\n\n    }\n\n    if ( uvScaleMap !== undefined ) {\n\n      // backwards compatibility\n      if ( uvScaleMap.isWebGLRenderTarget ) {\n\n        uvScaleMap = uvScaleMap.texture;\n\n      }\n\n      var offset = uvScaleMap.offset;\n      var repeat = uvScaleMap.repeat;\n\n      uniforms.offsetRepeat.value.set( offset.x, offset.y, repeat.x, repeat.y );\n\n    }\n\n  }\n\n  function refreshUniformsLine( uniforms, material ) {\n\n    uniforms.diffuse.value = material.color;\n    uniforms.opacity.value = material.opacity;\n\n  }\n\n  function refreshUniformsDash( uniforms, material ) {\n\n    uniforms.dashSize.value = material.dashSize;\n    uniforms.totalSize.value = material.dashSize + material.gapSize;\n    uniforms.scale.value = material.scale;\n\n  }\n\n  function refreshUniformsPoints( uniforms, material ) {\n\n    uniforms.diffuse.value = material.color;\n    uniforms.opacity.value = material.opacity;\n    uniforms.size.value = material.size * _pixelRatio;\n    uniforms.scale.value = _height * 0.5;\n\n    uniforms.map.value = material.map;\n\n    if ( material.map !== null ) {\n\n      var offset = material.map.offset;\n      var repeat = material.map.repeat;\n\n      uniforms.offsetRepeat.value.set( offset.x, offset.y, repeat.x, repeat.y );\n\n    }\n\n  }\n\n  function refreshUniformsFog( uniforms, fog ) {\n\n    uniforms.fogColor.value = fog.color;\n\n    if ( fog.isFog ) {\n\n      uniforms.fogNear.value = fog.near;\n      uniforms.fogFar.value = fog.far;\n\n    } else if ( fog.isFogExp2 ) {\n\n      uniforms.fogDensity.value = fog.density;\n\n    }\n\n  }\n\n  function refreshUniformsLambert( uniforms, material ) {\n\n    if ( material.emissiveMap ) {\n\n      uniforms.emissiveMap.value = material.emissiveMap;\n\n    }\n\n  }\n\n  function refreshUniformsPhong( uniforms, material ) {\n\n    uniforms.specular.value = material.specular;\n    uniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n    if ( material.emissiveMap ) {\n\n      uniforms.emissiveMap.value = material.emissiveMap;\n\n    }\n\n    if ( material.bumpMap ) {\n\n      uniforms.bumpMap.value = material.bumpMap;\n      uniforms.bumpScale.value = material.bumpScale;\n\n    }\n\n    if ( material.normalMap ) {\n\n      uniforms.normalMap.value = material.normalMap;\n      uniforms.normalScale.value.copy( material.normalScale );\n\n    }\n\n    if ( material.displacementMap ) {\n\n      uniforms.displacementMap.value = material.displacementMap;\n      uniforms.displacementScale.value = material.displacementScale;\n      uniforms.displacementBias.value = material.displacementBias;\n\n    }\n\n  }\n\n  function refreshUniformsToon( uniforms, material ) {\n\n    refreshUniformsPhong( uniforms, material );\n\n    if ( material.gradientMap ) {\n\n      uniforms.gradientMap.value = material.gradientMap;\n\n    }\n\n  }\n\n  function refreshUniformsStandard( uniforms, material ) {\n\n    uniforms.roughness.value = material.roughness;\n    uniforms.metalness.value = material.metalness;\n\n    if ( material.roughnessMap ) {\n\n      uniforms.roughnessMap.value = material.roughnessMap;\n\n    }\n\n    if ( material.metalnessMap ) {\n\n      uniforms.metalnessMap.value = material.metalnessMap;\n\n    }\n\n    if ( material.emissiveMap ) {\n\n      uniforms.emissiveMap.value = material.emissiveMap;\n\n    }\n\n    if ( material.bumpMap ) {\n\n      uniforms.bumpMap.value = material.bumpMap;\n      uniforms.bumpScale.value = material.bumpScale;\n\n    }\n\n    if ( material.normalMap ) {\n\n      uniforms.normalMap.value = material.normalMap;\n      uniforms.normalScale.value.copy( material.normalScale );\n\n    }\n\n    if ( material.displacementMap ) {\n\n      uniforms.displacementMap.value = material.displacementMap;\n      uniforms.displacementScale.value = material.displacementScale;\n      uniforms.displacementBias.value = material.displacementBias;\n\n    }\n\n    if ( material.envMap ) {\n\n      //uniforms.envMap.value = material.envMap; // part of uniforms common\n      uniforms.envMapIntensity.value = material.envMapIntensity;\n\n    }\n\n  }\n\n  function refreshUniformsPhysical( uniforms, material ) {\n\n    uniforms.clearCoat.value = material.clearCoat;\n    uniforms.clearCoatRoughness.value = material.clearCoatRoughness;\n\n    refreshUniformsStandard( uniforms, material );\n\n  }\n\n  function refreshUniformsDepth( uniforms, material ) {\n\n    if ( material.displacementMap ) {\n\n      uniforms.displacementMap.value = material.displacementMap;\n      uniforms.displacementScale.value = material.displacementScale;\n      uniforms.displacementBias.value = material.displacementBias;\n\n    }\n\n  }\n\n  function refreshUniformsDistance( uniforms, material ) {\n\n    if ( material.displacementMap ) {\n\n      uniforms.displacementMap.value = material.displacementMap;\n      uniforms.displacementScale.value = material.displacementScale;\n      uniforms.displacementBias.value = material.displacementBias;\n\n    }\n\n    uniforms.referencePosition.value.copy( material.referencePosition );\n    uniforms.nearDistance.value = material.nearDistance;\n    uniforms.farDistance.value = material.farDistance;\n\n  }\n\n  function refreshUniformsNormal( uniforms, material ) {\n\n    if ( material.bumpMap ) {\n\n      uniforms.bumpMap.value = material.bumpMap;\n      uniforms.bumpScale.value = material.bumpScale;\n\n    }\n\n    if ( material.normalMap ) {\n\n      uniforms.normalMap.value = material.normalMap;\n      uniforms.normalScale.value.copy( material.normalScale );\n\n    }\n\n    if ( material.displacementMap ) {\n\n      uniforms.displacementMap.value = material.displacementMap;\n      uniforms.displacementScale.value = material.displacementScale;\n      uniforms.displacementBias.value = material.displacementBias;\n\n    }\n\n  }\n\n  // If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n  function markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n    uniforms.ambientLightColor.needsUpdate = value;\n\n    uniforms.directionalLights.needsUpdate = value;\n    uniforms.pointLights.needsUpdate = value;\n    uniforms.spotLights.needsUpdate = value;\n    uniforms.rectAreaLights.needsUpdate = value;\n    uniforms.hemisphereLights.needsUpdate = value;\n\n  }\n\n  // GL state setting\n\n  this.setFaceCulling = function ( cullFace, frontFaceDirection ) {\n\n    state.setCullFace( cullFace );\n    state.setFlipSided( frontFaceDirection === FrontFaceDirectionCW );\n\n  };\n\n  // Textures\n\n  function allocTextureUnit() {\n\n    var textureUnit = _usedTextureUnits;\n\n    if ( textureUnit >= capabilities.maxTextures ) {\n\n      console.warn( 'THREE.WebGLRenderer: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + capabilities.maxTextures );\n\n    }\n\n    _usedTextureUnits += 1;\n\n    return textureUnit;\n\n  }\n\n  this.allocTextureUnit = allocTextureUnit;\n\n  // this.setTexture2D = setTexture2D;\n  this.setTexture2D = ( function () {\n\n    var warned = false;\n\n    // backwards compatibility: peel texture.texture\n    return function setTexture2D( texture, slot ) {\n\n      if ( texture && texture.isWebGLRenderTarget ) {\n\n        if ( ! warned ) {\n\n          console.warn( \"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\n          warned = true;\n\n        }\n\n        texture = texture.texture;\n\n      }\n\n      textures.setTexture2D( texture, slot );\n\n    };\n\n  }() );\n\n  this.setTexture = ( function () {\n\n    var warned = false;\n\n    return function setTexture( texture, slot ) {\n\n      if ( ! warned ) {\n\n        console.warn( \"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\" );\n        warned = true;\n\n      }\n\n      textures.setTexture2D( texture, slot );\n\n    };\n\n  }() );\n\n  this.setTextureCube = ( function () {\n\n    var warned = false;\n\n    return function setTextureCube( texture, slot ) {\n\n      // backwards compatibility: peel texture.texture\n      if ( texture && texture.isWebGLRenderTargetCube ) {\n\n        if ( ! warned ) {\n\n          console.warn( \"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\n          warned = true;\n\n        }\n\n        texture = texture.texture;\n\n      }\n\n      // currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture\n      // TODO: unify these code paths\n      if ( ( texture && texture.isCubeTexture ) ||\n        ( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\n\n        // CompressedTexture can have Array in image :/\n\n        // this function alone should take care of cube textures\n        textures.setTextureCube( texture, slot );\n\n      } else {\n\n        // assumed: texture property of THREE.WebGLRenderTargetCube\n\n        textures.setTextureCubeDynamic( texture, slot );\n\n      }\n\n    };\n\n  }() );\n\n  this.getRenderTarget = function () {\n\n    return _currentRenderTarget;\n\n  };\n\n  this.setRenderTarget = function ( renderTarget ) {\n\n    _currentRenderTarget = renderTarget;\n\n    if ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n      textures.setupRenderTarget( renderTarget );\n\n    }\n\n    var framebuffer = null;\n    var isCube = false;\n\n    if ( renderTarget ) {\n\n      var __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n      if ( renderTarget.isWebGLRenderTargetCube ) {\n\n        framebuffer = __webglFramebuffer[ renderTarget.activeCubeFace ];\n        isCube = true;\n\n      } else {\n\n        framebuffer = __webglFramebuffer;\n\n      }\n\n      _currentViewport.copy( renderTarget.viewport );\n      _currentScissor.copy( renderTarget.scissor );\n      _currentScissorTest = renderTarget.scissorTest;\n\n    } else {\n\n      _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio );\n      _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio );\n      _currentScissorTest = _scissorTest;\n\n    }\n\n    if ( _currentFramebuffer !== framebuffer ) {\n\n      _gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n      _currentFramebuffer = framebuffer;\n\n    }\n\n    state.viewport( _currentViewport );\n    state.scissor( _currentScissor );\n    state.setScissorTest( _currentScissorTest );\n\n    if ( isCube ) {\n\n      var textureProperties = properties.get( renderTarget.texture );\n      _gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + renderTarget.activeCubeFace, textureProperties.__webglTexture, renderTarget.activeMipMapLevel );\n\n    }\n\n  };\n\n  this.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer ) {\n\n    if ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n      console.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n      return;\n\n    }\n\n    var framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n    if ( framebuffer ) {\n\n      var restore = false;\n\n      if ( framebuffer !== _currentFramebuffer ) {\n\n        _gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\n        restore = true;\n\n      }\n\n      try {\n\n        var texture = renderTarget.texture;\n        var textureFormat = texture.format;\n        var textureType = texture.type;\n\n        if ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_FORMAT ) ) {\n\n          console.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n          return;\n\n        }\n\n        if ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_TYPE ) && // IE11, Edge and Chrome Mac < 52 (#9513)\n          ! ( textureType === FloatType && ( extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n          ! ( textureType === HalfFloatType && extensions.get( 'EXT_color_buffer_half_float' ) ) ) {\n\n          console.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n          return;\n\n        }\n\n        if ( _gl.checkFramebufferStatus( _gl.FRAMEBUFFER ) === _gl.FRAMEBUFFER_COMPLETE ) {\n\n          // the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n          if ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n            _gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n          }\n\n        } else {\n\n          console.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n        }\n\n      } finally {\n\n        if ( restore ) {\n\n          _gl.bindFramebuffer( _gl.FRAMEBUFFER, _currentFramebuffer );\n\n        }\n\n      }\n\n    }\n\n  };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction FogExp2 ( color, density ) {\n\n  this.name = '';\n\n  this.color = new Color( color );\n  this.density = ( density !== undefined ) ? density : 0.00025;\n\n}\n\nFogExp2.prototype.isFogExp2 = true;\n\nFogExp2.prototype.clone = function () {\n\n  return new FogExp2( this.color.getHex(), this.density );\n\n};\n\nFogExp2.prototype.toJSON = function ( meta ) {\n\n  return {\n    type: 'FogExp2',\n    color: this.color.getHex(),\n    density: this.density\n  };\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Fog ( color, near, far ) {\n\n  this.name = '';\n\n  this.color = new Color( color );\n\n  this.near = ( near !== undefined ) ? near : 1;\n  this.far = ( far !== undefined ) ? far : 1000;\n\n}\n\nFog.prototype.isFog = true;\n\nFog.prototype.clone = function () {\n\n  return new Fog( this.color.getHex(), this.near, this.far );\n\n};\n\nFog.prototype.toJSON = function ( meta ) {\n\n  return {\n    type: 'Fog',\n    color: this.color.getHex(),\n    near: this.near,\n    far: this.far\n  };\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Scene () {\n\n  Object3D.call( this );\n\n  this.type = 'Scene';\n\n  this.background = null;\n  this.fog = null;\n  this.overrideMaterial = null;\n\n  this.autoUpdate = true; // checked by the renderer\n\n}\n\nScene.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n  constructor: Scene,\n\n  copy: function ( source, recursive ) {\n\n    Object3D.prototype.copy.call( this, source, recursive );\n\n    if ( source.background !== null ) this.background = source.background.clone();\n    if ( source.fog !== null ) this.fog = source.fog.clone();\n    if ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n    this.autoUpdate = source.autoUpdate;\n    this.matrixAutoUpdate = source.matrixAutoUpdate;\n\n    return this;\n\n  },\n\n  toJSON: function ( meta ) {\n\n    var data = Object3D.prototype.toJSON.call( this, meta );\n\n    if ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n    if ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n    return data;\n\n  }\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction LensFlare( texture, size, distance, blending, color ) {\n\n  Object3D.call( this );\n\n  this.lensFlares = [];\n\n  this.positionScreen = new Vector3();\n  this.customUpdateCallback = undefined;\n\n  if ( texture !== undefined ) {\n\n    this.add( texture, size, distance, blending, color );\n\n  }\n\n}\n\nLensFlare.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n  constructor: LensFlare,\n\n  isLensFlare: true,\n\n  copy: function ( source ) {\n\n    Object3D.prototype.copy.call( this, source );\n\n    this.positionScreen.copy( source.positionScreen );\n    this.customUpdateCallback = source.customUpdateCallback;\n\n    for ( var i = 0, l = source.lensFlares.length; i < l; i ++ ) {\n\n      this.lensFlares.push( source.lensFlares[ i ] );\n\n    }\n\n    return this;\n\n  },\n\n  add: function ( texture, size, distance, blending, color, opacity ) {\n\n    if ( size === undefined ) size = - 1;\n    if ( distance === undefined ) distance = 0;\n    if ( opacity === undefined ) opacity = 1;\n    if ( color === undefined ) color = new Color( 0xffffff );\n    if ( blending === undefined ) blending = NormalBlending;\n\n    distance = Math.min( distance, Math.max( 0, distance ) );\n\n    this.lensFlares.push( {\n      texture: texture,\t// THREE.Texture\n      size: size, \t\t// size in pixels (-1 = use texture.width)\n      distance: distance, \t// distance (0-1) from light source (0=at light source)\n      x: 0, y: 0, z: 0,\t// screen position (-1 => 1) z = 0 is in front z = 1 is back\n      scale: 1, \t\t// scale\n      rotation: 0, \t\t// rotation\n      opacity: opacity,\t// opacity\n      color: color,\t\t// color\n      blending: blending\t// blending\n    } );\n\n  },\n\n  /*\n   * Update lens flares update positions on all flares based on the screen position\n   * Set myLensFlare.customUpdateCallback to alter the flares in your project specific way.\n   */\n\n  updateLensFlares: function () {\n\n    var f, fl = this.lensFlares.length;\n    var flare;\n    var vecX = - this.positionScreen.x * 2;\n    var vecY = - this.positionScreen.y * 2;\n\n    for ( f = 0; f < fl; f ++ ) {\n\n      flare = this.lensFlares[ f ];\n\n      flare.x = this.positionScreen.x + vecX * flare.distance;\n      flare.y = this.positionScreen.y + vecY * flare.distance;\n\n      flare.wantedRotation = flare.x * Math.PI * 0.25;\n      flare.rotation += ( flare.wantedRotation - flare.rotation ) * 0.25;\n\n    }\n\n  }\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *\tuvOffset: new THREE.Vector2(),\n *\tuvScale: new THREE.Vector2()\n * }\n */\n\nfunction SpriteMaterial( parameters ) {\n\n  Material.call( this );\n\n  this.type = 'SpriteMaterial';\n\n  this.color = new Color( 0xffffff );\n  this.map = null;\n\n  this.rotation = 0;\n\n  this.fog = false;\n  this.lights = false;\n\n  this.setValues( parameters );\n\n}\n\nSpriteMaterial.prototype = Object.create( Material.prototype );\nSpriteMaterial.prototype.constructor = SpriteMaterial;\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nSpriteMaterial.prototype.copy = function ( source ) {\n\n  Material.prototype.copy.call( this, source );\n\n  this.color.copy( source.color );\n  this.map = source.map;\n\n  this.rotation = source.rotation;\n\n  return this;\n\n};\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Sprite( material ) {\n\n  Object3D.call( this );\n\n  this.type = 'Sprite';\n\n  this.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n}\n\nSprite.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n  constructor: Sprite,\n\n  isSprite: true,\n\n  raycast: ( function () {\n\n    var intersectPoint = new Vector3();\n    var worldPosition = new Vector3();\n    var worldScale = new Vector3();\n\n    return function raycast( raycaster, intersects ) {\n\n      worldPosition.setFromMatrixPosition( this.matrixWorld );\n      raycaster.ray.closestPointToPoint( worldPosition, intersectPoint );\n\n      worldScale.setFromMatrixScale( this.matrixWorld );\n      var guessSizeSq = worldScale.x * worldScale.y / 4;\n\n      if ( worldPosition.distanceToSquared( intersectPoint ) > guessSizeSq ) return;\n\n      var distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n      if ( distance < raycaster.near || distance > raycaster.far ) return;\n\n      intersects.push( {\n\n        distance: distance,\n        point: intersectPoint.clone(),\n        face: null,\n        object: this\n\n      } );\n\n    };\n\n  }() ),\n\n  clone: function () {\n\n    return new this.constructor( this.material ).copy( this );\n\n  }\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LOD() {\n\n  Object3D.call( this );\n\n  this.type = 'LOD';\n\n  Object.defineProperties( this, {\n    levels: {\n      enumerable: true,\n      value: []\n    }\n  } );\n\n}\n\nLOD.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n  constructor: LOD,\n\n  copy: function ( source ) {\n\n    Object3D.prototype.copy.call( this, source, false );\n\n    var levels = source.levels;\n\n    for ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n      var level = levels[ i ];\n\n      this.addLevel( level.object.clone(), level.distance );\n\n    }\n\n    return this;\n\n  },\n\n  addLevel: function ( object, distance ) {\n\n    if ( distance === undefined ) distance = 0;\n\n    distance = Math.abs( distance );\n\n    var levels = this.levels;\n\n    for ( var l = 0; l < levels.length; l ++ ) {\n\n      if ( distance < levels[ l ].distance ) {\n\n        break;\n\n      }\n\n    }\n\n    levels.splice( l, 0, { distance: distance, object: object } );\n\n    this.add( object );\n\n  },\n\n  getObjectForDistance: function ( distance ) {\n\n    var levels = this.levels;\n\n    for ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n      if ( distance < levels[ i ].distance ) {\n\n        break;\n\n      }\n\n    }\n\n    return levels[ i - 1 ].object;\n\n  },\n\n  raycast: ( function () {\n\n    var matrixPosition = new Vector3();\n\n    return function raycast( raycaster, intersects ) {\n\n      matrixPosition.setFromMatrixPosition( this.matrixWorld );\n\n      var distance = raycaster.ray.origin.distanceTo( matrixPosition );\n\n      this.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n    };\n\n  }() ),\n\n  update: function () {\n\n    var v1 = new Vector3();\n    var v2 = new Vector3();\n\n    return function update( camera ) {\n\n      var levels = this.levels;\n\n      if ( levels.length > 1 ) {\n\n        v1.setFromMatrixPosition( camera.matrixWorld );\n        v2.setFromMatrixPosition( this.matrixWorld );\n\n        var distance = v1.distanceTo( v2 );\n\n        levels[ 0 ].object.visible = true;\n\n        for ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n          if ( distance >= levels[ i ].distance ) {\n\n            levels[ i - 1 ].object.visible = false;\n            levels[ i ].object.visible = true;\n\n          } else {\n\n            break;\n\n          }\n\n        }\n\n        for ( ; i < l; i ++ ) {\n\n          levels[ i ].object.visible = false;\n\n        }\n\n      }\n\n    };\n\n  }(),\n\n  toJSON: function ( meta ) {\n\n    var data = Object3D.prototype.toJSON.call( this, meta );\n\n    data.object.levels = [];\n\n    var levels = this.levels;\n\n    for ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n      var level = levels[ i ];\n\n      data.object.levels.push( {\n        object: level.object.uuid,\n        distance: level.distance\n      } );\n\n    }\n\n    return data;\n\n  }\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author michael guerrero / http://realitymeltdown.com\n * @author ikerr / http://verold.com\n */\n\nfunction Skeleton( bones, boneInverses ) {\n\n  // copy the bone array\n\n  bones = bones || [];\n\n  this.bones = bones.slice( 0 );\n  this.boneMatrices = new Float32Array( this.bones.length * 16 );\n\n  // use the supplied bone inverses or calculate the inverses\n\n  if ( boneInverses === undefined ) {\n\n    this.calculateInverses();\n\n  } else {\n\n    if ( this.bones.length === boneInverses.length ) {\n\n      this.boneInverses = boneInverses.slice( 0 );\n\n    } else {\n\n      console.warn( 'THREE.Skeleton boneInverses is the wrong length.' );\n\n      this.boneInverses = [];\n\n      for ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n        this.boneInverses.push( new Matrix4() );\n\n      }\n\n    }\n\n  }\n\n}\n\nObject.assign( Skeleton.prototype, {\n\n  calculateInverses: function () {\n\n    this.boneInverses = [];\n\n    for ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n      var inverse = new Matrix4();\n\n      if ( this.bones[ i ] ) {\n\n        inverse.getInverse( this.bones[ i ].matrixWorld );\n\n      }\n\n      this.boneInverses.push( inverse );\n\n    }\n\n  },\n\n  pose: function () {\n\n    var bone, i, il;\n\n    // recover the bind-time world matrices\n\n    for ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n      bone = this.bones[ i ];\n\n      if ( bone ) {\n\n        bone.matrixWorld.getInverse( this.boneInverses[ i ] );\n\n      }\n\n    }\n\n    // compute the local matrices, positions, rotations and scales\n\n    for ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n      bone = this.bones[ i ];\n\n      if ( bone ) {\n\n        if ( bone.parent && bone.parent.isBone ) {\n\n          bone.matrix.getInverse( bone.parent.matrixWorld );\n          bone.matrix.multiply( bone.matrixWorld );\n\n        } else {\n\n          bone.matrix.copy( bone.matrixWorld );\n\n        }\n\n        bone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n      }\n\n    }\n\n  },\n\n  update: ( function () {\n\n    var offsetMatrix = new Matrix4();\n    var identityMatrix = new Matrix4();\n\n    return function update() {\n\n      var bones = this.bones;\n      var boneInverses = this.boneInverses;\n      var boneMatrices = this.boneMatrices;\n      var boneTexture = this.boneTexture;\n\n      // flatten bone matrices to array\n\n      for ( var i = 0, il = bones.length; i < il; i ++ ) {\n\n        // compute the offset between the current and the original transform\n\n        var matrix = bones[ i ] ? bones[ i ].matrixWorld : identityMatrix;\n\n        offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n        offsetMatrix.toArray( boneMatrices, i * 16 );\n\n      }\n\n      if ( boneTexture !== undefined ) {\n\n        boneTexture.needsUpdate = true;\n\n      }\n\n    };\n\n  } )(),\n\n  clone: function () {\n\n    return new Skeleton( this.bones, this.boneInverses );\n\n  }\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction Bone() {\n\n  Object3D.call( this );\n\n  this.type = 'Bone';\n\n}\n\nBone.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n  constructor: Bone,\n\n  isBone: true\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction SkinnedMesh( geometry, material ) {\n\n  Mesh.call( this, geometry, material );\n\n  this.type = 'SkinnedMesh';\n\n  this.bindMode = 'attached';\n  this.bindMatrix = new Matrix4();\n  this.bindMatrixInverse = new Matrix4();\n\n  var bones = this.initBones();\n  var skeleton = new Skeleton( bones );\n\n  this.bind( skeleton, this.matrixWorld );\n\n  this.normalizeSkinWeights();\n\n}\n\nSkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n  constructor: SkinnedMesh,\n\n  isSkinnedMesh: true,\n\n  initBones: function () {\n\n    var bones = [], bone, gbone;\n    var i, il;\n\n    if ( this.geometry && this.geometry.bones !== undefined ) {\n\n      // first, create array of 'Bone' objects from geometry data\n\n      for ( i = 0, il = this.geometry.bones.length; i < il; i ++ ) {\n\n        gbone = this.geometry.bones[ i ];\n\n        // create new 'Bone' object\n\n        bone = new Bone();\n        bones.push( bone );\n\n        // apply values\n\n        bone.name = gbone.name;\n        bone.position.fromArray( gbone.pos );\n        bone.quaternion.fromArray( gbone.rotq );\n        if ( gbone.scl !== undefined ) bone.scale.fromArray( gbone.scl );\n\n      }\n\n      // second, create bone hierarchy\n\n      for ( i = 0, il = this.geometry.bones.length; i < il; i ++ ) {\n\n        gbone = this.geometry.bones[ i ];\n\n        if ( ( gbone.parent !== - 1 ) && ( gbone.parent !== null ) && ( bones[ gbone.parent ] !== undefined ) ) {\n\n          // subsequent bones in the hierarchy\n\n          bones[ gbone.parent ].add( bones[ i ] );\n\n        } else {\n\n          // topmost bone, immediate child of the skinned mesh\n\n          this.add( bones[ i ] );\n\n        }\n\n      }\n\n    }\n\n    // now the bones are part of the scene graph and children of the skinned mesh.\n    // let's update the corresponding matrices\n\n    this.updateMatrixWorld( true );\n\n    return bones;\n\n  },\n\n  bind: function ( skeleton, bindMatrix ) {\n\n    this.skeleton = skeleton;\n\n    if ( bindMatrix === undefined ) {\n\n      this.updateMatrixWorld( true );\n\n      this.skeleton.calculateInverses();\n\n      bindMatrix = this.matrixWorld;\n\n    }\n\n    this.bindMatrix.copy( bindMatrix );\n    this.bindMatrixInverse.getInverse( bindMatrix );\n\n  },\n\n  pose: function () {\n\n    this.skeleton.pose();\n\n  },\n\n  normalizeSkinWeights: function () {\n\n    var scale, i;\n\n    if ( this.geometry && this.geometry.isGeometry ) {\n\n      for ( i = 0; i < this.geometry.skinWeights.length; i ++ ) {\n\n        var sw = this.geometry.skinWeights[ i ];\n\n        scale = 1.0 / sw.lengthManhattan();\n\n        if ( scale !== Infinity ) {\n\n          sw.multiplyScalar( scale );\n\n        } else {\n\n          sw.set( 1, 0, 0, 0 ); // do something reasonable\n\n        }\n\n      }\n\n    } else if ( this.geometry && this.geometry.isBufferGeometry ) {\n\n      var vec = new Vector4();\n\n      var skinWeight = this.geometry.attributes.skinWeight;\n\n      for ( i = 0; i < skinWeight.count; i ++ ) {\n\n        vec.x = skinWeight.getX( i );\n        vec.y = skinWeight.getY( i );\n        vec.z = skinWeight.getZ( i );\n        vec.w = skinWeight.getW( i );\n\n        scale = 1.0 / vec.lengthManhattan();\n\n        if ( scale !== Infinity ) {\n\n          vec.multiplyScalar( scale );\n\n        } else {\n\n          vec.set( 1, 0, 0, 0 ); // do something reasonable\n\n        }\n\n        skinWeight.setXYZW( i, vec.x, vec.y, vec.z, vec.w );\n\n      }\n\n    }\n\n  },\n\n  updateMatrixWorld: function ( force ) {\n\n    Mesh.prototype.updateMatrixWorld.call( this, force );\n\n    if ( this.bindMode === 'attached' ) {\n\n      this.bindMatrixInverse.getInverse( this.matrixWorld );\n\n    } else if ( this.bindMode === 'detached' ) {\n\n      this.bindMatrixInverse.getInverse( this.bindMatrix );\n\n    } else {\n\n      console.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n    }\n\n  },\n\n  clone: function () {\n\n    return new this.constructor( this.geometry, this.material ).copy( this );\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial( parameters ) {\n\n  Material.call( this );\n\n  this.type = 'LineBasicMaterial';\n\n  this.color = new Color( 0xffffff );\n\n  this.linewidth = 1;\n  this.linecap = 'round';\n  this.linejoin = 'round';\n\n  this.lights = false;\n\n  this.setValues( parameters );\n\n}\n\nLineBasicMaterial.prototype = Object.create( Material.prototype );\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function ( source ) {\n\n  Material.prototype.copy.call( this, source );\n\n  this.color.copy( source.color );\n\n  this.linewidth = source.linewidth;\n  this.linecap = source.linecap;\n  this.linejoin = source.linejoin;\n\n  return this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Line( geometry, material, mode ) {\n\n  if ( mode === 1 ) {\n\n    console.warn( 'THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.' );\n    return new LineSegments( geometry, material );\n\n  }\n\n  Object3D.call( this );\n\n  this.type = 'Line';\n\n  this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n  this.material = material !== undefined ? material : new LineBasicMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n  constructor: Line,\n\n  isLine: true,\n\n  raycast: ( function () {\n\n    var inverseMatrix = new Matrix4();\n    var ray = new Ray();\n    var sphere = new Sphere();\n\n    return function raycast( raycaster, intersects ) {\n\n      var precision = raycaster.linePrecision;\n      var precisionSq = precision * precision;\n\n      var geometry = this.geometry;\n      var matrixWorld = this.matrixWorld;\n\n      // Checking boundingSphere distance to ray\n\n      if ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n      sphere.copy( geometry.boundingSphere );\n      sphere.applyMatrix4( matrixWorld );\n\n      if ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n      //\n\n      inverseMatrix.getInverse( matrixWorld );\n      ray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n      var vStart = new Vector3();\n      var vEnd = new Vector3();\n      var interSegment = new Vector3();\n      var interRay = new Vector3();\n      var step = (this && this.isLineSegments) ? 2 : 1;\n\n      if ( geometry.isBufferGeometry ) {\n\n        var index = geometry.index;\n        var attributes = geometry.attributes;\n        var positions = attributes.position.array;\n\n        if ( index !== null ) {\n\n          var indices = index.array;\n\n          for ( var i = 0, l = indices.length - 1; i < l; i += step ) {\n\n            var a = indices[ i ];\n            var b = indices[ i + 1 ];\n\n            vStart.fromArray( positions, a * 3 );\n            vEnd.fromArray( positions, b * 3 );\n\n            var distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n            if ( distSq > precisionSq ) continue;\n\n            interRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n            var distance = raycaster.ray.origin.distanceTo( interRay );\n\n            if ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n            intersects.push( {\n\n              distance: distance,\n              // What do we want? intersection point on the ray or on the segment??\n              // point: raycaster.ray.at( distance ),\n              point: interSegment.clone().applyMatrix4( this.matrixWorld ),\n              index: i,\n              face: null,\n              faceIndex: null,\n              object: this\n\n            } );\n\n          }\n\n        } else {\n\n          for ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\n\n            vStart.fromArray( positions, 3 * i );\n            vEnd.fromArray( positions, 3 * i + 3 );\n\n            var distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n            if ( distSq > precisionSq ) continue;\n\n            interRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n            var distance = raycaster.ray.origin.distanceTo( interRay );\n\n            if ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n            intersects.push( {\n\n              distance: distance,\n              // What do we want? intersection point on the ray or on the segment??\n              // point: raycaster.ray.at( distance ),\n              point: interSegment.clone().applyMatrix4( this.matrixWorld ),\n              index: i,\n              face: null,\n              faceIndex: null,\n              object: this\n\n            } );\n\n          }\n\n        }\n\n      } else if ( geometry.isGeometry ) {\n\n        var vertices = geometry.vertices;\n        var nbVertices = vertices.length;\n\n        for ( var i = 0; i < nbVertices - 1; i += step ) {\n\n          var distSq = ray.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n          if ( distSq > precisionSq ) continue;\n\n          interRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n          var distance = raycaster.ray.origin.distanceTo( interRay );\n\n          if ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n          intersects.push( {\n\n            distance: distance,\n            // What do we want? intersection point on the ray or on the segment??\n            // point: raycaster.ray.at( distance ),\n            point: interSegment.clone().applyMatrix4( this.matrixWorld ),\n            index: i,\n            face: null,\n            faceIndex: null,\n            object: this\n\n          } );\n\n        }\n\n      }\n\n    };\n\n  }() ),\n\n  clone: function () {\n\n    return new this.constructor( this.geometry, this.material ).copy( this );\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LineSegments( geometry, material ) {\n\n  Line.call( this, geometry, material );\n\n  this.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\n\n  constructor: LineSegments,\n\n  isLineSegments: true\n\n} );\n\n/**\n * @author mgreter / http://github.com/mgreter\n */\n\nfunction LineLoop( geometry, material ) {\n\n  Line.call( this, geometry, material );\n\n  this.type = 'LineLoop';\n\n}\n\nLineLoop.prototype = Object.assign( Object.create( Line.prototype ), {\n\n  constructor: LineLoop,\n\n  isLineLoop: true,\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nfunction PointsMaterial( parameters ) {\n\n  Material.call( this );\n\n  this.type = 'PointsMaterial';\n\n  this.color = new Color( 0xffffff );\n\n  this.map = null;\n\n  this.size = 1;\n  this.sizeAttenuation = true;\n\n  this.lights = false;\n\n  this.setValues( parameters );\n\n}\n\nPointsMaterial.prototype = Object.create( Material.prototype );\nPointsMaterial.prototype.constructor = PointsMaterial;\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nPointsMaterial.prototype.copy = function ( source ) {\n\n  Material.prototype.copy.call( this, source );\n\n  this.color.copy( source.color );\n\n  this.map = source.map;\n\n  this.size = source.size;\n  this.sizeAttenuation = source.sizeAttenuation;\n\n  return this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Points( geometry, material ) {\n\n  Object3D.call( this );\n\n  this.type = 'Points';\n\n  this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n  this.material = material !== undefined ? material : new PointsMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n  constructor: Points,\n\n  isPoints: true,\n\n  raycast: ( function () {\n\n    var inverseMatrix = new Matrix4();\n    var ray = new Ray();\n    var sphere = new Sphere();\n\n    return function raycast( raycaster, intersects ) {\n\n      var object = this;\n      var geometry = this.geometry;\n      var matrixWorld = this.matrixWorld;\n      var threshold = raycaster.params.Points.threshold;\n\n      // Checking boundingSphere distance to ray\n\n      if ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n      sphere.copy( geometry.boundingSphere );\n      sphere.applyMatrix4( matrixWorld );\n      sphere.radius += threshold;\n\n      if ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n      //\n\n      inverseMatrix.getInverse( matrixWorld );\n      ray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n      var localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n      var localThresholdSq = localThreshold * localThreshold;\n      var position = new Vector3();\n\n      function testPoint( point, index ) {\n\n        var rayPointDistanceSq = ray.distanceSqToPoint( point );\n\n        if ( rayPointDistanceSq < localThresholdSq ) {\n\n          var intersectPoint = ray.closestPointToPoint( point );\n          intersectPoint.applyMatrix4( matrixWorld );\n\n          var distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n          if ( distance < raycaster.near || distance > raycaster.far ) return;\n\n          intersects.push( {\n\n            distance: distance,\n            distanceToRay: Math.sqrt( rayPointDistanceSq ),\n            point: intersectPoint.clone(),\n            index: index,\n            face: null,\n            object: object\n\n          } );\n\n        }\n\n      }\n\n      if ( geometry.isBufferGeometry ) {\n\n        var index = geometry.index;\n        var attributes = geometry.attributes;\n        var positions = attributes.position.array;\n\n        if ( index !== null ) {\n\n          var indices = index.array;\n\n          for ( var i = 0, il = indices.length; i < il; i ++ ) {\n\n            var a = indices[ i ];\n\n            position.fromArray( positions, a * 3 );\n\n            testPoint( position, a );\n\n          }\n\n        } else {\n\n          for ( var i = 0, l = positions.length / 3; i < l; i ++ ) {\n\n            position.fromArray( positions, i * 3 );\n\n            testPoint( position, i );\n\n          }\n\n        }\n\n      } else {\n\n        var vertices = geometry.vertices;\n\n        for ( var i = 0, l = vertices.length; i < l; i ++ ) {\n\n          testPoint( vertices[ i ], i );\n\n        }\n\n      }\n\n    };\n\n  }() ),\n\n  clone: function () {\n\n    return new this.constructor( this.geometry, this.material ).copy( this );\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Group() {\n\n  Object3D.call( this );\n\n  this.type = 'Group';\n\n}\n\nGroup.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n  constructor: Group\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction VideoTexture( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n  Texture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n  this.generateMipmaps = false;\n\n  var scope = this;\n\n  function update() {\n\n    requestAnimationFrame( update );\n\n    if ( video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n      scope.needsUpdate = true;\n\n    }\n\n  }\n\n  update();\n\n}\n\nVideoTexture.prototype = Object.create( Texture.prototype );\nVideoTexture.prototype.constructor = VideoTexture;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CompressedTexture( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n  Texture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n  this.image = { width: width, height: height };\n  this.mipmaps = mipmaps;\n\n  // no flipping for cube textures\n  // (also flipping doesn't work for compressed textures )\n\n  this.flipY = false;\n\n  // can't generate mipmaps for compressed textures\n  // mips must be embedded in DDS files\n\n  this.generateMipmaps = false;\n\n}\n\nCompressedTexture.prototype = Object.create( Texture.prototype );\nCompressedTexture.prototype.constructor = CompressedTexture;\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\n/**\n * @author Matt DesLauriers / @mattdesl\n * @author atix / arthursilber.de\n */\n\nfunction DepthTexture( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n  format = format !== undefined ? format : DepthFormat;\n\n  if ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n    throw new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n  }\n\n  if ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n  if ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n  Texture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n  this.image = { width: width, height: height };\n\n  this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n  this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n  this.flipY = false;\n  this.generateMipmaps\t= false;\n\n}\n\nDepthTexture.prototype = Object.create( Texture.prototype );\nDepthTexture.prototype.constructor = DepthTexture;\nDepthTexture.prototype.isDepthTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WireframeGeometry( geometry ) {\n\n  BufferGeometry.call( this );\n\n  this.type = 'WireframeGeometry';\n\n  // buffer\n\n  var vertices = [];\n\n  // helper variables\n\n  var i, j, l, o, ol;\n  var edge = [ 0, 0 ], edges = {}, e, edge1, edge2;\n  var key, keys = [ 'a', 'b', 'c' ];\n  var vertex;\n\n  // different logic for Geometry and BufferGeometry\n\n  if ( geometry && geometry.isGeometry ) {\n\n    // create a data structure that contains all edges without duplicates\n\n    var faces = geometry.faces;\n\n    for ( i = 0, l = faces.length; i < l; i ++ ) {\n\n      var face = faces[ i ];\n\n      for ( j = 0; j < 3; j ++ ) {\n\n        edge1 = face[ keys[ j ] ];\n        edge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n        edge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n        edge[ 1 ] = Math.max( edge1, edge2 );\n\n        key = edge[ 0 ] + ',' + edge[ 1 ];\n\n        if ( edges[ key ] === undefined ) {\n\n          edges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n        }\n\n      }\n\n    }\n\n    // generate vertices\n\n    for ( key in edges ) {\n\n      e = edges[ key ];\n\n      vertex = geometry.vertices[ e.index1 ];\n      vertices.push( vertex.x, vertex.y, vertex.z );\n\n      vertex = geometry.vertices[ e.index2 ];\n      vertices.push( vertex.x, vertex.y, vertex.z );\n\n    }\n\n  } else if ( geometry && geometry.isBufferGeometry ) {\n\n    var position, indices, groups;\n    var group, start, count;\n    var index1, index2;\n\n    vertex = new Vector3();\n\n    if ( geometry.index !== null ) {\n\n      // indexed BufferGeometry\n\n      position = geometry.attributes.position;\n      indices = geometry.index;\n      groups = geometry.groups;\n\n      if ( groups.length === 0 ) {\n\n        groups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n      }\n\n      // create a data structure that contains all eges without duplicates\n\n      for ( o = 0, ol = groups.length; o < ol; ++ o ) {\n\n        group = groups[ o ];\n\n        start = group.start;\n        count = group.count;\n\n        for ( i = start, l = ( start + count ); i < l; i += 3 ) {\n\n          for ( j = 0; j < 3; j ++ ) {\n\n            edge1 = indices.getX( i + j );\n            edge2 = indices.getX( i + ( j + 1 ) % 3 );\n            edge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n            edge[ 1 ] = Math.max( edge1, edge2 );\n\n            key = edge[ 0 ] + ',' + edge[ 1 ];\n\n            if ( edges[ key ] === undefined ) {\n\n              edges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n            }\n\n          }\n\n        }\n\n      }\n\n      // generate vertices\n\n      for ( key in edges ) {\n\n        e = edges[ key ];\n\n        vertex.fromBufferAttribute( position, e.index1 );\n        vertices.push( vertex.x, vertex.y, vertex.z );\n\n        vertex.fromBufferAttribute( position, e.index2 );\n        vertices.push( vertex.x, vertex.y, vertex.z );\n\n      }\n\n    } else {\n\n      // non-indexed BufferGeometry\n\n      position = geometry.attributes.position;\n\n      for ( i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n        for ( j = 0; j < 3; j ++ ) {\n\n          // three edges per triangle, an edge is represented as (index1, index2)\n          // e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n          index1 = 3 * i + j;\n          vertex.fromBufferAttribute( position, index1 );\n          vertices.push( vertex.x, vertex.y, vertex.z );\n\n          index2 = 3 * i + ( ( j + 1 ) % 3 );\n          vertex.fromBufferAttribute( position, index2 );\n          vertices.push( vertex.x, vertex.y, vertex.z );\n\n        }\n\n      }\n\n    }\n\n  }\n\n  // build geometry\n\n  this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nWireframeGeometry.prototype = Object.create( BufferGeometry.prototype );\nWireframeGeometry.prototype.constructor = WireframeGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\n */\n\n// ParametricGeometry\n\nfunction ParametricGeometry( func, slices, stacks ) {\n\n  Geometry.call( this );\n\n  this.type = 'ParametricGeometry';\n\n  this.parameters = {\n    func: func,\n    slices: slices,\n    stacks: stacks\n  };\n\n  this.fromBufferGeometry( new ParametricBufferGeometry( func, slices, stacks ) );\n  this.mergeVertices();\n\n}\n\nParametricGeometry.prototype = Object.create( Geometry.prototype );\nParametricGeometry.prototype.constructor = ParametricGeometry;\n\n// ParametricBufferGeometry\n\nfunction ParametricBufferGeometry( func, slices, stacks ) {\n\n  BufferGeometry.call( this );\n\n  this.type = 'ParametricBufferGeometry';\n\n  this.parameters = {\n    func: func,\n    slices: slices,\n    stacks: stacks\n  };\n\n  // buffers\n\n  var indices = [];\n  var vertices = [];\n  var normals = [];\n  var uvs = [];\n\n  var EPS = 0.00001;\n\n  var normal = new Vector3();\n\n  var p0 = new Vector3(), p1 = new Vector3();\n  var pu = new Vector3(), pv = new Vector3();\n\n  var i, j;\n\n  // generate vertices, normals and uvs\n\n  var sliceCount = slices + 1;\n\n  for ( i = 0; i <= stacks; i ++ ) {\n\n    var v = i / stacks;\n\n    for ( j = 0; j <= slices; j ++ ) {\n\n      var u = j / slices;\n\n      // vertex\n\n      p0 = func( u, v, p0 );\n      vertices.push( p0.x, p0.y, p0.z );\n\n      // normal\n\n      // approximate tangent vectors via finite differences\n\n      if ( u - EPS >= 0 ) {\n\n        p1 = func( u - EPS, v, p1 );\n        pu.subVectors( p0, p1 );\n\n      } else {\n\n        p1 = func( u + EPS, v, p1 );\n        pu.subVectors( p1, p0 );\n\n      }\n\n      if ( v - EPS >= 0 ) {\n\n        p1 = func( u, v - EPS, p1 );\n        pv.subVectors( p0, p1 );\n\n      } else {\n\n        p1 = func( u, v + EPS, p1 );\n        pv.subVectors( p1, p0 );\n\n      }\n\n      // cross product of tangent vectors returns surface normal\n\n      normal.crossVectors( pu, pv ).normalize();\n      normals.push( normal.x, normal.y, normal.z );\n\n      // uv\n\n      uvs.push( u, v );\n\n    }\n\n  }\n\n  // generate indices\n\n  for ( i = 0; i < stacks; i ++ ) {\n\n    for ( j = 0; j < slices; j ++ ) {\n\n      var a = i * sliceCount + j;\n      var b = i * sliceCount + j + 1;\n      var c = ( i + 1 ) * sliceCount + j + 1;\n      var d = ( i + 1 ) * sliceCount + j;\n\n      // faces one and two\n\n      indices.push( a, b, d );\n      indices.push( b, c, d );\n\n    }\n\n  }\n\n  // build geometry\n\n  this.setIndex( indices );\n  this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n  this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nParametricBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n/**\n * @author clockworkgeek / https://github.com/clockworkgeek\n * @author timothypratley / https://github.com/timothypratley\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PolyhedronGeometry\n\nfunction PolyhedronGeometry( vertices, indices, radius, detail ) {\n\n  Geometry.call( this );\n\n  this.type = 'PolyhedronGeometry';\n\n  this.parameters = {\n    vertices: vertices,\n    indices: indices,\n    radius: radius,\n    detail: detail\n  };\n\n  this.fromBufferGeometry( new PolyhedronBufferGeometry( vertices, indices, radius, detail ) );\n  this.mergeVertices();\n\n}\n\nPolyhedronGeometry.prototype = Object.create( Geometry.prototype );\nPolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\n\n// PolyhedronBufferGeometry\n\nfunction PolyhedronBufferGeometry( vertices, indices, radius, detail ) {\n\n  BufferGeometry.call( this );\n\n  this.type = 'PolyhedronBufferGeometry';\n\n  this.parameters = {\n    vertices: vertices,\n    indices: indices,\n    radius: radius,\n    detail: detail\n  };\n\n  radius = radius || 1;\n  detail = detail || 0;\n\n  // default buffer data\n\n  var vertexBuffer = [];\n  var uvBuffer = [];\n\n  // the subdivision creates the vertex buffer data\n\n  subdivide( detail );\n\n  // all vertices should lie on a conceptual sphere with a given radius\n\n  appplyRadius( radius );\n\n  // finally, create the uv data\n\n  generateUVs();\n\n  // build non-indexed geometry\n\n  this.addAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n  this.addAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n  this.addAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n  if ( detail === 0 ) {\n\n    this.computeVertexNormals(); // flat normals\n\n  } else {\n\n    this.normalizeNormals(); // smooth normals\n\n  }\n\n  // helper functions\n\n  function subdivide( detail ) {\n\n    var a = new Vector3();\n    var b = new Vector3();\n    var c = new Vector3();\n\n    // iterate over all faces and apply a subdivison with the given detail value\n\n    for ( var i = 0; i < indices.length; i += 3 ) {\n\n      // get the vertices of the face\n\n      getVertexByIndex( indices[ i + 0 ], a );\n      getVertexByIndex( indices[ i + 1 ], b );\n      getVertexByIndex( indices[ i + 2 ], c );\n\n      // perform subdivision\n\n      subdivideFace( a, b, c, detail );\n\n    }\n\n  }\n\n  function subdivideFace( a, b, c, detail ) {\n\n    var cols = Math.pow( 2, detail );\n\n    // we use this multidimensional array as a data structure for creating the subdivision\n\n    var v = [];\n\n    var i, j;\n\n    // construct all of the vertices for this subdivision\n\n    for ( i = 0; i <= cols; i ++ ) {\n\n      v[ i ] = [];\n\n      var aj = a.clone().lerp( c, i / cols );\n      var bj = b.clone().lerp( c, i / cols );\n\n      var rows = cols - i;\n\n      for ( j = 0; j <= rows; j ++ ) {\n\n        if ( j === 0 && i === cols ) {\n\n          v[ i ][ j ] = aj;\n\n        } else {\n\n          v[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n        }\n\n      }\n\n    }\n\n    // construct all of the faces\n\n    for ( i = 0; i < cols; i ++ ) {\n\n      for ( j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n        var k = Math.floor( j / 2 );\n\n        if ( j % 2 === 0 ) {\n\n          pushVertex( v[ i ][ k + 1 ] );\n          pushVertex( v[ i + 1 ][ k ] );\n          pushVertex( v[ i ][ k ] );\n\n        } else {\n\n          pushVertex( v[ i ][ k + 1 ] );\n          pushVertex( v[ i + 1 ][ k + 1 ] );\n          pushVertex( v[ i + 1 ][ k ] );\n\n        }\n\n      }\n\n    }\n\n  }\n\n  function appplyRadius( radius ) {\n\n    var vertex = new Vector3();\n\n    // iterate over the entire buffer and apply the radius to each vertex\n\n    for ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n      vertex.x = vertexBuffer[ i + 0 ];\n      vertex.y = vertexBuffer[ i + 1 ];\n      vertex.z = vertexBuffer[ i + 2 ];\n\n      vertex.normalize().multiplyScalar( radius );\n\n      vertexBuffer[ i + 0 ] = vertex.x;\n      vertexBuffer[ i + 1 ] = vertex.y;\n      vertexBuffer[ i + 2 ] = vertex.z;\n\n    }\n\n  }\n\n  function generateUVs() {\n\n    var vertex = new Vector3();\n\n    for ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n      vertex.x = vertexBuffer[ i + 0 ];\n      vertex.y = vertexBuffer[ i + 1 ];\n      vertex.z = vertexBuffer[ i + 2 ];\n\n      var u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n      var v = inclination( vertex ) / Math.PI + 0.5;\n      uvBuffer.push( u, 1 - v );\n\n    }\n\n    correctUVs();\n\n    correctSeam();\n\n  }\n\n  function correctSeam() {\n\n    // handle case when face straddles the seam, see #3269\n\n    for ( var i = 0; i < uvBuffer.length; i += 6 ) {\n\n      // uv data of a single face\n\n      var x0 = uvBuffer[ i + 0 ];\n      var x1 = uvBuffer[ i + 2 ];\n      var x2 = uvBuffer[ i + 4 ];\n\n      var max = Math.max( x0, x1, x2 );\n      var min = Math.min( x0, x1, x2 );\n\n      // 0.9 is somewhat arbitrary\n\n      if ( max > 0.9 && min < 0.1 ) {\n\n        if ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n        if ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n        if ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n      }\n\n    }\n\n  }\n\n  function pushVertex( vertex ) {\n\n    vertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n  }\n\n  function getVertexByIndex( index, vertex ) {\n\n    var stride = index * 3;\n\n    vertex.x = vertices[ stride + 0 ];\n    vertex.y = vertices[ stride + 1 ];\n    vertex.z = vertices[ stride + 2 ];\n\n  }\n\n  function correctUVs() {\n\n    var a = new Vector3();\n    var b = new Vector3();\n    var c = new Vector3();\n\n    var centroid = new Vector3();\n\n    var uvA = new Vector2();\n    var uvB = new Vector2();\n    var uvC = new Vector2();\n\n    for ( var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n      a.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n      b.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n      c.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n      uvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n      uvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n      uvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n      centroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n      var azi = azimuth( centroid );\n\n      correctUV( uvA, j + 0, a, azi );\n      correctUV( uvB, j + 2, b, azi );\n      correctUV( uvC, j + 4, c, azi );\n\n    }\n\n  }\n\n  function correctUV( uv, stride, vector, azimuth ) {\n\n    if ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n      uvBuffer[ stride ] = uv.x - 1;\n\n    }\n\n    if ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n      uvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n    }\n\n  }\n\n  // Angle around the Y axis, counter-clockwise when looking from above.\n\n  function azimuth( vector ) {\n\n    return Math.atan2( vector.z, - vector.x );\n\n  }\n\n\n  // Angle above the XZ plane.\n\n  function inclination( vector ) {\n\n    return Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n  }\n\n}\n\nPolyhedronBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TetrahedronGeometry\n\nfunction TetrahedronGeometry( radius, detail ) {\n\n  Geometry.call( this );\n\n  this.type = 'TetrahedronGeometry';\n\n  this.parameters = {\n    radius: radius,\n    detail: detail\n  };\n\n  this.fromBufferGeometry( new TetrahedronBufferGeometry( radius, detail ) );\n  this.mergeVertices();\n\n}\n\nTetrahedronGeometry.prototype = Object.create( Geometry.prototype );\nTetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\n\n// TetrahedronBufferGeometry\n\nfunction TetrahedronBufferGeometry( radius, detail ) {\n\n  var vertices = [\n    1,  1,  1,   - 1, - 1,  1,   - 1,  1, - 1,    1, - 1, - 1\n  ];\n\n  var indices = [\n    2,  1,  0,    0,  3,  2,    1,  3,  0,    2,  3,  1\n  ];\n\n  PolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n  this.type = 'TetrahedronBufferGeometry';\n\n  this.parameters = {\n    radius: radius,\n    detail: detail\n  };\n\n}\n\nTetrahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nTetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// OctahedronGeometry\n\nfunction OctahedronGeometry( radius, detail ) {\n\n  Geometry.call( this );\n\n  this.type = 'OctahedronGeometry';\n\n  this.parameters = {\n    radius: radius,\n    detail: detail\n  };\n\n  this.fromBufferGeometry( new OctahedronBufferGeometry( radius, detail ) );\n  this.mergeVertices();\n\n}\n\nOctahedronGeometry.prototype = Object.create( Geometry.prototype );\nOctahedronGeometry.prototype.constructor = OctahedronGeometry;\n\n// OctahedronBufferGeometry\n\nfunction OctahedronBufferGeometry( radius, detail ) {\n\n  var vertices = [\n    1, 0, 0,   - 1, 0, 0,    0, 1, 0,    0, - 1, 0,    0, 0, 1,    0, 0, - 1\n  ];\n\n  var indices = [\n    0, 2, 4,    0, 4, 3,    0, 3, 5,    0, 5, 2,    1, 2, 5,    1, 5, 3,    1, 3, 4,    1, 4, 2\n  ];\n\n  PolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n  this.type = 'OctahedronBufferGeometry';\n\n  this.parameters = {\n    radius: radius,\n    detail: detail\n  };\n\n}\n\nOctahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nOctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// IcosahedronGeometry\n\nfunction IcosahedronGeometry( radius, detail ) {\n\n  Geometry.call( this );\n\n  this.type = 'IcosahedronGeometry';\n\n  this.parameters = {\n    radius: radius,\n    detail: detail\n  };\n\n  this.fromBufferGeometry( new IcosahedronBufferGeometry( radius, detail ) );\n  this.mergeVertices();\n\n}\n\nIcosahedronGeometry.prototype = Object.create( Geometry.prototype );\nIcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\n\n// IcosahedronBufferGeometry\n\nfunction IcosahedronBufferGeometry( radius, detail ) {\n\n  var t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n  var vertices = [\n    - 1,  t,  0,    1,  t,  0,   - 1, - t,  0,    1, - t,  0,\n    0, - 1,  t,    0,  1,  t,    0, - 1, - t,    0,  1, - t,\n    t,  0, - 1,    t,  0,  1,   - t,  0, - 1,   - t,  0,  1\n  ];\n\n  var indices = [\n    0, 11,  5,    0,  5,  1,    0,  1,  7,    0,  7, 10,    0, 10, 11,\n    1,  5,  9,    5, 11,  4,   11, 10,  2,   10,  7,  6,    7,  1,  8,\n    3,  9,  4,    3,  4,  2,    3,  2,  6,    3,  6,  8,    3,  8,  9,\n    4,  9,  5,    2,  4, 11,    6,  2, 10,    8,  6,  7,    9,  8,  1\n  ];\n\n  PolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n  this.type = 'IcosahedronBufferGeometry';\n\n  this.parameters = {\n    radius: radius,\n    detail: detail\n  };\n\n}\n\nIcosahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nIcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;\n\n/**\n * @author Abe Pazos / https://hamoid.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// DodecahedronGeometry\n\nfunction DodecahedronGeometry( radius, detail ) {\n\n  Geometry.call( this );\n\n  this.type = 'DodecahedronGeometry';\n\n  this.parameters = {\n    radius: radius,\n    detail: detail\n  };\n\n  this.fromBufferGeometry( new DodecahedronBufferGeometry( radius, detail ) );\n  this.mergeVertices();\n\n}\n\nDodecahedronGeometry.prototype = Object.create( Geometry.prototype );\nDodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\n\n// DodecahedronBufferGeometry\n\nfunction DodecahedronBufferGeometry( radius, detail ) {\n\n  var t = ( 1 + Math.sqrt( 5 ) ) / 2;\n  var r = 1 / t;\n\n  var vertices = [\n\n    // (±1, ±1, ±1)\n    - 1, - 1, - 1,    - 1, - 1,  1,\n    - 1,  1, - 1,    - 1,  1,  1,\n    1, - 1, - 1,     1, - 1,  1,\n    1,  1, - 1,     1,  1,  1,\n\n    // (0, ±1/φ, ±φ)\n    0, - r, - t,     0, - r,  t,\n    0,  r, - t,     0,  r,  t,\n\n    // (±1/φ, ±φ, 0)\n    - r, - t,  0,    - r,  t,  0,\n    r, - t,  0,     r,  t,  0,\n\n    // (±φ, 0, ±1/φ)\n    - t,  0, - r,     t,  0, - r,\n    - t,  0,  r,     t,  0,  r\n  ];\n\n  var indices = [\n    3, 11,  7,      3,  7, 15,      3, 15, 13,\n    7, 19, 17,      7, 17,  6,      7,  6, 15,\n    17,  4,  8,     17,  8, 10,     17, 10,  6,\n    8,  0, 16,      8, 16,  2,      8,  2, 10,\n    0, 12,  1,      0,  1, 18,      0, 18, 16,\n    6, 10,  2,      6,  2, 13,      6, 13, 15,\n    2, 16, 18,      2, 18,  3,      2,  3, 13,\n    18,  1,  9,     18,  9, 11,     18, 11,  3,\n    4, 14, 12,      4, 12,  0,      4,  0,  8,\n    11,  9,  5,     11,  5, 19,     11, 19,  7,\n    19,  5, 14,     19, 14,  4,     19,  4, 17,\n    1, 12, 14,      1, 14,  5,      1,  5,  9\n  ];\n\n  PolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n  this.type = 'DodecahedronBufferGeometry';\n\n  this.parameters = {\n    radius: radius,\n    detail: detail\n  };\n\n}\n\nDodecahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nDodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;\n\n/**\n * @author oosmoxiecode / https://github.com/oosmoxiecode\n * @author WestLangley / https://github.com/WestLangley\n * @author zz85 / https://github.com/zz85\n * @author miningold / https://github.com/miningold\n * @author jonobr1 / https://github.com/jonobr1\n * @author Mugen87 / https://github.com/Mugen87\n *\n */\n\n// TubeGeometry\n\nfunction TubeGeometry( path, tubularSegments, radius, radialSegments, closed, taper ) {\n\n  Geometry.call( this );\n\n  this.type = 'TubeGeometry';\n\n  this.parameters = {\n    path: path,\n    tubularSegments: tubularSegments,\n    radius: radius,\n    radialSegments: radialSegments,\n    closed: closed\n  };\n\n  if ( taper !== undefined ) console.warn( 'THREE.TubeGeometry: taper has been removed.' );\n\n  var bufferGeometry = new TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed );\n\n  // expose internals\n\n  this.tangents = bufferGeometry.tangents;\n  this.normals = bufferGeometry.normals;\n  this.binormals = bufferGeometry.binormals;\n\n  // create geometry\n\n  this.fromBufferGeometry( bufferGeometry );\n  this.mergeVertices();\n\n}\n\nTubeGeometry.prototype = Object.create( Geometry.prototype );\nTubeGeometry.prototype.constructor = TubeGeometry;\n\n// TubeBufferGeometry\n\nfunction TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed ) {\n\n  BufferGeometry.call( this );\n\n  this.type = 'TubeBufferGeometry';\n\n  this.parameters = {\n    path: path,\n    tubularSegments: tubularSegments,\n    radius: radius,\n    radialSegments: radialSegments,\n    closed: closed\n  };\n\n  tubularSegments = tubularSegments || 64;\n  radius = radius || 1;\n  radialSegments = radialSegments || 8;\n  closed = closed || false;\n\n  var frames = path.computeFrenetFrames( tubularSegments, closed );\n\n  // expose internals\n\n  this.tangents = frames.tangents;\n  this.normals = frames.normals;\n  this.binormals = frames.binormals;\n\n  // helper variables\n\n  var vertex = new Vector3();\n  var normal = new Vector3();\n  var uv = new Vector2();\n\n  var i, j;\n\n  // buffer\n\n  var vertices = [];\n  var normals = [];\n  var uvs = [];\n  var indices = [];\n\n  // create buffer data\n\n  generateBufferData();\n\n  // build geometry\n\n  this.setIndex( indices );\n  this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n  this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n  // functions\n\n  function generateBufferData() {\n\n    for ( i = 0; i < tubularSegments; i ++ ) {\n\n      generateSegment( i );\n\n    }\n\n    // if the geometry is not closed, generate the last row of vertices and normals\n    // at the regular position on the given path\n    //\n    // if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n    generateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n    // uvs are generated in a separate function.\n    // this makes it easy compute correct values for closed geometries\n\n    generateUVs();\n\n    // finally create faces\n\n    generateIndices();\n\n  }\n\n  function generateSegment( i ) {\n\n    // we use getPointAt to sample evenly distributed points from the given path\n\n    var P = path.getPointAt( i / tubularSegments );\n\n    // retrieve corresponding normal and binormal\n\n    var N = frames.normals[ i ];\n    var B = frames.binormals[ i ];\n\n    // generate normals and vertices for the current segment\n\n    for ( j = 0; j <= radialSegments; j ++ ) {\n\n      var v = j / radialSegments * Math.PI * 2;\n\n      var sin =   Math.sin( v );\n      var cos = - Math.cos( v );\n\n      // normal\n\n      normal.x = ( cos * N.x + sin * B.x );\n      normal.y = ( cos * N.y + sin * B.y );\n      normal.z = ( cos * N.z + sin * B.z );\n      normal.normalize();\n\n      normals.push( normal.x, normal.y, normal.z );\n\n      // vertex\n\n      vertex.x = P.x + radius * normal.x;\n      vertex.y = P.y + radius * normal.y;\n      vertex.z = P.z + radius * normal.z;\n\n      vertices.push( vertex.x, vertex.y, vertex.z );\n\n    }\n\n  }\n\n  function generateIndices() {\n\n    for ( j = 1; j <= tubularSegments; j ++ ) {\n\n      for ( i = 1; i <= radialSegments; i ++ ) {\n\n        var a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n        var b = ( radialSegments + 1 ) * j + ( i - 1 );\n        var c = ( radialSegments + 1 ) * j + i;\n        var d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n        // faces\n\n        indices.push( a, b, d );\n        indices.push( b, c, d );\n\n      }\n\n    }\n\n  }\n\n  function generateUVs() {\n\n    for ( i = 0; i <= tubularSegments; i ++ ) {\n\n      for ( j = 0; j <= radialSegments; j ++ ) {\n\n        uv.x = i / tubularSegments;\n        uv.y = j / radialSegments;\n\n        uvs.push( uv.x, uv.y );\n\n      }\n\n    }\n\n  }\n\n}\n\nTubeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTubeBufferGeometry.prototype.constructor = TubeBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author Mugen87 / https://github.com/Mugen87\n *\n * based on http://www.blackpawn.com/texts/pqtorus/\n */\n\n// TorusKnotGeometry\n\nfunction TorusKnotGeometry( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\n\n  Geometry.call( this );\n\n  this.type = 'TorusKnotGeometry';\n\n  this.parameters = {\n    radius: radius,\n    tube: tube,\n    tubularSegments: tubularSegments,\n    radialSegments: radialSegments,\n    p: p,\n    q: q\n  };\n\n  if ( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\n\n  this.fromBufferGeometry( new TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\n  this.mergeVertices();\n\n}\n\nTorusKnotGeometry.prototype = Object.create( Geometry.prototype );\nTorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\n\n// TorusKnotBufferGeometry\n\nfunction TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) {\n\n  BufferGeometry.call( this );\n\n  this.type = 'TorusKnotBufferGeometry';\n\n  this.parameters = {\n    radius: radius,\n    tube: tube,\n    tubularSegments: tubularSegments,\n    radialSegments: radialSegments,\n    p: p,\n    q: q\n  };\n\n  radius = radius || 100;\n  tube = tube || 40;\n  tubularSegments = Math.floor( tubularSegments ) || 64;\n  radialSegments = Math.floor( radialSegments ) || 8;\n  p = p || 2;\n  q = q || 3;\n\n  // buffers\n\n  var indices = [];\n  var vertices = [];\n  var normals = [];\n  var uvs = [];\n\n  // helper variables\n\n  var i, j;\n\n  var vertex = new Vector3();\n  var normal = new Vector3();\n\n  var P1 = new Vector3();\n  var P2 = new Vector3();\n\n  var B = new Vector3();\n  var T = new Vector3();\n  var N = new Vector3();\n\n  // generate vertices, normals and uvs\n\n  for ( i = 0; i <= tubularSegments; ++ i ) {\n\n    // the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n    var u = i / tubularSegments * p * Math.PI * 2;\n\n    // now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n    // these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n    calculatePositionOnCurve( u, p, q, radius, P1 );\n    calculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n    // calculate orthonormal basis\n\n    T.subVectors( P2, P1 );\n    N.addVectors( P2, P1 );\n    B.crossVectors( T, N );\n    N.crossVectors( B, T );\n\n    // normalize B, N. T can be ignored, we don't use it\n\n    B.normalize();\n    N.normalize();\n\n    for ( j = 0; j <= radialSegments; ++ j ) {\n\n      // now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n      // because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n      var v = j / radialSegments * Math.PI * 2;\n      var cx = - tube * Math.cos( v );\n      var cy = tube * Math.sin( v );\n\n      // now calculate the final vertex position.\n      // first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n      vertex.x = P1.x + ( cx * N.x + cy * B.x );\n      vertex.y = P1.y + ( cx * N.y + cy * B.y );\n      vertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n      vertices.push( vertex.x, vertex.y, vertex.z );\n\n      // normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n      normal.subVectors( vertex, P1 ).normalize();\n\n      normals.push( normal.x, normal.y, normal.z );\n\n      // uv\n\n      uvs.push( i / tubularSegments );\n      uvs.push( j / radialSegments );\n\n    }\n\n  }\n\n  // generate indices\n\n  for ( j = 1; j <= tubularSegments; j ++ ) {\n\n    for ( i = 1; i <= radialSegments; i ++ ) {\n\n      // indices\n\n      var a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n      var b = ( radialSegments + 1 ) * j + ( i - 1 );\n      var c = ( radialSegments + 1 ) * j + i;\n      var d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n      // faces\n\n      indices.push( a, b, d );\n      indices.push( b, c, d );\n\n    }\n\n  }\n\n  // build geometry\n\n  this.setIndex( indices );\n  this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n  this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n  // this function calculates the current position on the torus curve\n\n  function calculatePositionOnCurve( u, p, q, radius, position ) {\n\n    var cu = Math.cos( u );\n    var su = Math.sin( u );\n    var quOverP = q / p * u;\n    var cs = Math.cos( quOverP );\n\n    position.x = radius * ( 2 + cs ) * 0.5 * cu;\n    position.y = radius * ( 2 + cs ) * su * 0.5;\n    position.z = radius * Math.sin( quOverP ) * 0.5;\n\n  }\n\n}\n\nTorusKnotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TorusGeometry\n\nfunction TorusGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n  Geometry.call( this );\n\n  this.type = 'TorusGeometry';\n\n  this.parameters = {\n    radius: radius,\n    tube: tube,\n    radialSegments: radialSegments,\n    tubularSegments: tubularSegments,\n    arc: arc\n  };\n\n  this.fromBufferGeometry( new TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\n  this.mergeVertices();\n\n}\n\nTorusGeometry.prototype = Object.create( Geometry.prototype );\nTorusGeometry.prototype.constructor = TorusGeometry;\n\n// TorusBufferGeometry\n\nfunction TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n  BufferGeometry.call( this );\n\n  this.type = 'TorusBufferGeometry';\n\n  this.parameters = {\n    radius: radius,\n    tube: tube,\n    radialSegments: radialSegments,\n    tubularSegments: tubularSegments,\n    arc: arc\n  };\n\n  radius = radius || 100;\n  tube = tube || 40;\n  radialSegments = Math.floor( radialSegments ) || 8;\n  tubularSegments = Math.floor( tubularSegments ) || 6;\n  arc = arc || Math.PI * 2;\n\n  // buffers\n\n  var indices = [];\n  var vertices = [];\n  var normals = [];\n  var uvs = [];\n\n  // helper variables\n\n  var center = new Vector3();\n  var vertex = new Vector3();\n  var normal = new Vector3();\n\n  var j, i;\n\n  // generate vertices, normals and uvs\n\n  for ( j = 0; j <= radialSegments; j ++ ) {\n\n    for ( i = 0; i <= tubularSegments; i ++ ) {\n\n      var u = i / tubularSegments * arc;\n      var v = j / radialSegments * Math.PI * 2;\n\n      // vertex\n\n      vertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n      vertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n      vertex.z = tube * Math.sin( v );\n\n      vertices.push( vertex.x, vertex.y, vertex.z );\n\n      // normal\n\n      center.x = radius * Math.cos( u );\n      center.y = radius * Math.sin( u );\n      normal.subVectors( vertex, center ).normalize();\n\n      normals.push( normal.x, normal.y, normal.z );\n\n      // uv\n\n      uvs.push( i / tubularSegments );\n      uvs.push( j / radialSegments );\n\n    }\n\n  }\n\n  // generate indices\n\n  for ( j = 1; j <= radialSegments; j ++ ) {\n\n    for ( i = 1; i <= tubularSegments; i ++ ) {\n\n      // indices\n\n      var a = ( tubularSegments + 1 ) * j + i - 1;\n      var b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n      var c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n      var d = ( tubularSegments + 1 ) * j + i;\n\n      // faces\n\n      indices.push( a, b, d );\n      indices.push( b, c, d );\n\n    }\n\n  }\n\n  // build geometry\n\n  this.setIndex( indices );\n  this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n  this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nTorusBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nvar ShapeUtils = {\n\n  // calculate area of the contour polygon\n\n  area: function ( contour ) {\n\n    var n = contour.length;\n    var a = 0.0;\n\n    for ( var p = n - 1, q = 0; q < n; p = q ++ ) {\n\n      a += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n    }\n\n    return a * 0.5;\n\n  },\n\n  triangulate: ( function () {\n\n    /**\n     * This code is a quick port of code written in C++ which was submitted to\n     * flipcode.com by John W. Ratcliff  // July 22, 2000\n     * See original code and more information here:\n     * http://www.flipcode.com/archives/Efficient_Polygon_Triangulation.shtml\n     *\n     * ported to actionscript by Zevan Rosser\n     * www.actionsnippet.com\n     *\n     * ported to javascript by Joshua Koo\n     * http://www.lab4games.net/zz85/blog\n     *\n     */\n\n    function snip( contour, u, v, w, n, verts ) {\n\n      var p;\n      var ax, ay, bx, by;\n      var cx, cy, px, py;\n\n      ax = contour[ verts[ u ] ].x;\n      ay = contour[ verts[ u ] ].y;\n\n      bx = contour[ verts[ v ] ].x;\n      by = contour[ verts[ v ] ].y;\n\n      cx = contour[ verts[ w ] ].x;\n      cy = contour[ verts[ w ] ].y;\n\n      if ( ( bx - ax ) * ( cy - ay ) - ( by - ay ) * ( cx - ax ) <= 0 ) return false;\n\n      var aX, aY, bX, bY, cX, cY;\n      var apx, apy, bpx, bpy, cpx, cpy;\n      var cCROSSap, bCROSScp, aCROSSbp;\n\n      aX = cx - bx;  aY = cy - by;\n      bX = ax - cx;  bY = ay - cy;\n      cX = bx - ax;  cY = by - ay;\n\n      for ( p = 0; p < n; p ++ ) {\n\n        px = contour[ verts[ p ] ].x;\n        py = contour[ verts[ p ] ].y;\n\n        if ( ( ( px === ax ) && ( py === ay ) ) ||\n          ( ( px === bx ) && ( py === by ) ) ||\n          ( ( px === cx ) && ( py === cy ) ) )\tcontinue;\n\n        apx = px - ax;  apy = py - ay;\n        bpx = px - bx;  bpy = py - by;\n        cpx = px - cx;  cpy = py - cy;\n\n        // see if p is inside triangle abc\n\n        aCROSSbp = aX * bpy - aY * bpx;\n        cCROSSap = cX * apy - cY * apx;\n        bCROSScp = bX * cpy - bY * cpx;\n\n        if ( ( aCROSSbp >= - Number.EPSILON ) && ( bCROSScp >= - Number.EPSILON ) && ( cCROSSap >= - Number.EPSILON ) ) return false;\n\n      }\n\n      return true;\n\n    }\n\n    // takes in an contour array and returns\n\n    return function triangulate( contour, indices ) {\n\n      var n = contour.length;\n\n      if ( n < 3 ) return null;\n\n      var result = [],\n        verts = [],\n        vertIndices = [];\n\n      /* we want a counter-clockwise polygon in verts */\n\n      var u, v, w;\n\n      if ( ShapeUtils.area( contour ) > 0.0 ) {\n\n        for ( v = 0; v < n; v ++ ) verts[ v ] = v;\n\n      } else {\n\n        for ( v = 0; v < n; v ++ ) verts[ v ] = ( n - 1 ) - v;\n\n      }\n\n      var nv = n;\n\n      /*  remove nv - 2 vertices, creating 1 triangle every time */\n\n      var count = 2 * nv;   /* error detection */\n\n      for ( v = nv - 1; nv > 2; ) {\n\n        /* if we loop, it is probably a non-simple polygon */\n\n        if ( ( count -- ) <= 0 ) {\n\n          //** Triangulate: ERROR - probable bad polygon!\n\n          //throw ( \"Warning, unable to triangulate polygon!\" );\n          //return null;\n          // Sometimes warning is fine, especially polygons are triangulated in reverse.\n          console.warn( 'THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()' );\n\n          if ( indices ) return vertIndices;\n          return result;\n\n        }\n\n        /* three consecutive vertices in current polygon, <u,v,w> */\n\n        u = v; \t \tif ( nv <= u ) u = 0;     /* previous */\n        v = u + 1;  if ( nv <= v ) v = 0;     /* new v    */\n        w = v + 1;  if ( nv <= w ) w = 0;     /* next     */\n\n        if ( snip( contour, u, v, w, nv, verts ) ) {\n\n          var a, b, c, s, t;\n\n          /* true names of the vertices */\n\n          a = verts[ u ];\n          b = verts[ v ];\n          c = verts[ w ];\n\n          /* output Triangle */\n\n          result.push( [ contour[ a ],\n            contour[ b ],\n            contour[ c ] ] );\n\n\n          vertIndices.push( [ verts[ u ], verts[ v ], verts[ w ] ] );\n\n          /* remove v from the remaining polygon */\n\n          for ( s = v, t = v + 1; t < nv; s ++, t ++ ) {\n\n            verts[ s ] = verts[ t ];\n\n          }\n\n          nv --;\n\n          /* reset error detection counter */\n\n          count = 2 * nv;\n\n        }\n\n      }\n\n      if ( indices ) return vertIndices;\n      return result;\n\n    };\n\n  } )(),\n\n  triangulateShape: function ( contour, holes ) {\n\n    function removeDupEndPts(points) {\n\n      var l = points.length;\n\n      if ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n        points.pop();\n\n      }\n\n    }\n\n    removeDupEndPts( contour );\n    holes.forEach( removeDupEndPts );\n\n    function point_in_segment_2D_colin( inSegPt1, inSegPt2, inOtherPt ) {\n\n      // inOtherPt needs to be collinear to the inSegment\n      if ( inSegPt1.x !== inSegPt2.x ) {\n\n        if ( inSegPt1.x < inSegPt2.x ) {\n\n          return\t( ( inSegPt1.x <= inOtherPt.x ) && ( inOtherPt.x <= inSegPt2.x ) );\n\n        } else {\n\n          return\t( ( inSegPt2.x <= inOtherPt.x ) && ( inOtherPt.x <= inSegPt1.x ) );\n\n        }\n\n      } else {\n\n        if ( inSegPt1.y < inSegPt2.y ) {\n\n          return\t( ( inSegPt1.y <= inOtherPt.y ) && ( inOtherPt.y <= inSegPt2.y ) );\n\n        } else {\n\n          return\t( ( inSegPt2.y <= inOtherPt.y ) && ( inOtherPt.y <= inSegPt1.y ) );\n\n        }\n\n      }\n\n    }\n\n    function intersect_segments_2D( inSeg1Pt1, inSeg1Pt2, inSeg2Pt1, inSeg2Pt2, inExcludeAdjacentSegs ) {\n\n      var seg1dx = inSeg1Pt2.x - inSeg1Pt1.x,   seg1dy = inSeg1Pt2.y - inSeg1Pt1.y;\n      var seg2dx = inSeg2Pt2.x - inSeg2Pt1.x,   seg2dy = inSeg2Pt2.y - inSeg2Pt1.y;\n\n      var seg1seg2dx = inSeg1Pt1.x - inSeg2Pt1.x;\n      var seg1seg2dy = inSeg1Pt1.y - inSeg2Pt1.y;\n\n      var limit\t\t= seg1dy * seg2dx - seg1dx * seg2dy;\n      var perpSeg1\t= seg1dy * seg1seg2dx - seg1dx * seg1seg2dy;\n\n      if ( Math.abs( limit ) > Number.EPSILON ) {\n\n        // not parallel\n\n        var perpSeg2;\n        if ( limit > 0 ) {\n\n          if ( ( perpSeg1 < 0 ) || ( perpSeg1 > limit ) ) \t\treturn [];\n          perpSeg2 = seg2dy * seg1seg2dx - seg2dx * seg1seg2dy;\n          if ( ( perpSeg2 < 0 ) || ( perpSeg2 > limit ) ) \t\treturn [];\n\n        } else {\n\n          if ( ( perpSeg1 > 0 ) || ( perpSeg1 < limit ) ) \t\treturn [];\n          perpSeg2 = seg2dy * seg1seg2dx - seg2dx * seg1seg2dy;\n          if ( ( perpSeg2 > 0 ) || ( perpSeg2 < limit ) ) \t\treturn [];\n\n        }\n\n        // i.e. to reduce rounding errors\n        // intersection at endpoint of segment#1?\n        if ( perpSeg2 === 0 ) {\n\n          if ( ( inExcludeAdjacentSegs ) &&\n            ( ( perpSeg1 === 0 ) || ( perpSeg1 === limit ) ) )\t\treturn [];\n          return [ inSeg1Pt1 ];\n\n        }\n        if ( perpSeg2 === limit ) {\n\n          if ( ( inExcludeAdjacentSegs ) &&\n            ( ( perpSeg1 === 0 ) || ( perpSeg1 === limit ) ) )\t\treturn [];\n          return [ inSeg1Pt2 ];\n\n        }\n        // intersection at endpoint of segment#2?\n        if ( perpSeg1 === 0 )\t\treturn [ inSeg2Pt1 ];\n        if ( perpSeg1 === limit )\treturn [ inSeg2Pt2 ];\n\n        // return real intersection point\n        var factorSeg1 = perpSeg2 / limit;\n        return\t[ { x: inSeg1Pt1.x + factorSeg1 * seg1dx,\n          y: inSeg1Pt1.y + factorSeg1 * seg1dy } ];\n\n      } else {\n\n        // parallel or collinear\n        if ( ( perpSeg1 !== 0 ) ||\n          ( seg2dy * seg1seg2dx !== seg2dx * seg1seg2dy ) ) \t\t\treturn [];\n\n        // they are collinear or degenerate\n        var seg1Pt = ( ( seg1dx === 0 ) && ( seg1dy === 0 ) );\t// segment1 is just a point?\n        var seg2Pt = ( ( seg2dx === 0 ) && ( seg2dy === 0 ) );\t// segment2 is just a point?\n        // both segments are points\n        if ( seg1Pt && seg2Pt ) {\n\n          if ( ( inSeg1Pt1.x !== inSeg2Pt1.x ) ||\n            ( inSeg1Pt1.y !== inSeg2Pt1.y ) )\t\treturn [];\t// they are distinct  points\n          return [ inSeg1Pt1 ];                 \t\t\t\t\t\t// they are the same point\n\n        }\n        // segment#1  is a single point\n        if ( seg1Pt ) {\n\n          if ( ! point_in_segment_2D_colin( inSeg2Pt1, inSeg2Pt2, inSeg1Pt1 ) )\t\treturn [];\t\t// but not in segment#2\n          return [ inSeg1Pt1 ];\n\n        }\n        // segment#2  is a single point\n        if ( seg2Pt ) {\n\n          if ( ! point_in_segment_2D_colin( inSeg1Pt1, inSeg1Pt2, inSeg2Pt1 ) )\t\treturn [];\t\t// but not in segment#1\n          return [ inSeg2Pt1 ];\n\n        }\n\n        // they are collinear segments, which might overlap\n        var seg1min, seg1max, seg1minVal, seg1maxVal;\n        var seg2min, seg2max, seg2minVal, seg2maxVal;\n        if ( seg1dx !== 0 ) {\n\n          // the segments are NOT on a vertical line\n          if ( inSeg1Pt1.x < inSeg1Pt2.x ) {\n\n            seg1min = inSeg1Pt1; seg1minVal = inSeg1Pt1.x;\n            seg1max = inSeg1Pt2; seg1maxVal = inSeg1Pt2.x;\n\n          } else {\n\n            seg1min = inSeg1Pt2; seg1minVal = inSeg1Pt2.x;\n            seg1max = inSeg1Pt1; seg1maxVal = inSeg1Pt1.x;\n\n          }\n          if ( inSeg2Pt1.x < inSeg2Pt2.x ) {\n\n            seg2min = inSeg2Pt1; seg2minVal = inSeg2Pt1.x;\n            seg2max = inSeg2Pt2; seg2maxVal = inSeg2Pt2.x;\n\n          } else {\n\n            seg2min = inSeg2Pt2; seg2minVal = inSeg2Pt2.x;\n            seg2max = inSeg2Pt1; seg2maxVal = inSeg2Pt1.x;\n\n          }\n\n        } else {\n\n          // the segments are on a vertical line\n          if ( inSeg1Pt1.y < inSeg1Pt2.y ) {\n\n            seg1min = inSeg1Pt1; seg1minVal = inSeg1Pt1.y;\n            seg1max = inSeg1Pt2; seg1maxVal = inSeg1Pt2.y;\n\n          } else {\n\n            seg1min = inSeg1Pt2; seg1minVal = inSeg1Pt2.y;\n            seg1max = inSeg1Pt1; seg1maxVal = inSeg1Pt1.y;\n\n          }\n          if ( inSeg2Pt1.y < inSeg2Pt2.y ) {\n\n            seg2min = inSeg2Pt1; seg2minVal = inSeg2Pt1.y;\n            seg2max = inSeg2Pt2; seg2maxVal = inSeg2Pt2.y;\n\n          } else {\n\n            seg2min = inSeg2Pt2; seg2minVal = inSeg2Pt2.y;\n            seg2max = inSeg2Pt1; seg2maxVal = inSeg2Pt1.y;\n\n          }\n\n        }\n        if ( seg1minVal <= seg2minVal ) {\n\n          if ( seg1maxVal <  seg2minVal )\treturn [];\n          if ( seg1maxVal === seg2minVal )\t{\n\n            if ( inExcludeAdjacentSegs )\t\treturn [];\n            return [ seg2min ];\n\n          }\n          if ( seg1maxVal <= seg2maxVal )\treturn [ seg2min, seg1max ];\n          return\t[ seg2min, seg2max ];\n\n        } else {\n\n          if ( seg1minVal >  seg2maxVal )\treturn [];\n          if ( seg1minVal === seg2maxVal )\t{\n\n            if ( inExcludeAdjacentSegs )\t\treturn [];\n            return [ seg1min ];\n\n          }\n          if ( seg1maxVal <= seg2maxVal )\treturn [ seg1min, seg1max ];\n          return\t[ seg1min, seg2max ];\n\n        }\n\n      }\n\n    }\n\n    function isPointInsideAngle( inVertex, inLegFromPt, inLegToPt, inOtherPt ) {\n\n      // The order of legs is important\n\n      // translation of all points, so that Vertex is at (0,0)\n      var legFromPtX\t= inLegFromPt.x - inVertex.x,  legFromPtY\t= inLegFromPt.y - inVertex.y;\n      var legToPtX\t= inLegToPt.x\t- inVertex.x,  legToPtY\t\t= inLegToPt.y\t- inVertex.y;\n      var otherPtX\t= inOtherPt.x\t- inVertex.x,  otherPtY\t\t= inOtherPt.y\t- inVertex.y;\n\n      // main angle >0: < 180 deg.; 0: 180 deg.; <0: > 180 deg.\n      var from2toAngle\t= legFromPtX * legToPtY - legFromPtY * legToPtX;\n      var from2otherAngle\t= legFromPtX * otherPtY - legFromPtY * otherPtX;\n\n      if ( Math.abs( from2toAngle ) > Number.EPSILON ) {\n\n        // angle != 180 deg.\n\n        var other2toAngle\t\t= otherPtX * legToPtY - otherPtY * legToPtX;\n        // console.log( \"from2to: \" + from2toAngle + \", from2other: \" + from2otherAngle + \", other2to: \" + other2toAngle );\n\n        if ( from2toAngle > 0 ) {\n\n          // main angle < 180 deg.\n          return\t( ( from2otherAngle >= 0 ) && ( other2toAngle >= 0 ) );\n\n        } else {\n\n          // main angle > 180 deg.\n          return\t( ( from2otherAngle >= 0 ) || ( other2toAngle >= 0 ) );\n\n        }\n\n      } else {\n\n        // angle == 180 deg.\n        // console.log( \"from2to: 180 deg., from2other: \" + from2otherAngle  );\n        return\t( from2otherAngle > 0 );\n\n      }\n\n    }\n\n\n    function removeHoles( contour, holes ) {\n\n      var shape = contour.concat(); // work on this shape\n      var hole;\n\n      function isCutLineInsideAngles( inShapeIdx, inHoleIdx ) {\n\n        // Check if hole point lies within angle around shape point\n        var lastShapeIdx = shape.length - 1;\n\n        var prevShapeIdx = inShapeIdx - 1;\n        if ( prevShapeIdx < 0 )\t\t\tprevShapeIdx = lastShapeIdx;\n\n        var nextShapeIdx = inShapeIdx + 1;\n        if ( nextShapeIdx > lastShapeIdx )\tnextShapeIdx = 0;\n\n        var insideAngle = isPointInsideAngle( shape[ inShapeIdx ], shape[ prevShapeIdx ], shape[ nextShapeIdx ], hole[ inHoleIdx ] );\n        if ( ! insideAngle ) {\n\n          // console.log( \"Vertex (Shape): \" + inShapeIdx + \", Point: \" + hole[inHoleIdx].x + \"/\" + hole[inHoleIdx].y );\n          return\tfalse;\n\n        }\n\n        // Check if shape point lies within angle around hole point\n        var lastHoleIdx = hole.length - 1;\n\n        var prevHoleIdx = inHoleIdx - 1;\n        if ( prevHoleIdx < 0 )\t\t\tprevHoleIdx = lastHoleIdx;\n\n        var nextHoleIdx = inHoleIdx + 1;\n        if ( nextHoleIdx > lastHoleIdx )\tnextHoleIdx = 0;\n\n        insideAngle = isPointInsideAngle( hole[ inHoleIdx ], hole[ prevHoleIdx ], hole[ nextHoleIdx ], shape[ inShapeIdx ] );\n        if ( ! insideAngle ) {\n\n          // console.log( \"Vertex (Hole): \" + inHoleIdx + \", Point: \" + shape[inShapeIdx].x + \"/\" + shape[inShapeIdx].y );\n          return\tfalse;\n\n        }\n\n        return\ttrue;\n\n      }\n\n      function intersectsShapeEdge( inShapePt, inHolePt ) {\n\n        // checks for intersections with shape edges\n        var sIdx, nextIdx, intersection;\n        for ( sIdx = 0; sIdx < shape.length; sIdx ++ ) {\n\n          nextIdx = sIdx + 1; nextIdx %= shape.length;\n          intersection = intersect_segments_2D( inShapePt, inHolePt, shape[ sIdx ], shape[ nextIdx ], true );\n          if ( intersection.length > 0 )\t\treturn\ttrue;\n\n        }\n\n        return\tfalse;\n\n      }\n\n      var indepHoles = [];\n\n      function intersectsHoleEdge( inShapePt, inHolePt ) {\n\n        // checks for intersections with hole edges\n        var ihIdx, chkHole,\n          hIdx, nextIdx, intersection;\n        for ( ihIdx = 0; ihIdx < indepHoles.length; ihIdx ++ ) {\n\n          chkHole = holes[ indepHoles[ ihIdx ] ];\n          for ( hIdx = 0; hIdx < chkHole.length; hIdx ++ ) {\n\n            nextIdx = hIdx + 1; nextIdx %= chkHole.length;\n            intersection = intersect_segments_2D( inShapePt, inHolePt, chkHole[ hIdx ], chkHole[ nextIdx ], true );\n            if ( intersection.length > 0 )\t\treturn\ttrue;\n\n          }\n\n        }\n        return\tfalse;\n\n      }\n\n      var holeIndex, shapeIndex,\n        shapePt, holePt,\n        holeIdx, cutKey, failedCuts = [],\n        tmpShape1, tmpShape2,\n        tmpHole1, tmpHole2;\n\n      for ( var h = 0, hl = holes.length; h < hl; h ++ ) {\n\n        indepHoles.push( h );\n\n      }\n\n      var minShapeIndex = 0;\n      var counter = indepHoles.length * 2;\n      while ( indepHoles.length > 0 ) {\n\n        counter --;\n        if ( counter < 0 ) {\n\n          console.log( 'THREE.ShapeUtils: Infinite Loop! Holes left:\" + indepHoles.length + \", Probably Hole outside Shape!' );\n          break;\n\n        }\n\n        // search for shape-vertex and hole-vertex,\n        // which can be connected without intersections\n        for ( shapeIndex = minShapeIndex; shapeIndex < shape.length; shapeIndex ++ ) {\n\n          shapePt = shape[ shapeIndex ];\n          holeIndex\t= - 1;\n\n          // search for hole which can be reached without intersections\n          for ( var h = 0; h < indepHoles.length; h ++ ) {\n\n            holeIdx = indepHoles[ h ];\n\n            // prevent multiple checks\n            cutKey = shapePt.x + ':' + shapePt.y + ':' + holeIdx;\n            if ( failedCuts[ cutKey ] !== undefined )\t\t\tcontinue;\n\n            hole = holes[ holeIdx ];\n            for ( var h2 = 0; h2 < hole.length; h2 ++ ) {\n\n              holePt = hole[ h2 ];\n              if ( ! isCutLineInsideAngles( shapeIndex, h2 ) )\t\tcontinue;\n              if ( intersectsShapeEdge( shapePt, holePt ) )\t\tcontinue;\n              if ( intersectsHoleEdge( shapePt, holePt ) )\t\tcontinue;\n\n              holeIndex = h2;\n              indepHoles.splice( h, 1 );\n\n              tmpShape1 = shape.slice( 0, shapeIndex + 1 );\n              tmpShape2 = shape.slice( shapeIndex );\n              tmpHole1 = hole.slice( holeIndex );\n              tmpHole2 = hole.slice( 0, holeIndex + 1 );\n\n              shape = tmpShape1.concat( tmpHole1 ).concat( tmpHole2 ).concat( tmpShape2 );\n\n              minShapeIndex = shapeIndex;\n\n              // Debug only, to show the selected cuts\n              // glob_CutLines.push( [ shapePt, holePt ] );\n\n              break;\n\n            }\n            if ( holeIndex >= 0 )\tbreak;\t\t// hole-vertex found\n\n            failedCuts[ cutKey ] = true;\t\t\t// remember failure\n\n          }\n          if ( holeIndex >= 0 )\tbreak;\t\t// hole-vertex found\n\n        }\n\n      }\n\n      return shape; \t\t\t/* shape with no holes */\n\n    }\n\n\n    var i, il, f, face,\n      key, index,\n      allPointsMap = {};\n\n    // To maintain reference to old shape, one must match coordinates, or offset the indices from original arrays. It's probably easier to do the first.\n\n    var allpoints = contour.concat();\n\n    for ( var h = 0, hl = holes.length; h < hl; h ++ ) {\n\n      Array.prototype.push.apply( allpoints, holes[ h ] );\n\n    }\n\n    //console.log( \"allpoints\",allpoints, allpoints.length );\n\n    // prepare all points map\n\n    for ( i = 0, il = allpoints.length; i < il; i ++ ) {\n\n      key = allpoints[ i ].x + ':' + allpoints[ i ].y;\n\n      if ( allPointsMap[ key ] !== undefined ) {\n\n        console.warn( 'THREE.ShapeUtils: Duplicate point', key, i );\n\n      }\n\n      allPointsMap[ key ] = i;\n\n    }\n\n    // remove holes by cutting paths to holes and adding them to the shape\n    var shapeWithoutHoles = removeHoles( contour, holes );\n\n    var triangles = ShapeUtils.triangulate( shapeWithoutHoles, false ); // True returns indices for points of spooled shape\n    //console.log( \"triangles\",triangles, triangles.length );\n\n    // check all face vertices against all points map\n\n    for ( i = 0, il = triangles.length; i < il; i ++ ) {\n\n      face = triangles[ i ];\n\n      for ( f = 0; f < 3; f ++ ) {\n\n        key = face[ f ].x + ':' + face[ f ].y;\n\n        index = allPointsMap[ key ];\n\n        if ( index !== undefined ) {\n\n          face[ f ] = index;\n\n        }\n\n      }\n\n    }\n\n    return triangles.concat();\n\n  },\n\n  isClockWise: function ( pts ) {\n\n    return ShapeUtils.area( pts ) < 0;\n\n  }\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  amount: <int>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline is bevel\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *  frames: <Object> // containing arrays of tangents, normals, binormals\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\n// ExtrudeGeometry\n\nfunction ExtrudeGeometry( shapes, options ) {\n\n  Geometry.call( this );\n\n  this.type = 'ExtrudeGeometry';\n\n  this.parameters = {\n    shapes: shapes,\n    options: options\n  };\n\n  this.fromBufferGeometry( new ExtrudeBufferGeometry( shapes, options ) );\n  this.mergeVertices();\n\n}\n\nExtrudeGeometry.prototype = Object.create( Geometry.prototype );\nExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\n\n// ExtrudeBufferGeometry\n\nfunction ExtrudeBufferGeometry( shapes, options ) {\n\n  if ( typeof ( shapes ) === \"undefined\" ) {\n\n    return;\n\n  }\n\n  BufferGeometry.call( this );\n\n  this.type = 'ExtrudeBufferGeometry';\n\n  shapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n  this.addShapeList( shapes, options );\n\n  this.computeVertexNormals();\n\n  // can't really use automatic vertex normals\n  // as then front and back sides get smoothed too\n  // should do separate smoothing just for sides\n\n  //this.computeVertexNormals();\n\n  //console.log( \"took\", ( Date.now() - startTime ) );\n\n}\n\nExtrudeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;\n\nExtrudeBufferGeometry.prototype.getArrays = function () {\n\n  var positionAttribute = this.getAttribute( \"position\" );\n  var verticesArray = positionAttribute ? Array.prototype.slice.call( positionAttribute.array ) : [];\n\n  var uvAttribute = this.getAttribute( \"uv\" );\n  var uvArray = uvAttribute ? Array.prototype.slice.call( uvAttribute.array ) : [];\n\n  var IndexAttribute = this.index;\n  var indicesArray = IndexAttribute ? Array.prototype.slice.call( IndexAttribute.array ) : [];\n\n  return {\n    position: verticesArray,\n    uv: uvArray,\n    index: indicesArray\n  };\n\n};\n\nExtrudeBufferGeometry.prototype.addShapeList = function ( shapes, options ) {\n\n  var sl = shapes.length;\n  options.arrays = this.getArrays();\n\n  for ( var s = 0; s < sl; s ++ ) {\n\n    var shape = shapes[ s ];\n    this.addShape( shape, options );\n\n  }\n\n  this.setIndex( options.arrays.index );\n  this.addAttribute( 'position', new Float32BufferAttribute( options.arrays.position, 3 ) );\n  this.addAttribute( 'uv', new Float32BufferAttribute( options.arrays.uv, 2 ) );\n\n};\n\nExtrudeBufferGeometry.prototype.addShape = function ( shape, options ) {\n\n  var arrays = options.arrays ? options.arrays : this.getArrays();\n  var verticesArray = arrays.position;\n  var indicesArray = arrays.index;\n  var uvArray = arrays.uv;\n\n  var placeholder = [];\n\n\n  var amount = options.amount !== undefined ? options.amount : 100;\n\n  var bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6; // 10\n  var bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2; // 8\n  var bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n  var bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true; // false\n\n  var curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\n  var steps = options.steps !== undefined ? options.steps : 1;\n\n  var extrudePath = options.extrudePath;\n  var extrudePts, extrudeByPath = false;\n\n  // Use default WorldUVGenerator if no UV generators are specified.\n  var uvgen = options.UVGenerator !== undefined ? options.UVGenerator : ExtrudeGeometry.WorldUVGenerator;\n\n  var splineTube, binormal, normal, position2;\n  if ( extrudePath ) {\n\n    extrudePts = extrudePath.getSpacedPoints( steps );\n\n    extrudeByPath = true;\n    bevelEnabled = false; // bevels not supported for path extrusion\n\n    // SETUP TNB variables\n\n    // TODO1 - have a .isClosed in spline?\n\n    splineTube = options.frames !== undefined ? options.frames : extrudePath.computeFrenetFrames( steps, false );\n\n    // console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n    binormal = new Vector3();\n    normal = new Vector3();\n    position2 = new Vector3();\n\n  }\n\n  // Safeguards if bevels are not enabled\n\n  if ( ! bevelEnabled ) {\n\n    bevelSegments = 0;\n    bevelThickness = 0;\n    bevelSize = 0;\n\n  }\n\n  // Variables initialization\n\n  var ahole, h, hl; // looping of holes\n  var scope = this;\n\n  var shapePoints = shape.extractPoints( curveSegments );\n\n  var vertices = shapePoints.shape;\n  var holes = shapePoints.holes;\n\n  var reverse = ! ShapeUtils.isClockWise( vertices );\n\n  if ( reverse ) {\n\n    vertices = vertices.reverse();\n\n    // Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n    for ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n      ahole = holes[ h ];\n\n      if ( ShapeUtils.isClockWise( ahole ) ) {\n\n        holes[ h ] = ahole.reverse();\n\n      }\n\n    }\n\n  }\n\n\n  var faces = ShapeUtils.triangulateShape( vertices, holes );\n\n  /* Vertices */\n\n  var contour = vertices; // vertices has all points but contour has only points of circumference\n\n  for ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n    ahole = holes[ h ];\n\n    vertices = vertices.concat( ahole );\n\n  }\n\n\n  function scalePt2( pt, vec, size ) {\n\n    if ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\n\n    return vec.clone().multiplyScalar( size ).add( pt );\n\n  }\n\n  var b, bs, t, z,\n    vert, vlen = vertices.length,\n    face, flen = faces.length;\n\n\n  // Find directions for point movement\n\n\n  function getBevelVec( inPt, inPrev, inNext ) {\n\n    // computes for inPt the corresponding point inPt' on a new contour\n    //   shifted by 1 unit (length of normalized vector) to the left\n    // if we walk along contour clockwise, this new contour is outside the old one\n    //\n    // inPt' is the intersection of the two lines parallel to the two\n    //  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n    var v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n    // good reading for geometry algorithms (here: line-line intersection)\n    // http://geomalgorithms.com/a05-_intersect-1.html\n\n    var v_prev_x = inPt.x - inPrev.x,\n      v_prev_y = inPt.y - inPrev.y;\n    var v_next_x = inNext.x - inPt.x,\n      v_next_y = inNext.y - inPt.y;\n\n    var v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n    // check for collinear edges\n    var collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n    if ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n      // not collinear\n\n      // length of vectors for normalizing\n\n      var v_prev_len = Math.sqrt( v_prev_lensq );\n      var v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n      // shift adjacent points by unit vectors to the left\n\n      var ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n      var ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n      var ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n      var ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n      // scaling factor for v_prev to intersection point\n\n      var sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n        ( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n        ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n      // vector from inPt to intersection point\n\n      v_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n      v_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n      // Don't normalize!, otherwise sharp corners become ugly\n      //  but prevent crazy spikes\n      var v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n      if ( v_trans_lensq <= 2 ) {\n\n        return new Vector2( v_trans_x, v_trans_y );\n\n      } else {\n\n        shrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n      }\n\n    } else {\n\n      // handle special case of collinear edges\n\n      var direction_eq = false; // assumes: opposite\n      if ( v_prev_x > Number.EPSILON ) {\n\n        if ( v_next_x > Number.EPSILON ) {\n\n          direction_eq = true;\n\n        }\n\n      } else {\n\n        if ( v_prev_x < - Number.EPSILON ) {\n\n          if ( v_next_x < - Number.EPSILON ) {\n\n            direction_eq = true;\n\n          }\n\n        } else {\n\n          if ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n            direction_eq = true;\n\n          }\n\n        }\n\n      }\n\n      if ( direction_eq ) {\n\n        // console.log(\"Warning: lines are a straight sequence\");\n        v_trans_x = - v_prev_y;\n        v_trans_y = v_prev_x;\n        shrink_by = Math.sqrt( v_prev_lensq );\n\n      } else {\n\n        // console.log(\"Warning: lines are a straight spike\");\n        v_trans_x = v_prev_x;\n        v_trans_y = v_prev_y;\n        shrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n      }\n\n    }\n\n    return new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n  }\n\n\n  var contourMovements = [];\n\n  for ( var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n    if ( j === il ) j = 0;\n    if ( k === il ) k = 0;\n\n    //  (j)---(i)---(k)\n    // console.log('i,j,k', i, j , k)\n\n    contourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n  }\n\n  var holesMovements = [],\n    oneHoleMovements, verticesMovements = contourMovements.concat();\n\n  for ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n    ahole = holes[ h ];\n\n    oneHoleMovements = [];\n\n    for ( i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n      if ( j === il ) j = 0;\n      if ( k === il ) k = 0;\n\n      //  (j)---(i)---(k)\n      oneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n    }\n\n    holesMovements.push( oneHoleMovements );\n    verticesMovements = verticesMovements.concat( oneHoleMovements );\n\n  }\n\n\n  // Loop bevelSegments, 1 for the front, 1 for the back\n\n  for ( b = 0; b < bevelSegments; b ++ ) {\n\n    //for ( b = bevelSegments; b > 0; b -- ) {\n\n    t = b / bevelSegments;\n    z = bevelThickness * Math.cos( t * Math.PI / 2 );\n    bs = bevelSize * Math.sin( t * Math.PI / 2 );\n\n    // contract shape\n\n    for ( i = 0, il = contour.length; i < il; i ++ ) {\n\n      vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n      v( vert.x, vert.y, - z );\n\n    }\n\n    // expand holes\n\n    for ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n      ahole = holes[ h ];\n      oneHoleMovements = holesMovements[ h ];\n\n      for ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n        vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n        v( vert.x, vert.y, - z );\n\n      }\n\n    }\n\n  }\n\n  bs = bevelSize;\n\n  // Back facing vertices\n\n  for ( i = 0; i < vlen; i ++ ) {\n\n    vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n    if ( ! extrudeByPath ) {\n\n      v( vert.x, vert.y, 0 );\n\n    } else {\n\n      // v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n      normal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n      binormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n      position2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n      v( position2.x, position2.y, position2.z );\n\n    }\n\n  }\n\n  // Add stepped vertices...\n  // Including front facing vertices\n\n  var s;\n\n  for ( s = 1; s <= steps; s ++ ) {\n\n    for ( i = 0; i < vlen; i ++ ) {\n\n      vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n      if ( ! extrudeByPath ) {\n\n        v( vert.x, vert.y, amount / steps * s );\n\n      } else {\n\n        // v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n        normal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n        binormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n        position2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n        v( position2.x, position2.y, position2.z );\n\n      }\n\n    }\n\n  }\n\n\n  // Add bevel segments planes\n\n  //for ( b = 1; b <= bevelSegments; b ++ ) {\n  for ( b = bevelSegments - 1; b >= 0; b -- ) {\n\n    t = b / bevelSegments;\n    z = bevelThickness * Math.cos( t * Math.PI / 2 );\n    bs = bevelSize * Math.sin( t * Math.PI / 2 );\n\n    // contract shape\n\n    for ( i = 0, il = contour.length; i < il; i ++ ) {\n\n      vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n      v( vert.x, vert.y, amount + z );\n\n    }\n\n    // expand holes\n\n    for ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n      ahole = holes[ h ];\n      oneHoleMovements = holesMovements[ h ];\n\n      for ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n        vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n        if ( ! extrudeByPath ) {\n\n          v( vert.x, vert.y, amount + z );\n\n        } else {\n\n          v( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n        }\n\n      }\n\n    }\n\n  }\n\n  /* Faces */\n\n  // Top and bottom faces\n\n  buildLidFaces();\n\n  // Sides faces\n\n  buildSideFaces();\n\n\n  /////  Internal functions\n\n  function buildLidFaces() {\n\n    var start = verticesArray.length/3;\n\n    if ( bevelEnabled ) {\n\n      var layer = 0; // steps + 1\n      var offset = vlen * layer;\n\n      // Bottom faces\n\n      for ( i = 0; i < flen; i ++ ) {\n\n        face = faces[ i ];\n        f3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n      }\n\n      layer = steps + bevelSegments * 2;\n      offset = vlen * layer;\n\n      // Top faces\n\n      for ( i = 0; i < flen; i ++ ) {\n\n        face = faces[ i ];\n        f3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n      }\n\n    } else {\n\n      // Bottom faces\n\n      for ( i = 0; i < flen; i ++ ) {\n\n        face = faces[ i ];\n        f3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n      }\n\n      // Top faces\n\n      for ( i = 0; i < flen; i ++ ) {\n\n        face = faces[ i ];\n        f3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n      }\n\n    }\n\n    scope.addGroup( start, verticesArray.length/3 -start, options.material !== undefined ? options.material : 0);\n\n  }\n\n  // Create faces for the z-sides of the shape\n\n  function buildSideFaces() {\n\n    var start = verticesArray.length/3;\n    var layeroffset = 0;\n    sidewalls( contour, layeroffset );\n    layeroffset += contour.length;\n\n    for ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n      ahole = holes[ h ];\n      sidewalls( ahole, layeroffset );\n\n      //, true\n      layeroffset += ahole.length;\n\n    }\n\n\n    scope.addGroup( start, verticesArray.length/3 -start, options.extrudeMaterial !== undefined ? options.extrudeMaterial : 1);\n\n\n  }\n\n  function sidewalls( contour, layeroffset ) {\n\n    var j, k;\n    i = contour.length;\n\n    while ( -- i >= 0 ) {\n\n      j = i;\n      k = i - 1;\n      if ( k < 0 ) k = contour.length - 1;\n\n      //console.log('b', i,j, i-1, k,vertices.length);\n\n      var s = 0,\n        sl = steps + bevelSegments * 2;\n\n      for ( s = 0; s < sl; s ++ ) {\n\n        var slen1 = vlen * s;\n        var slen2 = vlen * ( s + 1 );\n\n        var a = layeroffset + j + slen1,\n          b = layeroffset + k + slen1,\n          c = layeroffset + k + slen2,\n          d = layeroffset + j + slen2;\n\n        f4( a, b, c, d, contour, s, sl, j, k );\n\n      }\n\n    }\n\n  }\n\n  function v( x, y, z ) {\n\n    placeholder.push( x );\n    placeholder.push( y );\n    placeholder.push( z );\n\n  }\n\n\n  function f3( a, b, c ) {\n\n    addVertex( a );\n    addVertex( b );\n    addVertex( c );\n\n    var nextIndex = verticesArray.length / 3;\n    var uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n    addUV( uvs[ 0 ] );\n    addUV( uvs[ 1 ] );\n    addUV( uvs[ 2 ] );\n\n  }\n\n  function f4( a, b, c, d, wallContour, stepIndex, stepsLength, contourIndex1, contourIndex2 ) {\n\n    addVertex( a );\n    addVertex( b );\n    addVertex( d );\n\n    addVertex( b );\n    addVertex( c );\n    addVertex( d );\n\n\n    var nextIndex = verticesArray.length / 3;\n    var uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n    addUV( uvs[ 0 ] );\n    addUV( uvs[ 1 ] );\n    addUV( uvs[ 3 ] );\n\n    addUV( uvs[ 1 ] );\n    addUV( uvs[ 2 ] );\n    addUV( uvs[ 3 ] );\n\n  }\n\n  function addVertex( index ) {\n\n    indicesArray.push( verticesArray.length / 3 );\n    verticesArray.push( placeholder[ index * 3 + 0 ] );\n    verticesArray.push( placeholder[ index * 3 + 1 ] );\n    verticesArray.push( placeholder[ index * 3 + 2 ] );\n\n  }\n\n\n  function addUV( vector2 ) {\n\n    uvArray.push( vector2.x );\n    uvArray.push( vector2.y );\n\n  }\n\n  if ( ! options.arrays ) {\n\n    this.setIndex( indicesArray );\n    this.addAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n    this.addAttribute( 'uv', new Float32BufferAttribute( options.arrays.uv, 2 ) );\n\n  }\n\n};\n\nExtrudeGeometry.WorldUVGenerator = {\n\n  generateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n    var a_x = vertices[ indexA * 3 ];\n    var a_y = vertices[ indexA * 3 + 1 ];\n    var b_x = vertices[ indexB * 3 ];\n    var b_y = vertices[ indexB * 3 + 1 ];\n    var c_x = vertices[ indexC * 3 ];\n    var c_y = vertices[ indexC * 3 + 1 ];\n\n    return [\n      new Vector2( a_x, a_y ),\n      new Vector2( b_x, b_y ),\n      new Vector2( c_x, c_y )\n    ];\n\n  },\n\n  generateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n    var a_x = vertices[ indexA * 3 ];\n    var a_y = vertices[ indexA * 3 + 1 ];\n    var a_z = vertices[ indexA * 3 + 2 ];\n    var b_x = vertices[ indexB * 3 ];\n    var b_y = vertices[ indexB * 3 + 1 ];\n    var b_z = vertices[ indexB * 3 + 2 ];\n    var c_x = vertices[ indexC * 3 ];\n    var c_y = vertices[ indexC * 3 + 1 ];\n    var c_z = vertices[ indexC * 3 + 2 ];\n    var d_x = vertices[ indexD * 3 ];\n    var d_y = vertices[ indexD * 3 + 1 ];\n    var d_z = vertices[ indexD * 3 + 2 ];\n\n    if ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n      return [\n        new Vector2( a_x, 1 - a_z ),\n        new Vector2( b_x, 1 - b_z ),\n        new Vector2( c_x, 1 - c_z ),\n        new Vector2( d_x, 1 - d_z )\n      ];\n\n    } else {\n\n      return [\n        new Vector2( a_y, 1 - a_z ),\n        new Vector2( b_y, 1 - b_z ),\n        new Vector2( c_y, 1 - c_z ),\n        new Vector2( d_y, 1 - d_z )\n      ];\n\n    }\n\n  }\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author alteredq / http://alteredqualia.com/\n *\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float> // how far from text outline is bevel\n * }\n */\n\n// TextGeometry\n\nfunction TextGeometry(  text, parameters ) {\n\n  Geometry.call( this );\n\n  this.type = 'TextGeometry';\n\n  this.parameters = {\n    text: text,\n    parameters: parameters\n  };\n\n  this.fromBufferGeometry( new TextBufferGeometry( text, parameters ) );\n  this.mergeVertices();\n\n}\n\nTextGeometry.prototype = Object.create( Geometry.prototype );\nTextGeometry.prototype.constructor = TextGeometry;\n\n// TextBufferGeometry\n\nfunction TextBufferGeometry( text, parameters ) {\n\n  parameters = parameters || {};\n\n  var font = parameters.font;\n\n  if ( ! ( font && font.isFont ) ) {\n\n    console.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n    return new Geometry();\n\n  }\n\n  var shapes = font.generateShapes( text, parameters.size, parameters.curveSegments );\n\n  // translate parameters to ExtrudeGeometry API\n\n  parameters.amount = parameters.height !== undefined ? parameters.height : 50;\n\n  // defaults\n\n  if ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n  if ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n  if ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n  ExtrudeBufferGeometry.call( this, shapes, parameters );\n\n  this.type = 'TextBufferGeometry';\n\n}\n\nTextBufferGeometry.prototype = Object.create( ExtrudeBufferGeometry.prototype );\nTextBufferGeometry.prototype.constructor = TextBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// SphereGeometry\n\nfunction SphereGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n  Geometry.call( this );\n\n  this.type = 'SphereGeometry';\n\n  this.parameters = {\n    radius: radius,\n    widthSegments: widthSegments,\n    heightSegments: heightSegments,\n    phiStart: phiStart,\n    phiLength: phiLength,\n    thetaStart: thetaStart,\n    thetaLength: thetaLength\n  };\n\n  this.fromBufferGeometry( new SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\n  this.mergeVertices();\n\n}\n\nSphereGeometry.prototype = Object.create( Geometry.prototype );\nSphereGeometry.prototype.constructor = SphereGeometry;\n\n// SphereBufferGeometry\n\nfunction SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n  BufferGeometry.call( this );\n\n  this.type = 'SphereBufferGeometry';\n\n  this.parameters = {\n    radius: radius,\n    widthSegments: widthSegments,\n    heightSegments: heightSegments,\n    phiStart: phiStart,\n    phiLength: phiLength,\n    thetaStart: thetaStart,\n    thetaLength: thetaLength\n  };\n\n  radius = radius || 50;\n\n  widthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\n  heightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\n\n  phiStart = phiStart !== undefined ? phiStart : 0;\n  phiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n  thetaStart = thetaStart !== undefined ? thetaStart : 0;\n  thetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n  var thetaEnd = thetaStart + thetaLength;\n\n  var ix, iy;\n\n  var index = 0;\n  var grid = [];\n\n  var vertex = new Vector3();\n  var normal = new Vector3();\n\n  // buffers\n\n  var indices = [];\n  var vertices = [];\n  var normals = [];\n  var uvs = [];\n\n  // generate vertices, normals and uvs\n\n  for ( iy = 0; iy <= heightSegments; iy ++ ) {\n\n    var verticesRow = [];\n\n    var v = iy / heightSegments;\n\n    for ( ix = 0; ix <= widthSegments; ix ++ ) {\n\n      var u = ix / widthSegments;\n\n      // vertex\n\n      vertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n      vertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n      vertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n      vertices.push( vertex.x, vertex.y, vertex.z );\n\n      // normal\n\n      normal.set( vertex.x, vertex.y, vertex.z ).normalize();\n      normals.push( normal.x, normal.y, normal.z );\n\n      // uv\n\n      uvs.push( u, 1 - v );\n\n      verticesRow.push( index ++ );\n\n    }\n\n    grid.push( verticesRow );\n\n  }\n\n  // indices\n\n  for ( iy = 0; iy < heightSegments; iy ++ ) {\n\n    for ( ix = 0; ix < widthSegments; ix ++ ) {\n\n      var a = grid[ iy ][ ix + 1 ];\n      var b = grid[ iy ][ ix ];\n      var c = grid[ iy + 1 ][ ix ];\n      var d = grid[ iy + 1 ][ ix + 1 ];\n\n      if ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n      if ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n    }\n\n  }\n\n  // build geometry\n\n  this.setIndex( indices );\n  this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n  this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nSphereBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nSphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\n\n/**\n * @author Kaleb Murphy\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// RingGeometry\n\nfunction RingGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n  Geometry.call( this );\n\n  this.type = 'RingGeometry';\n\n  this.parameters = {\n    innerRadius: innerRadius,\n    outerRadius: outerRadius,\n    thetaSegments: thetaSegments,\n    phiSegments: phiSegments,\n    thetaStart: thetaStart,\n    thetaLength: thetaLength\n  };\n\n  this.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\n  this.mergeVertices();\n\n}\n\nRingGeometry.prototype = Object.create( Geometry.prototype );\nRingGeometry.prototype.constructor = RingGeometry;\n\n// RingBufferGeometry\n\nfunction RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n  BufferGeometry.call( this );\n\n  this.type = 'RingBufferGeometry';\n\n  this.parameters = {\n    innerRadius: innerRadius,\n    outerRadius: outerRadius,\n    thetaSegments: thetaSegments,\n    phiSegments: phiSegments,\n    thetaStart: thetaStart,\n    thetaLength: thetaLength\n  };\n\n  innerRadius = innerRadius || 20;\n  outerRadius = outerRadius || 50;\n\n  thetaStart = thetaStart !== undefined ? thetaStart : 0;\n  thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n  thetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\n  phiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\n\n  // buffers\n\n  var indices = [];\n  var vertices = [];\n  var normals = [];\n  var uvs = [];\n\n  // some helper variables\n\n  var segment;\n  var radius = innerRadius;\n  var radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n  var vertex = new Vector3();\n  var uv = new Vector2();\n  var j, i;\n\n  // generate vertices, normals and uvs\n\n  for ( j = 0; j <= phiSegments; j ++ ) {\n\n    for ( i = 0; i <= thetaSegments; i ++ ) {\n\n      // values are generate from the inside of the ring to the outside\n\n      segment = thetaStart + i / thetaSegments * thetaLength;\n\n      // vertex\n\n      vertex.x = radius * Math.cos( segment );\n      vertex.y = radius * Math.sin( segment );\n\n      vertices.push( vertex.x, vertex.y, vertex.z );\n\n      // normal\n\n      normals.push( 0, 0, 1 );\n\n      // uv\n\n      uv.x = ( vertex.x / outerRadius + 1 ) / 2;\n      uv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n      uvs.push( uv.x, uv.y );\n\n    }\n\n    // increase the radius for next row of vertices\n\n    radius += radiusStep;\n\n  }\n\n  // indices\n\n  for ( j = 0; j < phiSegments; j ++ ) {\n\n    var thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n    for ( i = 0; i < thetaSegments; i ++ ) {\n\n      segment = i + thetaSegmentLevel;\n\n      var a = segment;\n      var b = segment + thetaSegments + 1;\n      var c = segment + thetaSegments + 2;\n      var d = segment + 1;\n\n      // faces\n\n      indices.push( a, b, d );\n      indices.push( b, c, d );\n\n    }\n\n  }\n\n  // build geometry\n\n  this.setIndex( indices );\n  this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n  this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nRingBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nRingBufferGeometry.prototype.constructor = RingBufferGeometry;\n\n/**\n * @author astrodud / http://astrodud.isgreat.org/\n * @author zz85 / https://github.com/zz85\n * @author bhouston / http://clara.io\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// LatheGeometry\n\nfunction LatheGeometry( points, segments, phiStart, phiLength ) {\n\n  Geometry.call( this );\n\n  this.type = 'LatheGeometry';\n\n  this.parameters = {\n    points: points,\n    segments: segments,\n    phiStart: phiStart,\n    phiLength: phiLength\n  };\n\n  this.fromBufferGeometry( new LatheBufferGeometry( points, segments, phiStart, phiLength ) );\n  this.mergeVertices();\n\n}\n\nLatheGeometry.prototype = Object.create( Geometry.prototype );\nLatheGeometry.prototype.constructor = LatheGeometry;\n\n// LatheBufferGeometry\n\nfunction LatheBufferGeometry( points, segments, phiStart, phiLength ) {\n\n  BufferGeometry.call( this );\n\n  this.type = 'LatheBufferGeometry';\n\n  this.parameters = {\n    points: points,\n    segments: segments,\n    phiStart: phiStart,\n    phiLength: phiLength\n  };\n\n  segments = Math.floor( segments ) || 12;\n  phiStart = phiStart || 0;\n  phiLength = phiLength || Math.PI * 2;\n\n  // clamp phiLength so it's in range of [ 0, 2PI ]\n\n  phiLength = _Math.clamp( phiLength, 0, Math.PI * 2 );\n\n\n  // buffers\n\n  var indices = [];\n  var vertices = [];\n  var uvs = [];\n\n  // helper variables\n\n  var base;\n  var inverseSegments = 1.0 / segments;\n  var vertex = new Vector3();\n  var uv = new Vector2();\n  var i, j;\n\n  // generate vertices and uvs\n\n  for ( i = 0; i <= segments; i ++ ) {\n\n    var phi = phiStart + i * inverseSegments * phiLength;\n\n    var sin = Math.sin( phi );\n    var cos = Math.cos( phi );\n\n    for ( j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n      // vertex\n\n      vertex.x = points[ j ].x * sin;\n      vertex.y = points[ j ].y;\n      vertex.z = points[ j ].x * cos;\n\n      vertices.push( vertex.x, vertex.y, vertex.z );\n\n      // uv\n\n      uv.x = i / segments;\n      uv.y = j / ( points.length - 1 );\n\n      uvs.push( uv.x, uv.y );\n\n\n    }\n\n  }\n\n  // indices\n\n  for ( i = 0; i < segments; i ++ ) {\n\n    for ( j = 0; j < ( points.length - 1 ); j ++ ) {\n\n      base = j + i * points.length;\n\n      var a = base;\n      var b = base + points.length;\n      var c = base + points.length + 1;\n      var d = base + 1;\n\n      // faces\n\n      indices.push( a, b, d );\n      indices.push( b, c, d );\n\n    }\n\n  }\n\n  // build geometry\n\n  this.setIndex( indices );\n  this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n  // generate normals\n\n  this.computeVertexNormals();\n\n  // if the geometry is closed, we need to average the normals along the seam.\n  // because the corresponding vertices are identical (but still have different UVs).\n\n  if ( phiLength === Math.PI * 2 ) {\n\n    var normals = this.attributes.normal.array;\n    var n1 = new Vector3();\n    var n2 = new Vector3();\n    var n = new Vector3();\n\n    // this is the buffer offset for the last line of vertices\n\n    base = segments * points.length * 3;\n\n    for ( i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n      // select the normal of the vertex in the first line\n\n      n1.x = normals[ j + 0 ];\n      n1.y = normals[ j + 1 ];\n      n1.z = normals[ j + 2 ];\n\n      // select the normal of the vertex in the last line\n\n      n2.x = normals[ base + j + 0 ];\n      n2.y = normals[ base + j + 1 ];\n      n2.z = normals[ base + j + 2 ];\n\n      // average normals\n\n      n.addVectors( n1, n2 ).normalize();\n\n      // assign the new values to both normals\n\n      normals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n      normals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n      normals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n    }\n\n  }\n\n}\n\nLatheBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nLatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\n\n/**\n * @author jonobr1 / http://jonobr1.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// ShapeGeometry\n\nfunction ShapeGeometry( shapes, curveSegments ) {\n\n  Geometry.call( this );\n\n  this.type = 'ShapeGeometry';\n\n  if ( typeof curveSegments === 'object' ) {\n\n    console.warn( 'THREE.ShapeGeometry: Options parameter has been removed.' );\n\n    curveSegments = curveSegments.curveSegments;\n\n  }\n\n  this.parameters = {\n    shapes: shapes,\n    curveSegments: curveSegments\n  };\n\n  this.fromBufferGeometry( new ShapeBufferGeometry( shapes, curveSegments ) );\n  this.mergeVertices();\n\n}\n\nShapeGeometry.prototype = Object.create( Geometry.prototype );\nShapeGeometry.prototype.constructor = ShapeGeometry;\n\n// ShapeBufferGeometry\n\nfunction ShapeBufferGeometry( shapes, curveSegments ) {\n\n  BufferGeometry.call( this );\n\n  this.type = 'ShapeBufferGeometry';\n\n  this.parameters = {\n    shapes: shapes,\n    curveSegments: curveSegments\n  };\n\n  curveSegments = curveSegments || 12;\n\n  // buffers\n\n  var indices = [];\n  var vertices = [];\n  var normals = [];\n  var uvs = [];\n\n  // helper variables\n\n  var groupStart = 0;\n  var groupCount = 0;\n\n  // allow single and array values for \"shapes\" parameter\n\n  if ( Array.isArray( shapes ) === false ) {\n\n    addShape( shapes );\n\n  } else {\n\n    for ( var i = 0; i < shapes.length; i ++ ) {\n\n      addShape( shapes[ i ] );\n\n      this.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n      groupStart += groupCount;\n      groupCount = 0;\n\n    }\n\n  }\n\n  // build geometry\n\n  this.setIndex( indices );\n  this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n  this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n  // helper functions\n\n  function addShape( shape ) {\n\n    var i, l, shapeHole;\n\n    var indexOffset = vertices.length / 3;\n    var points = shape.extractPoints( curveSegments );\n\n    var shapeVertices = points.shape;\n    var shapeHoles = points.holes;\n\n    // check direction of vertices\n\n    if ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n      shapeVertices = shapeVertices.reverse();\n\n      // also check if holes are in the opposite direction\n\n      for ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n        shapeHole = shapeHoles[ i ];\n\n        if ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n          shapeHoles[ i ] = shapeHole.reverse();\n\n        }\n\n      }\n\n    }\n\n    var faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n    // join vertices of inner and outer paths to a single array\n\n    for ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n      shapeHole = shapeHoles[ i ];\n      shapeVertices = shapeVertices.concat( shapeHole );\n\n    }\n\n    // vertices, normals, uvs\n\n    for ( i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n      var vertex = shapeVertices[ i ];\n\n      vertices.push( vertex.x, vertex.y, 0 );\n      normals.push( 0, 0, 1 );\n      uvs.push( vertex.x, vertex.y ); // world uvs\n\n    }\n\n    // incides\n\n    for ( i = 0, l = faces.length; i < l; i ++ ) {\n\n      var face = faces[ i ];\n\n      var a = face[ 0 ] + indexOffset;\n      var b = face[ 1 ] + indexOffset;\n      var c = face[ 2 ] + indexOffset;\n\n      indices.push( a, b, c );\n      groupCount += 3;\n\n    }\n\n  }\n\n}\n\nShapeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction EdgesGeometry( geometry, thresholdAngle ) {\n\n  BufferGeometry.call( this );\n\n  this.type = 'EdgesGeometry';\n\n  this.parameters = {\n    thresholdAngle: thresholdAngle\n  };\n\n  thresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n  // buffer\n\n  var vertices = [];\n\n  // helper variables\n\n  var thresholdDot = Math.cos( _Math.DEG2RAD * thresholdAngle );\n  var edge = [ 0, 0 ], edges = {}, edge1, edge2;\n  var key, keys = [ 'a', 'b', 'c' ];\n\n  // prepare source geometry\n\n  var geometry2;\n\n  if ( geometry.isBufferGeometry ) {\n\n    geometry2 = new Geometry();\n    geometry2.fromBufferGeometry( geometry );\n\n  } else {\n\n    geometry2 = geometry.clone();\n\n  }\n\n  geometry2.mergeVertices();\n  geometry2.computeFaceNormals();\n\n  var sourceVertices = geometry2.vertices;\n  var faces = geometry2.faces;\n\n  // now create a data structure where each entry represents an edge with its adjoining faces\n\n  for ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n    var face = faces[ i ];\n\n    for ( var j = 0; j < 3; j ++ ) {\n\n      edge1 = face[ keys[ j ] ];\n      edge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n      edge[ 0 ] = Math.min( edge1, edge2 );\n      edge[ 1 ] = Math.max( edge1, edge2 );\n\n      key = edge[ 0 ] + ',' + edge[ 1 ];\n\n      if ( edges[ key ] === undefined ) {\n\n        edges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ], face1: i, face2: undefined };\n\n      } else {\n\n        edges[ key ].face2 = i;\n\n      }\n\n    }\n\n  }\n\n  // generate vertices\n\n  for ( key in edges ) {\n\n    var e = edges[ key ];\n\n    // an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\n\n    if ( e.face2 === undefined || faces[ e.face1 ].normal.dot( faces[ e.face2 ].normal ) <= thresholdDot ) {\n\n      var vertex = sourceVertices[ e.index1 ];\n      vertices.push( vertex.x, vertex.y, vertex.z );\n\n      vertex = sourceVertices[ e.index2 ];\n      vertices.push( vertex.x, vertex.y, vertex.z );\n\n    }\n\n  }\n\n  // build geometry\n\n  this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nEdgesGeometry.prototype = Object.create( BufferGeometry.prototype );\nEdgesGeometry.prototype.constructor = EdgesGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// CylinderGeometry\n\nfunction CylinderGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n  Geometry.call( this );\n\n  this.type = 'CylinderGeometry';\n\n  this.parameters = {\n    radiusTop: radiusTop,\n    radiusBottom: radiusBottom,\n    height: height,\n    radialSegments: radialSegments,\n    heightSegments: heightSegments,\n    openEnded: openEnded,\n    thetaStart: thetaStart,\n    thetaLength: thetaLength\n  };\n\n  this.fromBufferGeometry( new CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\n  this.mergeVertices();\n\n}\n\nCylinderGeometry.prototype = Object.create( Geometry.prototype );\nCylinderGeometry.prototype.constructor = CylinderGeometry;\n\n// CylinderBufferGeometry\n\nfunction CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n  BufferGeometry.call( this );\n\n  this.type = 'CylinderBufferGeometry';\n\n  this.parameters = {\n    radiusTop: radiusTop,\n    radiusBottom: radiusBottom,\n    height: height,\n    radialSegments: radialSegments,\n    heightSegments: heightSegments,\n    openEnded: openEnded,\n    thetaStart: thetaStart,\n    thetaLength: thetaLength\n  };\n\n  var scope = this;\n\n  radiusTop = radiusTop !== undefined ? radiusTop : 20;\n  radiusBottom = radiusBottom !== undefined ? radiusBottom : 20;\n  height = height !== undefined ? height : 100;\n\n  radialSegments = Math.floor( radialSegments ) || 8;\n  heightSegments = Math.floor( heightSegments ) || 1;\n\n  openEnded = openEnded !== undefined ? openEnded : false;\n  thetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n  thetaLength = thetaLength !== undefined ? thetaLength : 2.0 * Math.PI;\n\n  // buffers\n\n  var indices = [];\n  var vertices = [];\n  var normals = [];\n  var uvs = [];\n\n  // helper variables\n\n  var index = 0;\n  var indexArray = [];\n  var halfHeight = height / 2;\n  var groupStart = 0;\n\n  // generate geometry\n\n  generateTorso();\n\n  if ( openEnded === false ) {\n\n    if ( radiusTop > 0 ) generateCap( true );\n    if ( radiusBottom > 0 ) generateCap( false );\n\n  }\n\n  // build geometry\n\n  this.setIndex( indices );\n  this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n  this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n  function generateTorso() {\n\n    var x, y;\n    var normal = new Vector3();\n    var vertex = new Vector3();\n\n    var groupCount = 0;\n\n    // this will be used to calculate the normal\n    var slope = ( radiusBottom - radiusTop ) / height;\n\n    // generate vertices, normals and uvs\n\n    for ( y = 0; y <= heightSegments; y ++ ) {\n\n      var indexRow = [];\n\n      var v = y / heightSegments;\n\n      // calculate the radius of the current row\n\n      var radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n      for ( x = 0; x <= radialSegments; x ++ ) {\n\n        var u = x / radialSegments;\n\n        var theta = u * thetaLength + thetaStart;\n\n        var sinTheta = Math.sin( theta );\n        var cosTheta = Math.cos( theta );\n\n        // vertex\n\n        vertex.x = radius * sinTheta;\n        vertex.y = - v * height + halfHeight;\n        vertex.z = radius * cosTheta;\n        vertices.push( vertex.x, vertex.y, vertex.z );\n\n        // normal\n\n        normal.set( sinTheta, slope, cosTheta ).normalize();\n        normals.push( normal.x, normal.y, normal.z );\n\n        // uv\n\n        uvs.push( u, 1 - v );\n\n        // save index of vertex in respective row\n\n        indexRow.push( index ++ );\n\n      }\n\n      // now save vertices of the row in our index array\n\n      indexArray.push( indexRow );\n\n    }\n\n    // generate indices\n\n    for ( x = 0; x < radialSegments; x ++ ) {\n\n      for ( y = 0; y < heightSegments; y ++ ) {\n\n        // we use the index array to access the correct indices\n\n        var a = indexArray[ y ][ x ];\n        var b = indexArray[ y + 1 ][ x ];\n        var c = indexArray[ y + 1 ][ x + 1 ];\n        var d = indexArray[ y ][ x + 1 ];\n\n        // faces\n\n        indices.push( a, b, d );\n        indices.push( b, c, d );\n\n        // update group counter\n\n        groupCount += 6;\n\n      }\n\n    }\n\n    // add a group to the geometry. this will ensure multi material support\n\n    scope.addGroup( groupStart, groupCount, 0 );\n\n    // calculate new start value for groups\n\n    groupStart += groupCount;\n\n  }\n\n  function generateCap( top ) {\n\n    var x, centerIndexStart, centerIndexEnd;\n\n    var uv = new Vector2();\n    var vertex = new Vector3();\n\n    var groupCount = 0;\n\n    var radius = ( top === true ) ? radiusTop : radiusBottom;\n    var sign = ( top === true ) ? 1 : - 1;\n\n    // save the index of the first center vertex\n    centerIndexStart = index;\n\n    // first we generate the center vertex data of the cap.\n    // because the geometry needs one set of uvs per face,\n    // we must generate a center vertex per face/segment\n\n    for ( x = 1; x <= radialSegments; x ++ ) {\n\n      // vertex\n\n      vertices.push( 0, halfHeight * sign, 0 );\n\n      // normal\n\n      normals.push( 0, sign, 0 );\n\n      // uv\n\n      uvs.push( 0.5, 0.5 );\n\n      // increase index\n\n      index ++;\n\n    }\n\n    // save the index of the last center vertex\n\n    centerIndexEnd = index;\n\n    // now we generate the surrounding vertices, normals and uvs\n\n    for ( x = 0; x <= radialSegments; x ++ ) {\n\n      var u = x / radialSegments;\n      var theta = u * thetaLength + thetaStart;\n\n      var cosTheta = Math.cos( theta );\n      var sinTheta = Math.sin( theta );\n\n      // vertex\n\n      vertex.x = radius * sinTheta;\n      vertex.y = halfHeight * sign;\n      vertex.z = radius * cosTheta;\n      vertices.push( vertex.x, vertex.y, vertex.z );\n\n      // normal\n\n      normals.push( 0, sign, 0 );\n\n      // uv\n\n      uv.x = ( cosTheta * 0.5 ) + 0.5;\n      uv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n      uvs.push( uv.x, uv.y );\n\n      // increase index\n\n      index ++;\n\n    }\n\n    // generate indices\n\n    for ( x = 0; x < radialSegments; x ++ ) {\n\n      var c = centerIndexStart + x;\n      var i = centerIndexEnd + x;\n\n      if ( top === true ) {\n\n        // face top\n\n        indices.push( i, i + 1, c );\n\n      } else {\n\n        // face bottom\n\n        indices.push( i + 1, i, c );\n\n      }\n\n      groupCount += 3;\n\n    }\n\n    // add a group to the geometry. this will ensure multi material support\n\n    scope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n    // calculate new start value for groups\n\n    groupStart += groupCount;\n\n  }\n\n}\n\nCylinderBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\n// ConeGeometry\n\nfunction ConeGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n  CylinderGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n  this.type = 'ConeGeometry';\n\n  this.parameters = {\n    radius: radius,\n    height: height,\n    radialSegments: radialSegments,\n    heightSegments: heightSegments,\n    openEnded: openEnded,\n    thetaStart: thetaStart,\n    thetaLength: thetaLength\n  };\n\n}\n\nConeGeometry.prototype = Object.create( CylinderGeometry.prototype );\nConeGeometry.prototype.constructor = ConeGeometry;\n\n// ConeBufferGeometry\n\nfunction ConeBufferGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n  CylinderBufferGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n  this.type = 'ConeBufferGeometry';\n\n  this.parameters = {\n    radius: radius,\n    height: height,\n    radialSegments: radialSegments,\n    heightSegments: heightSegments,\n    openEnded: openEnded,\n    thetaStart: thetaStart,\n    thetaLength: thetaLength\n  };\n\n}\n\nConeBufferGeometry.prototype = Object.create( CylinderBufferGeometry.prototype );\nConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n * @author hughes\n */\n\n// CircleGeometry\n\nfunction CircleGeometry( radius, segments, thetaStart, thetaLength ) {\n\n  Geometry.call( this );\n\n  this.type = 'CircleGeometry';\n\n  this.parameters = {\n    radius: radius,\n    segments: segments,\n    thetaStart: thetaStart,\n    thetaLength: thetaLength\n  };\n\n  this.fromBufferGeometry( new CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\n  this.mergeVertices();\n\n}\n\nCircleGeometry.prototype = Object.create( Geometry.prototype );\nCircleGeometry.prototype.constructor = CircleGeometry;\n\n// CircleBufferGeometry\n\nfunction CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) {\n\n  BufferGeometry.call( this );\n\n  this.type = 'CircleBufferGeometry';\n\n  this.parameters = {\n    radius: radius,\n    segments: segments,\n    thetaStart: thetaStart,\n    thetaLength: thetaLength\n  };\n\n  radius = radius || 50;\n  segments = segments !== undefined ? Math.max( 3, segments ) : 8;\n\n  thetaStart = thetaStart !== undefined ? thetaStart : 0;\n  thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n  // buffers\n\n  var indices = [];\n  var vertices = [];\n  var normals = [];\n  var uvs = [];\n\n  // helper variables\n\n  var i, s;\n  var vertex = new Vector3();\n  var uv = new Vector2();\n\n  // center point\n\n  vertices.push( 0, 0, 0 );\n  normals.push( 0, 0, 1 );\n  uvs.push( 0.5, 0.5 );\n\n  for ( s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n    var segment = thetaStart + s / segments * thetaLength;\n\n    // vertex\n\n    vertex.x = radius * Math.cos( segment );\n    vertex.y = radius * Math.sin( segment );\n\n    vertices.push( vertex.x, vertex.y, vertex.z );\n\n    // normal\n\n    normals.push( 0, 0, 1 );\n\n    // uvs\n\n    uv.x = ( vertices[ i ] / radius + 1 ) / 2;\n    uv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n    uvs.push( uv.x, uv.y );\n\n  }\n\n  // indices\n\n  for ( i = 1; i <= segments; i ++ ) {\n\n    indices.push( i, i + 1, 0 );\n\n  }\n\n  // build geometry\n\n  this.setIndex( indices );\n  this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n  this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nCircleBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\n\n\n\nvar Geometries = Object.freeze({\n  WireframeGeometry: WireframeGeometry,\n  ParametricGeometry: ParametricGeometry,\n  ParametricBufferGeometry: ParametricBufferGeometry,\n  TetrahedronGeometry: TetrahedronGeometry,\n  TetrahedronBufferGeometry: TetrahedronBufferGeometry,\n  OctahedronGeometry: OctahedronGeometry,\n  OctahedronBufferGeometry: OctahedronBufferGeometry,\n  IcosahedronGeometry: IcosahedronGeometry,\n  IcosahedronBufferGeometry: IcosahedronBufferGeometry,\n  DodecahedronGeometry: DodecahedronGeometry,\n  DodecahedronBufferGeometry: DodecahedronBufferGeometry,\n  PolyhedronGeometry: PolyhedronGeometry,\n  PolyhedronBufferGeometry: PolyhedronBufferGeometry,\n  TubeGeometry: TubeGeometry,\n  TubeBufferGeometry: TubeBufferGeometry,\n  TorusKnotGeometry: TorusKnotGeometry,\n  TorusKnotBufferGeometry: TorusKnotBufferGeometry,\n  TorusGeometry: TorusGeometry,\n  TorusBufferGeometry: TorusBufferGeometry,\n  TextGeometry: TextGeometry,\n  TextBufferGeometry: TextBufferGeometry,\n  SphereGeometry: SphereGeometry,\n  SphereBufferGeometry: SphereBufferGeometry,\n  RingGeometry: RingGeometry,\n  RingBufferGeometry: RingBufferGeometry,\n  PlaneGeometry: PlaneGeometry,\n  PlaneBufferGeometry: PlaneBufferGeometry,\n  LatheGeometry: LatheGeometry,\n  LatheBufferGeometry: LatheBufferGeometry,\n  ShapeGeometry: ShapeGeometry,\n  ShapeBufferGeometry: ShapeBufferGeometry,\n  ExtrudeGeometry: ExtrudeGeometry,\n  ExtrudeBufferGeometry: ExtrudeBufferGeometry,\n  EdgesGeometry: EdgesGeometry,\n  ConeGeometry: ConeGeometry,\n  ConeBufferGeometry: ConeBufferGeometry,\n  CylinderGeometry: CylinderGeometry,\n  CylinderBufferGeometry: CylinderBufferGeometry,\n  CircleGeometry: CircleGeometry,\n  CircleBufferGeometry: CircleBufferGeometry,\n  BoxGeometry: BoxGeometry,\n  BoxBufferGeometry: BoxBufferGeometry\n});\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * parameters = {\n *  color: <THREE.Color>,\n *  opacity: <float>\n * }\n */\n\nfunction ShadowMaterial( parameters ) {\n\n  Material.call( this );\n\n  this.type = 'ShadowMaterial';\n\n  this.color = new Color( 0x000000 );\n  this.opacity = 1.0;\n\n  this.lights = true;\n  this.transparent = true;\n\n  this.setValues( parameters );\n\n}\n\nShadowMaterial.prototype = Object.create( Material.prototype );\nShadowMaterial.prototype.constructor = ShadowMaterial;\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction RawShaderMaterial( parameters ) {\n\n  ShaderMaterial.call( this, parameters );\n\n  this.type = 'RawShaderMaterial';\n\n}\n\nRawShaderMaterial.prototype = Object.create( ShaderMaterial.prototype );\nRawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshStandardMaterial( parameters ) {\n\n  Material.call( this );\n\n  this.defines = { 'STANDARD': '' };\n\n  this.type = 'MeshStandardMaterial';\n\n  this.color = new Color( 0xffffff ); // diffuse\n  this.roughness = 0.5;\n  this.metalness = 0.5;\n\n  this.map = null;\n\n  this.lightMap = null;\n  this.lightMapIntensity = 1.0;\n\n  this.aoMap = null;\n  this.aoMapIntensity = 1.0;\n\n  this.emissive = new Color( 0x000000 );\n  this.emissiveIntensity = 1.0;\n  this.emissiveMap = null;\n\n  this.bumpMap = null;\n  this.bumpScale = 1;\n\n  this.normalMap = null;\n  this.normalScale = new Vector2( 1, 1 );\n\n  this.displacementMap = null;\n  this.displacementScale = 1;\n  this.displacementBias = 0;\n\n  this.roughnessMap = null;\n\n  this.metalnessMap = null;\n\n  this.alphaMap = null;\n\n  this.envMap = null;\n  this.envMapIntensity = 1.0;\n\n  this.refractionRatio = 0.98;\n\n  this.wireframe = false;\n  this.wireframeLinewidth = 1;\n  this.wireframeLinecap = 'round';\n  this.wireframeLinejoin = 'round';\n\n  this.skinning = false;\n  this.morphTargets = false;\n  this.morphNormals = false;\n\n  this.setValues( parameters );\n\n}\n\nMeshStandardMaterial.prototype = Object.create( Material.prototype );\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\nMeshStandardMaterial.prototype.copy = function ( source ) {\n\n  Material.prototype.copy.call( this, source );\n\n  this.defines = { 'STANDARD': '' };\n\n  this.color.copy( source.color );\n  this.roughness = source.roughness;\n  this.metalness = source.metalness;\n\n  this.map = source.map;\n\n  this.lightMap = source.lightMap;\n  this.lightMapIntensity = source.lightMapIntensity;\n\n  this.aoMap = source.aoMap;\n  this.aoMapIntensity = source.aoMapIntensity;\n\n  this.emissive.copy( source.emissive );\n  this.emissiveMap = source.emissiveMap;\n  this.emissiveIntensity = source.emissiveIntensity;\n\n  this.bumpMap = source.bumpMap;\n  this.bumpScale = source.bumpScale;\n\n  this.normalMap = source.normalMap;\n  this.normalScale.copy( source.normalScale );\n\n  this.displacementMap = source.displacementMap;\n  this.displacementScale = source.displacementScale;\n  this.displacementBias = source.displacementBias;\n\n  this.roughnessMap = source.roughnessMap;\n\n  this.metalnessMap = source.metalnessMap;\n\n  this.alphaMap = source.alphaMap;\n\n  this.envMap = source.envMap;\n  this.envMapIntensity = source.envMapIntensity;\n\n  this.refractionRatio = source.refractionRatio;\n\n  this.wireframe = source.wireframe;\n  this.wireframeLinewidth = source.wireframeLinewidth;\n  this.wireframeLinecap = source.wireframeLinecap;\n  this.wireframeLinejoin = source.wireframeLinejoin;\n\n  this.skinning = source.skinning;\n  this.morphTargets = source.morphTargets;\n  this.morphNormals = source.morphNormals;\n\n  return this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  reflectivity: <float>\n * }\n */\n\nfunction MeshPhysicalMaterial( parameters ) {\n\n  MeshStandardMaterial.call( this );\n\n  this.defines = { 'PHYSICAL': '' };\n\n  this.type = 'MeshPhysicalMaterial';\n\n  this.reflectivity = 0.5; // maps to F0 = 0.04\n\n  this.clearCoat = 0.0;\n  this.clearCoatRoughness = 0.0;\n\n  this.setValues( parameters );\n\n}\n\nMeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\nMeshPhysicalMaterial.prototype.copy = function ( source ) {\n\n  MeshStandardMaterial.prototype.copy.call( this, source );\n\n  this.defines = { 'PHYSICAL': '' };\n\n  this.reflectivity = source.reflectivity;\n\n  this.clearCoat = source.clearCoat;\n  this.clearCoatRoughness = source.clearCoatRoughness;\n\n  return this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshPhongMaterial( parameters ) {\n\n  Material.call( this );\n\n  this.type = 'MeshPhongMaterial';\n\n  this.color = new Color( 0xffffff ); // diffuse\n  this.specular = new Color( 0x111111 );\n  this.shininess = 30;\n\n  this.map = null;\n\n  this.lightMap = null;\n  this.lightMapIntensity = 1.0;\n\n  this.aoMap = null;\n  this.aoMapIntensity = 1.0;\n\n  this.emissive = new Color( 0x000000 );\n  this.emissiveIntensity = 1.0;\n  this.emissiveMap = null;\n\n  this.bumpMap = null;\n  this.bumpScale = 1;\n\n  this.normalMap = null;\n  this.normalScale = new Vector2( 1, 1 );\n\n  this.displacementMap = null;\n  this.displacementScale = 1;\n  this.displacementBias = 0;\n\n  this.specularMap = null;\n\n  this.alphaMap = null;\n\n  this.envMap = null;\n  this.combine = MultiplyOperation;\n  this.reflectivity = 1;\n  this.refractionRatio = 0.98;\n\n  this.wireframe = false;\n  this.wireframeLinewidth = 1;\n  this.wireframeLinecap = 'round';\n  this.wireframeLinejoin = 'round';\n\n  this.skinning = false;\n  this.morphTargets = false;\n  this.morphNormals = false;\n\n  this.setValues( parameters );\n\n}\n\nMeshPhongMaterial.prototype = Object.create( Material.prototype );\nMeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\nMeshPhongMaterial.prototype.copy = function ( source ) {\n\n  Material.prototype.copy.call( this, source );\n\n  this.color.copy( source.color );\n  this.specular.copy( source.specular );\n  this.shininess = source.shininess;\n\n  this.map = source.map;\n\n  this.lightMap = source.lightMap;\n  this.lightMapIntensity = source.lightMapIntensity;\n\n  this.aoMap = source.aoMap;\n  this.aoMapIntensity = source.aoMapIntensity;\n\n  this.emissive.copy( source.emissive );\n  this.emissiveMap = source.emissiveMap;\n  this.emissiveIntensity = source.emissiveIntensity;\n\n  this.bumpMap = source.bumpMap;\n  this.bumpScale = source.bumpScale;\n\n  this.normalMap = source.normalMap;\n  this.normalScale.copy( source.normalScale );\n\n  this.displacementMap = source.displacementMap;\n  this.displacementScale = source.displacementScale;\n  this.displacementBias = source.displacementBias;\n\n  this.specularMap = source.specularMap;\n\n  this.alphaMap = source.alphaMap;\n\n  this.envMap = source.envMap;\n  this.combine = source.combine;\n  this.reflectivity = source.reflectivity;\n  this.refractionRatio = source.refractionRatio;\n\n  this.wireframe = source.wireframe;\n  this.wireframeLinewidth = source.wireframeLinewidth;\n  this.wireframeLinecap = source.wireframeLinecap;\n  this.wireframeLinejoin = source.wireframeLinejoin;\n\n  this.skinning = source.skinning;\n  this.morphTargets = source.morphTargets;\n  this.morphNormals = source.morphNormals;\n\n  return this;\n\n};\n\n/**\n * @author takahirox / http://github.com/takahirox\n *\n * parameters = {\n *  gradientMap: new THREE.Texture( <Image> )\n * }\n */\n\nfunction MeshToonMaterial( parameters ) {\n\n  MeshPhongMaterial.call( this );\n\n  this.defines = { 'TOON': '' };\n\n  this.type = 'MeshToonMaterial';\n\n  this.gradientMap = null;\n\n  this.setValues( parameters );\n\n}\n\nMeshToonMaterial.prototype = Object.create( MeshPhongMaterial.prototype );\nMeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\nMeshToonMaterial.prototype.copy = function ( source ) {\n\n  MeshPhongMaterial.prototype.copy.call( this, source );\n\n  this.gradientMap = source.gradientMap;\n\n  return this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshNormalMaterial( parameters ) {\n\n  Material.call( this );\n\n  this.type = 'MeshNormalMaterial';\n\n  this.bumpMap = null;\n  this.bumpScale = 1;\n\n  this.normalMap = null;\n  this.normalScale = new Vector2( 1, 1 );\n\n  this.displacementMap = null;\n  this.displacementScale = 1;\n  this.displacementBias = 0;\n\n  this.wireframe = false;\n  this.wireframeLinewidth = 1;\n\n  this.fog = false;\n  this.lights = false;\n\n  this.skinning = false;\n  this.morphTargets = false;\n  this.morphNormals = false;\n\n  this.setValues( parameters );\n\n}\n\nMeshNormalMaterial.prototype = Object.create( Material.prototype );\nMeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\nMeshNormalMaterial.prototype.copy = function ( source ) {\n\n  Material.prototype.copy.call( this, source );\n\n  this.bumpMap = source.bumpMap;\n  this.bumpScale = source.bumpScale;\n\n  this.normalMap = source.normalMap;\n  this.normalScale.copy( source.normalScale );\n\n  this.displacementMap = source.displacementMap;\n  this.displacementScale = source.displacementScale;\n  this.displacementBias = source.displacementBias;\n\n  this.wireframe = source.wireframe;\n  this.wireframeLinewidth = source.wireframeLinewidth;\n\n  this.skinning = source.skinning;\n  this.morphTargets = source.morphTargets;\n  this.morphNormals = source.morphNormals;\n\n  return this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshLambertMaterial( parameters ) {\n\n  Material.call( this );\n\n  this.type = 'MeshLambertMaterial';\n\n  this.color = new Color( 0xffffff ); // diffuse\n\n  this.map = null;\n\n  this.lightMap = null;\n  this.lightMapIntensity = 1.0;\n\n  this.aoMap = null;\n  this.aoMapIntensity = 1.0;\n\n  this.emissive = new Color( 0x000000 );\n  this.emissiveIntensity = 1.0;\n  this.emissiveMap = null;\n\n  this.specularMap = null;\n\n  this.alphaMap = null;\n\n  this.envMap = null;\n  this.combine = MultiplyOperation;\n  this.reflectivity = 1;\n  this.refractionRatio = 0.98;\n\n  this.wireframe = false;\n  this.wireframeLinewidth = 1;\n  this.wireframeLinecap = 'round';\n  this.wireframeLinejoin = 'round';\n\n  this.skinning = false;\n  this.morphTargets = false;\n  this.morphNormals = false;\n\n  this.setValues( parameters );\n\n}\n\nMeshLambertMaterial.prototype = Object.create( Material.prototype );\nMeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\nMeshLambertMaterial.prototype.copy = function ( source ) {\n\n  Material.prototype.copy.call( this, source );\n\n  this.color.copy( source.color );\n\n  this.map = source.map;\n\n  this.lightMap = source.lightMap;\n  this.lightMapIntensity = source.lightMapIntensity;\n\n  this.aoMap = source.aoMap;\n  this.aoMapIntensity = source.aoMapIntensity;\n\n  this.emissive.copy( source.emissive );\n  this.emissiveMap = source.emissiveMap;\n  this.emissiveIntensity = source.emissiveIntensity;\n\n  this.specularMap = source.specularMap;\n\n  this.alphaMap = source.alphaMap;\n\n  this.envMap = source.envMap;\n  this.combine = source.combine;\n  this.reflectivity = source.reflectivity;\n  this.refractionRatio = source.refractionRatio;\n\n  this.wireframe = source.wireframe;\n  this.wireframeLinewidth = source.wireframeLinewidth;\n  this.wireframeLinecap = source.wireframeLinecap;\n  this.wireframeLinejoin = source.wireframeLinejoin;\n\n  this.skinning = source.skinning;\n  this.morphTargets = source.morphTargets;\n  this.morphNormals = source.morphNormals;\n\n  return this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nfunction LineDashedMaterial( parameters ) {\n\n  LineBasicMaterial.call( this );\n\n  this.type = 'LineDashedMaterial';\n\n  this.scale = 1;\n  this.dashSize = 3;\n  this.gapSize = 1;\n\n  this.setValues( parameters );\n\n}\n\nLineDashedMaterial.prototype = Object.create( LineBasicMaterial.prototype );\nLineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nLineDashedMaterial.prototype.copy = function ( source ) {\n\n  LineBasicMaterial.prototype.copy.call( this, source );\n\n  this.scale = source.scale;\n  this.dashSize = source.dashSize;\n  this.gapSize = source.gapSize;\n\n  return this;\n\n};\n\n\n\nvar Materials = Object.freeze({\n  ShadowMaterial: ShadowMaterial,\n  SpriteMaterial: SpriteMaterial,\n  RawShaderMaterial: RawShaderMaterial,\n  ShaderMaterial: ShaderMaterial,\n  PointsMaterial: PointsMaterial,\n  MeshPhysicalMaterial: MeshPhysicalMaterial,\n  MeshStandardMaterial: MeshStandardMaterial,\n  MeshPhongMaterial: MeshPhongMaterial,\n  MeshToonMaterial: MeshToonMaterial,\n  MeshNormalMaterial: MeshNormalMaterial,\n  MeshLambertMaterial: MeshLambertMaterial,\n  MeshDepthMaterial: MeshDepthMaterial,\n  MeshDistanceMaterial: MeshDistanceMaterial,\n  MeshBasicMaterial: MeshBasicMaterial,\n  LineDashedMaterial: LineDashedMaterial,\n  LineBasicMaterial: LineBasicMaterial,\n  Material: Material\n});\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Cache = {\n\n  enabled: false,\n\n  files: {},\n\n  add: function ( key, file ) {\n\n    if ( this.enabled === false ) return;\n\n    // console.log( 'THREE.Cache', 'Adding key:', key );\n\n    this.files[ key ] = file;\n\n  },\n\n  get: function ( key ) {\n\n    if ( this.enabled === false ) return;\n\n    // console.log( 'THREE.Cache', 'Checking key:', key );\n\n    return this.files[ key ];\n\n  },\n\n  remove: function ( key ) {\n\n    delete this.files[ key ];\n\n  },\n\n  clear: function () {\n\n    this.files = {};\n\n  }\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LoadingManager( onLoad, onProgress, onError ) {\n\n  var scope = this;\n\n  var isLoading = false, itemsLoaded = 0, itemsTotal = 0;\n\n  this.onStart = undefined;\n  this.onLoad = onLoad;\n  this.onProgress = onProgress;\n  this.onError = onError;\n\n  this.itemStart = function ( url ) {\n\n    itemsTotal ++;\n\n    if ( isLoading === false ) {\n\n      if ( scope.onStart !== undefined ) {\n\n        scope.onStart( url, itemsLoaded, itemsTotal );\n\n      }\n\n    }\n\n    isLoading = true;\n\n  };\n\n  this.itemEnd = function ( url ) {\n\n    itemsLoaded ++;\n\n    if ( scope.onProgress !== undefined ) {\n\n      scope.onProgress( url, itemsLoaded, itemsTotal );\n\n    }\n\n    if ( itemsLoaded === itemsTotal ) {\n\n      isLoading = false;\n\n      if ( scope.onLoad !== undefined ) {\n\n        scope.onLoad();\n\n      }\n\n    }\n\n  };\n\n  this.itemError = function ( url ) {\n\n    if ( scope.onError !== undefined ) {\n\n      scope.onError( url );\n\n    }\n\n  };\n\n}\n\nvar DefaultLoadingManager = new LoadingManager();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction FileLoader( manager ) {\n\n  this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( FileLoader.prototype, {\n\n  load: function ( url, onLoad, onProgress, onError ) {\n\n    if ( url === undefined ) url = '';\n\n    if ( this.path !== undefined ) url = this.path + url;\n\n    var scope = this;\n\n    var cached = Cache.get( url );\n\n    if ( cached !== undefined ) {\n\n      scope.manager.itemStart( url );\n\n      setTimeout( function () {\n\n        if ( onLoad ) onLoad( cached );\n\n        scope.manager.itemEnd( url );\n\n      }, 0 );\n\n      return cached;\n\n    }\n\n    // Check for data: URI\n    var dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n    var dataUriRegexResult = url.match( dataUriRegex );\n\n    // Safari can not handle Data URIs through XMLHttpRequest so process manually\n    if ( dataUriRegexResult ) {\n\n      var mimeType = dataUriRegexResult[ 1 ];\n      var isBase64 = !! dataUriRegexResult[ 2 ];\n      var data = dataUriRegexResult[ 3 ];\n\n      data = window.decodeURIComponent( data );\n\n      if ( isBase64 ) data = window.atob( data );\n\n      try {\n\n        var response;\n        var responseType = ( this.responseType || '' ).toLowerCase();\n\n        switch ( responseType ) {\n\n          case 'arraybuffer':\n          case 'blob':\n\n            response = new ArrayBuffer( data.length );\n\n            var view = new Uint8Array( response );\n\n            for ( var i = 0; i < data.length; i ++ ) {\n\n              view[ i ] = data.charCodeAt( i );\n\n            }\n\n            if ( responseType === 'blob' ) {\n\n              response = new Blob( [ response ], { type: mimeType } );\n\n            }\n\n            break;\n\n          case 'document':\n\n            var parser = new DOMParser();\n            response = parser.parseFromString( data, mimeType );\n\n            break;\n\n          case 'json':\n\n            response = JSON.parse( data );\n\n            break;\n\n          default: // 'text' or other\n\n            response = data;\n\n            break;\n\n        }\n\n        // Wait for next browser tick\n        window.setTimeout( function () {\n\n          if ( onLoad ) onLoad( response );\n\n          scope.manager.itemEnd( url );\n\n        }, 0 );\n\n      } catch ( error ) {\n\n        // Wait for next browser tick\n        window.setTimeout( function () {\n\n          if ( onError ) onError( error );\n\n          scope.manager.itemEnd( url );\n          scope.manager.itemError( url );\n\n        }, 0 );\n\n      }\n\n    } else {\n\n      var request = new XMLHttpRequest();\n      request.open( 'GET', url, true );\n\n      request.addEventListener( 'load', function ( event ) {\n\n        var response = event.target.response;\n\n        Cache.add( url, response );\n\n        if ( this.status === 200 ) {\n\n          if ( onLoad ) onLoad( response );\n\n          scope.manager.itemEnd( url );\n\n        } else if ( this.status === 0 ) {\n\n          // Some browsers return HTTP Status 0 when using non-http protocol\n          // e.g. 'file://' or 'data://'. Handle as success.\n\n          console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n          if ( onLoad ) onLoad( response );\n\n          scope.manager.itemEnd( url );\n\n        } else {\n\n          if ( onError ) onError( event );\n\n          scope.manager.itemEnd( url );\n          scope.manager.itemError( url );\n\n        }\n\n      }, false );\n\n      if ( onProgress !== undefined ) {\n\n        request.addEventListener( 'progress', function ( event ) {\n\n          onProgress( event );\n\n        }, false );\n\n      }\n\n      request.addEventListener( 'error', function ( event ) {\n\n        if ( onError ) onError( event );\n\n        scope.manager.itemEnd( url );\n        scope.manager.itemError( url );\n\n      }, false );\n\n      if ( this.responseType !== undefined ) request.responseType = this.responseType;\n      if ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n      if ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n      for ( var header in this.requestHeader ) {\n\n        request.setRequestHeader( header, this.requestHeader[ header ] );\n\n      }\n\n      request.send( null );\n\n    }\n\n    scope.manager.itemStart( url );\n\n    return request;\n\n  },\n\n  setPath: function ( value ) {\n\n    this.path = value;\n    return this;\n\n  },\n\n  setResponseType: function ( value ) {\n\n    this.responseType = value;\n    return this;\n\n  },\n\n  setWithCredentials: function ( value ) {\n\n    this.withCredentials = value;\n    return this;\n\n  },\n\n  setMimeType: function ( value ) {\n\n    this.mimeType = value;\n    return this;\n\n  },\n\n  setRequestHeader: function ( value ) {\n\n    this.requestHeader = value;\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n */\n\nfunction CompressedTextureLoader( manager ) {\n\n  this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n  // override in sub classes\n  this._parser = null;\n\n}\n\nObject.assign( CompressedTextureLoader.prototype, {\n\n  load: function ( url, onLoad, onProgress, onError ) {\n\n    var scope = this;\n\n    var images = [];\n\n    var texture = new CompressedTexture();\n    texture.image = images;\n\n    var loader = new FileLoader( this.manager );\n    loader.setPath( this.path );\n    loader.setResponseType( 'arraybuffer' );\n\n    function loadTexture( i ) {\n\n      loader.load( url[ i ], function ( buffer ) {\n\n        var texDatas = scope._parser( buffer, true );\n\n        images[ i ] = {\n          width: texDatas.width,\n          height: texDatas.height,\n          format: texDatas.format,\n          mipmaps: texDatas.mipmaps\n        };\n\n        loaded += 1;\n\n        if ( loaded === 6 ) {\n\n          if ( texDatas.mipmapCount === 1 )\n            texture.minFilter = LinearFilter;\n\n          texture.format = texDatas.format;\n          texture.needsUpdate = true;\n\n          if ( onLoad ) onLoad( texture );\n\n        }\n\n      }, onProgress, onError );\n\n    }\n\n    if ( Array.isArray( url ) ) {\n\n      var loaded = 0;\n\n      for ( var i = 0, il = url.length; i < il; ++ i ) {\n\n        loadTexture( i );\n\n      }\n\n    } else {\n\n      // compressed cubemap texture stored in a single DDS file\n\n      loader.load( url, function ( buffer ) {\n\n        var texDatas = scope._parser( buffer, true );\n\n        if ( texDatas.isCubemap ) {\n\n          var faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n          for ( var f = 0; f < faces; f ++ ) {\n\n            images[ f ] = { mipmaps : [] };\n\n            for ( var i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n              images[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n              images[ f ].format = texDatas.format;\n              images[ f ].width = texDatas.width;\n              images[ f ].height = texDatas.height;\n\n            }\n\n          }\n\n        } else {\n\n          texture.image.width = texDatas.width;\n          texture.image.height = texDatas.height;\n          texture.mipmaps = texDatas.mipmaps;\n\n        }\n\n        if ( texDatas.mipmapCount === 1 ) {\n\n          texture.minFilter = LinearFilter;\n\n        }\n\n        texture.format = texDatas.format;\n        texture.needsUpdate = true;\n\n        if ( onLoad ) onLoad( texture );\n\n      }, onProgress, onError );\n\n    }\n\n    return texture;\n\n  },\n\n  setPath: function ( value ) {\n\n    this.path = value;\n    return this;\n\n  }\n\n} );\n\n/**\n * @author Nikos M. / https://github.com/foo123/\n *\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n */\n\nfunction DataTextureLoader( manager ) {\n\n  this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n  // override in sub classes\n  this._parser = null;\n\n}\n\nObject.assign( DataTextureLoader.prototype, {\n\n  load: function ( url, onLoad, onProgress, onError ) {\n\n    var scope = this;\n\n    var texture = new DataTexture();\n\n    var loader = new FileLoader( this.manager );\n    loader.setResponseType( 'arraybuffer' );\n\n    loader.load( url, function ( buffer ) {\n\n      var texData = scope._parser( buffer );\n\n      if ( ! texData ) return;\n\n      if ( undefined !== texData.image ) {\n\n        texture.image = texData.image;\n\n      } else if ( undefined !== texData.data ) {\n\n        texture.image.width = texData.width;\n        texture.image.height = texData.height;\n        texture.image.data = texData.data;\n\n      }\n\n      texture.wrapS = undefined !== texData.wrapS ? texData.wrapS : ClampToEdgeWrapping;\n      texture.wrapT = undefined !== texData.wrapT ? texData.wrapT : ClampToEdgeWrapping;\n\n      texture.magFilter = undefined !== texData.magFilter ? texData.magFilter : LinearFilter;\n      texture.minFilter = undefined !== texData.minFilter ? texData.minFilter : LinearMipMapLinearFilter;\n\n      texture.anisotropy = undefined !== texData.anisotropy ? texData.anisotropy : 1;\n\n      if ( undefined !== texData.format ) {\n\n        texture.format = texData.format;\n\n      }\n      if ( undefined !== texData.type ) {\n\n        texture.type = texData.type;\n\n      }\n\n      if ( undefined !== texData.mipmaps ) {\n\n        texture.mipmaps = texData.mipmaps;\n\n      }\n\n      if ( 1 === texData.mipmapCount ) {\n\n        texture.minFilter = LinearFilter;\n\n      }\n\n      texture.needsUpdate = true;\n\n      if ( onLoad ) onLoad( texture, texData );\n\n    }, onProgress, onError );\n\n\n    return texture;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ImageLoader( manager ) {\n\n  this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( ImageLoader.prototype, {\n\n  crossOrigin: 'Anonymous',\n\n  load: function ( url, onLoad, onProgress, onError ) {\n\n    if ( url === undefined ) url = '';\n\n    if ( this.path !== undefined ) url = this.path + url;\n\n    var scope = this;\n\n    var cached = Cache.get( url );\n\n    if ( cached !== undefined ) {\n\n      scope.manager.itemStart( url );\n\n      setTimeout( function () {\n\n        if ( onLoad ) onLoad( cached );\n\n        scope.manager.itemEnd( url );\n\n      }, 0 );\n\n      return cached;\n\n    }\n\n    var image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n    image.addEventListener( 'load', function () {\n\n      Cache.add( url, this );\n\n      if ( onLoad ) onLoad( this );\n\n      scope.manager.itemEnd( url );\n\n    }, false );\n\n    /*\n     image.addEventListener( 'progress', function ( event ) {\n\n     if ( onProgress ) onProgress( event );\n\n     }, false );\n     */\n\n    image.addEventListener( 'error', function ( event ) {\n\n      if ( onError ) onError( event );\n\n      scope.manager.itemEnd( url );\n      scope.manager.itemError( url );\n\n    }, false );\n\n    if ( url.substr( 0, 5 ) !== 'data:' ) {\n\n      if ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n    }\n\n    scope.manager.itemStart( url );\n\n    image.src = url;\n\n    return image;\n\n  },\n\n  setCrossOrigin: function ( value ) {\n\n    this.crossOrigin = value;\n    return this;\n\n  },\n\n  setPath: function ( value ) {\n\n    this.path = value;\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CubeTextureLoader( manager ) {\n\n  this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( CubeTextureLoader.prototype, {\n\n  crossOrigin: 'Anonymous',\n\n  load: function ( urls, onLoad, onProgress, onError ) {\n\n    var texture = new CubeTexture();\n\n    var loader = new ImageLoader( this.manager );\n    loader.setCrossOrigin( this.crossOrigin );\n    loader.setPath( this.path );\n\n    var loaded = 0;\n\n    function loadTexture( i ) {\n\n      loader.load( urls[ i ], function ( image ) {\n\n        texture.images[ i ] = image;\n\n        loaded ++;\n\n        if ( loaded === 6 ) {\n\n          texture.needsUpdate = true;\n\n          if ( onLoad ) onLoad( texture );\n\n        }\n\n      }, undefined, onError );\n\n    }\n\n    for ( var i = 0; i < urls.length; ++ i ) {\n\n      loadTexture( i );\n\n    }\n\n    return texture;\n\n  },\n\n  setCrossOrigin: function ( value ) {\n\n    this.crossOrigin = value;\n    return this;\n\n  },\n\n  setPath: function ( value ) {\n\n    this.path = value;\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction TextureLoader( manager ) {\n\n  this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( TextureLoader.prototype, {\n\n  crossOrigin: 'Anonymous',\n\n  load: function ( url, onLoad, onProgress, onError ) {\n\n    var loader = new ImageLoader( this.manager );\n    loader.setCrossOrigin( this.crossOrigin );\n    loader.setPath( this.path );\n\n    var texture = new Texture();\n    texture.image = loader.load( url, function () {\n\n      // JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n      var isJPEG = url.search( /\\.(jpg|jpeg)$/ ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n      texture.format = isJPEG ? RGBFormat : RGBAFormat;\n      texture.needsUpdate = true;\n\n      if ( onLoad !== undefined ) {\n\n        onLoad( texture );\n\n      }\n\n    }, onProgress, onError );\n\n    return texture;\n\n  },\n\n  setCrossOrigin: function ( value ) {\n\n    this.crossOrigin = value;\n    return this;\n\n  },\n\n  setPath: function ( value ) {\n\n    this.path = value;\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Light( color, intensity ) {\n\n  Object3D.call( this );\n\n  this.type = 'Light';\n\n  this.color = new Color( color );\n  this.intensity = intensity !== undefined ? intensity : 1;\n\n  this.receiveShadow = undefined;\n\n}\n\nLight.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n  constructor: Light,\n\n  isLight: true,\n\n  copy: function ( source ) {\n\n    Object3D.prototype.copy.call( this, source );\n\n    this.color.copy( source.color );\n    this.intensity = source.intensity;\n\n    return this;\n\n  },\n\n  toJSON: function ( meta ) {\n\n    var data = Object3D.prototype.toJSON.call( this, meta );\n\n    data.object.color = this.color.getHex();\n    data.object.intensity = this.intensity;\n\n    if ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n    if ( this.distance !== undefined ) data.object.distance = this.distance;\n    if ( this.angle !== undefined ) data.object.angle = this.angle;\n    if ( this.decay !== undefined ) data.object.decay = this.decay;\n    if ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n    if ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n    return data;\n\n  }\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction HemisphereLight( skyColor, groundColor, intensity ) {\n\n  Light.call( this, skyColor, intensity );\n\n  this.type = 'HemisphereLight';\n\n  this.castShadow = undefined;\n\n  this.position.copy( Object3D.DefaultUp );\n  this.updateMatrix();\n\n  this.groundColor = new Color( groundColor );\n\n}\n\nHemisphereLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n  constructor: HemisphereLight,\n\n  isHemisphereLight: true,\n\n  copy: function ( source ) {\n\n    Light.prototype.copy.call( this, source );\n\n    this.groundColor.copy( source.groundColor );\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LightShadow( camera ) {\n\n  this.camera = camera;\n\n  this.bias = 0;\n  this.radius = 1;\n\n  this.mapSize = new Vector2( 512, 512 );\n\n  this.map = null;\n  this.matrix = new Matrix4();\n\n}\n\nObject.assign( LightShadow.prototype, {\n\n  copy: function ( source ) {\n\n    this.camera = source.camera.clone();\n\n    this.bias = source.bias;\n    this.radius = source.radius;\n\n    this.mapSize.copy( source.mapSize );\n\n    return this;\n\n  },\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  toJSON: function () {\n\n    var object = {};\n\n    if ( this.bias !== 0 ) object.bias = this.bias;\n    if ( this.radius !== 1 ) object.radius = this.radius;\n    if ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n    object.camera = this.camera.toJSON( false ).object;\n    delete object.camera.matrix;\n\n    return object;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction SpotLightShadow() {\n\n  LightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n}\n\nSpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n  constructor: SpotLightShadow,\n\n  isSpotLightShadow: true,\n\n  update: function ( light ) {\n\n    var camera = this.camera;\n\n    var fov = _Math.RAD2DEG * 2 * light.angle;\n    var aspect = this.mapSize.width / this.mapSize.height;\n    var far = light.distance || camera.far;\n\n    if ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n      camera.fov = fov;\n      camera.aspect = aspect;\n      camera.far = far;\n      camera.updateProjectionMatrix();\n\n    }\n\n  }\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction SpotLight( color, intensity, distance, angle, penumbra, decay ) {\n\n  Light.call( this, color, intensity );\n\n  this.type = 'SpotLight';\n\n  this.position.copy( Object3D.DefaultUp );\n  this.updateMatrix();\n\n  this.target = new Object3D();\n\n  Object.defineProperty( this, 'power', {\n    get: function () {\n      // intensity = power per solid angle.\n      // ref: equation (17) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n      return this.intensity * Math.PI;\n    },\n    set: function ( power ) {\n      // intensity = power per solid angle.\n      // ref: equation (17) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n      this.intensity = power / Math.PI;\n    }\n  } );\n\n  this.distance = ( distance !== undefined ) ? distance : 0;\n  this.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\n  this.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\n  this.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n  this.shadow = new SpotLightShadow();\n\n}\n\nSpotLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n  constructor: SpotLight,\n\n  isSpotLight: true,\n\n  copy: function ( source ) {\n\n    Light.prototype.copy.call( this, source );\n\n    this.distance = source.distance;\n    this.angle = source.angle;\n    this.penumbra = source.penumbra;\n    this.decay = source.decay;\n\n    this.target = source.target.clone();\n\n    this.shadow = source.shadow.clone();\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction PointLight( color, intensity, distance, decay ) {\n\n  Light.call( this, color, intensity );\n\n  this.type = 'PointLight';\n\n  Object.defineProperty( this, 'power', {\n    get: function () {\n      // intensity = power per solid angle.\n      // ref: equation (15) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n      return this.intensity * 4 * Math.PI;\n\n    },\n    set: function ( power ) {\n      // intensity = power per solid angle.\n      // ref: equation (15) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n      this.intensity = power / ( 4 * Math.PI );\n    }\n  } );\n\n  this.distance = ( distance !== undefined ) ? distance : 0;\n  this.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n  this.shadow = new LightShadow( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n}\n\nPointLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n  constructor: PointLight,\n\n  isPointLight: true,\n\n  copy: function ( source ) {\n\n    Light.prototype.copy.call( this, source );\n\n    this.distance = source.distance;\n    this.decay = source.decay;\n\n    this.shadow = source.shadow.clone();\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectionalLightShadow( ) {\n\n  LightShadow.call( this, new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n}\n\nDirectionalLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n  constructor: DirectionalLightShadow\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DirectionalLight( color, intensity ) {\n\n  Light.call( this, color, intensity );\n\n  this.type = 'DirectionalLight';\n\n  this.position.copy( Object3D.DefaultUp );\n  this.updateMatrix();\n\n  this.target = new Object3D();\n\n  this.shadow = new DirectionalLightShadow();\n\n}\n\nDirectionalLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n  constructor: DirectionalLight,\n\n  isDirectionalLight: true,\n\n  copy: function ( source ) {\n\n    Light.prototype.copy.call( this, source );\n\n    this.target = source.target.clone();\n\n    this.shadow = source.shadow.clone();\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AmbientLight( color, intensity ) {\n\n  Light.call( this, color, intensity );\n\n  this.type = 'AmbientLight';\n\n  this.castShadow = undefined;\n\n}\n\nAmbientLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n  constructor: AmbientLight,\n\n  isAmbientLight: true\n\n} );\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\nfunction RectAreaLight( color, intensity, width, height ) {\n\n  Light.call( this, color, intensity );\n\n  this.type = 'RectAreaLight';\n\n  this.position.set( 0, 1, 0 );\n  this.updateMatrix();\n\n  this.width = ( width !== undefined ) ? width : 10;\n  this.height = ( height !== undefined ) ? height : 10;\n\n  // TODO (abelnation): distance/decay\n\n  // TODO (abelnation): update method for RectAreaLight to update transform to lookat target\n\n  // TODO (abelnation): shadows\n\n}\n\n// TODO (abelnation): RectAreaLight update when light shape is changed\nRectAreaLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n  constructor: RectAreaLight,\n\n  isRectAreaLight: true,\n\n  copy: function ( source ) {\n\n    Light.prototype.copy.call( this, source );\n\n    this.width = source.width;\n    this.height = source.height;\n\n    return this;\n\n  },\n\n  toJSON: function ( meta ) {\n\n    var data = Light.prototype.toJSON.call( this, meta );\n\n    data.object.width = this.width;\n    data.object.height = this.height;\n\n    return data;\n\n  }\n\n} );\n\n/**\n * @author tschw\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nvar AnimationUtils = {\n\n  // same as Array.prototype.slice, but also works on typed arrays\n  arraySlice: function ( array, from, to ) {\n\n    if ( AnimationUtils.isTypedArray( array ) ) {\n\n      // in ios9 array.subarray(from, undefined) will return empty array\n      // but array.subarray(from) or array.subarray(from, len) is correct\n      return new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n    }\n\n    return array.slice( from, to );\n\n  },\n\n  // converts an array to a specific type\n  convertArray: function ( array, type, forceClone ) {\n\n    if ( ! array || // let 'undefined' and 'null' pass\n      ! forceClone && array.constructor === type ) return array;\n\n    if ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n      return new type( array ); // create typed array\n\n    }\n\n    return Array.prototype.slice.call( array ); // create Array\n\n  },\n\n  isTypedArray: function ( object ) {\n\n    return ArrayBuffer.isView( object ) &&\n      ! ( object instanceof DataView );\n\n  },\n\n  // returns an array by which times and values can be sorted\n  getKeyframeOrder: function ( times ) {\n\n    function compareTime( i, j ) {\n\n      return times[ i ] - times[ j ];\n\n    }\n\n    var n = times.length;\n    var result = new Array( n );\n    for ( var i = 0; i !== n; ++ i ) result[ i ] = i;\n\n    result.sort( compareTime );\n\n    return result;\n\n  },\n\n  // uses the array previously returned by 'getKeyframeOrder' to sort data\n  sortedArray: function ( values, stride, order ) {\n\n    var nValues = values.length;\n    var result = new values.constructor( nValues );\n\n    for ( var i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n      var srcOffset = order[ i ] * stride;\n\n      for ( var j = 0; j !== stride; ++ j ) {\n\n        result[ dstOffset ++ ] = values[ srcOffset + j ];\n\n      }\n\n    }\n\n    return result;\n\n  },\n\n  // function for parsing AOS keyframe formats\n  flattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n    var i = 1, key = jsonKeys[ 0 ];\n\n    while ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n      key = jsonKeys[ i ++ ];\n\n    }\n\n    if ( key === undefined ) return; // no data\n\n    var value = key[ valuePropertyName ];\n    if ( value === undefined ) return; // no data\n\n    if ( Array.isArray( value ) ) {\n\n      do {\n\n        value = key[ valuePropertyName ];\n\n        if ( value !== undefined ) {\n\n          times.push( key.time );\n          values.push.apply( values, value ); // push all elements\n\n        }\n\n        key = jsonKeys[ i ++ ];\n\n      } while ( key !== undefined );\n\n    } else if ( value.toArray !== undefined ) {\n\n      // ...assume THREE.Math-ish\n\n      do {\n\n        value = key[ valuePropertyName ];\n\n        if ( value !== undefined ) {\n\n          times.push( key.time );\n          value.toArray( values, values.length );\n\n        }\n\n        key = jsonKeys[ i ++ ];\n\n      } while ( key !== undefined );\n\n    } else {\n\n      // otherwise push as-is\n\n      do {\n\n        value = key[ valuePropertyName ];\n\n        if ( value !== undefined ) {\n\n          times.push( key.time );\n          values.push( value );\n\n        }\n\n        key = jsonKeys[ i ++ ];\n\n      } while ( key !== undefined );\n\n    }\n\n  }\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n * @author tschw\n */\n\nfunction Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n  this.parameterPositions = parameterPositions;\n  this._cachedIndex = 0;\n\n  this.resultBuffer = resultBuffer !== undefined ?\n    resultBuffer : new sampleValues.constructor( sampleSize );\n  this.sampleValues = sampleValues;\n  this.valueSize = sampleSize;\n\n}\n\nObject.assign( Interpolant.prototype, {\n\n  evaluate: function( t ) {\n\n    var pp = this.parameterPositions,\n      i1 = this._cachedIndex,\n\n      t1 = pp[   i1   ],\n      t0 = pp[ i1 - 1 ];\n\n    validate_interval: {\n\n      seek: {\n\n        var right;\n\n        linear_scan: {\n          //- See http://jsperf.com/comparison-to-undefined/3\n          //- slower code:\n          //-\n          //- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n          forward_scan: if ( ! ( t < t1 ) ) {\n\n            for ( var giveUpAt = i1 + 2; ;) {\n\n              if ( t1 === undefined ) {\n\n                if ( t < t0 ) break forward_scan;\n\n                // after end\n\n                i1 = pp.length;\n                this._cachedIndex = i1;\n                return this.afterEnd_( i1 - 1, t, t0 );\n\n              }\n\n              if ( i1 === giveUpAt ) break; // this loop\n\n              t0 = t1;\n              t1 = pp[ ++ i1 ];\n\n              if ( t < t1 ) {\n\n                // we have arrived at the sought interval\n                break seek;\n\n              }\n\n            }\n\n            // prepare binary search on the right side of the index\n            right = pp.length;\n            break linear_scan;\n\n          }\n\n          //- slower code:\n          //-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n          if ( ! ( t >= t0 ) ) {\n\n            // looping?\n\n            var t1global = pp[ 1 ];\n\n            if ( t < t1global ) {\n\n              i1 = 2; // + 1, using the scan for the details\n              t0 = t1global;\n\n            }\n\n            // linear reverse scan\n\n            for ( var giveUpAt = i1 - 2; ;) {\n\n              if ( t0 === undefined ) {\n\n                // before start\n\n                this._cachedIndex = 0;\n                return this.beforeStart_( 0, t, t1 );\n\n              }\n\n              if ( i1 === giveUpAt ) break; // this loop\n\n              t1 = t0;\n              t0 = pp[ -- i1 - 1 ];\n\n              if ( t >= t0 ) {\n\n                // we have arrived at the sought interval\n                break seek;\n\n              }\n\n            }\n\n            // prepare binary search on the left side of the index\n            right = i1;\n            i1 = 0;\n            break linear_scan;\n\n          }\n\n          // the interval is valid\n\n          break validate_interval;\n\n        } // linear scan\n\n        // binary search\n\n        while ( i1 < right ) {\n\n          var mid = ( i1 + right ) >>> 1;\n\n          if ( t < pp[ mid ] ) {\n\n            right = mid;\n\n          } else {\n\n            i1 = mid + 1;\n\n          }\n\n        }\n\n        t1 = pp[   i1   ];\n        t0 = pp[ i1 - 1 ];\n\n        // check boundary cases, again\n\n        if ( t0 === undefined ) {\n\n          this._cachedIndex = 0;\n          return this.beforeStart_( 0, t, t1 );\n\n        }\n\n        if ( t1 === undefined ) {\n\n          i1 = pp.length;\n          this._cachedIndex = i1;\n          return this.afterEnd_( i1 - 1, t0, t );\n\n        }\n\n      } // seek\n\n      this._cachedIndex = i1;\n\n      this.intervalChanged_( i1, t0, t1 );\n\n    } // validate_interval\n\n    return this.interpolate_( i1, t0, t, t1 );\n\n  },\n\n  settings: null, // optional, subclass-specific settings structure\n  // Note: The indirection allows central control of many interpolants.\n\n  // --- Protected interface\n\n  DefaultSettings_: {},\n\n  getSettings_: function() {\n\n    return this.settings || this.DefaultSettings_;\n\n  },\n\n  copySampleValue_: function( index ) {\n\n    // copies a sample value to the result buffer\n\n    var result = this.resultBuffer,\n      values = this.sampleValues,\n      stride = this.valueSize,\n      offset = index * stride;\n\n    for ( var i = 0; i !== stride; ++ i ) {\n\n      result[ i ] = values[ offset + i ];\n\n    }\n\n    return result;\n\n  },\n\n  // Template methods for derived classes:\n\n  interpolate_: function( i1, t0, t, t1 ) {\n\n    throw new Error( \"call to abstract method\" );\n    // implementations shall return this.resultBuffer\n\n  },\n\n  intervalChanged_: function( i1, t0, t1 ) {\n\n    // empty\n\n  }\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( Interpolant.prototype, {\n\n  //( 0, t, t0 ), returns this.resultBuffer\n  beforeStart_: Interpolant.prototype.copySampleValue_,\n\n  //( N-1, tN-1, t ), returns this.resultBuffer\n  afterEnd_: Interpolant.prototype.copySampleValue_,\n\n} );\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n *\n * @author tschw\n */\n\nfunction CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n  Interpolant.call(\n    this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n  this._weightPrev = -0;\n  this._offsetPrev = -0;\n  this._weightNext = -0;\n  this._offsetNext = -0;\n\n}\n\nCubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n  constructor: CubicInterpolant,\n\n  DefaultSettings_: {\n\n    endingStart: \tZeroCurvatureEnding,\n    endingEnd:\t\tZeroCurvatureEnding\n\n  },\n\n  intervalChanged_: function( i1, t0, t1 ) {\n\n    var pp = this.parameterPositions,\n      iPrev = i1 - 2,\n      iNext = i1 + 1,\n\n      tPrev = pp[ iPrev ],\n      tNext = pp[ iNext ];\n\n    if ( tPrev === undefined ) {\n\n      switch ( this.getSettings_().endingStart ) {\n\n        case ZeroSlopeEnding:\n\n          // f'(t0) = 0\n          iPrev = i1;\n          tPrev = 2 * t0 - t1;\n\n          break;\n\n        case WrapAroundEnding:\n\n          // use the other end of the curve\n          iPrev = pp.length - 2;\n          tPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n          break;\n\n        default: // ZeroCurvatureEnding\n\n          // f''(t0) = 0 a.k.a. Natural Spline\n          iPrev = i1;\n          tPrev = t1;\n\n      }\n\n    }\n\n    if ( tNext === undefined ) {\n\n      switch ( this.getSettings_().endingEnd ) {\n\n        case ZeroSlopeEnding:\n\n          // f'(tN) = 0\n          iNext = i1;\n          tNext = 2 * t1 - t0;\n\n          break;\n\n        case WrapAroundEnding:\n\n          // use the other end of the curve\n          iNext = 1;\n          tNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n          break;\n\n        default: // ZeroCurvatureEnding\n\n          // f''(tN) = 0, a.k.a. Natural Spline\n          iNext = i1 - 1;\n          tNext = t0;\n\n      }\n\n    }\n\n    var halfDt = ( t1 - t0 ) * 0.5,\n      stride = this.valueSize;\n\n    this._weightPrev = halfDt / ( t0 - tPrev );\n    this._weightNext = halfDt / ( tNext - t1 );\n    this._offsetPrev = iPrev * stride;\n    this._offsetNext = iNext * stride;\n\n  },\n\n  interpolate_: function( i1, t0, t, t1 ) {\n\n    var result = this.resultBuffer,\n      values = this.sampleValues,\n      stride = this.valueSize,\n\n      o1 = i1 * stride,\t\to0 = o1 - stride,\n      oP = this._offsetPrev, \toN = this._offsetNext,\n      wP = this._weightPrev,\twN = this._weightNext,\n\n      p = ( t - t0 ) / ( t1 - t0 ),\n      pp = p * p,\n      ppp = pp * p;\n\n    // evaluate polynomials\n\n    var sP =     - wP   * ppp   +         2 * wP    * pp    -          wP   * p;\n    var s0 = ( 1 + wP ) * ppp   + (-1.5 - 2 * wP )  * pp    + ( -0.5 + wP ) * p     + 1;\n    var s1 = (-1 - wN ) * ppp   + ( 1.5 +   wN   )  * pp    +    0.5        * p;\n    var sN =       wN   * ppp   -           wN      * pp;\n\n    // combine data linearly\n\n    for ( var i = 0; i !== stride; ++ i ) {\n\n      result[ i ] =\n        sP * values[ oP + i ] +\n        s0 * values[ o0 + i ] +\n        s1 * values[ o1 + i ] +\n        sN * values[ oN + i ];\n\n    }\n\n    return result;\n\n  }\n\n} );\n\n/**\n * @author tschw\n */\n\nfunction LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n  Interpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n  constructor: LinearInterpolant,\n\n  interpolate_: function( i1, t0, t, t1 ) {\n\n    var result = this.resultBuffer,\n      values = this.sampleValues,\n      stride = this.valueSize,\n\n      offset1 = i1 * stride,\n      offset0 = offset1 - stride,\n\n      weight1 = ( t - t0 ) / ( t1 - t0 ),\n      weight0 = 1 - weight1;\n\n    for ( var i = 0; i !== stride; ++ i ) {\n\n      result[ i ] =\n        values[ offset0 + i ] * weight0 +\n        values[ offset1 + i ] * weight1;\n\n    }\n\n    return result;\n\n  }\n\n} );\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n *\n * @author tschw\n */\n\nfunction DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n  Interpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nDiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n  constructor: DiscreteInterpolant,\n\n  interpolate_: function( i1, t0, t, t1 ) {\n\n    return this.copySampleValue_( i1 - 1 );\n\n  }\n\n} );\n\nvar KeyframeTrackPrototype;\n\nKeyframeTrackPrototype = {\n\n  TimeBufferType: Float32Array,\n  ValueBufferType: Float32Array,\n\n  DefaultInterpolation: InterpolateLinear,\n\n  InterpolantFactoryMethodDiscrete: function ( result ) {\n\n    return new DiscreteInterpolant(\n      this.times, this.values, this.getValueSize(), result );\n\n  },\n\n  InterpolantFactoryMethodLinear: function ( result ) {\n\n    return new LinearInterpolant(\n      this.times, this.values, this.getValueSize(), result );\n\n  },\n\n  InterpolantFactoryMethodSmooth: function ( result ) {\n\n    return new CubicInterpolant(\n      this.times, this.values, this.getValueSize(), result );\n\n  },\n\n  setInterpolation: function ( interpolation ) {\n\n    var factoryMethod;\n\n    switch ( interpolation ) {\n\n      case InterpolateDiscrete:\n\n        factoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n        break;\n\n      case InterpolateLinear:\n\n        factoryMethod = this.InterpolantFactoryMethodLinear;\n\n        break;\n\n      case InterpolateSmooth:\n\n        factoryMethod = this.InterpolantFactoryMethodSmooth;\n\n        break;\n\n    }\n\n    if ( factoryMethod === undefined ) {\n\n      var message = \"unsupported interpolation for \" +\n        this.ValueTypeName + \" keyframe track named \" + this.name;\n\n      if ( this.createInterpolant === undefined ) {\n\n        // fall back to default, unless the default itself is messed up\n        if ( interpolation !== this.DefaultInterpolation ) {\n\n          this.setInterpolation( this.DefaultInterpolation );\n\n        } else {\n\n          throw new Error( message ); // fatal, in this case\n\n        }\n\n      }\n\n      console.warn( 'THREE.KeyframeTrackPrototype:', message );\n      return;\n\n    }\n\n    this.createInterpolant = factoryMethod;\n\n  },\n\n  getInterpolation: function () {\n\n    switch ( this.createInterpolant ) {\n\n      case this.InterpolantFactoryMethodDiscrete:\n\n        return InterpolateDiscrete;\n\n      case this.InterpolantFactoryMethodLinear:\n\n        return InterpolateLinear;\n\n      case this.InterpolantFactoryMethodSmooth:\n\n        return InterpolateSmooth;\n\n    }\n\n  },\n\n  getValueSize: function () {\n\n    return this.values.length / this.times.length;\n\n  },\n\n  // move all keyframes either forwards or backwards in time\n  shift: function ( timeOffset ) {\n\n    if ( timeOffset !== 0.0 ) {\n\n      var times = this.times;\n\n      for ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n        times[ i ] += timeOffset;\n\n      }\n\n    }\n\n    return this;\n\n  },\n\n  // scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n  scale: function ( timeScale ) {\n\n    if ( timeScale !== 1.0 ) {\n\n      var times = this.times;\n\n      for ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n        times[ i ] *= timeScale;\n\n      }\n\n    }\n\n    return this;\n\n  },\n\n  // removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n  // IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n  trim: function ( startTime, endTime ) {\n\n    var times = this.times,\n      nKeys = times.length,\n      from = 0,\n      to = nKeys - 1;\n\n    while ( from !== nKeys && times[ from ] < startTime ) ++ from;\n    while ( to !== - 1 && times[ to ] > endTime ) -- to;\n\n    ++ to; // inclusive -> exclusive bound\n\n    if ( from !== 0 || to !== nKeys ) {\n\n      // empty tracks are forbidden, so keep at least one keyframe\n      if ( from >= to ) to = Math.max( to, 1 ), from = to - 1;\n\n      var stride = this.getValueSize();\n      this.times = AnimationUtils.arraySlice( times, from, to );\n      this.values = AnimationUtils.\n      arraySlice( this.values, from * stride, to * stride );\n\n    }\n\n    return this;\n\n  },\n\n  // ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n  validate: function () {\n\n    var valid = true;\n\n    var valueSize = this.getValueSize();\n    if ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n      console.error( 'THREE.KeyframeTrackPrototype: Invalid value size in track.', this );\n      valid = false;\n\n    }\n\n    var times = this.times,\n      values = this.values,\n\n      nKeys = times.length;\n\n    if ( nKeys === 0 ) {\n\n      console.error( 'THREE.KeyframeTrackPrototype: Track is empty.', this );\n      valid = false;\n\n    }\n\n    var prevTime = null;\n\n    for ( var i = 0; i !== nKeys; i ++ ) {\n\n      var currTime = times[ i ];\n\n      if ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n        console.error( 'THREE.KeyframeTrackPrototype: Time is not a valid number.', this, i, currTime );\n        valid = false;\n        break;\n\n      }\n\n      if ( prevTime !== null && prevTime > currTime ) {\n\n        console.error( 'THREE.KeyframeTrackPrototype: Out of order keys.', this, i, currTime, prevTime );\n        valid = false;\n        break;\n\n      }\n\n      prevTime = currTime;\n\n    }\n\n    if ( values !== undefined ) {\n\n      if ( AnimationUtils.isTypedArray( values ) ) {\n\n        for ( var i = 0, n = values.length; i !== n; ++ i ) {\n\n          var value = values[ i ];\n\n          if ( isNaN( value ) ) {\n\n            console.error( 'THREE.KeyframeTrackPrototype: Value is not a valid number.', this, i, value );\n            valid = false;\n            break;\n\n          }\n\n        }\n\n      }\n\n    }\n\n    return valid;\n\n  },\n\n  // removes equivalent sequential keys as common in morph target sequences\n  // (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n  optimize: function () {\n\n    var times = this.times,\n      values = this.values,\n      stride = this.getValueSize(),\n\n      smoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n      writeIndex = 1,\n      lastIndex = times.length - 1;\n\n    for ( var i = 1; i < lastIndex; ++ i ) {\n\n      var keep = false;\n\n      var time = times[ i ];\n      var timeNext = times[ i + 1 ];\n\n      // remove adjacent keyframes scheduled at the same time\n\n      if ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\n\n        if ( ! smoothInterpolation ) {\n\n          // remove unnecessary keyframes same as their neighbors\n\n          var offset = i * stride,\n            offsetP = offset - stride,\n            offsetN = offset + stride;\n\n          for ( var j = 0; j !== stride; ++ j ) {\n\n            var value = values[ offset + j ];\n\n            if ( value !== values[ offsetP + j ] ||\n              value !== values[ offsetN + j ] ) {\n\n              keep = true;\n              break;\n\n            }\n\n          }\n\n        } else keep = true;\n\n      }\n\n      // in-place compaction\n\n      if ( keep ) {\n\n        if ( i !== writeIndex ) {\n\n          times[ writeIndex ] = times[ i ];\n\n          var readOffset = i * stride,\n            writeOffset = writeIndex * stride;\n\n          for ( var j = 0; j !== stride; ++ j )\n\n            values[ writeOffset + j ] = values[ readOffset + j ];\n\n        }\n\n        ++ writeIndex;\n\n      }\n\n    }\n\n    // flush last keyframe (compaction looks ahead)\n\n    if ( lastIndex > 0 ) {\n\n      times[ writeIndex ] = times[ lastIndex ];\n\n      for ( var readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j )\n\n        values[ writeOffset + j ] = values[ readOffset + j ];\n\n      ++ writeIndex;\n\n    }\n\n    if ( writeIndex !== times.length ) {\n\n      this.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n      this.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n    }\n\n    return this;\n\n  }\n\n};\n\nfunction KeyframeTrackConstructor( name, times, values, interpolation ) {\n\n  if ( name === undefined ) throw new Error( \"track name is undefined\" );\n\n  if ( times === undefined || times.length === 0 ) {\n\n    throw new Error( \"no keyframes in track named \" + name );\n\n  }\n\n  this.name = name;\n\n  this.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n  this.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n  this.setInterpolation( interpolation || this.DefaultInterpolation );\n\n  this.validate();\n  this.optimize();\n\n}\n\n/**\n *\n * A Track of vectored keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction VectorKeyframeTrack( name, times, values, interpolation ) {\n\n  KeyframeTrackConstructor.call( this, name, times, values, interpolation );\n\n}\n\nVectorKeyframeTrack.prototype =\n  Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n    constructor: VectorKeyframeTrack,\n\n    ValueTypeName: 'vector'\n\n    // ValueBufferType is inherited\n\n    // DefaultInterpolation is inherited\n\n  } );\n\n/**\n * Spherical linear unit quaternion interpolant.\n *\n * @author tschw\n */\n\nfunction QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n  Interpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nQuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n  constructor: QuaternionLinearInterpolant,\n\n  interpolate_: function( i1, t0, t, t1 ) {\n\n    var result = this.resultBuffer,\n      values = this.sampleValues,\n      stride = this.valueSize,\n\n      offset = i1 * stride,\n\n      alpha = ( t - t0 ) / ( t1 - t0 );\n\n    for ( var end = offset + stride; offset !== end; offset += 4 ) {\n\n      Quaternion.slerpFlat( result, 0,\n        values, offset - stride, values, offset, alpha );\n\n    }\n\n    return result;\n\n  }\n\n} );\n\n/**\n *\n * A Track of quaternion keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction QuaternionKeyframeTrack( name, times, values, interpolation ) {\n\n  KeyframeTrackConstructor.call( this, name, times, values, interpolation );\n\n}\n\nQuaternionKeyframeTrack.prototype =\n  Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n    constructor: QuaternionKeyframeTrack,\n\n    ValueTypeName: 'quaternion',\n\n    // ValueBufferType is inherited\n\n    DefaultInterpolation: InterpolateLinear,\n\n    InterpolantFactoryMethodLinear: function( result ) {\n\n      return new QuaternionLinearInterpolant(\n        this.times, this.values, this.getValueSize(), result );\n\n    },\n\n    InterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n  } );\n\n/**\n *\n * A Track of numeric keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction NumberKeyframeTrack( name, times, values, interpolation ) {\n\n  KeyframeTrackConstructor.call( this, name, times, values, interpolation );\n\n}\n\nNumberKeyframeTrack.prototype =\n  Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n    constructor: NumberKeyframeTrack,\n\n    ValueTypeName: 'number'\n\n    // ValueBufferType is inherited\n\n    // DefaultInterpolation is inherited\n\n  } );\n\n/**\n *\n * A Track that interpolates Strings\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction StringKeyframeTrack( name, times, values, interpolation ) {\n\n  KeyframeTrackConstructor.call( this, name, times, values, interpolation );\n\n}\n\nStringKeyframeTrack.prototype =\n  Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n    constructor: StringKeyframeTrack,\n\n    ValueTypeName: 'string',\n    ValueBufferType: Array,\n\n    DefaultInterpolation: InterpolateDiscrete,\n\n    InterpolantFactoryMethodLinear: undefined,\n\n    InterpolantFactoryMethodSmooth: undefined\n\n  } );\n\n/**\n *\n * A Track of Boolean keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction BooleanKeyframeTrack( name, times, values ) {\n\n  KeyframeTrackConstructor.call( this, name, times, values );\n\n}\n\nBooleanKeyframeTrack.prototype =\n  Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n    constructor: BooleanKeyframeTrack,\n\n    ValueTypeName: 'bool',\n    ValueBufferType: Array,\n\n    DefaultInterpolation: InterpolateDiscrete,\n\n    InterpolantFactoryMethodLinear: undefined,\n    InterpolantFactoryMethodSmooth: undefined\n\n    // Note: Actually this track could have a optimized / compressed\n    // representation of a single value and a custom interpolant that\n    // computes \"firstValue ^ isOdd( index )\".\n\n  } );\n\n/**\n *\n * A Track of keyframe values that represent color.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction ColorKeyframeTrack( name, times, values, interpolation ) {\n\n  KeyframeTrackConstructor.call( this, name, times, values, interpolation );\n\n}\n\nColorKeyframeTrack.prototype =\n  Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n    constructor: ColorKeyframeTrack,\n\n    ValueTypeName: 'color'\n\n    // ValueBufferType is inherited\n\n    // DefaultInterpolation is inherited\n\n\n    // Note: Very basic implementation and nothing special yet.\n    // However, this is the place for color space parameterization.\n\n  } );\n\n/**\n *\n * A timed sequence of keyframes for a specific property.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction KeyframeTrack( name, times, values, interpolation ) {\n\n  KeyframeTrackConstructor.apply( this, arguments );\n\n}\n\nKeyframeTrack.prototype = KeyframeTrackPrototype;\nKeyframeTrackPrototype.constructor = KeyframeTrack;\n\n// Static methods:\n\nObject.assign( KeyframeTrack, {\n\n  // Serialization (in static context, because of constructor invocation\n  // and automatic invocation of .toJSON):\n\n  parse: function( json ) {\n\n    if( json.type === undefined ) {\n\n      throw new Error( \"track type undefined, can not parse\" );\n\n    }\n\n    var trackType = KeyframeTrack._getTrackTypeForValueTypeName( json.type );\n\n    if ( json.times === undefined ) {\n\n      var times = [], values = [];\n\n      AnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n      json.times = times;\n      json.values = values;\n\n    }\n\n    // derived classes can define a static parse method\n    if ( trackType.parse !== undefined ) {\n\n      return trackType.parse( json );\n\n    } else {\n\n      // by default, we assume a constructor compatible with the base\n      return new trackType(\n        json.name, json.times, json.values, json.interpolation );\n\n    }\n\n  },\n\n  toJSON: function( track ) {\n\n    var trackType = track.constructor;\n\n    var json;\n\n    // derived classes can define a static toJSON method\n    if ( trackType.toJSON !== undefined ) {\n\n      json = trackType.toJSON( track );\n\n    } else {\n\n      // by default, we assume the data can be serialized as-is\n      json = {\n\n        'name': track.name,\n        'times': AnimationUtils.convertArray( track.times, Array ),\n        'values': AnimationUtils.convertArray( track.values, Array )\n\n      };\n\n      var interpolation = track.getInterpolation();\n\n      if ( interpolation !== track.DefaultInterpolation ) {\n\n        json.interpolation = interpolation;\n\n      }\n\n    }\n\n    json.type = track.ValueTypeName; // mandatory\n\n    return json;\n\n  },\n\n  _getTrackTypeForValueTypeName: function( typeName ) {\n\n    switch( typeName.toLowerCase() ) {\n\n      case \"scalar\":\n      case \"double\":\n      case \"float\":\n      case \"number\":\n      case \"integer\":\n\n        return NumberKeyframeTrack;\n\n      case \"vector\":\n      case \"vector2\":\n      case \"vector3\":\n      case \"vector4\":\n\n        return VectorKeyframeTrack;\n\n      case \"color\":\n\n        return ColorKeyframeTrack;\n\n      case \"quaternion\":\n\n        return QuaternionKeyframeTrack;\n\n      case \"bool\":\n      case \"boolean\":\n\n        return BooleanKeyframeTrack;\n\n      case \"string\":\n\n        return StringKeyframeTrack;\n\n    }\n\n    throw new Error( \"Unsupported typeName: \" + typeName );\n\n  }\n\n} );\n\n/**\n *\n * Reusable set of Tracks that represent an animation.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nfunction AnimationClip( name, duration, tracks ) {\n\n  this.name = name;\n  this.tracks = tracks;\n  this.duration = ( duration !== undefined ) ? duration : - 1;\n\n  this.uuid = _Math.generateUUID();\n\n  // this means it should figure out its duration by scanning the tracks\n  if ( this.duration < 0 ) {\n\n    this.resetDuration();\n\n  }\n\n  this.optimize();\n\n}\n\nObject.assign( AnimationClip, {\n\n  parse: function ( json ) {\n\n    var tracks = [],\n      jsonTracks = json.tracks,\n      frameTime = 1.0 / ( json.fps || 1.0 );\n\n    for ( var i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n      tracks.push( KeyframeTrack.parse( jsonTracks[ i ] ).scale( frameTime ) );\n\n    }\n\n    return new AnimationClip( json.name, json.duration, tracks );\n\n  },\n\n  toJSON: function ( clip ) {\n\n    var tracks = [],\n      clipTracks = clip.tracks;\n\n    var json = {\n\n      'name': clip.name,\n      'duration': clip.duration,\n      'tracks': tracks\n\n    };\n\n    for ( var i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n      tracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n    }\n\n    return json;\n\n  },\n\n  CreateFromMorphTargetSequence: function ( name, morphTargetSequence, fps, noLoop ) {\n\n    var numMorphTargets = morphTargetSequence.length;\n    var tracks = [];\n\n    for ( var i = 0; i < numMorphTargets; i ++ ) {\n\n      var times = [];\n      var values = [];\n\n      times.push(\n        ( i + numMorphTargets - 1 ) % numMorphTargets,\n        i,\n        ( i + 1 ) % numMorphTargets );\n\n      values.push( 0, 1, 0 );\n\n      var order = AnimationUtils.getKeyframeOrder( times );\n      times = AnimationUtils.sortedArray( times, 1, order );\n      values = AnimationUtils.sortedArray( values, 1, order );\n\n      // if there is a key at the first frame, duplicate it as the\n      // last frame as well for perfect loop.\n      if ( ! noLoop && times[ 0 ] === 0 ) {\n\n        times.push( numMorphTargets );\n        values.push( values[ 0 ] );\n\n      }\n\n      tracks.push(\n        new NumberKeyframeTrack(\n          '.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n          times, values\n        ).scale( 1.0 / fps ) );\n\n    }\n\n    return new AnimationClip( name, - 1, tracks );\n\n  },\n\n  findByName: function ( objectOrClipArray, name ) {\n\n    var clipArray = objectOrClipArray;\n\n    if ( ! Array.isArray( objectOrClipArray ) ) {\n\n      var o = objectOrClipArray;\n      clipArray = o.geometry && o.geometry.animations || o.animations;\n\n    }\n\n    for ( var i = 0; i < clipArray.length; i ++ ) {\n\n      if ( clipArray[ i ].name === name ) {\n\n        return clipArray[ i ];\n\n      }\n\n    }\n\n    return null;\n\n  },\n\n  CreateClipsFromMorphTargetSequences: function ( morphTargets, fps, noLoop ) {\n\n    var animationToMorphTargets = {};\n\n    // tested with https://regex101.com/ on trick sequences\n    // such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n    var pattern = /^([\\w-]*?)([\\d]+)$/;\n\n    // sort morph target names into animation groups based\n    // patterns like Walk_001, Walk_002, Run_001, Run_002\n    for ( var i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n      var morphTarget = morphTargets[ i ];\n      var parts = morphTarget.name.match( pattern );\n\n      if ( parts && parts.length > 1 ) {\n\n        var name = parts[ 1 ];\n\n        var animationMorphTargets = animationToMorphTargets[ name ];\n        if ( ! animationMorphTargets ) {\n\n          animationToMorphTargets[ name ] = animationMorphTargets = [];\n\n        }\n\n        animationMorphTargets.push( morphTarget );\n\n      }\n\n    }\n\n    var clips = [];\n\n    for ( var name in animationToMorphTargets ) {\n\n      clips.push( AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n    }\n\n    return clips;\n\n  },\n\n  // parse the animation.hierarchy format\n  parseAnimation: function ( animation, bones ) {\n\n    if ( ! animation ) {\n\n      console.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n      return null;\n\n    }\n\n    var addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n      // only return track if there are actually keys.\n      if ( animationKeys.length !== 0 ) {\n\n        var times = [];\n        var values = [];\n\n        AnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n        // empty keys are filtered out, so check again\n        if ( times.length !== 0 ) {\n\n          destTracks.push( new trackType( trackName, times, values ) );\n\n        }\n\n      }\n\n    };\n\n    var tracks = [];\n\n    var clipName = animation.name || 'default';\n    // automatic length determination in AnimationClip.\n    var duration = animation.length || - 1;\n    var fps = animation.fps || 30;\n\n    var hierarchyTracks = animation.hierarchy || [];\n\n    for ( var h = 0; h < hierarchyTracks.length; h ++ ) {\n\n      var animationKeys = hierarchyTracks[ h ].keys;\n\n      // skip empty tracks\n      if ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n      // process morph targets\n      if ( animationKeys[ 0 ].morphTargets ) {\n\n        // figure out all morph targets used in this track\n        var morphTargetNames = {};\n\n        for ( var k = 0; k < animationKeys.length; k ++ ) {\n\n          if ( animationKeys[ k ].morphTargets ) {\n\n            for ( var m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n              morphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n            }\n\n          }\n\n        }\n\n        // create a track for each morph target with all zero\n        // morphTargetInfluences except for the keys in which\n        // the morphTarget is named.\n        for ( var morphTargetName in morphTargetNames ) {\n\n          var times = [];\n          var values = [];\n\n          for ( var m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n            var animationKey = animationKeys[ k ];\n\n            times.push( animationKey.time );\n            values.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n          }\n\n          tracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n        }\n\n        duration = morphTargetNames.length * ( fps || 1.0 );\n\n      } else {\n\n        // ...assume skeletal animation\n\n        var boneName = '.bones[' + bones[ h ].name + ']';\n\n        addNonemptyTrack(\n          VectorKeyframeTrack, boneName + '.position',\n          animationKeys, 'pos', tracks );\n\n        addNonemptyTrack(\n          QuaternionKeyframeTrack, boneName + '.quaternion',\n          animationKeys, 'rot', tracks );\n\n        addNonemptyTrack(\n          VectorKeyframeTrack, boneName + '.scale',\n          animationKeys, 'scl', tracks );\n\n      }\n\n    }\n\n    if ( tracks.length === 0 ) {\n\n      return null;\n\n    }\n\n    var clip = new AnimationClip( clipName, duration, tracks );\n\n    return clip;\n\n  }\n\n} );\n\nObject.assign( AnimationClip.prototype, {\n\n  resetDuration: function () {\n\n    var tracks = this.tracks, duration = 0;\n\n    for ( var i = 0, n = tracks.length; i !== n; ++ i ) {\n\n      var track = this.tracks[ i ];\n\n      duration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n    }\n\n    this.duration = duration;\n\n  },\n\n  trim: function () {\n\n    for ( var i = 0; i < this.tracks.length; i ++ ) {\n\n      this.tracks[ i ].trim( 0, this.duration );\n\n    }\n\n    return this;\n\n  },\n\n  optimize: function () {\n\n    for ( var i = 0; i < this.tracks.length; i ++ ) {\n\n      this.tracks[ i ].optimize();\n\n    }\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction MaterialLoader( manager ) {\n\n  this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n  this.textures = {};\n\n}\n\nObject.assign( MaterialLoader.prototype, {\n\n  load: function ( url, onLoad, onProgress, onError ) {\n\n    var scope = this;\n\n    var loader = new FileLoader( scope.manager );\n    loader.load( url, function ( text ) {\n\n      onLoad( scope.parse( JSON.parse( text ) ) );\n\n    }, onProgress, onError );\n\n  },\n\n  setTextures: function ( value ) {\n\n    this.textures = value;\n\n  },\n\n  parse: function ( json ) {\n\n    var textures = this.textures;\n\n    function getTexture( name ) {\n\n      if ( textures[ name ] === undefined ) {\n\n        console.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n      }\n\n      return textures[ name ];\n\n    }\n\n    var material = new Materials[ json.type ]();\n\n    if ( json.uuid !== undefined ) material.uuid = json.uuid;\n    if ( json.name !== undefined ) material.name = json.name;\n    if ( json.color !== undefined ) material.color.setHex( json.color );\n    if ( json.roughness !== undefined ) material.roughness = json.roughness;\n    if ( json.metalness !== undefined ) material.metalness = json.metalness;\n    if ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\n    if ( json.specular !== undefined ) material.specular.setHex( json.specular );\n    if ( json.shininess !== undefined ) material.shininess = json.shininess;\n    if ( json.clearCoat !== undefined ) material.clearCoat = json.clearCoat;\n    if ( json.clearCoatRoughness !== undefined ) material.clearCoatRoughness = json.clearCoatRoughness;\n    if ( json.uniforms !== undefined ) material.uniforms = json.uniforms;\n    if ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n    if ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n    if ( json.vertexColors !== undefined ) material.vertexColors = json.vertexColors;\n    if ( json.fog !== undefined ) material.fog = json.fog;\n    if ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n    if ( json.blending !== undefined ) material.blending = json.blending;\n    if ( json.side !== undefined ) material.side = json.side;\n    if ( json.opacity !== undefined ) material.opacity = json.opacity;\n    if ( json.transparent !== undefined ) material.transparent = json.transparent;\n    if ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n    if ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n    if ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n    if ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n    if ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n    if ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n    if ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n    if ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n    if ( json.skinning !== undefined ) material.skinning = json.skinning;\n    if ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n    if ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n    if ( json.visible !== undefined ) material.visible = json.visible;\n    if ( json.userData !== undefined ) material.userData = json.userData;\n\n    // Deprecated\n\n    if ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n    // for PointsMaterial\n\n    if ( json.size !== undefined ) material.size = json.size;\n    if ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n    // maps\n\n    if ( json.map !== undefined ) material.map = getTexture( json.map );\n\n    if ( json.alphaMap !== undefined ) {\n\n      material.alphaMap = getTexture( json.alphaMap );\n      material.transparent = true;\n\n    }\n\n    if ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n    if ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n    if ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n    if ( json.normalScale !== undefined ) {\n\n      var normalScale = json.normalScale;\n\n      if ( Array.isArray( normalScale ) === false ) {\n\n        // Blender exporter used to export a scalar. See #7459\n\n        normalScale = [ normalScale, normalScale ];\n\n      }\n\n      material.normalScale = new Vector2().fromArray( normalScale );\n\n    }\n\n    if ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n    if ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n    if ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n    if ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n    if ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n    if ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n    if ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n    if ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n    if ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\n    if ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\n    if ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n    if ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n    if ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n    if ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n    if ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n    return material;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferGeometryLoader( manager ) {\n\n  this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( BufferGeometryLoader.prototype, {\n\n  load: function ( url, onLoad, onProgress, onError ) {\n\n    var scope = this;\n\n    var loader = new FileLoader( scope.manager );\n    loader.load( url, function ( text ) {\n\n      onLoad( scope.parse( JSON.parse( text ) ) );\n\n    }, onProgress, onError );\n\n  },\n\n  parse: function ( json ) {\n\n    var geometry = new BufferGeometry();\n\n    var index = json.data.index;\n\n    if ( index !== undefined ) {\n\n      var typedArray = new TYPED_ARRAYS[ index.type ]( index.array );\n      geometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n    }\n\n    var attributes = json.data.attributes;\n\n    for ( var key in attributes ) {\n\n      var attribute = attributes[ key ];\n      var typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\n      geometry.addAttribute( key, new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized ) );\n\n    }\n\n    var groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n    if ( groups !== undefined ) {\n\n      for ( var i = 0, n = groups.length; i !== n; ++ i ) {\n\n        var group = groups[ i ];\n\n        geometry.addGroup( group.start, group.count, group.materialIndex );\n\n      }\n\n    }\n\n    var boundingSphere = json.data.boundingSphere;\n\n    if ( boundingSphere !== undefined ) {\n\n      var center = new Vector3();\n\n      if ( boundingSphere.center !== undefined ) {\n\n        center.fromArray( boundingSphere.center );\n\n      }\n\n      geometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n    }\n\n    return geometry;\n\n  }\n\n} );\n\nvar TYPED_ARRAYS = {\n  Int8Array: Int8Array,\n  Uint8Array: Uint8Array,\n  // Workaround for IE11 pre KB2929437. See #11440\n  Uint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n  Int16Array: Int16Array,\n  Uint16Array: Uint16Array,\n  Int32Array: Int32Array,\n  Uint32Array: Uint32Array,\n  Float32Array: Float32Array,\n  Float64Array: Float64Array\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Loader() {\n\n  this.onLoadStart = function () {};\n  this.onLoadProgress = function () {};\n  this.onLoadComplete = function () {};\n\n}\n\nLoader.Handlers = {\n\n  handlers: [],\n\n  add: function ( regex, loader ) {\n\n    this.handlers.push( regex, loader );\n\n  },\n\n  get: function ( file ) {\n\n    var handlers = this.handlers;\n\n    for ( var i = 0, l = handlers.length; i < l; i += 2 ) {\n\n      var regex = handlers[ i ];\n      var loader = handlers[ i + 1 ];\n\n      if ( regex.test( file ) ) {\n\n        return loader;\n\n      }\n\n    }\n\n    return null;\n\n  }\n\n};\n\nObject.assign( Loader.prototype, {\n\n  crossOrigin: undefined,\n\n  extractUrlBase: function ( url ) {\n\n    var parts = url.split( '/' );\n\n    if ( parts.length === 1 ) return './';\n\n    parts.pop();\n\n    return parts.join( '/' ) + '/';\n\n  },\n\n  initMaterials: function ( materials, texturePath, crossOrigin ) {\n\n    var array = [];\n\n    for ( var i = 0; i < materials.length; ++ i ) {\n\n      array[ i ] = this.createMaterial( materials[ i ], texturePath, crossOrigin );\n\n    }\n\n    return array;\n\n  },\n\n  createMaterial: ( function () {\n\n    var BlendingMode = {\n      NoBlending: NoBlending,\n      NormalBlending: NormalBlending,\n      AdditiveBlending: AdditiveBlending,\n      SubtractiveBlending: SubtractiveBlending,\n      MultiplyBlending: MultiplyBlending,\n      CustomBlending: CustomBlending\n    };\n\n    var color = new Color();\n    var textureLoader = new TextureLoader();\n    var materialLoader = new MaterialLoader();\n\n    return function createMaterial( m, texturePath, crossOrigin ) {\n\n      // convert from old material format\n\n      var textures = {};\n\n      function loadTexture( path, repeat, offset, wrap, anisotropy ) {\n\n        var fullPath = texturePath + path;\n        var loader = Loader.Handlers.get( fullPath );\n\n        var texture;\n\n        if ( loader !== null ) {\n\n          texture = loader.load( fullPath );\n\n        } else {\n\n          textureLoader.setCrossOrigin( crossOrigin );\n          texture = textureLoader.load( fullPath );\n\n        }\n\n        if ( repeat !== undefined ) {\n\n          texture.repeat.fromArray( repeat );\n\n          if ( repeat[ 0 ] !== 1 ) texture.wrapS = RepeatWrapping;\n          if ( repeat[ 1 ] !== 1 ) texture.wrapT = RepeatWrapping;\n\n        }\n\n        if ( offset !== undefined ) {\n\n          texture.offset.fromArray( offset );\n\n        }\n\n        if ( wrap !== undefined ) {\n\n          if ( wrap[ 0 ] === 'repeat' ) texture.wrapS = RepeatWrapping;\n          if ( wrap[ 0 ] === 'mirror' ) texture.wrapS = MirroredRepeatWrapping;\n\n          if ( wrap[ 1 ] === 'repeat' ) texture.wrapT = RepeatWrapping;\n          if ( wrap[ 1 ] === 'mirror' ) texture.wrapT = MirroredRepeatWrapping;\n\n        }\n\n        if ( anisotropy !== undefined ) {\n\n          texture.anisotropy = anisotropy;\n\n        }\n\n        var uuid = _Math.generateUUID();\n\n        textures[ uuid ] = texture;\n\n        return uuid;\n\n      }\n\n      //\n\n      var json = {\n        uuid: _Math.generateUUID(),\n        type: 'MeshLambertMaterial'\n      };\n\n      for ( var name in m ) {\n\n        var value = m[ name ];\n\n        switch ( name ) {\n\n          case 'DbgColor':\n          case 'DbgIndex':\n          case 'opticalDensity':\n          case 'illumination':\n            break;\n          case 'DbgName':\n            json.name = value;\n            break;\n          case 'blending':\n            json.blending = BlendingMode[ value ];\n            break;\n          case 'colorAmbient':\n          case 'mapAmbient':\n            console.warn( 'THREE.Loader.createMaterial:', name, 'is no longer supported.' );\n            break;\n          case 'colorDiffuse':\n            json.color = color.fromArray( value ).getHex();\n            break;\n          case 'colorSpecular':\n            json.specular = color.fromArray( value ).getHex();\n            break;\n          case 'colorEmissive':\n            json.emissive = color.fromArray( value ).getHex();\n            break;\n          case 'specularCoef':\n            json.shininess = value;\n            break;\n          case 'shading':\n            if ( value.toLowerCase() === 'basic' ) json.type = 'MeshBasicMaterial';\n            if ( value.toLowerCase() === 'phong' ) json.type = 'MeshPhongMaterial';\n            if ( value.toLowerCase() === 'standard' ) json.type = 'MeshStandardMaterial';\n            break;\n          case 'mapDiffuse':\n            json.map = loadTexture( value, m.mapDiffuseRepeat, m.mapDiffuseOffset, m.mapDiffuseWrap, m.mapDiffuseAnisotropy );\n            break;\n          case 'mapDiffuseRepeat':\n          case 'mapDiffuseOffset':\n          case 'mapDiffuseWrap':\n          case 'mapDiffuseAnisotropy':\n            break;\n          case 'mapEmissive':\n            json.emissiveMap = loadTexture( value, m.mapEmissiveRepeat, m.mapEmissiveOffset, m.mapEmissiveWrap, m.mapEmissiveAnisotropy );\n            break;\n          case 'mapEmissiveRepeat':\n          case 'mapEmissiveOffset':\n          case 'mapEmissiveWrap':\n          case 'mapEmissiveAnisotropy':\n            break;\n          case 'mapLight':\n            json.lightMap = loadTexture( value, m.mapLightRepeat, m.mapLightOffset, m.mapLightWrap, m.mapLightAnisotropy );\n            break;\n          case 'mapLightRepeat':\n          case 'mapLightOffset':\n          case 'mapLightWrap':\n          case 'mapLightAnisotropy':\n            break;\n          case 'mapAO':\n            json.aoMap = loadTexture( value, m.mapAORepeat, m.mapAOOffset, m.mapAOWrap, m.mapAOAnisotropy );\n            break;\n          case 'mapAORepeat':\n          case 'mapAOOffset':\n          case 'mapAOWrap':\n          case 'mapAOAnisotropy':\n            break;\n          case 'mapBump':\n            json.bumpMap = loadTexture( value, m.mapBumpRepeat, m.mapBumpOffset, m.mapBumpWrap, m.mapBumpAnisotropy );\n            break;\n          case 'mapBumpScale':\n            json.bumpScale = value;\n            break;\n          case 'mapBumpRepeat':\n          case 'mapBumpOffset':\n          case 'mapBumpWrap':\n          case 'mapBumpAnisotropy':\n            break;\n          case 'mapNormal':\n            json.normalMap = loadTexture( value, m.mapNormalRepeat, m.mapNormalOffset, m.mapNormalWrap, m.mapNormalAnisotropy );\n            break;\n          case 'mapNormalFactor':\n            json.normalScale = [ value, value ];\n            break;\n          case 'mapNormalRepeat':\n          case 'mapNormalOffset':\n          case 'mapNormalWrap':\n          case 'mapNormalAnisotropy':\n            break;\n          case 'mapSpecular':\n            json.specularMap = loadTexture( value, m.mapSpecularRepeat, m.mapSpecularOffset, m.mapSpecularWrap, m.mapSpecularAnisotropy );\n            break;\n          case 'mapSpecularRepeat':\n          case 'mapSpecularOffset':\n          case 'mapSpecularWrap':\n          case 'mapSpecularAnisotropy':\n            break;\n          case 'mapMetalness':\n            json.metalnessMap = loadTexture( value, m.mapMetalnessRepeat, m.mapMetalnessOffset, m.mapMetalnessWrap, m.mapMetalnessAnisotropy );\n            break;\n          case 'mapMetalnessRepeat':\n          case 'mapMetalnessOffset':\n          case 'mapMetalnessWrap':\n          case 'mapMetalnessAnisotropy':\n            break;\n          case 'mapRoughness':\n            json.roughnessMap = loadTexture( value, m.mapRoughnessRepeat, m.mapRoughnessOffset, m.mapRoughnessWrap, m.mapRoughnessAnisotropy );\n            break;\n          case 'mapRoughnessRepeat':\n          case 'mapRoughnessOffset':\n          case 'mapRoughnessWrap':\n          case 'mapRoughnessAnisotropy':\n            break;\n          case 'mapAlpha':\n            json.alphaMap = loadTexture( value, m.mapAlphaRepeat, m.mapAlphaOffset, m.mapAlphaWrap, m.mapAlphaAnisotropy );\n            break;\n          case 'mapAlphaRepeat':\n          case 'mapAlphaOffset':\n          case 'mapAlphaWrap':\n          case 'mapAlphaAnisotropy':\n            break;\n          case 'flipSided':\n            json.side = BackSide;\n            break;\n          case 'doubleSided':\n            json.side = DoubleSide;\n            break;\n          case 'transparency':\n            console.warn( 'THREE.Loader.createMaterial: transparency has been renamed to opacity' );\n            json.opacity = value;\n            break;\n          case 'depthTest':\n          case 'depthWrite':\n          case 'colorWrite':\n          case 'opacity':\n          case 'reflectivity':\n          case 'transparent':\n          case 'visible':\n          case 'wireframe':\n            json[ name ] = value;\n            break;\n          case 'vertexColors':\n            if ( value === true ) json.vertexColors = VertexColors;\n            if ( value === 'face' ) json.vertexColors = FaceColors;\n            break;\n          default:\n            console.error( 'THREE.Loader.createMaterial: Unsupported', name, value );\n            break;\n\n        }\n\n      }\n\n      if ( json.type === 'MeshBasicMaterial' ) delete json.emissive;\n      if ( json.type !== 'MeshPhongMaterial' ) delete json.specular;\n\n      if ( json.opacity < 1 ) json.transparent = true;\n\n      materialLoader.setTextures( textures );\n\n      return materialLoader.parse( json );\n\n    };\n\n  } )()\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction JSONLoader( manager ) {\n\n  if ( typeof manager === 'boolean' ) {\n\n    console.warn( 'THREE.JSONLoader: showStatus parameter has been removed from constructor.' );\n    manager = undefined;\n\n  }\n\n  this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n  this.withCredentials = false;\n\n}\n\nObject.assign( JSONLoader.prototype, {\n\n  load: function ( url, onLoad, onProgress, onError ) {\n\n    var scope = this;\n\n    var texturePath = this.texturePath && ( typeof this.texturePath === \"string\" ) ? this.texturePath : Loader.prototype.extractUrlBase( url );\n\n    var loader = new FileLoader( this.manager );\n    loader.setWithCredentials( this.withCredentials );\n    loader.load( url, function ( text ) {\n\n      var json = JSON.parse( text );\n      var metadata = json.metadata;\n\n      if ( metadata !== undefined ) {\n\n        var type = metadata.type;\n\n        if ( type !== undefined ) {\n\n          if ( type.toLowerCase() === 'object' ) {\n\n            console.error( 'THREE.JSONLoader: ' + url + ' should be loaded with THREE.ObjectLoader instead.' );\n            return;\n\n          }\n\n          if ( type.toLowerCase() === 'scene' ) {\n\n            console.error( 'THREE.JSONLoader: ' + url + ' should be loaded with THREE.SceneLoader instead.' );\n            return;\n\n          }\n\n        }\n\n      }\n\n      var object = scope.parse( json, texturePath );\n      onLoad( object.geometry, object.materials );\n\n    }, onProgress, onError );\n\n  },\n\n  setTexturePath: function ( value ) {\n\n    this.texturePath = value;\n\n  },\n\n  parse: ( function () {\n\n    function parseModel( json, geometry ) {\n\n      function isBitSet( value, position ) {\n\n        return value & ( 1 << position );\n\n      }\n\n      var i, j, fi,\n\n        offset, zLength,\n\n        colorIndex, normalIndex, uvIndex, materialIndex,\n\n        type,\n        isQuad,\n        hasMaterial,\n        hasFaceVertexUv,\n        hasFaceNormal, hasFaceVertexNormal,\n        hasFaceColor, hasFaceVertexColor,\n\n        vertex, face, faceA, faceB, hex, normal,\n\n        uvLayer, uv, u, v,\n\n        faces = json.faces,\n        vertices = json.vertices,\n        normals = json.normals,\n        colors = json.colors,\n\n        scale = json.scale,\n\n        nUvLayers = 0;\n\n\n      if ( json.uvs !== undefined ) {\n\n        // disregard empty arrays\n\n        for ( i = 0; i < json.uvs.length; i ++ ) {\n\n          if ( json.uvs[ i ].length ) nUvLayers ++;\n\n        }\n\n        for ( i = 0; i < nUvLayers; i ++ ) {\n\n          geometry.faceVertexUvs[ i ] = [];\n\n        }\n\n      }\n\n      offset = 0;\n      zLength = vertices.length;\n\n      while ( offset < zLength ) {\n\n        vertex = new Vector3();\n\n        vertex.x = vertices[ offset ++ ] * scale;\n        vertex.y = vertices[ offset ++ ] * scale;\n        vertex.z = vertices[ offset ++ ] * scale;\n\n        geometry.vertices.push( vertex );\n\n      }\n\n      offset = 0;\n      zLength = faces.length;\n\n      while ( offset < zLength ) {\n\n        type = faces[ offset ++ ];\n\n        isQuad = isBitSet( type, 0 );\n        hasMaterial = isBitSet( type, 1 );\n        hasFaceVertexUv = isBitSet( type, 3 );\n        hasFaceNormal = isBitSet( type, 4 );\n        hasFaceVertexNormal = isBitSet( type, 5 );\n        hasFaceColor = isBitSet( type, 6 );\n        hasFaceVertexColor = isBitSet( type, 7 );\n\n        // console.log(\"type\", type, \"bits\", isQuad, hasMaterial, hasFaceVertexUv, hasFaceNormal, hasFaceVertexNormal, hasFaceColor, hasFaceVertexColor);\n\n        if ( isQuad ) {\n\n          faceA = new Face3();\n          faceA.a = faces[ offset ];\n          faceA.b = faces[ offset + 1 ];\n          faceA.c = faces[ offset + 3 ];\n\n          faceB = new Face3();\n          faceB.a = faces[ offset + 1 ];\n          faceB.b = faces[ offset + 2 ];\n          faceB.c = faces[ offset + 3 ];\n\n          offset += 4;\n\n          if ( hasMaterial ) {\n\n            materialIndex = faces[ offset ++ ];\n            faceA.materialIndex = materialIndex;\n            faceB.materialIndex = materialIndex;\n\n          }\n\n          // to get face <=> uv index correspondence\n\n          fi = geometry.faces.length;\n\n          if ( hasFaceVertexUv ) {\n\n            for ( i = 0; i < nUvLayers; i ++ ) {\n\n              uvLayer = json.uvs[ i ];\n\n              geometry.faceVertexUvs[ i ][ fi ] = [];\n              geometry.faceVertexUvs[ i ][ fi + 1 ] = [];\n\n              for ( j = 0; j < 4; j ++ ) {\n\n                uvIndex = faces[ offset ++ ];\n\n                u = uvLayer[ uvIndex * 2 ];\n                v = uvLayer[ uvIndex * 2 + 1 ];\n\n                uv = new Vector2( u, v );\n\n                if ( j !== 2 ) geometry.faceVertexUvs[ i ][ fi ].push( uv );\n                if ( j !== 0 ) geometry.faceVertexUvs[ i ][ fi + 1 ].push( uv );\n\n              }\n\n            }\n\n          }\n\n          if ( hasFaceNormal ) {\n\n            normalIndex = faces[ offset ++ ] * 3;\n\n            faceA.normal.set(\n              normals[ normalIndex ++ ],\n              normals[ normalIndex ++ ],\n              normals[ normalIndex ]\n            );\n\n            faceB.normal.copy( faceA.normal );\n\n          }\n\n          if ( hasFaceVertexNormal ) {\n\n            for ( i = 0; i < 4; i ++ ) {\n\n              normalIndex = faces[ offset ++ ] * 3;\n\n              normal = new Vector3(\n                normals[ normalIndex ++ ],\n                normals[ normalIndex ++ ],\n                normals[ normalIndex ]\n              );\n\n\n              if ( i !== 2 ) faceA.vertexNormals.push( normal );\n              if ( i !== 0 ) faceB.vertexNormals.push( normal );\n\n            }\n\n          }\n\n\n          if ( hasFaceColor ) {\n\n            colorIndex = faces[ offset ++ ];\n            hex = colors[ colorIndex ];\n\n            faceA.color.setHex( hex );\n            faceB.color.setHex( hex );\n\n          }\n\n\n          if ( hasFaceVertexColor ) {\n\n            for ( i = 0; i < 4; i ++ ) {\n\n              colorIndex = faces[ offset ++ ];\n              hex = colors[ colorIndex ];\n\n              if ( i !== 2 ) faceA.vertexColors.push( new Color( hex ) );\n              if ( i !== 0 ) faceB.vertexColors.push( new Color( hex ) );\n\n            }\n\n          }\n\n          geometry.faces.push( faceA );\n          geometry.faces.push( faceB );\n\n        } else {\n\n          face = new Face3();\n          face.a = faces[ offset ++ ];\n          face.b = faces[ offset ++ ];\n          face.c = faces[ offset ++ ];\n\n          if ( hasMaterial ) {\n\n            materialIndex = faces[ offset ++ ];\n            face.materialIndex = materialIndex;\n\n          }\n\n          // to get face <=> uv index correspondence\n\n          fi = geometry.faces.length;\n\n          if ( hasFaceVertexUv ) {\n\n            for ( i = 0; i < nUvLayers; i ++ ) {\n\n              uvLayer = json.uvs[ i ];\n\n              geometry.faceVertexUvs[ i ][ fi ] = [];\n\n              for ( j = 0; j < 3; j ++ ) {\n\n                uvIndex = faces[ offset ++ ];\n\n                u = uvLayer[ uvIndex * 2 ];\n                v = uvLayer[ uvIndex * 2 + 1 ];\n\n                uv = new Vector2( u, v );\n\n                geometry.faceVertexUvs[ i ][ fi ].push( uv );\n\n              }\n\n            }\n\n          }\n\n          if ( hasFaceNormal ) {\n\n            normalIndex = faces[ offset ++ ] * 3;\n\n            face.normal.set(\n              normals[ normalIndex ++ ],\n              normals[ normalIndex ++ ],\n              normals[ normalIndex ]\n            );\n\n          }\n\n          if ( hasFaceVertexNormal ) {\n\n            for ( i = 0; i < 3; i ++ ) {\n\n              normalIndex = faces[ offset ++ ] * 3;\n\n              normal = new Vector3(\n                normals[ normalIndex ++ ],\n                normals[ normalIndex ++ ],\n                normals[ normalIndex ]\n              );\n\n              face.vertexNormals.push( normal );\n\n            }\n\n          }\n\n\n          if ( hasFaceColor ) {\n\n            colorIndex = faces[ offset ++ ];\n            face.color.setHex( colors[ colorIndex ] );\n\n          }\n\n\n          if ( hasFaceVertexColor ) {\n\n            for ( i = 0; i < 3; i ++ ) {\n\n              colorIndex = faces[ offset ++ ];\n              face.vertexColors.push( new Color( colors[ colorIndex ] ) );\n\n            }\n\n          }\n\n          geometry.faces.push( face );\n\n        }\n\n      }\n\n    }\n\n    function parseSkin( json, geometry ) {\n\n      var influencesPerVertex = ( json.influencesPerVertex !== undefined ) ? json.influencesPerVertex : 2;\n\n      if ( json.skinWeights ) {\n\n        for ( var i = 0, l = json.skinWeights.length; i < l; i += influencesPerVertex ) {\n\n          var x = json.skinWeights[ i ];\n          var y = ( influencesPerVertex > 1 ) ? json.skinWeights[ i + 1 ] : 0;\n          var z = ( influencesPerVertex > 2 ) ? json.skinWeights[ i + 2 ] : 0;\n          var w = ( influencesPerVertex > 3 ) ? json.skinWeights[ i + 3 ] : 0;\n\n          geometry.skinWeights.push( new Vector4( x, y, z, w ) );\n\n        }\n\n      }\n\n      if ( json.skinIndices ) {\n\n        for ( var i = 0, l = json.skinIndices.length; i < l; i += influencesPerVertex ) {\n\n          var a = json.skinIndices[ i ];\n          var b = ( influencesPerVertex > 1 ) ? json.skinIndices[ i + 1 ] : 0;\n          var c = ( influencesPerVertex > 2 ) ? json.skinIndices[ i + 2 ] : 0;\n          var d = ( influencesPerVertex > 3 ) ? json.skinIndices[ i + 3 ] : 0;\n\n          geometry.skinIndices.push( new Vector4( a, b, c, d ) );\n\n        }\n\n      }\n\n      geometry.bones = json.bones;\n\n      if ( geometry.bones && geometry.bones.length > 0 && ( geometry.skinWeights.length !== geometry.skinIndices.length || geometry.skinIndices.length !== geometry.vertices.length ) ) {\n\n        console.warn( 'When skinning, number of vertices (' + geometry.vertices.length + '), skinIndices (' +\n          geometry.skinIndices.length + '), and skinWeights (' + geometry.skinWeights.length + ') should match.' );\n\n      }\n\n    }\n\n    function parseMorphing( json, geometry ) {\n\n      var scale = json.scale;\n\n      if ( json.morphTargets !== undefined ) {\n\n        for ( var i = 0, l = json.morphTargets.length; i < l; i ++ ) {\n\n          geometry.morphTargets[ i ] = {};\n          geometry.morphTargets[ i ].name = json.morphTargets[ i ].name;\n          geometry.morphTargets[ i ].vertices = [];\n\n          var dstVertices = geometry.morphTargets[ i ].vertices;\n          var srcVertices = json.morphTargets[ i ].vertices;\n\n          for ( var v = 0, vl = srcVertices.length; v < vl; v += 3 ) {\n\n            var vertex = new Vector3();\n            vertex.x = srcVertices[ v ] * scale;\n            vertex.y = srcVertices[ v + 1 ] * scale;\n            vertex.z = srcVertices[ v + 2 ] * scale;\n\n            dstVertices.push( vertex );\n\n          }\n\n        }\n\n      }\n\n      if ( json.morphColors !== undefined && json.morphColors.length > 0 ) {\n\n        console.warn( 'THREE.JSONLoader: \"morphColors\" no longer supported. Using them as face colors.' );\n\n        var faces = geometry.faces;\n        var morphColors = json.morphColors[ 0 ].colors;\n\n        for ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n          faces[ i ].color.fromArray( morphColors, i * 3 );\n\n        }\n\n      }\n\n    }\n\n    function parseAnimations( json, geometry ) {\n\n      var outputAnimations = [];\n\n      // parse old style Bone/Hierarchy animations\n      var animations = [];\n\n      if ( json.animation !== undefined ) {\n\n        animations.push( json.animation );\n\n      }\n\n      if ( json.animations !== undefined ) {\n\n        if ( json.animations.length ) {\n\n          animations = animations.concat( json.animations );\n\n        } else {\n\n          animations.push( json.animations );\n\n        }\n\n      }\n\n      for ( var i = 0; i < animations.length; i ++ ) {\n\n        var clip = AnimationClip.parseAnimation( animations[ i ], geometry.bones );\n        if ( clip ) outputAnimations.push( clip );\n\n      }\n\n      // parse implicit morph animations\n      if ( geometry.morphTargets ) {\n\n        // TODO: Figure out what an appropraite FPS is for morph target animations -- defaulting to 10, but really it is completely arbitrary.\n        var morphAnimationClips = AnimationClip.CreateClipsFromMorphTargetSequences( geometry.morphTargets, 10 );\n        outputAnimations = outputAnimations.concat( morphAnimationClips );\n\n      }\n\n      if ( outputAnimations.length > 0 ) geometry.animations = outputAnimations;\n\n    }\n\n    return function ( json, texturePath ) {\n\n      if ( json.data !== undefined ) {\n\n        // Geometry 4.0 spec\n        json = json.data;\n\n      }\n\n      if ( json.scale !== undefined ) {\n\n        json.scale = 1.0 / json.scale;\n\n      } else {\n\n        json.scale = 1.0;\n\n      }\n\n      var geometry = new Geometry();\n\n      parseModel( json, geometry );\n      parseSkin( json, geometry );\n      parseMorphing( json, geometry );\n      parseAnimations( json, geometry );\n\n      geometry.computeFaceNormals();\n      geometry.computeBoundingSphere();\n\n      if ( json.materials === undefined || json.materials.length === 0 ) {\n\n        return { geometry: geometry };\n\n      } else {\n\n        var materials = Loader.prototype.initMaterials( json.materials, texturePath, this.crossOrigin );\n\n        return { geometry: geometry, materials: materials };\n\n      }\n\n    };\n\n  } )()\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ObjectLoader( manager ) {\n\n  this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n  this.texturePath = '';\n\n}\n\nObject.assign( ObjectLoader.prototype, {\n\n  load: function ( url, onLoad, onProgress, onError ) {\n\n    if ( this.texturePath === '' ) {\n\n      this.texturePath = url.substring( 0, url.lastIndexOf( '/' ) + 1 );\n\n    }\n\n    var scope = this;\n\n    var loader = new FileLoader( scope.manager );\n    loader.load( url, function ( text ) {\n\n      var json = null;\n\n      try {\n\n        json = JSON.parse( text );\n\n      } catch ( error ) {\n\n        if ( onError !== undefined ) onError( error );\n\n        console.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n        return;\n\n      }\n\n      var metadata = json.metadata;\n\n      if ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n        console.error( 'THREE.ObjectLoader: Can\\'t load ' + url + '. Use THREE.JSONLoader instead.' );\n        return;\n\n      }\n\n      scope.parse( json, onLoad );\n\n    }, onProgress, onError );\n\n  },\n\n  setTexturePath: function ( value ) {\n\n    this.texturePath = value;\n\n  },\n\n  setCrossOrigin: function ( value ) {\n\n    this.crossOrigin = value;\n\n  },\n\n  parse: function ( json, onLoad ) {\n\n    var geometries = this.parseGeometries( json.geometries );\n\n    var images = this.parseImages( json.images, function () {\n\n      if ( onLoad !== undefined ) onLoad( object );\n\n    } );\n\n    var textures = this.parseTextures( json.textures, images );\n    var materials = this.parseMaterials( json.materials, textures );\n\n    var object = this.parseObject( json.object, geometries, materials );\n\n    if ( json.animations ) {\n\n      object.animations = this.parseAnimations( json.animations );\n\n    }\n\n    if ( json.images === undefined || json.images.length === 0 ) {\n\n      if ( onLoad !== undefined ) onLoad( object );\n\n    }\n\n    return object;\n\n  },\n\n  parseGeometries: function ( json ) {\n\n    var geometries = {};\n\n    if ( json !== undefined ) {\n\n      var geometryLoader = new JSONLoader();\n      var bufferGeometryLoader = new BufferGeometryLoader();\n\n      for ( var i = 0, l = json.length; i < l; i ++ ) {\n\n        var geometry;\n        var data = json[ i ];\n\n        switch ( data.type ) {\n\n          case 'PlaneGeometry':\n          case 'PlaneBufferGeometry':\n\n            geometry = new Geometries[ data.type ](\n              data.width,\n              data.height,\n              data.widthSegments,\n              data.heightSegments\n            );\n\n            break;\n\n          case 'BoxGeometry':\n          case 'BoxBufferGeometry':\n          case 'CubeGeometry': // backwards compatible\n\n            geometry = new Geometries[ data.type ](\n              data.width,\n              data.height,\n              data.depth,\n              data.widthSegments,\n              data.heightSegments,\n              data.depthSegments\n            );\n\n            break;\n\n          case 'CircleGeometry':\n          case 'CircleBufferGeometry':\n\n            geometry = new Geometries[ data.type ](\n              data.radius,\n              data.segments,\n              data.thetaStart,\n              data.thetaLength\n            );\n\n            break;\n\n          case 'CylinderGeometry':\n          case 'CylinderBufferGeometry':\n\n            geometry = new Geometries[ data.type ](\n              data.radiusTop,\n              data.radiusBottom,\n              data.height,\n              data.radialSegments,\n              data.heightSegments,\n              data.openEnded,\n              data.thetaStart,\n              data.thetaLength\n            );\n\n            break;\n\n          case 'ConeGeometry':\n          case 'ConeBufferGeometry':\n\n            geometry = new Geometries[ data.type ](\n              data.radius,\n              data.height,\n              data.radialSegments,\n              data.heightSegments,\n              data.openEnded,\n              data.thetaStart,\n              data.thetaLength\n            );\n\n            break;\n\n          case 'SphereGeometry':\n          case 'SphereBufferGeometry':\n\n            geometry = new Geometries[ data.type ](\n              data.radius,\n              data.widthSegments,\n              data.heightSegments,\n              data.phiStart,\n              data.phiLength,\n              data.thetaStart,\n              data.thetaLength\n            );\n\n            break;\n\n          case 'DodecahedronGeometry':\n          case 'IcosahedronGeometry':\n          case 'OctahedronGeometry':\n          case 'TetrahedronGeometry':\n\n            geometry = new Geometries[ data.type ](\n              data.radius,\n              data.detail\n            );\n\n            break;\n\n          case 'RingGeometry':\n          case 'RingBufferGeometry':\n\n            geometry = new Geometries[ data.type ](\n              data.innerRadius,\n              data.outerRadius,\n              data.thetaSegments,\n              data.phiSegments,\n              data.thetaStart,\n              data.thetaLength\n            );\n\n            break;\n\n          case 'TorusGeometry':\n          case 'TorusBufferGeometry':\n\n            geometry = new Geometries[ data.type ](\n              data.radius,\n              data.tube,\n              data.radialSegments,\n              data.tubularSegments,\n              data.arc\n            );\n\n            break;\n\n          case 'TorusKnotGeometry':\n          case 'TorusKnotBufferGeometry':\n\n            geometry = new Geometries[ data.type ](\n              data.radius,\n              data.tube,\n              data.tubularSegments,\n              data.radialSegments,\n              data.p,\n              data.q\n            );\n\n            break;\n\n          case 'LatheGeometry':\n          case 'LatheBufferGeometry':\n\n            geometry = new Geometries[ data.type ](\n              data.points,\n              data.segments,\n              data.phiStart,\n              data.phiLength\n            );\n\n            break;\n\n          case 'BufferGeometry':\n\n            geometry = bufferGeometryLoader.parse( data );\n\n            break;\n\n          case 'Geometry':\n\n            geometry = geometryLoader.parse( data, this.texturePath ).geometry;\n\n            break;\n\n          default:\n\n            console.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n            continue;\n\n        }\n\n        geometry.uuid = data.uuid;\n\n        if ( data.name !== undefined ) geometry.name = data.name;\n\n        geometries[ data.uuid ] = geometry;\n\n      }\n\n    }\n\n    return geometries;\n\n  },\n\n  parseMaterials: function ( json, textures ) {\n\n    var materials = {};\n\n    if ( json !== undefined ) {\n\n      var loader = new MaterialLoader();\n      loader.setTextures( textures );\n\n      for ( var i = 0, l = json.length; i < l; i ++ ) {\n\n        var data = json[ i ];\n\n        if ( data.type === 'MultiMaterial' ) {\n\n          // Deprecated\n\n          var array = [];\n\n          for ( var j = 0; j < data.materials.length; j ++ ) {\n\n            array.push( loader.parse( data.materials[ j ] ) );\n\n          }\n\n          materials[ data.uuid ] = array;\n\n        } else {\n\n          materials[ data.uuid ] = loader.parse( data );\n\n        }\n\n      }\n\n    }\n\n    return materials;\n\n  },\n\n  parseAnimations: function ( json ) {\n\n    var animations = [];\n\n    for ( var i = 0; i < json.length; i ++ ) {\n\n      var clip = AnimationClip.parse( json[ i ] );\n\n      animations.push( clip );\n\n    }\n\n    return animations;\n\n  },\n\n  parseImages: function ( json, onLoad ) {\n\n    var scope = this;\n    var images = {};\n\n    function loadImage( url ) {\n\n      scope.manager.itemStart( url );\n\n      return loader.load( url, function () {\n\n        scope.manager.itemEnd( url );\n\n      }, undefined, function () {\n\n        scope.manager.itemEnd( url );\n        scope.manager.itemError( url );\n\n      } );\n\n    }\n\n    if ( json !== undefined && json.length > 0 ) {\n\n      var manager = new LoadingManager( onLoad );\n\n      var loader = new ImageLoader( manager );\n      loader.setCrossOrigin( this.crossOrigin );\n\n      for ( var i = 0, l = json.length; i < l; i ++ ) {\n\n        var image = json[ i ];\n        var path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.texturePath + image.url;\n\n        images[ image.uuid ] = loadImage( path );\n\n      }\n\n    }\n\n    return images;\n\n  },\n\n  parseTextures: function ( json, images ) {\n\n    function parseConstant( value, type ) {\n\n      if ( typeof( value ) === 'number' ) return value;\n\n      console.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n      return type[ value ];\n\n    }\n\n    var textures = {};\n\n    if ( json !== undefined ) {\n\n      for ( var i = 0, l = json.length; i < l; i ++ ) {\n\n        var data = json[ i ];\n\n        if ( data.image === undefined ) {\n\n          console.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n        }\n\n        if ( images[ data.image ] === undefined ) {\n\n          console.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n        }\n\n        var texture = new Texture( images[ data.image ] );\n        texture.needsUpdate = true;\n\n        texture.uuid = data.uuid;\n\n        if ( data.name !== undefined ) texture.name = data.name;\n\n        if ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n        if ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n        if ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n        if ( data.wrap !== undefined ) {\n\n          texture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n          texture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n        }\n\n        if ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n        if ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n        if ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n        if ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n        textures[ data.uuid ] = texture;\n\n      }\n\n    }\n\n    return textures;\n\n  },\n\n  parseObject: function () {\n\n    var matrix = new Matrix4();\n\n    return function parseObject( data, geometries, materials ) {\n\n      var object;\n\n      function getGeometry( name ) {\n\n        if ( geometries[ name ] === undefined ) {\n\n          console.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n        }\n\n        return geometries[ name ];\n\n      }\n\n      function getMaterial( name ) {\n\n        if ( name === undefined ) return undefined;\n\n        if ( Array.isArray( name ) ) {\n\n          var array = [];\n\n          for ( var i = 0, l = name.length; i < l; i ++ ) {\n\n            var uuid = name[ i ];\n\n            if ( materials[ uuid ] === undefined ) {\n\n              console.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n            }\n\n            array.push( materials[ uuid ] );\n\n          }\n\n          return array;\n\n        }\n\n        if ( materials[ name ] === undefined ) {\n\n          console.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n        }\n\n        return materials[ name ];\n\n      }\n\n      switch ( data.type ) {\n\n        case 'Scene':\n\n          object = new Scene();\n\n          if ( data.background !== undefined ) {\n\n            if ( Number.isInteger( data.background ) ) {\n\n              object.background = new Color( data.background );\n\n            }\n\n          }\n\n          if ( data.fog !== undefined ) {\n\n            if ( data.fog.type === 'Fog' ) {\n\n              object.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n            } else if ( data.fog.type === 'FogExp2' ) {\n\n              object.fog = new FogExp2( data.fog.color, data.fog.density );\n\n            }\n\n          }\n\n          break;\n\n        case 'PerspectiveCamera':\n\n          object = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n          if ( data.focus !== undefined ) object.focus = data.focus;\n          if ( data.zoom !== undefined ) object.zoom = data.zoom;\n          if ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n          if ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n          if ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n          break;\n\n        case 'OrthographicCamera':\n\n          object = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n          break;\n\n        case 'AmbientLight':\n\n          object = new AmbientLight( data.color, data.intensity );\n\n          break;\n\n        case 'DirectionalLight':\n\n          object = new DirectionalLight( data.color, data.intensity );\n\n          break;\n\n        case 'PointLight':\n\n          object = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n          break;\n\n        case 'RectAreaLight':\n\n          object = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n          break;\n\n        case 'SpotLight':\n\n          object = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n          break;\n\n        case 'HemisphereLight':\n\n          object = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n          break;\n\n        case 'SkinnedMesh':\n\n          console.warn( 'THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.' );\n\n        case 'Mesh':\n\n          var geometry = getGeometry( data.geometry );\n          var material = getMaterial( data.material );\n\n          if ( geometry.bones && geometry.bones.length > 0 ) {\n\n            object = new SkinnedMesh( geometry, material );\n\n          } else {\n\n            object = new Mesh( geometry, material );\n\n          }\n\n          break;\n\n        case 'LOD':\n\n          object = new LOD();\n\n          break;\n\n        case 'Line':\n\n          object = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\n\n          break;\n\n        case 'LineLoop':\n\n          object = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n          break;\n\n        case 'LineSegments':\n\n          object = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n          break;\n\n        case 'PointCloud':\n        case 'Points':\n\n          object = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n          break;\n\n        case 'Sprite':\n\n          object = new Sprite( getMaterial( data.material ) );\n\n          break;\n\n        case 'Group':\n\n          object = new Group();\n\n          break;\n\n        default:\n\n          object = new Object3D();\n\n      }\n\n      object.uuid = data.uuid;\n\n      if ( data.name !== undefined ) object.name = data.name;\n      if ( data.matrix !== undefined ) {\n\n        matrix.fromArray( data.matrix );\n        matrix.decompose( object.position, object.quaternion, object.scale );\n\n      } else {\n\n        if ( data.position !== undefined ) object.position.fromArray( data.position );\n        if ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n        if ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n        if ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n      }\n\n      if ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n      if ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n      if ( data.shadow ) {\n\n        if ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n        if ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n        if ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n        if ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n      }\n\n      if ( data.visible !== undefined ) object.visible = data.visible;\n      if ( data.userData !== undefined ) object.userData = data.userData;\n\n      if ( data.children !== undefined ) {\n\n        var children = data.children;\n\n        for ( var  i = 0; i < children.length; i ++ ) {\n\n          object.add( this.parseObject( children[ i ], geometries, materials ) );\n\n        }\n\n      }\n\n      if ( data.type === 'LOD' ) {\n\n        var levels = data.levels;\n\n        for ( var l = 0; l < levels.length; l ++ ) {\n\n          var level = levels[ l ];\n          var child = object.getObjectByProperty( 'uuid', level.object );\n\n          if ( child !== undefined ) {\n\n            object.addLevel( child, level.distance );\n\n          }\n\n        }\n\n      }\n\n      return object;\n\n    };\n\n  }()\n\n} );\n\nvar TEXTURE_MAPPING = {\n  UVMapping: UVMapping,\n  CubeReflectionMapping: CubeReflectionMapping,\n  CubeRefractionMapping: CubeRefractionMapping,\n  EquirectangularReflectionMapping: EquirectangularReflectionMapping,\n  EquirectangularRefractionMapping: EquirectangularRefractionMapping,\n  SphericalReflectionMapping: SphericalReflectionMapping,\n  CubeUVReflectionMapping: CubeUVReflectionMapping,\n  CubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nvar TEXTURE_WRAPPING = {\n  RepeatWrapping: RepeatWrapping,\n  ClampToEdgeWrapping: ClampToEdgeWrapping,\n  MirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nvar TEXTURE_FILTER = {\n  NearestFilter: NearestFilter,\n  NearestMipMapNearestFilter: NearestMipMapNearestFilter,\n  NearestMipMapLinearFilter: NearestMipMapLinearFilter,\n  LinearFilter: LinearFilter,\n  LinearMipMapNearestFilter: LinearMipMapNearestFilter,\n  LinearMipMapLinearFilter: LinearMipMapLinearFilter\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n  var v0 = ( p2 - p0 ) * 0.5;\n  var v1 = ( p3 - p1 ) * 0.5;\n  var t2 = t * t;\n  var t3 = t * t2;\n  return ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n  var k = 1 - t;\n  return k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n  return 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n  return t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n  return QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n    QuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n  var k = 1 - t;\n  return k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n  var k = 1 - t;\n  return 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n  return 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n  return t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n  return CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n    CubicBezierP3( t, p3 );\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Extensible curve object\n *\n * Some common of curve methods:\n * .getPoint(t), getTangent(t)\n * .getPointAt(u), getTangentAt(u)\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\n/**************************************************************\n *\tAbstract Curve base class\n **************************************************************/\n\nfunction Curve() {\n\n  this.arcLengthDivisions = 200;\n\n}\n\nObject.assign( Curve.prototype, {\n\n  // Virtual base class method to overwrite and implement in subclasses\n  //\t- t [0 .. 1]\n\n  getPoint: function () {\n\n    console.warn( 'THREE.Curve: .getPoint() not implemented.' );\n    return null;\n\n  },\n\n  // Get point at relative position in curve according to arc length\n  // - u [0 .. 1]\n\n  getPointAt: function ( u ) {\n\n    var t = this.getUtoTmapping( u );\n    return this.getPoint( t );\n\n  },\n\n  // Get sequence of points using getPoint( t )\n\n  getPoints: function ( divisions ) {\n\n    if ( divisions === undefined ) divisions = 5;\n\n    var points = [];\n\n    for ( var d = 0; d <= divisions; d ++ ) {\n\n      points.push( this.getPoint( d / divisions ) );\n\n    }\n\n    return points;\n\n  },\n\n  // Get sequence of points using getPointAt( u )\n\n  getSpacedPoints: function ( divisions ) {\n\n    if ( divisions === undefined ) divisions = 5;\n\n    var points = [];\n\n    for ( var d = 0; d <= divisions; d ++ ) {\n\n      points.push( this.getPointAt( d / divisions ) );\n\n    }\n\n    return points;\n\n  },\n\n  // Get total curve arc length\n\n  getLength: function () {\n\n    var lengths = this.getLengths();\n    return lengths[ lengths.length - 1 ];\n\n  },\n\n  // Get list of cumulative segment lengths\n\n  getLengths: function ( divisions ) {\n\n    if ( divisions === undefined ) divisions = this.arcLengthDivisions;\n\n    if ( this.cacheArcLengths &&\n      ( this.cacheArcLengths.length === divisions + 1 ) &&\n      ! this.needsUpdate ) {\n\n      return this.cacheArcLengths;\n\n    }\n\n    this.needsUpdate = false;\n\n    var cache = [];\n    var current, last = this.getPoint( 0 );\n    var p, sum = 0;\n\n    cache.push( 0 );\n\n    for ( p = 1; p <= divisions; p ++ ) {\n\n      current = this.getPoint( p / divisions );\n      sum += current.distanceTo( last );\n      cache.push( sum );\n      last = current;\n\n    }\n\n    this.cacheArcLengths = cache;\n\n    return cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n  },\n\n  updateArcLengths: function () {\n\n    this.needsUpdate = true;\n    this.getLengths();\n\n  },\n\n  // Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n  getUtoTmapping: function ( u, distance ) {\n\n    var arcLengths = this.getLengths();\n\n    var i = 0, il = arcLengths.length;\n\n    var targetArcLength; // The targeted u distance value to get\n\n    if ( distance ) {\n\n      targetArcLength = distance;\n\n    } else {\n\n      targetArcLength = u * arcLengths[ il - 1 ];\n\n    }\n\n    // binary search for the index with largest value smaller than target u distance\n\n    var low = 0, high = il - 1, comparison;\n\n    while ( low <= high ) {\n\n      i = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n      comparison = arcLengths[ i ] - targetArcLength;\n\n      if ( comparison < 0 ) {\n\n        low = i + 1;\n\n      } else if ( comparison > 0 ) {\n\n        high = i - 1;\n\n      } else {\n\n        high = i;\n        break;\n\n        // DONE\n\n      }\n\n    }\n\n    i = high;\n\n    if ( arcLengths[ i ] === targetArcLength ) {\n\n      return i / ( il - 1 );\n\n    }\n\n    // we could get finer grain at lengths, or use simple interpolation between two points\n\n    var lengthBefore = arcLengths[ i ];\n    var lengthAfter = arcLengths[ i + 1 ];\n\n    var segmentLength = lengthAfter - lengthBefore;\n\n    // determine where we are between the 'before' and 'after' points\n\n    var segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n    // add that fractional amount to t\n\n    var t = ( i + segmentFraction ) / ( il - 1 );\n\n    return t;\n\n  },\n\n  // Returns a unit vector tangent at t\n  // In case any sub curve does not implement its tangent derivation,\n  // 2 points a small delta apart will be used to find its gradient\n  // which seems to give a reasonable approximation\n\n  getTangent: function ( t ) {\n\n    var delta = 0.0001;\n    var t1 = t - delta;\n    var t2 = t + delta;\n\n    // Capping in case of danger\n\n    if ( t1 < 0 ) t1 = 0;\n    if ( t2 > 1 ) t2 = 1;\n\n    var pt1 = this.getPoint( t1 );\n    var pt2 = this.getPoint( t2 );\n\n    var vec = pt2.clone().sub( pt1 );\n    return vec.normalize();\n\n  },\n\n  getTangentAt: function ( u ) {\n\n    var t = this.getUtoTmapping( u );\n    return this.getTangent( t );\n\n  },\n\n  computeFrenetFrames: function ( segments, closed ) {\n\n    // see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n    var normal = new Vector3();\n\n    var tangents = [];\n    var normals = [];\n    var binormals = [];\n\n    var vec = new Vector3();\n    var mat = new Matrix4();\n\n    var i, u, theta;\n\n    // compute the tangent vectors for each segment on the curve\n\n    for ( i = 0; i <= segments; i ++ ) {\n\n      u = i / segments;\n\n      tangents[ i ] = this.getTangentAt( u );\n      tangents[ i ].normalize();\n\n    }\n\n    // select an initial normal vector perpendicular to the first tangent vector,\n    // and in the direction of the minimum tangent xyz component\n\n    normals[ 0 ] = new Vector3();\n    binormals[ 0 ] = new Vector3();\n    var min = Number.MAX_VALUE;\n    var tx = Math.abs( tangents[ 0 ].x );\n    var ty = Math.abs( tangents[ 0 ].y );\n    var tz = Math.abs( tangents[ 0 ].z );\n\n    if ( tx <= min ) {\n\n      min = tx;\n      normal.set( 1, 0, 0 );\n\n    }\n\n    if ( ty <= min ) {\n\n      min = ty;\n      normal.set( 0, 1, 0 );\n\n    }\n\n    if ( tz <= min ) {\n\n      normal.set( 0, 0, 1 );\n\n    }\n\n    vec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n    normals[ 0 ].crossVectors( tangents[ 0 ], vec );\n    binormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n    // compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n    for ( i = 1; i <= segments; i ++ ) {\n\n      normals[ i ] = normals[ i - 1 ].clone();\n\n      binormals[ i ] = binormals[ i - 1 ].clone();\n\n      vec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n      if ( vec.length() > Number.EPSILON ) {\n\n        vec.normalize();\n\n        theta = Math.acos( _Math.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n        normals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n      }\n\n      binormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n    }\n\n    // if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n    if ( closed === true ) {\n\n      theta = Math.acos( _Math.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n      theta /= segments;\n\n      if ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n        theta = - theta;\n\n      }\n\n      for ( i = 1; i <= segments; i ++ ) {\n\n        // twist a little...\n        normals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n        binormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n      }\n\n    }\n\n    return {\n      tangents: tangents,\n      normals: normals,\n      binormals: binormals\n    };\n\n  }\n\n} );\n\nfunction LineCurve( v1, v2 ) {\n\n  Curve.call( this );\n\n  this.v1 = v1;\n  this.v2 = v2;\n\n}\n\nLineCurve.prototype = Object.create( Curve.prototype );\nLineCurve.prototype.constructor = LineCurve;\n\nLineCurve.prototype.isLineCurve = true;\n\nLineCurve.prototype.getPoint = function ( t ) {\n\n  if ( t === 1 ) {\n\n    return this.v2.clone();\n\n  }\n\n  var point = this.v2.clone().sub( this.v1 );\n  point.multiplyScalar( t ).add( this.v1 );\n\n  return point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve.prototype.getPointAt = function ( u ) {\n\n  return this.getPoint( u );\n\n};\n\nLineCurve.prototype.getTangent = function ( t ) {\n\n  var tangent = this.v2.clone().sub( this.v1 );\n\n  return tangent.normalize();\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n **/\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nfunction CurvePath() {\n\n  Curve.call( this );\n\n  this.curves = [];\n\n  this.autoClose = false; // Automatically closes the path\n\n}\n\nCurvePath.prototype = Object.assign( Object.create( Curve.prototype ), {\n\n  constructor: CurvePath,\n\n  add: function ( curve ) {\n\n    this.curves.push( curve );\n\n  },\n\n  closePath: function () {\n\n    // Add a line curve if start and end of lines are not connected\n    var startPoint = this.curves[ 0 ].getPoint( 0 );\n    var endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n    if ( ! startPoint.equals( endPoint ) ) {\n\n      this.curves.push( new LineCurve( endPoint, startPoint ) );\n\n    }\n\n  },\n\n  // To get accurate point with reference to\n  // entire path distance at time t,\n  // following has to be done:\n\n  // 1. Length of each sub path have to be known\n  // 2. Locate and identify type of curve\n  // 3. Get t for the curve\n  // 4. Return curve.getPointAt(t')\n\n  getPoint: function ( t ) {\n\n    var d = t * this.getLength();\n    var curveLengths = this.getCurveLengths();\n    var i = 0;\n\n    // To think about boundaries points.\n\n    while ( i < curveLengths.length ) {\n\n      if ( curveLengths[ i ] >= d ) {\n\n        var diff = curveLengths[ i ] - d;\n        var curve = this.curves[ i ];\n\n        var segmentLength = curve.getLength();\n        var u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n        return curve.getPointAt( u );\n\n      }\n\n      i ++;\n\n    }\n\n    return null;\n\n    // loop where sum != 0, sum > d , sum+1 <d\n\n  },\n\n  // We cannot use the default THREE.Curve getPoint() with getLength() because in\n  // THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n  // getPoint() depends on getLength\n\n  getLength: function () {\n\n    var lens = this.getCurveLengths();\n    return lens[ lens.length - 1 ];\n\n  },\n\n  // cacheLengths must be recalculated.\n  updateArcLengths: function () {\n\n    this.needsUpdate = true;\n    this.cacheLengths = null;\n    this.getCurveLengths();\n\n  },\n\n  // Compute lengths and cache them\n  // We cannot overwrite getLengths() because UtoT mapping uses it.\n\n  getCurveLengths: function () {\n\n    // We use cache values if curves and cache array are same length\n\n    if ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n      return this.cacheLengths;\n\n    }\n\n    // Get length of sub-curve\n    // Push sums into cached array\n\n    var lengths = [], sums = 0;\n\n    for ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n      sums += this.curves[ i ].getLength();\n      lengths.push( sums );\n\n    }\n\n    this.cacheLengths = lengths;\n\n    return lengths;\n\n  },\n\n  getSpacedPoints: function ( divisions ) {\n\n    if ( divisions === undefined ) divisions = 40;\n\n    var points = [];\n\n    for ( var i = 0; i <= divisions; i ++ ) {\n\n      points.push( this.getPoint( i / divisions ) );\n\n    }\n\n    if ( this.autoClose ) {\n\n      points.push( points[ 0 ] );\n\n    }\n\n    return points;\n\n  },\n\n  getPoints: function ( divisions ) {\n\n    divisions = divisions || 12;\n\n    var points = [], last;\n\n    for ( var i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n      var curve = curves[ i ];\n      var resolution = (curve && curve.isEllipseCurve) ? divisions * 2\n        : (curve && curve.isLineCurve) ? 1\n          : (curve && curve.isSplineCurve) ? divisions * curve.points.length\n            : divisions;\n\n      var pts = curve.getPoints( resolution );\n\n      for ( var j = 0; j < pts.length; j++ ) {\n\n        var point = pts[ j ];\n\n        if ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n        points.push( point );\n        last = point;\n\n      }\n\n    }\n\n    if ( this.autoClose && points.length > 1 && !points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n      points.push( points[ 0 ] );\n\n    }\n\n    return points;\n\n  },\n\n  /**************************************************************\n   *\tCreate Geometries Helpers\n   **************************************************************/\n\n  /// Generate geometry from path points (for Line or Points objects)\n\n  createPointsGeometry: function ( divisions ) {\n\n    var pts = this.getPoints( divisions );\n    return this.createGeometry( pts );\n\n  },\n\n  // Generate geometry from equidistant sampling along the path\n\n  createSpacedPointsGeometry: function ( divisions ) {\n\n    var pts = this.getSpacedPoints( divisions );\n    return this.createGeometry( pts );\n\n  },\n\n  createGeometry: function ( points ) {\n\n    var geometry = new Geometry();\n\n    for ( var i = 0, l = points.length; i < l; i ++ ) {\n\n      var point = points[ i ];\n      geometry.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n    }\n\n    return geometry;\n\n  }\n\n} );\n\nfunction EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n  Curve.call( this );\n\n  this.aX = aX;\n  this.aY = aY;\n\n  this.xRadius = xRadius;\n  this.yRadius = yRadius;\n\n  this.aStartAngle = aStartAngle;\n  this.aEndAngle = aEndAngle;\n\n  this.aClockwise = aClockwise;\n\n  this.aRotation = aRotation || 0;\n\n}\n\nEllipseCurve.prototype = Object.create( Curve.prototype );\nEllipseCurve.prototype.constructor = EllipseCurve;\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nEllipseCurve.prototype.getPoint = function ( t ) {\n\n  var twoPi = Math.PI * 2;\n  var deltaAngle = this.aEndAngle - this.aStartAngle;\n  var samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n  // ensures that deltaAngle is 0 .. 2 PI\n  while ( deltaAngle < 0 ) deltaAngle += twoPi;\n  while ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n  if ( deltaAngle < Number.EPSILON ) {\n\n    if ( samePoints ) {\n\n      deltaAngle = 0;\n\n    } else {\n\n      deltaAngle = twoPi;\n\n    }\n\n  }\n\n  if ( this.aClockwise === true && ! samePoints ) {\n\n    if ( deltaAngle === twoPi ) {\n\n      deltaAngle = - twoPi;\n\n    } else {\n\n      deltaAngle = deltaAngle - twoPi;\n\n    }\n\n  }\n\n  var angle = this.aStartAngle + t * deltaAngle;\n  var x = this.aX + this.xRadius * Math.cos( angle );\n  var y = this.aY + this.yRadius * Math.sin( angle );\n\n  if ( this.aRotation !== 0 ) {\n\n    var cos = Math.cos( this.aRotation );\n    var sin = Math.sin( this.aRotation );\n\n    var tx = x - this.aX;\n    var ty = y - this.aY;\n\n    // Rotate the point about the center of the ellipse.\n    x = tx * cos - ty * sin + this.aX;\n    y = tx * sin + ty * cos + this.aY;\n\n  }\n\n  return new Vector2( x, y );\n\n};\n\nfunction SplineCurve( points /* array of Vector2 */ ) {\n\n  Curve.call( this );\n\n  this.points = ( points === undefined ) ? [] : points;\n\n}\n\nSplineCurve.prototype = Object.create( Curve.prototype );\nSplineCurve.prototype.constructor = SplineCurve;\n\nSplineCurve.prototype.isSplineCurve = true;\n\nSplineCurve.prototype.getPoint = function ( t ) {\n\n  var points = this.points;\n  var point = ( points.length - 1 ) * t;\n\n  var intPoint = Math.floor( point );\n  var weight = point - intPoint;\n\n  var point0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n  var point1 = points[ intPoint ];\n  var point2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n  var point3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n  return new Vector2(\n    CatmullRom( weight, point0.x, point1.x, point2.x, point3.x ),\n    CatmullRom( weight, point0.y, point1.y, point2.y, point3.y )\n  );\n\n};\n\nfunction CubicBezierCurve( v0, v1, v2, v3 ) {\n\n  Curve.call( this );\n\n  this.v0 = v0;\n  this.v1 = v1;\n  this.v2 = v2;\n  this.v3 = v3;\n\n}\n\nCubicBezierCurve.prototype = Object.create( Curve.prototype );\nCubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\nCubicBezierCurve.prototype.getPoint = function ( t ) {\n\n  var v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n  return new Vector2(\n    CubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n    CubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n  );\n\n};\n\nfunction QuadraticBezierCurve( v0, v1, v2 ) {\n\n  Curve.call( this );\n\n  this.v0 = v0;\n  this.v1 = v1;\n  this.v2 = v2;\n\n}\n\nQuadraticBezierCurve.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\nQuadraticBezierCurve.prototype.getPoint = function ( t ) {\n\n  var v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n  return new Vector2(\n    QuadraticBezier( t, v0.x, v1.x, v2.x ),\n    QuadraticBezier( t, v0.y, v1.y, v2.y )\n  );\n\n};\n\nvar PathPrototype = Object.assign( Object.create( CurvePath.prototype ), {\n\n  fromPoints: function ( vectors ) {\n\n    this.moveTo( vectors[ 0 ].x, vectors[ 0 ].y );\n\n    for ( var i = 1, l = vectors.length; i < l; i ++ ) {\n\n      this.lineTo( vectors[ i ].x, vectors[ i ].y );\n\n    }\n\n  },\n\n  moveTo: function ( x, y ) {\n\n    this.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n  },\n\n  lineTo: function ( x, y ) {\n\n    var curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n    this.curves.push( curve );\n\n    this.currentPoint.set( x, y );\n\n  },\n\n  quadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n    var curve = new QuadraticBezierCurve(\n      this.currentPoint.clone(),\n      new Vector2( aCPx, aCPy ),\n      new Vector2( aX, aY )\n    );\n\n    this.curves.push( curve );\n\n    this.currentPoint.set( aX, aY );\n\n  },\n\n  bezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n    var curve = new CubicBezierCurve(\n      this.currentPoint.clone(),\n      new Vector2( aCP1x, aCP1y ),\n      new Vector2( aCP2x, aCP2y ),\n      new Vector2( aX, aY )\n    );\n\n    this.curves.push( curve );\n\n    this.currentPoint.set( aX, aY );\n\n  },\n\n  splineThru: function ( pts /*Array of Vector*/ ) {\n\n    var npts = [ this.currentPoint.clone() ].concat( pts );\n\n    var curve = new SplineCurve( npts );\n    this.curves.push( curve );\n\n    this.currentPoint.copy( pts[ pts.length - 1 ] );\n\n  },\n\n  arc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n    var x0 = this.currentPoint.x;\n    var y0 = this.currentPoint.y;\n\n    this.absarc( aX + x0, aY + y0, aRadius,\n      aStartAngle, aEndAngle, aClockwise );\n\n  },\n\n  absarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n    this.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n  },\n\n  ellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n    var x0 = this.currentPoint.x;\n    var y0 = this.currentPoint.y;\n\n    this.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n  },\n\n  absellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n    var curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n    if ( this.curves.length > 0 ) {\n\n      // if a previous curve is present, attempt to join\n      var firstPoint = curve.getPoint( 0 );\n\n      if ( ! firstPoint.equals( this.currentPoint ) ) {\n\n        this.lineTo( firstPoint.x, firstPoint.y );\n\n      }\n\n    }\n\n    this.curves.push( curve );\n\n    var lastPoint = curve.getPoint( 1 );\n    this.currentPoint.copy( lastPoint );\n\n  }\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Creates free form 2d path using series of points, lines or curves.\n **/\n\nfunction Path( points ) {\n\n  CurvePath.call( this );\n  this.currentPoint = new Vector2();\n\n  if ( points ) {\n\n    this.fromPoints( points );\n\n  }\n\n}\n\nPath.prototype = PathPrototype;\nPathPrototype.constructor = Path;\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/\n\n// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\n\nfunction Shape() {\n\n  Path.apply( this, arguments );\n\n  this.holes = [];\n\n}\n\nShape.prototype = Object.assign( Object.create( PathPrototype ), {\n\n  constructor: Shape,\n\n  getPointsHoles: function ( divisions ) {\n\n    var holesPts = [];\n\n    for ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n      holesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n    }\n\n    return holesPts;\n\n  },\n\n  // Get points of shape and holes (keypoints based on segments parameter)\n\n  extractAllPoints: function ( divisions ) {\n\n    return {\n\n      shape: this.getPoints( divisions ),\n      holes: this.getPointsHoles( divisions )\n\n    };\n\n  },\n\n  extractPoints: function ( divisions ) {\n\n    return this.extractAllPoints( divisions );\n\n  }\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\n **/\n\nfunction ShapePath() {\n\n  this.subPaths = [];\n  this.currentPath = null;\n\n}\n\nObject.assign( ShapePath.prototype, {\n\n  moveTo: function ( x, y ) {\n\n    this.currentPath = new Path();\n    this.subPaths.push( this.currentPath );\n    this.currentPath.moveTo( x, y );\n\n  },\n\n  lineTo: function ( x, y ) {\n\n    this.currentPath.lineTo( x, y );\n\n  },\n\n  quadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n    this.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n  },\n\n  bezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n    this.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n  },\n\n  splineThru: function ( pts ) {\n\n    this.currentPath.splineThru( pts );\n\n  },\n\n  toShapes: function ( isCCW, noHoles ) {\n\n    function toShapesNoHoles( inSubpaths ) {\n\n      var shapes = [];\n\n      for ( var i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n        var tmpPath = inSubpaths[ i ];\n\n        var tmpShape = new Shape();\n        tmpShape.curves = tmpPath.curves;\n\n        shapes.push( tmpShape );\n\n      }\n\n      return shapes;\n\n    }\n\n    function isPointInsidePolygon( inPt, inPolygon ) {\n\n      var polyLen = inPolygon.length;\n\n      // inPt on polygon contour => immediate success    or\n      // toggling of inside/outside at every single! intersection point of an edge\n      //  with the horizontal line through inPt, left of inPt\n      //  not counting lowerY endpoints of edges and whole edges on that line\n      var inside = false;\n      for ( var p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n        var edgeLowPt  = inPolygon[ p ];\n        var edgeHighPt = inPolygon[ q ];\n\n        var edgeDx = edgeHighPt.x - edgeLowPt.x;\n        var edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n        if ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n          // not parallel\n          if ( edgeDy < 0 ) {\n\n            edgeLowPt  = inPolygon[ q ]; edgeDx = - edgeDx;\n            edgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n          }\n          if ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n          if ( inPt.y === edgeLowPt.y ) {\n\n            if ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n            // continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n          } else {\n\n            var perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n            if ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n            if ( perpEdge < 0 ) \t\t\t\tcontinue;\n            inside = ! inside;\t\t// true intersection left of inPt\n\n          }\n\n        } else {\n\n          // parallel or collinear\n          if ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n          // edge lies on the same horizontal line as inPt\n          if ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n            ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n          // continue;\n\n        }\n\n      }\n\n      return\tinside;\n\n    }\n\n    var isClockWise = ShapeUtils.isClockWise;\n\n    var subPaths = this.subPaths;\n    if ( subPaths.length === 0 ) return [];\n\n    if ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n    var solid, tmpPath, tmpShape, shapes = [];\n\n    if ( subPaths.length === 1 ) {\n\n      tmpPath = subPaths[ 0 ];\n      tmpShape = new Shape();\n      tmpShape.curves = tmpPath.curves;\n      shapes.push( tmpShape );\n      return shapes;\n\n    }\n\n    var holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n    holesFirst = isCCW ? ! holesFirst : holesFirst;\n\n    // console.log(\"Holes first\", holesFirst);\n\n    var betterShapeHoles = [];\n    var newShapes = [];\n    var newShapeHoles = [];\n    var mainIdx = 0;\n    var tmpPoints;\n\n    newShapes[ mainIdx ] = undefined;\n    newShapeHoles[ mainIdx ] = [];\n\n    for ( var i = 0, l = subPaths.length; i < l; i ++ ) {\n\n      tmpPath = subPaths[ i ];\n      tmpPoints = tmpPath.getPoints();\n      solid = isClockWise( tmpPoints );\n      solid = isCCW ? ! solid : solid;\n\n      if ( solid ) {\n\n        if ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n        newShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n        newShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n        if ( holesFirst )\tmainIdx ++;\n        newShapeHoles[ mainIdx ] = [];\n\n        //console.log('cw', i);\n\n      } else {\n\n        newShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n        //console.log('ccw', i);\n\n      }\n\n    }\n\n    // only Holes? -> probably all Shapes with wrong orientation\n    if ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n    if ( newShapes.length > 1 ) {\n\n      var ambiguous = false;\n      var toChange = [];\n\n      for ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n        betterShapeHoles[ sIdx ] = [];\n\n      }\n\n      for ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n        var sho = newShapeHoles[ sIdx ];\n\n        for ( var hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n          var ho = sho[ hIdx ];\n          var hole_unassigned = true;\n\n          for ( var s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n            if ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n              if ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n              if ( hole_unassigned ) {\n\n                hole_unassigned = false;\n                betterShapeHoles[ s2Idx ].push( ho );\n\n              } else {\n\n                ambiguous = true;\n\n              }\n\n            }\n\n          }\n          if ( hole_unassigned ) {\n\n            betterShapeHoles[ sIdx ].push( ho );\n\n          }\n\n        }\n\n      }\n      // console.log(\"ambiguous: \", ambiguous);\n      if ( toChange.length > 0 ) {\n\n        // console.log(\"to change: \", toChange);\n        if ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n      }\n\n    }\n\n    var tmpHoles;\n\n    for ( var i = 0, il = newShapes.length; i < il; i ++ ) {\n\n      tmpShape = newShapes[ i ].s;\n      shapes.push( tmpShape );\n      tmpHoles = newShapeHoles[ i ];\n\n      for ( var j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n        tmpShape.holes.push( tmpHoles[ j ].h );\n\n      }\n\n    }\n\n    //console.log(\"shape\", shapes);\n\n    return shapes;\n\n  }\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Font( data ) {\n\n  this.data = data;\n\n}\n\nObject.assign( Font.prototype, {\n\n  isFont: true,\n\n  generateShapes: function ( text, size, divisions ) {\n\n    function createPaths( text ) {\n\n      var chars = String( text ).split( '' );\n      var scale = size / data.resolution;\n      var line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n      var offsetX = 0, offsetY = 0;\n\n      var paths = [];\n\n      for ( var i = 0; i < chars.length; i ++ ) {\n\n        var char = chars[ i ];\n\n        if ( char === '\\n' ) {\n\n          offsetX = 0;\n          offsetY -= line_height;\n\n        } else {\n\n          var ret = createPath( char, scale, offsetX, offsetY );\n          offsetX += ret.offsetX;\n          paths.push( ret.path );\n\n        }\n\n      }\n\n      return paths;\n\n    }\n\n    function createPath( c, scale, offsetX, offsetY ) {\n\n      var glyph = data.glyphs[ c ] || data.glyphs[ '?' ];\n\n      if ( ! glyph ) return;\n\n      var path = new ShapePath();\n\n      var pts = [];\n      var x, y, cpx, cpy, cpx0, cpy0, cpx1, cpy1, cpx2, cpy2, laste;\n\n      if ( glyph.o ) {\n\n        var outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n        for ( var i = 0, l = outline.length; i < l; ) {\n\n          var action = outline[ i ++ ];\n\n          switch ( action ) {\n\n            case 'm': // moveTo\n\n              x = outline[ i ++ ] * scale + offsetX;\n              y = outline[ i ++ ] * scale + offsetY;\n\n              path.moveTo( x, y );\n\n              break;\n\n            case 'l': // lineTo\n\n              x = outline[ i ++ ] * scale + offsetX;\n              y = outline[ i ++ ] * scale + offsetY;\n\n              path.lineTo( x, y );\n\n              break;\n\n            case 'q': // quadraticCurveTo\n\n              cpx  = outline[ i ++ ] * scale + offsetX;\n              cpy  = outline[ i ++ ] * scale + offsetY;\n              cpx1 = outline[ i ++ ] * scale + offsetX;\n              cpy1 = outline[ i ++ ] * scale + offsetY;\n\n              path.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n              laste = pts[ pts.length - 1 ];\n\n              if ( laste ) {\n\n                cpx0 = laste.x;\n                cpy0 = laste.y;\n\n                for ( var i2 = 1; i2 <= divisions; i2 ++ ) {\n\n                  var t = i2 / divisions;\n                  QuadraticBezier( t, cpx0, cpx1, cpx );\n                  QuadraticBezier( t, cpy0, cpy1, cpy );\n\n                }\n\n              }\n\n              break;\n\n            case 'b': // bezierCurveTo\n\n              cpx  = outline[ i ++ ] * scale + offsetX;\n              cpy  = outline[ i ++ ] * scale + offsetY;\n              cpx1 = outline[ i ++ ] * scale + offsetX;\n              cpy1 = outline[ i ++ ] * scale + offsetY;\n              cpx2 = outline[ i ++ ] * scale + offsetX;\n              cpy2 = outline[ i ++ ] * scale + offsetY;\n\n              path.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n              laste = pts[ pts.length - 1 ];\n\n              if ( laste ) {\n\n                cpx0 = laste.x;\n                cpy0 = laste.y;\n\n                for ( var i2 = 1; i2 <= divisions; i2 ++ ) {\n\n                  var t = i2 / divisions;\n                  CubicBezier( t, cpx0, cpx1, cpx2, cpx );\n                  CubicBezier( t, cpy0, cpy1, cpy2, cpy );\n\n                }\n\n              }\n\n              break;\n\n          }\n\n        }\n\n      }\n\n      return { offsetX: glyph.ha * scale, path: path };\n\n    }\n\n    //\n\n    if ( size === undefined ) size = 100;\n    if ( divisions === undefined ) divisions = 4;\n\n    var data = this.data;\n\n    var paths = createPaths( text );\n    var shapes = [];\n\n    for ( var p = 0, pl = paths.length; p < pl; p ++ ) {\n\n      Array.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n    }\n\n    return shapes;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction FontLoader( manager ) {\n\n  this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( FontLoader.prototype, {\n\n  load: function ( url, onLoad, onProgress, onError ) {\n\n    var scope = this;\n\n    var loader = new FileLoader( this.manager );\n    loader.load( url, function ( text ) {\n\n      var json;\n\n      try {\n\n        json = JSON.parse( text );\n\n      } catch ( e ) {\n\n        console.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n        json = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n      }\n\n      var font = scope.parse( json );\n\n      if ( onLoad ) onLoad( font );\n\n    }, onProgress, onError );\n\n  },\n\n  parse: function ( json ) {\n\n    return new Font( json );\n\n  }\n\n} );\n\nvar context;\n\nvar AudioContext = {\n\n  getContext: function () {\n\n    if ( context === undefined ) {\n\n      context = new ( window.AudioContext || window.webkitAudioContext )();\n\n    }\n\n    return context;\n\n  },\n\n  setContext: function ( value ) {\n\n    context = value;\n\n  }\n\n};\n\n/**\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction AudioLoader( manager ) {\n\n  this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( AudioLoader.prototype, {\n\n  load: function ( url, onLoad, onProgress, onError ) {\n\n    var loader = new FileLoader( this.manager );\n    loader.setResponseType( 'arraybuffer' );\n    loader.load( url, function ( buffer ) {\n\n      var context = AudioContext.getContext();\n\n      context.decodeAudioData( buffer, function ( audioBuffer ) {\n\n        onLoad( audioBuffer );\n\n      } );\n\n    }, onProgress, onError );\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction StereoCamera() {\n\n  this.type = 'StereoCamera';\n\n  this.aspect = 1;\n\n  this.eyeSep = 0.064;\n\n  this.cameraL = new PerspectiveCamera();\n  this.cameraL.layers.enable( 1 );\n  this.cameraL.matrixAutoUpdate = false;\n\n  this.cameraR = new PerspectiveCamera();\n  this.cameraR.layers.enable( 2 );\n  this.cameraR.matrixAutoUpdate = false;\n\n}\n\nObject.assign( StereoCamera.prototype, {\n\n  update: ( function () {\n\n    var instance, focus, fov, aspect, near, far, zoom, eyeSep;\n\n    var eyeRight = new Matrix4();\n    var eyeLeft = new Matrix4();\n\n    return function update( camera ) {\n\n      var needsUpdate = instance !== this || focus !== camera.focus || fov !== camera.fov ||\n        aspect !== camera.aspect * this.aspect || near !== camera.near ||\n        far !== camera.far || zoom !== camera.zoom || eyeSep !== this.eyeSep;\n\n      if ( needsUpdate ) {\n\n        instance = this;\n        focus = camera.focus;\n        fov = camera.fov;\n        aspect = camera.aspect * this.aspect;\n        near = camera.near;\n        far = camera.far;\n        zoom = camera.zoom;\n\n        // Off-axis stereoscopic effect based on\n        // http://paulbourke.net/stereographics/stereorender/\n\n        var projectionMatrix = camera.projectionMatrix.clone();\n        eyeSep = this.eyeSep / 2;\n        var eyeSepOnProjection = eyeSep * near / focus;\n        var ymax = ( near * Math.tan( _Math.DEG2RAD * fov * 0.5 ) ) / zoom;\n        var xmin, xmax;\n\n        // translate xOffset\n\n        eyeLeft.elements[ 12 ] = - eyeSep;\n        eyeRight.elements[ 12 ] = eyeSep;\n\n        // for left eye\n\n        xmin = - ymax * aspect + eyeSepOnProjection;\n        xmax = ymax * aspect + eyeSepOnProjection;\n\n        projectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\n        projectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n        this.cameraL.projectionMatrix.copy( projectionMatrix );\n\n        // for right eye\n\n        xmin = - ymax * aspect - eyeSepOnProjection;\n        xmax = ymax * aspect - eyeSepOnProjection;\n\n        projectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\n        projectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n        this.cameraR.projectionMatrix.copy( projectionMatrix );\n\n      }\n\n      this.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( eyeLeft );\n      this.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( eyeRight );\n\n    };\n\n  } )()\n\n} );\n\n/**\n * Camera for rendering cube maps\n *\t- renders scene into axis-aligned cube\n *\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CubeCamera( near, far, cubeResolution ) {\n\n  Object3D.call( this );\n\n  this.type = 'CubeCamera';\n\n  var fov = 90, aspect = 1;\n\n  var cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n  cameraPX.up.set( 0, - 1, 0 );\n  cameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n  this.add( cameraPX );\n\n  var cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n  cameraNX.up.set( 0, - 1, 0 );\n  cameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n  this.add( cameraNX );\n\n  var cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n  cameraPY.up.set( 0, 0, 1 );\n  cameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n  this.add( cameraPY );\n\n  var cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n  cameraNY.up.set( 0, 0, - 1 );\n  cameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n  this.add( cameraNY );\n\n  var cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n  cameraPZ.up.set( 0, - 1, 0 );\n  cameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n  this.add( cameraPZ );\n\n  var cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n  cameraNZ.up.set( 0, - 1, 0 );\n  cameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n  this.add( cameraNZ );\n\n  var options = { format: RGBFormat, magFilter: LinearFilter, minFilter: LinearFilter };\n\n  this.renderTarget = new WebGLRenderTargetCube( cubeResolution, cubeResolution, options );\n  this.renderTarget.texture.name = \"CubeCamera\";\n\n  this.update = function ( renderer, scene ) {\n\n    if ( this.parent === null ) this.updateMatrixWorld();\n\n    var renderTarget = this.renderTarget;\n    var generateMipmaps = renderTarget.texture.generateMipmaps;\n\n    renderTarget.texture.generateMipmaps = false;\n\n    renderTarget.activeCubeFace = 0;\n    renderer.render( scene, cameraPX, renderTarget );\n\n    renderTarget.activeCubeFace = 1;\n    renderer.render( scene, cameraNX, renderTarget );\n\n    renderTarget.activeCubeFace = 2;\n    renderer.render( scene, cameraPY, renderTarget );\n\n    renderTarget.activeCubeFace = 3;\n    renderer.render( scene, cameraNY, renderTarget );\n\n    renderTarget.activeCubeFace = 4;\n    renderer.render( scene, cameraPZ, renderTarget );\n\n    renderTarget.texture.generateMipmaps = generateMipmaps;\n\n    renderTarget.activeCubeFace = 5;\n    renderer.render( scene, cameraNZ, renderTarget );\n\n    renderer.setRenderTarget( null );\n\n  };\n\n  this.clear = function ( renderer, color, depth, stencil ) {\n\n    var renderTarget = this.renderTarget;\n\n    for ( var i = 0; i < 6; i ++ ) {\n\n      renderTarget.activeCubeFace = i;\n      renderer.setRenderTarget( renderTarget );\n\n      renderer.clear( color, depth, stencil );\n\n    }\n\n    renderer.setRenderTarget( null );\n\n  };\n\n}\n\nCubeCamera.prototype = Object.create( Object3D.prototype );\nCubeCamera.prototype.constructor = CubeCamera;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioListener() {\n\n  Object3D.call( this );\n\n  this.type = 'AudioListener';\n\n  this.context = AudioContext.getContext();\n\n  this.gain = this.context.createGain();\n  this.gain.connect( this.context.destination );\n\n  this.filter = null;\n\n}\n\nAudioListener.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n  constructor: AudioListener,\n\n  getInput: function () {\n\n    return this.gain;\n\n  },\n\n  removeFilter: function ( ) {\n\n    if ( this.filter !== null ) {\n\n      this.gain.disconnect( this.filter );\n      this.filter.disconnect( this.context.destination );\n      this.gain.connect( this.context.destination );\n      this.filter = null;\n\n    }\n\n  },\n\n  getFilter: function () {\n\n    return this.filter;\n\n  },\n\n  setFilter: function ( value ) {\n\n    if ( this.filter !== null ) {\n\n      this.gain.disconnect( this.filter );\n      this.filter.disconnect( this.context.destination );\n\n    } else {\n\n      this.gain.disconnect( this.context.destination );\n\n    }\n\n    this.filter = value;\n    this.gain.connect( this.filter );\n    this.filter.connect( this.context.destination );\n\n  },\n\n  getMasterVolume: function () {\n\n    return this.gain.gain.value;\n\n  },\n\n  setMasterVolume: function ( value ) {\n\n    this.gain.gain.value = value;\n\n  },\n\n  updateMatrixWorld: ( function () {\n\n    var position = new Vector3();\n    var quaternion = new Quaternion();\n    var scale = new Vector3();\n\n    var orientation = new Vector3();\n\n    return function updateMatrixWorld( force ) {\n\n      Object3D.prototype.updateMatrixWorld.call( this, force );\n\n      var listener = this.context.listener;\n      var up = this.up;\n\n      this.matrixWorld.decompose( position, quaternion, scale );\n\n      orientation.set( 0, 0, - 1 ).applyQuaternion( quaternion );\n\n      if ( listener.positionX ) {\n\n        listener.positionX.setValueAtTime( position.x, this.context.currentTime );\n        listener.positionY.setValueAtTime( position.y, this.context.currentTime );\n        listener.positionZ.setValueAtTime( position.z, this.context.currentTime );\n        listener.forwardX.setValueAtTime( orientation.x, this.context.currentTime );\n        listener.forwardY.setValueAtTime( orientation.y, this.context.currentTime );\n        listener.forwardZ.setValueAtTime( orientation.z, this.context.currentTime );\n        listener.upX.setValueAtTime( up.x, this.context.currentTime );\n        listener.upY.setValueAtTime( up.y, this.context.currentTime );\n        listener.upZ.setValueAtTime( up.z, this.context.currentTime );\n\n      } else {\n\n        listener.setPosition( position.x, position.y, position.z );\n        listener.setOrientation( orientation.x, orientation.y, orientation.z, up.x, up.y, up.z );\n\n      }\n\n    };\n\n  } )()\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction Audio( listener ) {\n\n  Object3D.call( this );\n\n  this.type = 'Audio';\n\n  this.context = listener.context;\n\n  this.gain = this.context.createGain();\n  this.gain.connect( listener.getInput() );\n\n  this.autoplay = false;\n\n  this.buffer = null;\n  this.loop = false;\n  this.startTime = 0;\n  this.playbackRate = 1;\n  this.isPlaying = false;\n  this.hasPlaybackControl = true;\n  this.sourceType = 'empty';\n\n  this.filters = [];\n\n}\n\nAudio.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n  constructor: Audio,\n\n  getOutput: function () {\n\n    return this.gain;\n\n  },\n\n  setNodeSource: function ( audioNode ) {\n\n    this.hasPlaybackControl = false;\n    this.sourceType = 'audioNode';\n    this.source = audioNode;\n    this.connect();\n\n    return this;\n\n  },\n\n  setBuffer: function ( audioBuffer ) {\n\n    this.buffer = audioBuffer;\n    this.sourceType = 'buffer';\n\n    if ( this.autoplay ) this.play();\n\n    return this;\n\n  },\n\n  play: function () {\n\n    if ( this.isPlaying === true ) {\n\n      console.warn( 'THREE.Audio: Audio is already playing.' );\n      return;\n\n    }\n\n    if ( this.hasPlaybackControl === false ) {\n\n      console.warn( 'THREE.Audio: this Audio has no playback control.' );\n      return;\n\n    }\n\n    var source = this.context.createBufferSource();\n\n    source.buffer = this.buffer;\n    source.loop = this.loop;\n    source.onended = this.onEnded.bind( this );\n    source.playbackRate.setValueAtTime( this.playbackRate, this.startTime );\n    source.start( 0, this.startTime );\n\n    this.isPlaying = true;\n\n    this.source = source;\n\n    return this.connect();\n\n  },\n\n  pause: function () {\n\n    if ( this.hasPlaybackControl === false ) {\n\n      console.warn( 'THREE.Audio: this Audio has no playback control.' );\n      return;\n\n    }\n\n    this.source.stop();\n    this.startTime = this.context.currentTime;\n    this.isPlaying = false;\n\n    return this;\n\n  },\n\n  stop: function () {\n\n    if ( this.hasPlaybackControl === false ) {\n\n      console.warn( 'THREE.Audio: this Audio has no playback control.' );\n      return;\n\n    }\n\n    this.source.stop();\n    this.startTime = 0;\n    this.isPlaying = false;\n\n    return this;\n\n  },\n\n  connect: function () {\n\n    if ( this.filters.length > 0 ) {\n\n      this.source.connect( this.filters[ 0 ] );\n\n      for ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n        this.filters[ i - 1 ].connect( this.filters[ i ] );\n\n      }\n\n      this.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n    } else {\n\n      this.source.connect( this.getOutput() );\n\n    }\n\n    return this;\n\n  },\n\n  disconnect: function () {\n\n    if ( this.filters.length > 0 ) {\n\n      this.source.disconnect( this.filters[ 0 ] );\n\n      for ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n        this.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n      }\n\n      this.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n    } else {\n\n      this.source.disconnect( this.getOutput() );\n\n    }\n\n    return this;\n\n  },\n\n  getFilters: function () {\n\n    return this.filters;\n\n  },\n\n  setFilters: function ( value ) {\n\n    if ( ! value ) value = [];\n\n    if ( this.isPlaying === true ) {\n\n      this.disconnect();\n      this.filters = value;\n      this.connect();\n\n    } else {\n\n      this.filters = value;\n\n    }\n\n    return this;\n\n  },\n\n  getFilter: function () {\n\n    return this.getFilters()[ 0 ];\n\n  },\n\n  setFilter: function ( filter ) {\n\n    return this.setFilters( filter ? [ filter ] : [] );\n\n  },\n\n  setPlaybackRate: function ( value ) {\n\n    if ( this.hasPlaybackControl === false ) {\n\n      console.warn( 'THREE.Audio: this Audio has no playback control.' );\n      return;\n\n    }\n\n    this.playbackRate = value;\n\n    if ( this.isPlaying === true ) {\n\n      this.source.playbackRate.setValueAtTime( this.playbackRate, this.context.currentTime );\n\n    }\n\n    return this;\n\n  },\n\n  getPlaybackRate: function () {\n\n    return this.playbackRate;\n\n  },\n\n  onEnded: function () {\n\n    this.isPlaying = false;\n\n  },\n\n  getLoop: function () {\n\n    if ( this.hasPlaybackControl === false ) {\n\n      console.warn( 'THREE.Audio: this Audio has no playback control.' );\n      return false;\n\n    }\n\n    return this.loop;\n\n  },\n\n  setLoop: function ( value ) {\n\n    if ( this.hasPlaybackControl === false ) {\n\n      console.warn( 'THREE.Audio: this Audio has no playback control.' );\n      return;\n\n    }\n\n    this.loop = value;\n\n    if ( this.isPlaying === true ) {\n\n      this.source.loop = this.loop;\n\n    }\n\n    return this;\n\n  },\n\n  getVolume: function () {\n\n    return this.gain.gain.value;\n\n  },\n\n  setVolume: function ( value ) {\n\n    this.gain.gain.value = value;\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PositionalAudio( listener ) {\n\n  Audio.call( this, listener );\n\n  this.panner = this.context.createPanner();\n  this.panner.connect( this.gain );\n\n}\n\nPositionalAudio.prototype = Object.assign( Object.create( Audio.prototype ), {\n\n  constructor: PositionalAudio,\n\n  getOutput: function () {\n\n    return this.panner;\n\n  },\n\n  getRefDistance: function () {\n\n    return this.panner.refDistance;\n\n  },\n\n  setRefDistance: function ( value ) {\n\n    this.panner.refDistance = value;\n\n  },\n\n  getRolloffFactor: function () {\n\n    return this.panner.rolloffFactor;\n\n  },\n\n  setRolloffFactor: function ( value ) {\n\n    this.panner.rolloffFactor = value;\n\n  },\n\n  getDistanceModel: function () {\n\n    return this.panner.distanceModel;\n\n  },\n\n  setDistanceModel: function ( value ) {\n\n    this.panner.distanceModel = value;\n\n  },\n\n  getMaxDistance: function () {\n\n    return this.panner.maxDistance;\n\n  },\n\n  setMaxDistance: function ( value ) {\n\n    this.panner.maxDistance = value;\n\n  },\n\n  updateMatrixWorld: ( function () {\n\n    var position = new Vector3();\n\n    return function updateMatrixWorld( force ) {\n\n      Object3D.prototype.updateMatrixWorld.call( this, force );\n\n      position.setFromMatrixPosition( this.matrixWorld );\n\n      this.panner.setPosition( position.x, position.y, position.z );\n\n    };\n\n  } )()\n\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioAnalyser( audio, fftSize ) {\n\n  this.analyser = audio.context.createAnalyser();\n  this.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n\n  this.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n  audio.getOutput().connect( this.analyser );\n\n}\n\nObject.assign( AudioAnalyser.prototype, {\n\n  getFrequencyData: function () {\n\n    this.analyser.getByteFrequencyData( this.data );\n\n    return this.data;\n\n  },\n\n  getAverageFrequency: function () {\n\n    var value = 0, data = this.getFrequencyData();\n\n    for ( var i = 0; i < data.length; i ++ ) {\n\n      value += data[ i ];\n\n    }\n\n    return value / data.length;\n\n  }\n\n} );\n\n/**\n *\n * Buffered scene graph property that allows weighted accumulation.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction PropertyMixer( binding, typeName, valueSize ) {\n\n  this.binding = binding;\n  this.valueSize = valueSize;\n\n  var bufferType = Float64Array,\n    mixFunction;\n\n  switch ( typeName ) {\n\n    case 'quaternion':\n      mixFunction = this._slerp;\n      break;\n\n    case 'string':\n    case 'bool':\n      bufferType = Array;\n      mixFunction = this._select;\n      break;\n\n    default:\n      mixFunction = this._lerp;\n\n  }\n\n  this.buffer = new bufferType( valueSize * 4 );\n  // layout: [ incoming | accu0 | accu1 | orig ]\n  //\n  // interpolators can use .buffer as their .result\n  // the data then goes to 'incoming'\n  //\n  // 'accu0' and 'accu1' are used frame-interleaved for\n  // the cumulative result and are compared to detect\n  // changes\n  //\n  // 'orig' stores the original state of the property\n\n  this._mixBufferRegion = mixFunction;\n\n  this.cumulativeWeight = 0;\n\n  this.useCount = 0;\n  this.referenceCount = 0;\n\n}\n\nObject.assign( PropertyMixer.prototype, {\n\n  // accumulate data in the 'incoming' region into 'accu<i>'\n  accumulate: function ( accuIndex, weight ) {\n\n    // note: happily accumulating nothing when weight = 0, the caller knows\n    // the weight and shouldn't have made the call in the first place\n\n    var buffer = this.buffer,\n      stride = this.valueSize,\n      offset = accuIndex * stride + stride,\n\n      currentWeight = this.cumulativeWeight;\n\n    if ( currentWeight === 0 ) {\n\n      // accuN := incoming * weight\n\n      for ( var i = 0; i !== stride; ++ i ) {\n\n        buffer[ offset + i ] = buffer[ i ];\n\n      }\n\n      currentWeight = weight;\n\n    } else {\n\n      // accuN := accuN + incoming * weight\n\n      currentWeight += weight;\n      var mix = weight / currentWeight;\n      this._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n    }\n\n    this.cumulativeWeight = currentWeight;\n\n  },\n\n  // apply the state of 'accu<i>' to the binding when accus differ\n  apply: function ( accuIndex ) {\n\n    var stride = this.valueSize,\n      buffer = this.buffer,\n      offset = accuIndex * stride + stride,\n\n      weight = this.cumulativeWeight,\n\n      binding = this.binding;\n\n    this.cumulativeWeight = 0;\n\n    if ( weight < 1 ) {\n\n      // accuN := accuN + original * ( 1 - cumulativeWeight )\n\n      var originalValueOffset = stride * 3;\n\n      this._mixBufferRegion(\n        buffer, offset, originalValueOffset, 1 - weight, stride );\n\n    }\n\n    for ( var i = stride, e = stride + stride; i !== e; ++ i ) {\n\n      if ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n        // value has changed -> update scene graph\n\n        binding.setValue( buffer, offset );\n        break;\n\n      }\n\n    }\n\n  },\n\n  // remember the state of the bound property and copy it to both accus\n  saveOriginalState: function () {\n\n    var binding = this.binding;\n\n    var buffer = this.buffer,\n      stride = this.valueSize,\n\n      originalValueOffset = stride * 3;\n\n    binding.getValue( buffer, originalValueOffset );\n\n    // accu[0..1] := orig -- initially detect changes against the original\n    for ( var i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n      buffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n    }\n\n    this.cumulativeWeight = 0;\n\n  },\n\n  // apply the state previously taken via 'saveOriginalState' to the binding\n  restoreOriginalState: function () {\n\n    var originalValueOffset = this.valueSize * 3;\n    this.binding.setValue( this.buffer, originalValueOffset );\n\n  },\n\n\n  // mix functions\n\n  _select: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n    if ( t >= 0.5 ) {\n\n      for ( var i = 0; i !== stride; ++ i ) {\n\n        buffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n      }\n\n    }\n\n  },\n\n  _slerp: function ( buffer, dstOffset, srcOffset, t ) {\n\n    Quaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n  },\n\n  _lerp: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n    var s = 1 - t;\n\n    for ( var i = 0; i !== stride; ++ i ) {\n\n      var j = dstOffset + i;\n\n      buffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n    }\n\n  }\n\n} );\n\n/**\n *\n * A reference to a real property in the scene graph.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction Composite( targetGroup, path, optionalParsedPath ) {\n\n  var parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n  this._targetGroup = targetGroup;\n  this._bindings = targetGroup.subscribe_( path, parsedPath );\n\n}\n\nObject.assign( Composite.prototype, {\n\n  getValue: function ( array, offset ) {\n\n    this.bind(); // bind all binding\n\n    var firstValidIndex = this._targetGroup.nCachedObjects_,\n      binding = this._bindings[ firstValidIndex ];\n\n    // and only call .getValue on the first\n    if ( binding !== undefined ) binding.getValue( array, offset );\n\n  },\n\n  setValue: function ( array, offset ) {\n\n    var bindings = this._bindings;\n\n    for ( var i = this._targetGroup.nCachedObjects_,\n            n = bindings.length; i !== n; ++ i ) {\n\n      bindings[ i ].setValue( array, offset );\n\n    }\n\n  },\n\n  bind: function () {\n\n    var bindings = this._bindings;\n\n    for ( var i = this._targetGroup.nCachedObjects_,\n            n = bindings.length; i !== n; ++ i ) {\n\n      bindings[ i ].bind();\n\n    }\n\n  },\n\n  unbind: function () {\n\n    var bindings = this._bindings;\n\n    for ( var i = this._targetGroup.nCachedObjects_,\n            n = bindings.length; i !== n; ++ i ) {\n\n      bindings[ i ].unbind();\n\n    }\n\n  }\n\n} );\n\n\nfunction PropertyBinding( rootNode, path, parsedPath ) {\n\n  this.path = path;\n  this.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n  this.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n  this.rootNode = rootNode;\n\n}\n\nObject.assign( PropertyBinding, {\n\n  Composite: Composite,\n\n  create: function ( root, path, parsedPath ) {\n\n    if ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n      return new PropertyBinding( root, path, parsedPath );\n\n    } else {\n\n      return new PropertyBinding.Composite( root, path, parsedPath );\n\n    }\n\n  },\n\n  /**\n   * Replaces spaces with underscores and removes unsupported characters from\n   * node names, to ensure compatibility with parseTrackName().\n   *\n   * @param  {string} name Node name to be sanitized.\n   * @return {string}\n   */\n  sanitizeNodeName: function ( name ) {\n\n    return name.replace( /\\s/g, '_' ).replace( /[^\\w-]/g, '' );\n\n  },\n\n  parseTrackName: function () {\n\n    // Parent directories, delimited by '/' or ':'. Currently unused, but must\n    // be matched to parse the rest of the track name.\n    var directoryRe = /((?:[\\w-]+[\\/:])*)/;\n\n    // Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\n    var nodeRe = /([\\w-\\.]+)?/;\n\n    // Object on target node, and accessor. Name may contain only word\n    // characters. Accessor may contain any character except closing bracket.\n    var objectRe = /(?:\\.([\\w-]+)(?:\\[(.+)\\])?)?/;\n\n    // Property and accessor. May contain only word characters. Accessor may\n    // contain any non-bracket characters.\n    var propertyRe = /\\.([\\w-]+)(?:\\[(.+)\\])?/;\n\n    var trackRe = new RegExp(''\n      + '^'\n      + directoryRe.source\n      + nodeRe.source\n      + objectRe.source\n      + propertyRe.source\n      + '$'\n    );\n\n    var supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\n    return function ( trackName ) {\n\n      var matches = trackRe.exec( trackName );\n\n      if ( ! matches ) {\n\n        throw new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n      }\n\n      var results = {\n        // directoryName: matches[ 1 ], // (tschw) currently unused\n        nodeName: matches[ 2 ],\n        objectName: matches[ 3 ],\n        objectIndex: matches[ 4 ],\n        propertyName: matches[ 5 ],     // required\n        propertyIndex: matches[ 6 ]\n      };\n\n      var lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n      if ( lastDot !== undefined && lastDot !== -1 ) {\n\n        var objectName = results.nodeName.substring( lastDot + 1 );\n\n        // Object names must be checked against a whitelist. Otherwise, there\n        // is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n        // 'bar' could be the objectName, or part of a nodeName (which can\n        // include '.' characters).\n        if ( supportedObjectNames.indexOf( objectName ) !== -1 ) {\n\n          results.nodeName = results.nodeName.substring( 0, lastDot );\n          results.objectName = objectName;\n\n        }\n\n      }\n\n      if ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n        throw new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n      }\n\n      return results;\n\n    };\n\n  }(),\n\n  findNode: function ( root, nodeName ) {\n\n    if ( ! nodeName || nodeName === \"\" || nodeName === \"root\" || nodeName === \".\" || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n      return root;\n\n    }\n\n    // search into skeleton bones.\n    if ( root.skeleton ) {\n\n      var searchSkeleton = function ( skeleton ) {\n\n        for ( var i = 0; i < skeleton.bones.length; i ++ ) {\n\n          var bone = skeleton.bones[ i ];\n\n          if ( bone.name === nodeName ) {\n\n            return bone;\n\n          }\n\n        }\n\n        return null;\n\n      };\n\n      var bone = searchSkeleton( root.skeleton );\n\n      if ( bone ) {\n\n        return bone;\n\n      }\n\n    }\n\n    // search into node subtree.\n    if ( root.children ) {\n\n      var searchNodeSubtree = function ( children ) {\n\n        for ( var i = 0; i < children.length; i ++ ) {\n\n          var childNode = children[ i ];\n\n          if ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n            return childNode;\n\n          }\n\n          var result = searchNodeSubtree( childNode.children );\n\n          if ( result ) return result;\n\n        }\n\n        return null;\n\n      };\n\n      var subTreeNode = searchNodeSubtree( root.children );\n\n      if ( subTreeNode ) {\n\n        return subTreeNode;\n\n      }\n\n    }\n\n    return null;\n\n  }\n\n} );\n\nObject.assign( PropertyBinding.prototype, { // prototype, continued\n\n  // these are used to \"bind\" a nonexistent property\n  _getValue_unavailable: function () {},\n  _setValue_unavailable: function () {},\n\n  BindingType: {\n    Direct: 0,\n    EntireArray: 1,\n    ArrayElement: 2,\n    HasFromToArray: 3\n  },\n\n  Versioning: {\n    None: 0,\n    NeedsUpdate: 1,\n    MatrixWorldNeedsUpdate: 2\n  },\n\n  GetterByBindingType: [\n\n    function getValue_direct( buffer, offset ) {\n\n      buffer[ offset ] = this.node[ this.propertyName ];\n\n    },\n\n    function getValue_array( buffer, offset ) {\n\n      var source = this.resolvedProperty;\n\n      for ( var i = 0, n = source.length; i !== n; ++ i ) {\n\n        buffer[ offset ++ ] = source[ i ];\n\n      }\n\n    },\n\n    function getValue_arrayElement( buffer, offset ) {\n\n      buffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n    },\n\n    function getValue_toArray( buffer, offset ) {\n\n      this.resolvedProperty.toArray( buffer, offset );\n\n    }\n\n  ],\n\n  SetterByBindingTypeAndVersioning: [\n\n    [\n      // Direct\n\n      function setValue_direct( buffer, offset ) {\n\n        this.node[ this.propertyName ] = buffer[ offset ];\n\n      },\n\n      function setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n        this.node[ this.propertyName ] = buffer[ offset ];\n        this.targetObject.needsUpdate = true;\n\n      },\n\n      function setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n        this.node[ this.propertyName ] = buffer[ offset ];\n        this.targetObject.matrixWorldNeedsUpdate = true;\n\n      }\n\n    ], [\n\n      // EntireArray\n\n      function setValue_array( buffer, offset ) {\n\n        var dest = this.resolvedProperty;\n\n        for ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n          dest[ i ] = buffer[ offset ++ ];\n\n        }\n\n      },\n\n      function setValue_array_setNeedsUpdate( buffer, offset ) {\n\n        var dest = this.resolvedProperty;\n\n        for ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n          dest[ i ] = buffer[ offset ++ ];\n\n        }\n\n        this.targetObject.needsUpdate = true;\n\n      },\n\n      function setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n        var dest = this.resolvedProperty;\n\n        for ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n          dest[ i ] = buffer[ offset ++ ];\n\n        }\n\n        this.targetObject.matrixWorldNeedsUpdate = true;\n\n      }\n\n    ], [\n\n      // ArrayElement\n\n      function setValue_arrayElement( buffer, offset ) {\n\n        this.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n      },\n\n      function setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n        this.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n        this.targetObject.needsUpdate = true;\n\n      },\n\n      function setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n        this.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n        this.targetObject.matrixWorldNeedsUpdate = true;\n\n      }\n\n    ], [\n\n      // HasToFromArray\n\n      function setValue_fromArray( buffer, offset ) {\n\n        this.resolvedProperty.fromArray( buffer, offset );\n\n      },\n\n      function setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n        this.resolvedProperty.fromArray( buffer, offset );\n        this.targetObject.needsUpdate = true;\n\n      },\n\n      function setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n        this.resolvedProperty.fromArray( buffer, offset );\n        this.targetObject.matrixWorldNeedsUpdate = true;\n\n      }\n\n    ]\n\n  ],\n\n  getValue: function getValue_unbound( targetArray, offset ) {\n\n    this.bind();\n    this.getValue( targetArray, offset );\n\n    // Note: This class uses a State pattern on a per-method basis:\n    // 'bind' sets 'this.getValue' / 'setValue' and shadows the\n    // prototype version of these methods with one that represents\n    // the bound state. When the property is not found, the methods\n    // become no-ops.\n\n  },\n\n  setValue: function getValue_unbound( sourceArray, offset ) {\n\n    this.bind();\n    this.setValue( sourceArray, offset );\n\n  },\n\n  // create getter / setter pair for a property in the scene graph\n  bind: function () {\n\n    var targetObject = this.node,\n      parsedPath = this.parsedPath,\n\n      objectName = parsedPath.objectName,\n      propertyName = parsedPath.propertyName,\n      propertyIndex = parsedPath.propertyIndex;\n\n    if ( ! targetObject ) {\n\n      targetObject = PropertyBinding.findNode(\n          this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n      this.node = targetObject;\n\n    }\n\n    // set fail state so we can just 'return' on error\n    this.getValue = this._getValue_unavailable;\n    this.setValue = this._setValue_unavailable;\n\n    // ensure there is a value node\n    if ( ! targetObject ) {\n\n      console.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n      return;\n\n    }\n\n    if ( objectName ) {\n\n      var objectIndex = parsedPath.objectIndex;\n\n      // special cases were we need to reach deeper into the hierarchy to get the face materials....\n      switch ( objectName ) {\n\n        case 'materials':\n\n          if ( ! targetObject.material ) {\n\n            console.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n            return;\n\n          }\n\n          if ( ! targetObject.material.materials ) {\n\n            console.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n            return;\n\n          }\n\n          targetObject = targetObject.material.materials;\n\n          break;\n\n        case 'bones':\n\n          if ( ! targetObject.skeleton ) {\n\n            console.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n            return;\n\n          }\n\n          // potential future optimization: skip this if propertyIndex is already an integer\n          // and convert the integer string to a true integer.\n\n          targetObject = targetObject.skeleton.bones;\n\n          // support resolving morphTarget names into indices.\n          for ( var i = 0; i < targetObject.length; i ++ ) {\n\n            if ( targetObject[ i ].name === objectIndex ) {\n\n              objectIndex = i;\n              break;\n\n            }\n\n          }\n\n          break;\n\n        default:\n\n          if ( targetObject[ objectName ] === undefined ) {\n\n            console.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n            return;\n\n          }\n\n          targetObject = targetObject[ objectName ];\n\n      }\n\n\n      if ( objectIndex !== undefined ) {\n\n        if ( targetObject[ objectIndex ] === undefined ) {\n\n          console.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n          return;\n\n        }\n\n        targetObject = targetObject[ objectIndex ];\n\n      }\n\n    }\n\n    // resolve property\n    var nodeProperty = targetObject[ propertyName ];\n\n    if ( nodeProperty === undefined ) {\n\n      var nodeName = parsedPath.nodeName;\n\n      console.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n        '.' + propertyName + ' but it wasn\\'t found.', targetObject );\n      return;\n\n    }\n\n    // determine versioning scheme\n    var versioning = this.Versioning.None;\n\n    if ( targetObject.needsUpdate !== undefined ) { // material\n\n      versioning = this.Versioning.NeedsUpdate;\n      this.targetObject = targetObject;\n\n    } else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n      versioning = this.Versioning.MatrixWorldNeedsUpdate;\n      this.targetObject = targetObject;\n\n    }\n\n    // determine how the property gets bound\n    var bindingType = this.BindingType.Direct;\n\n    if ( propertyIndex !== undefined ) {\n\n      // access a sub element of the property array (only primitives are supported right now)\n\n      if ( propertyName === \"morphTargetInfluences\" ) {\n\n        // potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n        // support resolving morphTarget names into indices.\n        if ( ! targetObject.geometry ) {\n\n          console.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n          return;\n\n        }\n\n        if ( targetObject.geometry.isBufferGeometry ) {\n\n          if ( ! targetObject.geometry.morphAttributes ) {\n\n            console.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n            return;\n\n          }\n\n          for ( var i = 0; i < this.node.geometry.morphAttributes.position.length; i ++ ) {\n\n            if ( targetObject.geometry.morphAttributes.position[ i ].name === propertyIndex ) {\n\n              propertyIndex = i;\n              break;\n\n            }\n\n          }\n\n\n        } else {\n\n          if ( ! targetObject.geometry.morphTargets ) {\n\n            console.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.', this );\n            return;\n\n          }\n\n          for ( var i = 0; i < this.node.geometry.morphTargets.length; i ++ ) {\n\n            if ( targetObject.geometry.morphTargets[ i ].name === propertyIndex ) {\n\n              propertyIndex = i;\n              break;\n\n            }\n\n          }\n\n        }\n\n      }\n\n      bindingType = this.BindingType.ArrayElement;\n\n      this.resolvedProperty = nodeProperty;\n      this.propertyIndex = propertyIndex;\n\n    } else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n      // must use copy for Object3D.Euler/Quaternion\n\n      bindingType = this.BindingType.HasFromToArray;\n\n      this.resolvedProperty = nodeProperty;\n\n    } else if ( Array.isArray( nodeProperty ) ) {\n\n      bindingType = this.BindingType.EntireArray;\n\n      this.resolvedProperty = nodeProperty;\n\n    } else {\n\n      this.propertyName = propertyName;\n\n    }\n\n    // select getter / setter\n    this.getValue = this.GetterByBindingType[ bindingType ];\n    this.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n  },\n\n  unbind: function () {\n\n    this.node = null;\n\n    // back to the prototype version of getValue / setValue\n    // note: avoiding to mutate the shape of 'this' via 'delete'\n    this.getValue = this._getValue_unbound;\n    this.setValue = this._setValue_unbound;\n\n  }\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( PropertyBinding.prototype, {\n\n  // initial state of these methods that calls 'bind'\n  _getValue_unbound: PropertyBinding.prototype.getValue,\n  _setValue_unbound: PropertyBinding.prototype.setValue,\n\n} );\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n * \t-\tAdd objects you would otherwise pass as 'root' to the\n * \t\tconstructor or the .clipAction method of AnimationMixer.\n *\n * \t-\tInstead pass this object as 'root'.\n *\n * \t-\tYou can also add and remove objects later when the mixer\n * \t\tis running.\n *\n * Note:\n *\n *  \tObjects of this class appear as one object to the mixer,\n *  \tso cache control of the individual objects must be done\n *  \ton the group.\n *\n * Limitation:\n *\n * \t- \tThe animated properties must be compatible among the\n * \t\tall objects in the group.\n *\n *  -\tA single property can either be controlled through a\n *  \ttarget group or directly, but not both.\n *\n * @author tschw\n */\n\nfunction AnimationObjectGroup( var_args ) {\n\n  this.uuid = _Math.generateUUID();\n\n  // cached objects followed by the active ones\n  this._objects = Array.prototype.slice.call( arguments );\n\n  this.nCachedObjects_ = 0;\t\t\t// threshold\n  // note: read by PropertyBinding.Composite\n\n  var indices = {};\n  this._indicesByUUID = indices;\t\t// for bookkeeping\n\n  for ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n    indices[ arguments[ i ].uuid ] = i;\n\n  }\n\n  this._paths = [];\t\t\t\t\t// inside: string\n  this._parsedPaths = [];\t\t\t\t// inside: { we don't care, here }\n  this._bindings = []; \t\t\t\t// inside: Array< PropertyBinding >\n  this._bindingsIndicesByPath = {}; \t// inside: indices in these arrays\n\n  var scope = this;\n\n  this.stats = {\n\n    objects: {\n      get total() { return scope._objects.length; },\n      get inUse() { return this.total - scope.nCachedObjects_; }\n    },\n\n    get bindingsPerObject() { return scope._bindings.length; }\n\n  };\n\n}\n\nObject.assign( AnimationObjectGroup.prototype, {\n\n  isAnimationObjectGroup: true,\n\n  add: function( var_args ) {\n\n    var objects = this._objects,\n      nObjects = objects.length,\n      nCachedObjects = this.nCachedObjects_,\n      indicesByUUID = this._indicesByUUID,\n      paths = this._paths,\n      parsedPaths = this._parsedPaths,\n      bindings = this._bindings,\n      nBindings = bindings.length;\n\n    for ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n      var object = arguments[ i ],\n        uuid = object.uuid,\n        index = indicesByUUID[ uuid ],\n        knownObject = undefined;\n\n      if ( index === undefined ) {\n\n        // unknown object -> add it to the ACTIVE region\n\n        index = nObjects ++;\n        indicesByUUID[ uuid ] = index;\n        objects.push( object );\n\n        // accounting is done, now do the same for all bindings\n\n        for ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n          bindings[ j ].push(\n            new PropertyBinding(\n              object, paths[ j ], parsedPaths[ j ] ) );\n\n        }\n\n      } else if ( index < nCachedObjects ) {\n\n        knownObject = objects[ index ];\n\n        // move existing object to the ACTIVE region\n\n        var firstActiveIndex = -- nCachedObjects,\n          lastCachedObject = objects[ firstActiveIndex ];\n\n        indicesByUUID[ lastCachedObject.uuid ] = index;\n        objects[ index ] = lastCachedObject;\n\n        indicesByUUID[ uuid ] = firstActiveIndex;\n        objects[ firstActiveIndex ] = object;\n\n        // accounting is done, now do the same for all bindings\n\n        for ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n          var bindingsForPath = bindings[ j ],\n            lastCached = bindingsForPath[ firstActiveIndex ],\n            binding = bindingsForPath[ index ];\n\n          bindingsForPath[ index ] = lastCached;\n\n          if ( binding === undefined ) {\n\n            // since we do not bother to create new bindings\n            // for objects that are cached, the binding may\n            // or may not exist\n\n            binding = new PropertyBinding(\n              object, paths[ j ], parsedPaths[ j ] );\n\n          }\n\n          bindingsForPath[ firstActiveIndex ] = binding;\n\n        }\n\n      } else if ( objects[ index ] !== knownObject ) {\n\n        console.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n          'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n      } // else the object is already where we want it to be\n\n    } // for arguments\n\n    this.nCachedObjects_ = nCachedObjects;\n\n  },\n\n  remove: function( var_args ) {\n\n    var objects = this._objects,\n      nCachedObjects = this.nCachedObjects_,\n      indicesByUUID = this._indicesByUUID,\n      bindings = this._bindings,\n      nBindings = bindings.length;\n\n    for ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n      var object = arguments[ i ],\n        uuid = object.uuid,\n        index = indicesByUUID[ uuid ];\n\n      if ( index !== undefined && index >= nCachedObjects ) {\n\n        // move existing object into the CACHED region\n\n        var lastCachedIndex = nCachedObjects ++,\n          firstActiveObject = objects[ lastCachedIndex ];\n\n        indicesByUUID[ firstActiveObject.uuid ] = index;\n        objects[ index ] = firstActiveObject;\n\n        indicesByUUID[ uuid ] = lastCachedIndex;\n        objects[ lastCachedIndex ] = object;\n\n        // accounting is done, now do the same for all bindings\n\n        for ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n          var bindingsForPath = bindings[ j ],\n            firstActive = bindingsForPath[ lastCachedIndex ],\n            binding = bindingsForPath[ index ];\n\n          bindingsForPath[ index ] = firstActive;\n          bindingsForPath[ lastCachedIndex ] = binding;\n\n        }\n\n      }\n\n    } // for arguments\n\n    this.nCachedObjects_ = nCachedObjects;\n\n  },\n\n  // remove & forget\n  uncache: function( var_args ) {\n\n    var objects = this._objects,\n      nObjects = objects.length,\n      nCachedObjects = this.nCachedObjects_,\n      indicesByUUID = this._indicesByUUID,\n      bindings = this._bindings,\n      nBindings = bindings.length;\n\n    for ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n      var object = arguments[ i ],\n        uuid = object.uuid,\n        index = indicesByUUID[ uuid ];\n\n      if ( index !== undefined ) {\n\n        delete indicesByUUID[ uuid ];\n\n        if ( index < nCachedObjects ) {\n\n          // object is cached, shrink the CACHED region\n\n          var firstActiveIndex = -- nCachedObjects,\n            lastCachedObject = objects[ firstActiveIndex ],\n            lastIndex = -- nObjects,\n            lastObject = objects[ lastIndex ];\n\n          // last cached object takes this object's place\n          indicesByUUID[ lastCachedObject.uuid ] = index;\n          objects[ index ] = lastCachedObject;\n\n          // last object goes to the activated slot and pop\n          indicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n          objects[ firstActiveIndex ] = lastObject;\n          objects.pop();\n\n          // accounting is done, now do the same for all bindings\n\n          for ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n            var bindingsForPath = bindings[ j ],\n              lastCached = bindingsForPath[ firstActiveIndex ],\n              last = bindingsForPath[ lastIndex ];\n\n            bindingsForPath[ index ] = lastCached;\n            bindingsForPath[ firstActiveIndex ] = last;\n            bindingsForPath.pop();\n\n          }\n\n        } else {\n\n          // object is active, just swap with the last and pop\n\n          var lastIndex = -- nObjects,\n            lastObject = objects[ lastIndex ];\n\n          indicesByUUID[ lastObject.uuid ] = index;\n          objects[ index ] = lastObject;\n          objects.pop();\n\n          // accounting is done, now do the same for all bindings\n\n          for ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n            var bindingsForPath = bindings[ j ];\n\n            bindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n            bindingsForPath.pop();\n\n          }\n\n        } // cached or active\n\n      } // if object is known\n\n    } // for arguments\n\n    this.nCachedObjects_ = nCachedObjects;\n\n  },\n\n  // Internal interface used by befriended PropertyBinding.Composite:\n\n  subscribe_: function ( path, parsedPath ) {\n\n    // returns an array of bindings for the given path that is changed\n    // according to the contained objects in the group\n\n    var indicesByPath = this._bindingsIndicesByPath,\n      index = indicesByPath[ path ],\n      bindings = this._bindings;\n\n    if ( index !== undefined ) return bindings[ index ];\n\n    var paths = this._paths,\n      parsedPaths = this._parsedPaths,\n      objects = this._objects,\n      nObjects = objects.length,\n      nCachedObjects = this.nCachedObjects_,\n      bindingsForPath = new Array( nObjects );\n\n    index = bindings.length;\n\n    indicesByPath[ path ] = index;\n\n    paths.push( path );\n    parsedPaths.push( parsedPath );\n    bindings.push( bindingsForPath );\n\n    for ( var i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n      var object = objects[ i ];\n      bindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n    }\n\n    return bindingsForPath;\n\n  },\n\n  unsubscribe_: function ( path ) {\n\n    // tells the group to forget about a property path and no longer\n    // update the array previously obtained with 'subscribe_'\n\n    var indicesByPath = this._bindingsIndicesByPath,\n      index = indicesByPath[ path ];\n\n    if ( index !== undefined ) {\n\n      var paths = this._paths,\n        parsedPaths = this._parsedPaths,\n        bindings = this._bindings,\n        lastBindingsIndex = bindings.length - 1,\n        lastBindings = bindings[ lastBindingsIndex ],\n        lastBindingsPath = path[ lastBindingsIndex ];\n\n      indicesByPath[ lastBindingsPath ] = index;\n\n      bindings[ index ] = lastBindings;\n      bindings.pop();\n\n      parsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n      parsedPaths.pop();\n\n      paths[ index ] = paths[ lastBindingsIndex ];\n      paths.pop();\n\n    }\n\n  }\n\n} );\n\n/**\n *\n * Action provided by AnimationMixer for scheduling clip playback on specific\n * objects.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n *\n */\n\nfunction AnimationAction( mixer, clip, localRoot ) {\n\n  this._mixer = mixer;\n  this._clip = clip;\n  this._localRoot = localRoot || null;\n\n  var tracks = clip.tracks,\n    nTracks = tracks.length,\n    interpolants = new Array( nTracks );\n\n  var interpolantSettings = {\n    endingStart: \tZeroCurvatureEnding,\n    endingEnd:\t\tZeroCurvatureEnding\n  };\n\n  for ( var i = 0; i !== nTracks; ++ i ) {\n\n    var interpolant = tracks[ i ].createInterpolant( null );\n    interpolants[ i ] = interpolant;\n    interpolant.settings = interpolantSettings;\n\n  }\n\n  this._interpolantSettings = interpolantSettings;\n\n  this._interpolants = interpolants;\t// bound by the mixer\n\n  // inside: PropertyMixer (managed by the mixer)\n  this._propertyBindings = new Array( nTracks );\n\n  this._cacheIndex = null;\t\t\t// for the memory manager\n  this._byClipCacheIndex = null;\t\t// for the memory manager\n\n  this._timeScaleInterpolant = null;\n  this._weightInterpolant = null;\n\n  this.loop = LoopRepeat;\n  this._loopCount = -1;\n\n  // global mixer time when the action is to be started\n  // it's set back to 'null' upon start of the action\n  this._startTime = null;\n\n  // scaled local time of the action\n  // gets clamped or wrapped to 0..clip.duration according to loop\n  this.time = 0;\n\n  this.timeScale = 1;\n  this._effectiveTimeScale = 1;\n\n  this.weight = 1;\n  this._effectiveWeight = 1;\n\n  this.repetitions = Infinity; \t\t// no. of repetitions when looping\n\n  this.paused = false;\t\t\t\t// true -> zero effective time scale\n  this.enabled = true;\t\t\t\t// false -> zero effective weight\n\n  this.clampWhenFinished \t= false;\t// keep feeding the last frame?\n\n  this.zeroSlopeAtStart \t= true;\t\t// for smooth interpolation w/o separate\n  this.zeroSlopeAtEnd\t\t= true;\t\t// clips for start, loop and end\n\n}\n\nObject.assign( AnimationAction.prototype, {\n\n  // State & Scheduling\n\n  play: function() {\n\n    this._mixer._activateAction( this );\n\n    return this;\n\n  },\n\n  stop: function() {\n\n    this._mixer._deactivateAction( this );\n\n    return this.reset();\n\n  },\n\n  reset: function() {\n\n    this.paused = false;\n    this.enabled = true;\n\n    this.time = 0;\t\t\t// restart clip\n    this._loopCount = -1;\t// forget previous loops\n    this._startTime = null;\t// forget scheduling\n\n    return this.stopFading().stopWarping();\n\n  },\n\n  isRunning: function() {\n\n    return this.enabled && ! this.paused && this.timeScale !== 0 &&\n      this._startTime === null && this._mixer._isActiveAction( this );\n\n  },\n\n  // return true when play has been called\n  isScheduled: function() {\n\n    return this._mixer._isActiveAction( this );\n\n  },\n\n  startAt: function( time ) {\n\n    this._startTime = time;\n\n    return this;\n\n  },\n\n  setLoop: function( mode, repetitions ) {\n\n    this.loop = mode;\n    this.repetitions = repetitions;\n\n    return this;\n\n  },\n\n  // Weight\n\n  // set the weight stopping any scheduled fading\n  // although .enabled = false yields an effective weight of zero, this\n  // method does *not* change .enabled, because it would be confusing\n  setEffectiveWeight: function( weight ) {\n\n    this.weight = weight;\n\n    // note: same logic as when updated at runtime\n    this._effectiveWeight = this.enabled ? weight : 0;\n\n    return this.stopFading();\n\n  },\n\n  // return the weight considering fading and .enabled\n  getEffectiveWeight: function() {\n\n    return this._effectiveWeight;\n\n  },\n\n  fadeIn: function( duration ) {\n\n    return this._scheduleFading( duration, 0, 1 );\n\n  },\n\n  fadeOut: function( duration ) {\n\n    return this._scheduleFading( duration, 1, 0 );\n\n  },\n\n  crossFadeFrom: function( fadeOutAction, duration, warp ) {\n\n    fadeOutAction.fadeOut( duration );\n    this.fadeIn( duration );\n\n    if( warp ) {\n\n      var fadeInDuration = this._clip.duration,\n        fadeOutDuration = fadeOutAction._clip.duration,\n\n        startEndRatio = fadeOutDuration / fadeInDuration,\n        endStartRatio = fadeInDuration / fadeOutDuration;\n\n      fadeOutAction.warp( 1.0, startEndRatio, duration );\n      this.warp( endStartRatio, 1.0, duration );\n\n    }\n\n    return this;\n\n  },\n\n  crossFadeTo: function( fadeInAction, duration, warp ) {\n\n    return fadeInAction.crossFadeFrom( this, duration, warp );\n\n  },\n\n  stopFading: function() {\n\n    var weightInterpolant = this._weightInterpolant;\n\n    if ( weightInterpolant !== null ) {\n\n      this._weightInterpolant = null;\n      this._mixer._takeBackControlInterpolant( weightInterpolant );\n\n    }\n\n    return this;\n\n  },\n\n  // Time Scale Control\n\n  // set the time scale stopping any scheduled warping\n  // although .paused = true yields an effective time scale of zero, this\n  // method does *not* change .paused, because it would be confusing\n  setEffectiveTimeScale: function( timeScale ) {\n\n    this.timeScale = timeScale;\n    this._effectiveTimeScale = this.paused ? 0 :timeScale;\n\n    return this.stopWarping();\n\n  },\n\n  // return the time scale considering warping and .paused\n  getEffectiveTimeScale: function() {\n\n    return this._effectiveTimeScale;\n\n  },\n\n  setDuration: function( duration ) {\n\n    this.timeScale = this._clip.duration / duration;\n\n    return this.stopWarping();\n\n  },\n\n  syncWith: function( action ) {\n\n    this.time = action.time;\n    this.timeScale = action.timeScale;\n\n    return this.stopWarping();\n\n  },\n\n  halt: function( duration ) {\n\n    return this.warp( this._effectiveTimeScale, 0, duration );\n\n  },\n\n  warp: function( startTimeScale, endTimeScale, duration ) {\n\n    var mixer = this._mixer, now = mixer.time,\n      interpolant = this._timeScaleInterpolant,\n\n      timeScale = this.timeScale;\n\n    if ( interpolant === null ) {\n\n      interpolant = mixer._lendControlInterpolant();\n      this._timeScaleInterpolant = interpolant;\n\n    }\n\n    var times = interpolant.parameterPositions,\n      values = interpolant.sampleValues;\n\n    times[ 0 ] = now;\n    times[ 1 ] = now + duration;\n\n    values[ 0 ] = startTimeScale / timeScale;\n    values[ 1 ] = endTimeScale / timeScale;\n\n    return this;\n\n  },\n\n  stopWarping: function() {\n\n    var timeScaleInterpolant = this._timeScaleInterpolant;\n\n    if ( timeScaleInterpolant !== null ) {\n\n      this._timeScaleInterpolant = null;\n      this._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n    }\n\n    return this;\n\n  },\n\n  // Object Accessors\n\n  getMixer: function() {\n\n    return this._mixer;\n\n  },\n\n  getClip: function() {\n\n    return this._clip;\n\n  },\n\n  getRoot: function() {\n\n    return this._localRoot || this._mixer._root;\n\n  },\n\n  // Interna\n\n  _update: function( time, deltaTime, timeDirection, accuIndex ) {\n\n    // called by the mixer\n\n    if ( ! this.enabled ) {\n\n      // call ._updateWeight() to update ._effectiveWeight\n\n      this._updateWeight( time );\n      return;\n\n    }\n\n    var startTime = this._startTime;\n\n    if ( startTime !== null ) {\n\n      // check for scheduled start of action\n\n      var timeRunning = ( time - startTime ) * timeDirection;\n      if ( timeRunning < 0 || timeDirection === 0 ) {\n\n        return; // yet to come / don't decide when delta = 0\n\n      }\n\n      // start\n\n      this._startTime = null; // unschedule\n      deltaTime = timeDirection * timeRunning;\n\n    }\n\n    // apply time scale and advance time\n\n    deltaTime *= this._updateTimeScale( time );\n    var clipTime = this._updateTime( deltaTime );\n\n    // note: _updateTime may disable the action resulting in\n    // an effective weight of 0\n\n    var weight = this._updateWeight( time );\n\n    if ( weight > 0 ) {\n\n      var interpolants = this._interpolants;\n      var propertyMixers = this._propertyBindings;\n\n      for ( var j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n        interpolants[ j ].evaluate( clipTime );\n        propertyMixers[ j ].accumulate( accuIndex, weight );\n\n      }\n\n    }\n\n  },\n\n  _updateWeight: function( time ) {\n\n    var weight = 0;\n\n    if ( this.enabled ) {\n\n      weight = this.weight;\n      var interpolant = this._weightInterpolant;\n\n      if ( interpolant !== null ) {\n\n        var interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n        weight *= interpolantValue;\n\n        if ( time > interpolant.parameterPositions[ 1 ] ) {\n\n          this.stopFading();\n\n          if ( interpolantValue === 0 ) {\n\n            // faded out, disable\n            this.enabled = false;\n\n          }\n\n        }\n\n      }\n\n    }\n\n    this._effectiveWeight = weight;\n    return weight;\n\n  },\n\n  _updateTimeScale: function( time ) {\n\n    var timeScale = 0;\n\n    if ( ! this.paused ) {\n\n      timeScale = this.timeScale;\n\n      var interpolant = this._timeScaleInterpolant;\n\n      if ( interpolant !== null ) {\n\n        var interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n        timeScale *= interpolantValue;\n\n        if ( time > interpolant.parameterPositions[ 1 ] ) {\n\n          this.stopWarping();\n\n          if ( timeScale === 0 ) {\n\n            // motion has halted, pause\n            this.paused = true;\n\n          } else {\n\n            // warp done - apply final time scale\n            this.timeScale = timeScale;\n\n          }\n\n        }\n\n      }\n\n    }\n\n    this._effectiveTimeScale = timeScale;\n    return timeScale;\n\n  },\n\n  _updateTime: function( deltaTime ) {\n\n    var time = this.time + deltaTime;\n\n    if ( deltaTime === 0 ) return time;\n\n    var duration = this._clip.duration,\n\n      loop = this.loop,\n      loopCount = this._loopCount;\n\n    if ( loop === LoopOnce ) {\n\n      if ( loopCount === -1 ) {\n        // just started\n\n        this._loopCount = 0;\n        this._setEndings( true, true, false );\n\n      }\n\n      handle_stop: {\n\n        if ( time >= duration ) {\n\n          time = duration;\n\n        } else if ( time < 0 ) {\n\n          time = 0;\n\n        } else break handle_stop;\n\n        if ( this.clampWhenFinished ) this.paused = true;\n        else this.enabled = false;\n\n        this._mixer.dispatchEvent( {\n          type: 'finished', action: this,\n          direction: deltaTime < 0 ? -1 : 1\n        } );\n\n      }\n\n    } else { // repetitive Repeat or PingPong\n\n      var pingPong = ( loop === LoopPingPong );\n\n      if ( loopCount === -1 ) {\n        // just started\n\n        if ( deltaTime >= 0 ) {\n\n          loopCount = 0;\n\n          this._setEndings(\n            true, this.repetitions === 0, pingPong );\n\n        } else {\n\n          // when looping in reverse direction, the initial\n          // transition through zero counts as a repetition,\n          // so leave loopCount at -1\n\n          this._setEndings(\n            this.repetitions === 0, true, pingPong );\n\n        }\n\n      }\n\n      if ( time >= duration || time < 0 ) {\n        // wrap around\n\n        var loopDelta = Math.floor( time / duration ); // signed\n        time -= duration * loopDelta;\n\n        loopCount += Math.abs( loopDelta );\n\n        var pending = this.repetitions - loopCount;\n\n        if ( pending < 0 ) {\n          // have to stop (switch state, clamp time, fire event)\n\n          if ( this.clampWhenFinished ) this.paused = true;\n          else this.enabled = false;\n\n          time = deltaTime > 0 ? duration : 0;\n\n          this._mixer.dispatchEvent( {\n            type: 'finished', action: this,\n            direction: deltaTime > 0 ? 1 : -1\n          } );\n\n        } else {\n          // keep running\n\n          if ( pending === 0 ) {\n            // entering the last round\n\n            var atStart = deltaTime < 0;\n            this._setEndings( atStart, ! atStart, pingPong );\n\n          } else {\n\n            this._setEndings( false, false, pingPong );\n\n          }\n\n          this._loopCount = loopCount;\n\n          this._mixer.dispatchEvent( {\n            type: 'loop', action: this, loopDelta: loopDelta\n          } );\n\n        }\n\n      }\n\n      if ( pingPong && ( loopCount & 1 ) === 1 ) {\n        // invert time for the \"pong round\"\n\n        this.time = time;\n        return duration - time;\n\n      }\n\n    }\n\n    this.time = time;\n    return time;\n\n  },\n\n  _setEndings: function( atStart, atEnd, pingPong ) {\n\n    var settings = this._interpolantSettings;\n\n    if ( pingPong ) {\n\n      settings.endingStart \t= ZeroSlopeEnding;\n      settings.endingEnd\t\t= ZeroSlopeEnding;\n\n    } else {\n\n      // assuming for LoopOnce atStart == atEnd == true\n\n      if ( atStart ) {\n\n        settings.endingStart = this.zeroSlopeAtStart ?\n          ZeroSlopeEnding : ZeroCurvatureEnding;\n\n      } else {\n\n        settings.endingStart = WrapAroundEnding;\n\n      }\n\n      if ( atEnd ) {\n\n        settings.endingEnd = this.zeroSlopeAtEnd ?\n          ZeroSlopeEnding : ZeroCurvatureEnding;\n\n      } else {\n\n        settings.endingEnd \t = WrapAroundEnding;\n\n      }\n\n    }\n\n  },\n\n  _scheduleFading: function( duration, weightNow, weightThen ) {\n\n    var mixer = this._mixer, now = mixer.time,\n      interpolant = this._weightInterpolant;\n\n    if ( interpolant === null ) {\n\n      interpolant = mixer._lendControlInterpolant();\n      this._weightInterpolant = interpolant;\n\n    }\n\n    var times = interpolant.parameterPositions,\n      values = interpolant.sampleValues;\n\n    times[ 0 ] = now; \t\t\t\tvalues[ 0 ] = weightNow;\n    times[ 1 ] = now + duration;\tvalues[ 1 ] = weightThen;\n\n    return this;\n\n  }\n\n} );\n\n/**\n *\n * Player for AnimationClips.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction AnimationMixer( root ) {\n\n  this._root = root;\n  this._initMemoryManager();\n  this._accuIndex = 0;\n\n  this.time = 0;\n\n  this.timeScale = 1.0;\n\n}\n\nObject.assign( AnimationMixer.prototype, EventDispatcher.prototype, {\n\n  _bindAction: function ( action, prototypeAction ) {\n\n    var root = action._localRoot || this._root,\n      tracks = action._clip.tracks,\n      nTracks = tracks.length,\n      bindings = action._propertyBindings,\n      interpolants = action._interpolants,\n      rootUuid = root.uuid,\n      bindingsByRoot = this._bindingsByRootAndName,\n      bindingsByName = bindingsByRoot[ rootUuid ];\n\n    if ( bindingsByName === undefined ) {\n\n      bindingsByName = {};\n      bindingsByRoot[ rootUuid ] = bindingsByName;\n\n    }\n\n    for ( var i = 0; i !== nTracks; ++ i ) {\n\n      var track = tracks[ i ],\n        trackName = track.name,\n        binding = bindingsByName[ trackName ];\n\n      if ( binding !== undefined ) {\n\n        bindings[ i ] = binding;\n\n      } else {\n\n        binding = bindings[ i ];\n\n        if ( binding !== undefined ) {\n\n          // existing binding, make sure the cache knows\n\n          if ( binding._cacheIndex === null ) {\n\n            ++ binding.referenceCount;\n            this._addInactiveBinding( binding, rootUuid, trackName );\n\n          }\n\n          continue;\n\n        }\n\n        var path = prototypeAction && prototypeAction.\n            _propertyBindings[ i ].binding.parsedPath;\n\n        binding = new PropertyMixer(\n          PropertyBinding.create( root, trackName, path ),\n          track.ValueTypeName, track.getValueSize() );\n\n        ++ binding.referenceCount;\n        this._addInactiveBinding( binding, rootUuid, trackName );\n\n        bindings[ i ] = binding;\n\n      }\n\n      interpolants[ i ].resultBuffer = binding.buffer;\n\n    }\n\n  },\n\n  _activateAction: function ( action ) {\n\n    if ( ! this._isActiveAction( action ) ) {\n\n      if ( action._cacheIndex === null ) {\n\n        // this action has been forgotten by the cache, but the user\n        // appears to be still using it -> rebind\n\n        var rootUuid = ( action._localRoot || this._root ).uuid,\n          clipUuid = action._clip.uuid,\n          actionsForClip = this._actionsByClip[ clipUuid ];\n\n        this._bindAction( action,\n          actionsForClip && actionsForClip.knownActions[ 0 ] );\n\n        this._addInactiveAction( action, clipUuid, rootUuid );\n\n      }\n\n      var bindings = action._propertyBindings;\n\n      // increment reference counts / sort out state\n      for ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n        var binding = bindings[ i ];\n\n        if ( binding.useCount ++ === 0 ) {\n\n          this._lendBinding( binding );\n          binding.saveOriginalState();\n\n        }\n\n      }\n\n      this._lendAction( action );\n\n    }\n\n  },\n\n  _deactivateAction: function ( action ) {\n\n    if ( this._isActiveAction( action ) ) {\n\n      var bindings = action._propertyBindings;\n\n      // decrement reference counts / sort out state\n      for ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n        var binding = bindings[ i ];\n\n        if ( -- binding.useCount === 0 ) {\n\n          binding.restoreOriginalState();\n          this._takeBackBinding( binding );\n\n        }\n\n      }\n\n      this._takeBackAction( action );\n\n    }\n\n  },\n\n  // Memory manager\n\n  _initMemoryManager: function () {\n\n    this._actions = []; // 'nActiveActions' followed by inactive ones\n    this._nActiveActions = 0;\n\n    this._actionsByClip = {};\n    // inside:\n    // {\n    // \t\tknownActions: Array< AnimationAction >\t- used as prototypes\n    // \t\tactionByRoot: AnimationAction\t\t\t- lookup\n    // }\n\n\n    this._bindings = []; // 'nActiveBindings' followed by inactive ones\n    this._nActiveBindings = 0;\n\n    this._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n    this._controlInterpolants = []; // same game as above\n    this._nActiveControlInterpolants = 0;\n\n    var scope = this;\n\n    this.stats = {\n\n      actions: {\n        get total() { return scope._actions.length; },\n        get inUse() { return scope._nActiveActions; }\n      },\n      bindings: {\n        get total() { return scope._bindings.length; },\n        get inUse() { return scope._nActiveBindings; }\n      },\n      controlInterpolants: {\n        get total() { return scope._controlInterpolants.length; },\n        get inUse() { return scope._nActiveControlInterpolants; }\n      }\n\n    };\n\n  },\n\n  // Memory management for AnimationAction objects\n\n  _isActiveAction: function ( action ) {\n\n    var index = action._cacheIndex;\n    return index !== null && index < this._nActiveActions;\n\n  },\n\n  _addInactiveAction: function ( action, clipUuid, rootUuid ) {\n\n    var actions = this._actions,\n      actionsByClip = this._actionsByClip,\n      actionsForClip = actionsByClip[ clipUuid ];\n\n    if ( actionsForClip === undefined ) {\n\n      actionsForClip = {\n\n        knownActions: [ action ],\n        actionByRoot: {}\n\n      };\n\n      action._byClipCacheIndex = 0;\n\n      actionsByClip[ clipUuid ] = actionsForClip;\n\n    } else {\n\n      var knownActions = actionsForClip.knownActions;\n\n      action._byClipCacheIndex = knownActions.length;\n      knownActions.push( action );\n\n    }\n\n    action._cacheIndex = actions.length;\n    actions.push( action );\n\n    actionsForClip.actionByRoot[ rootUuid ] = action;\n\n  },\n\n  _removeInactiveAction: function ( action ) {\n\n    var actions = this._actions,\n      lastInactiveAction = actions[ actions.length - 1 ],\n      cacheIndex = action._cacheIndex;\n\n    lastInactiveAction._cacheIndex = cacheIndex;\n    actions[ cacheIndex ] = lastInactiveAction;\n    actions.pop();\n\n    action._cacheIndex = null;\n\n\n    var clipUuid = action._clip.uuid,\n      actionsByClip = this._actionsByClip,\n      actionsForClip = actionsByClip[ clipUuid ],\n      knownActionsForClip = actionsForClip.knownActions,\n\n      lastKnownAction =\n        knownActionsForClip[ knownActionsForClip.length - 1 ],\n\n      byClipCacheIndex = action._byClipCacheIndex;\n\n    lastKnownAction._byClipCacheIndex = byClipCacheIndex;\n    knownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n    knownActionsForClip.pop();\n\n    action._byClipCacheIndex = null;\n\n\n    var actionByRoot = actionsForClip.actionByRoot,\n      rootUuid = ( action._localRoot || this._root ).uuid;\n\n    delete actionByRoot[ rootUuid ];\n\n    if ( knownActionsForClip.length === 0 ) {\n\n      delete actionsByClip[ clipUuid ];\n\n    }\n\n    this._removeInactiveBindingsForAction( action );\n\n  },\n\n  _removeInactiveBindingsForAction: function ( action ) {\n\n    var bindings = action._propertyBindings;\n    for ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n      var binding = bindings[ i ];\n\n      if ( -- binding.referenceCount === 0 ) {\n\n        this._removeInactiveBinding( binding );\n\n      }\n\n    }\n\n  },\n\n  _lendAction: function ( action ) {\n\n    // [ active actions |  inactive actions  ]\n    // [  active actions >| inactive actions ]\n    //                 s        a\n    //                  <-swap->\n    //                 a        s\n\n    var actions = this._actions,\n      prevIndex = action._cacheIndex,\n\n      lastActiveIndex = this._nActiveActions ++,\n\n      firstInactiveAction = actions[ lastActiveIndex ];\n\n    action._cacheIndex = lastActiveIndex;\n    actions[ lastActiveIndex ] = action;\n\n    firstInactiveAction._cacheIndex = prevIndex;\n    actions[ prevIndex ] = firstInactiveAction;\n\n  },\n\n  _takeBackAction: function ( action ) {\n\n    // [  active actions  | inactive actions ]\n    // [ active actions |< inactive actions  ]\n    //        a        s\n    //         <-swap->\n    //        s        a\n\n    var actions = this._actions,\n      prevIndex = action._cacheIndex,\n\n      firstInactiveIndex = -- this._nActiveActions,\n\n      lastActiveAction = actions[ firstInactiveIndex ];\n\n    action._cacheIndex = firstInactiveIndex;\n    actions[ firstInactiveIndex ] = action;\n\n    lastActiveAction._cacheIndex = prevIndex;\n    actions[ prevIndex ] = lastActiveAction;\n\n  },\n\n  // Memory management for PropertyMixer objects\n\n  _addInactiveBinding: function ( binding, rootUuid, trackName ) {\n\n    var bindingsByRoot = this._bindingsByRootAndName,\n      bindingByName = bindingsByRoot[ rootUuid ],\n\n      bindings = this._bindings;\n\n    if ( bindingByName === undefined ) {\n\n      bindingByName = {};\n      bindingsByRoot[ rootUuid ] = bindingByName;\n\n    }\n\n    bindingByName[ trackName ] = binding;\n\n    binding._cacheIndex = bindings.length;\n    bindings.push( binding );\n\n  },\n\n  _removeInactiveBinding: function ( binding ) {\n\n    var bindings = this._bindings,\n      propBinding = binding.binding,\n      rootUuid = propBinding.rootNode.uuid,\n      trackName = propBinding.path,\n      bindingsByRoot = this._bindingsByRootAndName,\n      bindingByName = bindingsByRoot[ rootUuid ],\n\n      lastInactiveBinding = bindings[ bindings.length - 1 ],\n      cacheIndex = binding._cacheIndex;\n\n    lastInactiveBinding._cacheIndex = cacheIndex;\n    bindings[ cacheIndex ] = lastInactiveBinding;\n    bindings.pop();\n\n    delete bindingByName[ trackName ];\n\n    remove_empty_map: {\n\n      for ( var _ in bindingByName ) break remove_empty_map;\n\n      delete bindingsByRoot[ rootUuid ];\n\n    }\n\n  },\n\n  _lendBinding: function ( binding ) {\n\n    var bindings = this._bindings,\n      prevIndex = binding._cacheIndex,\n\n      lastActiveIndex = this._nActiveBindings ++,\n\n      firstInactiveBinding = bindings[ lastActiveIndex ];\n\n    binding._cacheIndex = lastActiveIndex;\n    bindings[ lastActiveIndex ] = binding;\n\n    firstInactiveBinding._cacheIndex = prevIndex;\n    bindings[ prevIndex ] = firstInactiveBinding;\n\n  },\n\n  _takeBackBinding: function ( binding ) {\n\n    var bindings = this._bindings,\n      prevIndex = binding._cacheIndex,\n\n      firstInactiveIndex = -- this._nActiveBindings,\n\n      lastActiveBinding = bindings[ firstInactiveIndex ];\n\n    binding._cacheIndex = firstInactiveIndex;\n    bindings[ firstInactiveIndex ] = binding;\n\n    lastActiveBinding._cacheIndex = prevIndex;\n    bindings[ prevIndex ] = lastActiveBinding;\n\n  },\n\n\n  // Memory management of Interpolants for weight and time scale\n\n  _lendControlInterpolant: function () {\n\n    var interpolants = this._controlInterpolants,\n      lastActiveIndex = this._nActiveControlInterpolants ++,\n      interpolant = interpolants[ lastActiveIndex ];\n\n    if ( interpolant === undefined ) {\n\n      interpolant = new LinearInterpolant(\n        new Float32Array( 2 ), new Float32Array( 2 ),\n        1, this._controlInterpolantsResultBuffer );\n\n      interpolant.__cacheIndex = lastActiveIndex;\n      interpolants[ lastActiveIndex ] = interpolant;\n\n    }\n\n    return interpolant;\n\n  },\n\n  _takeBackControlInterpolant: function ( interpolant ) {\n\n    var interpolants = this._controlInterpolants,\n      prevIndex = interpolant.__cacheIndex,\n\n      firstInactiveIndex = -- this._nActiveControlInterpolants,\n\n      lastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n    interpolant.__cacheIndex = firstInactiveIndex;\n    interpolants[ firstInactiveIndex ] = interpolant;\n\n    lastActiveInterpolant.__cacheIndex = prevIndex;\n    interpolants[ prevIndex ] = lastActiveInterpolant;\n\n  },\n\n  _controlInterpolantsResultBuffer: new Float32Array( 1 ),\n\n  // return an action for a clip optionally using a custom root target\n  // object (this method allocates a lot of dynamic memory in case a\n  // previously unknown clip/root combination is specified)\n  clipAction: function ( clip, optionalRoot ) {\n\n    var root = optionalRoot || this._root,\n      rootUuid = root.uuid,\n\n      clipObject = typeof clip === 'string' ?\n        AnimationClip.findByName( root, clip ) : clip,\n\n      clipUuid = clipObject !== null ? clipObject.uuid : clip,\n\n      actionsForClip = this._actionsByClip[ clipUuid ],\n      prototypeAction = null;\n\n    if ( actionsForClip !== undefined ) {\n\n      var existingAction =\n        actionsForClip.actionByRoot[ rootUuid ];\n\n      if ( existingAction !== undefined ) {\n\n        return existingAction;\n\n      }\n\n      // we know the clip, so we don't have to parse all\n      // the bindings again but can just copy\n      prototypeAction = actionsForClip.knownActions[ 0 ];\n\n      // also, take the clip from the prototype action\n      if ( clipObject === null )\n        clipObject = prototypeAction._clip;\n\n    }\n\n    // clip must be known when specified via string\n    if ( clipObject === null ) return null;\n\n    // allocate all resources required to run it\n    var newAction = new AnimationAction( this, clipObject, optionalRoot );\n\n    this._bindAction( newAction, prototypeAction );\n\n    // and make the action known to the memory manager\n    this._addInactiveAction( newAction, clipUuid, rootUuid );\n\n    return newAction;\n\n  },\n\n  // get an existing action\n  existingAction: function ( clip, optionalRoot ) {\n\n    var root = optionalRoot || this._root,\n      rootUuid = root.uuid,\n\n      clipObject = typeof clip === 'string' ?\n        AnimationClip.findByName( root, clip ) : clip,\n\n      clipUuid = clipObject ? clipObject.uuid : clip,\n\n      actionsForClip = this._actionsByClip[ clipUuid ];\n\n    if ( actionsForClip !== undefined ) {\n\n      return actionsForClip.actionByRoot[ rootUuid ] || null;\n\n    }\n\n    return null;\n\n  },\n\n  // deactivates all previously scheduled actions\n  stopAllAction: function () {\n\n    var actions = this._actions,\n      nActions = this._nActiveActions,\n      bindings = this._bindings,\n      nBindings = this._nActiveBindings;\n\n    this._nActiveActions = 0;\n    this._nActiveBindings = 0;\n\n    for ( var i = 0; i !== nActions; ++ i ) {\n\n      actions[ i ].reset();\n\n    }\n\n    for ( var i = 0; i !== nBindings; ++ i ) {\n\n      bindings[ i ].useCount = 0;\n\n    }\n\n    return this;\n\n  },\n\n  // advance the time and update apply the animation\n  update: function ( deltaTime ) {\n\n    deltaTime *= this.timeScale;\n\n    var actions = this._actions,\n      nActions = this._nActiveActions,\n\n      time = this.time += deltaTime,\n      timeDirection = Math.sign( deltaTime ),\n\n      accuIndex = this._accuIndex ^= 1;\n\n    // run active actions\n\n    for ( var i = 0; i !== nActions; ++ i ) {\n\n      var action = actions[ i ];\n\n      action._update( time, deltaTime, timeDirection, accuIndex );\n\n    }\n\n    // update scene graph\n\n    var bindings = this._bindings,\n      nBindings = this._nActiveBindings;\n\n    for ( var i = 0; i !== nBindings; ++ i ) {\n\n      bindings[ i ].apply( accuIndex );\n\n    }\n\n    return this;\n\n  },\n\n  // return this mixer's root target object\n  getRoot: function () {\n\n    return this._root;\n\n  },\n\n  // free all resources specific to a particular clip\n  uncacheClip: function ( clip ) {\n\n    var actions = this._actions,\n      clipUuid = clip.uuid,\n      actionsByClip = this._actionsByClip,\n      actionsForClip = actionsByClip[ clipUuid ];\n\n    if ( actionsForClip !== undefined ) {\n\n      // note: just calling _removeInactiveAction would mess up the\n      // iteration state and also require updating the state we can\n      // just throw away\n\n      var actionsToRemove = actionsForClip.knownActions;\n\n      for ( var i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n        var action = actionsToRemove[ i ];\n\n        this._deactivateAction( action );\n\n        var cacheIndex = action._cacheIndex,\n          lastInactiveAction = actions[ actions.length - 1 ];\n\n        action._cacheIndex = null;\n        action._byClipCacheIndex = null;\n\n        lastInactiveAction._cacheIndex = cacheIndex;\n        actions[ cacheIndex ] = lastInactiveAction;\n        actions.pop();\n\n        this._removeInactiveBindingsForAction( action );\n\n      }\n\n      delete actionsByClip[ clipUuid ];\n\n    }\n\n  },\n\n  // free all resources specific to a particular root target object\n  uncacheRoot: function ( root ) {\n\n    var rootUuid = root.uuid,\n      actionsByClip = this._actionsByClip;\n\n    for ( var clipUuid in actionsByClip ) {\n\n      var actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n        action = actionByRoot[ rootUuid ];\n\n      if ( action !== undefined ) {\n\n        this._deactivateAction( action );\n        this._removeInactiveAction( action );\n\n      }\n\n    }\n\n    var bindingsByRoot = this._bindingsByRootAndName,\n      bindingByName = bindingsByRoot[ rootUuid ];\n\n    if ( bindingByName !== undefined ) {\n\n      for ( var trackName in bindingByName ) {\n\n        var binding = bindingByName[ trackName ];\n        binding.restoreOriginalState();\n        this._removeInactiveBinding( binding );\n\n      }\n\n    }\n\n  },\n\n  // remove a targeted clip from the cache\n  uncacheAction: function ( clip, optionalRoot ) {\n\n    var action = this.existingAction( clip, optionalRoot );\n\n    if ( action !== null ) {\n\n      this._deactivateAction( action );\n      this._removeInactiveAction( action );\n\n    }\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Uniform( value ) {\n\n  if ( typeof value === 'string' ) {\n\n    console.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n    value = arguments[ 1 ];\n\n  }\n\n  this.value = value;\n\n}\n\nUniform.prototype.clone = function () {\n\n  return new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferGeometry() {\n\n  BufferGeometry.call( this );\n\n  this.type = 'InstancedBufferGeometry';\n  this.maxInstancedCount = undefined;\n\n}\n\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\n\n  constructor: InstancedBufferGeometry,\n\n  isInstancedBufferGeometry: true,\n\n  addGroup: function ( start, count, materialIndex ) {\n\n    this.groups.push( {\n\n      start: start,\n      count: count,\n      materialIndex: materialIndex\n\n    } );\n\n  },\n\n  copy: function ( source ) {\n\n    var index = source.index;\n\n    if ( index !== null ) {\n\n      this.setIndex( index.clone() );\n\n    }\n\n    var attributes = source.attributes;\n\n    for ( var name in attributes ) {\n\n      var attribute = attributes[ name ];\n      this.addAttribute( name, attribute.clone() );\n\n    }\n\n    var groups = source.groups;\n\n    for ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n      var group = groups[ i ];\n      this.addGroup( group.start, group.count, group.materialIndex );\n\n    }\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\n\n  this.uuid = _Math.generateUUID();\n\n  this.data = interleavedBuffer;\n  this.itemSize = itemSize;\n  this.offset = offset;\n\n  this.normalized = normalized === true;\n\n}\n\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\n\n  count: {\n\n    get: function () {\n\n      return this.data.count;\n\n    }\n\n  },\n\n  array: {\n\n    get: function () {\n\n      return this.data.array;\n\n    }\n\n  }\n\n} );\n\nObject.assign( InterleavedBufferAttribute.prototype, {\n\n  isInterleavedBufferAttribute: true,\n\n  setX: function ( index, x ) {\n\n    this.data.array[ index * this.data.stride + this.offset ] = x;\n\n    return this;\n\n  },\n\n  setY: function ( index, y ) {\n\n    this.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n    return this;\n\n  },\n\n  setZ: function ( index, z ) {\n\n    this.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n    return this;\n\n  },\n\n  setW: function ( index, w ) {\n\n    this.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n    return this;\n\n  },\n\n  getX: function ( index ) {\n\n    return this.data.array[ index * this.data.stride + this.offset ];\n\n  },\n\n  getY: function ( index ) {\n\n    return this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n  },\n\n  getZ: function ( index ) {\n\n    return this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n  },\n\n  getW: function ( index ) {\n\n    return this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n  },\n\n  setXY: function ( index, x, y ) {\n\n    index = index * this.data.stride + this.offset;\n\n    this.data.array[ index + 0 ] = x;\n    this.data.array[ index + 1 ] = y;\n\n    return this;\n\n  },\n\n  setXYZ: function ( index, x, y, z ) {\n\n    index = index * this.data.stride + this.offset;\n\n    this.data.array[ index + 0 ] = x;\n    this.data.array[ index + 1 ] = y;\n    this.data.array[ index + 2 ] = z;\n\n    return this;\n\n  },\n\n  setXYZW: function ( index, x, y, z, w ) {\n\n    index = index * this.data.stride + this.offset;\n\n    this.data.array[ index + 0 ] = x;\n    this.data.array[ index + 1 ] = y;\n    this.data.array[ index + 2 ] = z;\n    this.data.array[ index + 3 ] = w;\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBuffer( array, stride ) {\n\n  this.uuid = _Math.generateUUID();\n\n  this.array = array;\n  this.stride = stride;\n  this.count = array !== undefined ? array.length / stride : 0;\n\n  this.dynamic = false;\n  this.updateRange = { offset: 0, count: - 1 };\n\n  this.onUploadCallback = function () {};\n\n  this.version = 0;\n\n}\n\nObject.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\n\n  set: function ( value ) {\n\n    if ( value === true ) this.version ++;\n\n  }\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\n  isInterleavedBuffer: true,\n\n  setArray: function ( array ) {\n\n    if ( Array.isArray( array ) ) {\n\n      throw new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n    }\n\n    this.count = array !== undefined ? array.length / this.stride : 0;\n    this.array = array;\n\n  },\n\n  setDynamic: function ( value ) {\n\n    this.dynamic = value;\n\n    return this;\n\n  },\n\n  copy: function ( source ) {\n\n    this.array = new source.array.constructor( source.array );\n    this.count = source.count;\n    this.stride = source.stride;\n    this.dynamic = source.dynamic;\n\n    return this;\n\n  },\n\n  copyAt: function ( index1, attribute, index2 ) {\n\n    index1 *= this.stride;\n    index2 *= attribute.stride;\n\n    for ( var i = 0, l = this.stride; i < l; i ++ ) {\n\n      this.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n    }\n\n    return this;\n\n  },\n\n  set: function ( value, offset ) {\n\n    if ( offset === undefined ) offset = 0;\n\n    this.array.set( value, offset );\n\n    return this;\n\n  },\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  onUpload: function ( callback ) {\n\n    this.onUploadCallback = callback;\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\n\n  InterleavedBuffer.call( this, array, stride );\n\n  this.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\n\n  constructor: InstancedInterleavedBuffer,\n\n  isInstancedInterleavedBuffer: true,\n\n  copy: function ( source ) {\n\n    InterleavedBuffer.prototype.copy.call( this, source );\n\n    this.meshPerAttribute = source.meshPerAttribute;\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferAttribute( array, itemSize, meshPerAttribute ) {\n\n  BufferAttribute.call( this, array, itemSize );\n\n  this.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\n\n  constructor: InstancedBufferAttribute,\n\n  isInstancedBufferAttribute: true,\n\n  copy: function ( source ) {\n\n    BufferAttribute.prototype.copy.call( this, source );\n\n    this.meshPerAttribute = source.meshPerAttribute;\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author bhouston / http://clara.io/\n * @author stephomi / http://stephaneginier.com/\n */\n\nfunction Raycaster( origin, direction, near, far ) {\n\n  this.ray = new Ray( origin, direction );\n  // direction is assumed to be normalized (for accurate distance calculations)\n\n  this.near = near || 0;\n  this.far = far || Infinity;\n\n  this.params = {\n    Mesh: {},\n    Line: {},\n    LOD: {},\n    Points: { threshold: 1 },\n    Sprite: {}\n  };\n\n  Object.defineProperties( this.params, {\n    PointCloud: {\n      get: function () {\n        console.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\n        return this.Points;\n      }\n    }\n  } );\n\n}\n\nfunction ascSort( a, b ) {\n\n  return a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n  if ( object.visible === false ) return;\n\n  object.raycast( raycaster, intersects );\n\n  if ( recursive === true ) {\n\n    var children = object.children;\n\n    for ( var i = 0, l = children.length; i < l; i ++ ) {\n\n      intersectObject( children[ i ], raycaster, intersects, true );\n\n    }\n\n  }\n\n}\n\nObject.assign( Raycaster.prototype, {\n\n  linePrecision: 1,\n\n  set: function ( origin, direction ) {\n\n    // direction is assumed to be normalized (for accurate distance calculations)\n\n    this.ray.set( origin, direction );\n\n  },\n\n  setFromCamera: function ( coords, camera ) {\n\n    if ( ( camera && camera.isPerspectiveCamera ) ) {\n\n      this.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n      this.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\n    } else if ( ( camera && camera.isOrthographicCamera ) ) {\n\n      this.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n      this.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\n    } else {\n\n      console.error( 'THREE.Raycaster: Unsupported camera type.' );\n\n    }\n\n  },\n\n  intersectObject: function ( object, recursive ) {\n\n    var intersects = [];\n\n    intersectObject( object, this, intersects, recursive );\n\n    intersects.sort( ascSort );\n\n    return intersects;\n\n  },\n\n  intersectObjects: function ( objects, recursive ) {\n\n    var intersects = [];\n\n    if ( Array.isArray( objects ) === false ) {\n\n      console.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\n      return intersects;\n\n    }\n\n    for ( var i = 0, l = objects.length; i < l; i ++ ) {\n\n      intersectObject( objects[ i ], this, intersects, recursive );\n\n    }\n\n    intersects.sort( ascSort );\n\n    return intersects;\n\n  }\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Clock( autoStart ) {\n\n  this.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\n  this.startTime = 0;\n  this.oldTime = 0;\n  this.elapsedTime = 0;\n\n  this.running = false;\n\n}\n\nObject.assign( Clock.prototype, {\n\n  start: function () {\n\n    this.startTime = ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n    this.oldTime = this.startTime;\n    this.elapsedTime = 0;\n    this.running = true;\n\n  },\n\n  stop: function () {\n\n    this.getElapsedTime();\n    this.running = false;\n    this.autoStart = false;\n\n  },\n\n  getElapsedTime: function () {\n\n    this.getDelta();\n    return this.elapsedTime;\n\n  },\n\n  getDelta: function () {\n\n    var diff = 0;\n\n    if ( this.autoStart && ! this.running ) {\n\n      this.start();\n      return 0;\n\n    }\n\n    if ( this.running ) {\n\n      var newTime = ( typeof performance === 'undefined' ? Date : performance ).now();\n\n      diff = ( newTime - this.oldTime ) / 1000;\n      this.oldTime = newTime;\n\n      this.elapsedTime += diff;\n\n    }\n\n    return diff;\n\n  }\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The poles (phi) are at the positive and negative y axis.\n * The equator starts at positive z.\n */\n\nfunction Spherical( radius, phi, theta ) {\n\n  this.radius = ( radius !== undefined ) ? radius : 1.0;\n  this.phi = ( phi !== undefined ) ? phi : 0; // up / down towards top and bottom pole\n  this.theta = ( theta !== undefined ) ? theta : 0; // around the equator of the sphere\n\n  return this;\n\n}\n\nObject.assign( Spherical.prototype, {\n\n  set: function ( radius, phi, theta ) {\n\n    this.radius = radius;\n    this.phi = phi;\n    this.theta = theta;\n\n    return this;\n\n  },\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  copy: function ( other ) {\n\n    this.radius = other.radius;\n    this.phi = other.phi;\n    this.theta = other.theta;\n\n    return this;\n\n  },\n\n  // restrict phi to be betwee EPS and PI-EPS\n  makeSafe: function() {\n\n    var EPS = 0.000001;\n    this.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n    return this;\n\n  },\n\n  setFromVector3: function( vec3 ) {\n\n    this.radius = vec3.length();\n\n    if ( this.radius === 0 ) {\n\n      this.theta = 0;\n      this.phi = 0;\n\n    } else {\n\n      this.theta = Math.atan2( vec3.x, vec3.z ); // equator angle around y-up axis\n      this.phi = Math.acos( _Math.clamp( vec3.y / this.radius, - 1, 1 ) ); // polar angle\n\n    }\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n *\n */\n\nfunction Cylindrical( radius, theta, y ) {\n\n  this.radius = ( radius !== undefined ) ? radius : 1.0; // distance from the origin to a point in the x-z plane\n  this.theta = ( theta !== undefined ) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n  this.y = ( y !== undefined ) ? y : 0; // height above the x-z plane\n\n  return this;\n\n}\n\nObject.assign( Cylindrical.prototype, {\n\n  set: function ( radius, theta, y ) {\n\n    this.radius = radius;\n    this.theta = theta;\n    this.y = y;\n\n    return this;\n\n  },\n\n  clone: function () {\n\n    return new this.constructor().copy( this );\n\n  },\n\n  copy: function ( other ) {\n\n    this.radius = other.radius;\n    this.theta = other.theta;\n    this.y = other.y;\n\n    return this;\n\n  },\n\n  setFromVector3: function( vec3 ) {\n\n    this.radius = Math.sqrt( vec3.x * vec3.x + vec3.z * vec3.z );\n    this.theta = Math.atan2( vec3.x, vec3.z );\n    this.y = vec3.y;\n\n    return this;\n\n  }\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction ImmediateRenderObject( material ) {\n\n  Object3D.call( this );\n\n  this.material = material;\n  this.render = function ( renderCallback ) {};\n\n}\n\nImmediateRenderObject.prototype = Object.create( Object3D.prototype );\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction VertexNormalsHelper( object, size, hex, linewidth ) {\n\n  this.object = object;\n\n  this.size = ( size !== undefined ) ? size : 1;\n\n  var color = ( hex !== undefined ) ? hex : 0xff0000;\n\n  var width = ( linewidth !== undefined ) ? linewidth : 1;\n\n  //\n\n  var nNormals = 0;\n\n  var objGeometry = this.object.geometry;\n\n  if ( objGeometry && objGeometry.isGeometry ) {\n\n    nNormals = objGeometry.faces.length * 3;\n\n  } else if ( objGeometry && objGeometry.isBufferGeometry ) {\n\n    nNormals = objGeometry.attributes.normal.count;\n\n  }\n\n  //\n\n  var geometry = new BufferGeometry();\n\n  var positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\n\n  geometry.addAttribute( 'position', positions );\n\n  LineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\n\n  //\n\n  this.matrixAutoUpdate = false;\n\n  this.update();\n\n}\n\nVertexNormalsHelper.prototype = Object.create( LineSegments.prototype );\nVertexNormalsHelper.prototype.constructor = VertexNormalsHelper;\n\nVertexNormalsHelper.prototype.update = ( function () {\n\n  var v1 = new Vector3();\n  var v2 = new Vector3();\n  var normalMatrix = new Matrix3();\n\n  return function update() {\n\n    var keys = [ 'a', 'b', 'c' ];\n\n    this.object.updateMatrixWorld( true );\n\n    normalMatrix.getNormalMatrix( this.object.matrixWorld );\n\n    var matrixWorld = this.object.matrixWorld;\n\n    var position = this.geometry.attributes.position;\n\n    //\n\n    var objGeometry = this.object.geometry;\n\n    if ( objGeometry && objGeometry.isGeometry ) {\n\n      var vertices = objGeometry.vertices;\n\n      var faces = objGeometry.faces;\n\n      var idx = 0;\n\n      for ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n        var face = faces[ i ];\n\n        for ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n          var vertex = vertices[ face[ keys[ j ] ] ];\n\n          var normal = face.vertexNormals[ j ];\n\n          v1.copy( vertex ).applyMatrix4( matrixWorld );\n\n          v2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n          position.setXYZ( idx, v1.x, v1.y, v1.z );\n\n          idx = idx + 1;\n\n          position.setXYZ( idx, v2.x, v2.y, v2.z );\n\n          idx = idx + 1;\n\n        }\n\n      }\n\n    } else if ( objGeometry && objGeometry.isBufferGeometry ) {\n\n      var objPos = objGeometry.attributes.position;\n\n      var objNorm = objGeometry.attributes.normal;\n\n      var idx = 0;\n\n      // for simplicity, ignore index and drawcalls, and render every normal\n\n      for ( var j = 0, jl = objPos.count; j < jl; j ++ ) {\n\n        v1.set( objPos.getX( j ), objPos.getY( j ), objPos.getZ( j ) ).applyMatrix4( matrixWorld );\n\n        v2.set( objNorm.getX( j ), objNorm.getY( j ), objNorm.getZ( j ) );\n\n        v2.applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n        position.setXYZ( idx, v1.x, v1.y, v1.z );\n\n        idx = idx + 1;\n\n        position.setXYZ( idx, v2.x, v2.y, v2.z );\n\n        idx = idx + 1;\n\n      }\n\n    }\n\n    position.needsUpdate = true;\n\n  };\n\n}() );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction SpotLightHelper( light, color ) {\n\n  Object3D.call( this );\n\n  this.light = light;\n  this.light.updateMatrixWorld();\n\n  this.matrix = light.matrixWorld;\n  this.matrixAutoUpdate = false;\n\n  this.color = color;\n\n  var geometry = new BufferGeometry();\n\n  var positions = [\n    0, 0, 0,   0,   0,   1,\n    0, 0, 0,   1,   0,   1,\n    0, 0, 0, - 1,   0,   1,\n    0, 0, 0,   0,   1,   1,\n    0, 0, 0,   0, - 1,   1\n  ];\n\n  for ( var i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n    var p1 = ( i / l ) * Math.PI * 2;\n    var p2 = ( j / l ) * Math.PI * 2;\n\n    positions.push(\n      Math.cos( p1 ), Math.sin( p1 ), 1,\n      Math.cos( p2 ), Math.sin( p2 ), 1\n    );\n\n  }\n\n  geometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n  var material = new LineBasicMaterial( { fog: false } );\n\n  this.cone = new LineSegments( geometry, material );\n  this.add( this.cone );\n\n  this.update();\n\n}\n\nSpotLightHelper.prototype = Object.create( Object3D.prototype );\nSpotLightHelper.prototype.constructor = SpotLightHelper;\n\nSpotLightHelper.prototype.dispose = function () {\n\n  this.cone.geometry.dispose();\n  this.cone.material.dispose();\n\n};\n\nSpotLightHelper.prototype.update = function () {\n\n  var vector = new Vector3();\n  var vector2 = new Vector3();\n\n  return function update() {\n\n    this.light.updateMatrixWorld();\n\n    var coneLength = this.light.distance ? this.light.distance : 1000;\n    var coneWidth = coneLength * Math.tan( this.light.angle );\n\n    this.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n    vector.setFromMatrixPosition( this.light.matrixWorld );\n    vector2.setFromMatrixPosition( this.light.target.matrixWorld );\n\n    this.cone.lookAt( vector2.sub( vector ) );\n\n    if ( this.color !== undefined ) {\n\n      this.cone.material.color.set( this.color );\n\n    } else {\n\n      this.cone.material.color.copy( this.light.color );\n\n    }\n\n  };\n\n}();\n\n/**\n * @author Sean Griffin / http://twitter.com/sgrif\n * @author Michael Guerrero / http://realitymeltdown.com\n * @author mrdoob / http://mrdoob.com/\n * @author ikerr / http://verold.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction getBoneList( object ) {\n\n  var boneList = [];\n\n  if ( object && object.isBone ) {\n\n    boneList.push( object );\n\n  }\n\n  for ( var i = 0; i < object.children.length; i ++ ) {\n\n    boneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n  }\n\n  return boneList;\n\n}\n\nfunction SkeletonHelper( object ) {\n\n  var bones = getBoneList( object );\n\n  var geometry = new BufferGeometry();\n\n  var vertices = [];\n  var colors = [];\n\n  var color1 = new Color( 0, 0, 1 );\n  var color2 = new Color( 0, 1, 0 );\n\n  for ( var i = 0; i < bones.length; i ++ ) {\n\n    var bone = bones[ i ];\n\n    if ( bone.parent && bone.parent.isBone ) {\n\n      vertices.push( 0, 0, 0 );\n      vertices.push( 0, 0, 0 );\n      colors.push( color1.r, color1.g, color1.b );\n      colors.push( color2.r, color2.g, color2.b );\n\n    }\n\n  }\n\n  geometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  geometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n  var material = new LineBasicMaterial( { vertexColors: VertexColors, depthTest: false, depthWrite: false, transparent: true } );\n\n  LineSegments.call( this, geometry, material );\n\n  this.root = object;\n  this.bones = bones;\n\n  this.matrix = object.matrixWorld;\n  this.matrixAutoUpdate = false;\n\n  this.onBeforeRender();\n\n}\n\nSkeletonHelper.prototype = Object.create( LineSegments.prototype );\nSkeletonHelper.prototype.constructor = SkeletonHelper;\n\nSkeletonHelper.prototype.onBeforeRender = function () {\n\n  var vector = new Vector3();\n\n  var boneMatrix = new Matrix4();\n  var matrixWorldInv = new Matrix4();\n\n  return function onBeforeRender() {\n\n    var bones = this.bones;\n\n    var geometry = this.geometry;\n    var position = geometry.getAttribute( 'position' );\n\n    matrixWorldInv.getInverse( this.root.matrixWorld );\n\n    for ( var i = 0, j = 0; i < bones.length; i ++ ) {\n\n      var bone = bones[ i ];\n\n      if ( bone.parent && bone.parent.isBone ) {\n\n        boneMatrix.multiplyMatrices( matrixWorldInv, bone.matrixWorld );\n        vector.setFromMatrixPosition( boneMatrix );\n        position.setXYZ( j, vector.x, vector.y, vector.z );\n\n        boneMatrix.multiplyMatrices( matrixWorldInv, bone.parent.matrixWorld );\n        vector.setFromMatrixPosition( boneMatrix );\n        position.setXYZ( j + 1, vector.x, vector.y, vector.z );\n\n        j += 2;\n\n      }\n\n    }\n\n    geometry.getAttribute( 'position' ).needsUpdate = true;\n\n  };\n\n}();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PointLightHelper( light, sphereSize, color ) {\n\n  this.light = light;\n  this.light.updateMatrixWorld();\n\n  this.color = color;\n\n  var geometry = new SphereBufferGeometry( sphereSize, 4, 2 );\n  var material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\n  Mesh.call( this, geometry, material );\n\n  this.matrix = this.light.matrixWorld;\n  this.matrixAutoUpdate = false;\n\n  this.update();\n\n\n  /*\n   var distanceGeometry = new THREE.IcosahedronGeometry( 1, 2 );\n   var distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n   this.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n   this.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n   var d = light.distance;\n\n   if ( d === 0.0 ) {\n\n   this.lightDistance.visible = false;\n\n   } else {\n\n   this.lightDistance.scale.set( d, d, d );\n\n   }\n\n   this.add( this.lightDistance );\n   */\n\n}\n\nPointLightHelper.prototype = Object.create( Mesh.prototype );\nPointLightHelper.prototype.constructor = PointLightHelper;\n\nPointLightHelper.prototype.dispose = function () {\n\n  this.geometry.dispose();\n  this.material.dispose();\n\n};\n\nPointLightHelper.prototype.update = function () {\n\n  if ( this.color !== undefined ) {\n\n    this.material.color.set( this.color );\n\n  } else {\n\n    this.material.color.copy( this.light.color );\n\n  }\n\n  /*\n   var d = this.light.distance;\n\n   if ( d === 0.0 ) {\n\n   this.lightDistance.visible = false;\n\n   } else {\n\n   this.lightDistance.visible = true;\n   this.lightDistance.scale.set( d, d, d );\n\n   }\n   */\n\n};\n\n/**\n * @author abelnation / http://github.com/abelnation\n * @author Mugen87 / http://github.com/Mugen87\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction RectAreaLightHelper( light, color ) {\n\n  Object3D.call( this );\n\n  this.light = light;\n  this.light.updateMatrixWorld();\n\n  this.matrix = light.matrixWorld;\n  this.matrixAutoUpdate = false;\n\n  this.color = color;\n\n  var material = new LineBasicMaterial( { fog: false } );\n\n  var geometry = new BufferGeometry();\n\n  geometry.addAttribute( 'position', new BufferAttribute( new Float32Array( 5 * 3 ), 3 ) );\n\n  this.line = new Line( geometry, material );\n  this.add( this.line );\n\n\n  this.update();\n\n}\n\nRectAreaLightHelper.prototype = Object.create( Object3D.prototype );\nRectAreaLightHelper.prototype.constructor = RectAreaLightHelper;\n\nRectAreaLightHelper.prototype.dispose = function () {\n\n  this.children[ 0 ].geometry.dispose();\n  this.children[ 0 ].material.dispose();\n\n};\n\nRectAreaLightHelper.prototype.update = function () {\n\n  // calculate new dimensions of the helper\n\n  var hx = this.light.width * 0.5;\n  var hy = this.light.height * 0.5;\n\n  var position = this.line.geometry.attributes.position;\n  var array = position.array;\n\n  // update vertices\n\n  array[  0 ] =   hx; array[  1 ] = - hy; array[  2 ] = 0;\n  array[  3 ] =   hx; array[  4 ] =   hy; array[  5 ] = 0;\n  array[  6 ] = - hx; array[  7 ] =   hy; array[  8 ] = 0;\n  array[  9 ] = - hx; array[ 10 ] = - hy; array[ 11 ] = 0;\n  array[ 12 ] =   hx; array[ 13 ] = - hy; array[ 14 ] = 0;\n\n  position.needsUpdate = true;\n\n  if ( this.color !== undefined ) {\n\n    this.line.material.color.set( this.color );\n\n  } else {\n\n    this.line.material.color.copy( this.light.color );\n\n  }\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction HemisphereLightHelper( light, size, color ) {\n\n  Object3D.call( this );\n\n  this.light = light;\n  this.light.updateMatrixWorld();\n\n  this.matrix = light.matrixWorld;\n  this.matrixAutoUpdate = false;\n\n  this.color = color;\n\n  var geometry = new OctahedronBufferGeometry( size );\n  geometry.rotateY( Math.PI * 0.5 );\n\n  this.material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n  if ( this.color === undefined ) this.material.vertexColors = VertexColors;\n\n  var position = geometry.getAttribute( 'position' );\n  var colors = new Float32Array( position.count * 3 );\n\n  geometry.addAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n  this.add( new Mesh( geometry, this.material ) );\n\n  this.update();\n\n}\n\nHemisphereLightHelper.prototype = Object.create( Object3D.prototype );\nHemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\n\nHemisphereLightHelper.prototype.dispose = function () {\n\n  this.children[ 0 ].geometry.dispose();\n  this.children[ 0 ].material.dispose();\n\n};\n\nHemisphereLightHelper.prototype.update = function () {\n\n  var vector = new Vector3();\n\n  var color1 = new Color();\n  var color2 = new Color();\n\n  return function update() {\n\n    var mesh = this.children[ 0 ];\n\n    if ( this.color !== undefined ) {\n\n      this.material.color.set( this.color );\n\n    } else {\n\n      var colors = mesh.geometry.getAttribute( 'color' );\n\n      color1.copy( this.light.color );\n      color2.copy( this.light.groundColor );\n\n      for ( var i = 0, l = colors.count; i < l; i ++ ) {\n\n        var color = ( i < ( l / 2 ) ) ? color1 : color2;\n\n        colors.setXYZ( i, color.r, color.g, color.b );\n\n      }\n\n      colors.needsUpdate = true;\n\n    }\n\n    mesh.lookAt( vector.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n  };\n\n}();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction GridHelper( size, divisions, color1, color2 ) {\n\n  size = size || 10;\n  divisions = divisions || 10;\n  color1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n  color2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n  var center = divisions / 2;\n  var step = size / divisions;\n  var halfSize = size / 2;\n\n  var vertices = [], colors = [];\n\n  for ( var i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n    vertices.push( - halfSize, 0, k, halfSize, 0, k );\n    vertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n    var color = i === center ? color1 : color2;\n\n    color.toArray( colors, j ); j += 3;\n    color.toArray( colors, j ); j += 3;\n    color.toArray( colors, j ); j += 3;\n    color.toArray( colors, j ); j += 3;\n\n  }\n\n  var geometry = new BufferGeometry();\n  geometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  geometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n  var material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n  LineSegments.call( this, geometry, material );\n\n}\n\nGridHelper.prototype = Object.create( LineSegments.prototype );\nGridHelper.prototype.constructor = GridHelper;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n * @author Hectate / http://www.github.com/Hectate\n */\n\nfunction PolarGridHelper( radius, radials, circles, divisions, color1, color2 ) {\n\n  radius = radius || 10;\n  radials = radials || 16;\n  circles = circles || 8;\n  divisions = divisions || 64;\n  color1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n  color2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n  var vertices = [];\n  var colors = [];\n\n  var x, z;\n  var v, i, j, r, color;\n\n  // create the radials\n\n  for ( i = 0; i <= radials; i ++ ) {\n\n    v = ( i / radials ) * ( Math.PI * 2 );\n\n    x = Math.sin( v ) * radius;\n    z = Math.cos( v ) * radius;\n\n    vertices.push( 0, 0, 0 );\n    vertices.push( x, 0, z );\n\n    color = ( i & 1 ) ? color1 : color2;\n\n    colors.push( color.r, color.g, color.b );\n    colors.push( color.r, color.g, color.b );\n\n  }\n\n  // create the circles\n\n  for ( i = 0; i <= circles; i ++ ) {\n\n    color = ( i & 1 ) ? color1 : color2;\n\n    r = radius - ( radius / circles * i );\n\n    for ( j = 0; j < divisions; j ++ ) {\n\n      // first vertex\n\n      v = ( j / divisions ) * ( Math.PI * 2 );\n\n      x = Math.sin( v ) * r;\n      z = Math.cos( v ) * r;\n\n      vertices.push( x, 0, z );\n      colors.push( color.r, color.g, color.b );\n\n      // second vertex\n\n      v = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n      x = Math.sin( v ) * r;\n      z = Math.cos( v ) * r;\n\n      vertices.push( x, 0, z );\n      colors.push( color.r, color.g, color.b );\n\n    }\n\n  }\n\n  var geometry = new BufferGeometry();\n  geometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  geometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n  var material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n  LineSegments.call( this, geometry, material );\n\n}\n\nPolarGridHelper.prototype = Object.create( LineSegments.prototype );\nPolarGridHelper.prototype.constructor = PolarGridHelper;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction FaceNormalsHelper( object, size, hex, linewidth ) {\n\n  // FaceNormalsHelper only supports THREE.Geometry\n\n  this.object = object;\n\n  this.size = ( size !== undefined ) ? size : 1;\n\n  var color = ( hex !== undefined ) ? hex : 0xffff00;\n\n  var width = ( linewidth !== undefined ) ? linewidth : 1;\n\n  //\n\n  var nNormals = 0;\n\n  var objGeometry = this.object.geometry;\n\n  if ( objGeometry && objGeometry.isGeometry ) {\n\n    nNormals = objGeometry.faces.length;\n\n  } else {\n\n    console.warn( 'THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.' );\n\n  }\n\n  //\n\n  var geometry = new BufferGeometry();\n\n  var positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\n\n  geometry.addAttribute( 'position', positions );\n\n  LineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\n\n  //\n\n  this.matrixAutoUpdate = false;\n  this.update();\n\n}\n\nFaceNormalsHelper.prototype = Object.create( LineSegments.prototype );\nFaceNormalsHelper.prototype.constructor = FaceNormalsHelper;\n\nFaceNormalsHelper.prototype.update = ( function () {\n\n  var v1 = new Vector3();\n  var v2 = new Vector3();\n  var normalMatrix = new Matrix3();\n\n  return function update() {\n\n    this.object.updateMatrixWorld( true );\n\n    normalMatrix.getNormalMatrix( this.object.matrixWorld );\n\n    var matrixWorld = this.object.matrixWorld;\n\n    var position = this.geometry.attributes.position;\n\n    //\n\n    var objGeometry = this.object.geometry;\n\n    var vertices = objGeometry.vertices;\n\n    var faces = objGeometry.faces;\n\n    var idx = 0;\n\n    for ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n      var face = faces[ i ];\n\n      var normal = face.normal;\n\n      v1.copy( vertices[ face.a ] )\n        .add( vertices[ face.b ] )\n        .add( vertices[ face.c ] )\n        .divideScalar( 3 )\n        .applyMatrix4( matrixWorld );\n\n      v2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n      position.setXYZ( idx, v1.x, v1.y, v1.z );\n\n      idx = idx + 1;\n\n      position.setXYZ( idx, v2.x, v2.y, v2.z );\n\n      idx = idx + 1;\n\n    }\n\n    position.needsUpdate = true;\n\n  };\n\n}() );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction DirectionalLightHelper( light, size, color ) {\n\n  Object3D.call( this );\n\n  this.light = light;\n  this.light.updateMatrixWorld();\n\n  this.matrix = light.matrixWorld;\n  this.matrixAutoUpdate = false;\n\n  this.color = color;\n\n  if ( size === undefined ) size = 1;\n\n  var geometry = new BufferGeometry();\n  geometry.addAttribute( 'position', new Float32BufferAttribute( [\n    - size,   size, 0,\n    size,   size, 0,\n    size, - size, 0,\n    - size, - size, 0,\n    - size,   size, 0\n  ], 3 ) );\n\n  var material = new LineBasicMaterial( { fog: false } );\n\n  this.lightPlane = new Line( geometry, material );\n  this.add( this.lightPlane );\n\n  geometry = new BufferGeometry();\n  geometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n  this.targetLine = new Line( geometry, material );\n  this.add( this.targetLine );\n\n  this.update();\n\n}\n\nDirectionalLightHelper.prototype = Object.create( Object3D.prototype );\nDirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\n\nDirectionalLightHelper.prototype.dispose = function () {\n\n  this.lightPlane.geometry.dispose();\n  this.lightPlane.material.dispose();\n  this.targetLine.geometry.dispose();\n  this.targetLine.material.dispose();\n\n};\n\nDirectionalLightHelper.prototype.update = function () {\n\n  var v1 = new Vector3();\n  var v2 = new Vector3();\n  var v3 = new Vector3();\n\n  return function update() {\n\n    v1.setFromMatrixPosition( this.light.matrixWorld );\n    v2.setFromMatrixPosition( this.light.target.matrixWorld );\n    v3.subVectors( v2, v1 );\n\n    this.lightPlane.lookAt( v3 );\n\n    if ( this.color !== undefined ) {\n\n      this.lightPlane.material.color.set( this.color );\n      this.targetLine.material.color.set( this.color );\n\n    } else {\n\n      this.lightPlane.material.color.copy( this.light.color );\n      this.targetLine.material.color.copy( this.light.color );\n\n    }\n\n    this.targetLine.lookAt( v3 );\n    this.targetLine.scale.z = v3.length();\n\n  };\n\n}();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author Mugen87 / https://github.com/Mugen87\n *\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nfunction CameraHelper( camera ) {\n\n  var geometry = new BufferGeometry();\n  var material = new LineBasicMaterial( { color: 0xffffff, vertexColors: FaceColors } );\n\n  var vertices = [];\n  var colors = [];\n\n  var pointMap = {};\n\n  // colors\n\n  var colorFrustum = new Color( 0xffaa00 );\n  var colorCone = new Color( 0xff0000 );\n  var colorUp = new Color( 0x00aaff );\n  var colorTarget = new Color( 0xffffff );\n  var colorCross = new Color( 0x333333 );\n\n  // near\n\n  addLine( \"n1\", \"n2\", colorFrustum );\n  addLine( \"n2\", \"n4\", colorFrustum );\n  addLine( \"n4\", \"n3\", colorFrustum );\n  addLine( \"n3\", \"n1\", colorFrustum );\n\n  // far\n\n  addLine( \"f1\", \"f2\", colorFrustum );\n  addLine( \"f2\", \"f4\", colorFrustum );\n  addLine( \"f4\", \"f3\", colorFrustum );\n  addLine( \"f3\", \"f1\", colorFrustum );\n\n  // sides\n\n  addLine( \"n1\", \"f1\", colorFrustum );\n  addLine( \"n2\", \"f2\", colorFrustum );\n  addLine( \"n3\", \"f3\", colorFrustum );\n  addLine( \"n4\", \"f4\", colorFrustum );\n\n  // cone\n\n  addLine( \"p\", \"n1\", colorCone );\n  addLine( \"p\", \"n2\", colorCone );\n  addLine( \"p\", \"n3\", colorCone );\n  addLine( \"p\", \"n4\", colorCone );\n\n  // up\n\n  addLine( \"u1\", \"u2\", colorUp );\n  addLine( \"u2\", \"u3\", colorUp );\n  addLine( \"u3\", \"u1\", colorUp );\n\n  // target\n\n  addLine( \"c\", \"t\", colorTarget );\n  addLine( \"p\", \"c\", colorCross );\n\n  // cross\n\n  addLine( \"cn1\", \"cn2\", colorCross );\n  addLine( \"cn3\", \"cn4\", colorCross );\n\n  addLine( \"cf1\", \"cf2\", colorCross );\n  addLine( \"cf3\", \"cf4\", colorCross );\n\n  function addLine( a, b, color ) {\n\n    addPoint( a, color );\n    addPoint( b, color );\n\n  }\n\n  function addPoint( id, color ) {\n\n    vertices.push( 0, 0, 0 );\n    colors.push( color.r, color.g, color.b );\n\n    if ( pointMap[ id ] === undefined ) {\n\n      pointMap[ id ] = [];\n\n    }\n\n    pointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n  }\n\n  geometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  geometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n  LineSegments.call( this, geometry, material );\n\n  this.camera = camera;\n  if ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n  this.matrix = camera.matrixWorld;\n  this.matrixAutoUpdate = false;\n\n  this.pointMap = pointMap;\n\n  this.update();\n\n}\n\nCameraHelper.prototype = Object.create( LineSegments.prototype );\nCameraHelper.prototype.constructor = CameraHelper;\n\nCameraHelper.prototype.update = function () {\n\n  var geometry, pointMap;\n\n  var vector = new Vector3();\n  var camera = new Camera();\n\n  function setPoint( point, x, y, z ) {\n\n    vector.set( x, y, z ).unproject( camera );\n\n    var points = pointMap[ point ];\n\n    if ( points !== undefined ) {\n\n      var position = geometry.getAttribute( 'position' );\n\n      for ( var i = 0, l = points.length; i < l; i ++ ) {\n\n        position.setXYZ( points[ i ], vector.x, vector.y, vector.z );\n\n      }\n\n    }\n\n  }\n\n  return function update() {\n\n    geometry = this.geometry;\n    pointMap = this.pointMap;\n\n    var w = 1, h = 1;\n\n    // we need just camera projection matrix\n    // world matrix must be identity\n\n    camera.projectionMatrix.copy( this.camera.projectionMatrix );\n\n    // center / target\n\n    setPoint( \"c\", 0, 0, - 1 );\n    setPoint( \"t\", 0, 0,  1 );\n\n    // near\n\n    setPoint( \"n1\", - w, - h, - 1 );\n    setPoint( \"n2\",   w, - h, - 1 );\n    setPoint( \"n3\", - w,   h, - 1 );\n    setPoint( \"n4\",   w,   h, - 1 );\n\n    // far\n\n    setPoint( \"f1\", - w, - h, 1 );\n    setPoint( \"f2\",   w, - h, 1 );\n    setPoint( \"f3\", - w,   h, 1 );\n    setPoint( \"f4\",   w,   h, 1 );\n\n    // up\n\n    setPoint( \"u1\",   w * 0.7, h * 1.1, - 1 );\n    setPoint( \"u2\", - w * 0.7, h * 1.1, - 1 );\n    setPoint( \"u3\",         0, h * 2,   - 1 );\n\n    // cross\n\n    setPoint( \"cf1\", - w,   0, 1 );\n    setPoint( \"cf2\",   w,   0, 1 );\n    setPoint( \"cf3\",   0, - h, 1 );\n    setPoint( \"cf4\",   0,   h, 1 );\n\n    setPoint( \"cn1\", - w,   0, - 1 );\n    setPoint( \"cn2\",   w,   0, - 1 );\n    setPoint( \"cn3\",   0, - h, - 1 );\n    setPoint( \"cn4\",   0,   h, - 1 );\n\n    geometry.getAttribute( 'position' ).needsUpdate = true;\n\n  };\n\n}();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n */\n\nfunction BoxHelper( object, color ) {\n\n  this.object = object;\n\n  if ( color === undefined ) color = 0xffff00;\n\n  var indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n  var positions = new Float32Array( 8 * 3 );\n\n  var geometry = new BufferGeometry();\n  geometry.setIndex( new BufferAttribute( indices, 1 ) );\n  geometry.addAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n  LineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n  this.matrixAutoUpdate = false;\n\n  this.update();\n\n}\n\nBoxHelper.prototype = Object.create( LineSegments.prototype );\nBoxHelper.prototype.constructor = BoxHelper;\n\nBoxHelper.prototype.update = ( function () {\n\n  var box = new Box3();\n\n  return function update( object ) {\n\n    if ( object !== undefined ) {\n\n      console.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n    }\n\n    if ( this.object !== undefined ) {\n\n      box.setFromObject( this.object );\n\n    }\n\n    if ( box.isEmpty() ) return;\n\n    var min = box.min;\n    var max = box.max;\n\n    /*\n     5____4\n     1/___0/|\n     | 6__|_7\n     2/___3/\n\n     0: max.x, max.y, max.z\n     1: min.x, max.y, max.z\n     2: min.x, min.y, max.z\n     3: max.x, min.y, max.z\n     4: max.x, max.y, min.z\n     5: min.x, max.y, min.z\n     6: min.x, min.y, min.z\n     7: max.x, min.y, min.z\n     */\n\n    var position = this.geometry.attributes.position;\n    var array = position.array;\n\n    array[  0 ] = max.x; array[  1 ] = max.y; array[  2 ] = max.z;\n    array[  3 ] = min.x; array[  4 ] = max.y; array[  5 ] = max.z;\n    array[  6 ] = min.x; array[  7 ] = min.y; array[  8 ] = max.z;\n    array[  9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n    array[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n    array[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n    array[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n    array[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n    position.needsUpdate = true;\n\n    this.geometry.computeBoundingSphere();\n\n  };\n\n} )();\n\nBoxHelper.prototype.setFromObject = function ( object ) {\n\n  this.object = object;\n  this.update();\n\n  return this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3Helper( box, hex ) {\n\n  this.type = 'Box3Helper';\n\n  this.box = box;\n\n  var color = ( hex !== undefined ) ? hex : 0xffff00;\n\n  var indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n  var positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n  var geometry = new BufferGeometry();\n\n  geometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n  geometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n  LineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n  this.geometry.computeBoundingSphere();\n\n  this.onBeforeRender();\n\n}\n\nBox3Helper.prototype = Object.create( LineSegments.prototype );\nBox3Helper.prototype.constructor = Box3Helper;\n\nBox3Helper.prototype.onBeforeRender = function () {\n\n  var box = this.box;\n\n  if ( box.isEmpty() ) return;\n\n  box.getCenter( this.position );\n\n  box.getSize( this.scale );\n\n  this.scale.multiplyScalar( 0.5 );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction PlaneHelper( plane, size, hex ) {\n\n  this.type = 'PlaneHelper';\n\n  this.plane = plane;\n\n  this.size = ( size === undefined ) ? 1 : size;\n\n  var color = ( hex !== undefined ) ? hex : 0xffff00;\n\n  var positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n  var geometry = new BufferGeometry();\n  geometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n  geometry.computeBoundingSphere();\n\n  Line.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n  //\n\n  var positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n  var geometry2 = new BufferGeometry();\n  geometry2.addAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n  geometry2.computeBoundingSphere();\n\n  this.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false } ) ) );\n\n  //\n\n  this.onBeforeRender();\n\n}\n\nPlaneHelper.prototype = Object.create( Line.prototype );\nPlaneHelper.prototype.constructor = PlaneHelper;\n\nPlaneHelper.prototype.onBeforeRender = function () {\n\n  var scale = - this.plane.constant;\n\n  if ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n  this.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n  this.lookAt( this.plane.normal );\n\n  this.updateMatrixWorld();\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author zz85 / http://github.com/zz85\n * @author bhouston / http://clara.io\n *\n * Creates an arrow for visualizing directions\n *\n * Parameters:\n *  dir - Vector3\n *  origin - Vector3\n *  length - Number\n *  color - color in hex value\n *  headLength - Number\n *  headWidth - Number\n */\n\nvar lineGeometry;\nvar coneGeometry;\n\nfunction ArrowHelper( dir, origin, length, color, headLength, headWidth ) {\n\n  // dir is assumed to be normalized\n\n  Object3D.call( this );\n\n  if ( color === undefined ) color = 0xffff00;\n  if ( length === undefined ) length = 1;\n  if ( headLength === undefined ) headLength = 0.2 * length;\n  if ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n  if ( lineGeometry === undefined ) {\n\n    lineGeometry = new BufferGeometry();\n    lineGeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n    coneGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\n    coneGeometry.translate( 0, - 0.5, 0 );\n\n  }\n\n  this.position.copy( origin );\n\n  this.line = new Line( lineGeometry, new LineBasicMaterial( { color: color } ) );\n  this.line.matrixAutoUpdate = false;\n  this.add( this.line );\n\n  this.cone = new Mesh( coneGeometry, new MeshBasicMaterial( { color: color } ) );\n  this.cone.matrixAutoUpdate = false;\n  this.add( this.cone );\n\n  this.setDirection( dir );\n  this.setLength( length, headLength, headWidth );\n\n}\n\nArrowHelper.prototype = Object.create( Object3D.prototype );\nArrowHelper.prototype.constructor = ArrowHelper;\n\nArrowHelper.prototype.setDirection = ( function () {\n\n  var axis = new Vector3();\n  var radians;\n\n  return function setDirection( dir ) {\n\n    // dir is assumed to be normalized\n\n    if ( dir.y > 0.99999 ) {\n\n      this.quaternion.set( 0, 0, 0, 1 );\n\n    } else if ( dir.y < - 0.99999 ) {\n\n      this.quaternion.set( 1, 0, 0, 0 );\n\n    } else {\n\n      axis.set( dir.z, 0, - dir.x ).normalize();\n\n      radians = Math.acos( dir.y );\n\n      this.quaternion.setFromAxisAngle( axis, radians );\n\n    }\n\n  };\n\n}() );\n\nArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\n\n  if ( headLength === undefined ) headLength = 0.2 * length;\n  if ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n  this.line.scale.set( 1, Math.max( 0, length - headLength ), 1 );\n  this.line.updateMatrix();\n\n  this.cone.scale.set( headWidth, headLength, headWidth );\n  this.cone.position.y = length;\n  this.cone.updateMatrix();\n\n};\n\nArrowHelper.prototype.setColor = function ( color ) {\n\n  this.line.material.color.copy( color );\n  this.cone.material.color.copy( color );\n\n};\n\n/**\n * @author sroucheray / http://sroucheray.org/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AxisHelper( size ) {\n\n  size = size || 1;\n\n  var vertices = [\n    0, 0, 0,  size, 0, 0,\n    0, 0, 0,  0, size, 0,\n    0, 0, 0,  0, 0, size\n  ];\n\n  var colors = [\n    1, 0, 0,  1, 0.6, 0,\n    0, 1, 0,  0.6, 1, 0,\n    0, 0, 1,  0, 0.6, 1\n  ];\n\n  var geometry = new BufferGeometry();\n  geometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n  geometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n  var material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n  LineSegments.call( this, geometry, material );\n\n}\n\nAxisHelper.prototype = Object.create( LineSegments.prototype );\nAxisHelper.prototype.constructor = AxisHelper;\n\n/**\n * @author zz85 https://github.com/zz85\n *\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\n Based on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\n This CubicPoly class could be used for reusing some variables and calculations,\n but for three.js curve use, it could be possible inlined and flatten into a single function call\n which can be placed in CurveUtils.\n */\n\nfunction CubicPoly() {\n\n  var c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n  /*\n   * Compute coefficients for a cubic polynomial\n   *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n   * such that\n   *   p(0) = x0, p(1) = x1\n   *  and\n   *   p'(0) = t0, p'(1) = t1.\n   */\n  function init( x0, x1, t0, t1 ) {\n\n    c0 = x0;\n    c1 = t0;\n    c2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n    c3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n  }\n\n  return {\n\n    initCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n      init( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n    },\n\n    initNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n      // compute tangents when parameterized in [t1,t2]\n      var t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n      var t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n      // rescale tangents for parametrization in [0,1]\n      t1 *= dt1;\n      t2 *= dt1;\n\n      init( x1, x2, t1, t2 );\n\n    },\n\n    calc: function ( t ) {\n\n      var t2 = t * t;\n      var t3 = t2 * t;\n      return c0 + c1 * t + c2 * t2 + c3 * t3;\n\n    }\n\n  };\n\n}\n\n//\n\nvar tmp = new Vector3();\nvar px = new CubicPoly();\nvar py = new CubicPoly();\nvar pz = new CubicPoly();\n\nfunction CatmullRomCurve3( points ) {\n\n  Curve.call( this );\n\n  if ( points.length < 2 ) console.warn( 'THREE.CatmullRomCurve3: Points array needs at least two entries.' );\n\n  this.points = points || [];\n  this.closed = false;\n\n}\n\nCatmullRomCurve3.prototype = Object.create( Curve.prototype );\nCatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\nCatmullRomCurve3.prototype.getPoint = function ( t ) {\n\n  var points = this.points;\n  var l = points.length;\n\n  var point = ( l - ( this.closed ? 0 : 1 ) ) * t;\n  var intPoint = Math.floor( point );\n  var weight = point - intPoint;\n\n  if ( this.closed ) {\n\n    intPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / points.length ) + 1 ) * points.length;\n\n  } else if ( weight === 0 && intPoint === l - 1 ) {\n\n    intPoint = l - 2;\n    weight = 1;\n\n  }\n\n  var p0, p1, p2, p3; // 4 points\n\n  if ( this.closed || intPoint > 0 ) {\n\n    p0 = points[ ( intPoint - 1 ) % l ];\n\n  } else {\n\n    // extrapolate first point\n    tmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n    p0 = tmp;\n\n  }\n\n  p1 = points[ intPoint % l ];\n  p2 = points[ ( intPoint + 1 ) % l ];\n\n  if ( this.closed || intPoint + 2 < l ) {\n\n    p3 = points[ ( intPoint + 2 ) % l ];\n\n  } else {\n\n    // extrapolate last point\n    tmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n    p3 = tmp;\n\n  }\n\n  if ( this.type === undefined || this.type === 'centripetal' || this.type === 'chordal' ) {\n\n    // init Centripetal / Chordal Catmull-Rom\n    var pow = this.type === 'chordal' ? 0.5 : 0.25;\n    var dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n    var dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n    var dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n    // safety check for repeated points\n    if ( dt1 < 1e-4 ) dt1 = 1.0;\n    if ( dt0 < 1e-4 ) dt0 = dt1;\n    if ( dt2 < 1e-4 ) dt2 = dt1;\n\n    px.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n    py.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n    pz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n  } else if ( this.type === 'catmullrom' ) {\n\n    var tension = this.tension !== undefined ? this.tension : 0.5;\n    px.initCatmullRom( p0.x, p1.x, p2.x, p3.x, tension );\n    py.initCatmullRom( p0.y, p1.y, p2.y, p3.y, tension );\n    pz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, tension );\n\n  }\n\n  return new Vector3( px.calc( weight ), py.calc( weight ), pz.calc( weight ) );\n\n};\n\nfunction CubicBezierCurve3( v0, v1, v2, v3 ) {\n\n  Curve.call( this );\n\n  this.v0 = v0;\n  this.v1 = v1;\n  this.v2 = v2;\n  this.v3 = v3;\n\n}\n\nCubicBezierCurve3.prototype = Object.create( Curve.prototype );\nCubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\nCubicBezierCurve3.prototype.getPoint = function ( t ) {\n\n  var v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n  return new Vector3(\n    CubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n    CubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n    CubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n  );\n\n};\n\nfunction QuadraticBezierCurve3( v0, v1, v2 ) {\n\n  Curve.call( this );\n\n  this.v0 = v0;\n  this.v1 = v1;\n  this.v2 = v2;\n\n}\n\nQuadraticBezierCurve3.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\nQuadraticBezierCurve3.prototype.getPoint = function ( t ) {\n\n  var v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n  return new Vector3(\n    QuadraticBezier( t, v0.x, v1.x, v2.x ),\n    QuadraticBezier( t, v0.y, v1.y, v2.y ),\n    QuadraticBezier( t, v0.z, v1.z, v2.z )\n  );\n\n};\n\nfunction LineCurve3( v1, v2 ) {\n\n  Curve.call( this );\n\n  this.v1 = v1;\n  this.v2 = v2;\n\n}\n\nLineCurve3.prototype = Object.create( Curve.prototype );\nLineCurve3.prototype.constructor = LineCurve3;\n\nLineCurve3.prototype.getPoint = function ( t ) {\n\n  if ( t === 1 ) {\n\n    return this.v2.clone();\n\n  }\n\n  var vector = new Vector3();\n\n  vector.subVectors( this.v2, this.v1 ); // diff\n  vector.multiplyScalar( t );\n  vector.add( this.v1 );\n\n  return vector;\n\n};\n\nfunction ArcCurve( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n  EllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n}\n\nArcCurve.prototype = Object.create( EllipseCurve.prototype );\nArcCurve.prototype.constructor = ArcCurve;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar SceneUtils = {\n\n  createMultiMaterialObject: function ( geometry, materials ) {\n\n    var group = new Group();\n\n    for ( var i = 0, l = materials.length; i < l; i ++ ) {\n\n      group.add( new Mesh( geometry, materials[ i ] ) );\n\n    }\n\n    return group;\n\n  },\n\n  detach: function ( child, parent, scene ) {\n\n    child.applyMatrix( parent.matrixWorld );\n    parent.remove( child );\n    scene.add( child );\n\n  },\n\n  attach: function ( child, scene, parent ) {\n\n    child.applyMatrix( new Matrix4().getInverse( parent.matrixWorld ) );\n\n    scene.remove( child );\n    parent.add( child );\n\n  }\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Face4( a, b, c, d, normal, color, materialIndex ) {\n\n  console.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\n  return new Face3( a, b, c, normal, color, materialIndex );\n\n}\n\nvar LineStrip = 0;\n\nvar LinePieces = 1;\n\nfunction MeshFaceMaterial( materials ) {\n\n  console.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n  return materials;\n\n}\n\nfunction MultiMaterial( materials ) {\n\n  if ( materials === undefined ) materials = [];\n\n  console.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n  materials.isMultiMaterial = true;\n  materials.materials = materials;\n  materials.clone = function () {\n\n    return materials.slice();\n\n  };\n  return materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n  console.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n  return new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n  console.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n  return new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n  console.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n  return new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n  console.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n  return new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n  console.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n  return new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n  console.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n  return new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n  console.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n  return new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n  console.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.' );\n  return new BufferAttribute( array, itemSize ).setDynamic( true );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n  console.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n  return new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n  console.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n  return new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n  console.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n  return new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n  console.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n  return new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n  console.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n  return new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n  console.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n  return new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n  console.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n  return new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n  console.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n  return new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n  console.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n  return new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n  console.log( 'THREE.Curve.create() has been deprecated' );\n\n  construct.prototype = Object.create( Curve.prototype );\n  construct.prototype.constructor = construct;\n  construct.prototype.getPoint = getPoint;\n\n  return construct;\n\n};\n\n//\n\nfunction ClosedSplineCurve3( points ) {\n\n  console.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n  CatmullRomCurve3.call( this, points );\n  this.type = 'catmullrom';\n  this.closed = true;\n\n}\n\nClosedSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction SplineCurve3( points ) {\n\n  console.warn( 'THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n  CatmullRomCurve3.call( this, points );\n  this.type = 'catmullrom';\n\n}\n\nSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction Spline( points ) {\n\n  console.warn( 'THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.' );\n\n  CatmullRomCurve3.call( this, points );\n  this.type = 'catmullrom';\n\n}\n\nSpline.prototype = Object.create( CatmullRomCurve3.prototype );\n\nObject.assign( Spline.prototype, {\n\n  initFromArray: function ( a ) {\n\n    console.error( 'THREE.Spline: .initFromArray() has been removed.' );\n\n  },\n  getControlPointsArray: function ( optionalTarget ) {\n\n    console.error( 'THREE.Spline: .getControlPointsArray() has been removed.' );\n\n  },\n  reparametrizeByArcLength: function ( samplingCoef ) {\n\n    console.error( 'THREE.Spline: .reparametrizeByArcLength() has been removed.' );\n\n  }\n\n} );\n\n//\nfunction BoundingBoxHelper( object, color ) {\n\n  console.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n  return new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n  console.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n  return new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n  console.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n  console.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n  console.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n  return new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nfunction XHRLoader( manager ) {\n\n  console.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n  return new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n  console.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n  return new DataTextureLoader( manager );\n\n}\n\n//\n\nObject.assign( Box2.prototype, {\n\n  center: function ( optionalTarget ) {\n\n    console.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n    return this.getCenter( optionalTarget );\n\n  },\n  empty: function () {\n\n    console.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n    return this.isEmpty();\n\n  },\n  isIntersectionBox: function ( box ) {\n\n    console.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n    return this.intersectsBox( box );\n\n  },\n  size: function ( optionalTarget ) {\n\n    console.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n    return this.getSize( optionalTarget );\n\n  }\n} );\n\nObject.assign( Box3.prototype, {\n\n  center: function ( optionalTarget ) {\n\n    console.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n    return this.getCenter( optionalTarget );\n\n  },\n  empty: function () {\n\n    console.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n    return this.isEmpty();\n\n  },\n  isIntersectionBox: function ( box ) {\n\n    console.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n    return this.intersectsBox( box );\n\n  },\n  isIntersectionSphere: function ( sphere ) {\n\n    console.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n    return this.intersectsSphere( sphere );\n\n  },\n  size: function ( optionalTarget ) {\n\n    console.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n    return this.getSize( optionalTarget );\n\n  }\n} );\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n  console.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n  return this.getCenter( optionalTarget );\n\n};\n\n_Math.random16 = function () {\n\n  console.warn( 'THREE.Math.random16() has been deprecated. Use Math.random() instead.' );\n  return Math.random();\n\n};\n\nObject.assign( Matrix3.prototype, {\n\n  flattenToArrayOffset: function ( array, offset ) {\n\n    console.warn( \"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n    return this.toArray( array, offset );\n\n  },\n  multiplyVector3: function ( vector ) {\n\n    console.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n    return vector.applyMatrix3( this );\n\n  },\n  multiplyVector3Array: function ( a ) {\n\n    console.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.'  );\n\n  },\n  applyToBuffer: function( buffer, offset, length ) {\n\n    console.warn( 'THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\n    return this.applyToBufferAttribute( buffer );\n\n  },\n  applyToVector3Array: function( array, offset, length ) {\n\n    console.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n  }\n\n} );\n\nObject.assign( Matrix4.prototype, {\n\n  extractPosition: function ( m ) {\n\n    console.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n    return this.copyPosition( m );\n\n  },\n  flattenToArrayOffset: function ( array, offset ) {\n\n    console.warn( \"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n    return this.toArray( array, offset );\n\n  },\n  getPosition: function () {\n\n    var v1;\n\n    return function getPosition() {\n\n      if ( v1 === undefined ) v1 = new Vector3();\n      console.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n      return v1.setFromMatrixColumn( this, 3 );\n\n    };\n\n  }(),\n  setRotationFromQuaternion: function ( q ) {\n\n    console.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n    return this.makeRotationFromQuaternion( q );\n\n  },\n  multiplyToArray: function () {\n\n    console.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n  },\n  multiplyVector3: function ( vector ) {\n\n    console.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n    return vector.applyMatrix4( this );\n\n  },\n  multiplyVector4: function ( vector ) {\n\n    console.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n    return vector.applyMatrix4( this );\n\n  },\n  multiplyVector3Array: function ( a ) {\n\n    console.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.'  );\n\n  },\n  rotateAxis: function ( v ) {\n\n    console.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n    v.transformDirection( this );\n\n  },\n  crossVector: function ( vector ) {\n\n    console.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n    return vector.applyMatrix4( this );\n\n  },\n  translate: function () {\n\n    console.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n  },\n  rotateX: function () {\n\n    console.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n  },\n  rotateY: function () {\n\n    console.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n  },\n  rotateZ: function () {\n\n    console.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n  },\n  rotateByAxis: function () {\n\n    console.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n  },\n  applyToBuffer: function( buffer, offset, length ) {\n\n    console.warn( 'THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\n    return this.applyToBufferAttribute( buffer );\n\n  },\n  applyToVector3Array: function( array, offset, length ) {\n\n    console.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n  },\n  makeFrustum: function( left, right, bottom, top, near, far ) {\n\n    console.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n    return this.makePerspective( left, right, top, bottom, near, far );\n\n  }\n\n} );\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n  console.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n  return this.intersectsLine( line );\n\n};\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n  console.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n  return vector.applyQuaternion( this );\n\n};\n\nObject.assign( Ray.prototype, {\n\n  isIntersectionBox: function ( box ) {\n\n    console.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n    return this.intersectsBox( box );\n\n  },\n  isIntersectionPlane: function ( plane ) {\n\n    console.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n    return this.intersectsPlane( plane );\n\n  },\n  isIntersectionSphere: function ( sphere ) {\n\n    console.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n    return this.intersectsSphere( sphere );\n\n  }\n\n} );\n\nObject.assign( Shape.prototype, {\n\n  extrude: function ( options ) {\n\n    console.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n    return new ExtrudeGeometry( this, options );\n\n  },\n  makeGeometry: function ( options ) {\n\n    console.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n    return new ShapeGeometry( this, options );\n\n  }\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n  fromAttribute: function ( attribute, index, offset ) {\n\n    console.error( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n    return this.fromBufferAttribute( attribute, index, offset );\n\n  }\n\n} );\n\nObject.assign( Vector3.prototype, {\n\n  setEulerFromRotationMatrix: function () {\n\n    console.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n  },\n  setEulerFromQuaternion: function () {\n\n    console.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n  },\n  getPositionFromMatrix: function ( m ) {\n\n    console.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n    return this.setFromMatrixPosition( m );\n\n  },\n  getScaleFromMatrix: function ( m ) {\n\n    console.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n    return this.setFromMatrixScale( m );\n\n  },\n  getColumnFromMatrix: function ( index, matrix ) {\n\n    console.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n    return this.setFromMatrixColumn( matrix, index );\n\n  },\n  applyProjection: function ( m ) {\n\n    console.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n    return this.applyMatrix4( m );\n\n  },\n  fromAttribute: function ( attribute, index, offset ) {\n\n    console.error( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n    return this.fromBufferAttribute( attribute, index, offset );\n\n  }\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n  fromAttribute: function ( attribute, index, offset ) {\n\n    console.error( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n    return this.fromBufferAttribute( attribute, index, offset );\n\n  }\n\n} );\n\n//\n\nGeometry.prototype.computeTangents = function () {\n\n  console.warn( 'THREE.Geometry: .computeTangents() has been removed.' );\n\n};\n\nObject.assign( Object3D.prototype, {\n\n  getChildByName: function ( name ) {\n\n    console.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n    return this.getObjectByName( name );\n\n  },\n  renderDepth: function () {\n\n    console.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n  },\n  translate: function ( distance, axis ) {\n\n    console.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n    return this.translateOnAxis( axis, distance );\n\n  }\n\n} );\n\nObject.defineProperties( Object3D.prototype, {\n\n  eulerOrder: {\n    get: function () {\n\n      console.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n      return this.rotation.order;\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n      this.rotation.order = value;\n\n    }\n  },\n  useQuaternion: {\n    get: function () {\n\n      console.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n    },\n    set: function () {\n\n      console.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n    }\n  }\n\n} );\n\nObject.defineProperties( LOD.prototype, {\n\n  objects: {\n    get: function () {\n\n      console.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\n      return this.levels;\n\n    }\n  }\n\n} );\n\nObject.defineProperty( Skeleton.prototype, 'useVertexTexture', {\n\n  get: function () {\n\n    console.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n  },\n  set: function () {\n\n    console.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n  }\n\n} );\n\nObject.defineProperty( Curve.prototype, '__arcLengthDivisions', {\n\n  get: function () {\n\n    console.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n    return this.arcLengthDivisions;\n\n  },\n  set: function ( value ) {\n\n    console.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n    this.arcLengthDivisions = value;\n\n  }\n\n} );\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n  console.warn( \"THREE.PerspectiveCamera.setLens is deprecated. \" +\n    \"Use .setFocalLength and .filmGauge for a photographic setup.\" );\n\n  if ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n  this.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n  onlyShadow: {\n    set: function () {\n\n      console.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n    }\n  },\n  shadowCameraFov: {\n    set: function ( value ) {\n\n      console.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n      this.shadow.camera.fov = value;\n\n    }\n  },\n  shadowCameraLeft: {\n    set: function ( value ) {\n\n      console.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n      this.shadow.camera.left = value;\n\n    }\n  },\n  shadowCameraRight: {\n    set: function ( value ) {\n\n      console.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n      this.shadow.camera.right = value;\n\n    }\n  },\n  shadowCameraTop: {\n    set: function ( value ) {\n\n      console.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n      this.shadow.camera.top = value;\n\n    }\n  },\n  shadowCameraBottom: {\n    set: function ( value ) {\n\n      console.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n      this.shadow.camera.bottom = value;\n\n    }\n  },\n  shadowCameraNear: {\n    set: function ( value ) {\n\n      console.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n      this.shadow.camera.near = value;\n\n    }\n  },\n  shadowCameraFar: {\n    set: function ( value ) {\n\n      console.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n      this.shadow.camera.far = value;\n\n    }\n  },\n  shadowCameraVisible: {\n    set: function () {\n\n      console.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n    }\n  },\n  shadowBias: {\n    set: function ( value ) {\n\n      console.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n      this.shadow.bias = value;\n\n    }\n  },\n  shadowDarkness: {\n    set: function () {\n\n      console.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n    }\n  },\n  shadowMapWidth: {\n    set: function ( value ) {\n\n      console.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n      this.shadow.mapSize.width = value;\n\n    }\n  },\n  shadowMapHeight: {\n    set: function ( value ) {\n\n      console.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n      this.shadow.mapSize.height = value;\n\n    }\n  }\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n  length: {\n    get: function () {\n\n      console.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n      return this.array.length;\n\n    }\n  }\n\n} );\n\nObject.assign( BufferGeometry.prototype, {\n\n  addIndex: function ( index ) {\n\n    console.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n    this.setIndex( index );\n\n  },\n  addDrawCall: function ( start, count, indexOffset ) {\n\n    if ( indexOffset !== undefined ) {\n\n      console.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n    }\n    console.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n    this.addGroup( start, count );\n\n  },\n  clearDrawCalls: function () {\n\n    console.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n    this.clearGroups();\n\n  },\n  computeTangents: function () {\n\n    console.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\n\n  },\n  computeOffsets: function () {\n\n    console.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n  }\n\n} );\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n  drawcalls: {\n    get: function () {\n\n      console.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n      return this.groups;\n\n    }\n  },\n  offsets: {\n    get: function () {\n\n      console.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n      return this.groups;\n\n    }\n  }\n\n} );\n\n//\n\nObject.defineProperties( Uniform.prototype, {\n\n  dynamic: {\n    set: function () {\n\n      console.warn( 'THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.' );\n\n    }\n  },\n  onUpdate: {\n    value: function () {\n\n      console.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n      return this;\n\n    }\n  }\n\n} );\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n  wrapAround: {\n    get: function () {\n\n      console.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n    },\n    set: function () {\n\n      console.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n    }\n  },\n  wrapRGB: {\n    get: function () {\n\n      console.warn( 'THREE.Material: .wrapRGB has been removed.' );\n      return new Color();\n\n    }\n  },\n\n  shading: {\n    get: function () {\n\n      console.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n      this.flatShading = ( value === FlatShading );\n\n    }\n  }\n\n} );\n\nObject.defineProperties( MeshPhongMaterial.prototype, {\n\n  metal: {\n    get: function () {\n\n      console.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\n      return false;\n\n    },\n    set: function () {\n\n      console.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\n\n    }\n  }\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n  derivatives: {\n    get: function () {\n\n      console.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n      return this.extensions.derivatives;\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n      this.extensions.derivatives = value;\n\n    }\n  }\n\n} );\n\n//\n\nObject.assign( WebGLRenderer.prototype, {\n\n  getCurrentRenderTarget: function () {\n\n    console.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n    return this.getRenderTarget();\n\n  },\n\n  getMaxAnisotropy: function () {\n\n    console.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n    return this.capabilities.getMaxAnisotropy();\n\n  },\n\n  getPrecision: function () {\n\n    console.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n    return this.capabilities.precision;\n\n  },\n\n  supportsFloatTextures: function () {\n\n    console.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n    return this.extensions.get( 'OES_texture_float' );\n\n  },\n  supportsHalfFloatTextures: function () {\n\n    console.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n    return this.extensions.get( 'OES_texture_half_float' );\n\n  },\n  supportsStandardDerivatives: function () {\n\n    console.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n    return this.extensions.get( 'OES_standard_derivatives' );\n\n  },\n  supportsCompressedTextureS3TC: function () {\n\n    console.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n    return this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n  },\n  supportsCompressedTexturePVRTC: function () {\n\n    console.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n    return this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n  },\n  supportsBlendMinMax: function () {\n\n    console.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n    return this.extensions.get( 'EXT_blend_minmax' );\n\n  },\n  supportsVertexTextures: function () {\n\n    console.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n    return this.capabilities.vertexTextures;\n\n  },\n  supportsInstancedArrays: function () {\n\n    console.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n    return this.extensions.get( 'ANGLE_instanced_arrays' );\n\n  },\n  enableScissorTest: function ( boolean ) {\n\n    console.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n    this.setScissorTest( boolean );\n\n  },\n  initMaterial: function () {\n\n    console.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n  },\n  addPrePlugin: function () {\n\n    console.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n  },\n  addPostPlugin: function () {\n\n    console.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n  },\n  updateShadowMap: function () {\n\n    console.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n  }\n\n} );\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n  shadowMapEnabled: {\n    get: function () {\n\n      return this.shadowMap.enabled;\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n      this.shadowMap.enabled = value;\n\n    }\n  },\n  shadowMapType: {\n    get: function () {\n\n      return this.shadowMap.type;\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n      this.shadowMap.type = value;\n\n    }\n  },\n  shadowMapCullFace: {\n    get: function () {\n\n      return this.shadowMap.cullFace;\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.' );\n      this.shadowMap.cullFace = value;\n\n    }\n  }\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n  cullFace: {\n    get: function () {\n\n      return this.renderReverseSided ? CullFaceFront : CullFaceBack;\n\n    },\n    set: function ( cullFace ) {\n\n      var value = ( cullFace !== CullFaceBack );\n      console.warn( \"WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to \" + value + \".\" );\n      this.renderReverseSided = value;\n\n    }\n  }\n\n} );\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n  wrapS: {\n    get: function () {\n\n      console.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n      return this.texture.wrapS;\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n      this.texture.wrapS = value;\n\n    }\n  },\n  wrapT: {\n    get: function () {\n\n      console.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n      return this.texture.wrapT;\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n      this.texture.wrapT = value;\n\n    }\n  },\n  magFilter: {\n    get: function () {\n\n      console.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n      return this.texture.magFilter;\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n      this.texture.magFilter = value;\n\n    }\n  },\n  minFilter: {\n    get: function () {\n\n      console.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n      return this.texture.minFilter;\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n      this.texture.minFilter = value;\n\n    }\n  },\n  anisotropy: {\n    get: function () {\n\n      console.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n      return this.texture.anisotropy;\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n      this.texture.anisotropy = value;\n\n    }\n  },\n  offset: {\n    get: function () {\n\n      console.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n      return this.texture.offset;\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n      this.texture.offset = value;\n\n    }\n  },\n  repeat: {\n    get: function () {\n\n      console.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n      return this.texture.repeat;\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n      this.texture.repeat = value;\n\n    }\n  },\n  format: {\n    get: function () {\n\n      console.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n      return this.texture.format;\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n      this.texture.format = value;\n\n    }\n  },\n  type: {\n    get: function () {\n\n      console.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n      return this.texture.type;\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n      this.texture.type = value;\n\n    }\n  },\n  generateMipmaps: {\n    get: function () {\n\n      console.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n      return this.texture.generateMipmaps;\n\n    },\n    set: function ( value ) {\n\n      console.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n      this.texture.generateMipmaps = value;\n\n    }\n  }\n\n} );\n\n//\n\nAudio.prototype.load = function ( file ) {\n\n  console.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n  var scope = this;\n  var audioLoader = new AudioLoader();\n  audioLoader.load( file, function ( buffer ) {\n\n    scope.setBuffer( buffer );\n\n  } );\n  return this;\n\n};\n\nAudioAnalyser.prototype.getData = function () {\n\n  console.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n  return this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n  console.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n  return this.update( renderer, scene );\n\n};\n\n//\n\nvar GeometryUtils = {\n\n  merge: function ( geometry1, geometry2, materialIndexOffset ) {\n\n    console.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\n    var matrix;\n\n    if ( geometry2.isMesh ) {\n\n      geometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n      matrix = geometry2.matrix;\n      geometry2 = geometry2.geometry;\n\n    }\n\n    geometry1.merge( geometry2, matrix, materialIndexOffset );\n\n  },\n\n  center: function ( geometry ) {\n\n    console.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\n    return geometry.center();\n\n  }\n\n};\n\nvar ImageUtils = {\n\n  crossOrigin: undefined,\n\n  loadTexture: function ( url, mapping, onLoad, onError ) {\n\n    console.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n    var loader = new TextureLoader();\n    loader.setCrossOrigin( this.crossOrigin );\n\n    var texture = loader.load( url, onLoad, undefined, onError );\n\n    if ( mapping ) texture.mapping = mapping;\n\n    return texture;\n\n  },\n\n  loadTextureCube: function ( urls, mapping, onLoad, onError ) {\n\n    console.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n    var loader = new CubeTextureLoader();\n    loader.setCrossOrigin( this.crossOrigin );\n\n    var texture = loader.load( urls, onLoad, undefined, onError );\n\n    if ( mapping ) texture.mapping = mapping;\n\n    return texture;\n\n  },\n\n  loadCompressedTexture: function () {\n\n    console.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n  },\n\n  loadCompressedTextureCube: function () {\n\n    console.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n  }\n\n};\n\n//\n\nfunction Projector() {\n\n  console.error( 'THREE.Projector has been moved to /examples/js/renderers/Projector.js.' );\n\n  this.projectVector = function ( vector, camera ) {\n\n    console.warn( 'THREE.Projector: .projectVector() is now vector.project().' );\n    vector.project( camera );\n\n  };\n\n  this.unprojectVector = function ( vector, camera ) {\n\n    console.warn( 'THREE.Projector: .unprojectVector() is now vector.unproject().' );\n    vector.unproject( camera );\n\n  };\n\n  this.pickingRay = function () {\n\n    console.error( 'THREE.Projector: .pickingRay() is now raycaster.setFromCamera().' );\n\n  };\n\n}\n\n//\n\nfunction CanvasRenderer() {\n\n  console.error( 'THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js' );\n\n  this.domElement = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n  this.clear = function () {};\n  this.render = function () {};\n  this.setClearColor = function () {};\n  this.setSize = function () {};\n\n}\n\nexport { WebGLRenderTargetCube, WebGLRenderTarget, WebGLRenderer, ShaderLib, UniformsLib, UniformsUtils, ShaderChunk, FogExp2, Fog, Scene, LensFlare, Sprite, LOD, SkinnedMesh, Skeleton, Bone, Mesh, LineSegments, LineLoop, Line, Points, Group, VideoTexture, DataTexture, CompressedTexture, CubeTexture, CanvasTexture, DepthTexture, Texture, CompressedTextureLoader, DataTextureLoader, CubeTextureLoader, TextureLoader, ObjectLoader, MaterialLoader, BufferGeometryLoader, DefaultLoadingManager, LoadingManager, JSONLoader, ImageLoader, FontLoader, FileLoader, Loader, Cache, AudioLoader, SpotLightShadow, SpotLight, PointLight, RectAreaLight, HemisphereLight, DirectionalLightShadow, DirectionalLight, AmbientLight, LightShadow, Light, StereoCamera, PerspectiveCamera, OrthographicCamera, CubeCamera, ArrayCamera, Camera, AudioListener, PositionalAudio, AudioContext, AudioAnalyser, Audio, VectorKeyframeTrack, StringKeyframeTrack, QuaternionKeyframeTrack, NumberKeyframeTrack, ColorKeyframeTrack, BooleanKeyframeTrack, PropertyMixer, PropertyBinding, KeyframeTrack, AnimationUtils, AnimationObjectGroup, AnimationMixer, AnimationClip, Uniform, InstancedBufferGeometry, BufferGeometry, GeometryIdCount, Geometry, InterleavedBufferAttribute, InstancedInterleavedBuffer, InterleavedBuffer, InstancedBufferAttribute, Face3, Object3D, Raycaster, Layers, EventDispatcher, Clock, QuaternionLinearInterpolant, LinearInterpolant, DiscreteInterpolant, CubicInterpolant, Interpolant, Triangle, _Math as Math, Spherical, Cylindrical, Plane, Frustum, Sphere, Ray, Matrix4, Matrix3, Box3, Box2, Line3, Euler, Vector4, Vector3, Vector2, Quaternion, Color, ImmediateRenderObject, VertexNormalsHelper, SpotLightHelper, SkeletonHelper, PointLightHelper, RectAreaLightHelper, HemisphereLightHelper, GridHelper, PolarGridHelper, FaceNormalsHelper, DirectionalLightHelper, CameraHelper, BoxHelper, Box3Helper, PlaneHelper, ArrowHelper, AxisHelper, CatmullRomCurve3, CubicBezierCurve3, QuadraticBezierCurve3, LineCurve3, ArcCurve, EllipseCurve, SplineCurve, CubicBezierCurve, QuadraticBezierCurve, LineCurve, Shape, Path, ShapePath, Font, CurvePath, Curve, ShapeUtils, SceneUtils, WebGLUtils, WireframeGeometry, ParametricGeometry, ParametricBufferGeometry, TetrahedronGeometry, TetrahedronBufferGeometry, OctahedronGeometry, OctahedronBufferGeometry, IcosahedronGeometry, IcosahedronBufferGeometry, DodecahedronGeometry, DodecahedronBufferGeometry, PolyhedronGeometry, PolyhedronBufferGeometry, TubeGeometry, TubeBufferGeometry, TorusKnotGeometry, TorusKnotBufferGeometry, TorusGeometry, TorusBufferGeometry, TextGeometry, TextBufferGeometry, SphereGeometry, SphereBufferGeometry, RingGeometry, RingBufferGeometry, PlaneGeometry, PlaneBufferGeometry, LatheGeometry, LatheBufferGeometry, ShapeGeometry, ShapeBufferGeometry, ExtrudeGeometry, ExtrudeBufferGeometry, EdgesGeometry, ConeGeometry, ConeBufferGeometry, CylinderGeometry, CylinderBufferGeometry, CircleGeometry, CircleBufferGeometry, BoxGeometry, BoxBufferGeometry, ShadowMaterial, SpriteMaterial, RawShaderMaterial, ShaderMaterial, PointsMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshPhongMaterial, MeshToonMaterial, MeshNormalMaterial, MeshLambertMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshBasicMaterial, LineDashedMaterial, LineBasicMaterial, Material, Float64BufferAttribute, Float32BufferAttribute, Uint32BufferAttribute, Int32BufferAttribute, Uint16BufferAttribute, Int16BufferAttribute, Uint8ClampedBufferAttribute, Uint8BufferAttribute, Int8BufferAttribute, BufferAttribute, REVISION, MOUSE, CullFaceNone, CullFaceBack, CullFaceFront, CullFaceFrontBack, FrontFaceDirectionCW, FrontFaceDirectionCCW, BasicShadowMap, PCFShadowMap, PCFSoftShadowMap, FrontSide, BackSide, DoubleSide, FlatShading, SmoothShading, NoColors, FaceColors, VertexColors, NoBlending, NormalBlending, AdditiveBlending, SubtractiveBlending, MultiplyBlending, CustomBlending, AddEquation, SubtractEquation, ReverseSubtractEquation, MinEquation, MaxEquation, ZeroFactor, OneFactor, SrcColorFactor, OneMinusSrcColorFactor, SrcAlphaFactor, OneMinusSrcAlphaFactor, DstAlphaFactor, OneMinusDstAlphaFactor, DstColorFactor, OneMinusDstColorFactor, SrcAlphaSaturateFactor, NeverDepth, AlwaysDepth, LessDepth, LessEqualDepth, EqualDepth, GreaterEqualDepth, GreaterDepth, NotEqualDepth, MultiplyOperation, MixOperation, AddOperation, NoToneMapping, LinearToneMapping, ReinhardToneMapping, Uncharted2ToneMapping, CineonToneMapping, UVMapping, CubeReflectionMapping, CubeRefractionMapping, EquirectangularReflectionMapping, EquirectangularRefractionMapping, SphericalReflectionMapping, CubeUVReflectionMapping, CubeUVRefractionMapping, RepeatWrapping, ClampToEdgeWrapping, MirroredRepeatWrapping, NearestFilter, NearestMipMapNearestFilter, NearestMipMapLinearFilter, LinearFilter, LinearMipMapNearestFilter, LinearMipMapLinearFilter, UnsignedByteType, ByteType, ShortType, UnsignedShortType, IntType, UnsignedIntType, FloatType, HalfFloatType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedInt248Type, AlphaFormat, RGBFormat, RGBAFormat, LuminanceFormat, LuminanceAlphaFormat, RGBEFormat, DepthFormat, DepthStencilFormat, RGB_S3TC_DXT1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGB_PVRTC_4BPPV1_Format, RGB_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_PVRTC_2BPPV1_Format, RGB_ETC1_Format, LoopOnce, LoopRepeat, LoopPingPong, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, ZeroCurvatureEnding, ZeroSlopeEnding, WrapAroundEnding, TrianglesDrawMode, TriangleStripDrawMode, TriangleFanDrawMode, LinearEncoding, sRGBEncoding, GammaEncoding, RGBEEncoding, LogLuvEncoding, RGBM7Encoding, RGBM16Encoding, RGBDEncoding, BasicDepthPacking, RGBADepthPacking, BoxGeometry as CubeGeometry, Face4, LineStrip, LinePieces, MeshFaceMaterial, MultiMaterial, PointCloud, Particle, ParticleSystem, PointCloudMaterial, ParticleBasicMaterial, ParticleSystemMaterial, Vertex, DynamicBufferAttribute, Int8Attribute, Uint8Attribute, Uint8ClampedAttribute, Int16Attribute, Uint16Attribute, Int32Attribute, Uint32Attribute, Float32Attribute, Float64Attribute, ClosedSplineCurve3, SplineCurve3, Spline, BoundingBoxHelper, EdgesHelper, WireframeHelper, XHRLoader, BinaryTextureLoader, GeometryUtils, ImageUtils, Projector, CanvasRenderer };\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/three.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e8539e3e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./debug.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./debug.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e8539e3e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./debug.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e8539e3e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/map3d/debug.vue\n// module id = u3uG\n// module chunks = 1","/**\n * @author alteredq / http://alteredqualia.com/\n * @author mr.doob / http://mrdoob.com/\n */\n\nvar Detector = {\n\n\tcanvas: !! window.CanvasRenderingContext2D,\n\twebgl: ( function () {\n\n\t\ttry {\n\n\t\t\tvar canvas = document.createElement( 'canvas' ); return !! ( window.WebGLRenderingContext && ( canvas.getContext( 'webgl' ) || canvas.getContext( 'experimental-webgl' ) ) );\n\n\t\t} catch ( e ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t} )(),\n\tworkers: !! window.Worker,\n\tfileapi: window.File && window.FileReader && window.FileList && window.Blob,\n\n\tgetWebGLErrorMessage: function () {\n\n\t\tvar element = document.createElement( 'div' );\n\t\telement.id = 'webgl-error-message';\n\t\telement.style.fontFamily = 'monospace';\n\t\telement.style.fontSize = '13px';\n\t\telement.style.fontWeight = 'normal';\n\t\telement.style.textAlign = 'center';\n\t\telement.style.background = '#fff';\n\t\telement.style.color = '#000';\n\t\telement.style.padding = '1.5em';\n\t\telement.style.width = '400px';\n\t\telement.style.margin = '5em auto 0';\n\n\t\tif ( ! this.webgl ) {\n\n\t\t\telement.innerHTML = window.WebGLRenderingContext ? [\n\t\t\t\t'Your graphics card does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">WebGL</a>.<br />',\n\t\t\t\t'Find out how to get it <a href=\"http://get.webgl.org/\" style=\"color:#000\">here</a>.'\n\t\t\t].join( '\\n' ) : [\n\t\t\t\t'Your browser does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">WebGL</a>.<br/>',\n\t\t\t\t'Find out how to get it <a href=\"http://get.webgl.org/\" style=\"color:#000\">here</a>.'\n\t\t\t].join( '\\n' );\n\n\t\t}\n\n\t\treturn element;\n\n\t},\n\n\taddGetWebGLMessage: function ( parameters ) {\n\n\t\tvar parent, id, element;\n\n\t\tparameters = parameters || {};\n\n\t\tparent = parameters.parent !== undefined ? parameters.parent : document.body;\n\t\tid = parameters.id !== undefined ? parameters.id : 'oldie';\n\n\t\telement = Detector.getWebGLErrorMessage();\n\t\telement.id = id;\n\n\t\tparent.appendChild( element );\n\n\t}\n\n};\n\n\n\"undefined\" != typeof module && module.exports && (module.exports = Detector);\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/Detector.js","<template>\n    <div class=\"txt\">\n        <div class=\"txt-c\">\n            <h1>需求收集</h1>\n            <br>前端组件目前在需求收集阶段，\n            <br>如果你有问题或者好的建议，欢迎反馈，\n            <br>如果你建议被采纳有机会获取幸运奖品!!!\n            <br><br><a class='btn' href=\"https://wj.qq.com/s/1699161/b994\" target=\"_blank\">我要反馈</a>\n        </div>\n\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'index',\n        title:'首页',\n        data () {\n            return {\n                msg: '前端可视化效果展示'\n            }\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n    .txt .txt-c{\n        font-size: 20px;\n        text-align: center;\n        padding-top: 15%;\n        line-height: 2em;\n    }\n    .txt-c h1{\n        font-size: 30px;\n    }\n    .tip{\n        color:#ddd;\n        font-size: 14px;\n    }\n    .btn{\n        display: inline-block;\n        border:1px solid #666;\n        padding:3px 10px;\n        font-size: 16px;\n        color:#999;\n        transition: all .3s;\n    }\n    .btn:hover{\n        color:#fff;\n        border:1px solid #999;\n        background: rgba(255,255,255,.2);\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/index/index.vue","/**\n * 3D地图.线\n * Created by jusfoun-fe.github.io on 2017/11/19.\n * @author 朱润亚 <zhu18@vip.qq.com>\n * @version beta v1.0.3\n * @module Map3D\n */\n\nimport * as THREE from './three.js'\nimport TWEEN from './tween.min.js'\nimport * as $ from './util'\nimport Shaderlib from './three.ShaderLibExp'\n\n/** Class representing a Line.\n * @extends THREE.Line\n *\n * @example\n * var opt={\n *   color:0x55eeff,                 // 基线颜色\n *   hoverColor:0xff9933,            // 线的鼠标移入基线颜色\n *   spaceHeight:5,                  // 曲线空间高度\n *   hasHalo:true,                   // 是否有发光线\n *   hasHaloAnimate:true,            // 是否开启发光线动画效果\n *   haloDensity:2,                  // 光点密度 值越大 越浓密，越消耗性能\n *   haloRunRate:0.01,               // 光点运动频率\n *   haloColor:0xffffff,             // 发光线颜色，默认继承color\n *   haloSize:10,                    // 发光线粗细\n * }\n * let line = new Line(opt);\n * */\nclass Line extends THREE.Line{\n  /**\n   * 光点纹理样式,返回一个纹理 {@link https://threejs.org/docs/#api/textures/Texture|THREE.Texture}\n   * @returns {THREE.Texture}\n   * @example\n   * Line.texture()\n   */\n  static get texture(){\n    if(!Line._texture)\n    {\n      let canvas = document.createElement(\"canvas\");\n      canvas.width=128;\n      canvas.height=128;\n      let context = canvas.getContext('2d');\n      Line.draw(context);\n      let texture = new THREE.Texture(canvas);\n      texture.needsUpdate = true;\n      Line._texture=texture;\n    }\n    return Line._texture;\n  }\n\n  /**\n   * 光点纹理样式,如果你对canvas熟悉可以重写.否则使用默认样式\n   * @static\n   * @param {context} context - Canvas上下文对象 {@link https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/getContext|Canvas.context}\n   * @example\n   *\n   * Line.draw=(ctx)=>{\n     *  context.clearRect(0, 0, 128, 128);\n     *  context.fillStyle = '#ff0000';\n     *  context.arc(64, 64, 20, 0, Math.PI * 2, false);\n     *  context.fill();\n     * }\n   */\n  static draw(context){\n    context.clearRect(0, 0, 128, 128);\n    context.fillStyle = '#ffffff';\n    context.arc(64, 64, 20, 0, Math.PI * 2, false);\n    context.fill();\n\n    context.fillStyle = 'rgba(255,255,255,.7)';\n    context.arc(64, 64, 60, 0, Math.PI * 2, false);\n    context.fill();\n\n  }\n\n  /**\n   * 创建一条线\n   * @param {Object} pros - The Line options | 线的配置\n   * @param {string} pros.color - Line base color | 基线颜色\n   * @param {string} pros.hoverColor - Line base hoverColor | 线的鼠标移入基线颜色\n   * @param {number} pros.spaceHeight - Line space height | 曲线空间高度\n   * @param {boolean} pros.hasHalo - Has light emitting line| 是否有发光线\n   * @param {boolean} pros.hasHaloAnimate - Has light emitting line Animate| 是否有发光线动画效果\n   * @param {number} pros.haloDensity - Spot density becomes more dense, more consumption performance | 光点密度 值越大 越浓密，越消耗性能\n   * @param {number} pros.haloRunRate - Light point motion frequency | 光点运动频率\n   * @param {color} pros.haloColor - Halo line color, default inheritance of color | 发光线颜色，默认继承color\n   * @param {number} pros.haloSize - Halo line color width | 发光线粗细\n   */\n  constructor(pros){\n    // pros:\n    // {\n    //   color:0x55eeff,                 // 基线颜色\n    //   hoverColor:0xff9933,            // 线的鼠标移入基线颜色\n    //   spaceHeight:5,                  // 曲线空间高度\n    //   hasHalo:true,                   // 是否有发光线\n    //   hasHaloAnimate:true,            // 是否开启发光线动画效果\n    //   haloDensity:2,                  // 光点密度 值越大 越浓密，越消耗性能\n    //   haloRunRate:0.01,               // 光点运动频率\n    //   haloColor:0xffffff,             // 发光线颜色，默认继承color\n    //   haloSize:10,                    // 发光线粗细\n    // }\n    let fromCoord=pros.coords[0];\n    let toCoord=pros.coords[1];\n    let x1 = fromCoord[0];\n    let y1 = fromCoord[1];\n    let x2 = toCoord[0];\n    let y2 = toCoord[1];\n    let xdiff = x2 - x1;\n    let ydiff = y2 - y1;\n    let dif = Math.pow((xdiff * xdiff + ydiff * ydiff), 0.5);//二点间距离\n    let v3s=[\n      new THREE.Vector3( x1, y1, pros.extrudeHeight ),\n      new THREE.Vector3( (x1+x2)/2, (y1+y2)/2, pros.extrudeHeight + pros.spaceHeight),\n      new THREE.Vector3( x2, y2, pros.extrudeHeight )\n    ]\n\n    //画弧线\n    let curve = new THREE.QuadraticBezierCurve3(...v3s);\n    var geometry = new THREE.Geometry();\n    var amount = (dif+0.1) * pros.haloDensity;\n    if(amount<30)amount=30;\n\n    geometry.vertices = curve.getPoints(amount).reverse();\n    geometry.vertices.forEach(()=>{\n      geometry.colors.push(new THREE.Color(0xffffff));\n    })\n\n    let material =  new THREE.LineBasicMaterial({\n      color:pros.color,\n      opacity: 1.0,\n      blending:THREE.AdditiveBlending,\n      transparent:true,\n      depthWrite: false,\n      vertexColors: true,\n      linewidth: 1 })\n\n    super(geometry, material)\n\n    Object.assign(this.userData,pros);\n\n    //线条光晕效果\n    if(pros.hasHalo) {\n      this.initHalo(geometry);\n    }\n    //当前线条索引\n    this.index=Line.count++;\n    Line.array.push(this);\n  }\n\n  /**\n   * 初始化发光线\n   * @param {THREE.Geometry} geometry - 通过线条几何体初始化发光线 {@link https://threejs.org/docs/#api/core/Geometry|THREE.Geometry}\n   * @protected\n   */\n  initHalo(geometry){\n    let line = this;\n    let amount=geometry.vertices.length;\n    let positions = new Float32Array(amount * 3);\n    let colors = new Float32Array(amount * 3);\n    let sizes = new Float32Array(amount);\n    let vertex = new THREE.Vector3();\n    let color = new THREE.Color($.colorToHex(this.userData.color));\n    for (let i = 0; i < amount; i++) {\n\n      vertex.x = geometry.vertices[i].x;\n      vertex.y = geometry.vertices[i].y;\n      vertex.z = geometry.vertices[i].z;\n      vertex.toArray(positions, i * 3);\n\n      // if ( vertex.x < 0 ) {\n      //   color.setHSL( 0.5 + 0.1 * ( i / amount ), 0.7, 0.5 );\n      // } else {\n      //   color.setHSL( 0.0 + 0.1 * ( i / amount ), 0.9, 0.5 );\n      // }\n      color.toArray(colors, i * 3);\n      sizes[i] = line.userData.haloSize;\n    }\n    //positions = geometry.vertices;\n\n    let psBufferGeometry = new THREE.BufferGeometry();\n    psBufferGeometry.addAttribute('position', new THREE.BufferAttribute(positions, 3));\n    psBufferGeometry.addAttribute('customColor', new THREE.BufferAttribute(colors, 3));\n    psBufferGeometry.addAttribute('size', new THREE.BufferAttribute(sizes, 1));\n\n    let shader = THREE.ShaderLib.line;\n    shader.uniforms = {\n      amplitude: {value: 1.0},\n      color: {value: new THREE.Color($.colorToHex(this.userData.haloColor))},\n      texture: {value: Line.texture},\n    };\n\n    let shaderMaterial = new THREE.ShaderMaterial({\n      uniforms: shader.uniforms,\n      vertexShader: shader.vertexShader,\n      fragmentShader: shader.fragmentShader,\n      blending: THREE.AdditiveBlending,\n      depthTest: true,\n      depthWrite: false,\n      transparent: true,\n      // sizeAttenuation: true,\n    });\n\n    //线条光晕\n    let halo = new THREE.Points(psBufferGeometry, shaderMaterial);\n    halo.dynamic = true;\n    this.add(halo);\n    this.halo = halo;\n\n\n    halo.update = function(){\n      if(!line.userData.hasHalo || !line.userData.hasHaloAnimate)\n        return;\n\n      let time = Date.now() * 0.005 + line.index * 3;\n\n      let geometry = this.geometry;\n      let attributes = geometry.attributes;\n      for ( let i = 0; i < attributes.size.array.length; i++ ) {\n        attributes.size.array[ i ] = line.userData.haloSize + line.userData.haloSize * Math.sin( (line.userData.haloRunRate * i + time) ) ;\n      }\n      attributes.size.needsUpdate = true;\n    }\n\n  }\n\n  /**\n   * 发光线的动画更新方法\n   * @private\n   */\n  update(){\n    //if(!this.userData.hasHalo || !this.userData.hasHaloAnimate)\n    this.halo.update();\n  }\n\n  /**\n   * 修改线颜色\n   * @param {color} color - 线条颜色\n   * @example\n   *\n   * line.setColor(0xff0000);\n   * line.setColor('hsl(240,100%,50%)');\n   * line.setColor('rgb(255,255,0)');\n   */\n  setColor(color,haloColor){\n    //基线\n    if(typeof color!=='undefined')\n      this.material.color=new THREE.Color($.colorToHex(color));\n    // //光线\n    // if(typeof haloColor!=='undefined' && this.userData.hasHalo )\n    // {\n    //   let color = new THREE.Color($.colorToHex(haloColor));\n    //   let colors=this.halo.geometry.attributes.customColor;\n    //   for ( let i = 0; i < colors.array.length; i+=3 ) {\n    //     colors.array[ i ] = color.r;\n    //     colors.array[ i + 1] = color.g;\n    //     colors.array[ i + 2] = color.b;\n    //   }\n    //   this.halo.geometry.attributes.customColor.needsUpdate = true;\n    // }\n  }\n\n  /**\n   * 设置发光线宽度,基线永远是1\n   * @param {number} size - 发光线粗细大小\n   */\n  setLineWidth(size){\n    if(!this.userData.hasHalo)\n    {\n      console.warn('Setting the LineWidth must be hasHalo:true')\n    }\n    //粗细\n    this.userData.haloSize=size;\n  }\n\n  /**\n   * 线条鼠标移出事件\n   *\n   * @param dispatcher\n   * @param event\n   * @protected\n   * @example\n   *  // 注册事件\n   *  map.addEventListener('mouseout', (event) => {\n     *        let obj = event.target;\n     *\n     *        if(obj.type==='Line')\n     *        {\n     *           // 这里做鼠标移出操作\n     *        }\n     *      });\n   */\n  onmouseout(dispatcher,event){\n    if(this.userData.hoverExclusive){\n      //所有线条回复初始\n      Line.array.map((line)=>{\n        if(line.halo){\n          line.halo.visible=true\n        }\n        line.setColor(line.userData.color);\n      });\n    }\n\n    //选中线条\n    if(this.userData.hasHalo)\n    {\n      //粗细\n      let size=this.userData.haloSize/1.5\n      this.userData.haloSize=size;\n    }\n    //颜色\n    this.setColor(this.userData.color);\n    dispatcher.dispatchEvent({ type: 'mouseout', target:this, orgEvent:event});\n  }\n  /**\n   * 线条鼠标移入事件\n   * @param dispatcher\n   * @param event\n   * @protected\n   * @example\n   *  // 注册事件\n   *  map.addEventListener('mouseover', (event) => {\n     *        let obj = event.target;\n     *\n     *        if(obj.type==='Line')\n     *        {\n     *           // 这里做鼠标移入操作\n     *        }\n     *      });\n   */\n  onmouseover(dispatcher,event){\n    if(this.userData.hoverExclusive)\n    {\n      Line.array.map((line)=>{\n        if(line.halo){\n          line.halo.visible=false\n        }\n        line.setColor(this.userData.decayColor);\n\n      });\n    }\n\n    //选中线条\n    if(this.userData.hasHalo)\n    {\n      //修改光点线 大小\n      let size=this.userData.haloSize*1.5\n      this.userData.haloSize=size;\n      this.halo.visible=true;\n    }\n    //颜色\n    this.setColor(this.userData.hoverColor?this.userData.hoverColor:this.userData.color);\n    dispatcher.dispatchEvent({ type: 'mouseover', target:this, orgEvent:event});\n  }\n  /**\n   * 线条鼠标单击事件\n   * @param dispatcher\n   * @param event\n   * @protected\n   * @example\n   *  // 注册事件\n   *  map.addEventListener('mousedown', (event) => {\n     *        let obj = event.target;\n     *\n     *        if(obj.type==='Line')\n     *        {\n     *           // 这里做鼠标单击操作\n     *        }\n     *      });\n   */\n  onmousedown(dispatcher,event) {\n    dispatcher.dispatchEvent({ type: 'mousedown', target:this, orgEvent:event});\n  }\n}\n/**\n * 线条数量\n * @static\n * @type {number}\n */\nLine.count=0;\nLine.array=[];\nLine._texture=null;\n\nexport default Line\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/Map3D.Line.js","<template>\n  <div id=\"app\" class=\"app\">\n    <header>\n      <div class=\"inner\">\n        <h1 class=\"lg-title\" @click=\"setTitle()\"><img class=\"logo\" style='display:none' src=\"./assets/img/logo.png\"/>&emsp;可视化3D组件{{title?' - '+title:''}}</h1>\n        <h1 class=\"sm-title\" @click=\"setTitle()\"><img class=\"logo\" style='display:none' src=\"./assets/img/logo.png\"/>{{title}}</h1>\n        <div class=\"user-area\"><a href=\"https://github.com/zhu18\" target=\"_blank\" >GITHUB</a></div>\n      </div>\n    </header>\n\n    <ul :class=\"isMax?'left-menu max':'left-menu'\">\n      <div class=\"left-menu-list\">\n      <router-link v-for=\"item in items\" class=\"list-item\" :to=\"{name:item.name,params:{title:item.title}}\" @click.native=\"setTitle\" tag=\"li\">\n        <i :class=\"item.menuIcon\"></i>{{item.title}}\n      </router-link>\n      </div>\n      <div class=\"handler\" @click=\"isMax=!isMax\"><i class=\"iconfont icon-shouqi\"></i></div>\n    </ul>\n\n    <router-view @setTitle=\"setTitle\" class=\"main\" ></router-view>\n\n    <footer>\n      <!-- <span>Copyright 2019 by FF.github.io. All Right Reserved</span> -->\n    </footer>\n  </div>\n</template>\n\n<script>\n\n  export default {\n    name: 'app',\n    data(){\n         return {\n             title:'',\n             isMax:false,\n         }\n    },\n      methods:{\n        setTitle(title){\n            this.title=this.$route.params.title;\n        },\n          max(){\n\n          }\n      },\n      created(){\n         // this.$on('setTitle',this.setTitle);\n          //init menu\n          this.items=this.$router.options.routes.filter(route=>route.isMenu).map((route)=>{\n                return {\n                    name:route.name,\n                    title:route.component.title,\n                    path:route.path,\n                    menuIcon:'icon iconfont '+route.menuIcon\n                }\n          })\n      },\n      mounted(){\n\n      }\n  }\n</script>\n<style lang=\"scss\"  scoped>\n  @import './assets/css/index.sass';\n  @import './assets/css/iconfont.css';\n\n\n  .app,appmax{\n    min-width:1280px;\n    height: 100%;\n  }\n  header{\n    height:55px;\n    color:#fff;\n    width: 100%;\n    position: fixed;\n    top:0;\n    z-index: 10;\n    background: rgba(0, 0, 0, 0.2);\n    border-bottom: 1px solid #333;\n  }\n  .inner{\n    display: flex;\n    justify-content: space-between;\n    margin:auto;\n  }\n  header h1{\n    color: #fff;\n    font-size: 20px;\n    line-height: 55px;\n  }\n  .lg-title{\n    display: block;\n  }\n  .sm-title{\n    display: none;\n  }\n  .logo{\n    border: 0 none;\n    margin: 10px;\n    width: 35px;\n  }\n  .left-menu{\n    width:200px;\n    height: calc(100% - 110px);\n    border-right:1px solid #333;\n    position:absolute;\n    top:55px;\n    z-index: 999;\n    background: rgba(0,0,0,.2);\n    transition: all .3s;\n    transform: translate3d(0,0,0);\n  }\n  .left-menu-list{\n    height: 100%;\n    overflow: auto;\n  }\n  .left-menu.max{\n    transform: translate3d(-200px,0,0);\n  }\n  .left-menu .handler{\n    position: absolute;\n    top: 10px;\n    right: -25px;\n    width: 25px;\n    height: 25px;\n    border: 1px solid #333;\n    box-sizing: border-box;\n    padding: 3px 3px 2px;\n    cursor: pointer;\n    color:rgba(255,255,255,.8);\n    background: rgba(0,0,0,.5);\n  }\n  .left-menu.max .handler{\n    transform: rotate(180deg);\n  }\n  .left-menu .handler:hover{\n    color:#ffffff;\n  }\n  .left-menu li{\n    width: 100%;\n    float: left;\n    line-height: 30px;\n    padding: 5px 10px;\n    background: rgba(0,0,0,.2);\n    border-bottom: 1px solid #333;\n    color: rgba(255,255,255,.4);\n    box-sizing: border-box;\n    transition: all .3s;\n    cursor: pointer;\n  }\n  .left-menu li:hover{\n    background: rgba(255,255,255,.1);\n  }\n  .left-menu li.router-link-active{\n    color:#ddd;\n    background: rgba(255,255,255,.1);\n  }\n  .icon {\n    font-size: 24px;\n    margin-right: 10px;\n  }\n  .user-area{\n    width: 100px;\n    height: 55px;\n    line-height: 55px;\n    border-left: 1px solid #333;\n    text-align: center;\n    transition: all .3s;\n  }\n  .user-area:hover{\n    background:rgba(255,255,255,.1);\n    color:#fff;\n    cursor: pointer;\n  }\n  .user-area:hover a{\n    color:#fff;\n  }\n\n  .main{\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top:0;\n    overflow: hidden;\n    background:url('./assets/img/bg2.jpg');\n    background-size: 100% 100%;\n }\n  footer{\n    line-height:55px;\n    height:55px;\n    background: rgba(0, 0, 0, 0.2);\n    border-top: 1px solid #333;\n    color: rgba(255,255,255,.6);\n    position: fixed;\n    bottom:0;\n    width: 100%;\n    display: flex;\n    justify-content:space-around;\n  }\n  /* 设备宽度大于 320px 小于 800px */\n  @media all and (min-width:320px) and (max-width:800px) {\n    .app,appmax{\n      min-width:700px;\n      height: 100%;\n    }\n    footer{\n      display: none;\n    }\n    .lg-title{\n      display: none;\n    }\n    .sm-title{\n      display: block;\n    }\n    .left-menu{\n      height: calc(100% - 55px);\n      background: rgba(0,0,0,.5);\n    }\n    .left-menu .handler{\n\n    }\n  }\n\n  ::-webkit-scrollbar-track-piece{width:10px;background-color:rgba(0,0,0,.2);  }\n\n  ::-webkit-scrollbar{width:5px;height:6px ; }\n\n  ::-webkit-scrollbar-thumb{height:30px;background:#595b5d;cursor:pointer;}\n\n  ::-webkit-scrollbar-thumb:hover{background:#595b5d ; cursor:pointer}\n\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","/**\n * 3D地图\n * Created by zhu18.github.io on 2017/11/19.\n * @author 朱润亚 <zhu18@vip.qq.com>\n * @version beta v1.0.3\n * @module Map3D\n */\n\nimport Detector from './Detector.js'\nimport * as THREE from './three.js'\nimport * as $ from './util'\nimport Font3D from './Font3D.js'\nimport TWEEN from './tween.min.js'\nimport OrbitControls from './OrbitControls.js'\nimport Event from './Event.js'\nimport Stats from './stats.js'\nimport Area from './Map3D.Area'\nimport DataRange from './Map3D.DataRange'\nimport Mark from './Map3D.Mark'\nimport Line from './Map3D.Line'\n\n\n/**\n * 地图立体参数设置\n * @type {{amount: number, bevelThickness: number, bevelSize: number, bevelEnabled: boolean, bevelSegments: number, curveSegments: number, steps: number}}\n */\nvar extrudeOption = {\n  amount : 1,//厚度\n  bevelThickness : 1,\n  bevelSize : .2,\n  bevelEnabled : false,\n  bevelSegments : 5,\n  curveSegments :1,\n  steps : 1,\n};\n\n\n/**\n * 创建3D地图.\n * @class\n * @example\n * //配置默认值\n * let opt={\n *      name:'',                // 调试使用，window['name']为该实例对象，注意设置debugger:true启用\n *      el:document.body,       // 容器\n *      geoData:null,           // 地图geojson数据\n *      hasStats:true,          // 是否显示性能面板\n *      hasControls:true,       // 用户是否能控制视角\n *      autoRotate:false,       // 是否自动旋转视角\n *      ambientColor:0x333333,  // 环境光颜色\n *      directionalColor:0xffffff,// 平行光颜色\n *      hasLoadEffect:false,    // 是否有加载效果\n *      debugger:false,         // 调试模式\n *      cameraPosition:{x:0,y:0,z:40},// 相机位置\n *      visualMap:null,         // 直观图图例\n *      extrude:extrudeOption,  // 立体厚度参数\n *\n *      area:{\n *          data:[],            // 地图用户数据[{ name:'北京', value:, color:0xff3333 }...]\n *          // area参数默认值\n *          name:'',            // 区域名称\n *          color:0x3366ff,     // 地图颜色\n *          hoverColor:0xff9933,// 鼠标移入颜色\n *          lineColor:0xffffff, // 线颜色\n *          opacity:1,          // 地图透明度\n *          hasPhong:true,      // 是否反光材质\n *          shininess:50,       // 反光材质光滑度\n *          hoverAnimaTime:100, // 鼠标移入动画过渡时间\n *          loadEffect:false,   // 区域加载效果\n *          hasHoverHeight:true,// 鼠标移入区域升高\n *      },\n *\n *      mark:{\n *          data:[],            // 标注点数据[{ name:'XXX', coord:[11,22], value:13 }...]\n *          // mark参数默认值\n *          name:'',            // 标注名称\n *          color:0xffffff,     // 标注点颜色\n *          hoverColor:0xff9933,// 鼠标移入颜色\n *          hoverAnimaTime:100, // 鼠标移入动画过渡时间\n *          min:0.01,\n *          max:5,\n *      },\n *\n *      line:{\n *          data:[],                        //线数据[{ fromName:'', toName:'', coords:[toCoord, fromCoord] }...]\n *          // line参数默认值\n *          color:0x55eeff,                 // 颜色\n *          hoverColor:0xff9933,            // 鼠标移入颜色\n *          hoverExclusive:true,            // 鼠标移入排除其他线条\n *          hoverAnimaTime:100,             // 鼠标移入动画过渡时间\n *          spaceHeight:5,                  // 曲线空间高度\n *          hasHalo:true,                   // 是否开启光晕效果\n *          hasHaloAnimate:true,            // 是否开启光晕动画效果\n *          haloDensity:2,                  // 光点密度 值越大 越浓密，越消耗性能\n *          haloRunRate:0.01,               // 光点运动频率\n *          haloColor:0xffffff,             // 默认继承color颜色[不建议修改]\n *          haloSize:10,                    // 光晕大小\n *          decayColor:0x222222,            // 未激活线条颜色\n *      },\n *\n *      //内置对象\n *      mapObject:null,     // 地图对象\n *      areaGroup:null,     // 区域组\n *      lineGroup:null,     // 线条组\n *      markGroup:null,     // 标记组\n *      scene:null,         // 场景对象\n *      camera:null,        // 相机对象\n *      renderer:null,      // 渲染器对象\n *      stats:null,         // 性能对象\n *      controls:null,      // 控制器对象\n *      _w:0,               // 呈现宽度\n *      _h:0,               // 呈现高度\n *      __event:null,        // 事件对象\n *  }\n *\n * let map = new Map3D(opt);\n *\n * //事件注册\n *   map.addEventListener('mousedown', function (event) {\n *        let obj = event.target;\n *        if(obj.type==='Area') //type='Area|Line|Mark'\n *          obj.setColor('#ff6666', 500);\n *      });\n *\n *   map.addEventListener('mouseout', (event) => {\n *        let obj = event.target;\n *        console.log(obj.type+':out')\n *      });\n *\n *   map.addEventListener('mouseover', (event) => {\n *        let obj = event.target;\n *        console.log(obj.userData.name);\n *        //self.mapTitlePositon.left = $(window).scrollLeft() + event.clientX + 20 + 'px';\n *        //self.mapTitlePositon.top = $(window).scrollTop() + event.clientY + 20 + 'px';\n *      })\n *\n *   map.addEventListener('resize', function (event) {\n *        console.log('resize...');\n *      });\n */\nclass Map3D{\n  constructor(o){\n    if(!Detector.webgl) {\n      console.warn('不支持webgl,停止渲染.');\n      return;\n    }\n    let opt={\n      name:'',            //调试使用，window['name']为该实例对象，注意设置debugger:true启用\n      el:document.body,   //容器\n      geoData:null,       //地图geojson数据\n      hasStats:true,      //是否显示性能面板\n      hasControls:true,   //用户是否能控制视角\n      autoRotate:false,   //是否自动旋转视角\n      ambientColor:0x333333,//环境光颜色\n      directionalColor:0xffffff,//平行光颜色\n      hasLoadEffect:false,//是否有加载效果\n      debugger:false,     //调试模式\n      cameraPosition:{x:0,y:0,z:40},//相机位置\n      extrude:extrudeOption,//立体厚度参数\n\n      area:{\n        data:[],            //地图用户数据[{name:'北京',value:,color:0xff3333}...]\n        //area参数默认值\n        name:'',            // 区域名称\n        color:0x3366ff,     //地图颜色\n        hoverColor:0xff9933,//鼠标移入颜色\n        lineColor:0xffffff, //线颜色\n        opacity:1,          //地图透明度\n        hasPhong:true,      //是否反光材质\n        shininess:50,      //反光材质光滑度\n        hoverAnimaTime:300, //鼠标移入动画过渡时间\n        loadEffect:false,      //区域加载效果\n        hasHoverHeight:true,  //鼠标移入区域升高\n      },\n\n      dataRange:{\n        data:[],\n        width:1,\n        height:0.7,\n        position:{x:23,y:-8,z:1},\n        spacing:0.2,\n        text:['高','低'],\n        textColor:'#ffffff',\n        showName:false,\n        namePosition:{x:-2,y:0,z:0},\n        hoverColor:0xff9933,\n        hoverAnimaTime:100,\n        hasHoverHeight:true,  //鼠标移入区域升高\n        hasEvent:true,\n      },\n\n      mark:{\n        data:[],          //标注点数据[{name:'XXX',coord:[11,22],value:13}...]\n        // mark参数默认值\n        name:'',             // 标注名称\n        color:0xffffff,     //标注点颜色\n        hoverColor:0xff9933,//鼠标移入颜色\n        hoverAnimaTime:100, //鼠标移入动画过渡时间\n        min:0.01,\n        max:5,\n      },\n      line:{\n        data:[],        //线数据[{fromName:'',toName:'',coords:[toCoord,fromCoord]}...]\n        //line可继承参数\n        color:0x55eeff,\n        hoverColor:0xff9933,            // 鼠标移入颜色\n        hoverExclusive:true,            // 鼠标移入排除其他线条\n        hoverAnimaTime:100,             // 鼠标移入动画过渡时间\n        spaceHeight:5,                  // 曲线空间高度\n        hasHalo:true,                   // 是否开启光晕效果\n        hasHaloAnimate:true,            // 是否开启光晕动画效果\n        haloDensity:2,                  // 光点密度 值越大 越浓密，越消耗性能\n        haloRunRate:0.01,               // 光点运动频率\n        haloColor:0xffffff,             // 默认继承color颜色[不建议修改]\n        haloSize:10,                    // 光晕大小\n        decayColor:0x222222,            // 未激活线条颜色\n      },\n\n\n      //内置对象\n      mapObject:null,//地图对象\n      areaGroup:null,//区域组\n      lineGroup:null,//线条组\n      markGroup:null,//标记组\n      scene:null,//场景对象-内部调用\n      camera:null,//相机对象-内部调用\n      renderer:null,//渲染器对象-内部调用\n      stats:null,//性能对象-内部调用\n      controls:null,//控制器对象-内部调用\n      areaCount:0,\n      _w:0,\n      _h:0,\n      __event:null,//事件对象\n    }\n    $.extend(true,opt,o);\n    $.extend(true,this,opt);\n\n\n\n    if(!this.geoData)\n    {\n      console.warn('Map3D no geoData.')\n      return;\n    }\n\n    this._w=this.el.offsetWidth;\n    this._h=this.el.offsetHeight;\n    console.time('init');\n    this.init()\n    console.timeEnd('init');\n    this.initEvent()\n  }\n  /**\n   * 初始化方法\n   */\n  init(){\n    this.el.innerHTML='';\n    this.scene = new THREE.Scene({antialias:true});\n    this.camera = new THREE.PerspectiveCamera(70, this._w/this._h, 0.1, 1000);\n    this.renderer = new THREE.WebGLRenderer({alpha:true });\n    this.renderer.setPixelRatio( window.devicePixelRatio );\n    this.camera.position.set(this.cameraPosition.x, this.cameraPosition.y, this.cameraPosition.z);\n\n    this.camera.lookAt(this.scene.position);\n    this.renderer.setSize(this._w,this._h);\n    //场景雾化\n    //this.scene.fog=new THREE.FogExp2(0xaaffff,0.005)\n    this.scene.fog = new THREE.Fog(0xffffff, 0.15, 1000);\n    this.scene.add(new THREE.AmbientLight($.colorToHex(this.ambientColor)));\n    this.dirLight = new THREE.DirectionalLight($.colorToHex(this.directionalColor));\n    this.dirLight.position.set(0,50,50);\n    this.scene.add(this.dirLight);\n    this.dirLightDown = new THREE.DirectionalLight($.colorToHex(this.directionalColor));\n    this.dirLightDown.position.set(0,-50,0);\n    this.scene.add(this.dirLightDown);\n\n    this.spotLight = new THREE.SpotLight($.colorToHex(this.color));\n    this.spotLight.position.set(0,150,150);\n    this.spotLight.intensity = 0.7;\n    this.spotLight.target = this.scene;\n    this.scene.add(this.spotLight);\n\n    //创建地图区域添加到 mapObject\n    this.mapObject = new THREE.Group();\n\n    this.initControls()\n    this.initDebug();\n\n    console.time('initArea');\n    //初始化区域\n    this.initArea();\n    console.timeEnd('initArea');\n\n    console.time('initMark');\n    //初始化标注点\n    this.initMark();\n    console.timeEnd('initMark');\n\n    console.time('initLine');\n    //初始化线条\n    this.initLine();\n    console.timeEnd('initLine');\n\n    console.time('inintDataRange');\n    //初始化数据等级范围\n    this.inintDataRange();\n    console.timeEnd('inintDataRange');\n\n    //根据数据中心位置偏移\n    if(this.geoData.cp){\n      this.mapObject.position.set(-this.geoData.cp[0],-this.geoData.cp[1],0);\n    }\n    this.scene.add(this.mapObject);\n    this.scene.add(this.camera);\n    this.el.appendChild(this.renderer.domElement);\n    this.renderScene();\n  }\n  /**\n   * 地图区域初始化方法\n   * @param {json} areaOpt - 区域配置\n   */\n  initArea(areaOpt){\n    Object.assign(this.area,areaOpt);\n    Area.count=0;\n    if(this.areaGroup)\n    {\n      this.areaGroup.remove(...this.areaGroup.children);\n    }\n    this.areaGroup = new THREE.Group();\n    this.geoData.features.forEach((item)=>{\n      //地图属性 & 用户属性合并\n      let itemUserData = this.area.data.find(val=> val.name===item.properties.name );\n      Object.assign(item.properties,itemUserData);\n      this.createArea(item);\n    })\n    this.mapObject.add(this.areaGroup);\n  }\n\n  inintDataRange(dataRangeOpt){\n    Object.assign(this.dataRange,dataRangeOpt);\n    //继承map立体高度\n    let dataRangeOptClone = Object.assign({extrudeHeight:this.extrude.amount/2},this.dataRange);\n    delete dataRangeOptClone.data;\n    if(this.dataRangeGroup){\n      this.dataRangeGroup.remove(...this.dataRangeGroup.children);\n    }\n    DataRange.count=0;\n\n    this.dataRangeGroup  = new THREE.Group();\n\n    this.dataRange.data.forEach((userData)=>{\n      let opt=Object.assign({},dataRangeOptClone,userData);\n      //数据范围创建\n      let range = new DataRange(opt);\n      //区域与范围关联\n      range.rangeAreas=[];\n      this.dataRangeGroup.add(range);\n\n      //根据范围调整区域颜色显示\n      let min = typeof userData.min==='undefined'?-999999999999:userData.min;\n      let max = typeof userData.max==='undefined'?999999999999:userData.max;\n      let tempArea=null;\n      //区域与范围关联\n      this.area.data.forEach((area)=>{\n        if(typeof area.value !== 'undefined'){\n          if(min<area.value && area.value < max)\n          {\n            tempArea=this.getArea(area.name);\n            if(tempArea)\n            {\n              range.rangeAreas.push(tempArea);\n              tempArea.setColor(userData.color)\n            }\n          }\n        }\n\n      })\n    })\n\n    //txt 设置\n    if(this.dataRange.data.length>0)\n    {\n      if(this.dataRange.text[0]){\n        let txt=Font3D.create(this.dataRange.text[0],{color:this.dataRange.textColor})\n        txt.position.add({x:0,y:1,z:0})\n        this.dataRangeGroup.add(txt);\n      }\n      if(this.dataRange.text[1]){\n        let txt=Font3D.create(this.dataRange.text[1],{color:this.dataRange.textColor})\n        txt.position.add({x:0,y:-(this.dataRange.height+DataRange.count * (this.dataRange.height + this.dataRange.spacing)),z:0})\n        this.dataRangeGroup.add(txt);\n      }\n    }\n\n    //调整整体位置\n    this.dataRangeGroup.position.add(this.dataRange.position);\n    this.scene.add(this.dataRangeGroup);\n  }\n  /**\n   * 标注初始化方法\n   * @param markOpt - 标注配置\n   */\n  initMark(markOpt){\n    Object.assign(this.mark,markOpt);\n    //继承map立体高度\n    let markClone = Object.assign({extrudeHeight:this.extrude.amount},this.mark);\n    delete markClone.data;\n    Mark.count=0;\n    if(this.markGroup)\n    {\n      this.markGroup.remove(...this.markGroup.children);\n    }\n    this.markGroup  = new THREE.Group();\n    this.mark.data.forEach((userData)=>{\n      let opt=Object.assign({},markClone,userData);\n      let mark = new Mark(opt);\n      this.markGroup.add(mark);\n    })\n    this.mapObject.add(this.markGroup);\n  }\n\n  /**\n   * 线条初始化方法\n   * @param lineOpt - 线条配置\n   */\n  initLine(lineOpt){\n    Object.assign(this.line,lineOpt);\n    let lineClone = Object.assign({extrudeHeight:this.extrude.amount},this.line);\n    delete lineClone.data;\n    Line.count=0;\n    //重新生成所有线条\n    if(this.lineGroup)\n    {\n      this.lineGroup.remove(...this.lineGroup.children);\n    }\n    this.lineGroup  = new THREE.Group();\n    this.line.data.forEach((userData)=>{\n      let opt=Object.assign({},lineClone,userData);\n      let line = new Line(opt);\n      this.lineGroup.add(line);\n    })\n    this.mapObject.add(this.lineGroup);\n\n  }\n\n  /**\n   * 相机位置-现有位置追加\n   * @param {v3} ps - 如：{x:0,y:0,y:2}\n   * @param {number} [time] - 动画时间\n   * @param {int} [delay=0] - 延时\n   */\n  addCameraPosition(v3,time,delay,callback){\n    let v=new THREE.Vector3(v3.x,v3.y,v3.z);\n    if(typeof time ==='number'){\n      let to = this.camera.position.clone().add(v);\n      if(!callback)callback=()=>{}\n      new TWEEN.Tween(this.camera.position).to(to,time).delay(delay||0).start().onComplete(callback);\n    }\n    else\n      this.camera.position.add(v3.x,v3.y,v3.z);\n  }\n  /**\n   * 相机位置-新位置设置\n   * @param {v3} ps - 如：{x:0,y:0,y:2}\n   * @param {number} [time] - 动画时间\n   * @param {int} [delay=0] - 延时\n   */\n  setCameraPosition(v3,time,delay,easing,callback){\n    if(time && typeof time==='number')\n      $.transition(this.camera.position,v3,time,delay,easing,callback);\n    else\n      this.camera.position.set(v3.x,v3.y,v3.z);\n  }\n\n  /**\n   * 销毁地图对象\n   */\n  dispose(){\n    this.el.innerHTML='';\n    this.__event.dispose();\n  }\n  /**\n   * 禁用\n   * @param {boolean} disable - 是否禁用\n   */\n  disable(disable){\n    disable=typeof disable==='undefined'?true:disable;\n    if(disable){\n      this.el.style.pointerEvents='none';\n      this.__event.enable=!disable;\n    }\n    else\n    {\n      this.el.style.pointerEvents='';\n      this.__event.enable=!disable;\n    }\n  }\n\n  /**\n   * 初始化地图事件\n   * @private\n   */\n  initEvent(){\n    this.__event=new THREE.Event(this);\n  }\n\n  /**\n   * 初始化控制器,返回{@link https://threejs.org/docs/#examples/controls/OrbitControls|THREE.OrbitControls}\n   * @returns {THREE.OrbitControls}\n   */\n  initControls(){\n    if(!this.hasControls)return\n    this.controls = new THREE.OrbitControls(this.camera,this.renderer.domElement);\n    this.controls.userPan=false;\n    this.controls.autoRotate=this.autoRotate;\n    this.controls.userPanSpeed=1;\n    return this.controls;\n  }\n\n  /**\n   * 初始化性能监控器 - debugger:true 自动开启，返回{@link https://github.com/mrdoob/stats.js|stats}\n   * @returns {Stats}\n   */\n  initStats(){\n    this.stats = new Stats();\n    this.stats.setMode(0);//0:fps |1:ms\n    this.stats.domElement.style.position='absolute';\n    this.stats.domElement.style.top='70px';\n    this.stats.domElement.style.right='0px';\n    this.el.appendChild(this.stats.domElement);\n    return this.stats;\n  }\n\n  /**\n   * 初始化调试模式\n   * @see Map3d#initStats\n   */\n  initDebug(){\n    if(!this.debugger) return\n    if(this.name){\n      window[this.name]=this;\n    }\n    this.initStats();\n    let helper = new THREE.DirectionalLightHelper( this.dirLight, 5 );\n    this.scene.add( helper );\n    let spotLightHelper = new THREE.SpotLightHelper( this.spotLight );\n    this.scene.add( spotLightHelper );\n    let size = 300;\n    let divisions = 40;\n    let gridHelper = new THREE.GridHelper( size, divisions );\n    this.scene.add( gridHelper );\n    let axisHelper = new THREE.AxisHelper( 50 );\n    this.scene.add( axisHelper );\n\n    this.infoPlane = document.createElement('div');\n    this.infoPlane.contentEditable=true;\n    this.infoPlane.style.position='absolute';\n    this.infoPlane.style.bottom='70px';\n    this.infoPlane.style.right='10px';\n    this.infoPlane.style.padding ='5px 10px';\n    this.infoPlane.style.background ='rbga(0,0,0,.5)';\n    this.infoPlane.style.border ='1px solid #aaa';\n    this.infoPlane.style.borderRadius='5px';\n    this.infoPlane.style.color='#eee';\n    this.el.appendChild(this.infoPlane);\n  }\n  printCameraPosition(){\n    let v3=this.camera.position;\n    this.infoPlane.textContent='相机位置 {x:'+v3.x.toFixed(4)+\",y:\"+v3.y.toFixed(4)+\",z:\"+v3.z.toFixed(4)+'}';\n  }\n\n  /**\n   * 删除区域\n   * @param {string|Area} area - 要删除的区域名称或者区域对象\n   */\n  reomveArea(area){\n    if(typeof area === 'string')\n      area=this.getArea(area);\n    this.areaGroup.remove(area);\n  }\n\n  /**\n   * 删除标注\n   * @param {string|Mark} mark - 要删除的标注名称或者标注对象\n   */\n  removeMark(mark){\n    if(typeof mark === 'string')\n      mark=this.getMark(mark);\n    this.markGroup.remove(mark);\n  }\n  /**\n   * 得到地图区域\n   * @param {string} areaName - 地图区域名称\n   * @returns {Area}\n   */\n  getArea(areaName){\n    return this.areaGroup.getObjectByName(areaName);\n  }\n  /**\n   * 得到地图标注\n   * @param {string} markName - 地图标注名称\n   * @returns {Mark}\n   */\n  getMark(markName){\n    return this.markGroup.getObjectByName(areaName);\n  }\n\n  /**\n   * 通过name得到地图相关对象集合\n   * @param {string} name - 对象名称\n   * @returns {Array}\n   */\n  getObjectsByName(name){\n    let objects=[];\n    this.scene.traverse((obj)=>{\n      if(obj.name===name){\n        objects.push(obj);\n      }\n    })\n    return objects;\n  }\n\n  /**\n   * 地图呈现\n   * @protected\n   */\n  renderScene(){\n    this.renderer.clear();\n    requestAnimationFrame(this.renderScene.bind(this));\n\n    // this.pos=this.pos||0;\n    // let light = this.scene.getObjectByName('pointLight');\n    // let p = this.scene.getObjectByName('point');\n    // if(this.pos < 1){\n    //   let v3=this.curve.getPointAt(this.pos);\n    //   light.position.set(v3.x,v3.y,v3.z);\n    //   p.position.set(v3.x,v3.y,v3.z);\n    //     this.pos += 0.001\n    // }else{\n    //   this.pos = 0;\n    // }\n    this.areaGroup.children.map((area)=>{\n      if(area)\n        area.update();\n    })\n\n\n    this.lineGroup.children.map((line)=>{\n      if(line.halo)\n        line.halo.update();\n    })\n\n    this.markGroup.children.map((mark)=>{\n      mark.update();\n    })\n\n    TWEEN.update();\n\n    if(this.hasControls)\n      this.controls.update();\n\n    if(this.debugger){\n      this.stats.update();\n      this.printCameraPosition();\n    }\n\n    this.renderer.render(this.scene, this.camera);\n\n  }\n\n  /**\n   * 地图大小改变时事件\n   * @private\n   */\n  _onResize(){\n    this.dispatchEvent({ type: 'resize', el:null});\n  }\n\n  /**\n   *\n   * 鼠标移动时触发\n   * @param event\n   * @param intersects\n   * @private\n   */\n  _onMouseMove(event,intersects){\n    if ( intersects.length > 0 ) {\n      //之前选中对象ID\n      let preSelectedObjID=this.selectedObj?this.selectedObj.id:'';\n      this.selectedObj=null;\n\n      for(let i=0;i<intersects.length;i++){\n        if(intersects[i].object && intersects[i].object.type==='Mesh' && intersects[i].object.parent.type && intersects[i].object.parent.type==='Area')\n        {\n          this.selectedObj=intersects[ i ].object.parent;\n          break;\n        }\n        else if(intersects[i].object && intersects[i].object.type==='Mark')\n        {\n          this.selectedObj=intersects[ i ].object;\n          break;\n        }\n        else if(intersects[i].object && intersects[i].object.parent == this.lineGroup && intersects[i].object.type==='Line')\n        {\n          this.selectedObj=intersects[ i ].object;\n          break;\n        }\n        else if(intersects[i].object && intersects[i].object.parent && intersects[i].object.parent.type==='DataRange')\n        {\n          this.selectedObj=intersects[ i ].object.parent;\n          break;\n        }\n      }\n      /* 选中区域元素 */\n      //已选中对象\n      if(this.selectedObj)\n      {\n        //如果不是同一个对象\n        if(preSelectedObjID!=this.selectedObj.id)\n        {\n          //老对象触发mouseout\n          if(preSelectedObjID){\n            let preSelectedObj=this.scene.getObjectById(preSelectedObjID);\n            //移出区域还原\n            if(preSelectedObj)\n              preSelectedObj.onmouseout(this, event);\n          }\n          //新对象触发mouseover\n          this.selectedObj.onmouseover(this, event);\n        }\n      }\n      else{\n        //未选中对象,老对象触发mouseout\n        if(preSelectedObjID){\n          let preSelectedObj=this.scene.getObjectById(preSelectedObjID);\n          //移出区域还原\n          if(preSelectedObj)\n            preSelectedObj.onmouseout(this, event);\n        }\n      }\n\n    } else {\n      /* 没有选中任何对象，还原已选中元素 */\n      if(this.selectedObj){\n        //移出区域还原\n        this.selectedObj.onmouseout(this, event);\n      }\n      this.selectedObj=null\n    }\n  }\n\n  /**\n   * 鼠标单击触发\n   * @param event\n   * @param intersects\n   * @private\n   */\n  _onMouseDown(event,intersects){\n\n    if ( intersects.length > 0 ) {\n      let selectedObj=null;\n      for(let i=0;i<intersects.length;i++){\n        if(intersects[i].object && intersects[i].object.type=='Mesh' && intersects[i].object.parent.type && intersects[i].object.parent.type=='Area')\n        {\n          selectedObj=intersects[ i ].object.parent;\n          break;\n        }\n        else if(intersects[i].object && intersects[i].object.type==='Mark')\n        {\n          selectedObj=intersects[ i ].object;\n          break;\n        }\n        else if(intersects[i].object && intersects[i].object.parent && intersects[i].object.parent.type==='DataRange')\n        {\n          selectedObj=intersects[ i ].object.parent;\n          break;\n        }\n      }\n      if(selectedObj)\n      {\n        this.debugger && console.log(selectedObj)\n        selectedObj.onmousedown(this,event)\n      }\n    }\n  }\n  //创建地图区域块\n  //结构 parentObj:[area1,area2...]\n  /**\n   * 创建区域\n   * @param {Object} item\n   * @param {string} [item.name=''] - 区域名称\n   * @param {color} [item.color=0x3366ff] - 区域颜色\n   * @param {color} [item.hoverColor=0xff9933] - 区域鼠标选中颜色\n   * @param {number} [item.opacity=1] - 区域透明度\n   * @param {boolean} [item.hasPhong=true] - 是否反光材质\n   * @param {number} [item.shininess=50] - 反光材质光滑度\n   * @param {number} [item.hoverAnimaTime=100] - 鼠标移入动画过渡时间\n   * @param {number} [item.loadEffect=false] - 区域加载效果\n   * @param {boolean} [item.hasHoverHeight=true] - 鼠标移入区域升高\n   */\n  createArea(item){\n    // item.properties 一般有{id,name,cp,childNum,color,value,extrude}\n    // Area继承Map3D属性\n    let pros=Object.assign({\n      color:this.area.color,           //地图颜色\n      hoverColor:this.area.hoverColor, //鼠标移入颜色\n      lineColor:this.area.lineColor,   //线颜色\n      opacity:this.area.opacity,        //地图透明度\n      hasPhong:this.area.hasPhong,      //是否反光材质\n      shininess:this.area.shininess,    //反光材质光滑度\n      hoverAnimaTime:this.area.hoverAnimaTime, //鼠标移入动画过渡时间\n      extrude:this.extrude,             //立体厚度参数\n      loadEffect:this.area.loadEffect,  //加载效果\n      hasHoverHeight:this.area.hasHoverHeight    //有标注，选中区域不升高\n    },item.properties)\n\n    let coords=[];\n    if(!item.geometry)return;\n    if(item.geometry.type=='Polygon'){\n      coords.push(item.geometry.coordinates[0]);\n    }\n    else if (item.geometry.type=='MultiPolygon') {\n      for(var i=0;i<item.geometry.coordinates.length;i++){\n        coords.push(item.geometry.coordinates[i][0]);\n      }\n    }\n    pros.coords=coords;\n    let area=new Area(pros);\n    this.areaGroup.add(area);\n  }\n\n\n  \n\n\n}\n\n/**\n * 重写three自定义事件\n */\nObject.assign(THREE.EventDispatcher.prototype,{dispatchEvent: function ( event) {\n  if ( this._listeners === undefined ) return;\n  var listeners = this._listeners;\n  var listenerArray = listeners[ event.type ];\n  if ( listenerArray !== undefined ) {\n    //Object.assign(event, event.orgEvent);\n    let target=event.target;\n    //通过原始事件构造自定义事件\n    for(let a in event.orgEvent)\n      event[a] = event.orgEvent[a];\n    //覆盖原始事件目标对象\n    event.target = target||this;\n    var array = listenerArray.slice( 0 );\n    for ( var i = 0, l = array.length; i < l; i ++ ) {\n      array[ i ].call( this, event );\n    }\n  }\n}})\nObject.assign( Map3D.prototype, THREE.EventDispatcher.prototype );\n\nexport {\n  Map3D as default,\n  Area,\n  Mark,\n  Line\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/Map3D.js","<template>\n  <div class=\"wrap\" >\n    <div id=\"map\" :class=\"['map',mapActiveLevel=='china'?'map-act':'']\" ref='map'></div>\n    <div :class=\"['map1',mapActiveLevel=='province'?'map-act1':'']\">\n      <div id=\"map1\" class=\"inner-map\"  ref='map1'></div>\n      <div id=\"btn\" class=\"btn btn-colse\" @click=\"openChinaMap\">关闭</div>\n    </div>\n\n    <div id=\"\" :class=\"['map-title',isOverMap ? 'map-title-over' : '']\" :style=\"mapTitlePositon\">{{mapName}}</div>\n  </div>\n\n</template>\n\n<script>\n    import Map3D from 'assets/js/Map3D.js'\n\n    let self;\n    let map,map1;\n\n    function onmouseout(event){\n      self.isOverMap=false;\n    }\n    function onmouseover(event){\n      let area=event.target;\n      //console.log(obj._name+\"x:\"+event.clientX+\",y:\"+event.clientY);\n      self.mapName=area.userData.name;//+\":\"+(area.userData.value||0);\n      self.isOverMap=true;\n      self.mapTitlePositon.left=$(window).scrollLeft()+event.clientX+20+'px';\n      self.mapTitlePositon.top=$(window).scrollTop()+event.clientY+20+'px';\n    }\n    function onmousedown(event){\n      let area=event.target;\n      console.log(area);\n      console.log('selected:'+area.userData.name+\",id:\"+area.userData.id);\n      $.getJSON('./static/mapdata/geometryProvince/'+area.userData.id+'.json',(geoData)=> {\n        map1 = new Map3D({\n          el: self.$refs.map1,\n          geoData,\n          extrude:{\n            amount : .8,\n            bevelThickness : 1,\n            bevelSize : .2,\n            bevelEnabled : false,\n            bevelSegments : 5,\n            curveSegments :1,\n            steps : 1,\n          },\n          area:{\n            color:0x336699,\n            lineColor:0,\n            hoverColor:0xff9933,\n            shininess:20,\n\n          }\n        });\n        self.openProvMap();\n\n        map1.addEventListener( 'mouseout', onmouseout);\n        map1.addEventListener( 'mouseover',onmouseover);\n\n        map1.setCameraPosition({x:0,y:-10,z:10},500);\n\n\n\n      });\n    }\n\nexport default {\n  name: 'map3d',\n  title:'地图-地图下钻',\n\n  data () {\n    return {\n        isOverMap:false,\n        mapName:'',\n        mapTitlePositon:{\n            left:'800px',\n            top:'600px'\n        },\n        mapActiveLevel:'china' // 'province'\n    }\n  },\n    methods:{\n        openProvMap(){\n            self.mapActiveLevel='province';\n            map && map.disable()\n            map1 && map1.disable(false);\n\n\n        },\n        openChinaMap(){\n            self.mapActiveLevel='china';\n            map1 && map1.disable();\n            map && map.disable(false);\n        }\n    },\n    mounted(){\n\n        self=this;\n        $.getJSON(\"./static/mapdata/china.json\",(geoData)=>{\n//            let sc=data.features.find(item=>item.properties.name=='新疆');\n//            Object.assign(sc.properties,{color:'#ff9933',value:'2341'});\n\n            let opt={\n                el:self.$refs.map,\n                geoData,\n                area:{\n                 color:0x3366ff,\n                 lineColor:0,\n                 hoverColor:0x99aaff,\n                 shininess:300,\n                 opacity:.5,\n                 data:[\n                   // {name:'内蒙古',color:'rgb(66,140,255)',value:1155},\n                   {name:'北京',color:'#ff6666',value:155},\n                   // {name:'湖南',color:'rgb(33,255,100)',value:25,opacity:0.6}\n                 ],\n               }\n\n            }\n          map = new Map3D(opt);\n          map.initArea( {data:[\n            {name:'内蒙古',color:'rgb(66,140,255)',value:1155},\n            {name:'北京',color:'#ff6666',value:155},\n             {name:'湖南',color:'rgb(33,255,100)',value:25,opacity:0.6}\n          ],});\n          map.addEventListener( 'mousedown', onmousedown);\n          map.addEventListener( 'mouseout', onmouseout);\n          map.addEventListener( 'mouseover',onmouseover)\n\n        });\n\n\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\"  scoped>\n  @import './../../assets/css/index.sass';\n\n  .wrap{\n\n  }\n  .map{\n    width:100%;\n    height:100%;\n    position: absolute;\n    top:0px;\n    z-index: 0;\n    opacity: 0.5;\n    transition: all .3s;\n  }\n  .map1{\n    width:100%;\n    height:100%;\n    position: absolute;\n    top: 0px;\n    right:0px;\n    z-index: 0;\n    opacity: 0;\n    /*border: 1px solid #fff;*/\n    /*box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);*/\n    transition: all .3s;\n    z-index: 0;\n    border-radius: 5px;\n    background: rgba(0,0,0,.3);\n  }\n  .map-act{\n    opacity: 1;\n    z-index: 1;\n  }\n  .map-act1{\n    right:0;\n    opacity: 1;\n    z-index: 10;\n  }\n  .inner-map{\n    width:100%;\n    height:100%;\n  }\n  .map-title{\n    border-radius: 5px;\n    border:1px solid #ddd;\n    color:#eee;\n    background:rgba(0,0,0,.4);\n    position: absolute;\n    z-index: 10;\n    padding: 10px;\n    opacity: 0;\n    text-align: center;\n    transition: all .2s;\n  }\n  .map-title-over{\n    opacity: 1;\n  }\n  .btn-colse{\n    position: absolute;\n    top:170px;\n    right:100px;\n    width:60px;\n    height:30px;\n    line-height:30px;\n    cursor: pointer;\n    color:#aaa;\n    border:1px solid #aaa;\n    border-radius: 5px;\n    font-size:14px;\n    transition: all .3s;\n  }\n  .btn-colse:hover{\n    color:#fff;\n    border:1px solid #fff;\n    background:rgba(255,255,255,0.2);\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/map3d/drill.vue","<template>\n  <div class=\"wrap\" >\n    <div class=\"map\" ref='map'></div>\n    <div id=\"\" :class=\"['map-title',isOverMap ? 'map-title-over' : '']\" :style=\"mapTitlePositon\">{{mapName}}</div>\n  </div>\n\n</template>\n\n<script>\n    import Map3D from 'assets/js/Map3D.js'\n\n\nexport default {\n  name: 'map3d',\n  title:'地图-世界',\n\n  data () {\n    return {\n        isOverMap:false,\n        mapName:'',\n        mapTitlePositon:{\n            left:'800px',\n            top:'600px'\n        },\n    }\n  },\n    methods:{\n\n    },\n    mounted(){\n        self=this;\n\n        $.getJSON(\"./static/mapdata/world.json\",(geoData)=>{\n            let opt={\n                name:'map1',\n                el:self.$refs.map,\n                geoData,\n               // debugger:true,\n                area:{\n                  color:0x25313d,//0x99ee33,\n                  lineColor:0x7093ab,\n                  hoverColor:0x33ff99,\n                  hasHoverHeight:true,\n                  data:[\n                    {name:'China',color:'#55677a',value:15}\n                  ]\n                },\n              line:{\n                data:[],\n              }\n\n            }\n\n          geoData.features.forEach((i)=>{\n            //opt.area.data.push({name:i.properties.name,color:Math.random()*0x99ee33})\n            //线数据\n\n            opt.line.data.push({fromName:i.properties.name,\n              toName:'',\n              haloDensity:1000,\n              hasHaloAnimate:false,\n              spaceHeight:Math.random() * 30,\n              color:0x57d2ff,\n              haloSize:Math.random() * 5,\n              coords:[i.properties.cp,i.properties.cp],//[116.4551,40.2539]\n              value:Math.random()*7});\n          })\n\n            let map = new Map3D(opt);\n            map.setCameraPosition({x:0,y:-200,z:0});\n            map.setCameraPosition({x:0,y:0,z:150},1000,500)\n\n          map.addEventListener( 'mousedown', function (event) {\n            let area = event.target;\n            let data=[];\n            let lineColor = Math.random() * 0xffffff;\n            geoData.features.forEach((i)=>{\n              //线数据\n              data.push({\n                fromName:i.properties.name,\n                toName:area.name,\n                haloDensity:2,\n                hasHalo:false,\n                spaceHeight:30,\n                color:lineColor,\n                haloSize:Math.random() * 10,\n                coords:[i.properties.cp,area.userData.cp],\n                value:Math.random()*1});\n\n            })\n\n\n            map.initLine({data});\n          });\n\n          map.addEventListener( 'mouseout',(event)=>{\n            self.isOverMap=false;\n          });\n\n          map.addEventListener( 'mouseover',(event)=>{\n            let obj = event.target;\n            switch(obj.type)\n            {\n              case 'Line':\n                self.mapName = obj.userData.fromName +'-'+obj.userData.toName;\n                break;\n              case 'Mark':\n                break;\n              case 'DataRange':\n                self.mapName = obj.userData.name +':'+(obj.userData.min||'')+'-'+(obj.userData.max||'');\n                break;\n              case 'Area':\n                self.mapName = obj.userData.name\n                break;\n              default:\n                self.mapName = obj.userData.name\n                break;\n            }\n\n            self.isOverMap=true;\n            self.mapTitlePositon.left=$(window).scrollLeft()+event.clientX+20+'px';\n            self.mapTitlePositon.top=$(window).scrollTop()+event.clientY+20+'px';\n\n          })\n\n          map.addEventListener( 'resize', function ( event ) {\n            console.log('map resize...');\n\n          } );\n        });\n\n\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\"  scoped>\n  @import './../../assets/css/index.sass';\n\n  .wrap{\n    background:#000;\n  }\n  .map{\n    width:100%;\n    height:100%;\n  }\n\n  .map-title{\n    border-radius: 5px;\n    border:1px solid #ddd;\n    color:#eee;\n    background:rgba(0,0,0,.4);\n    position: absolute;\n    z-index: 2;\n    padding:10px;\n    opacity: 0;\n\n    text-align: center;\n    transition: all .2s;\n  }\n  .map-title-over{\n    opacity: 1;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/map3d/world.vue"],"sourceRoot":""}